{"Headers":{"Last-Modified":"Wed, 17 Apr 2024 12:52:18 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLw0KIWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiOyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUuZG9jdW1lbnQ/dChlLCEwKTpmdW5jdGlvbihlKXtpZighZS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gdChlKX06dChlKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oQyxlKXsidXNlIHN0cmljdCI7dmFyIHQ9W10scj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yscz10LnNsaWNlLGc9dC5mbGF0P2Z1bmN0aW9uKGUpe3JldHVybiB0LmZsYXQuY2FsbChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29uY2F0LmFwcGx5KFtdLGUpfSx1PXQucHVzaCxpPXQuaW5kZXhPZixuPXt9LG89bi50b1N0cmluZyx2PW4uaGFzT3duUHJvcGVydHksYT12LnRvU3RyaW5nLGw9YS5jYWxsKE9iamVjdCkseT17fSxtPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYibnVtYmVyIiE9dHlwZW9mIGUubm9kZVR5cGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlLml0ZW19LHg9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30sRT1DLmRvY3VtZW50LGM9e3R5cGU6ITAsc3JjOiEwLG5vbmNlOiEwLG5vTW9kdWxlOiEwfTtmdW5jdGlvbiBiKGUsdCxuKXt2YXIgcixpLG89KG49bnx8RSkuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aWYoby50ZXh0PWUsdClmb3IociBpbiBjKShpPXRbcl18fHQuZ2V0QXR0cmlidXRlJiZ0LmdldEF0dHJpYnV0ZShyKSkmJm8uc2V0QXR0cmlidXRlKHIsaSk7bi5oZWFkLmFwcGVuZENoaWxkKG8pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gbnVsbD09ZT9lKyIiOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/bltvLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX12YXIgZj0iMy42LjAiLFM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFMuZm4uaW5pdChlLHQpfTtmdW5jdGlvbiBwKGUpe3ZhciB0PSEhZSYmImxlbmd0aCJpbiBlJiZlLmxlbmd0aCxuPXcoZSk7cmV0dXJuIW0oZSkmJiF4KGUpJiYoImFycmF5Ij09PW58fDA9PT10fHwibnVtYmVyIj09dHlwZW9mIHQmJjA8dCYmdC0xIGluIGUpfVMuZm49Uy5wcm90b3R5cGU9e2pxdWVyeTpmLGNvbnN0cnVjdG9yOlMsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBzLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9zLmNhbGwodGhpcyk6ZTwwP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PVMubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBTLmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLm1hcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQsZSl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHMuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXZlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLmdyZXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybih0KzEpJTJ9KSl9LG9kZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLmdyZXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybiB0JTJ9KSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKGU8MD90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjaygwPD1uJiZuPHQ/W3RoaXNbbl1dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOnUsc29ydDp0LnNvcnQsc3BsaWNlOnQuc3BsaWNlfSxTLmV4dGVuZD1TLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxhPWFyZ3VtZW50c1swXXx8e30scz0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBhJiYobD1hLGE9YXJndW1lbnRzW3NdfHx7fSxzKyspLCJvYmplY3QiPT10eXBlb2YgYXx8bShhKXx8KGE9e30pLHM9PT11JiYoYT10aGlzLHMtLSk7czx1O3MrKylpZihudWxsIT0oZT1hcmd1bWVudHNbc10pKWZvcih0IGluIGUpcj1lW3RdLCJfX3Byb3RvX18iIT09dCYmYSE9PXImJihsJiZyJiYoUy5pc1BsYWluT2JqZWN0KHIpfHwoaT1BcnJheS5pc0FycmF5KHIpKSk/KG49YVt0XSxvPWkmJiFBcnJheS5pc0FycmF5KG4pP1tdOml8fFMuaXNQbGFpbk9iamVjdChuKT9uOnt9LGk9ITEsYVt0XT1TLmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihhW3RdPXIpKTtyZXR1cm4gYX0sUy5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKGYrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4hKCFlfHwiW29iamVjdCBPYmplY3RdIiE9PW8uY2FsbChlKSkmJighKHQ9cihlKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihuPXYuY2FsbCh0LCJjb25zdHJ1Y3RvciIpJiZ0LmNvbnN0cnVjdG9yKSYmYS5jYWxsKG4pPT09bCl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH0sZ2xvYmFsRXZhbDpmdW5jdGlvbihlLHQsbil7YihlLHtub25jZTp0JiZ0Lm5vbmNlfSxuKX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihwKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKHAoT2JqZWN0KGUpKT9TLm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTp1LmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6aS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxvPWUubGVuZ3RoLGE9IW47aTxvO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLGE9W107aWYocChlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtyZXR1cm4gZyhhKX0sZ3VpZDoxLHN1cHBvcnQ6eX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihTLmZuW1N5bWJvbC5pdGVyYXRvcl09dFtTeW1ib2wuaXRlcmF0b3JdKSxTLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7blsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgZD1mdW5jdGlvbihuKXt2YXIgZSxkLGIsbyxpLGgsZixnLHcsdSxsLFQsQyxhLEUsdixzLGMseSxTPSJzaXp6bGUiKzEqbmV3IERhdGUscD1uLmRvY3VtZW50LGs9MCxyPTAsbT11ZSgpLHg9dWUoKSxBPXVlKCksTj11ZSgpLGo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihsPSEwKSwwfSxEPXt9Lmhhc093blByb3BlcnR5LHQ9W10scT10LnBvcCxMPXQucHVzaCxIPXQucHVzaCxPPXQuc2xpY2UsUD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sUj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLEk9Iig/OlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitNKyI/fFxcXFxbXlxcclxcblxcZl18W1xcdy1dfFteXDAtXFx4N2ZdKSsiLFc9IlxcWyIrTSsiKigiK0krIikoPzoiK00rIiooWypeJHwhfl0/PSkiK00rIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitJKyIpKXwpIitNKyIqXFxdIixGPSI6KCIrSSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrVysiKSopfC4qKVxcKXwpIixCPW5ldyBSZWdFeHAoTSsiKyIsImciKSwkPW5ldyBSZWdFeHAoIl4iK00rIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTSsiKyQiLCJnIiksXz1uZXcgUmVnRXhwKCJeIitNKyIqLCIrTSsiKiIpLHo9bmV3IFJlZ0V4cCgiXiIrTSsiKihbPit+XXwiK00rIikiK00rIioiKSxVPW5ldyBSZWdFeHAoTSsifD4iKSxYPW5ldyBSZWdFeHAoRiksVj1uZXcgUmVnRXhwKCJeIitJKyIkIiksRz17SUQ6bmV3IFJlZ0V4cCgiXiMoIitJKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK0krIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK0krInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitXKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrRiksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitNKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitNKyIqKD86KFsrLV18KSIrTSsiKihcXGQrKXwpKSIrTSsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrUisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK00rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTSsiKigoPzotXFxkKT9cXGQqKSIrTSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWT0vSFRNTCQvaSxRPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksSj0vXmhcZCQvaSxLPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxaPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sZWU9L1srfl0vLHRlPW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitNKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxuZT1mdW5jdGlvbihlLHQpe3ZhciBuPSIweCIrZS5zbGljZSgxKS02NTUzNjtyZXR1cm4gdHx8KG48MD9TdHJpbmcuZnJvbUNoYXJDb2RlKG4rNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUobj4+MTB8NTUyOTYsMTAyMyZufDU2MzIwKSl9LHJlPS8oW1wwLVx4MWZceDdmXXxeLT9cZCl8Xi0kfFteXDAtXHgxZlx4N2YtXHVGRkZGXHctXS9nLGllPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/IlwwIj09PWU/Ilx1ZmZmZCI6ZS5zbGljZSgwLC0xKSsiXFwiK2UuY2hhckNvZGVBdChlLmxlbmd0aC0xKS50b1N0cmluZygxNikrIiAiOiJcXCIrZX0sb2U9ZnVuY3Rpb24oKXtUKCl9LGFlPWJlKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmImZpZWxkc2V0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKX0se2RpcjoicGFyZW50Tm9kZSIsbmV4dDoibGVnZW5kIn0pO3RyeXtILmFwcGx5KHQ9Ty5jYWxsKHAuY2hpbGROb2RlcykscC5jaGlsZE5vZGVzKSx0W3AuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe0g9e2FwcGx5OnQubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7TC5hcHBseShlLE8uY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sZW5ndGgscj0wO3doaWxlKGVbbisrXT10W3IrK10pO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIHNlKHQsZSxuLHIpe3ZhciBpLG8sYSxzLHUsbCxjLGY9ZSYmZS5vd25lckRvY3VtZW50LHA9ZT9lLm5vZGVUeXBlOjk7aWYobj1ufHxbXSwic3RyaW5nIiE9dHlwZW9mIHR8fCF0fHwxIT09cCYmOSE9PXAmJjExIT09cClyZXR1cm4gbjtpZighciYmKFQoZSksZT1lfHxDLEUpKXtpZigxMSE9PXAmJih1PVouZXhlYyh0KSkpaWYoaT11WzFdKXtpZig5PT09cCl7aWYoIShhPWUuZ2V0RWxlbWVudEJ5SWQoaSkpKXJldHVybiBuO2lmKGEuaWQ9PT1pKXJldHVybiBuLnB1c2goYSksbn1lbHNlIGlmKGYmJihhPWYuZ2V0RWxlbWVudEJ5SWQoaSkpJiZ5KGUsYSkmJmEuaWQ9PT1pKXJldHVybiBuLnB1c2goYSksbn1lbHNle2lmKHVbMl0pcmV0dXJuIEguYXBwbHkobixlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpKSxuO2lmKChpPXVbM10pJiZkLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpKSksbn1pZihkLnFzYSYmIU5bdCsiICJdJiYoIXZ8fCF2LnRlc3QodCkpJiYoMSE9PXB8fCJvYmplY3QiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYoYz10LGY9ZSwxPT09cCYmKFUudGVzdCh0KXx8ei50ZXN0KHQpKSl7KGY9ZWUudGVzdCh0KSYmeWUoZS5wYXJlbnROb2RlKXx8ZSk9PT1lJiZkLnNjb3BlfHwoKHM9ZS5nZXRBdHRyaWJ1dGUoImlkIikpP3M9cy5yZXBsYWNlKHJlLGllKTplLnNldEF0dHJpYnV0ZSgiaWQiLHM9UykpLG89KGw9aCh0KSkubGVuZ3RoO3doaWxlKG8tLSlsW29dPShzPyIjIitzOiI6c2NvcGUiKSsiICIreGUobFtvXSk7Yz1sLmpvaW4oIiwiKX10cnl7cmV0dXJuIEguYXBwbHkobixmLnF1ZXJ5U2VsZWN0b3JBbGwoYykpLG59Y2F0Y2goZSl7Tih0LCEwKX1maW5hbGx5e3M9PT1TJiZlLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBnKHQucmVwbGFjZSgkLCIkMSIpLGUsbixyKX1mdW5jdGlvbiB1ZSgpe3ZhciByPVtdO3JldHVybiBmdW5jdGlvbiBlKHQsbil7cmV0dXJuIHIucHVzaCh0KyIgIik+Yi5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbci5zaGlmdCgpXSxlW3QrIiAiXT1ufX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gZVtTXT0hMCxlfWZ1bmN0aW9uIGNlKGUpe3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBmZShlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxyPW4ubGVuZ3RoO3doaWxlKHItLSliLmF0dHJIYW5kbGVbbltyXV09dH1mdW5jdGlvbiBwZShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJmUuc291cmNlSW5kZXgtdC5zb3VyY2VJbmRleDtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmUudHlwZT09PXR9fWZ1bmN0aW9uIGhlKG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT10fHwiYnV0dG9uIj09PXQpJiZlLnR5cGU9PT1ufX1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImZvcm0iaW4gZT9lLnBhcmVudE5vZGUmJiExPT09ZS5kaXNhYmxlZD8ibGFiZWwiaW4gZT8ibGFiZWwiaW4gZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5kaXNhYmxlZD09PXQ6ZS5kaXNhYmxlZD09PXQ6ZS5pc0Rpc2FibGVkPT09dHx8ZS5pc0Rpc2FibGVkIT09IXQmJmFlKGUpPT09dDplLmRpc2FibGVkPT09dDoibGFiZWwiaW4gZSYmZS5kaXNhYmxlZD09PXR9fWZ1bmN0aW9uIHZlKGEpe3JldHVybiBsZShmdW5jdGlvbihvKXtyZXR1cm4gbz0rbyxsZShmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShbXSxlLmxlbmd0aCxvKSxpPXIubGVuZ3RoO3doaWxlKGktLSllW249cltpXV0mJihlW25dPSEodFtuXT1lW25dKSl9KX0pfWZ1bmN0aW9uIHllKGUpe3JldHVybiBlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9Zm9yKGUgaW4gZD1zZS5zdXBwb3J0PXt9LGk9c2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5uYW1lc3BhY2VVUkksbj1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIVkudGVzdCh0fHxuJiZuLm5vZGVOYW1lfHwiSFRNTCIpfSxUPXNlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lP2Uub3duZXJEb2N1bWVudHx8ZTpwO3JldHVybiByIT1DJiY5PT09ci5ub2RlVHlwZSYmci5kb2N1bWVudEVsZW1lbnQmJihhPShDPXIpLmRvY3VtZW50RWxlbWVudCxFPSFpKEMpLHAhPUMmJihuPUMuZGVmYXVsdFZpZXcpJiZuLnRvcCE9PW4mJihuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLG9lLCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsb2UpKSxkLnNjb3BlPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGVuZENoaWxkKGUpLmFwcGVuZENoaWxkKEMuY3JlYXRlRWxlbWVudCgiZGl2IikpLCJ1bmRlZmluZWQiIT10eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsJiYhZS5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSksZC5hdHRyaWJ1dGVzPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT0iaSIsIWUuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLGQuZ2V0RWxlbWVudHNCeVRhZ05hbWU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQoQy5jcmVhdGVDb21tZW50KCIiKSksIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KSxkLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9Sy50ZXN0KEMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksZC5nZXRCeUlkPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGVuZENoaWxkKGUpLmlkPVMsIUMuZ2V0RWxlbWVudHNCeU5hbWV8fCFDLmdldEVsZW1lbnRzQnlOYW1lKFMpLmxlbmd0aH0pLGQuZ2V0QnlJZD8oYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmRSl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciBuPWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIHQmJnQudmFsdWU9PT1ufX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbixyLGksbz10LmdldEVsZW1lbnRCeUlkKGUpO2lmKG8pe2lmKChuPW8uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJm4udmFsdWU9PT1lKXJldHVybltvXTtpPXQuZ2V0RWxlbWVudHNCeU5hbWUoZSkscj0wO3doaWxlKG89aVtyKytdKWlmKChuPW8uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJm4udmFsdWU9PT1lKXJldHVybltvXX1yZXR1cm5bXX19KSxiLmZpbmQuVEFHPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTpkLnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6dm9pZCAwfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiI9PT1lKXt3aGlsZShuPW9baSsrXSkxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxiLmZpbmQuQ0xBU1M9ZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZFKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSl9LHM9W10sdj1bXSwoZC5xc2E9Sy50ZXN0KEMucXVlcnlTZWxlY3RvckFsbCkpJiYoY2UoZnVuY3Rpb24oZSl7dmFyIHQ7YS5hcHBlbmRDaGlsZChlKS5pbm5lckhUTUw9IjxhIGlkPSciK1MrIic+PC9hPjxzZWxlY3QgaWQ9JyIrUysiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZ2LnB1c2goIlsqXiRdPSIrTSsiKig/OicnfFwiXCIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHx2LnB1c2goIlxcWyIrTSsiKig/OnZhbHVlfCIrUisiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK1MrIi1dIikubGVuZ3RofHx2LnB1c2goIn49IiksKHQ9Qy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKSxlLmFwcGVuZENoaWxkKHQpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHx2LnB1c2goIlxcWyIrTSsiKm5hbWUiK00rIio9IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHx2LnB1c2goIjpjaGVja2VkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrUysiKyoiKS5sZW5ndGh8fHYucHVzaCgiLiMuK1srfl0iKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKSx2LnB1c2goIltcXHJcXG5cXGZdIil9KSxjZShmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+Ijt2YXIgdD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZ2LnB1c2goIm5hbWUiK00rIipbKl4kfCF+XT89IiksMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGgmJnYucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLmFwcGVuZENoaWxkKGUpLmRpc2FibGVkPSEwLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjpkaXNhYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGUucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHYucHVzaCgiLC4qOiIpfSkpLChkLm1hdGNoZXNTZWxlY3Rvcj1LLnRlc3QoYz1hLm1hdGNoZXN8fGEud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxhLm1vek1hdGNoZXNTZWxlY3Rvcnx8YS5vTWF0Y2hlc1NlbGVjdG9yfHxhLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmNlKGZ1bmN0aW9uKGUpe2QuZGlzY29ubmVjdGVkTWF0Y2g9Yy5jYWxsKGUsIioiKSxjLmNhbGwoZSwiW3MhPScnXTp4Iikscy5wdXNoKCIhPSIsRil9KSx2PXYubGVuZ3RoJiZuZXcgUmVnRXhwKHYuam9pbigifCIpKSxzPXMubGVuZ3RoJiZuZXcgUmVnRXhwKHMuam9pbigifCIpKSx0PUsudGVzdChhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx5PXR8fEsudGVzdChhLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LGo9dD9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBsPSEwLDA7dmFyIG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIG58fCgxJihuPShlLm93bmVyRG9jdW1lbnR8fGUpPT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhZC5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1uP2U9PUN8fGUub3duZXJEb2N1bWVudD09cCYmeShwLGUpPy0xOnQ9PUN8fHQub3duZXJEb2N1bWVudD09cCYmeShwLHQpPzE6dT9QKHUsZSktUCh1LHQpOjA6NCZuPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBsPSEwLDA7dmFyIG4scj0wLGk9ZS5wYXJlbnROb2RlLG89dC5wYXJlbnROb2RlLGE9W2VdLHM9W3RdO2lmKCFpfHwhbylyZXR1cm4gZT09Qz8tMTp0PT1DPzE6aT8tMTpvPzE6dT9QKHUsZSktUCh1LHQpOjA7aWYoaT09PW8pcmV0dXJuIHBlKGUsdCk7bj1lO3doaWxlKG49bi5wYXJlbnROb2RlKWEudW5zaGlmdChuKTtuPXQ7d2hpbGUobj1uLnBhcmVudE5vZGUpcy51bnNoaWZ0KG4pO3doaWxlKGFbcl09PT1zW3JdKXIrKztyZXR1cm4gcj9wZShhW3JdLHNbcl0pOmFbcl09PXA/LTE6c1tyXT09cD8xOjB9KSxDfSxzZS5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHNlKGUsbnVsbCxudWxsLHQpfSxzZS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtpZihUKGUpLGQubWF0Y2hlc1NlbGVjdG9yJiZFJiYhTlt0KyIgIl0mJighc3x8IXMudGVzdCh0KSkmJighdnx8IXYudGVzdCh0KSkpdHJ5e3ZhciBuPWMuY2FsbChlLHQpO2lmKG58fGQuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChlKXtOKHQsITApfXJldHVybiAwPHNlKHQsQyxudWxsLFtlXSkubGVuZ3RofSxzZS5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT1DJiZUKGUpLHkoZSx0KX0sc2UuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT1DJiZUKGUpO3ZhciBuPWIuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLHI9biYmRC5jYWxsKGIuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP24oZSx0LCFFKTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PXI/cjpkLmF0dHJpYnV0ZXN8fCFFP2UuZ2V0QXR0cmlidXRlKHQpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0sc2UuZXNjYXBlPWZ1bmN0aW9uKGUpe3JldHVybihlKyIiKS5yZXBsYWNlKHJlLGllKX0sc2UuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2UpfSxzZS51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LG49W10scj0wLGk9MDtpZihsPSFkLmRldGVjdER1cGxpY2F0ZXMsdT0hZC5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydChqKSxsKXt3aGlsZSh0PWVbaSsrXSl0PT09ZVtpXSYmKHI9bi5wdXNoKGkpKTt3aGlsZShyLS0pZS5zcGxpY2UobltyXSwxKX1yZXR1cm4gdT1udWxsLGV9LG89c2UuZ2V0VGV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPSIiLHI9MCxpPWUubm9kZVR5cGU7aWYoaSl7aWYoMT09PWl8fDk9PT1pfHwxMT09PWkpe2lmKCJzdHJpbmciPT10eXBlb2YgZS50ZXh0Q29udGVudClyZXR1cm4gZS50ZXh0Q29udGVudDtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpbis9byhlKX1lbHNlIGlmKDM9PT1pfHw0PT09aSlyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSB3aGlsZSh0PWVbcisrXSluKz1vKHQpO3JldHVybiBufSwoYj1zZS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpsZSxtYXRjaDpHLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2UodGUsbmUpLGVbM109KGVbM118fGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKHRlLG5lKSwifj0iPT09ZVsyXSYmKGVbM109IiAiK2VbM10rIiAiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8c2UuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooImV2ZW4iPT09ZVszXXx8Im9kZCI9PT1lWzNdKSksZVs1XT0rKGVbN10rZVs4XXx8Im9kZCI9PT1lWzNdKSk6ZVszXSYmc2UuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIEcuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8IiI6biYmWC50ZXN0KG4pJiYodD1oKG4sITApKSYmKHQ9bi5pbmRleE9mKCIpIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9bVtlKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrTSsiKSIrZSsiKCIrTSsifCQpIikpJiZtKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9c2UuYXR0cihlLG4pO3JldHVybiBudWxsPT10PyIhPSI9PT1yOiFyfHwodCs9IiIsIj0iPT09cj90PT09aToiIT0iPT09cj90IT09aToiXj0iPT09cj9pJiYwPT09dC5pbmRleE9mKGkpOiIqPSI9PT1yP2kmJi0xPHQuaW5kZXhPZihpKToiJD0iPT09cj9pJiZ0LnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT1yPy0xPCgiICIrdC5yZXBsYWNlKEIsIiAiKSsiICIpLmluZGV4T2YoaSk6Inw9Ij09PXImJih0PT09aXx8dC5zbGljZSgwLGkubGVuZ3RoKzEpPT09aSsiLSIpKX19LENISUxEOmZ1bmN0aW9uKGgsZSx0LGcsdil7dmFyIHk9Im50aCIhPT1oLnNsaWNlKDAsMyksbT0ibGFzdCIhPT1oLnNsaWNlKC00KSx4PSJvZi10eXBlIj09PWU7cmV0dXJuIDE9PT1nJiYwPT09dj9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsPXkhPT1tPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsYz1lLnBhcmVudE5vZGUsZj14JiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscD0hbiYmIXgsZD0hMTtpZihjKXtpZih5KXt3aGlsZShsKXthPWU7d2hpbGUoYT1hW2xdKWlmKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSlyZXR1cm4hMTt1PWw9Im9ubHkiPT09aCYmIXUmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYodT1bbT9jLmZpcnN0Q2hpbGQ6Yy5sYXN0Q2hpbGRdLG0mJnApe2Q9KHM9KHI9KGk9KG89KGE9YylbU118fChhW1NdPXt9KSlbYS51bmlxdWVJRF18fChvW2EudW5pcXVlSURdPXt9KSlbaF18fFtdKVswXT09PWsmJnJbMV0pJiZyWzJdLGE9cyYmYy5jaGlsZE5vZGVzW3NdO3doaWxlKGE9KytzJiZhJiZhW2xdfHwoZD1zPTApfHx1LnBvcCgpKWlmKDE9PT1hLm5vZGVUeXBlJiYrK2QmJmE9PT1lKXtpW2hdPVtrLHMsZF07YnJlYWt9fWVsc2UgaWYocCYmKGQ9cz0ocj0oaT0obz0oYT1lKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSksITE9PT1kKXdoaWxlKGE9KytzJiZhJiZhW2xdfHwoZD1zPTApfHx1LnBvcCgpKWlmKCh4P2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWY6MT09PWEubm9kZVR5cGUpJiYrK2QmJihwJiYoKGk9KG89YVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXT1bayxkXSksYT09PWUpKWJyZWFrO3JldHVybihkLT12KT09PWd8fGQlZz09MCYmMDw9ZC9nfX19LFBTRVVETzpmdW5jdGlvbihlLG8pe3ZhciB0LGE9Yi5wc2V1ZG9zW2VdfHxiLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8c2UuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gYVtTXT9hKG8pOjE8YS5sZW5ndGg/KHQ9W2UsZSwiIixvXSxiLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9sZShmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShlLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1QKGUscltpXSldPSEodFtuXT1yW2ldKX0pOmZ1bmN0aW9uKGUpe3JldHVybiBhKGUsMCx0KX0pOmF9fSxwc2V1ZG9zOntub3Q6bGUoZnVuY3Rpb24oZSl7dmFyIHI9W10saT1bXSxzPWYoZS5yZXBsYWNlKCQsIiQxIikpO3JldHVybiBzW1NdP2xlKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG89cyhlLG51bGwscixbXSksYT1lLmxlbmd0aDt3aGlsZShhLS0pKGk9b1thXSkmJihlW2FdPSEodFthXT1pKSl9KTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHJbMF09ZSxzKHIsbnVsbCxuLGkpLHJbMF09bnVsbCwhaS5wb3AoKX19KSxoYXM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAwPHNlKHQsZSkubGVuZ3RofX0pLGNvbnRhaW5zOmxlKGZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZSh0ZSxuZSksZnVuY3Rpb24oZSl7cmV0dXJuLTE8KGUudGV4dENvbnRlbnR8fG8oZSkpLmluZGV4T2YodCl9fSksbGFuZzpsZShmdW5jdGlvbihuKXtyZXR1cm4gVi50ZXN0KG58fCIiKXx8c2UuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UodGUsbmUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oZSl7dmFyIHQ7ZG97aWYodD1FP2UubGFuZzplLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8ZS5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4odD10LnRvTG93ZXJDYXNlKCkpPT09bnx8MD09PXQuaW5kZXhPZihuKyItIil9d2hpbGUoKGU9ZS5wYXJlbnROb2RlKSYmMT09PWUubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihlKXt2YXIgdD1uLmxvY2F0aW9uJiZuLmxvY2F0aW9uLmhhc2g7cmV0dXJuIHQmJnQuc2xpY2UoMSk9PT1lLmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09YX0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1DLmFjdGl2ZUVsZW1lbnQmJighQy5oYXNGb2N1c3x8Qy5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpnZSghMSksZGlzYWJsZWQ6Z2UoITApLGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYhIWUuY2hlY2tlZHx8Im9wdGlvbiI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFiLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gSi50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gUS50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PWUudHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDp2ZShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6dmUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOnZlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46dmUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6dmUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDp2ZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6dDxuP3Q6bjswPD0tLXI7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1iLnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWIucHNldWRvc1tlXT1kZShlKTtmb3IoZSBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWIucHNldWRvc1tlXT1oZShlKTtmdW5jdGlvbiBtZSgpe31mdW5jdGlvbiB4ZShlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9IiI7dDxuO3QrKylyKz1lW3RdLnZhbHVlO3JldHVybiByfWZ1bmN0aW9uIGJlKHMsZSx0KXt2YXIgdT1lLmRpcixsPWUubmV4dCxjPWx8fHUsZj10JiYicGFyZW50Tm9kZSI9PT1jLHA9cisrO3JldHVybiBlLmZpcnN0P2Z1bmN0aW9uKGUsdCxuKXt3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpcmV0dXJuIHMoZSx0LG4pO3JldHVybiExfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9W2sscF07aWYobil7d2hpbGUoZT1lW3VdKWlmKCgxPT09ZS5ub2RlVHlwZXx8ZikmJnMoZSx0LG4pKXJldHVybiEwfWVsc2Ugd2hpbGUoZT1lW3VdKWlmKDE9PT1lLm5vZGVUeXBlfHxmKWlmKGk9KG89ZVtTXXx8KGVbU109e30pKVtlLnVuaXF1ZUlEXXx8KG9bZS51bmlxdWVJRF09e30pLGwmJmw9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZT1lW3VdfHxlO2Vsc2V7aWYoKHI9aVtjXSkmJnJbMF09PT1rJiZyWzFdPT09cClyZXR1cm4gYVsyXT1yWzJdO2lmKChpW2NdPWEpWzJdPXMoZSx0LG4pKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB3ZShpKXtyZXR1cm4gMTxpLmxlbmd0aD9mdW5jdGlvbihlLHQsbil7dmFyIHI9aS5sZW5ndGg7d2hpbGUoci0tKWlmKCFpW3JdKGUsdCxuKSlyZXR1cm4hMTtyZXR1cm4hMH06aVswXX1mdW5jdGlvbiBUZShlLHQsbixyLGkpe2Zvcih2YXIgbyxhPVtdLHM9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDtzPHU7cysrKShvPWVbc10pJiYobiYmIW4obyxyLGkpfHwoYS5wdXNoKG8pLGwmJnQucHVzaChzKSkpO3JldHVybiBhfWZ1bmN0aW9uIENlKGQsaCxnLHYseSxlKXtyZXR1cm4gdiYmIXZbU10mJih2PUNlKHYpKSx5JiYheVtTXSYmKHk9Q2UoeSxlKSksbGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9W10sdT1bXSxsPXQubGVuZ3RoLGM9ZXx8ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKylzZShlLHRbcl0sbik7cmV0dXJuIG59KGh8fCIqIixuLm5vZGVUeXBlP1tuXTpuLFtdKSxmPSFkfHwhZSYmaD9jOlRlKGMscyxkLG4scikscD1nP3l8fChlP2Q6bHx8dik/W106dDpmO2lmKGcmJmcoZixwLG4sciksdil7aT1UZShwLHUpLHYoaSxbXSxuLHIpLG89aS5sZW5ndGg7d2hpbGUoby0tKShhPWlbb10pJiYocFt1W29dXT0hKGZbdVtvXV09YSkpfWlmKGUpe2lmKHl8fGQpe2lmKHkpe2k9W10sbz1wLmxlbmd0aDt3aGlsZShvLS0pKGE9cFtvXSkmJmkucHVzaChmW29dPWEpO3kobnVsbCxwPVtdLGkscil9bz1wLmxlbmd0aDt3aGlsZShvLS0pKGE9cFtvXSkmJi0xPChpPXk/UChlLGEpOnNbb10pJiYoZVtpXT0hKHRbaV09YSkpfX1lbHNlIHA9VGUocD09PXQ/cC5zcGxpY2UobCxwLmxlbmd0aCk6cCkseT95KG51bGwsdCxwLHIpOkguYXBwbHkodCxwKX0pfWZ1bmN0aW9uIEVlKGUpe2Zvcih2YXIgaSx0LG4scj1lLmxlbmd0aCxvPWIucmVsYXRpdmVbZVswXS50eXBlXSxhPW98fGIucmVsYXRpdmVbIiAiXSxzPW8/MTowLHU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pfSxhLCEwKSxsPWJlKGZ1bmN0aW9uKGUpe3JldHVybi0xPFAoaSxlKX0sYSwhMCksYz1bZnVuY3Rpb24oZSx0LG4pe3ZhciByPSFvJiYobnx8dCE9PXcpfHwoKGk9dCkubm9kZVR5cGU/dShlLHQsbik6bChlLHQsbikpO3JldHVybiBpPW51bGwscn1dO3M8cjtzKyspaWYodD1iLnJlbGF0aXZlW2Vbc10udHlwZV0pYz1bYmUod2UoYyksdCldO2Vsc2V7aWYoKHQ9Yi5maWx0ZXJbZVtzXS50eXBlXS5hcHBseShudWxsLGVbc10ubWF0Y2hlcykpW1NdKXtmb3Iobj0rK3M7bjxyO24rKylpZihiLnJlbGF0aXZlW2Vbbl0udHlwZV0pYnJlYWs7cmV0dXJuIENlKDE8cyYmd2UoYyksMTxzJiZ4ZShlLnNsaWNlKDAscy0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbcy0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKCQsIiQxIiksdCxzPG4mJkVlKGUuc2xpY2UocyxuKSksbjxyJiZFZShlPWUuc2xpY2UobikpLG48ciYmeGUoZSkpfWMucHVzaCh0KX1yZXR1cm4gd2UoYyl9cmV0dXJuIG1lLnByb3RvdHlwZT1iLmZpbHRlcnM9Yi5wc2V1ZG9zLGIuc2V0RmlsdGVycz1uZXcgbWUsaD1zZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw9eFtlKyIgIl07aWYobClyZXR1cm4gdD8wOmwuc2xpY2UoMCk7YT1lLHM9W10sdT1iLnByZUZpbHRlcjt3aGlsZShhKXtmb3IobyBpbiBuJiYhKHI9Xy5leGVjKGEpKXx8KHImJihhPWEuc2xpY2UoclswXS5sZW5ndGgpfHxhKSxzLnB1c2goaT1bXSkpLG49ITEsKHI9ei5leGVjKGEpKSYmKG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZSgkLCIgIil9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKSxiLmZpbHRlcikhKHI9R1tvXS5leGVjKGEpKXx8dVtvXSYmIShyPXVbb10ocikpfHwobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6byxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP3NlLmVycm9yKGUpOngoZSxzKS5zbGljZSgwKX0sZj1zZS5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4sdix5LG0seCxyLGk9W10sbz1bXSxhPUFbZSsiICJdO2lmKCFhKXt0fHwodD1oKGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSkoYT1FZSh0W25dKSlbU10/aS5wdXNoKGEpOm8ucHVzaChhKTsoYT1BKGUsKHY9byxtPTA8KHk9aSkubGVuZ3RoLHg9MDx2Lmxlbmd0aCxyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHU9MCxsPSIwIixjPWUmJltdLGY9W10scD13LGQ9ZXx8eCYmYi5maW5kLlRBRygiKiIsaSksaD1rKz1udWxsPT1wPzE6TWF0aC5yYW5kb20oKXx8LjEsZz1kLmxlbmd0aDtmb3IoaSYmKHc9dD09Q3x8dHx8aSk7bCE9PWcmJm51bGwhPShvPWRbbF0pO2wrKyl7aWYoeCYmbyl7YT0wLHR8fG8ub3duZXJEb2N1bWVudD09Q3x8KFQobyksbj0hRSk7d2hpbGUocz12W2ErK10paWYocyhvLHR8fEMsbikpe3IucHVzaChvKTticmVha31pJiYoaz1oKX1tJiYoKG89IXMmJm8pJiZ1LS0sZSYmYy5wdXNoKG8pKX1pZih1Kz1sLG0mJmwhPT11KXthPTA7d2hpbGUocz15W2ErK10pcyhjLGYsdCxuKTtpZihlKXtpZigwPHUpd2hpbGUobC0tKWNbbF18fGZbbF18fChmW2xdPXEuY2FsbChyKSk7Zj1UZShmKX1ILmFwcGx5KHIsZiksaSYmIWUmJjA8Zi5sZW5ndGgmJjE8dSt5Lmxlbmd0aCYmc2UudW5pcXVlU29ydChyKX1yZXR1cm4gaSYmKGs9aCx3PXApLGN9LG0/bGUocik6cikpKS5zZWxlY3Rvcj1lfXJldHVybiBhfSxnPXNlLnNlbGVjdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUsYz0hciYmaChlPWwuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWMubGVuZ3RoKXtpZigyPChvPWNbMF09Y1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGE9b1swXSkudHlwZSYmOT09PXQubm9kZVR5cGUmJkUmJmIucmVsYXRpdmVbb1sxXS50eXBlXSl7aWYoISh0PShiLmZpbmQuSUQoYS5tYXRjaGVzWzBdLnJlcGxhY2UodGUsbmUpLHQpfHxbXSlbMF0pKXJldHVybiBuO2wmJih0PXQucGFyZW50Tm9kZSksZT1lLnNsaWNlKG8uc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9Ry5uZWVkc0NvbnRleHQudGVzdChlKT8wOm8ubGVuZ3RoO3doaWxlKGktLSl7aWYoYT1vW2ldLGIucmVsYXRpdmVbcz1hLnR5cGVdKWJyZWFrO2lmKCh1PWIuZmluZFtzXSkmJihyPXUoYS5tYXRjaGVzWzBdLnJlcGxhY2UodGUsbmUpLGVlLnRlc3Qob1swXS50eXBlKSYmeWUodC5wYXJlbnROb2RlKXx8dCkpKXtpZihvLnNwbGljZShpLDEpLCEoZT1yLmxlbmd0aCYmeGUobykpKXJldHVybiBILmFwcGx5KG4sciksbjticmVha319fXJldHVybihsfHxmKGUsYykpKHIsdCwhRSxuLCF0fHxlZS50ZXN0KGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSxufSxkLnNvcnRTdGFibGU9Uy5zcGxpdCgiIikuc29ydChqKS5qb2luKCIiKT09PVMsZC5kZXRlY3REdXBsaWNhdGVzPSEhbCxUKCksZC5zb3J0RGV0YWNoZWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihDLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikpfSksY2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8ZmUoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGUsdCxuKXtpZighbilyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCwidHlwZSI9PT10LnRvTG93ZXJDYXNlKCk/MToyKX0pLGQuYXR0cmlidXRlcyYmY2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8aW5wdXQvPiIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8ZmUoInZhbHVlIixmdW5jdGlvbihlLHQsbil7aWYoIW4mJiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGUuZGVmYXVsdFZhbHVlfSksY2UoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGZlKFIsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFuKXJldHVybiEwPT09ZVt0XT90LnRvTG93ZXJDYXNlKCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksc2V9KEMpO1MuZmluZD1kLFMuZXhwcj1kLnNlbGVjdG9ycyxTLmV4cHJbIjoiXT1TLmV4cHIucHNldWRvcyxTLnVuaXF1ZVNvcnQ9Uy51bmlxdWU9ZC51bmlxdWVTb3J0LFMudGV4dD1kLmdldFRleHQsUy5pc1hNTERvYz1kLmlzWE1MLFMuY29udGFpbnM9ZC5jb250YWlucyxTLmVzY2FwZVNlbGVjdG9yPWQuZXNjYXBlO3ZhciBoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxpPXZvaWQgMCE9PW47d2hpbGUoKGU9ZVt0XSkmJjkhPT1lLm5vZGVUeXBlKWlmKDE9PT1lLm5vZGVUeXBlKXtpZihpJiZTKGUpLmlzKG4pKWJyZWFrO3IucHVzaChlKX1yZXR1cm4gcn0sVD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn0saz1TLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O2Z1bmN0aW9uIEEoZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfXZhciBOPS9ePChbYS16XVteXC9cMD46XHgyMFx0XHJcblxmXSopW1x4MjBcdFxyXG5cZl0qXC8/Pig/OjxcL1wxPnwpJC9pO2Z1bmN0aW9uIGooZSxuLHIpe3JldHVybiBtKG4pP1MuZ3JlcChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuISFuLmNhbGwoZSx0LGUpIT09cn0pOm4ubm9kZVR5cGU/Uy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1uIT09cn0pOiJzdHJpbmciIT10eXBlb2Ygbj9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4tMTxpLmNhbGwobixlKSE9PXJ9KTpTLmZpbHRlcihuLGUscil9Uy5maWx0ZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07cmV0dXJuIG4mJihlPSI6bm90KCIrZSsiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/Uy5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTpTLmZpbmQubWF0Y2hlcyhlLFMuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sUy5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMubGVuZ3RoLGk9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKFMoZSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MDt0PHI7dCsrKWlmKFMuY29udGFpbnMoaVt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3Iobj10aGlzLnB1c2hTdGFjayhbXSksdD0wO3Q8cjt0KyspUy5maW5kKGUsaVt0XSxuKTtyZXR1cm4gMTxyP1MudW5pcXVlU29ydChuKTpufSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGoodGhpcyxlfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGoodGhpcyxlfHxbXSwhMCkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIWoodGhpcywic3RyaW5nIj09dHlwZW9mIGUmJmsudGVzdChlKT9TKGUpOmV8fFtdLCExKS5sZW5ndGh9fSk7dmFyIEQscT0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSspKSQvOyhTLmZuLmluaXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoIWUpcmV0dXJuIHRoaXM7aWYobj1ufHxELCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIShyPSI8Ij09PWVbMF0mJiI+Ij09PWVbZS5sZW5ndGgtMV0mJjM8PWUubGVuZ3RoP1tudWxsLGUsbnVsbF06cS5leGVjKGUpKXx8IXJbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxuKS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChlKTtpZihyWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBTP3RbMF06dCxTLm1lcmdlKHRoaXMsUy5wYXJzZUhUTUwoclsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpFLCEwKSksTi50ZXN0KHJbMV0pJiZTLmlzUGxhaW5PYmplY3QodCkpZm9yKHIgaW4gdCltKHRoaXNbcl0pP3RoaXNbcl0odFtyXSk6dGhpcy5hdHRyKHIsdFtyXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGk9RS5nZXRFbGVtZW50QnlJZChyWzJdKSkmJih0aGlzWzBdPWksdGhpcy5sZW5ndGg9MSksdGhpc31yZXR1cm4gZS5ub2RlVHlwZT8odGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcyk6bShlKT92b2lkIDAhPT1uLnJlYWR5P24ucmVhZHkoZSk6ZShTKTpTLm1ha2VBcnJheShlLHRoaXMpfSkucHJvdG90eXBlPVMuZm4sRD1TKEUpO3ZhciBMPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEg9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07ZnVuY3Rpb24gTyhlLHQpe3doaWxlKChlPWVbdF0pJiYxIT09ZS5ub2RlVHlwZSk7cmV0dXJuIGV9Uy5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihlKXt2YXIgdD1TKGUsdGhpcyksbj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPG47ZSsrKWlmKFMuY29udGFpbnModGhpcyx0W2VdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dGhpcy5sZW5ndGgsbz1bXSxhPSJzdHJpbmciIT10eXBlb2YgZSYmUyhlKTtpZighay50ZXN0KGUpKWZvcig7cjxpO3IrKylmb3Iobj10aGlzW3JdO24mJm4hPT10O249bi5wYXJlbnROb2RlKWlmKG4ubm9kZVR5cGU8MTEmJihhPy0xPGEuaW5kZXgobik6MT09PW4ubm9kZVR5cGUmJlMuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSkpe28ucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soMTxvLmxlbmd0aD9TLnVuaXF1ZVNvcnQobyk6byl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciPT10eXBlb2YgZT9pLmNhbGwoUyhlKSx0aGlzWzBdKTppLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMudW5pcXVlU29ydChTLm1lcmdlKHRoaXMuZ2V0KCksUyhlLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KSxTLmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsInBhcmVudE5vZGUiLG4pfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBPKGUsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicHJldmlvdXNTaWJsaW5nIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIFQoKGUucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsZSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBUKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lLmNvbnRlbnREb2N1bWVudCYmcihlLmNvbnRlbnREb2N1bWVudCk/ZS5jb250ZW50RG9jdW1lbnQ6KEEoZSwidGVtcGxhdGUiKSYmKGU9ZS5jb250ZW50fHxlKSxTLm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24ocixpKXtTLmZuW3JdPWZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5tYXAodGhpcyxpLGUpO3JldHVybiJVbnRpbCIhPT1yLnNsaWNlKC01KSYmKHQ9ZSksdCYmInN0cmluZyI9PXR5cGVvZiB0JiYobj1TLmZpbHRlcih0LG4pKSwxPHRoaXMubGVuZ3RoJiYoSFtyXXx8Uy51bmlxdWVTb3J0KG4pLEwudGVzdChyKSYmbi5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKG4pfX0pO3ZhciBQPS9bXlx4MjBcdFxyXG5cZl0rL2c7ZnVuY3Rpb24gUihlKXtyZXR1cm4gZX1mdW5jdGlvbiBNKGUpe3Rocm93IGV9ZnVuY3Rpb24gSShlLHQsbixyKXt2YXIgaTt0cnl7ZSYmbShpPWUucHJvbWlzZSk/aS5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZtKGk9ZS50aGVuKT9pLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShyKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19Uy5DYWxsYmFja3M9ZnVuY3Rpb24ocil7dmFyIGUsbjtyPSJzdHJpbmciPT10eXBlb2Ygcj8oZT1yLG49e30sUy5lYWNoKGUubWF0Y2goUCl8fFtdLGZ1bmN0aW9uKGUsdCl7blt0XT0hMH0pLG4pOlMuZXh0ZW5kKHt9LHIpO3ZhciBpLHQsbyxhLHM9W10sdT1bXSxsPS0xLGM9ZnVuY3Rpb24oKXtmb3IoYT1hfHxyLm9uY2Usbz1pPSEwO3UubGVuZ3RoO2w9LTEpe3Q9dS5zaGlmdCgpO3doaWxlKCsrbDxzLmxlbmd0aCkhMT09PXNbbF0uYXBwbHkodFswXSx0WzFdKSYmci5zdG9wT25GYWxzZSYmKGw9cy5sZW5ndGgsdD0hMSl9ci5tZW1vcnl8fCh0PSExKSxpPSExLGEmJihzPXQ/W106IiIpfSxmPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKHQmJiFpJiYobD1zLmxlbmd0aC0xLHUucHVzaCh0KSksZnVuY3Rpb24gbihlKXtTLmVhY2goZSxmdW5jdGlvbihlLHQpe20odCk/ci51bmlxdWUmJmYuaGFzKHQpfHxzLnB1c2godCk6dCYmdC5sZW5ndGgmJiJzdHJpbmciIT09dyh0KSYmbih0KX0pfShhcmd1bWVudHMpLHQmJiFpJiZjKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBTLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGUsdCl7dmFyIG47d2hpbGUoLTE8KG49Uy5pbkFycmF5KHQscyxuKSkpcy5zcGxpY2UobiwxKSxuPD1sJiZsLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/LTE8Uy5pbkFycmF5KGUscyk6MDxzLmxlbmd0aH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKHM9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHM9dD0iIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFzfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT1bXSx0fHxpfHwocz10PSIiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWF9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGF8fCh0PVtlLCh0PXR8fFtdKS5zbGljZT90LnNsaWNlKCk6dF0sdS5wdXNoKHQpLGl8fGMoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBmLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhb319O3JldHVybiBmfSxTLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZSl7dmFyIG89W1sibm90aWZ5IiwicHJvZ3Jlc3MiLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSxTLkNhbGxiYWNrcygibWVtb3J5IiksMl0sWyJyZXNvbHZlIiwiZG9uZSIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMCwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLFMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDEsInJlamVjdGVkIl1dLGk9InBlbmRpbmciLGE9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBzLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gYS50aGVuKG51bGwsZSl9LHBpcGU6ZnVuY3Rpb24oKXt2YXIgaT1hcmd1bWVudHM7cmV0dXJuIFMuRGVmZXJyZWQoZnVuY3Rpb24ocil7Uy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj1tKGlbdFs0XV0pJiZpW3RbNF1dO3NbdFsxXV0oZnVuY3Rpb24oKXt2YXIgZT1uJiZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZtKGUucHJvbWlzZSk/ZS5wcm9taXNlKCkucHJvZ3Jlc3Moci5ub3RpZnkpLmRvbmUoci5yZXNvbHZlKS5mYWlsKHIucmVqZWN0KTpyW3RbMF0rIldpdGgiXSh0aGlzLG4/W2VdOmFyZ3VtZW50cyl9KX0pLGk9bnVsbH0pLnByb21pc2UoKX0sdGhlbjpmdW5jdGlvbih0LG4scil7dmFyIHU9MDtmdW5jdGlvbiBsKGksbyxhLHMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXMscj1hcmd1bWVudHMsZT1mdW5jdGlvbigpe3ZhciBlLHQ7aWYoIShpPHUpKXtpZigoZT1hLmFwcGx5KG4scikpPT09by5wcm9taXNlKCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uIik7dD1lJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkmJmUudGhlbixtKHQpP3M/dC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpKToodSsrLHQuY2FsbChlLGwodSxvLFIscyksbCh1LG8sTSxzKSxsKHUsbyxSLG8ubm90aWZ5V2l0aCkpKTooYSE9PVImJihuPXZvaWQgMCxyPVtlXSksKHN8fG8ucmVzb2x2ZVdpdGgpKG4scikpfX0sdD1zP2U6ZnVuY3Rpb24oKXt0cnl7ZSgpfWNhdGNoKGUpe1MuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmUy5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGUsdC5zdGFja1RyYWNlKSx1PD1pKzEmJihhIT09TSYmKG49dm9pZCAwLHI9W2VdKSxvLnJlamVjdFdpdGgobixyKSl9fTtpP3QoKTooUy5EZWZlcnJlZC5nZXRTdGFja0hvb2smJih0LnN0YWNrVHJhY2U9Uy5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksQy5zZXRUaW1lb3V0KHQpKX19cmV0dXJuIFMuRGVmZXJyZWQoZnVuY3Rpb24oZSl7b1swXVszXS5hZGQobCgwLGUsbShyKT9yOlIsZS5ub3RpZnlXaXRoKSksb1sxXVszXS5hZGQobCgwLGUsbSh0KT90OlIpKSxvWzJdWzNdLmFkZChsKDAsZSxtKG4pP246TSkpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP1MuZXh0ZW5kKGUsYSk6YX19LHM9e307cmV0dXJuIFMuZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIG49dFsyXSxyPXRbNV07YVt0WzFdXT1uLmFkZCxyJiZuLmFkZChmdW5jdGlvbigpe2k9cn0sb1szLWVdWzJdLmRpc2FibGUsb1szLWVdWzNdLmRpc2FibGUsb1swXVsyXS5sb2NrLG9bMF1bM10ubG9jayksbi5hZGQodFszXS5maXJlKSxzW3RbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIHNbdFswXSsiV2l0aCJdKHRoaXM9PT1zP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc30sc1t0WzBdKyJXaXRoIl09bi5maXJlV2l0aH0pLGEucHJvbWlzZShzKSxlJiZlLmNhbGwocyxzKSxzfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsdD1uLHI9QXJyYXkodCksaT1zLmNhbGwoYXJndW1lbnRzKSxvPVMuRGVmZXJyZWQoKSxhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyW3RdPXRoaXMsaVt0XT0xPGFyZ3VtZW50cy5sZW5ndGg/cy5jYWxsKGFyZ3VtZW50cyk6ZSwtLW58fG8ucmVzb2x2ZVdpdGgocixpKX19O2lmKG48PTEmJihJKGUsby5kb25lKGEodCkpLnJlc29sdmUsby5yZWplY3QsIW4pLCJwZW5kaW5nIj09PW8uc3RhdGUoKXx8bShpW3RdJiZpW3RdLnRoZW4pKSlyZXR1cm4gby50aGVuKCk7d2hpbGUodC0tKUkoaVt0XSxhKHQpLG8ucmVqZWN0KTtyZXR1cm4gby5wcm9taXNlKCl9fSk7dmFyIFc9L14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWZ1bmN0aW9uKGUsdCl7Qy5jb25zb2xlJiZDLmNvbnNvbGUud2FybiYmZSYmVy50ZXN0KGUubmFtZSkmJkMuY29uc29sZS53YXJuKCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiK2UubWVzc2FnZSxlLnN0YWNrLHQpfSxTLnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKGUpe0Muc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGV9KX07dmFyIEY9Uy5EZWZlcnJlZCgpO2Z1bmN0aW9uIEIoKXtFLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsQiksUy5yZWFkeSgpfVMuZm4ucmVhZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEYudGhlbihlKVsiY2F0Y2giXShmdW5jdGlvbihlKXtTLnJlYWR5RXhjZXB0aW9uKGUpfSksdGhpc30sUy5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEscmVhZHk6ZnVuY3Rpb24oZSl7KCEwPT09ZT8tLVMucmVhZHlXYWl0OlMuaXNSZWFkeSl8fChTLmlzUmVhZHk9ITApIT09ZSYmMDwtLVMucmVhZHlXYWl0fHxGLnJlc29sdmVXaXRoKEUsW1NdKX19KSxTLnJlYWR5LnRoZW49Ri50aGVuLCJjb21wbGV0ZSI9PT1FLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PUUucmVhZHlTdGF0ZSYmIUUuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP0Muc2V0VGltZW91dChTLnJlYWR5KTooRS5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCKSxDLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLEIpKTt2YXIgJD1mdW5jdGlvbihlLHQsbixyLGksbyxhKXt2YXIgcz0wLHU9ZS5sZW5ndGgsbD1udWxsPT1uO2lmKCJvYmplY3QiPT09dyhuKSlmb3IocyBpbiBpPSEwLG4pJChlLHQscyxuW3NdLCEwLG8sYSk7ZWxzZSBpZih2b2lkIDAhPT1yJiYoaT0hMCxtKHIpfHwoYT0hMCksbCYmKGE/KHQuY2FsbChlLHIpLHQ9bnVsbCk6KGw9dCx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbC5jYWxsKFMoZSksbil9KSksdCkpZm9yKDtzPHU7cysrKXQoZVtzXSxuLGE/cjpyLmNhbGwoZVtzXSxzLHQoZVtzXSxuKSkpO3JldHVybiBpP2U6bD90LmNhbGwoZSk6dT90KGVbMF0sbik6b30sXz0vXi1tcy0vLHo9Ly0oW2Etel0pL2c7ZnVuY3Rpb24gVShlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gWChlKXtyZXR1cm4gZS5yZXBsYWNlKF8sIm1zLSIpLnJlcGxhY2UoeixVKX12YXIgVj1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2Z1bmN0aW9uIEcoKXt0aGlzLmV4cGFuZG89Uy5leHBhbmRvK0cudWlkKyt9Ry51aWQ9MSxHLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxWKGUpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dDpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLmV4cGFuZG8se3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSkpKSx0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9dGhpcy5jYWNoZShlKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaVtYKHQpXT1uO2Vsc2UgZm9yKHIgaW4gdClpW1gocildPXRbcl07cmV0dXJuIGl9LGdldDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMuY2FjaGUoZSk6ZVt0aGlzLmV4cGFuZG9dJiZlW3RoaXMuZXhwYW5kb11bWCh0KV19LGFjY2VzczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXR8fHQmJiJzdHJpbmciPT10eXBlb2YgdCYmdm9pZCAwPT09bj90aGlzLmdldChlLHQpOih0aGlzLnNldChlLHQsbiksdm9pZCAwIT09bj9uOnQpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWVbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1yKXtpZih2b2lkIDAhPT10KXtuPSh0PUFycmF5LmlzQXJyYXkodCk/dC5tYXAoWCk6KHQ9WCh0KSlpbiByP1t0XTp0Lm1hdGNoKFApfHxbXSkubGVuZ3RoO3doaWxlKG4tLSlkZWxldGUgclt0W25dXX0odm9pZCAwPT09dHx8Uy5pc0VtcHR5T2JqZWN0KHIpKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgZVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT10JiYhUy5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIFk9bmV3IEcsUT1uZXcgRyxKPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sSz0vW0EtWl0vZztmdW5jdGlvbiBaKGUsdCxuKXt2YXIgcixpO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoSywiLSQmIikudG9Mb3dlckNhc2UoKSwic3RyaW5nIj09dHlwZW9mKG49ZS5nZXRBdHRyaWJ1dGUocikpKXt0cnl7bj0idHJ1ZSI9PT0oaT1uKXx8ImZhbHNlIiE9PWkmJigibnVsbCI9PT1pP251bGw6aT09PStpKyIiPytpOkoudGVzdChpKT9KU09OLnBhcnNlKGkpOmkpfWNhdGNoKGUpe31RLnNldChlLHQsbil9ZWxzZSBuPXZvaWQgMDtyZXR1cm4gbn1TLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gUS5oYXNEYXRhKGUpfHxZLmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBRLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtRLnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFkuYWNjZXNzKGUsdCxuKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtZLnJlbW92ZShlLHQpfX0pLFMuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sZSl7dmFyIHQscixpLG89dGhpc1swXSxhPW8mJm8uYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGk9US5nZXQobyksMT09PW8ubm9kZVR5cGUmJiFZLmdldChvLCJoYXNEYXRhQXR0cnMiKSkpe3Q9YS5sZW5ndGg7d2hpbGUodC0tKWFbdF0mJjA9PT0ocj1hW3RdLm5hbWUpLmluZGV4T2YoImRhdGEtIikmJihyPVgoci5zbGljZSg1KSksWihvLHIsaVtyXSkpO1kuc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiBpfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtRLnNldCh0aGlzLG4pfSk6JCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKG8mJnZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMCE9PSh0PVEuZ2V0KG8sbikpP3Q6dm9pZCAwIT09KHQ9WihvLG4pKT90OnZvaWQgMDt0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnNldCh0aGlzLG4sZSl9KX0sbnVsbCxlLDE8YXJndW1lbnRzLmxlbmd0aCxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7US5yZW1vdmUodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoZSlyZXR1cm4gdD0odHx8ImZ4IikrInF1ZXVlIixyPVkuZ2V0KGUsdCksbiYmKCFyfHxBcnJheS5pc0FycmF5KG4pP3I9WS5hY2Nlc3MoZSx0LFMubWFrZUFycmF5KG4pKTpyLnB1c2gobikpLHJ8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKGUsdCl7dD10fHwiZngiO3ZhciBuPVMucXVldWUoZSx0KSxyPW4ubGVuZ3RoLGk9bi5zaGlmdCgpLG89Uy5fcXVldWVIb29rcyhlLHQpOyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxmdW5jdGlvbigpe1MuZGVxdWV1ZShlLHQpfSxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrInF1ZXVlSG9va3MiO3JldHVybiBZLmdldChlLG4pfHxZLmFjY2VzcyhlLG4se2VtcHR5OlMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe1kucmVtb3ZlKGUsW3QrInF1ZXVlIixuXSl9KX0pfX0pLFMuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbih0LG4pe3ZhciBlPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9ImZ4IixlLS0pLGFyZ3VtZW50cy5sZW5ndGg8ZT9TLnF1ZXVlKHRoaXNbMF0sdCk6dm9pZCAwPT09bj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPVMucXVldWUodGhpcyx0LG4pO1MuX3F1ZXVlSG9va3ModGhpcyx0KSwiZngiPT09dCYmImlucHJvZ3Jlc3MiIT09ZVswXSYmUy5kZXF1ZXVlKHRoaXMsdCl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKHRoaXMsZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MSxpPVMuRGVmZXJyZWQoKSxvPXRoaXMsYT10aGlzLmxlbmd0aCxzPWZ1bmN0aW9uKCl7LS1yfHxpLnJlc29sdmVXaXRoKG8sW29dKX07InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fCJmeCI7d2hpbGUoYS0tKShuPVkuZ2V0KG9bYV0sZSsicXVldWVIb29rcyIpKSYmbi5lbXB0eSYmKHIrKyxuLmVtcHR5LmFkZChzKSk7cmV0dXJuIHMoKSxpLnByb21pc2UodCl9fSk7dmFyIGVlPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHRlPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitlZSsiKShbYS16JV0qKSQiLCJpIiksbmU9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxyZT1FLmRvY3VtZW50RWxlbWVudCxpZT1mdW5jdGlvbihlKXtyZXR1cm4gUy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9LG9lPXtjb21wb3NlZDohMH07cmUuZ2V0Um9vdE5vZGUmJihpZT1mdW5jdGlvbihlKXtyZXR1cm4gUy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fGUuZ2V0Um9vdE5vZGUob2UpPT09ZS5vd25lckRvY3VtZW50fSk7dmFyIGFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm5vbmUiPT09KGU9dHx8ZSkuc3R5bGUuZGlzcGxheXx8IiI9PT1lLnN0eWxlLmRpc3BsYXkmJmllKGUpJiYibm9uZSI9PT1TLmNzcyhlLCJkaXNwbGF5Iil9O2Z1bmN0aW9uIHNlKGUsdCxuLHIpe3ZhciBpLG8sYT0yMCxzPXI/ZnVuY3Rpb24oKXtyZXR1cm4gci5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gUy5jc3MoZSx0LCIiKX0sdT1zKCksbD1uJiZuWzNdfHwoUy5jc3NOdW1iZXJbdF0/IiI6InB4IiksYz1lLm5vZGVUeXBlJiYoUy5jc3NOdW1iZXJbdF18fCJweCIhPT1sJiYrdSkmJnRlLmV4ZWMoUy5jc3MoZSx0KSk7aWYoYyYmY1szXSE9PWwpe3UvPTIsbD1sfHxjWzNdLGM9K3V8fDE7d2hpbGUoYS0tKVMuc3R5bGUoZSx0LGMrbCksKDEtbykqKDEtKG89cygpL3V8fC41KSk8PTAmJihhPTApLGMvPW87Yyo9MixTLnN0eWxlKGUsdCxjK2wpLG49bnx8W119cmV0dXJuIG4mJihjPStjfHwrdXx8MCxpPW5bMV0/YysoblsxXSsxKSpuWzJdOituWzJdLHImJihyLnVuaXQ9bCxyLnN0YXJ0PWMsci5lbmQ9aSkpLGl9dmFyIHVlPXt9O2Z1bmN0aW9uIGxlKGUsdCl7Zm9yKHZhciBuLHIsaSxvLGEscyx1LGw9W10sYz0wLGY9ZS5sZW5ndGg7YzxmO2MrKykocj1lW2NdKS5zdHlsZSYmKG49ci5zdHlsZS5kaXNwbGF5LHQ/KCJub25lIj09PW4mJihsW2NdPVkuZ2V0KHIsImRpc3BsYXkiKXx8bnVsbCxsW2NdfHwoci5zdHlsZS5kaXNwbGF5PSIiKSksIiI9PT1yLnN0eWxlLmRpc3BsYXkmJmFlKHIpJiYobFtjXT0odT1hPW89dm9pZCAwLGE9KGk9cikub3duZXJEb2N1bWVudCxzPWkubm9kZU5hbWUsKHU9dWVbc10pfHwobz1hLmJvZHkuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KHMpKSx1PVMuY3NzKG8sImRpc3BsYXkiKSxvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyksIm5vbmUiPT09dSYmKHU9ImJsb2NrIiksdWVbc109dSkpKSk6Im5vbmUiIT09biYmKGxbY109Im5vbmUiLFkuc2V0KHIsImRpc3BsYXkiLG4pKSk7Zm9yKGM9MDtjPGY7YysrKW51bGwhPWxbY10mJihlW2NdLnN0eWxlLmRpc3BsYXk9bFtjXSk7cmV0dXJuIGV9Uy5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gbGUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gbGUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YWUodGhpcyk/Uyh0aGlzKS5zaG93KCk6Uyh0aGlzKS5oaWRlKCl9KX19KTt2YXIgY2UsZmUscGU9L14oPzpjaGVja2JveHxyYWRpbykkL2ksZGU9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2ksaGU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO2NlPUUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgiZGl2IikpLChmZT1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksZmUuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGZlLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxjZS5hcHBlbmRDaGlsZChmZSkseS5jaGVja0Nsb25lPWNlLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxjZS5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PC90ZXh0YXJlYT4iLHkubm9DbG9uZUNoZWNrZWQ9ISFjZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsY2UuaW5uZXJIVE1MPSI8b3B0aW9uPjwvb3B0aW9uPiIseS5vcHRpb249ISFjZS5sYXN0Q2hpbGQ7dmFyIGdlPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07ZnVuY3Rpb24gdmUoZSx0KXt2YXIgbjtyZXR1cm4gbj0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsP2UucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJkEoZSx0KT9TLm1lcmdlKFtlXSxuKTpufWZ1bmN0aW9uIHllKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKVkuc2V0KGVbbl0sImdsb2JhbEV2YWwiLCF0fHxZLmdldCh0W25dLCJnbG9iYWxFdmFsIikpfWdlLnRib2R5PWdlLnRmb290PWdlLmNvbGdyb3VwPWdlLmNhcHRpb249Z2UudGhlYWQsZ2UudGg9Z2UudGQseS5vcHRpb258fChnZS5vcHRncm91cD1nZS5vcHRpb249WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSk7dmFyIG1lPS88fCYjP1x3KzsvO2Z1bmN0aW9uIHhlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoIm9iamVjdCI9PT13KG8pKVMubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKG1lLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9Z2Vbc118fGdlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0rUy5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO1MubWVyZ2UocCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmLTE8Uy5pbkFycmF5KG8scikpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD1pZShvKSxhPXZlKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnllKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSloZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9dmFyIGJlPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiB3ZSgpe3JldHVybiEwfWZ1bmN0aW9uIFRlKCl7cmV0dXJuITF9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gZT09PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBFLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7fX0oKT09KCJmb2N1cyI9PT10KX1mdW5jdGlvbiBFZShlLHQsbixyLGksbyl7dmFyIGEscztpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihzIGluInN0cmluZyIhPXR5cGVvZiBuJiYocj1yfHxuLG49dm9pZCAwKSx0KUVlKGUscyxuLHIsdFtzXSxvKTtyZXR1cm4gZX1pZihudWxsPT1yJiZudWxsPT1pPyhpPW4scj1uPXZvaWQgMCk6bnVsbD09aSYmKCJzdHJpbmciPT10eXBlb2Ygbj8oaT1yLHI9dm9pZCAwKTooaT1yLHI9bixuPXZvaWQgMCkpLCExPT09aSlpPVRlO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYoYT1pLChpPWZ1bmN0aW9uKGUpe3JldHVybiBTKCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9Uy5ndWlkKyspKSxlLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9ZnVuY3Rpb24gU2UoZSxpLG8pe28/KFkuc2V0KGUsaSwhMSksUy5ldmVudC5hZGQoZSxpLHtuYW1lc3BhY2U6ITEsaGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdCxuLHI9WS5nZXQodGhpcyxpKTtpZigxJmUuaXNUcmlnZ2VyJiZ0aGlzW2ldKXtpZihyLmxlbmd0aCkoUy5ldmVudC5zcGVjaWFsW2ldfHx7fSkuZGVsZWdhdGVUeXBlJiZlLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2UgaWYocj1zLmNhbGwoYXJndW1lbnRzKSxZLnNldCh0aGlzLGksciksdD1vKHRoaXMsaSksdGhpc1tpXSgpLHIhPT0obj1ZLmdldCh0aGlzLGkpKXx8dD9ZLnNldCh0aGlzLGksITEpOm49e30sciE9PW4pcmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLG4mJm4udmFsdWV9ZWxzZSByLmxlbmd0aCYmKFkuc2V0KHRoaXMsaSx7dmFsdWU6Uy5ldmVudC50cmlnZ2VyKFMuZXh0ZW5kKHJbMF0sUy5FdmVudC5wcm90b3R5cGUpLHIuc2xpY2UoMSksdGhpcyl9KSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19KSk6dm9pZCAwPT09WS5nZXQoZSxpKSYmUy5ldmVudC5hZGQoZSxpLHdlKX1TLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx2PVkuZ2V0KHQpO2lmKFYodCkpe24uaGFuZGxlciYmKG49KG89bikuaGFuZGxlcixpPW8uc2VsZWN0b3IpLGkmJlMuZmluZC5tYXRjaGVzU2VsZWN0b3IocmUsaSksbi5ndWlkfHwobi5ndWlkPVMuZ3VpZCsrKSwodT12LmV2ZW50cyl8fCh1PXYuZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCkpLChhPXYuaGFuZGxlKXx8KGE9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBTJiZTLmV2ZW50LnRyaWdnZXJlZCE9PWUudHlwZT9TLmV2ZW50LmRpc3BhdGNoLmFwcGx5KHQsYXJndW1lbnRzKTp2b2lkIDB9KSxsPShlPShlfHwiIikubWF0Y2goUCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0pZD1nPShzPWJlLmV4ZWMoZVtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCYmKGY9Uy5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9Uy5ldmVudC5zcGVjaWFsW2RdfHx7fSxjPVMuZXh0ZW5kKHt0eXBlOmQsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJlMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKCIuIil9LG8pLChwPXVbZF0pfHwoKHA9dVtkXT1bXSkuZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJiExIT09Zi5zZXR1cC5jYWxsKHQscixoLGEpfHx0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihkLGEpKSxmLmFkZCYmKGYuYWRkLmNhbGwodCxjKSxjLmhhbmRsZXIuZ3VpZHx8KGMuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLGk/cC5zcGxpY2UocC5kZWxlZ2F0ZUNvdW50KyssMCxjKTpwLnB1c2goYyksUy5ldmVudC5nbG9iYWxbZF09ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx2PVkuaGFzRGF0YShlKSYmWS5nZXQoZSk7aWYodiYmKHU9di5ldmVudHMpKXtsPSh0PSh0fHwiIikubWF0Y2goUCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0paWYoZD1nPShzPWJlLmV4ZWModFtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCl7Zj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LHA9dVtkPShyP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkXXx8W10scz1zWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGE9bz1wLmxlbmd0aDt3aGlsZShvLS0pYz1wW29dLCFpJiZnIT09Yy5vcmlnVHlwZXx8biYmbi5ndWlkIT09Yy5ndWlkfHxzJiYhcy50ZXN0KGMubmFtZXNwYWNlKXx8ciYmciE9PWMuc2VsZWN0b3ImJigiKioiIT09cnx8IWMuc2VsZWN0b3IpfHwocC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZwLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTthJiYhcC5sZW5ndGgmJihmLnRlYXJkb3duJiYhMSE9PWYudGVhcmRvd24uY2FsbChlLGgsdi5oYW5kbGUpfHxTLnJlbW92ZUV2ZW50KGUsZCx2LmhhbmRsZSksZGVsZXRlIHVbZF0pfWVsc2UgZm9yKGQgaW4gdSlTLmV2ZW50LnJlbW92ZShlLGQrdFtsXSxuLHIsITApO1MuaXNFbXB0eU9iamVjdCh1KSYmWS5yZW1vdmUoZSwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHM9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHU9Uy5ldmVudC5maXgoZSksbD0oWS5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3UudHlwZV18fFtdLGM9Uy5ldmVudC5zcGVjaWFsW3UudHlwZV18fHt9O2ZvcihzWzBdPXUsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspc1t0XT1hcmd1bWVudHNbdF07aWYodS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHUpKXthPVMuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHUsbCksdD0wO3doaWxlKChpPWFbdCsrXSkmJiF1LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3UuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiF1LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpdS5ybmFtZXNwYWNlJiYhMSE9PW8ubmFtZXNwYWNlJiYhdS5ybmFtZXNwYWNlLnRlc3Qoby5uYW1lc3BhY2UpfHwodS5oYW5kbGVPYmo9byx1LmRhdGE9by5kYXRhLHZvaWQgMCE9PShyPSgoUy5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSxzKSkmJiExPT09KHUucmVzdWx0PXIpJiYodS5wcmV2ZW50RGVmYXVsdCgpLHUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyx1KSx1LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPFMoaSx0aGlzKS5pbmRleChsKTpTLmZpbmQoaSx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbaV0mJm8ucHVzaChyKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6b30pfXJldHVybiBsPXRoaXMsdTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZSh1KX0pLHN9LGFkZFByb3A6ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoUy5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0Om0oZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW1MuZXhwYW5kb10/ZTpuZXcgUy5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmU2UodCwiY2xpY2siLHdlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmU2UodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZZLmdldCh0LCJjbGljayIpfHxBKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxTLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSxTLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgUy5FdmVudCkpcmV0dXJuIG5ldyBTLkV2ZW50KGUsdCk7ZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiYhMT09PWUucmV0dXJuVmFsdWU/d2U6VGUsdGhpcy50YXJnZXQ9ZS50YXJnZXQmJjM9PT1lLnRhcmdldC5ub2RlVHlwZT9lLnRhcmdldC5wYXJlbnROb2RlOmUudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1lLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWUucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWUsdCYmUy5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW1MuZXhwYW5kb109ITB9LFMuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpUZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpUZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpUZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9d2UsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LFMuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0sUy5ldmVudC5hZGRQcm9wKSxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGUsdCl7Uy5ldmVudC5zcGVjaWFsW2VdPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBTZSh0aGlzLGUsQ2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSksITB9LF9kZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRlbGVnYXRlVHlwZTp0fX0pLFMuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oZSxpKXtTLmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTppLGJpbmRUeXBlOmksaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5yZWxhdGVkVGFyZ2V0LHI9ZS5oYW5kbGVPYmo7cmV0dXJuIG4mJihuPT09dGhpc3x8Uy5jb250YWlucyh0aGlzLG4pKXx8KGUudHlwZT1yLm9yaWdUeXBlLHQ9ci5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9aSksdH19fSksUy5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBFZSh0aGlzLGUsdCxuLHIpfSxvbmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4sciwxKX0sb2ZmOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKGUmJmUucHJldmVudERlZmF1bHQmJmUuaGFuZGxlT2JqKXJldHVybiByPWUuaGFuZGxlT2JqLFMoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKHIubmFtZXNwYWNlP3Iub3JpZ1R5cGUrIi4iK3IubmFtZXNwYWNlOnIub3JpZ1R5cGUsci5zZWxlY3RvcixyLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHwobj10LHQ9dm9pZCAwKSwhMT09PW4mJihuPVRlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfX0pO3ZhciBrZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxBZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxOZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7ZnVuY3Rpb24gamUoZSx0KXtyZXR1cm4gQShlLCJ0YWJsZSIpJiZBKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmUyhlKS5jaGlsZHJlbigidGJvZHkiKVswXXx8ZX1mdW5jdGlvbiBEZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIHFlKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBMZShlLHQpe3ZhciBuLHIsaSxvLGEscztpZigxPT09dC5ub2RlVHlwZSl7aWYoWS5oYXNEYXRhKGUpJiYocz1ZLmdldChlKS5ldmVudHMpKWZvcihpIGluIFkucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxzKWZvcihuPTAscj1zW2ldLmxlbmd0aDtuPHI7bisrKVMuZXZlbnQuYWRkKHQsaSxzW2ldW25dKTtRLmhhc0RhdGEoZSkmJihvPVEuYWNjZXNzKGUpLGE9Uy5leHRlbmQoe30sbyksUS5zZXQodCxhKSl9fWZ1bmN0aW9uIEhlKG4scixpLG8pe3I9ZyhyKTt2YXIgZSx0LGEscyx1LGwsYz0wLGY9bi5sZW5ndGgscD1mLTEsZD1yWzBdLGg9bShkKTtpZihofHwxPGYmJiJzdHJpbmciPT10eXBlb2YgZCYmIXkuY2hlY2tDbG9uZSYmQWUudGVzdChkKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZXEoZSk7aCYmKHJbMF09ZC5jYWxsKHRoaXMsZSx0Lmh0bWwoKSkpLEhlKHQscixpLG8pfSk7aWYoZiYmKHQ9KGU9eGUocixuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSkuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9dCksdHx8bykpe2ZvcihzPShhPVMubWFwKHZlKGUsInNjcmlwdCIpLERlKSkubGVuZ3RoO2M8ZjtjKyspdT1lLGMhPT1wJiYodT1TLmNsb25lKHUsITAsITApLHMmJlMubWVyZ2UoYSx2ZSh1LCJzY3JpcHQiKSkpLGkuY2FsbChuW2NdLHUsYyk7aWYocylmb3IobD1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsUy5tYXAoYSxxZSksYz0wO2M8cztjKyspdT1hW2NdLGhlLnRlc3QodS50eXBlfHwiIikmJiFZLmFjY2Vzcyh1LCJnbG9iYWxFdmFsIikmJlMuY29udGFpbnMobCx1KSYmKHUuc3JjJiYibW9kdWxlIiE9PSh1LnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP1MuX2V2YWxVcmwmJiF1Lm5vTW9kdWxlJiZTLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZSgibm9uY2UiKX0sbCk6Yih1LnRleHRDb250ZW50LnJlcGxhY2UoTmUsIiIpLHUsbCkpfXJldHVybiBufWZ1bmN0aW9uIE9lKGUsdCxuKXtmb3IodmFyIHIsaT10P1MuZmlsdGVyKHQsZSk6ZSxvPTA7bnVsbCE9KHI9aVtvXSk7bysrKW58fDEhPT1yLm5vZGVUeXBlfHxTLmNsZWFuRGF0YSh2ZShyKSksci5wYXJlbnROb2RlJiYobiYmaWUocikmJnllKHZlKHIsInNjcmlwdCIpKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpO3JldHVybiBlfVMuZXh0ZW5kKHtodG1sUHJlZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYz1lLmNsb25lTm9kZSghMCksZj1pZShlKTtpZighKHkubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fFMuaXNYTUxEb2MoZSkpKWZvcihhPXZlKGMpLHI9MCxpPShvPXZlKGUpKS5sZW5ndGg7cjxpO3IrKylzPW9bcl0sdT1hW3JdLHZvaWQgMCwiaW5wdXQiPT09KGw9dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmcGUudGVzdChzLnR5cGUpP3UuY2hlY2tlZD1zLmNoZWNrZWQ6ImlucHV0IiE9PWwmJiJ0ZXh0YXJlYSIhPT1sfHwodS5kZWZhdWx0VmFsdWU9cy5kZWZhdWx0VmFsdWUpO2lmKHQpaWYobilmb3Iobz1vfHx2ZShlKSxhPWF8fHZlKGMpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspTGUob1tyXSxhW3JdKTtlbHNlIExlKGUsYyk7cmV0dXJuIDA8KGE9dmUoYywic2NyaXB0IikpLmxlbmd0aCYmeWUoYSwhZiYmdmUoZSwic2NyaXB0IikpLGN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9Uy5ldmVudC5zcGVjaWFsLG89MDt2b2lkIDAhPT0obj1lW29dKTtvKyspaWYoVihuKSl7aWYodD1uW1kuZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/Uy5ldmVudC5yZW1vdmUobixyKTpTLnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltZLmV4cGFuZG9dPXZvaWQgMH1uW1EuZXhwYW5kb10mJihuW1EuZXhwYW5kb109dm9pZCAwKX19fSksUy5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gT2UodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/Uy50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxqZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PWplKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKGUsITEpKSxlLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gUy5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGUmJiFrZS50ZXN0KGUpJiYhZ2VbKGRlLmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPVMuaHRtbFByZWZpbHRlcihlKTt0cnl7Zm9yKDtuPHI7bisrKTE9PT0odD10aGlzW25dfHx7fSkubm9kZVR5cGUmJihTLmNsZWFuRGF0YSh2ZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7Uy5pbkFycmF5KHRoaXMsbik8MCYmKFMuY2xlYW5EYXRhKHZlKHRoaXMpKSx0JiZ0LnJlcGxhY2VDaGlsZChlLHRoaXMpKX0sbil9fSksUy5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSxhKXtTLmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVtdLHI9UyhlKSxpPXIubGVuZ3RoLTEsbz0wO288PWk7bysrKXQ9bz09PWk/dGhpczp0aGlzLmNsb25lKCEwKSxTKHJbb10pW2FdKHQpLHUuYXBwbHkobix0LmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFBlPW5ldyBSZWdFeHAoIl4oIitlZSsiKSg/IXB4KVthLXolXSskIiwiaSIpLFJlPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gdCYmdC5vcGVuZXJ8fCh0PUMpLHQuZ2V0Q29tcHV0ZWRTdHlsZShlKX0sTWU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fTtmb3IoaSBpbiB0KW9baV09ZS5zdHlsZVtpXSxlLnN0eWxlW2ldPXRbaV07Zm9yKGkgaW4gcj1uLmNhbGwoZSksdCllLnN0eWxlW2ldPW9baV07cmV0dXJuIHJ9LEllPW5ldyBSZWdFeHAobmUuam9pbigifCIpLCJpIik7ZnVuY3Rpb24gV2UoZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5zdHlsZTtyZXR1cm4obj1ufHxSZShlKSkmJigiIiE9PShhPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSl8fGllKGUpfHwoYT1TLnN0eWxlKGUsdCkpLCF5LnBpeGVsQm94U3R5bGVzKCkmJlBlLnRlc3QoYSkmJkllLnRlc3QodCkmJihyPXMud2lkdGgsaT1zLm1pbldpZHRoLG89cy5tYXhXaWR0aCxzLm1pbldpZHRoPXMubWF4V2lkdGg9cy53aWR0aD1hLGE9bi53aWR0aCxzLndpZHRoPXIscy5taW5XaWR0aD1pLHMubWF4V2lkdGg9bykpLHZvaWQgMCE9PWE/YSsiIjphfWZ1bmN0aW9uIEZlKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe2lmKCFlKCkpcmV0dXJuKHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkZWxldGUgdGhpcy5nZXR9fX0hZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aWYobCl7dS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIixsLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiLHJlLmFwcGVuZENoaWxkKHUpLmFwcGVuZENoaWxkKGwpO3ZhciBlPUMuZ2V0Q29tcHV0ZWRTdHlsZShsKTtuPSIxJSIhPT1lLnRvcCxzPTEyPT09dChlLm1hcmdpbkxlZnQpLGwuc3R5bGUucmlnaHQ9IjYwJSIsbz0zNj09PXQoZS5yaWdodCkscj0zNj09PXQoZS53aWR0aCksbC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGk9MTI9PT10KGwub2Zmc2V0V2lkdGgvMykscmUucmVtb3ZlQ2hpbGQodSksbD1udWxsfX1mdW5jdGlvbiB0KGUpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZSkpfXZhciBuLHIsaSxvLGEscyx1PUUuY3JlYXRlRWxlbWVudCgiZGl2IiksbD1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuc3R5bGUmJihsLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsbC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLHkuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1sLnN0eWxlLmJhY2tncm91bmRDbGlwLFMuZXh0ZW5kKHkse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxyfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiBlKCksb30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBlKCksbn0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxzfSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxpfSxyZWxpYWJsZVRyRGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciBlLHQsbixyO3JldHVybiBudWxsPT1hJiYoZT1FLmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksdD1FLmNyZWF0ZUVsZW1lbnQoInRyIiksbj1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbGFwc2U6c2VwYXJhdGUiLHQuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjFweCBzb2xpZCIsdC5zdHlsZS5oZWlnaHQ9IjFweCIsbi5zdHlsZS5oZWlnaHQ9IjlweCIsbi5zdHlsZS5kaXNwbGF5PSJibG9jayIscmUuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQodCkuYXBwZW5kQ2hpbGQobikscj1DLmdldENvbXB1dGVkU3R5bGUodCksYT1wYXJzZUludChyLmhlaWdodCwxMCkrcGFyc2VJbnQoci5ib3JkZXJUb3BXaWR0aCwxMCkrcGFyc2VJbnQoci5ib3JkZXJCb3R0b21XaWR0aCwxMCk9PT10Lm9mZnNldEhlaWdodCxyZS5yZW1vdmVDaGlsZChlKSksYX19KSl9KCk7dmFyIEJlPVsiV2Via2l0IiwiTW96IiwibXMiXSwkZT1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLF9lPXt9O2Z1bmN0aW9uIHplKGUpe3ZhciB0PVMuY3NzUHJvcHNbZV18fF9lW2VdO3JldHVybiB0fHwoZSBpbiAkZT9lOl9lW2VdPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLG49QmUubGVuZ3RoO3doaWxlKG4tLSlpZigoZT1CZVtuXSt0KWluICRlKXJldHVybiBlfShlKXx8ZSl9dmFyIFVlPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxYZT0vXi0tLyxWZT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sR2U9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2Z1bmN0aW9uIFllKGUsdCxuKXt2YXIgcj10ZS5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0obnx8MCkpKyhyWzNdfHwicHgiKTp0fWZ1bmN0aW9uIFFlKGUsdCxuLHIsaSxvKXt2YXIgYT0id2lkdGgiPT09dD8xOjAscz0wLHU9MDtpZihuPT09KHI/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKSJtYXJnaW4iPT09biYmKHUrPVMuY3NzKGUsbituZVthXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKHUtPVMuY3NzKGUsInBhZGRpbmciK25lW2FdLCEwLGkpKSwibWFyZ2luIiE9PW4mJih1LT1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpKToodSs9Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSksInBhZGRpbmciIT09bj91Kz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSk6cys9Uy5jc3MoZSwiYm9yZGVyIituZVthXSsiV2lkdGgiLCEwLGkpKTtyZXR1cm4hciYmMDw9byYmKHUrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLW8tdS1zLS41KSl8fDApLHV9ZnVuY3Rpb24gSmUoZSx0LG4pe3ZhciByPVJlKGUpLGk9KCF5LmJveFNpemluZ1JlbGlhYmxlKCl8fG4pJiYiYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLG89aSxhPVdlKGUsdCxyKSxzPSJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2lmKFBlLnRlc3QoYSkpe2lmKCFuKXJldHVybiBhO2E9ImF1dG8ifXJldHVybigheS5ib3hTaXppbmdSZWxpYWJsZSgpJiZpfHwheS5yZWxpYWJsZVRyRGltZW5zaW9ucygpJiZBKGUsInRyIil8fCJhdXRvIj09PWF8fCFwYXJzZUZsb2F0KGEpJiYiaW5saW5lIj09PVMuY3NzKGUsImRpc3BsYXkiLCExLHIpKSYmZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKGk9ImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxyKSwobz1zIGluIGUpJiYoYT1lW3NdKSksKGE9cGFyc2VGbG9hdChhKXx8MCkrUWUoZSx0LG58fChpPyJib3JkZXIiOiJjb250ZW50IiksbyxyLGEpKyJweCJ9ZnVuY3Rpb24gS2UoZSx0LG4scixpKXtyZXR1cm4gbmV3IEtlLnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9Uy5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj1XZShlLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1uPyIxIjpufX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihlLHQsbixyKXtpZihlJiYzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJmUuc3R5bGUpe3ZhciBpLG8sYSxzPVgodCksdT1YZS50ZXN0KHQpLGw9ZS5zdHlsZTtpZih1fHwodD16ZShzKSksYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdLHZvaWQgMD09PW4pcmV0dXJuIGEmJiJnZXQiaW4gYSYmdm9pZCAwIT09KGk9YS5nZXQoZSwhMSxyKSk/aTpsW3RdOyJzdHJpbmciPT09KG89dHlwZW9mIG4pJiYoaT10ZS5leGVjKG4pKSYmaVsxXSYmKG49c2UoZSx0LGkpLG89Im51bWJlciIpLG51bGwhPW4mJm49PW4mJigibnVtYmVyIiE9PW98fHV8fChuKz1pJiZpWzNdfHwoUy5jc3NOdW1iZXJbc10/IiI6InB4IikpLHkuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PW58fDAhPT10LmluZGV4T2YoImJhY2tncm91bmQiKXx8KGxbdF09ImluaGVyaXQiKSxhJiYic2V0ImluIGEmJnZvaWQgMD09PShuPWEuc2V0KGUsbixyKSl8fCh1P2wuc2V0UHJvcGVydHkodCxuKTpsW3RdPW4pKX19LGNzczpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1YKHQpO3JldHVybiBYZS50ZXN0KHQpfHwodD16ZShzKSksKGE9Uy5jc3NIb29rc1t0XXx8Uy5jc3NIb29rc1tzXSkmJiJnZXQiaW4gYSYmKGk9YS5nZXQoZSwhMCxuKSksdm9pZCAwPT09aSYmKGk9V2UoZSx0LHIpKSwibm9ybWFsIj09PWkmJnQgaW4gR2UmJihpPUdlW3RdKSwiIj09PW58fG4/KG89cGFyc2VGbG9hdChpKSwhMD09PW58fGlzRmluaXRlKG8pP298fDA6aSk6aX19KSxTLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGUsdSl7Uy5jc3NIb29rc1t1XT17Z2V0OmZ1bmN0aW9uKGUsdCxuKXtpZih0KXJldHVybiFVZS50ZXN0KFMuY3NzKGUsImRpc3BsYXkiKSl8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/SmUoZSx1LG4pOk1lKGUsVmUsZnVuY3Rpb24oKXtyZXR1cm4gSmUoZSx1LG4pfSl9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1SZShlKSxvPSF5LnNjcm9sbGJveFNpemUoKSYmImFic29sdXRlIj09PWkucG9zaXRpb24sYT0ob3x8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsaSkscz1uP1FlKGUsdSxuLGEsaSk6MDtyZXR1cm4gYSYmbyYmKHMtPU1hdGguY2VpbChlWyJvZmZzZXQiK3VbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGlbdV0pLVFlKGUsdSwiYm9yZGVyIiwhMSxpKS0uNSkpLHMmJihyPXRlLmV4ZWModCkpJiYicHgiIT09KHJbM118fCJweCIpJiYoZS5zdHlsZVt1XT10LHQ9Uy5jc3MoZSx1KSksWWUoMCx0LHMpfX19KSxTLmNzc0hvb2tzLm1hcmdpbkxlZnQ9RmUoeS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KFdlKGUsIm1hcmdpbkxlZnQiKSl8fGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1NZShlLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSksUy5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oaSxvKXtTLmNzc0hvb2tzW2krb109e2V4cGFuZDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXt9LHI9InN0cmluZyI9PXR5cGVvZiBlP2Uuc3BsaXQoIiAiKTpbZV07dDw0O3QrKyluW2krbmVbdF0rb109clt0XXx8clt0LTJdfHxyWzBdO3JldHVybiBufX0sIm1hcmdpbiIhPT1pJiYoUy5jc3NIb29rc1tpK29dLnNldD1ZZSl9KSxTLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9LGE9MDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3Iocj1SZShlKSxpPXQubGVuZ3RoO2E8aTthKyspb1t0W2FdXT1TLmNzcyhlLHRbYV0sITEscik7cmV0dXJuIG99cmV0dXJuIHZvaWQgMCE9PW4/Uy5zdHlsZShlLHQsbik6Uy5jc3MoZSx0KX0sZSx0LDE8YXJndW1lbnRzLmxlbmd0aCl9fSksKChTLlR3ZWVuPUtlKS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOktlLGluaXQ6ZnVuY3Rpb24oZSx0LG4scixpLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPWl8fFMuZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1yLHRoaXMudW5pdD1vfHwoUy5jc3NOdW1iZXJbbl0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpLZS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1LZS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPXQ9Uy5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319KS5pbml0LnByb3RvdHlwZT1LZS5wcm90b3R5cGUsKEtlLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gMSE9PWUuZWxlbS5ub2RlVHlwZXx8bnVsbCE9ZS5lbGVtW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtlLnByb3BdP2UuZWxlbVtlLnByb3BdOih0PVMuY3NzKGUuZWxlbSxlLnByb3AsIiIpKSYmImF1dG8iIT09dD90OjB9LHNldDpmdW5jdGlvbihlKXtTLmZ4LnN0ZXBbZS5wcm9wXT9TLmZ4LnN0ZXBbZS5wcm9wXShlKToxIT09ZS5lbGVtLm5vZGVUeXBlfHwhUy5jc3NIb29rc1tlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbemUoZS5wcm9wKV0/ZS5lbGVtW2UucHJvcF09ZS5ub3c6Uy5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCl9fX0pLnNjcm9sbFRvcD1LZS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSxTLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LFMuZng9S2UucHJvdG90eXBlLmluaXQsUy5meC5zdGVwPXt9O3ZhciBaZSxldCx0dCxudCxydD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8saXQ9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBvdCgpe2V0JiYoITE9PT1FLmhpZGRlbiYmQy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/Qy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob3QpOkMuc2V0VGltZW91dChvdCxTLmZ4LmludGVydmFsKSxTLmZ4LnRpY2soKSl9ZnVuY3Rpb24gYXQoKXtyZXR1cm4gQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7WmU9dm9pZCAwfSksWmU9RGF0ZS5ub3coKX1mdW5jdGlvbiBzdChlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyhuPW5lW3JdKV09aVsicGFkZGluZyIrbl09ZTtyZXR1cm4gdCYmKGkub3BhY2l0eT1pLndpZHRoPWUpLGl9ZnVuY3Rpb24gdXQoZSx0LG4pe2Zvcih2YXIgcixpPShsdC50d2VlbmVyc1t0XXx8W10pLmNvbmNhdChsdC50d2VlbmVyc1siKiJdKSxvPTAsYT1pLmxlbmd0aDtvPGE7bysrKWlmKHI9aVtvXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBsdChvLGUsdCl7dmFyIG4sYSxyPTAsaT1sdC5wcmVmaWx0ZXJzLmxlbmd0aCxzPVMuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgdS5lbGVtfSksdT1mdW5jdGlvbigpe2lmKGEpcmV0dXJuITE7Zm9yKHZhciBlPVplfHxhdCgpLHQ9TWF0aC5tYXgoMCxsLnN0YXJ0VGltZStsLmR1cmF0aW9uLWUpLG49MS0odC9sLmR1cmF0aW9ufHwwKSxyPTAsaT1sLnR3ZWVucy5sZW5ndGg7cjxpO3IrKylsLnR3ZWVuc1tyXS5ydW4obik7cmV0dXJuIHMubm90aWZ5V2l0aChvLFtsLG4sdF0pLG48MSYmaT90OihpfHxzLm5vdGlmeVdpdGgobyxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKG8sW2xdKSwhMSl9LGw9cy5wcm9taXNlKHtlbGVtOm8scHJvcHM6Uy5leHRlbmQoe30sZSksb3B0czpTLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6Uy5lYXNpbmcuX2RlZmF1bHR9LHQpLG9yaWdpbmFsUHJvcGVydGllczplLG9yaWdpbmFsT3B0aW9uczp0LHN0YXJ0VGltZTpaZXx8YXQoKSxkdXJhdGlvbjp0LmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihlLHQpe3ZhciBuPVMuVHdlZW4obyxsLm9wdHMsZSx0LGwub3B0cy5zcGVjaWFsRWFzaW5nW2VdfHxsLm9wdHMuZWFzaW5nKTtyZXR1cm4gbC50d2VlbnMucHVzaChuKSxufSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1lP2wudHdlZW5zLmxlbmd0aDowO2lmKGEpcmV0dXJuIHRoaXM7Zm9yKGE9ITA7dDxuO3QrKylsLnR3ZWVuc1t0XS5ydW4oMSk7cmV0dXJuIGU/KHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbCxlXSkpOnMucmVqZWN0V2l0aChvLFtsLGVdKSx0aGlzfX0pLGM9bC5wcm9wcztmb3IoIWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKGk9dFtyPVgobildLG89ZVtuXSxBcnJheS5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSksKGE9Uy5jc3NIb29rc1tyXSkmJiJleHBhbmQiaW4gYSlmb3IobiBpbiBvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdLG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSk7ZWxzZSB0W3JdPWl9KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO3I8aTtyKyspaWYobj1sdC5wcmVmaWx0ZXJzW3JdLmNhbGwobCxvLGMsbC5vcHRzKSlyZXR1cm4gbShuLnN0b3ApJiYoUy5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPW4uc3RvcC5iaW5kKG4pKSxuO3JldHVybiBTLm1hcChjLHV0LGwpLG0obC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwobyxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSxTLmZ4LnRpbWVyKFMuZXh0ZW5kKHUse2VsZW06byxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9Uy5BbmltYXRpb249Uy5leHRlbmQobHQse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVhdGVUd2VlbihlLHQpO3JldHVybiBzZShuLmVsZW0sZSx0ZS5leGVjKHQpLG4pLG59XX0sdHdlZW5lcjpmdW5jdGlvbihlLHQpe20oZSk/KHQ9ZSxlPVsiKiJdKTplPWUubWF0Y2goUCk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLGx0LnR3ZWVuZXJzW25dPWx0LnR3ZWVuZXJzW25dfHxbXSxsdC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYyxmPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQscD10aGlzLGQ9e30saD1lLnN0eWxlLGc9ZS5ub2RlVHlwZSYmYWUoZSksdj1ZLmdldChlLCJmeHNob3ciKTtmb3IociBpbiBuLnF1ZXVlfHwobnVsbD09KGE9Uy5fcXVldWVIb29rcyhlLCJmeCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxzPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxzKCl9KSxhLnVucXVldWVkKysscC5hbHdheXMoZnVuY3Rpb24oKXtwLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSxTLnF1ZXVlKGUsImZ4IikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoaT10W3JdLHJ0LnRlc3QoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8InRvZ2dsZSI9PT1pLGk9PT0oZz8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09aXx8IXZ8fHZvaWQgMD09PXZbcl0pY29udGludWU7Zz0hMH1kW3JdPXYmJnZbcl18fFMuc3R5bGUoZSxyKX1pZigodT0hUy5pc0VtcHR5T2JqZWN0KHQpKXx8IVMuaXNFbXB0eU9iamVjdChkKSlmb3IociBpbiBmJiYxPT09ZS5ub2RlVHlwZSYmKG4ub3ZlcmZsb3c9W2gub3ZlcmZsb3csaC5vdmVyZmxvd1gsaC5vdmVyZmxvd1ldLG51bGw9PShsPXYmJnYuZGlzcGxheSkmJihsPVkuZ2V0KGUsImRpc3BsYXkiKSksIm5vbmUiPT09KGM9Uy5jc3MoZSwiZGlzcGxheSIpKSYmKGw/Yz1sOihsZShbZV0sITApLGw9ZS5zdHlsZS5kaXNwbGF5fHxsLGM9Uy5jc3MoZSwiZGlzcGxheSIpLGxlKFtlXSkpKSwoImlubGluZSI9PT1jfHwiaW5saW5lLWJsb2NrIj09PWMmJm51bGwhPWwpJiYibm9uZSI9PT1TLmNzcyhlLCJmbG9hdCIpJiYodXx8KHAuZG9uZShmdW5jdGlvbigpe2guZGlzcGxheT1sfSksbnVsbD09bCYmKGM9aC5kaXNwbGF5LGw9Im5vbmUiPT09Yz8iIjpjKSksaC5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksbi5vdmVyZmxvdyYmKGgub3ZlcmZsb3c9ImhpZGRlbiIscC5hbHdheXMoZnVuY3Rpb24oKXtoLm92ZXJmbG93PW4ub3ZlcmZsb3dbMF0saC5vdmVyZmxvd1g9bi5vdmVyZmxvd1sxXSxoLm92ZXJmbG93WT1uLm92ZXJmbG93WzJdfSkpLHU9ITEsZCl1fHwodj8iaGlkZGVuImluIHYmJihnPXYuaGlkZGVuKTp2PVkuYWNjZXNzKGUsImZ4c2hvdyIse2Rpc3BsYXk6bH0pLG8mJih2LmhpZGRlbj0hZyksZyYmbGUoW2VdLCEwKSxwLmRvbmUoZnVuY3Rpb24oKXtmb3IociBpbiBnfHxsZShbZV0pLFkucmVtb3ZlKGUsImZ4c2hvdyIpLGQpUy5zdHlsZShlLHIsZFtyXSl9KSksdT11dChnP3Zbcl06MCxyLHApLHIgaW4gdnx8KHZbcl09dS5zdGFydCxnJiYodS5lbmQ9dS5zdGFydCx1LnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/bHQucHJlZmlsdGVycy51bnNoaWZ0KGUpOmx0LnByZWZpbHRlcnMucHVzaChlKX19KSxTLnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiYib2JqZWN0Ij09dHlwZW9mIGU/Uy5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHxtKGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiFtKHQpJiZ0fTtyZXR1cm4gUy5meC5vZmY/ci5kdXJhdGlvbj0wOiJudW1iZXIiIT10eXBlb2Ygci5kdXJhdGlvbiYmKHIuZHVyYXRpb24gaW4gUy5meC5zcGVlZHM/ci5kdXJhdGlvbj1TLmZ4LnNwZWVkc1tyLmR1cmF0aW9uXTpyLmR1cmF0aW9uPVMuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1yLnF1ZXVlJiYhMCE9PXIucXVldWV8fChyLnF1ZXVlPSJmeCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe20oci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJlMuZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSxTLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihhZSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxlLG4scil9LGFuaW1hdGU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9Uy5pc0VtcHR5T2JqZWN0KHQpLG89Uy5zcGVlZChlLG4sciksYT1mdW5jdGlvbigpe3ZhciBlPWx0KHRoaXMsUy5leHRlbmQoe30sdCksbyk7KGl8fFkuZ2V0KHRoaXMsImZpbmlzaCIpKSYmZS5zdG9wKCEwKX07cmV0dXJuIGEuZmluaXNoPWEsaXx8ITE9PT1vLnF1ZXVlP3RoaXMuZWFjaChhKTp0aGlzLnF1ZXVlKG8ucXVldWUsYSl9LHN0b3A6ZnVuY3Rpb24oaSxlLG8pe3ZhciBhPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RvcDtkZWxldGUgZS5zdG9wLHQobyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgaSYmKG89ZSxlPWksaT12b2lkIDApLGUmJnRoaXMucXVldWUoaXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9ITAsdD1udWxsIT1pJiZpKyJxdWV1ZUhvb2tzIixuPVMudGltZXJzLHI9WS5nZXQodGhpcyk7aWYodClyW3RdJiZyW3RdLnN0b3AmJmEoclt0XSk7ZWxzZSBmb3IodCBpbiByKXJbdF0mJnJbdF0uc3RvcCYmaXQudGVzdCh0KSYmYShyW3RdKTtmb3IodD1uLmxlbmd0aDt0LS07KW5bdF0uZWxlbSE9PXRoaXN8fG51bGwhPWkmJm5bdF0ucXVldWUhPT1pfHwoblt0XS5hbmltLnN0b3AobyksZT0hMSxuLnNwbGljZSh0LDEpKTshZSYmb3x8Uy5kZXF1ZXVlKHRoaXMsaSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiExIT09YSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdD1ZLmdldCh0aGlzKSxuPXRbYSsicXVldWUiXSxyPXRbYSsicXVldWVIb29rcyJdLGk9Uy50aW1lcnMsbz1uP24ubGVuZ3RoOjA7Zm9yKHQuZmluaXNoPSEwLFMucXVldWUodGhpcyxhLFtdKSxyJiZyLnN0b3AmJnIuc3RvcC5jYWxsKHRoaXMsITApLGU9aS5sZW5ndGg7ZS0tOylpW2VdLmVsZW09PT10aGlzJiZpW2VdLnF1ZXVlPT09YSYmKGlbZV0uYW5pbS5zdG9wKCEwKSxpLnNwbGljZShlLDEpKTtmb3IoZT0wO2U8bztlKyspbltlXSYmbltlXS5maW5pc2gmJm5bZV0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIHQuZmluaXNofSl9fSksUy5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihlLHIpe3ZhciBpPVMuZm5bcl07Uy5mbltyXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKHN0KHIsITApLGUsdCxuKX19KSxTLmVhY2goe3NsaWRlRG93bjpzdCgic2hvdyIpLHNsaWRlVXA6c3QoImhpZGUiKSxzbGlkZVRvZ2dsZTpzdCgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihlLHIpe1MuZm5bZV09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmFuaW1hdGUocixlLHQsbil9fSksUy50aW1lcnM9W10sUy5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49Uy50aW1lcnM7Zm9yKFplPURhdGUubm93KCk7dDxuLmxlbmd0aDt0KyspKGU9blt0XSkoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8Uy5meC5zdG9wKCksWmU9dm9pZCAwfSxTLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe1MudGltZXJzLnB1c2goZSksUy5meC5zdGFydCgpfSxTLmZ4LmludGVydmFsPTEzLFMuZnguc3RhcnQ9ZnVuY3Rpb24oKXtldHx8KGV0PSEwLG90KCkpfSxTLmZ4LnN0b3A9ZnVuY3Rpb24oKXtldD1udWxsfSxTLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxTLmZuLmRlbGF5PWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHI9Uy5meCYmUy5meC5zcGVlZHNbcl18fHIsZT1lfHwiZngiLHRoaXMucXVldWUoZSxmdW5jdGlvbihlLHQpe3ZhciBuPUMuc2V0VGltZW91dChlLHIpO3Quc3RvcD1mdW5jdGlvbigpe0MuY2xlYXJUaW1lb3V0KG4pfX0pfSx0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksbnQ9RS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChFLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSx0dC50eXBlPSJjaGVja2JveCIseS5jaGVja09uPSIiIT09dHQudmFsdWUseS5vcHRTZWxlY3RlZD1udC5zZWxlY3RlZCwodHQ9RS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS52YWx1ZT0idCIsdHQudHlwZT0icmFkaW8iLHkucmFkaW9WYWx1ZT0idCI9PT10dC52YWx1ZTt2YXIgY3QsZnQ9Uy5leHByLmF0dHJIYW5kbGU7Uy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMuYXR0cixlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uy5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxTLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP1MucHJvcChlLHQsbik6KDE9PT1vJiZTLmlzWE1MRG9jKGUpfHwoaT1TLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoUy5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9jdDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgUy5yZW1vdmVBdHRyKGUsdCk6aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjpudWxsPT0ocj1TLmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIXkucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJkEoZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10JiZ0Lm1hdGNoKFApO2lmKGkmJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49aVtyKytdKWUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLGN0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09dD9TLnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxTLmVhY2goUy5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgYT1mdFt0XXx8Uy5maW5kLmF0dHI7ZnRbdF09ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIG58fChpPWZ0W29dLGZ0W29dPXIscj1udWxsIT1hKGUsdCxuKT9vOm51bGwsZnRbb109aSkscn19KTt2YXIgcHQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxkdD0vXig/OmF8YXJlYSkkL2k7ZnVuY3Rpb24gaHQoZSl7cmV0dXJuKGUubWF0Y2goUCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24gZ3QoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZToic3RyaW5nIj09dHlwZW9mIGUmJmUubWF0Y2goUCl8fFtdfVMuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuICQodGhpcyxTLnByb3AsZSx0LDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW1MucHJvcEZpeFtlXXx8ZV19KX19KSxTLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gMT09PW8mJlMuaXNYTUxEb2MoZSl8fCh0PVMucHJvcEZpeFt0XXx8dCxpPVMucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJiJzZXQiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD1TLmZpbmQuYXR0cihlLCJ0YWJpbmRleCIpO3JldHVybiB0P3BhcnNlSW50KHQsMTApOnB0LnRlc3QoZS5ub2RlTmFtZSl8fGR0LnRlc3QoZS5ub2RlTmFtZSkmJmUuaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pLHkub3B0U2VsZWN0ZWR8fChTLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksUy5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtTLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSksUy5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzLHU9MDtpZihtKHQpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS5hZGRDbGFzcyh0LmNhbGwodGhpcyxlLGd0KHRoaXMpKSl9KTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXIuaW5kZXhPZigiICIrbysiICIpPDAmJihyKz1vKyIgIik7aSE9PShzPWh0KHIpKSYmbi5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnJlbW92ZUNsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKGU9dnQodCkpLmxlbmd0aCl3aGlsZShuPXRoaXNbdSsrXSlpZihpPWd0KG4pLHI9MT09PW4ubm9kZVR5cGUmJiIgIitodChpKSsiICIpe2E9MDt3aGlsZShvPWVbYSsrXSl3aGlsZSgtMTxyLmluZGV4T2YoIiAiK28rIiAiKSlyPXIucmVwbGFjZSgiICIrbysiICIsIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihpLHQpe3ZhciBvPXR5cGVvZiBpLGE9InN0cmluZyI9PT1vfHxBcnJheS5pc0FycmF5KGkpO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmE/dD90aGlzLmFkZENsYXNzKGkpOnRoaXMucmVtb3ZlQ2xhc3MoaSk6bShpKT90aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS50b2dnbGVDbGFzcyhpLmNhbGwodGhpcyxlLGd0KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7aWYoYSl7dD0wLG49Uyh0aGlzKSxyPXZ0KGkpO3doaWxlKGU9clt0KytdKW4uaGFzQ2xhc3MoZSk/bi5yZW1vdmVDbGFzcyhlKTpuLmFkZENsYXNzKGUpfWVsc2Ugdm9pZCAwIT09aSYmImJvb2xlYW4iIT09b3x8KChlPWd0KHRoaXMpKSYmWS5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsZSksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsZXx8ITE9PT1pPyIiOlkuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MDt0PSIgIitlKyIgIjt3aGlsZShuPXRoaXNbcisrXSlpZigxPT09bi5ub2RlVHlwZSYmLTE8KCIgIitodChndChuKSkrIiAiKS5pbmRleE9mKHQpKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB5dD0vXHIvZztTLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciByLGUsaSx0PXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bShuKSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odD1pP24uY2FsbCh0aGlzLGUsUyh0aGlzKS52YWwoKSk6bik/dD0iIjoibnVtYmVyIj09dHlwZW9mIHQ/dCs9IiI6QXJyYXkuaXNBcnJheSh0KSYmKHQ9Uy5tYXAodCxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpLChyPVMudmFsSG9va3NbdGhpcy50eXBlXXx8Uy52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiByJiZ2b2lkIDAhPT1yLnNldCh0aGlzLHQsInZhbHVlIil8fCh0aGlzLnZhbHVlPXQpKX0pKTp0PyhyPVMudmFsSG9va3NbdC50eXBlXXx8Uy52YWxIb29rc1t0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LCJ2YWx1ZSIpKT9lOiJzdHJpbmciPT10eXBlb2YoZT10LnZhbHVlKT9lLnJlcGxhY2UoeXQsIiIpOm51bGw9PWU/IiI6ZTp2b2lkIDB9fSksUy5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1TLmZpbmQuYXR0cihlLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6aHQoUy50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPSJzZWxlY3Qtb25lIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IUEobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD1TKG4pLnZhbCgpLGEpcmV0dXJuIHQ7cy5wdXNoKHQpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89Uy5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pKChyPWlbYV0pLnNlbGVjdGVkPS0xPFMuaW5BcnJheShTLnZhbEhvb2tzLm9wdGlvbi5nZXQociksbykpJiYobj0hMCk7cmV0dXJuIG58fChlLnNlbGVjdGVkSW5kZXg9LTEpLG99fX19KSxTLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtTLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlLmNoZWNrZWQ9LTE8Uy5pbkFycmF5KFMoZSkudmFsKCksdCl9fSx5LmNoZWNrT258fChTLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6ZS52YWx1ZX0pfSkseS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gQzt2YXIgbXQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLHh0PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O1MuZXh0ZW5kKFMuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsLGMsZixwPVtufHxFXSxkPXYuY2FsbChlLCJ0eXBlIik/ZS50eXBlOmUsaD12LmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihvPWY9YT1uPW58fEUsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhbXQudGVzdChkK1MuZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGQuaW5kZXhPZigiLiIpJiYoZD0oaD1kLnNwbGl0KCIuIikpLnNoaWZ0KCksaC5zb3J0KCkpLHU9ZC5pbmRleE9mKCI6Iik8MCYmIm9uIitkLChlPWVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGQsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPWguam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTpTLm1ha2VBcnJheSh0LFtlXSksYz1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LHJ8fCFjLnRyaWdnZXJ8fCExIT09Yy50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighciYmIWMubm9CdWJibGUmJiF4KG4pKXtmb3Iocz1jLmRlbGVnYXRlVHlwZXx8ZCxtdC50ZXN0KHMrZCl8fChvPW8ucGFyZW50Tm9kZSk7bztvPW8ucGFyZW50Tm9kZSlwLnB1c2gobyksYT1vO2E9PT0obi5vd25lckRvY3VtZW50fHxFKSYmcC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxDKX1pPTA7d2hpbGUoKG89cFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fGQsKGw9KFkuZ2V0KG8sImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVtlLnR5cGVdJiZZLmdldChvLCJoYW5kbGUiKSkmJmwuYXBwbHkobyx0KSwobD11JiZvW3VdKSYmbC5hcHBseSYmVihvKSYmKGUucmVzdWx0PWwuYXBwbHkobyx0KSwhMT09PWUucmVzdWx0JiZlLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBlLnR5cGU9ZCxyfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjLl9kZWZhdWx0JiYhMSE9PWMuX2RlZmF1bHQuYXBwbHkocC5wb3AoKSx0KXx8IVYobil8fHUmJm0obltkXSkmJiF4KG4pJiYoKGE9blt1XSkmJihuW3VdPW51bGwpLFMuZXZlbnQudHJpZ2dlcmVkPWQsZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLmFkZEV2ZW50TGlzdGVuZXIoZCx4dCksbltkXSgpLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmZi5yZW1vdmVFdmVudExpc3RlbmVyKGQseHQpLFMuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxhJiYoblt1XT1hKSksZS5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9Uy5leHRlbmQobmV3IFMuRXZlbnQsbix7dHlwZTplLGlzU2ltdWxhdGVkOiEwfSk7Uy5ldmVudC50cmlnZ2VyKHIsbnVsbCx0KX19KSxTLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpc1swXTtpZihuKXJldHVybiBTLmV2ZW50LnRyaWdnZXIoZSx0LG4sITApfX0pLHkuZm9jdXNpbnx8Uy5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHIpe3ZhciBpPWZ1bmN0aW9uKGUpe1MuZXZlbnQuc2ltdWxhdGUocixlLnRhcmdldCxTLmV2ZW50LmZpeChlKSl9O1MuZXZlbnQuc3BlY2lhbFtyXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpO3R8fGUuYWRkRXZlbnRMaXN0ZW5lcihuLGksITApLFkuYWNjZXNzKGUsciwodHx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLHQ9WS5hY2Nlc3MoZSxyKS0xO3Q/WS5hY2Nlc3MoZSxyLHQpOihlLnJlbW92ZUV2ZW50TGlzdGVuZXIobixpLCEwKSxZLnJlbW92ZShlLHIpKX19fSk7dmFyIGJ0PUMubG9jYXRpb24sd3Q9e2d1aWQ6RGF0ZS5ub3coKX0sVHQ9L1w/LztTLnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7dD0obmV3IEMuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChlKXt9cmV0dXJuIG49dCYmdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKVswXSx0JiYhbnx8Uy5lcnJvcigiSW52YWxpZCBYTUw6ICIrKG4/Uy5tYXAobi5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHRDb250ZW50fSkuam9pbigiXG4iKTplKSksdH07dmFyIEN0PS9cW1xdJC8sRXQ9L1xyP1xuL2csU3Q9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGt0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBBdChuLGUscixpKXt2YXIgdDtpZihBcnJheS5pc0FycmF5KGUpKVMuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cnx8Q3QudGVzdChuKT9pKG4sdCk6QXQobisiWyIrKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dD9lOiIiKSsiXSIsdCxyLGkpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PXcoZSkpaShuLGUpO2Vsc2UgZm9yKHQgaW4gZSlBdChuKyJbIit0KyJdIixlW3RdLHIsaSl9Uy5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3ZhciBuPW0odCk/dCgpOnQ7cltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09bj8iIjpuKX07aWYobnVsbD09ZSlyZXR1cm4iIjtpZihBcnJheS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIVMuaXNQbGFpbk9iamVjdChlKSlTLmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKUF0KG4sZVtuXSx0LGkpO3JldHVybiByLmpvaW4oIiYiKX0sUy5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBTLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9Uy5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGU/Uy5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhUyh0aGlzKS5pcygiOmRpc2FibGVkIikmJmt0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFTdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhcGUudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1TKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1uP251bGw6QXJyYXkuaXNBcnJheShuKT9TLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoRXQsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKEV0LCJcclxuIil9fSkuZ2V0KCl9fSk7dmFyIE50PS8lMjAvZyxqdD0vIy4qJC8sRHQ9LyhbPyZdKV89W14mXSovLHF0PS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sTHQ9L14oPzpHRVR8SEVBRCkkLyxIdD0vXlwvXC8vLE90PXt9LFB0PXt9LFJ0PSIqLyIuY29uY2F0KCIqIiksTXQ9RS5jcmVhdGVFbGVtZW50KCJhIik7ZnVuY3Rpb24gSXQobyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9IioiKTt2YXIgbixyPTAsaT1lLnRvTG93ZXJDYXNlKCkubWF0Y2goUCl8fFtdO2lmKG0odCkpd2hpbGUobj1pW3IrK10pIisiPT09blswXT8obj1uLnNsaWNlKDEpfHwiKiIsKG9bbl09b1tuXXx8W10pLnVuc2hpZnQodCkpOihvW25dPW9bbl18fFtdKS5wdXNoKHQpfX1mdW5jdGlvbiBXdCh0LGksbyxhKXt2YXIgcz17fSx1PXQ9PT1QdDtmdW5jdGlvbiBsKGUpe3ZhciByO3JldHVybiBzW2VdPSEwLFMuZWFjaCh0W2VdfHxbXSxmdW5jdGlvbihlLHQpe3ZhciBuPXQoaSxvLGEpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbIioiXSYmbCgiKiIpfWZ1bmN0aW9uIEZ0KGUsdCl7dmFyIG4scixpPVMuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJlMuZXh0ZW5kKCEwLGUsciksZX1NdC5ocmVmPWJ0LmhyZWYsUy5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmJ0LmhyZWYsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoYnQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UnQsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOlMucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P0Z0KEZ0KGUsUy5hamF4U2V0dGluZ3MpLHQpOkZ0KFMuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOkl0KE90KSxhamF4VHJhbnNwb3J0Okl0KFB0KSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9Uy5hamF4U2V0dXAoe30sdCkseT12LmNvbnRleHR8fHYsbT12LmNvbnRleHQmJih5Lm5vZGVUeXBlfHx5LmpxdWVyeSk/Uyh5KTpTLmV2ZW50LHg9Uy5EZWZlcnJlZCgpLGI9Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksdz12LnN0YXR1c0NvZGV8fHt9LGE9e30scz17fSx1PSJjYW5jZWxlZCIsVD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGgpe2lmKCFuKXtuPXt9O3doaWxlKHQ9cXQuZXhlYyhwKSluW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPShuW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pfXQ9bltlLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGg/cDpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWgmJihlPXNbZS50b0xvd2VyQ2FzZSgpXT1zW2UudG9Mb3dlckNhc2UoKV18fGUsYVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1oJiYodi5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoaClULmFsd2F5cyhlW1Quc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBlKXdbdF09W3dbdF0sZVt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWV8fHU7cmV0dXJuIGMmJmMuYWJvcnQodCksbCgwLHQpLHRoaXN9fTtpZih4LnByb21pc2UoVCksdi51cmw9KChlfHx2LnVybHx8YnQuaHJlZikrIiIpLnJlcGxhY2UoSHQsYnQucHJvdG9jb2wrIi8vIiksdi50eXBlPXQubWV0aG9kfHx0LnR5cGV8fHYubWV0aG9kfHx2LnR5cGUsdi5kYXRhVHlwZXM9KHYuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8WyIiXSxudWxsPT12LmNyb3NzRG9tYWluKXtyPUUuY3JlYXRlRWxlbWVudCgiYSIpO3RyeXtyLmhyZWY9di51cmwsci5ocmVmPXIuaHJlZix2LmNyb3NzRG9tYWluPU10LnByb3RvY29sKyIvLyIrTXQuaG9zdCE9ci5wcm90b2NvbCsiLy8iK3IuaG9zdH1jYXRjaChlKXt2LmNyb3NzRG9tYWluPSEwfX1pZih2LmRhdGEmJnYucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygdi5kYXRhJiYodi5kYXRhPVMucGFyYW0odi5kYXRhLHYudHJhZGl0aW9uYWwpKSxXdChPdCx2LHQsVCksaClyZXR1cm4gVDtmb3IoaSBpbihnPVMuZXZlbnQmJnYuZ2xvYmFsKSYmMD09Uy5hY3RpdmUrKyYmUy5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSx2LnR5cGU9di50eXBlLnRvVXBwZXJDYXNlKCksdi5oYXNDb250ZW50PSFMdC50ZXN0KHYudHlwZSksZj12LnVybC5yZXBsYWNlKGp0LCIiKSx2Lmhhc0NvbnRlbnQ/di5kYXRhJiZ2LnByb2Nlc3NEYXRhJiYwPT09KHYuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHYuZGF0YT12LmRhdGEucmVwbGFjZShOdCwiKyIpKToobz12LnVybC5zbGljZShmLmxlbmd0aCksdi5kYXRhJiYodi5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB2LmRhdGEpJiYoZis9KFR0LnRlc3QoZik/IiYiOiI/Iikrdi5kYXRhLGRlbGV0ZSB2LmRhdGEpLCExPT09di5jYWNoZSYmKGY9Zi5yZXBsYWNlKER0LCIkMSIpLG89KFR0LnRlc3QoZik/IiYiOiI/IikrIl89Iit3dC5ndWlkKysrbyksdi51cmw9ZitvKSx2LmlmTW9kaWZpZWQmJihTLmxhc3RNb2RpZmllZFtmXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsUy5sYXN0TW9kaWZpZWRbZl0pLFMuZXRhZ1tmXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixTLmV0YWdbZl0pKSwodi5kYXRhJiZ2Lmhhc0NvbnRlbnQmJiExIT09di5jb250ZW50VHlwZXx8dC5jb250ZW50VHlwZSkmJlQuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIix2LmNvbnRlbnRUeXBlKSxULnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsdi5kYXRhVHlwZXNbMF0mJnYuYWNjZXB0c1t2LmRhdGFUeXBlc1swXV0/di5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXSsoIioiIT09di5kYXRhVHlwZXNbMF0/IiwgIitSdCsiOyBxPTAuMDEiOiIiKTp2LmFjY2VwdHNbIioiXSksdi5oZWFkZXJzKVQuc2V0UmVxdWVzdEhlYWRlcihpLHYuaGVhZGVyc1tpXSk7aWYodi5iZWZvcmVTZW5kJiYoITE9PT12LmJlZm9yZVNlbmQuY2FsbCh5LFQsdil8fGgpKXJldHVybiBULmFib3J0KCk7aWYodT0iYWJvcnQiLGIuYWRkKHYuY29tcGxldGUpLFQuZG9uZSh2LnN1Y2Nlc3MpLFQuZmFpbCh2LmVycm9yKSxjPVd0KFB0LHYsdCxUKSl7aWYoVC5yZWFkeVN0YXRlPTEsZyYmbS50cmlnZ2VyKCJhamF4U2VuZCIsW1Qsdl0pLGgpcmV0dXJuIFQ7di5hc3luYyYmMDx2LnRpbWVvdXQmJihkPUMuc2V0VGltZW91dChmdW5jdGlvbigpe1QuYWJvcnQoInRpbWVvdXQiKX0sdi50aW1lb3V0KSk7dHJ5e2g9ITEsYy5zZW5kKGEsbCl9Y2F0Y2goZSl7aWYoaCl0aHJvdyBlO2woLTEsZSl9fWVsc2UgbCgtMSwiTm8gVHJhbnNwb3J0Iik7ZnVuY3Rpb24gbChlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9dDtofHwoaD0hMCxkJiZDLmNsZWFyVGltZW91dChkKSxjPXZvaWQgMCxwPXJ8fCIiLFQucmVhZHlTdGF0ZT0wPGU/NDowLGk9MjAwPD1lJiZlPDMwMHx8MzA0PT09ZSxuJiYocz1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX0odixULG4pKSwhaSYmLTE8Uy5pbkFycmF5KCJzY3JpcHQiLHYuZGF0YVR5cGVzKSYmUy5pbkFycmF5KCJqc29uIix2LmRhdGFUeXBlcyk8MCYmKHYuY29udmVydGVyc1sidGV4dCBzY3JpcHQiXT1mdW5jdGlvbigpe30pLHM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPXt9LGM9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihhIGluIGUuY29udmVydGVycylsW2EudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW2FdO289Yy5zaGlmdCgpO3doaWxlKG8paWYoZS5yZXNwb25zZUZpZWxkc1tvXSYmKG5bZS5yZXNwb25zZUZpZWxkc1tvXV09dCksIXUmJnImJmUuZGF0YUZpbHRlciYmKHQ9ZS5kYXRhRmlsdGVyKHQsZS5kYXRhVHlwZSkpLHU9byxvPWMuc2hpZnQoKSlpZigiKiI9PT1vKW89dTtlbHNlIGlmKCIqIiE9PXUmJnUhPT1vKXtpZighKGE9bFt1KyIgIitvXXx8bFsiKiAiK29dKSlmb3IoaSBpbiBsKWlmKChzPWkuc3BsaXQoIiAiKSlbMV09PT1vJiYoYT1sW3UrIiAiK3NbMF1dfHxsWyIqICIrc1swXV0pKXshMD09PWE/YT1sW2ldOiEwIT09bFtpXSYmKG89c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKCEwIT09YSlpZihhJiZlWyJ0aHJvd3MiXSl0PWEodCk7ZWxzZSB0cnl7dD1hKHQpfWNhdGNoKGUpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmE/ZToiTm8gY29udmVyc2lvbiBmcm9tICIrdSsiIHRvICIrb319fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX0odixzLFQsaSksaT8odi5pZk1vZGlmaWVkJiYoKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKSYmKFMubGFzdE1vZGlmaWVkW2ZdPXUpLCh1PVQuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSkmJihTLmV0YWdbZl09dSkpLDIwND09PWV8fCJIRUFEIj09PXYudHlwZT9sPSJub2NvbnRlbnQiOjMwND09PWU/bD0ibm90bW9kaWZpZWQiOihsPXMuc3RhdGUsbz1zLmRhdGEsaT0hKGE9cy5lcnJvcikpKTooYT1sLCFlJiZsfHwobD0iZXJyb3IiLGU8MCYmKGU9MCkpKSxULnN0YXR1cz1lLFQuc3RhdHVzVGV4dD0odHx8bCkrIiIsaT94LnJlc29sdmVXaXRoKHksW28sbCxUXSk6eC5yZWplY3RXaXRoKHksW1QsbCxhXSksVC5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLGcmJm0udHJpZ2dlcihpPyJhamF4U3VjY2VzcyI6ImFqYXhFcnJvciIsW1QsdixpP286YV0pLGIuZmlyZVdpdGgoeSxbVCxsXSksZyYmKG0udHJpZ2dlcigiYWpheENvbXBsZXRlIixbVCx2XSksLS1TLmFjdGl2ZXx8Uy5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9cmV0dXJuIFR9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmdldChlLHQsbiwianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUy5nZXQoZSx2b2lkIDAsdCwic2NyaXB0Iil9fSksUy5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGUsaSl7U1tpXT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbSh0KSYmKHI9cnx8bixuPXQsdD12b2lkIDApLFMuYWpheChTLmV4dGVuZCh7dXJsOmUsdHlwZTppLGRhdGFUeXBlOnIsZGF0YTp0LHN1Y2Nlc3M6bn0sUy5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUuaGVhZGVycykiY29udGVudC10eXBlIj09PXQudG9Mb3dlckNhc2UoKSYmKGUuY29udGVudFR5cGU9ZS5oZWFkZXJzW3RdfHwiIil9KSxTLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUy5hamF4KHt1cmw6ZSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKCl7fX0sZGF0YUZpbHRlcjpmdW5jdGlvbihlKXtTLmdsb2JhbEV2YWwoZSx0LG4pfX0pfSxTLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKG0oZSkmJihlPWUuY2FsbCh0aGlzWzBdKSksdD1TKGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdEVsZW1lbnRDaGlsZCllPWUuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGV9KS5hcHBlbmQodGhpcykpLHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihuKXtyZXR1cm4gbShuKT90aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS53cmFwSW5uZXIobi5jYWxsKHRoaXMsZSkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uyh0aGlzKSx0PWUuY29udGVudHMoKTt0Lmxlbmd0aD90LndyYXBBbGwobik6ZS5hcHBlbmQobil9KX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgbj1tKHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS53cmFwQWxsKG4/dC5jYWxsKHRoaXMsZSk6dCl9KX0sdW53cmFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudChlKS5ub3QoImJvZHkiKS5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSksdGhpc319KSxTLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIVMuZXhwci5wc2V1ZG9zLnZpc2libGUoZSl9LFMuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5vZmZzZXRXaWR0aHx8ZS5vZmZzZXRIZWlnaHR8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSxTLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBDLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe319O3ZhciBCdD17MDoyMDAsMTIyMzoyMDR9LCR0PVMuYWpheFNldHRpbmdzLnhocigpO3kuY29ycz0hISR0JiYid2l0aENyZWRlbnRpYWxzImluICR0LHkuYWpheD0kdD0hISR0LFMuYWpheFRyYW5zcG9ydChmdW5jdGlvbihpKXt2YXIgbyxhO2lmKHkuY29yc3x8JHQmJiFpLmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1pLnhocigpO2lmKHIub3BlbihpLnR5cGUsaS51cmwsaS5hc3luYyxpLnVzZXJuYW1lLGkucGFzc3dvcmQpLGkueGhyRmllbGRzKWZvcihuIGluIGkueGhyRmllbGRzKXJbbl09aS54aHJGaWVsZHNbbl07Zm9yKG4gaW4gaS5taW1lVHlwZSYmci5vdmVycmlkZU1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUoaS5taW1lVHlwZSksaS5jcm9zc0RvbWFpbnx8ZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLGUpci5zZXRSZXF1ZXN0SGVhZGVyKG4sZVtuXSk7bz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtvJiYobz1hPXIub25sb2FkPXIub25lcnJvcj1yLm9uYWJvcnQ9ci5vbnRpbWVvdXQ9ci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09ZT9yLmFib3J0KCk6ImVycm9yIj09PWU/Im51bWJlciIhPXR5cGVvZiByLnN0YXR1cz90KDAsImVycm9yIik6dChyLnN0YXR1cyxyLnN0YXR1c1RleHQpOnQoQnRbci5zdGF0dXNdfHxyLnN0YXR1cyxyLnN0YXR1c1RleHQsInRleHQiIT09KHIucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIHIucmVzcG9uc2VUZXh0P3tiaW5hcnk6ci5yZXNwb25zZX06e3RleHQ6ci5yZXNwb25zZVRleHR9LHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LHIub25sb2FkPW8oKSxhPXIub25lcnJvcj1yLm9udGltZW91dD1vKCJlcnJvciIpLHZvaWQgMCE9PXIub25hYm9ydD9yLm9uYWJvcnQ9YTpyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1yLnJlYWR5U3RhdGUmJkMuc2V0VGltZW91dChmdW5jdGlvbigpe28mJmEoKX0pfSxvPW8oImFib3J0Iik7dHJ5e3Iuc2VuZChpLmhhc0NvbnRlbnQmJmkuZGF0YXx8bnVsbCl9Y2F0Y2goZSl7aWYobyl0aHJvdyBlfX0sYWJvcnQ6ZnVuY3Rpb24oKXtvJiZvKCl9fX0pLFMuYWpheFByZWZpbHRlcihmdW5jdGlvbihlKXtlLmNyb3NzRG9tYWluJiYoZS5jb250ZW50cy5zY3JpcHQ9ITEpfSksUy5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZ2xvYmFsRXZhbChlKSxlfX19KSxTLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5jYWNoZSYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9IkdFVCIpfSksUy5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKG4pe3ZhciByLGk7aWYobi5jcm9zc0RvbWFpbnx8bi5zY3JpcHRBdHRycylyZXR1cm57c2VuZDpmdW5jdGlvbihlLHQpe3I9UygiPHNjcmlwdD4iKS5hdHRyKG4uc2NyaXB0QXR0cnN8fHt9KS5wcm9wKHtjaGFyc2V0Om4uc2NyaXB0Q2hhcnNldCxzcmM6bi51cmx9KS5vbigibG9hZCBlcnJvciIsaT1mdW5jdGlvbihlKXtyLnJlbW92ZSgpLGk9bnVsbCxlJiZ0KCJlcnJvciI9PT1lLnR5cGU/NDA0OjIwMCxlLnR5cGUpfSksRS5oZWFkLmFwcGVuZENoaWxkKHJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2kmJmkoKX19fSk7dmFyIF90LHp0PVtdLFV0PS8oPSlcPyg/PSZ8JCl8XD9cPy87Uy5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXp0LnBvcCgpfHxTLmV4cGFuZG8rIl8iK3d0Lmd1aWQrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLFMuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPSExIT09ZS5qc29ucCYmKFV0LnRlc3QoZS51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmVXQudGVzdChlLmRhdGEpJiYiZGF0YSIpO2lmKGF8fCJqc29ucCI9PT1lLmRhdGFUeXBlc1swXSlyZXR1cm4gcj1lLmpzb25wQ2FsbGJhY2s9bShlLmpzb25wQ2FsbGJhY2spP2UuanNvbnBDYWxsYmFjaygpOmUuanNvbnBDYWxsYmFjayxhP2VbYV09ZVthXS5yZXBsYWNlKFV0LCIkMSIrcik6ITEhPT1lLmpzb25wJiYoZS51cmwrPShUdC50ZXN0KGUudXJsKT8iJiI6Ij8iKStlLmpzb25wKyI9IityKSxlLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gb3x8Uy5lcnJvcihyKyIgd2FzIG5vdCBjYWxsZWQiKSxvWzBdfSxlLmRhdGFUeXBlc1swXT0ianNvbiIsaT1DW3JdLENbcl09ZnVuY3Rpb24oKXtvPWFyZ3VtZW50c30sbi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1pP1MoQykucmVtb3ZlUHJvcChyKTpDW3JdPWksZVtyXSYmKGUuanNvbnBDYWxsYmFjaz10Lmpzb25wQ2FsbGJhY2ssenQucHVzaChyKSksbyYmbShpKSYmaShvWzBdKSxvPWk9dm9pZCAwfSksInNjcmlwdCJ9KSx5LmNyZWF0ZUhUTUxEb2N1bWVudD0oKF90PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09X3QuY2hpbGROb2Rlcy5sZW5ndGgpLFMucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdHx8KHkuY3JlYXRlSFRNTERvY3VtZW50Pygocj0odD1FLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLmNyZWF0ZUVsZW1lbnQoImJhc2UiKSkuaHJlZj1FLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHIpKTp0PUUpLG89IW4mJltdLChpPU4uZXhlYyhlKSk/W3QuY3JlYXRlRWxlbWVudChpWzFdKV06KGk9eGUoW2VdLHQsbyksbyYmby5sZW5ndGgmJlMobykucmVtb3ZlKCksUy5tZXJnZShbXSxpLmNoaWxkTm9kZXMpKSk7dmFyIHIsaSxvfSxTLmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxzJiYocj1odChlLnNsaWNlKHMpKSxlPWUuc2xpY2UoMCxzKSksbSh0KT8obj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihpPSJQT1NUIiksMDxhLmxlbmd0aCYmUy5hamF4KHt1cmw6ZSx0eXBlOml8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLGEuaHRtbChyP1MoIjxkaXY+IikuYXBwZW5kKFMucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuYWx3YXlzKG4mJmZ1bmN0aW9uKGUsdCl7YS5lYWNoKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pfSksdGhpc30sUy5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFMuZ3JlcChTLnRpbWVycyxmdW5jdGlvbihlKXtyZXR1cm4gdD09PWUuZWxlbX0pLmxlbmd0aH0sUy5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9Uy5jc3MoZSwicG9zaXRpb24iKSxjPVMoZSksZj17fTsic3RhdGljIj09PWwmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHM9Yy5vZmZzZXQoKSxvPVMuY3NzKGUsInRvcCIpLHU9Uy5jc3MoZSwibGVmdCIpLCgiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwobyt1KS5pbmRleE9mKCJhdXRvIik/KGE9KHI9Yy5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSxtKHQpJiYodD10LmNhbGwoZSxuLFMuZXh0ZW5kKHt9LHMpKSksbnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1zLnRvcCthKSxudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LXMubGVmdCtpKSwidXNpbmciaW4gdD90LnVzaW5nLmNhbGwoZSxmKTpjLmNzcyhmKX19LFMuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09dD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihlKXtTLm9mZnNldC5zZXRPZmZzZXQodGhpcyx0LGUpfSk7dmFyIGUsbixyPXRoaXNbMF07cmV0dXJuIHI/ci5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ZS50b3Arbi5wYWdlWU9mZnNldCxsZWZ0OmUubGVmdCtuLnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH06dm9pZCAwfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09Uy5jc3MociwicG9zaXRpb24iKSl0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXt0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7d2hpbGUoZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09Uy5jc3MoZSwicG9zaXRpb24iKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT1TKGUpLm9mZnNldCgpKS50b3ArPVMuY3NzKGUsImJvcmRlclRvcFdpZHRoIiwhMCksaS5sZWZ0Kz1TLmNzcyhlLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC1TLmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtUy5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGUmJiJzdGF0aWMiPT09Uy5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxyZX0pfX0pLFMuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbih0LGkpe3ZhciBvPSJwYWdlWU9mZnNldCI9PT1pO1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoeChlKT9yPWU6OT09PWUubm9kZVR5cGUmJihyPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PW4pcmV0dXJuIHI/cltpXTplW3RdO3I/ci5zY3JvbGxUbyhvP3IucGFnZVhPZmZzZXQ6bixvP246ci5wYWdlWU9mZnNldCk6ZVt0XT1ufSx0LGUsYXJndW1lbnRzLmxlbmd0aCl9fSksUy5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsbil7Uy5jc3NIb29rc1tuXT1GZSh5LnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiB0PVdlKGUsbiksUGUudGVzdCh0KT9TKGUpLnBvc2l0aW9uKClbbl0rInB4Ijp0fSl9KSxTLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLHMpe1MuZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpzLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24ocixvKXtTLmZuW29dPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCYmKHJ8fCJib29sZWFuIiE9dHlwZW9mIGUpLGk9cnx8KCEwPT09ZXx8ITA9PT10PyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4geChlKT8wPT09by5pbmRleE9mKCJvdXRlciIpP2VbImlubmVyIithXTplLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09ZS5ub2RlVHlwZT8ocj1lLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChlLmJvZHlbInNjcm9sbCIrYV0sclsic2Nyb2xsIithXSxlLmJvZHlbIm9mZnNldCIrYV0sclsib2Zmc2V0IithXSxyWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09bj9TLmNzcyhlLHQsaSk6Uy5zdHlsZShlLHQsbixpKX0scyxuP2U6dm9pZCAwLG4pfX0pfSksUy5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oZSx0KXtTLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSksUy5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsIioqIik6dGhpcy5vZmYodCxlfHwiKioiLG4pfSxob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX19KSxTLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSxuKXtTLmZuW25dPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKG4sbnVsbCxlLHQpOnRoaXMudHJpZ2dlcihuKX19KTt2YXIgWHQ9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO1MucHJveHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLG0oZSkpcmV0dXJuIHI9cy5jYWxsKGFyZ3VtZW50cywyKSwoaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQocy5jYWxsKGFyZ3VtZW50cykpKX0pLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8Uy5ndWlkKyssaX0sUy5ob2xkUmVhZHk9ZnVuY3Rpb24oZSl7ZT9TLnJlYWR5V2FpdCsrOlMucmVhZHkoITApfSxTLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxTLnBhcnNlSlNPTj1KU09OLnBhcnNlLFMubm9kZU5hbWU9QSxTLmlzRnVuY3Rpb249bSxTLmlzV2luZG93PXgsUy5jYW1lbENhc2U9WCxTLnR5cGU9dyxTLm5vdz1EYXRlLm5vdyxTLmlzTnVtZXJpYz1mdW5jdGlvbihlKXt2YXIgdD1TLnR5cGUoZSk7cmV0dXJuKCJudW1iZXIiPT09dHx8InN0cmluZyI9PT10KSYmIWlzTmFOKGUtcGFyc2VGbG9hdChlKSl9LFMudHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZShYdCwiIil9LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBTfSk7dmFyIFZ0PUMualF1ZXJ5LEd0PUMuJDtyZXR1cm4gUy5ub0NvbmZsaWN0PWZ1bmN0aW9uKGUpe3JldHVybiBDLiQ9PT1TJiYoQy4kPUd0KSxlJiZDLmpRdWVyeT09PVMmJihDLmpRdWVyeT1WdCksU30sInVuZGVmaW5lZCI9PXR5cGVvZiBlJiYoQy5qUXVlcnk9Qy4kPVMpLFN9KTsNCg0KLyohIGpRdWVyeSBWYWxpZGF0aW9uIFBsdWdpbiAtIHYxLjE5LjUgLSA3LzEvMjAyMg0KICogaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy8NCiAqIENvcHlyaWdodCAoYykgMjAyMiBKw7ZybiBaYWVmZmVyZXI7IExpY2Vuc2VkIE1JVCAqLw0KIWZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sYSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZSgianF1ZXJ5IikpOmEoalF1ZXJ5KX0oZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5mbix7dmFsaWRhdGU6ZnVuY3Rpb24oYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB2b2lkKGImJmIuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIk5vdGhpbmcgc2VsZWN0ZWQsIGNhbid0IHZhbGlkYXRlLCByZXR1cm5pbmcgbm90aGluZy4iKSk7dmFyIGM9YS5kYXRhKHRoaXNbMF0sInZhbGlkYXRvciIpO3JldHVybiBjP2M6KHRoaXMuYXR0cigibm92YWxpZGF0ZSIsIm5vdmFsaWRhdGUiKSxjPW5ldyBhLnZhbGlkYXRvcihiLHRoaXNbMF0pLGEuZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiLGMpLGMuc2V0dGluZ3Mub25zdWJtaXQmJih0aGlzLm9uKCJjbGljay52YWxpZGF0ZSIsIjpzdWJtaXQiLGZ1bmN0aW9uKGIpe2Muc3VibWl0QnV0dG9uPWIuY3VycmVudFRhcmdldCxhKHRoaXMpLmhhc0NsYXNzKCJjYW5jZWwiKSYmKGMuY2FuY2VsU3VibWl0PSEwKSx2b2lkIDAhPT1hKHRoaXMpLmF0dHIoImZvcm1ub3ZhbGlkYXRlIikmJihjLmNhbmNlbFN1Ym1pdD0hMCl9KSx0aGlzLm9uKCJzdWJtaXQudmFsaWRhdGUiLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoKXt2YXIgZCxlO3JldHVybiBjLnN1Ym1pdEJ1dHRvbiYmKGMuc2V0dGluZ3Muc3VibWl0SGFuZGxlcnx8Yy5mb3JtU3VibWl0dGVkKSYmKGQ9YSgiPGlucHV0IHR5cGU9J2hpZGRlbicvPiIpLmF0dHIoIm5hbWUiLGMuc3VibWl0QnV0dG9uLm5hbWUpLnZhbChhKGMuc3VibWl0QnV0dG9uKS52YWwoKSkuYXBwZW5kVG8oYy5jdXJyZW50Rm9ybSkpLCEoYy5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyJiYhYy5zZXR0aW5ncy5kZWJ1Zyl8fChlPWMuc2V0dGluZ3Muc3VibWl0SGFuZGxlci5jYWxsKGMsYy5jdXJyZW50Rm9ybSxiKSxkJiZkLnJlbW92ZSgpLHZvaWQgMCE9PWUmJmUpfXJldHVybiBjLnNldHRpbmdzLmRlYnVnJiZiLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWxTdWJtaXQ/KGMuY2FuY2VsU3VibWl0PSExLGQoKSk6Yy5mb3JtKCk/Yy5wZW5kaW5nUmVxdWVzdD8oYy5mb3JtU3VibWl0dGVkPSEwLCExKTpkKCk6KGMuZm9jdXNJbnZhbGlkKCksITEpfSkpLGMpfSx2YWxpZDpmdW5jdGlvbigpe3ZhciBiLGMsZDtyZXR1cm4gYSh0aGlzWzBdKS5pcygiZm9ybSIpP2I9dGhpcy52YWxpZGF0ZSgpLmZvcm0oKTooZD1bXSxiPSEwLGM9YSh0aGlzWzBdLmZvcm0pLnZhbGlkYXRlKCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yj1jLmVsZW1lbnQodGhpcykmJmIsYnx8KGQ9ZC5jb25jYXQoYy5lcnJvckxpc3QpKX0pLGMuZXJyb3JMaXN0PWQpLGJ9LHJ1bGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaCxpLGo9dGhpc1swXSxrPSJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYobnVsbCE9aiYmKCFqLmZvcm0mJmsmJihqLmZvcm09dGhpcy5jbG9zZXN0KCJmb3JtIilbMF0sai5uYW1lPXRoaXMuYXR0cigibmFtZSIpKSxudWxsIT1qLmZvcm0pKXtpZihiKXN3aXRjaChkPWEuZGF0YShqLmZvcm0sInZhbGlkYXRvciIpLnNldHRpbmdzLGU9ZC5ydWxlcyxmPWEudmFsaWRhdG9yLnN0YXRpY1J1bGVzKGopLGIpe2Nhc2UiYWRkIjphLmV4dGVuZChmLGEudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoYykpLGRlbGV0ZSBmLm1lc3NhZ2VzLGVbai5uYW1lXT1mLGMubWVzc2FnZXMmJihkLm1lc3NhZ2VzW2oubmFtZV09YS5leHRlbmQoZC5tZXNzYWdlc1tqLm5hbWVdLGMubWVzc2FnZXMpKTticmVhaztjYXNlInJlbW92ZSI6cmV0dXJuIGM/KGk9e30sYS5lYWNoKGMuc3BsaXQoL1xzLyksZnVuY3Rpb24oYSxiKXtpW2JdPWZbYl0sZGVsZXRlIGZbYl19KSxpKTooZGVsZXRlIGVbai5uYW1lXSxmKX1yZXR1cm4gZz1hLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlcyhhLmV4dGVuZCh7fSxhLnZhbGlkYXRvci5jbGFzc1J1bGVzKGopLGEudmFsaWRhdG9yLmF0dHJpYnV0ZVJ1bGVzKGopLGEudmFsaWRhdG9yLmRhdGFSdWxlcyhqKSxhLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhqKSksaiksZy5yZXF1aXJlZCYmKGg9Zy5yZXF1aXJlZCxkZWxldGUgZy5yZXF1aXJlZCxnPWEuZXh0ZW5kKHtyZXF1aXJlZDpofSxnKSksZy5yZW1vdGUmJihoPWcucmVtb3RlLGRlbGV0ZSBnLnJlbW90ZSxnPWEuZXh0ZW5kKGcse3JlbW90ZTpofSkpLGd9fX0pO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX07YS5leHRlbmQoYS5leHByLnBzZXVkb3N8fGEuZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbihjKXtyZXR1cm4hYigiIithKGMpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKGMpe3ZhciBkPWEoYykudmFsKCk7cmV0dXJuIG51bGwhPT1kJiYhIWIoIiIrZCl9LHVuY2hlY2tlZDpmdW5jdGlvbihiKXtyZXR1cm4hYShiKS5wcm9wKCJjaGVja2VkIil9fSksYS52YWxpZGF0b3I9ZnVuY3Rpb24oYixjKXt0aGlzLnNldHRpbmdzPWEuZXh0ZW5kKCEwLHt9LGEudmFsaWRhdG9yLmRlZmF1bHRzLGIpLHRoaXMuY3VycmVudEZvcm09Yyx0aGlzLmluaXQoKX0sYS52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGM9YS5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gYy51bnNoaWZ0KGIpLGEudmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGMpfTp2b2lkIDA9PT1jP2I6KGFyZ3VtZW50cy5sZW5ndGg+MiYmYy5jb25zdHJ1Y3RvciE9PUFycmF5JiYoYz1hLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxjLmNvbnN0cnVjdG9yIT09QXJyYXkmJihjPVtjXSksYS5lYWNoKGMsZnVuY3Rpb24oYSxjKXtiPWIucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK2ErIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBjfSl9KSxiKX0sYS5leHRlbmQoYS52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6YShbXSksZXJyb3JMYWJlbENvbnRhaW5lcjphKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihhKXt0aGlzLmxhc3RBY3RpdmU9YSx0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGEsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IoYSkpKX0sb25mb2N1c291dDpmdW5jdGlvbihhKXt0aGlzLmNoZWNrYWJsZShhKXx8IShhLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQpJiZ0aGlzLm9wdGlvbmFsKGEpfHx0aGlzLmVsZW1lbnQoYSl9LG9ua2V5dXA6ZnVuY3Rpb24oYixjKXt2YXIgZD1bMTYsMTcsMTgsMjAsMzUsMzYsMzcsMzgsMzksNDAsNDUsMTQ0LDIyNV07OT09PWMud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUoYil8fGEuaW5BcnJheShjLmtleUNvZGUsZCkhPT0tMXx8KGIubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZHx8Yi5uYW1lIGluIHRoaXMuaW52YWxpZCkmJnRoaXMuZWxlbWVudChiKX0sb25jbGljazpmdW5jdGlvbihhKXthLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQ/dGhpcy5lbGVtZW50KGEpOmEucGFyZW50Tm9kZS5uYW1lIGluIHRoaXMuc3VibWl0dGVkJiZ0aGlzLmVsZW1lbnQoYS5wYXJlbnROb2RlKX0saGlnaGxpZ2h0OmZ1bmN0aW9uKGIsYyxkKXsicmFkaW8iPT09Yi50eXBlP3RoaXMuZmluZEJ5TmFtZShiLm5hbWUpLmFkZENsYXNzKGMpLnJlbW92ZUNsYXNzKGQpOmEoYikuYWRkQ2xhc3MoYykucmVtb3ZlQ2xhc3MoZCl9LHVuaGlnaGxpZ2h0OmZ1bmN0aW9uKGIsYyxkKXsicmFkaW8iPT09Yi50eXBlP3RoaXMuZmluZEJ5TmFtZShiLm5hbWUpLnJlbW92ZUNsYXNzKGMpLmFkZENsYXNzKGQpOmEoYikucmVtb3ZlQ2xhc3MoYykuYWRkQ2xhc3MoZCl9fSxzZXREZWZhdWx0czpmdW5jdGlvbihiKXthLmV4dGVuZChhLnZhbGlkYXRvci5kZWZhdWx0cyxiKX0sbWVzc2FnZXM6e3JlcXVpcmVkOiJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLiIscmVtb3RlOiJQbGVhc2UgZml4IHRoaXMgZmllbGQuIixlbWFpbDoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4iLHVybDoiUGxlYXNlIGVudGVyIGEgdmFsaWQgVVJMLiIsZGF0ZToiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZS4iLGRhdGVJU086IlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUgKElTTykuIixudW1iZXI6IlBsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlci4iLGRpZ2l0czoiUGxlYXNlIGVudGVyIG9ubHkgZGlnaXRzLiIsZXF1YWxUbzoiUGxlYXNlIGVudGVyIHRoZSBzYW1lIHZhbHVlIGFnYWluLiIsbWF4bGVuZ3RoOmEudmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIG5vIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVycy4iKSxtaW5sZW5ndGg6YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYXQgbGVhc3QgezB9IGNoYXJhY3RlcnMuIikscmFuZ2VsZW5ndGg6YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9IGNoYXJhY3RlcnMgbG9uZy4iKSxyYW5nZTphLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0uIiksbWF4OmEudmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHswfS4iKSxtaW46YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLHN0ZXA6YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSBtdWx0aXBsZSBvZiB7MH0uIil9LGF1dG9DcmVhdGVSYW5nZXM6ITEscHJvdG90eXBlOntpbml0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEodGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1hKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKCF0aGlzLmZvcm0mJmMmJih0aGlzLmZvcm09YSh0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPWEodGhpcykuYXR0cigibmFtZSIpKSxkPT09dGhpcy5mb3JtKXt2YXIgZT1hLmRhdGEodGhpcy5mb3JtLCJ2YWxpZGF0b3IiKSxmPSJvbiIrYi50eXBlLnJlcGxhY2UoL152YWxpZGF0ZS8sIiIpLGc9ZS5zZXR0aW5ncztnW2ZdJiYhYSh0aGlzKS5pcyhnLmlnbm9yZSkmJmdbZl0uY2FsbChlLHRoaXMsYil9fXRoaXMubGFiZWxDb250YWluZXI9YSh0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpLHRoaXMuZXJyb3JDb250ZXh0PXRoaXMubGFiZWxDb250YWluZXIubGVuZ3RoJiZ0aGlzLmxhYmVsQ29udGFpbmVyfHxhKHRoaXMuY3VycmVudEZvcm0pLHRoaXMuY29udGFpbmVycz1hKHRoaXMuc2V0dGluZ3MuZXJyb3JDb250YWluZXIpLmFkZCh0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpLHRoaXMuc3VibWl0dGVkPXt9LHRoaXMudmFsdWVDYWNoZT17fSx0aGlzLnBlbmRpbmdSZXF1ZXN0PTAsdGhpcy5wZW5kaW5nPXt9LHRoaXMuaW52YWxpZD17fSx0aGlzLnJlc2V0KCk7dmFyIGMsZD10aGlzLmN1cnJlbnRGb3JtLGU9dGhpcy5ncm91cHM9e307YS5lYWNoKHRoaXMuc2V0dGluZ3MuZ3JvdXBzLGZ1bmN0aW9uKGIsYyl7InN0cmluZyI9PXR5cGVvZiBjJiYoYz1jLnNwbGl0KC9ccy8pKSxhLmVhY2goYyxmdW5jdGlvbihhLGMpe2VbY109Yn0pfSksYz10aGlzLnNldHRpbmdzLnJ1bGVzLGEuZWFjaChjLGZ1bmN0aW9uKGIsZCl7Y1tiXT1hLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGQpfSksYSh0aGlzLmN1cnJlbnRGb3JtKS5vbigiZm9jdXNpbi52YWxpZGF0ZSBmb2N1c291dC52YWxpZGF0ZSBrZXl1cC52YWxpZGF0ZSIsIjp0ZXh0LCBbdHlwZT0ncGFzc3dvcmQnXSwgW3R5cGU9J2ZpbGUnXSwgc2VsZWN0LCB0ZXh0YXJlYSwgW3R5cGU9J251bWJlciddLCBbdHlwZT0nc2VhcmNoJ10sIFt0eXBlPSd0ZWwnXSwgW3R5cGU9J3VybCddLCBbdHlwZT0nZW1haWwnXSwgW3R5cGU9J2RhdGV0aW1lJ10sIFt0eXBlPSdkYXRlJ10sIFt0eXBlPSdtb250aCddLCBbdHlwZT0nd2VlayddLCBbdHlwZT0ndGltZSddLCBbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgW3R5cGU9J3JhbmdlJ10sIFt0eXBlPSdjb2xvciddLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10sIFtjb250ZW50ZWRpdGFibGVdLCBbdHlwZT0nYnV0dG9uJ10iLGIpLm9uKCJjbGljay52YWxpZGF0ZSIsInNlbGVjdCwgb3B0aW9uLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10iLGIpLHRoaXMuc2V0dGluZ3MuaW52YWxpZEhhbmRsZXImJmEodGhpcy5jdXJyZW50Rm9ybSkub24oImludmFsaWQtZm9ybS52YWxpZGF0ZSIsdGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlcil9LGZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja0Zvcm0oKSxhLmV4dGVuZCh0aGlzLnN1Ym1pdHRlZCx0aGlzLmVycm9yTWFwKSx0aGlzLmludmFsaWQ9YS5leHRlbmQoe30sdGhpcy5lcnJvck1hcCksdGhpcy52YWxpZCgpfHxhKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5zaG93RXJyb3JzKCksdGhpcy52YWxpZCgpfSxjaGVja0Zvcm06ZnVuY3Rpb24oKXt0aGlzLnByZXBhcmVGb3JtKCk7Zm9yKHZhciBhPTAsYj10aGlzLmN1cnJlbnRFbGVtZW50cz10aGlzLmVsZW1lbnRzKCk7YlthXTthKyspdGhpcy5jaGVjayhiW2FdKTtyZXR1cm4gdGhpcy52YWxpZCgpfSxlbGVtZW50OmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT10aGlzLmNsZWFuKGIpLGY9dGhpcy52YWxpZGF0aW9uVGFyZ2V0Rm9yKGUpLGc9dGhpcyxoPSEwO3JldHVybiB2b2lkIDA9PT1mP2RlbGV0ZSB0aGlzLmludmFsaWRbZS5uYW1lXToodGhpcy5wcmVwYXJlRWxlbWVudChmKSx0aGlzLmN1cnJlbnRFbGVtZW50cz1hKGYpLGQ9dGhpcy5ncm91cHNbZi5uYW1lXSxkJiZhLmVhY2godGhpcy5ncm91cHMsZnVuY3Rpb24oYSxiKXtiPT09ZCYmYSE9PWYubmFtZSYmKGU9Zy52YWxpZGF0aW9uVGFyZ2V0Rm9yKGcuY2xlYW4oZy5maW5kQnlOYW1lKGEpKSksZSYmZS5uYW1lIGluIGcuaW52YWxpZCYmKGcuY3VycmVudEVsZW1lbnRzLnB1c2goZSksaD1nLmNoZWNrKGUpJiZoKSl9KSxjPXRoaXMuY2hlY2soZikhPT0hMSxoPWgmJmMsYz90aGlzLmludmFsaWRbZi5uYW1lXT0hMTp0aGlzLmludmFsaWRbZi5uYW1lXT0hMCx0aGlzLm51bWJlck9mSW52YWxpZHMoKXx8KHRoaXMudG9IaWRlPXRoaXMudG9IaWRlLmFkZCh0aGlzLmNvbnRhaW5lcnMpKSx0aGlzLnNob3dFcnJvcnMoKSxhKGIpLmF0dHIoImFyaWEtaW52YWxpZCIsIWMpKSxofSxzaG93RXJyb3JzOmZ1bmN0aW9uKGIpe2lmKGIpe3ZhciBjPXRoaXM7YS5leHRlbmQodGhpcy5lcnJvck1hcCxiKSx0aGlzLmVycm9yTGlzdD1hLm1hcCh0aGlzLmVycm9yTWFwLGZ1bmN0aW9uKGEsYil7cmV0dXJue21lc3NhZ2U6YSxlbGVtZW50OmMuZmluZEJ5TmFtZShiKVswXX19KSx0aGlzLnN1Y2Nlc3NMaXN0PWEuZ3JlcCh0aGlzLnN1Y2Nlc3NMaXN0LGZ1bmN0aW9uKGEpe3JldHVybiEoYS5uYW1lIGluIGIpfSl9dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzP3RoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycy5jYWxsKHRoaXMsdGhpcy5lcnJvck1hcCx0aGlzLmVycm9yTGlzdCk6dGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpfSxyZXNldEZvcm06ZnVuY3Rpb24oKXthLmZuLnJlc2V0Rm9ybSYmYSh0aGlzLmN1cnJlbnRGb3JtKS5yZXNldEZvcm0oKSx0aGlzLmludmFsaWQ9e30sdGhpcy5zdWJtaXR0ZWQ9e30sdGhpcy5wcmVwYXJlRm9ybSgpLHRoaXMuaGlkZUVycm9ycygpO3ZhciBiPXRoaXMuZWxlbWVudHMoKS5yZW1vdmVEYXRhKCJwcmV2aW91c1ZhbHVlIikucmVtb3ZlQXR0cigiYXJpYS1pbnZhbGlkIik7dGhpcy5yZXNldEVsZW1lbnRzKGIpfSxyZXNldEVsZW1lbnRzOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKGI9MDthW2JdO2IrKyl0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxhW2JdLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcywiIiksdGhpcy5maW5kQnlOYW1lKGFbYl0ubmFtZSkucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKTtlbHNlIGEucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpfSxudW1iZXJPZkludmFsaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKHRoaXMuaW52YWxpZCl9LG9iamVjdExlbmd0aDpmdW5jdGlvbihhKXt2YXIgYixjPTA7Zm9yKGIgaW4gYSl2b2lkIDAhPT1hW2JdJiZudWxsIT09YVtiXSYmYVtiXSE9PSExJiZjKys7cmV0dXJuIGN9LGhpZGVFcnJvcnM6ZnVuY3Rpb24oKXt0aGlzLmhpZGVUaGVzZSh0aGlzLnRvSGlkZSl9LGhpZGVUaGVzZTpmdW5jdGlvbihhKXthLm5vdCh0aGlzLmNvbnRhaW5lcnMpLnRleHQoIiIpLHRoaXMuYWRkV3JhcHBlcihhKS5oaWRlKCl9LHZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemUoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yTGlzdC5sZW5ndGh9LGZvY3VzSW52YWxpZDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuZm9jdXNJbnZhbGlkKXRyeXthKHRoaXMuZmluZExhc3RBY3RpdmUoKXx8dGhpcy5lcnJvckxpc3QubGVuZ3RoJiZ0aGlzLmVycm9yTGlzdFswXS5lbGVtZW50fHxbXSkuZmlsdGVyKCI6dmlzaWJsZSIpLnRyaWdnZXIoImZvY3VzIikudHJpZ2dlcigiZm9jdXNpbiIpfWNhdGNoKGIpe319LGZpbmRMYXN0QWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5sYXN0QWN0aXZlO3JldHVybiBiJiYxPT09YS5ncmVwKHRoaXMuZXJyb3JMaXN0LGZ1bmN0aW9uKGEpe3JldHVybiBhLmVsZW1lbnQubmFtZT09PWIubmFtZX0pLmxlbmd0aCYmYn0sZWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9e307cmV0dXJuIGEodGhpcy5jdXJyZW50Rm9ybSkuZmluZCgiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFtjb250ZW50ZWRpdGFibGVdIikubm90KCI6c3VibWl0LCA6cmVzZXQsIDppbWFnZSwgOmRpc2FibGVkIikubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZD10aGlzLm5hbWV8fGEodGhpcykuYXR0cigibmFtZSIpLGU9InVuZGVmaW5lZCIhPXR5cGVvZiBhKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpJiYiZmFsc2UiIT09YSh0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKTtyZXR1cm4hZCYmYi5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoIiVvIGhhcyBubyBuYW1lIGFzc2lnbmVkIix0aGlzKSxlJiYodGhpcy5mb3JtPWEodGhpcykuY2xvc2VzdCgiZm9ybSIpWzBdLHRoaXMubmFtZT1kKSx0aGlzLmZvcm09PT1iLmN1cnJlbnRGb3JtJiYoIShkIGluIGN8fCFiLm9iamVjdExlbmd0aChhKHRoaXMpLnJ1bGVzKCkpKSYmKGNbZF09ITAsITApKX0pfSxjbGVhbjpmdW5jdGlvbihiKXtyZXR1cm4gYShiKVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBhKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIitiLHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdLHRoaXMuZXJyb3JMaXN0PVtdLHRoaXMuZXJyb3JNYXA9e30sdGhpcy50b1Nob3c9YShbXSksdGhpcy50b0hpZGU9YShbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpLHRoaXMuY3VycmVudEVsZW1lbnRzPWEoW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKSx0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLnJlc2V0KCksdGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3IoYSl9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbihiKXt2YXIgYyxkLGU9YShiKSxmPWIudHlwZSxnPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PWUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZShiLm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgYi52YWxpZGl0eT9iLnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOmUudmFsKCk6KGM9Zz9lLnRleHQoKTplLnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWMuc3Vic3RyKDAsMTIpP2Muc3Vic3RyKDEyKTooZD1jLmxhc3RJbmRleE9mKCIvIiksZD49MD9jLnN1YnN0cihkKzEpOihkPWMubGFzdEluZGV4T2YoIlxcIiksZD49MD9jLnN1YnN0cihkKzEpOmMpKToic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKC9cci9nLCIiKTpjKX0sY2hlY2s6ZnVuY3Rpb24oYil7Yj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbihiKSk7dmFyIGMsZCxlLGYsZz1hKGIpLnJ1bGVzKCksaD1hLm1hcChnLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KS5sZW5ndGgsaT0hMSxqPXRoaXMuZWxlbWVudFZhbHVlKGIpOyJmdW5jdGlvbiI9PXR5cGVvZiBnLm5vcm1hbGl6ZXI/Zj1nLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGY9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKSxmJiYoaj1mLmNhbGwoYixqKSxkZWxldGUgZy5ub3JtYWxpemVyKTtmb3IoZCBpbiBnKXtlPXttZXRob2Q6ZCxwYXJhbWV0ZXJzOmdbZF19O3RyeXtpZihjPWEudmFsaWRhdG9yLm1ldGhvZHNbZF0uY2FsbCh0aGlzLGosYixlLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PWMmJjE9PT1oKXtpPSEwO2NvbnRpbnVlfWlmKGk9ITEsInBlbmRpbmciPT09YylyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IoYikpKTtpZighYylyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQoYixlKSwhMX1jYXRjaChrKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIitiLmlkKyIsIGNoZWNrIHRoZSAnIitlLm1ldGhvZCsiJyBtZXRob2QuIixrKSxrIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoay5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK2IuaWQrIiwgY2hlY2sgdGhlICciK2UubWV0aG9kKyInIG1ldGhvZC4iKSxrfX1pZighaSlyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgoZykmJnRoaXMuc3VjY2Vzc0xpc3QucHVzaChiKSwhMH0sY3VzdG9tRGF0YU1lc3NhZ2U6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiKS5kYXRhKCJtc2ciK2MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSl8fGEoYikuZGF0YSgibXNnIil9LGN1c3RvbU1lc3NhZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2FdO3JldHVybiBjJiYoYy5jb25zdHJ1Y3Rvcj09PVN0cmluZz9jOmNbYl0pfSxmaW5kRGVmaW5lZDpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaWYodm9pZCAwIT09YXJndW1lbnRzW2FdKXJldHVybiBhcmd1bWVudHNbYV19LGRlZmF1bHRNZXNzYWdlOmZ1bmN0aW9uKGIsYyl7InN0cmluZyI9PXR5cGVvZiBjJiYoYz17bWV0aG9kOmN9KTt2YXIgZD10aGlzLmZpbmREZWZpbmVkKHRoaXMuY3VzdG9tTWVzc2FnZShiLm5hbWUsYy5tZXRob2QpLHRoaXMuY3VzdG9tRGF0YU1lc3NhZ2UoYixjLm1ldGhvZCksIXRoaXMuc2V0dGluZ3MuaWdub3JlVGl0bGUmJmIudGl0bGV8fHZvaWQgMCxhLnZhbGlkYXRvci5tZXNzYWdlc1tjLm1ldGhvZF0sIjxzdHJvbmc+V2FybmluZzogTm8gbWVzc2FnZSBkZWZpbmVkIGZvciAiK2IubmFtZSsiPC9zdHJvbmc+IiksZT0vXCQ/XHsoXGQrKVx9L2c7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGQ/ZD1kLmNhbGwodGhpcyxjLnBhcmFtZXRlcnMsYik6ZS50ZXN0KGQpJiYoZD1hLnZhbGlkYXRvci5mb3JtYXQoZC5yZXBsYWNlKGUsInskMX0iKSxjLnBhcmFtZXRlcnMpKSxkfSxmb3JtYXRBbmRBZGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmRlZmF1bHRNZXNzYWdlKGEsYik7dGhpcy5lcnJvckxpc3QucHVzaCh7bWVzc2FnZTpjLGVsZW1lbnQ6YSxtZXRob2Q6Yi5tZXRob2R9KSx0aGlzLmVycm9yTWFwW2EubmFtZV09Yyx0aGlzLnN1Ym1pdHRlZFthLm5hbWVdPWN9LGFkZFdyYXBwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2V0dGluZ3Mud3JhcHBlciYmKGE9YS5hZGQoYS5wYXJlbnQodGhpcy5zZXR0aW5ncy53cmFwcGVyKSkpLGF9LGRlZmF1bHRTaG93RXJyb3JzOmZ1bmN0aW9uKCl7dmFyIGEsYixjO2ZvcihhPTA7dGhpcy5lcnJvckxpc3RbYV07YSsrKWM9dGhpcy5lcnJvckxpc3RbYV0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyxjLmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwoYy5lbGVtZW50LGMubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3IoYT0wO3RoaXMuc3VjY2Vzc0xpc3RbYV07YSsrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3RbYV0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKGE9MCxiPXRoaXMudmFsaWRFbGVtZW50cygpO2JbYV07YSsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGJbYV0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KSx0aGlzLmhpZGVFcnJvcnMoKSx0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBhKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5lcnJvcnNGb3IoYiksaT10aGlzLmlkT3JOYW1lKGIpLGo9YShiKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7aC5sZW5ndGg/KGgucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLGguaHRtbChjKSk6KGg9YSgiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaSsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGN8fCIiKSxkPWgsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYoZD1oLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZChkKTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLGQsYShiKSk6ZC5pbnNlcnRBZnRlcihiKSxoLmlzKCJsYWJlbCIpP2guYXR0cigiZm9yIixpKTowPT09aC5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGkpKyInXSIpLmxlbmd0aCYmKGY9aC5hdHRyKCJpZCIpLGo/ai5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShmKSsiXFxiIikpfHwoais9IiAiK2YpOmo9ZixhKGIpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGopLGU9dGhpcy5ncm91cHNbYi5uYW1lXSxlJiYoZz10aGlzLGEuZWFjaChnLmdyb3VwcyxmdW5jdGlvbihiLGMpe2M9PT1lJiZhKCJbbmFtZT0nIitnLmVzY2FwZUNzc01ldGEoYikrIiddIixnLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixoLmF0dHIoImlkIikpfSkpKSksIWMmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKGgudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/aC5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhoLGIpKSx0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQoaCl9LGVycm9yc0ZvcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZShiKSksZD1hKGIpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxlPSJsYWJlbFtmb3I9JyIrYysiJ10sIGxhYmVsW2Zvcj0nIitjKyInXSAqIjtyZXR1cm4gZCYmKGU9ZSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEoZCkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihlKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT8iIjphLnJlcGxhY2UoLyhbXFwhIiMkJSYnKCkqKywuLzo7PD0+P0BcW1xdXmB7fH1+XSkvZywiXFwkMSIpfSxpZE9yTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncm91cHNbYS5uYW1lXXx8KHRoaXMuY2hlY2thYmxlKGEpP2EubmFtZTphLmlkfHxhLm5hbWUpfSx2YWxpZGF0aW9uVGFyZ2V0Rm9yOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmNoZWNrYWJsZShiKSYmKGI9dGhpcy5maW5kQnlOYW1lKGIubmFtZSkpLGEoYikubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKVswXX0sY2hlY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybi9yYWRpb3xjaGVja2JveC9pLnRlc3QoYS50eXBlKX0sZmluZEJ5TmFtZTpmdW5jdGlvbihiKXtyZXR1cm4gYSh0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJbbmFtZT0nIit0aGlzLmVzY2FwZUNzc01ldGEoYikrIiddIil9LGdldExlbmd0aDpmdW5jdGlvbihiLGMpe3N3aXRjaChjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2Uic2VsZWN0IjpyZXR1cm4gYSgib3B0aW9uOnNlbGVjdGVkIixjKS5sZW5ndGg7Y2FzZSJpbnB1dCI6aWYodGhpcy5jaGVja2FibGUoYykpcmV0dXJuIHRoaXMuZmluZEJ5TmFtZShjLm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS5sZW5ndGh9cmV0dXJuIGIubGVuZ3RofSxkZXBlbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5kZXBlbmRUeXBlc1t0eXBlb2YgYV18fHRoaXMuZGVwZW5kVHlwZXNbdHlwZW9mIGFdKGEsYil9LGRlcGVuZFR5cGVzOnsiYm9vbGVhbiI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN0cmluZzpmdW5jdGlvbihiLGMpe3JldHVybiEhYShiLGMuZm9ybSkubGVuZ3RofSwiZnVuY3Rpb24iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEoYil9fSxvcHRpb25hbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnRWYWx1ZShiKTtyZXR1cm4hYS52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsYyxiKSYmImRlcGVuZGVuY3ktbWlzbWF0Y2gifSxzdGFydFJlcXVlc3Q6ZnVuY3Rpb24oYil7dGhpcy5wZW5kaW5nW2IubmFtZV18fCh0aGlzLnBlbmRpbmdSZXF1ZXN0KyssYShiKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyksdGhpcy5wZW5kaW5nW2IubmFtZV09ITApfSxzdG9wUmVxdWVzdDpmdW5jdGlvbihiLGMpe3RoaXMucGVuZGluZ1JlcXVlc3QtLSx0aGlzLnBlbmRpbmdSZXF1ZXN0PDAmJih0aGlzLnBlbmRpbmdSZXF1ZXN0PTApLGRlbGV0ZSB0aGlzLnBlbmRpbmdbYi5uYW1lXSxhKGIpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKSxjJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiZ0aGlzLmZvcm0oKSYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3Q/KGEodGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlcigic3VibWl0IiksdGhpcy5zdWJtaXRCdXR0b24mJmEoImlucHV0OmhpZGRlbltuYW1lPSciK3RoaXMuc3VibWl0QnV0dG9uLm5hbWUrIiddIix0aGlzLmN1cnJlbnRGb3JtKS5yZW1vdmUoKSx0aGlzLmZvcm1TdWJtaXR0ZWQ9ITEpOiFjJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiYoYSh0aGlzLmN1cnJlbnRGb3JtKS50cmlnZ2VySGFuZGxlcigiaW52YWxpZC1mb3JtIixbdGhpc10pLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSl9LHByZXZpb3VzVmFsdWU6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYz0ic3RyaW5nIj09dHlwZW9mIGMmJmN8fCJyZW1vdGUiLGEuZGF0YShiLCJwcmV2aW91c1ZhbHVlIil8fGEuZGF0YShiLCJwcmV2aW91c1ZhbHVlIix7b2xkOm51bGwsdmFsaWQ6ITAsbWVzc2FnZTp0aGlzLmRlZmF1bHRNZXNzYWdlKGIse21ldGhvZDpjfSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmVzZXRGb3JtKCksYSh0aGlzLmN1cnJlbnRGb3JtKS5vZmYoIi52YWxpZGF0ZSIpLnJlbW92ZURhdGEoInZhbGlkYXRvciIpLmZpbmQoIi52YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1lcXVhbFRvIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikub2ZmKCIudmFsaWRhdGUtbGVzc1RoYW4iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW4tYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1sZXNzVGhhbkVxdWFsLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbkVxdWFsIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIikub2ZmKCIudmFsaWRhdGUtZ3JlYXRlclRoYW4iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW4tYmx1ciIpfX0sY2xhc3NSdWxlU2V0dGluZ3M6e3JlcXVpcmVkOntyZXF1aXJlZDohMH0sZW1haWw6e2VtYWlsOiEwfSx1cmw6e3VybDohMH0sZGF0ZTp7ZGF0ZTohMH0sZGF0ZUlTTzp7ZGF0ZUlTTzohMH0sbnVtYmVyOntudW1iZXI6ITB9LGRpZ2l0czp7ZGlnaXRzOiEwfSxjcmVkaXRjYXJkOntjcmVkaXRjYXJkOiEwfX0sYWRkQ2xhc3NSdWxlczpmdW5jdGlvbihiLGMpe2IuY29uc3RydWN0b3I9PT1TdHJpbmc/dGhpcy5jbGFzc1J1bGVTZXR0aW5nc1tiXT1jOmEuZXh0ZW5kKHRoaXMuY2xhc3NSdWxlU2V0dGluZ3MsYil9LGNsYXNzUnVsZXM6ZnVuY3Rpb24oYil7dmFyIGM9e30sZD1hKGIpLmF0dHIoImNsYXNzIik7cmV0dXJuIGQmJmEuZWFjaChkLnNwbGl0KCIgIiksZnVuY3Rpb24oKXt0aGlzIGluIGEudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzJiZhLmV4dGVuZChjLGEudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzW3RoaXNdKX0pLGN9LG5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGU6ZnVuY3Rpb24oYSxiLGMsZCl7L21pbnxtYXh8c3RlcC8udGVzdChjKSYmKG51bGw9PT1ifHwvbnVtYmVyfHJhbmdlfHRleHQvLnRlc3QoYikpJiYoZD1OdW1iZXIoZCksaXNOYU4oZCkmJihkPXZvaWQgMCkpLGR8fDA9PT1kP2FbY109ZDpiPT09YyYmInJhbmdlIiE9PWImJihhWyJkYXRlIj09PWI/ImRhdGVJU08iOmNdPSEwKX0sYXR0cmlidXRlUnVsZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPXt9LGY9YShiKSxnPWIuZ2V0QXR0cmlidXRlKCJ0eXBlIik7Zm9yKGMgaW4gYS52YWxpZGF0b3IubWV0aG9kcykicmVxdWlyZWQiPT09Yz8oZD1iLmdldEF0dHJpYnV0ZShjKSwiIj09PWQmJihkPSEwKSxkPSEhZCk6ZD1mLmF0dHIoYyksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKGUsZyxjLGQpO3JldHVybiBlLm1heGxlbmd0aCYmLy0xfDIxNDc0ODM2NDd8NTI0Mjg4Ly50ZXN0KGUubWF4bGVuZ3RoKSYmZGVsZXRlIGUubWF4bGVuZ3RoLGV9LGRhdGFSdWxlczpmdW5jdGlvbihiKXt2YXIgYyxkLGU9e30sZj1hKGIpLGc9Yi5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IoYyBpbiBhLnZhbGlkYXRvci5tZXRob2RzKWQ9Zi5kYXRhKCJydWxlIitjLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpLCIiPT09ZCYmKGQ9ITApLHRoaXMubm9ybWFsaXplQXR0cmlidXRlUnVsZShlLGcsYyxkKTtyZXR1cm4gZX0sc3RhdGljUnVsZXM6ZnVuY3Rpb24oYil7dmFyIGM9e30sZD1hLmRhdGEoYi5mb3JtLCJ2YWxpZGF0b3IiKTtyZXR1cm4gZC5zZXR0aW5ncy5ydWxlcyYmKGM9YS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShkLnNldHRpbmdzLnJ1bGVzW2IubmFtZV0pfHx7fSksY30sbm9ybWFsaXplUnVsZXM6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5lYWNoKGIsZnVuY3Rpb24oZCxlKXtpZihlPT09ITEpcmV0dXJuIHZvaWQgZGVsZXRlIGJbZF07aWYoZS5wYXJhbXx8ZS5kZXBlbmRzKXt2YXIgZj0hMDtzd2l0Y2godHlwZW9mIGUuZGVwZW5kcyl7Y2FzZSJzdHJpbmciOmY9ISFhKGUuZGVwZW5kcyxjLmZvcm0pLmxlbmd0aDticmVhaztjYXNlImZ1bmN0aW9uIjpmPWUuZGVwZW5kcy5jYWxsKGMsYyl9Zj9iW2RdPXZvaWQgMD09PWUucGFyYW18fGUucGFyYW06KGEuZGF0YShjLmZvcm0sInZhbGlkYXRvciIpLnJlc2V0RWxlbWVudHMoYShjKSksZGVsZXRlIGJbZF0pfX0pLGEuZWFjaChiLGZ1bmN0aW9uKGEsZCl7YlthXT0iZnVuY3Rpb24iPT10eXBlb2YgZCYmIm5vcm1hbGl6ZXIiIT09YT9kKGMpOmR9KSxhLmVhY2goWyJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiXSxmdW5jdGlvbigpe2JbdGhpc10mJihiW3RoaXNdPU51bWJlcihiW3RoaXNdKSl9KSxhLmVhY2goWyJyYW5nZWxlbmd0aCIsInJhbmdlIl0sZnVuY3Rpb24oKXt2YXIgYTtiW3RoaXNdJiYoQXJyYXkuaXNBcnJheShiW3RoaXNdKT9iW3RoaXNdPVtOdW1iZXIoYlt0aGlzXVswXSksTnVtYmVyKGJbdGhpc11bMV0pXToic3RyaW5nIj09dHlwZW9mIGJbdGhpc10mJihhPWJbdGhpc10ucmVwbGFjZSgvW1xbXF1dL2csIiIpLnNwbGl0KC9bXHMsXSsvKSxiW3RoaXNdPVtOdW1iZXIoYVswXSksTnVtYmVyKGFbMV0pXSkpfSksYS52YWxpZGF0b3IuYXV0b0NyZWF0ZVJhbmdlcyYmKG51bGwhPWIubWluJiZudWxsIT1iLm1heCYmKGIucmFuZ2U9W2IubWluLGIubWF4XSxkZWxldGUgYi5taW4sZGVsZXRlIGIubWF4KSxudWxsIT1iLm1pbmxlbmd0aCYmbnVsbCE9Yi5tYXhsZW5ndGgmJihiLnJhbmdlbGVuZ3RoPVtiLm1pbmxlbmd0aCxiLm1heGxlbmd0aF0sZGVsZXRlIGIubWlubGVuZ3RoLGRlbGV0ZSBiLm1heGxlbmd0aCkpLGJ9LG5vcm1hbGl6ZVJ1bGU6ZnVuY3Rpb24oYil7aWYoInN0cmluZyI9PXR5cGVvZiBiKXt2YXIgYz17fTthLmVhY2goYi5zcGxpdCgvXHMvKSxmdW5jdGlvbigpe2NbdGhpc109ITB9KSxiPWN9cmV0dXJuIGJ9LGFkZE1ldGhvZDpmdW5jdGlvbihiLGMsZCl7YS52YWxpZGF0b3IubWV0aG9kc1tiXT1jLGEudmFsaWRhdG9yLm1lc3NhZ2VzW2JdPXZvaWQgMCE9PWQ/ZDphLnZhbGlkYXRvci5tZXNzYWdlc1tiXSxjLmxlbmd0aDwzJiZhLnZhbGlkYXRvci5hZGRDbGFzc1J1bGVzKGIsYS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShiKSl9LG1ldGhvZHM6e3JlcXVpcmVkOmZ1bmN0aW9uKGIsYyxkKXtpZighdGhpcy5kZXBlbmQoZCxjKSlyZXR1cm4iZGVwZW5kZW5jeS1taXNtYXRjaCI7aWYoInNlbGVjdCI9PT1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPWEoYykudmFsKCk7cmV0dXJuIGUmJmUubGVuZ3RoPjB9cmV0dXJuIHRoaXMuY2hlY2thYmxlKGMpP3RoaXMuZ2V0TGVuZ3RoKGIsYyk+MDp2b2lkIDAhPT1iJiZudWxsIT09YiYmYi5sZW5ndGg+MH0sZW1haWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15bYS16QS1aMC05LiEjJCUmJyorXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvLnRlc3QoYSl9LHVybDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbmFsKGIpfHwvXig/Oig/Oig/Omh0dHBzP3xmdHApOik/XC9cLykoPzooPzpbXlxdXFs/XC88fiNgIUAkXiYqKCkrPX18OiI7Jyw+eyBdfCVbMC05QS1GYS1mXXsyfSkrKD86Oig/OlteXF1cWz9cLzx+I2AhQCReJiooKSs9fXw6IjsnLD57IF18JVswLTlBLUZhLWZdezJ9KSopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcLlxkezEsM30pezN9KSg/ISg/OjE2OVwuMjU0fDE5MlwuMTY4KSg/OlwuXGR7MSwzfSl7Mn0pKD8hMTcyXC4oPzoxWzYtOV18MlxkfDNbMC0xXSkoPzpcLlxkezEsM30pezJ9KSg/OlsxLTldXGQ/fDFcZFxkfDJbMDFdXGR8MjJbMC0zXSkoPzpcLig/OjE/XGR7MSwyfXwyWzAtNF1cZHwyNVswLTVdKSl7Mn0oPzpcLig/OlsxLTldXGQ/fDFcZFxkfDJbMC00XVxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XHUwMGExLVx1ZmZmZl1bYS16MC05XHUwMGExLVx1ZmZmZl8tXXswLDYyfSk/W2EtejAtOVx1MDBhMS1cdWZmZmZdXC4pKyg/OlthLXpcdTAwYTEtXHVmZmZmXXsyLH1cLj8pKSg/OjpcZHsyLDV9KT8oPzpbLz8jXVxTKik/JC9pLnRlc3QoYSl9LGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYXx8KGE9ITAsdGhpcy5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybigiVGhlIGBkYXRlYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gJzIuMC4wJy5cblBsZWFzZSBkb24ndCB1c2UgaXQsIHNpbmNlIGl0IHJlbGllcyBvbiB0aGUgRGF0ZSBjb25zdHJ1Y3Rvciwgd2hpY2hcbmJlaGF2ZXMgdmVyeSBkaWZmZXJlbnRseSBhY3Jvc3MgYnJvd3NlcnMgYW5kIGxvY2FsZXMuIFVzZSBgZGF0ZUlTT2Bcbmluc3RlYWQgb3Igb25lIG9mIHRoZSBsb2NhbGUgc3BlY2lmaWMgbWV0aG9kcyBpbiBgbG9jYWxpemF0aW9ucy9gXG5hbmQgYGFkZGl0aW9uYWwtbWV0aG9kcy5qc2AuIikpLHRoaXMub3B0aW9uYWwoYyl8fCEvSW52YWxpZHxOYU4vLnRlc3QobmV3IERhdGUoYikudG9TdHJpbmcoKSl9fSgpLGRhdGVJU086ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15cZHs0fVtcL1wtXSgwP1sxLTldfDFbMDEyXSlbXC9cLV0oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC8udGVzdChhKX0sbnVtYmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fC9eKD86LT9cZCt8LT9cZHsxLDN9KD86LFxkezN9KSspPyg/OlwuXGQrKT8kLy50ZXN0KGEpfSxkaWdpdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15cZCskLy50ZXN0KGEpfSxtaW5sZW5ndGg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUFycmF5LmlzQXJyYXkoYSk/YS5sZW5ndGg6dGhpcy5nZXRMZW5ndGgoYSxiKTtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8ZD49Y30sbWF4bGVuZ3RoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1BcnJheS5pc0FycmF5KGEpP2EubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKGEsYik7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGQ8PWN9LHJhbmdlbGVuZ3RoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1BcnJheS5pc0FycmF5KGEpP2EubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKGEsYik7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGQ+PWNbMF0mJmQ8PWNbMV19LG1pbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGE+PWN9LG1heDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGE8PWN9LHJhbmdlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8YT49Y1swXSYmYTw9Y1sxXX0sc3RlcDpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj1hKGMpLmF0dHIoInR5cGUiKSxnPSJTdGVwIGF0dHJpYnV0ZSBvbiBpbnB1dCB0eXBlICIrZisiIGlzIG5vdCBzdXBwb3J0ZWQuIixoPVsidGV4dCIsIm51bWJlciIsInJhbmdlIl0saT1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGo9ZiYmIWkudGVzdChoLmpvaW4oKSksaz1mdW5jdGlvbihhKXt2YXIgYj0oIiIrYSkubWF0Y2goLyg/OlwuKFxkKykpPyQvKTtyZXR1cm4gYiYmYlsxXT9iWzFdLmxlbmd0aDowfSxsPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKGEqTWF0aC5wb3coMTAsZSkpfSxtPSEwO2lmKGopdGhyb3cgbmV3IEVycm9yKGcpO3JldHVybiBlPWsoZCksKGsoYik+ZXx8bChiKSVsKGQpIT09MCkmJihtPSExKSx0aGlzLm9wdGlvbmFsKGMpfHxtfSxlcXVhbFRvOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hKGQpO3JldHVybiB0aGlzLnNldHRpbmdzLm9uZm9jdXNvdXQmJmUubm90KCIudmFsaWRhdGUtZXF1YWxUby1ibHVyIikubGVuZ3RoJiZlLmFkZENsYXNzKCJ2YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5vbigiYmx1ci52YWxpZGF0ZS1lcXVhbFRvIixmdW5jdGlvbigpe2EoYykudmFsaWQoKX0pLGI9PT1lLnZhbCgpfSxyZW1vdGU6ZnVuY3Rpb24oYixjLGQsZSl7aWYodGhpcy5vcHRpb25hbChjKSlyZXR1cm4iZGVwZW5kZW5jeS1taXNtYXRjaCI7ZT0ic3RyaW5nIj09dHlwZW9mIGUmJmV8fCJyZW1vdGUiO3ZhciBmLGcsaCxpPXRoaXMucHJldmlvdXNWYWx1ZShjLGUpO3JldHVybiB0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV18fCh0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV09e30pLGkub3JpZ2luYWxNZXNzYWdlPWkub3JpZ2luYWxNZXNzYWdlfHx0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV1bZV0sdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tjLm5hbWVdW2VdPWkubWVzc2FnZSxkPSJzdHJpbmciPT10eXBlb2YgZCYme3VybDpkfXx8ZCxoPWEucGFyYW0oYS5leHRlbmQoe2RhdGE6Yn0sZC5kYXRhKSksaS5vbGQ9PT1oP2kudmFsaWQ6KGkub2xkPWgsZj10aGlzLHRoaXMuc3RhcnRSZXF1ZXN0KGMpLGc9e30sZ1tjLm5hbWVdPWIsYS5hamF4KGEuZXh0ZW5kKCEwLHttb2RlOiJhYm9ydCIscG9ydDoidmFsaWRhdGUiK2MubmFtZSxkYXRhVHlwZToianNvbiIsZGF0YTpnLGNvbnRleHQ6Zi5jdXJyZW50Rm9ybSxzdWNjZXNzOmZ1bmN0aW9uKGEpe3ZhciBkLGcsaCxqPWE9PT0hMHx8InRydWUiPT09YTtmLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV1bZV09aS5vcmlnaW5hbE1lc3NhZ2Usaj8oaD1mLmZvcm1TdWJtaXR0ZWQsZi5yZXNldEludGVybmFscygpLGYudG9IaWRlPWYuZXJyb3JzRm9yKGMpLGYuZm9ybVN1Ym1pdHRlZD1oLGYuc3VjY2Vzc0xpc3QucHVzaChjKSxmLmludmFsaWRbYy5uYW1lXT0hMSxmLnNob3dFcnJvcnMoKSk6KGQ9e30sZz1hfHxmLmRlZmF1bHRNZXNzYWdlKGMse21ldGhvZDplLHBhcmFtZXRlcnM6Yn0pLGRbYy5uYW1lXT1pLm1lc3NhZ2U9ZyxmLmludmFsaWRbYy5uYW1lXT0hMCxmLnNob3dFcnJvcnMoZCkpLGkudmFsaWQ9aixmLnN0b3BSZXF1ZXN0KGMsail9fSxkKSksInBlbmRpbmciKX19fSk7dmFyIGMsZD17fTtyZXR1cm4gYS5hamF4UHJlZmlsdGVyP2EuYWpheFByZWZpbHRlcihmdW5jdGlvbihhLGIsYyl7dmFyIGU9YS5wb3J0OyJhYm9ydCI9PT1hLm1vZGUmJihkW2VdJiZkW2VdLmFib3J0KCksZFtlXT1jKX0pOihjPWEuYWpheCxhLmFqYXg9ZnVuY3Rpb24oYil7dmFyIGU9KCJtb2RlImluIGI/YjphLmFqYXhTZXR0aW5ncykubW9kZSxmPSgicG9ydCJpbiBiP2I6YS5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWU/KGRbZl0mJmRbZl0uYWJvcnQoKSxkW2ZdPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGRbZl0pOmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksYX0pOw0KLyoqDQogKiBAbGljZW5zZQ0KICogVW5vYnRydXNpdmUgdmFsaWRhdGlvbiBzdXBwb3J0IGxpYnJhcnkgZm9yIGpRdWVyeSBhbmQgalF1ZXJ5IFZhbGlkYXRlDQogKiBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLg0KICogQHZlcnNpb24gdjQuMC4wDQogKi8NCiFmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LnZhbGlkYXRlLnVub2J0cnVzaXZlIixbImpxdWVyeS12YWxpZGF0aW9uIl0sYSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZSgianF1ZXJ5LXZhbGlkYXRpb24iKSk6alF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZT1hKGpRdWVyeSl9KGZ1bmN0aW9uKHMpe3ZhciBhLG89cy52YWxpZGF0b3IsZD0idW5vYnRydXNpdmVWYWxpZGF0aW9uIjtmdW5jdGlvbiBsKGEsZSxuKXthLnJ1bGVzW2VdPW4sYS5tZXNzYWdlJiYoYS5tZXNzYWdlc1tlXT1hLm1lc3NhZ2UpfWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BcW1xcXF1eYHt8fX5dKS9nLCJcXCQxIil9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYS5zdWJzdHIoMCxhLmxhc3RJbmRleE9mKCIuIikrMSl9ZnVuY3Rpb24gbShhLGUpe3JldHVybiBhPTA9PT1hLmluZGV4T2YoIiouIik/YS5yZXBsYWNlKCIqLiIsZSk6YX1mdW5jdGlvbiBmKGEpe3ZhciBlPXModGhpcyksbj0iX19qcXVlcnlfdW5vYnRydXNpdmVfdmFsaWRhdGlvbl9mb3JtX3Jlc2V0IjtpZighZS5kYXRhKG4pKXtlLmRhdGEobiwhMCk7dHJ5e2UuZGF0YSgidmFsaWRhdG9yIikucmVzZXRGb3JtKCl9ZmluYWxseXtlLnJlbW92ZURhdGEobil9ZS5maW5kKCIudmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9ycyIpLmFkZENsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktdmFsaWQiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9ycyIpLGUuZmluZCgiLmZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKS5maW5kKCI+KiIpLnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIil9fWZ1bmN0aW9uIHAobil7ZnVuY3Rpb24gYShhLGUpeyhhPXJbYV0pJiZzLmlzRnVuY3Rpb24oYSkmJmEuYXBwbHkobixlKX12YXIgZT1zKG4pLHQ9ZS5kYXRhKGQpLGk9cy5wcm94eShmLG4pLHI9by51bm9idHJ1c2l2ZS5vcHRpb25zfHx7fTtyZXR1cm4gdHx8KHQ9e29wdGlvbnM6e2Vycm9yQ2xhc3M6ci5lcnJvckNsYXNzfHwiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIsZXJyb3JFbGVtZW50OnIuZXJyb3JFbGVtZW50fHwic3BhbiIsZXJyb3JQbGFjZW1lbnQ6ZnVuY3Rpb24oKXshZnVuY3Rpb24oYSxlKXt2YXIgZT1zKHRoaXMpLmZpbmQoIltkYXRhLXZhbG1zZy1mb3I9JyIrdShlWzBdLm5hbWUpKyInXSIpLG49KG49ZS5hdHRyKCJkYXRhLXZhbG1zZy1yZXBsYWNlIikpPyExIT09cy5wYXJzZUpTT04obik6bnVsbDtlLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikuYWRkQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKSxhLmRhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIixlKSxuPyhlLmVtcHR5KCksYS5yZW1vdmVDbGFzcygiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIpLmFwcGVuZFRvKGUpKTphLmhpZGUoKX0uYXBwbHkobixhcmd1bWVudHMpLGEoImVycm9yUGxhY2VtZW50Iixhcmd1bWVudHMpfSxpbnZhbGlkSGFuZGxlcjpmdW5jdGlvbigpeyFmdW5jdGlvbihhLGUpe3ZhciBuPXModGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLXN1bW1hcnk9dHJ1ZV0iKSx0PW4uZmluZCgidWwiKTt0JiZ0Lmxlbmd0aCYmZS5lcnJvckxpc3QubGVuZ3RoJiYodC5lbXB0eSgpLG4uYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIikscy5lYWNoKGUuZXJyb3JMaXN0LGZ1bmN0aW9uKCl7cygiPGxpIC8+IikuaHRtbCh0aGlzLm1lc3NhZ2UpLmFwcGVuZFRvKHQpfSkpfS5hcHBseShuLGFyZ3VtZW50cyksYSgiaW52YWxpZEhhbmRsZXIiLGFyZ3VtZW50cyl9LG1lc3NhZ2VzOnt9LHJ1bGVzOnt9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXshZnVuY3Rpb24oYSl7dmFyIGUsbj1hLmRhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIik7biYmKGU9KGU9bi5hdHRyKCJkYXRhLXZhbG1zZy1yZXBsYWNlIikpP3MucGFyc2VKU09OKGUpOm51bGwsbi5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIiksYS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLGUmJm4uZW1wdHkoKSl9LmFwcGx5KG4sYXJndW1lbnRzKSxhKCJzdWNjZXNzIixhcmd1bWVudHMpfX0sYXR0YWNoVmFsaWRhdGlvbjpmdW5jdGlvbigpe2Uub2ZmKCJyZXNldC4iK2QsaSkub24oInJlc2V0LiIrZCxpKS52YWxpZGF0ZSh0aGlzLm9wdGlvbnMpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiBlLnZhbGlkYXRlKCksZS52YWxpZCgpfX0sZS5kYXRhKGQsdCkpLHR9cmV0dXJuIG8udW5vYnRydXNpdmU9e2FkYXB0ZXJzOltdLHBhcnNlRWxlbWVudDpmdW5jdGlvbih0LGEpe3ZhciBlLGkscixvPXModCksZD1vLnBhcmVudHMoImZvcm0iKVswXTtkJiYoKGU9cChkKSkub3B0aW9ucy5ydWxlc1t0Lm5hbWVdPWk9e30sZS5vcHRpb25zLm1lc3NhZ2VzW3QubmFtZV09cj17fSxzLmVhY2godGhpcy5hZGFwdGVycyxmdW5jdGlvbigpe3ZhciBhPSJkYXRhLXZhbC0iK3RoaXMubmFtZSxlPW8uYXR0cihhKSxuPXt9O3ZvaWQgMCE9PWUmJihhKz0iLSIscy5lYWNoKHRoaXMucGFyYW1zLGZ1bmN0aW9uKCl7blt0aGlzXT1vLmF0dHIoYSt0aGlzKX0pLHRoaXMuYWRhcHQoe2VsZW1lbnQ6dCxmb3JtOmQsbWVzc2FnZTplLHBhcmFtczpuLHJ1bGVzOmksbWVzc2FnZXM6cn0pKX0pLHMuZXh0ZW5kKGkse19fZHVtbXlfXzohMH0pLGF8fGUuYXR0YWNoVmFsaWRhdGlvbigpKX0scGFyc2U6ZnVuY3Rpb24oYSl7dmFyIGE9cyhhKSxlPWEucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoImZvcm0iKS5hZGQoYS5maW5kKCJmb3JtIikpLmhhcygiW2RhdGEtdmFsPXRydWVdIik7YS5maW5kKCJbZGF0YS12YWw9dHJ1ZV0iKS5lYWNoKGZ1bmN0aW9uKCl7by51bm9idHJ1c2l2ZS5wYXJzZUVsZW1lbnQodGhpcywhMCl9KSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1wKHRoaXMpO2EmJmEuYXR0YWNoVmFsaWRhdGlvbigpfSl9fSwoYT1vLnVub2J0cnVzaXZlLmFkYXB0ZXJzKS5hZGQ9ZnVuY3Rpb24oYSxlLG4pe3JldHVybiBufHwobj1lLGU9W10pLHRoaXMucHVzaCh7bmFtZTphLHBhcmFtczplLGFkYXB0Om59KSx0aGlzfSxhLmFkZEJvb2w9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5hZGQoZSxmdW5jdGlvbihhKXtsKGEsbnx8ZSwhMCl9KX0sYS5hZGRNaW5NYXg9ZnVuY3Rpb24oYSx0LGkscixlLG4pe3JldHVybiB0aGlzLmFkZChhLFtlfHwibWluIixufHwibWF4Il0sZnVuY3Rpb24oYSl7dmFyIGU9YS5wYXJhbXMubWluLG49YS5wYXJhbXMubWF4O2UmJm4/bChhLHIsW2Usbl0pOmU/bChhLHQsZSk6biYmbChhLGksbil9KX0sYS5hZGRTaW5nbGVWYWw9ZnVuY3Rpb24oZSxuLHQpe3JldHVybiB0aGlzLmFkZChlLFtufHwidmFsIl0sZnVuY3Rpb24oYSl7bChhLHR8fGUsYS5wYXJhbXNbbl0pfSl9LG8uYWRkTWV0aG9kKCJfX2R1bW15X18iLGZ1bmN0aW9uKGEsZSxuKXtyZXR1cm4hMH0pLG8uYWRkTWV0aG9kKCJyZWdleCIsZnVuY3Rpb24oYSxlLG4pe3JldHVybiEhdGhpcy5vcHRpb25hbChlKXx8KGU9bmV3IFJlZ0V4cChuKS5leGVjKGEpKSYmMD09PWUuaW5kZXgmJmVbMF0ubGVuZ3RoPT09YS5sZW5ndGh9KSxvLmFkZE1ldGhvZCgibm9uYWxwaGFtaW4iLGZ1bmN0aW9uKGEsZSxuKXt2YXIgdDtyZXR1cm4gdD1uPyh0PWEubWF0Y2goL1xXL2cpKSYmdC5sZW5ndGg+PW46dH0pLG8ubWV0aG9kcy5leHRlbnNpb24/KGEuYWRkU2luZ2xlVmFsKCJhY2NlcHQiLCJtaW10eXBlIiksYS5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIpKTphLmFkZFNpbmdsZVZhbCgiZXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwiYWNjZXB0IiksYS5hZGRTaW5nbGVWYWwoInJlZ2V4IiwicGF0dGVybiIpLGEuYWRkQm9vbCgiY3JlZGl0Y2FyZCIpLmFkZEJvb2woImRhdGUiKS5hZGRCb29sKCJkaWdpdHMiKS5hZGRCb29sKCJlbWFpbCIpLmFkZEJvb2woIm51bWJlciIpLmFkZEJvb2woInVybCIpLGEuYWRkTWluTWF4KCJsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJyYW5nZWxlbmd0aCIpLmFkZE1pbk1heCgicmFuZ2UiLCJtaW4iLCJtYXgiLCJyYW5nZSIpLGEuYWRkTWluTWF4KCJtaW5sZW5ndGgiLCJtaW5sZW5ndGgiKS5hZGRNaW5NYXgoIm1heGxlbmd0aCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIpLGEuYWRkKCJlcXVhbHRvIixbIm90aGVyIl0sZnVuY3Rpb24oYSl7dmFyIGU9bihhLmVsZW1lbnQubmFtZSksZT1tKGEucGFyYW1zLm90aGVyLGUpO2woYSwiZXF1YWxUbyIscyhhLmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrdShlKSsiJ10iKVswXSl9KSxhLmFkZCgicmVxdWlyZWQiLGZ1bmN0aW9uKGEpeyJJTlBVVCI9PT1hLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYiQ0hFQ0tCT1giPT09YS5lbGVtZW50LnR5cGUudG9VcHBlckNhc2UoKXx8bChhLCJyZXF1aXJlZCIsITApfSksYS5hZGQoInJlbW90ZSIsWyJ1cmwiLCJ0eXBlIiwiYWRkaXRpb25hbGZpZWxkcyJdLGZ1bmN0aW9uKHQpe3ZhciBpPXt1cmw6dC5wYXJhbXMudXJsLHR5cGU6dC5wYXJhbXMudHlwZXx8IkdFVCIsZGF0YTp7fX0scj1uKHQuZWxlbWVudC5uYW1lKTtzLmVhY2goKHQucGFyYW1zLmFkZGl0aW9uYWxmaWVsZHN8fHQuZWxlbWVudC5uYW1lKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikuc3BsaXQoL1xzKixccyovZyksZnVuY3Rpb24oYSxlKXt2YXIgbj1tKGUscik7aS5kYXRhW25dPWZ1bmN0aW9uKCl7dmFyIGE9cyh0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrdShuKSsiJ10iKTtyZXR1cm4gYS5pcygiOmNoZWNrYm94Iik/YS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCl8fGEuZmlsdGVyKCI6aGlkZGVuIikudmFsKCl8fCIiOmEuaXMoIjpyYWRpbyIpP2EuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHwiIjphLnZhbCgpfX0pLGwodCwicmVtb3RlIixpKX0pLGEuYWRkKCJwYXNzd29yZCIsWyJtaW4iLCJub25hbHBoYW1pbiIsInJlZ2V4Il0sZnVuY3Rpb24oYSl7YS5wYXJhbXMubWluJiZsKGEsIm1pbmxlbmd0aCIsYS5wYXJhbXMubWluKSxhLnBhcmFtcy5ub25hbHBoYW1pbiYmbChhLCJub25hbHBoYW1pbiIsYS5wYXJhbXMubm9uYWxwaGFtaW4pLGEucGFyYW1zLnJlZ2V4JiZsKGEsInJlZ2V4IixhLnBhcmFtcy5yZWdleCl9KSxhLmFkZCgiZmlsZWV4dGVuc2lvbnMiLFsiZXh0ZW5zaW9ucyJdLGZ1bmN0aW9uKGEpe2woYSwiZXh0ZW5zaW9uIixhLnBhcmFtcy5leHRlbnNpb25zKX0pLHMoZnVuY3Rpb24oKXtvLnVub2J0cnVzaXZlLnBhcnNlKGRvY3VtZW50KX0pLG8udW5vYnRydXNpdmV9KTsNCi8qISBqUXVlcnkgVUkgLSB2MS4xMy4yIC0gMjAyMi0wNy0xNA0KKiBodHRwOi8vanF1ZXJ5dWkuY29tDQoqIEluY2x1ZGVzOiB3aWRnZXQuanMsIHBvc2l0aW9uLmpzLCBkYXRhLmpzLCBkaXNhYmxlLXNlbGVjdGlvbi5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzLCBmb2N1c2FibGUuanMsIGZvcm0tcmVzZXQtbWl4aW4uanMsIGpxdWVyeS1wYXRjaC5qcywga2V5Y29kZS5qcywgbGFiZWxzLmpzLCBzY3JvbGwtcGFyZW50LmpzLCB0YWJiYWJsZS5qcywgdW5pcXVlLWlkLmpzLCB3aWRnZXRzL2FjY29yZGlvbi5qcywgd2lkZ2V0cy9hdXRvY29tcGxldGUuanMsIHdpZGdldHMvYnV0dG9uLmpzLCB3aWRnZXRzL2NoZWNrYm94cmFkaW8uanMsIHdpZGdldHMvY29udHJvbGdyb3VwLmpzLCB3aWRnZXRzL2RhdGVwaWNrZXIuanMsIHdpZGdldHMvZGlhbG9nLmpzLCB3aWRnZXRzL2RyYWdnYWJsZS5qcywgd2lkZ2V0cy9kcm9wcGFibGUuanMsIHdpZGdldHMvbWVudS5qcywgd2lkZ2V0cy9tb3VzZS5qcywgd2lkZ2V0cy9wcm9ncmVzc2Jhci5qcywgd2lkZ2V0cy9yZXNpemFibGUuanMsIHdpZGdldHMvc2VsZWN0YWJsZS5qcywgd2lkZ2V0cy9zZWxlY3RtZW51LmpzLCB3aWRnZXRzL3NsaWRlci5qcywgd2lkZ2V0cy9zb3J0YWJsZS5qcywgd2lkZ2V0cy9zcGlubmVyLmpzLCB3aWRnZXRzL3RhYnMuanMsIHdpZGdldHMvdG9vbHRpcC5qcw0KKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovDQoNCiFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSx0KTp0KGpRdWVyeSl9KGZ1bmN0aW9uKFYpeyJ1c2Ugc3RyaWN0IjtWLnVpPVYudWl8fHt9O1YudWkudmVyc2lvbj0iMS4xMy4yIjt2YXIgbixpPTAsYT1BcnJheS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscj1BcnJheS5wcm90b3R5cGUuc2xpY2U7Vi5jbGVhbkRhdGE9KG49Vi5jbGVhbkRhdGEsZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscz0wO251bGwhPShpPXRbc10pO3MrKykoZT1WLl9kYXRhKGksImV2ZW50cyIpKSYmZS5yZW1vdmUmJlYoaSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO24odCl9KSxWLndpZGdldD1mdW5jdGlvbih0LGksZSl7dmFyIHMsbixvLGE9e30scj10LnNwbGl0KCIuIilbMF0sbD1yKyItIisodD10LnNwbGl0KCIuIilbMV0pO3JldHVybiBlfHwoZT1pLGk9Vi5XaWRnZXQpLEFycmF5LmlzQXJyYXkoZSkmJihlPVYuZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQoZSkpKSxWLmV4cHIucHNldWRvc1tsLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhVi5kYXRhKHQsbCl9LFZbcl09VltyXXx8e30scz1WW3JdW3RdLG49VltyXVt0XT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzfHwhdGhpcy5fY3JlYXRlV2lkZ2V0KXJldHVybiBuZXcgbih0LGUpO2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldCh0LGUpfSxWLmV4dGVuZChuLHMse3ZlcnNpb246ZS52ZXJzaW9uLF9wcm90bzpWLmV4dGVuZCh7fSxlKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSwobz1uZXcgaSkub3B0aW9ucz1WLndpZGdldC5leHRlbmQoe30sby5vcHRpb25zKSxWLmVhY2goZSxmdW5jdGlvbihlLHMpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gaS5wcm90b3R5cGVbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIGkucHJvdG90eXBlW2VdLmFwcGx5KHRoaXMsdCl9YVtlXT0iZnVuY3Rpb24iPT10eXBlb2Ygcz9mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fc3VwZXIsaT10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1uLHRoaXMuX3N1cGVyQXBwbHk9byx0PXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWUsdGhpcy5fc3VwZXJBcHBseT1pLHR9OnN9KSxuLnByb3RvdHlwZT1WLndpZGdldC5leHRlbmQobyx7d2lkZ2V0RXZlbnRQcmVmaXg6cyYmby53aWRnZXRFdmVudFByZWZpeHx8dH0sYSx7Y29uc3RydWN0b3I6bixuYW1lc3BhY2U6cix3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6bH0pLHM/KFYuZWFjaChzLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGUpe3ZhciBpPWUucHJvdG90eXBlO1Yud2lkZ2V0KGkubmFtZXNwYWNlKyIuIitpLndpZGdldE5hbWUsbixlLl9wcm90byl9KSxkZWxldGUgcy5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2gobiksVi53aWRnZXQuYnJpZGdlKHQsbiksbn0sVi53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLHM9ci5jYWxsKGFyZ3VtZW50cywxKSxuPTAsbz1zLmxlbmd0aDtuPG87bisrKWZvcihlIGluIHNbbl0paT1zW25dW2VdLGEuY2FsbChzW25dLGUpJiZ2b2lkIDAhPT1pJiYoVi5pc1BsYWluT2JqZWN0KGkpP3RbZV09Vi5pc1BsYWluT2JqZWN0KHRbZV0pP1Yud2lkZ2V0LmV4dGVuZCh7fSx0W2VdLGkpOlYud2lkZ2V0LmV4dGVuZCh7fSxpKTp0W2VdPWkpO3JldHVybiB0fSxWLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24obyxlKXt2YXIgYT1lLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8bztWLmZuW29dPWZ1bmN0aW9uKGkpe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgaSxzPXIuY2FsbChhcmd1bWVudHMsMSksbj10aGlzO3JldHVybiB0P3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09aT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPVYuZGF0YSh0aGlzLGEpO3JldHVybiJpbnN0YW5jZSI9PT1pPyhuPWUsITEpOmU/ImZ1bmN0aW9uIiE9dHlwZW9mIGVbaV18fCJfIj09PWkuY2hhckF0KDApP1YuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2krIicgZm9yICIrbysiIHdpZGdldCBpbnN0YW5jZSIpOih0PWVbaV0uYXBwbHkoZSxzKSkhPT1lJiZ2b2lkIDAhPT10PyhuPXQmJnQuanF1ZXJ5P24ucHVzaFN0YWNrKHQuZ2V0KCkpOnQsITEpOnZvaWQgMDpWLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrbysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIraSsiJyIpfSk6bj12b2lkIDA6KHMubGVuZ3RoJiYoaT1WLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbaV0uY29uY2F0KHMpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vi5kYXRhKHRoaXMsYSk7dD8odC5vcHRpb24oaXx8e30pLHQuX2luaXQmJnQuX2luaXQoKSk6Vi5kYXRhKHRoaXMsYSxuZXcgZShpLHRoaXMpKX0pKSxufX0sVi5XaWRnZXQ9ZnVuY3Rpb24oKXt9LFYuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxWLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntjbGFzc2VzOnt9LGRpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsZSl7ZT1WKGV8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1WKGUpLHRoaXMudXVpZD1pKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLmJpbmRpbmdzPVYoKSx0aGlzLmhvdmVyYWJsZT1WKCksdGhpcy5mb2N1c2FibGU9VigpLHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e30sZSE9PXRoaXMmJihWLmRhdGEoZSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKHQpe3QudGFyZ2V0PT09ZSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1WKGUuc3R5bGU/ZS5vd25lckRvY3VtZW50OmUuZG9jdW1lbnR8fGUpLHRoaXMud2luZG93PVYodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLm9wdGlvbnM9Vi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCksdGhpcy5fY3JlYXRlKCksdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOlYubm9vcCxfY3JlYXRlOlYubm9vcCxfaW5pdDpWLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciBpPXRoaXM7dGhpcy5fZGVzdHJveSgpLFYuZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKHQsZSl7aS5fcmVtb3ZlQ2xhc3MoZSx0KX0pLHRoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKSx0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95OlYubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG4sbz10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBWLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYobz17fSx0PShpPXQuc3BsaXQoIi4iKSkuc2hpZnQoKSxpLmxlbmd0aCl7Zm9yKHM9b1t0XT1WLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxuPTA7bjxpLmxlbmd0aC0xO24rKylzW2lbbl1dPXNbaVtuXV18fHt9LHM9c1tpW25dXTtpZih0PWkucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXNbdF0/bnVsbDpzW3RdO3NbdF09ZX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07b1t0XT1lfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKG8pLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KXRoaXMuX3NldE9wdGlvbihlLHRbZV0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuImNsYXNzZXMiPT09dCYmdGhpcy5fc2V0T3B0aW9uQ2xhc3NlcyhlKSx0aGlzLm9wdGlvbnNbdF09ZSwiZGlzYWJsZWQiPT09dCYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoZSksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2ZvcihlIGluIHQpcz10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2VdLHRbZV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tlXSYmcyYmcy5sZW5ndGgmJihpPVYocy5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocyxlKSxpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6aSxrZXlzOmUsY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIXQpLHQmJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbihuKXt2YXIgbz1bXSxhPXRoaXM7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaSxzPTA7czx0Lmxlbmd0aDtzKyspaT1hLmNsYXNzZXNFbGVtZW50TG9va3VwW3Rbc11dfHxWKCksaT1uLmFkZD8oZnVuY3Rpb24oKXt2YXIgaT1bXTtuLmVsZW1lbnQuZWFjaChmdW5jdGlvbih0LGUpe1YubWFwKGEuY2xhc3Nlc0VsZW1lbnRMb29rdXAsZnVuY3Rpb24odCl7cmV0dXJuIHR9KS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzKGUpfSl8fGkucHVzaChlKX0pLGEuX29uKFYoaSkse3JlbW92ZToiX3VudHJhY2tDbGFzc2VzRWxlbWVudCJ9KX0oKSxWKFYudW5pcXVlU29ydChpLmdldCgpLmNvbmNhdChuLmVsZW1lbnQuZ2V0KCkpKSkpOlYoaS5ub3Qobi5lbGVtZW50KS5nZXQoKSksYS5jbGFzc2VzRWxlbWVudExvb2t1cFt0W3NdXT1pLG8ucHVzaCh0W3NdKSxlJiZuLmNsYXNzZXNbdFtzXV0mJm8ucHVzaChuLmNsYXNzZXNbdFtzXV0pfXJldHVybihuPVYuZXh0ZW5kKHtlbGVtZW50OnRoaXMuZWxlbWVudCxjbGFzc2VzOnRoaXMub3B0aW9ucy5jbGFzc2VzfHx7fX0sbikpLmtleXMmJnQobi5rZXlzLm1hdGNoKC9cUysvZyl8fFtdLCEwKSxuLmV4dHJhJiZ0KG4uZXh0cmEubWF0Y2goL1xTKy9nKXx8W10pLG8uam9pbigiICIpfSxfdW50cmFja0NsYXNzZXNFbGVtZW50OmZ1bmN0aW9uKGkpe3ZhciBzPXRoaXM7Vi5lYWNoKHMuY2xhc3Nlc0VsZW1lbnRMb29rdXAsZnVuY3Rpb24odCxlKXstMSE9PVYuaW5BcnJheShpLnRhcmdldCxlKSYmKHMuY2xhc3Nlc0VsZW1lbnRMb29rdXBbdF09VihlLm5vdChpLnRhcmdldCkuZ2V0KCkpKX0pLHRoaXMuX29mZihWKGkudGFyZ2V0KSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKHQsZSxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3ModCxlLGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49InN0cmluZyI9PXR5cGVvZiB0fHxudWxsPT09dCxpPXtleHRyYTpuP2U6aSxrZXlzOm4/dDplLGVsZW1lbnQ6bj90aGlzLmVsZW1lbnQ6dCxhZGQ6cz0iYm9vbGVhbiI9PXR5cGVvZiBzP3M6aX07cmV0dXJuIGkuZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLl9jbGFzc2VzKGkpLHMpLHRoaXN9LF9vbjpmdW5jdGlvbihuLG8sdCl7dmFyIGEscj10aGlzOyJib29sZWFuIiE9dHlwZW9mIG4mJih0PW8sbz1uLG49ITEpLHQ/KG89YT1WKG8pLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQobykpOih0PW8sbz10aGlzLmVsZW1lbnQsYT10aGlzLndpZGdldCgpKSxWLmVhY2godCxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtpZihufHwhMCE9PXIub3B0aW9ucy5kaXNhYmxlZCYmIVYodGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikpcmV0dXJuKCJzdHJpbmciPT10eXBlb2YgZT9yW2VdOmUpLmFwcGx5KHIsYXJndW1lbnRzKX0ic3RyaW5nIiE9dHlwZW9mIGUmJihpLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8aS5ndWlkfHxWLmd1aWQrKyk7dmFyIHM9dC5tYXRjaCgvXihbXHc6LV0qKVxzKiguKikkLyksdD1zWzFdK3IuZXZlbnROYW1lc3BhY2Uscz1zWzJdO3M/YS5vbih0LHMsaSk6by5vbih0LGkpfSl9LF9vZmY6ZnVuY3Rpb24odCxlKXtlPShlfHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLHQub2ZmKGUpLHRoaXMuYmluZGluZ3M9Vih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSksdGhpcy5mb2N1c2FibGU9Vih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpLHRoaXMuaG92ZXJhYmxlPVYodGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIHQ/aVt0XTp0KS5hcHBseShpLGFyZ3VtZW50cyl9LGV8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKFYodC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKFYodC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKFYodC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhWKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG4sbz10aGlzLm9wdGlvbnNbdF07aWYoaT1pfHx7fSwoZT1WLkV2ZW50KGUpKS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxlLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sbj1lLm9yaWdpbmFsRXZlbnQpZm9yKHMgaW4gbilzIGluIGV8fChlW3NdPW5bc10pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihlLGkpLCEoImZ1bmN0aW9uIj09dHlwZW9mIG8mJiExPT09by5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2VdLmNvbmNhdChpKSl8fGUuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sVi5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihvLGEpe1YuV2lkZ2V0LnByb3RvdHlwZVsiXyIrb109ZnVuY3Rpb24oZSx0LGkpe3ZhciBzLG49KHQ9InN0cmluZyI9PXR5cGVvZiB0P3tlZmZlY3Q6dH06dCk/ITAhPT10JiYibnVtYmVyIiE9dHlwZW9mIHQmJnQuZWZmZWN0fHxhOm87Im51bWJlciI9PXR5cGVvZih0PXR8fHt9KT90PXtkdXJhdGlvbjp0fTohMD09PXQmJih0PXt9KSxzPSFWLmlzRW1wdHlPYmplY3QodCksdC5jb21wbGV0ZT1pLHQuZGVsYXkmJmUuZGVsYXkodC5kZWxheSkscyYmVi5lZmZlY3RzJiZWLmVmZmVjdHMuZWZmZWN0W25dP2Vbb10odCk6biE9PW8mJmVbbl0/ZVtuXSh0LmR1cmF0aW9uLHQuZWFzaW5nLGkpOmUucXVldWUoZnVuY3Rpb24odCl7Vih0aGlzKVtvXSgpLGkmJmkuY2FsbChlWzBdKSx0KCl9KX19KTt2YXIgcyx4LGssbyxsLGgsYyx1LEM7Vi53aWRnZXQ7ZnVuY3Rpb24gRCh0LGUsaSl7cmV0dXJuW3BhcnNlRmxvYXQodFswXSkqKHUudGVzdCh0WzBdKT9lLzEwMDoxKSxwYXJzZUZsb2F0KHRbMV0pKih1LnRlc3QodFsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIEkodCxlKXtyZXR1cm4gcGFyc2VJbnQoVi5jc3ModCxlKSwxMCl8fDB9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gbnVsbCE9dCYmdD09PXQud2luZG93fXg9TWF0aC5tYXgsaz1NYXRoLmFicyxvPS9sZWZ0fGNlbnRlcnxyaWdodC8sbD0vdG9wfGNlbnRlcnxib3R0b20vLGg9L1tcK1wtXVxkKyhcLltcZF0rKT8lPy8sYz0vXlx3Ky8sdT0vJSQvLEM9Vi5mbi5wb3NpdGlvbixWLnBvc2l0aW9uPXtzY3JvbGxiYXJXaWR0aDpmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXMpcmV0dXJuIHM7dmFyIHQsZT1WKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwMHB4O2hlaWdodDoyMDBweDtvdmVyZmxvdzpoaWRkZW47Jz48ZGl2IHN0eWxlPSdoZWlnaHQ6MzAwcHg7d2lkdGg6YXV0bzsnPjwvZGl2PjwvZGl2PiIpLGk9ZS5jaGlsZHJlbigpWzBdO3JldHVybiBWKCJib2R5IikuYXBwZW5kKGUpLHQ9aS5vZmZzZXRXaWR0aCxlLmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSx0PT09KGk9aS5vZmZzZXRXaWR0aCkmJihpPWVbMF0uY2xpZW50V2lkdGgpLGUucmVtb3ZlKCkscz10LWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGU9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxpPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksZT0ic2Nyb2xsIj09PWV8fCJhdXRvIj09PWUmJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoO3JldHVybnt3aWR0aDoic2Nyb2xsIj09PWl8fCJhdXRvIj09PWkmJnQuaGVpZ2h0PHQuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ/Vi5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjAsaGVpZ2h0OmU/Vi5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjB9fSxnZXRXaXRoaW5JbmZvOmZ1bmN0aW9uKHQpe3ZhciBlPVYodHx8d2luZG93KSxpPVQoZVswXSkscz0hIWVbMF0mJjk9PT1lWzBdLm5vZGVUeXBlO3JldHVybntlbGVtZW50OmUsaXNXaW5kb3c6aSxpc0RvY3VtZW50OnMsb2Zmc2V0OiFpJiYhcz9WKHQpLm9mZnNldCgpOntsZWZ0OjAsdG9wOjB9LHNjcm9sbExlZnQ6ZS5zY3JvbGxMZWZ0KCksc2Nyb2xsVG9wOmUuc2Nyb2xsVG9wKCksd2lkdGg6ZS5vdXRlcldpZHRoKCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoKX19fSxWLmZuLnBvc2l0aW9uPWZ1bmN0aW9uKHUpe2lmKCF1fHwhdS5vZilyZXR1cm4gQy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQscCxmLGcsbSx0LF89InN0cmluZyI9PXR5cGVvZih1PVYuZXh0ZW5kKHt9LHUpKS5vZj9WKGRvY3VtZW50KS5maW5kKHUub2YpOlYodS5vZiksdj1WLnBvc2l0aW9uLmdldFdpdGhpbkluZm8odS53aXRoaW4pLGI9Vi5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKHYpLHk9KHUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksdz17fSxlPTk9PT0odD0oZT1fKVswXSkubm9kZVR5cGU/e3dpZHRoOmUud2lkdGgoKSxoZWlnaHQ6ZS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDowLGxlZnQ6MH19OlQodCk/e3dpZHRoOmUud2lkdGgoKSxoZWlnaHQ6ZS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDplLnNjcm9sbFRvcCgpLGxlZnQ6ZS5zY3JvbGxMZWZ0KCl9fTp0LnByZXZlbnREZWZhdWx0P3t3aWR0aDowLGhlaWdodDowLG9mZnNldDp7dG9wOnQucGFnZVksbGVmdDp0LnBhZ2VYfX06e3dpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCksb2Zmc2V0OmUub2Zmc2V0KCl9O3JldHVybiBfWzBdLnByZXZlbnREZWZhdWx0JiYodS5hdD0ibGVmdCB0b3AiKSxwPWUud2lkdGgsZj1lLmhlaWdodCxtPVYuZXh0ZW5kKHt9LGc9ZS5vZmZzZXQpLFYuZWFjaChbIm15IiwiYXQiXSxmdW5jdGlvbigpe3ZhciB0LGUsaT0odVt0aGlzXXx8IiIpLnNwbGl0KCIgIik7KGk9MT09PWkubGVuZ3RoP28udGVzdChpWzBdKT9pLmNvbmNhdChbImNlbnRlciJdKTpsLnRlc3QoaVswXSk/WyJjZW50ZXIiXS5jb25jYXQoaSk6WyJjZW50ZXIiLCJjZW50ZXIiXTppKVswXT1vLnRlc3QoaVswXSk/aVswXToiY2VudGVyIixpWzFdPWwudGVzdChpWzFdKT9pWzFdOiJjZW50ZXIiLHQ9aC5leGVjKGlbMF0pLGU9aC5leGVjKGlbMV0pLHdbdGhpc109W3Q/dFswXTowLGU/ZVswXTowXSx1W3RoaXNdPVtjLmV4ZWMoaVswXSlbMF0sYy5leGVjKGlbMV0pWzBdXX0pLDE9PT15Lmxlbmd0aCYmKHlbMV09eVswXSksInJpZ2h0Ij09PXUuYXRbMF0/bS5sZWZ0Kz1wOiJjZW50ZXIiPT09dS5hdFswXSYmKG0ubGVmdCs9cC8yKSwiYm90dG9tIj09PXUuYXRbMV0/bS50b3ArPWY6ImNlbnRlciI9PT11LmF0WzFdJiYobS50b3ArPWYvMiksZD1EKHcuYXQscCxmKSxtLmxlZnQrPWRbMF0sbS50b3ArPWRbMV0sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksdCxhPVYodGhpcykscj1hLm91dGVyV2lkdGgoKSxsPWEub3V0ZXJIZWlnaHQoKSxlPUkodGhpcywibWFyZ2luTGVmdCIpLHM9SSh0aGlzLCJtYXJnaW5Ub3AiKSxuPXIrZStJKHRoaXMsIm1hcmdpblJpZ2h0IikrYi53aWR0aCxvPWwrcytJKHRoaXMsIm1hcmdpbkJvdHRvbSIpK2IuaGVpZ2h0LGg9Vi5leHRlbmQoe30sbSksYz1EKHcubXksYS5vdXRlcldpZHRoKCksYS5vdXRlckhlaWdodCgpKTsicmlnaHQiPT09dS5teVswXT9oLmxlZnQtPXI6ImNlbnRlciI9PT11Lm15WzBdJiYoaC5sZWZ0LT1yLzIpLCJib3R0b20iPT09dS5teVsxXT9oLnRvcC09bDoiY2VudGVyIj09PXUubXlbMV0mJihoLnRvcC09bC8yKSxoLmxlZnQrPWNbMF0saC50b3ArPWNbMV0saT17bWFyZ2luTGVmdDplLG1hcmdpblRvcDpzfSxWLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24odCxlKXtWLnVpLnBvc2l0aW9uW3lbdF1dJiZWLnVpLnBvc2l0aW9uW3lbdF1dW2VdKGgse3RhcmdldFdpZHRoOnAsdGFyZ2V0SGVpZ2h0OmYsZWxlbVdpZHRoOnIsZWxlbUhlaWdodDpsLGNvbGxpc2lvblBvc2l0aW9uOmksY29sbGlzaW9uV2lkdGg6bixjb2xsaXNpb25IZWlnaHQ6byxvZmZzZXQ6W2RbMF0rY1swXSxkWzFdK2NbMV1dLG15OnUubXksYXQ6dS5hdCx3aXRoaW46dixlbGVtOmF9KX0pLHUudXNpbmcmJih0PWZ1bmN0aW9uKHQpe3ZhciBlPWcubGVmdC1oLmxlZnQsaT1lK3AtcixzPWcudG9wLWgudG9wLG49cytmLWwsbz17dGFyZ2V0OntlbGVtZW50Ol8sbGVmdDpnLmxlZnQsdG9wOmcudG9wLHdpZHRoOnAsaGVpZ2h0OmZ9LGVsZW1lbnQ6e2VsZW1lbnQ6YSxsZWZ0OmgubGVmdCx0b3A6aC50b3Asd2lkdGg6cixoZWlnaHQ6bH0saG9yaXpvbnRhbDppPDA/ImxlZnQiOjA8ZT8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOm48MD8idG9wIjowPHM/ImJvdHRvbSI6Im1pZGRsZSJ9O3A8ciYmayhlK2kpPHAmJihvLmhvcml6b250YWw9ImNlbnRlciIpLGY8bCYmayhzK24pPGYmJihvLnZlcnRpY2FsPSJtaWRkbGUiKSx4KGsoZSksayhpKSk+eChrKHMpLGsobikpP28uaW1wb3J0YW50PSJob3Jpem9udGFsIjpvLmltcG9ydGFudD0idmVydGljYWwiLHUudXNpbmcuY2FsbCh0aGlzLHQsbyl9KSxhLm9mZnNldChWLmV4dGVuZChoLHt1c2luZzp0fSkpfSl9LFYudWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpPWUud2l0aGluLHM9aS5pc1dpbmRvdz9pLnNjcm9sbExlZnQ6aS5vZmZzZXQubGVmdCxuPWkud2lkdGgsbz10LmxlZnQtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGE9cy1vLHI9bytlLmNvbGxpc2lvbldpZHRoLW4tcztlLmNvbGxpc2lvbldpZHRoPm4/MDxhJiZyPD0wPyhpPXQubGVmdCthK2UuY29sbGlzaW9uV2lkdGgtbi1zLHQubGVmdCs9YS1pKTp0LmxlZnQ9ISgwPHImJmE8PTApJiZyPGE/cytuLWUuY29sbGlzaW9uV2lkdGg6czowPGE/dC5sZWZ0Kz1hOjA8cj90LmxlZnQtPXI6dC5sZWZ0PXgodC5sZWZ0LW8sdC5sZWZ0KX0sdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53aXRoaW4scz1pLmlzV2luZG93P2kuc2Nyb2xsVG9wOmkub2Zmc2V0LnRvcCxuPWUud2l0aGluLmhlaWdodCxvPXQudG9wLWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLGE9cy1vLHI9bytlLmNvbGxpc2lvbkhlaWdodC1uLXM7ZS5jb2xsaXNpb25IZWlnaHQ+bj8wPGEmJnI8PTA/KGk9dC50b3ArYStlLmNvbGxpc2lvbkhlaWdodC1uLXMsdC50b3ArPWEtaSk6dC50b3A9ISgwPHImJmE8PTApJiZyPGE/cytuLWUuY29sbGlzaW9uSGVpZ2h0OnM6MDxhP3QudG9wKz1hOjA8cj90LnRvcC09cjp0LnRvcD14KHQudG9wLW8sdC50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpPWUud2l0aGluLHM9aS5vZmZzZXQubGVmdCtpLnNjcm9sbExlZnQsbj1pLndpZHRoLG89aS5pc1dpbmRvdz9pLnNjcm9sbExlZnQ6aS5vZmZzZXQubGVmdCxhPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQscj1hLW8sbD1hK2UuY29sbGlzaW9uV2lkdGgtbi1vLGg9ImxlZnQiPT09ZS5teVswXT8tZS5lbGVtV2lkdGg6InJpZ2h0Ij09PWUubXlbMF0/ZS5lbGVtV2lkdGg6MCxpPSJsZWZ0Ij09PWUuYXRbMF0/ZS50YXJnZXRXaWR0aDoicmlnaHQiPT09ZS5hdFswXT8tZS50YXJnZXRXaWR0aDowLGE9LTIqZS5vZmZzZXRbMF07cjwwPygocz10LmxlZnQraCtpK2ErZS5jb2xsaXNpb25XaWR0aC1uLXMpPDB8fHM8ayhyKSkmJih0LmxlZnQrPWgraSthKTowPGwmJigwPChvPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQraCtpK2Etbyl8fGsobyk8bCkmJih0LmxlZnQrPWgraSthKX0sdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53aXRoaW4scz1pLm9mZnNldC50b3AraS5zY3JvbGxUb3Asbj1pLmhlaWdodCxvPWkuaXNXaW5kb3c/aS5zY3JvbGxUb3A6aS5vZmZzZXQudG9wLGE9dC50b3AtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3Ascj1hLW8sbD1hK2UuY29sbGlzaW9uSGVpZ2h0LW4tbyxoPSJ0b3AiPT09ZS5teVsxXT8tZS5lbGVtSGVpZ2h0OiJib3R0b20iPT09ZS5teVsxXT9lLmVsZW1IZWlnaHQ6MCxpPSJ0b3AiPT09ZS5hdFsxXT9lLnRhcmdldEhlaWdodDoiYm90dG9tIj09PWUuYXRbMV0/LWUudGFyZ2V0SGVpZ2h0OjAsYT0tMiplLm9mZnNldFsxXTtyPDA/KChzPXQudG9wK2graSthK2UuY29sbGlzaW9uSGVpZ2h0LW4tcyk8MHx8czxrKHIpKSYmKHQudG9wKz1oK2krYSk6MDxsJiYoMDwobz10LnRvcC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCtoK2krYS1vKXx8ayhvKTxsKSYmKHQudG9wKz1oK2krYSl9fSxmbGlwZml0OntsZWZ0OmZ1bmN0aW9uKCl7Vi51aS5wb3NpdGlvbi5mbGlwLmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLFYudWkucG9zaXRpb24uZml0LmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0b3A6ZnVuY3Rpb24oKXtWLnVpLnBvc2l0aW9uLmZsaXAudG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxWLnVpLnBvc2l0aW9uLmZpdC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O1YudWkucG9zaXRpb24sVi5leHRlbmQoVi5leHByLnBzZXVkb3Mse2RhdGE6Vi5leHByLmNyZWF0ZVBzZXVkbz9WLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIVYuZGF0YSh0LGUpfX0pOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4hIVYuZGF0YSh0LGlbM10pfX0pLFYuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOih0PSJvbnNlbGVjdHN0YXJ0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbih0KyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSl9KSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmYoIi51aS1kaXNhYmxlU2VsZWN0aW9uIil9fSk7dmFyIHQsZD1WLHA9e30sZT1wLnRvU3RyaW5nLGY9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyxnPVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bdFsxXSx0WzJdLHRbM10sdFs0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bMi41NSp0WzFdLDIuNTUqdFsyXSwyLjU1KnRbM10sdFs0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pPy8scGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuW3BhcnNlSW50KHRbMV0sMTYpLHBhcnNlSW50KHRbMl0sMTYpLHBhcnNlSW50KHRbM10sMTYpLHRbNF0/KHBhcnNlSW50KHRbNF0sMTYpLzI1NSkudG9GaXhlZCgyKToxXX19LHtyZTovIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSk/LyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSt0WzFdLDE2KSxwYXJzZUludCh0WzJdK3RbMl0sMTYpLHBhcnNlSW50KHRbM10rdFszXSwxNiksdFs0XT8ocGFyc2VJbnQodFs0XSt0WzRdLDE2KS8yNTUpLnRvRml4ZWQoMik6MV19fSx7cmU6L2hzbGE/XChccyooXGQrKD86XC5cZCspPylccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8sc3BhY2U6ImhzbGEiLHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVyblt0WzFdLHRbMl0vMTAwLHRbM10vMTAwLHRbNF1dfX1dLG09ZC5Db2xvcj1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gbmV3IGQuQ29sb3IuZm4ucGFyc2UodCxlLGkscyl9LF89e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6ImJ5dGUifSxncmVlbjp7aWR4OjEsdHlwZToiYnl0ZSJ9LGJsdWU6e2lkeDoyLHR5cGU6ImJ5dGUifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6ImRlZ3JlZXMifSxzYXR1cmF0aW9uOntpZHg6MSx0eXBlOiJwZXJjZW50In0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOiJwZXJjZW50In19fX0sdj17Ynl0ZTp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxiPW0uc3VwcG9ydD17fSx5PWQoIjxwPiIpWzBdLHc9ZC5lYWNoO2Z1bmN0aW9uIFAodCl7cmV0dXJuIG51bGw9PXQ/dCsiIjoib2JqZWN0Ij09dHlwZW9mIHQ/cFtlLmNhbGwodCldfHwib2JqZWN0Ijp0eXBlb2YgdH1mdW5jdGlvbiBNKHQsZSxpKXt2YXIgcz12W2UudHlwZV18fHt9O3JldHVybiBudWxsPT10P2l8fCFlLmRlZj9udWxsOmUuZGVmOih0PXMuZmxvb3I/fn50OnBhcnNlRmxvYXQodCksaXNOYU4odCk/ZS5kZWY6cy5tb2Q/KHQrcy5tb2QpJXMubW9kOk1hdGgubWluKHMubWF4LE1hdGgubWF4KDAsdCkpKX1mdW5jdGlvbiBTKHMpe3ZhciBuPW0oKSxvPW4uX3JnYmE9W107cmV0dXJuIHM9cy50b0xvd2VyQ2FzZSgpLHcoZyxmdW5jdGlvbih0LGUpe3ZhciBpPWUucmUuZXhlYyhzKSxpPWkmJmUucGFyc2UoaSksZT1lLnNwYWNlfHwicmdiYSI7aWYoaSlyZXR1cm4gaT1uW2VdKGkpLG5bX1tlXS5jYWNoZV09aVtfW2VdLmNhY2hlXSxvPW4uX3JnYmE9aS5fcmdiYSwhMX0pLG8ubGVuZ3RoPygiMCwwLDAsMCI9PT1vLmpvaW4oKSYmZC5leHRlbmQobyxCLnRyYW5zcGFyZW50KSxuKTpCW3NdfWZ1bmN0aW9uIEgodCxlLGkpe3JldHVybiA2KihpPShpKzEpJTEpPDE/dCsoZS10KSppKjY6MippPDE/ZTozKmk8Mj90KyhlLXQpKigyLzMtaSkqNjp0fXkuc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSIsYi5yZ2JhPS0xPHkuc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoInJnYmEiKSx3KF8sZnVuY3Rpb24odCxlKXtlLmNhY2hlPSJfIit0LGUucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6InBlcmNlbnQiLGRlZjoxfX0pLGQuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24odCxlKXtwWyJbb2JqZWN0ICIrZSsiXSJdPWUudG9Mb3dlckNhc2UoKX0pLChtLmZuPWQuZXh0ZW5kKG0ucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihuLHQsZSxpKXtpZih2b2lkIDA9PT1uKXJldHVybiB0aGlzLl9yZ2JhPVtudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzOyhuLmpxdWVyeXx8bi5ub2RlVHlwZSkmJihuPWQobikuY3NzKHQpLHQ9dm9pZCAwKTt2YXIgbz10aGlzLHM9UChuKSxhPXRoaXMuX3JnYmE9W107cmV0dXJuIHZvaWQgMCE9PXQmJihuPVtuLHQsZSxpXSxzPSJhcnJheSIpLCJzdHJpbmciPT09cz90aGlzLnBhcnNlKFMobil8fEIuX2RlZmF1bHQpOiJhcnJheSI9PT1zPyh3KF8ucmdiYS5wcm9wcyxmdW5jdGlvbih0LGUpe2FbZS5pZHhdPU0obltlLmlkeF0sZSl9KSx0aGlzKToib2JqZWN0Ij09PXM/KHcoXyxuIGluc3RhbmNlb2YgbT9mdW5jdGlvbih0LGUpe25bZS5jYWNoZV0mJihvW2UuY2FjaGVdPW5bZS5jYWNoZV0uc2xpY2UoKSl9OmZ1bmN0aW9uKHQsaSl7dmFyIHM9aS5jYWNoZTt3KGkucHJvcHMsZnVuY3Rpb24odCxlKXtpZighb1tzXSYmaS50byl7aWYoImFscGhhIj09PXR8fG51bGw9PW5bdF0pcmV0dXJuO29bc109aS50byhvLl9yZ2JhKX1vW3NdW2UuaWR4XT1NKG5bdF0sZSwhMCl9KSxvW3NdJiZkLmluQXJyYXkobnVsbCxvW3NdLnNsaWNlKDAsMykpPDAmJihudWxsPT1vW3NdWzNdJiYob1tzXVszXT0xKSxpLmZyb20mJihvLl9yZ2JhPWkuZnJvbShvW3NdKSkpfSksdGhpcyk6dm9pZCAwfSxpczpmdW5jdGlvbih0KXt2YXIgbj1tKHQpLG89ITAsYT10aGlzO3JldHVybiB3KF8sZnVuY3Rpb24odCxlKXt2YXIgaSxzPW5bZS5jYWNoZV07cmV0dXJuIHMmJihpPWFbZS5jYWNoZV18fGUudG8mJmUudG8oYS5fcmdiYSl8fFtdLHcoZS5wcm9wcyxmdW5jdGlvbih0LGUpe2lmKG51bGwhPXNbZS5pZHhdKXJldHVybiBvPXNbZS5pZHhdPT09aVtlLmlkeF19KSksb30pLG99LF9zcGFjZTpmdW5jdGlvbigpe3ZhciBpPVtdLHM9dGhpcztyZXR1cm4gdyhfLGZ1bmN0aW9uKHQsZSl7c1tlLmNhY2hlXSYmaS5wdXNoKHQpfSksaS5wb3AoKX0sdHJhbnNpdGlvbjpmdW5jdGlvbih0LGEpe3ZhciBlPShoPW0odCkpLl9zcGFjZSgpLGk9X1tlXSx0PTA9PT10aGlzLmFscGhhKCk/bSgidHJhbnNwYXJlbnQiKTp0aGlzLHI9dFtpLmNhY2hlXXx8aS50byh0Ll9yZ2JhKSxsPXIuc2xpY2UoKSxoPWhbaS5jYWNoZV07cmV0dXJuIHcoaS5wcm9wcyxmdW5jdGlvbih0LGUpe3ZhciBpPWUuaWR4LHM9cltpXSxuPWhbaV0sbz12W2UudHlwZV18fHt9O251bGwhPT1uJiYobnVsbD09PXM/bFtpXT1uOihvLm1vZCYmKG4tcz5vLm1vZC8yP3MrPW8ubW9kOnMtbj5vLm1vZC8yJiYocy09by5tb2QpKSxsW2ldPU0oKG4tcykqYStzLGUpKSl9KSx0aGlzW2VdKGwpfSxibGVuZDpmdW5jdGlvbih0KXtpZigxPT09dGhpcy5fcmdiYVszXSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9yZ2JhLnNsaWNlKCksaT1lLnBvcCgpLHM9bSh0KS5fcmdiYTtyZXR1cm4gbShkLm1hcChlLGZ1bmN0aW9uKHQsZSl7cmV0dXJuKDEtaSkqc1tlXStpKnR9KSl9LHRvUmdiYVN0cmluZzpmdW5jdGlvbigpe3ZhciB0PSJyZ2JhKCIsZT1kLm1hcCh0aGlzLl9yZ2JhLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQ/dDoyPGU/MTowfSk7cmV0dXJuIDE9PT1lWzNdJiYoZS5wb3AoKSx0PSJyZ2IoIiksdCtlLmpvaW4oKSsiKSJ9LHRvSHNsYVN0cmluZzpmdW5jdGlvbigpe3ZhciB0PSJoc2xhKCIsZT1kLm1hcCh0aGlzLmhzbGEoKSxmdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10JiYodD0yPGU/MTowKSx0PWUmJmU8Mz9NYXRoLnJvdW5kKDEwMCp0KSsiJSI6dH0pO3JldHVybiAxPT09ZVszXSYmKGUucG9wKCksdD0iaHNsKCIpLHQrZS5qb2luKCkrIikifSx0b0hleFN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZ2JhLnNsaWNlKCksaT1lLnBvcCgpO3JldHVybiB0JiZlLnB1c2gofn4oMjU1KmkpKSwiIyIrZC5tYXAoZSxmdW5jdGlvbih0KXtyZXR1cm4gMT09PSh0PSh0fHwwKS50b1N0cmluZygxNikpLmxlbmd0aD8iMCIrdDp0fSkuam9pbigiIil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9yZ2JhWzNdPyJ0cmFuc3BhcmVudCI6dGhpcy50b1JnYmFTdHJpbmcoKX19KSkucGFyc2UucHJvdG90eXBlPW0uZm4sXy5oc2xhLnRvPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRbMF18fG51bGw9PXRbMV18fG51bGw9PXRbMl0pcmV0dXJuW251bGwsbnVsbCxudWxsLHRbM11dO3ZhciBlPXRbMF0vMjU1LGk9dFsxXS8yNTUscz10WzJdLzI1NSxuPXRbM10sbz1NYXRoLm1heChlLGkscyksYT1NYXRoLm1pbihlLGkscykscj1vLWEsbD1vK2EsdD0uNSpsLGk9YT09PW8/MDplPT09bz82MCooaS1zKS9yKzM2MDppPT09bz82MCoocy1lKS9yKzEyMDo2MCooZS1pKS9yKzI0MCxsPTA9PXI/MDp0PD0uNT9yL2w6ci8oMi1sKTtyZXR1cm5bTWF0aC5yb3VuZChpKSUzNjAsbCx0LG51bGw9PW4/MTpuXX0sXy5oc2xhLmZyb209ZnVuY3Rpb24odCl7aWYobnVsbD09dFswXXx8bnVsbD09dFsxXXx8bnVsbD09dFsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsdFszXV07dmFyIGU9dFswXS8zNjAsaT10WzFdLHM9dFsyXSx0PXRbM10saT1zPD0uNT9zKigxK2kpOnMraS1zKmkscz0yKnMtaTtyZXR1cm5bTWF0aC5yb3VuZCgyNTUqSChzLGksZSsxLzMpKSxNYXRoLnJvdW5kKDI1NSpIKHMsaSxlKSksTWF0aC5yb3VuZCgyNTUqSChzLGksZS0xLzMpKSx0XX0sdyhfLGZ1bmN0aW9uKGwsdCl7dmFyIGU9dC5wcm9wcyxvPXQuY2FjaGUsYT10LnRvLHI9dC5mcm9tO20uZm5bbF09ZnVuY3Rpb24odCl7aWYoYSYmIXRoaXNbb10mJih0aGlzW29dPWEodGhpcy5fcmdiYSkpLHZvaWQgMD09PXQpcmV0dXJuIHRoaXNbb10uc2xpY2UoKTt2YXIgaT1QKHQpLHM9ImFycmF5Ij09PWl8fCJvYmplY3QiPT09aT90OmFyZ3VtZW50cyxuPXRoaXNbb10uc2xpY2UoKTtyZXR1cm4gdyhlLGZ1bmN0aW9uKHQsZSl7dD1zWyJvYmplY3QiPT09aT90OmUuaWR4XTtudWxsPT10JiYodD1uW2UuaWR4XSksbltlLmlkeF09TSh0LGUpfSkscj8oKHQ9bShyKG4pKSlbb109bix0KTptKG4pfSx3KGUsZnVuY3Rpb24oYSxyKXttLmZuW2FdfHwobS5mblthXT1mdW5jdGlvbih0KXt2YXIgZSxpPVAodCkscz0iYWxwaGEiPT09YT90aGlzLl9oc2xhPyJoc2xhIjoicmdiYSI6bCxuPXRoaXNbc10oKSxvPW5bci5pZHhdO3JldHVybiJ1bmRlZmluZWQiPT09aT9vOigiZnVuY3Rpb24iPT09aSYmKGk9UCh0PXQuY2FsbCh0aGlzLG8pKSksbnVsbD09dCYmci5lbXB0eT90aGlzOigic3RyaW5nIj09PWkmJihlPWYuZXhlYyh0KSkmJih0PW8rcGFyc2VGbG9hdChlWzJdKSooIisiPT09ZVsxXT8xOi0xKSksbltyLmlkeF09dCx0aGlzW3NdKG4pKSl9KX0pfSksKG0uaG9vaz1mdW5jdGlvbih0KXt0PXQuc3BsaXQoIiAiKTt3KHQsZnVuY3Rpb24odCxvKXtkLmNzc0hvb2tzW29dPXtzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49IiI7aWYoInRyYW5zcGFyZW50IiE9PWUmJigic3RyaW5nIiE9PVAoZSl8fChpPVMoZSkpKSl7aWYoZT1tKGl8fGUpLCFiLnJnYmEmJjEhPT1lLl9yZ2JhWzNdKXtmb3Iocz0iYmFja2dyb3VuZENvbG9yIj09PW8/dC5wYXJlbnROb2RlOnQ7KCIiPT09bnx8InRyYW5zcGFyZW50Ij09PW4pJiZzJiZzLnN0eWxlOyl0cnl7bj1kLmNzcyhzLCJiYWNrZ3JvdW5kQ29sb3IiKSxzPXMucGFyZW50Tm9kZX1jYXRjaCh0KXt9ZT1lLmJsZW5kKG4mJiJ0cmFuc3BhcmVudCIhPT1uP246Il9kZWZhdWx0Iil9ZT1lLnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW29dPWV9Y2F0Y2godCl7fX19LGQuZnguc3RlcFtvXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9bSh0LmVsZW0sbyksdC5lbmQ9bSh0LmVuZCksdC5jb2xvckluaXQ9ITApLGQuY3NzSG9va3Nbb10uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX0pKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIiksZC5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKGkpe3ZhciBzPXt9O3JldHVybiB3KFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24odCxlKXtzWyJib3JkZXIiK2UrIkNvbG9yIl09aX0pLHN9fTt2YXIgeixBLE8sTixFLFcsRixMLFIsWSxCPWQuQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn0saj0idWktZWZmZWN0cy0iLHE9InVpLWVmZmVjdHMtc3R5bGUiLEs9InVpLWVmZmVjdHMtYW5pbWF0ZWQiO2Z1bmN0aW9uIFUodCl7dmFyIGUsaSxzPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpOnQuY3VycmVudFN0eWxlLG49e307aWYocyYmcy5sZW5ndGgmJnNbMF0mJnNbc1swXV0pZm9yKGk9cy5sZW5ndGg7aS0tOykic3RyaW5nIj09dHlwZW9mIHNbZT1zW2ldXSYmKG5bZS5yZXBsYWNlKC8tKFtcZGEtel0pL2dpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pXT1zW2VdKTtlbHNlIGZvcihlIGluIHMpInN0cmluZyI9PXR5cGVvZiBzW2VdJiYobltlXT1zW2VdKTtyZXR1cm4gbn1mdW5jdGlvbiBYKHQsZSxpLHMpe3JldHVybiB0PXtlZmZlY3Q6dD1WLmlzUGxhaW5PYmplY3QodCk/KGU9dCkuZWZmZWN0OnR9LCJmdW5jdGlvbiI9PXR5cGVvZihlPW51bGw9PWU/e306ZSkmJihzPWUsaT1udWxsLGU9e30pLCJudW1iZXIiIT10eXBlb2YgZSYmIVYuZnguc3BlZWRzW2VdfHwocz1pLGk9ZSxlPXt9KSwiZnVuY3Rpb24iPT10eXBlb2YgaSYmKHM9aSxpPW51bGwpLGUmJlYuZXh0ZW5kKHQsZSksaT1pfHxlLmR1cmF0aW9uLHQuZHVyYXRpb249Vi5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIGk/aTppIGluIFYuZnguc3BlZWRzP1YuZnguc3BlZWRzW2ldOlYuZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9c3x8ZS5jb21wbGV0ZSx0fWZ1bmN0aW9uICQodCl7cmV0dXJuIXR8fCJudW1iZXIiPT10eXBlb2YgdHx8Vi5meC5zcGVlZHNbdF18fCgic3RyaW5nIj09dHlwZW9mIHQmJiFWLmVmZmVjdHMuZWZmZWN0W3RdfHwoImZ1bmN0aW9uIj09dHlwZW9mIHR8fCJvYmplY3QiPT10eXBlb2YgdCYmIXQuZWZmZWN0KSl9ZnVuY3Rpb24gRyh0LGUpe3ZhciBpPWUub3V0ZXJXaWR0aCgpLGU9ZS5vdXRlckhlaWdodCgpLHQ9L15yZWN0XCgoLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0bylcKSQvLmV4ZWModCl8fFsiIiwwLGksZSwwXTtyZXR1cm57dG9wOnBhcnNlRmxvYXQodFsxXSl8fDAscmlnaHQ6ImF1dG8iPT09dFsyXT9pOnBhcnNlRmxvYXQodFsyXSksYm90dG9tOiJhdXRvIj09PXRbM10/ZTpwYXJzZUZsb2F0KHRbM10pLGxlZnQ6cGFyc2VGbG9hdCh0WzRdKXx8MH19Vi5lZmZlY3RzPXtlZmZlY3Q6e319LE49WyJhZGQiLCJyZW1vdmUiLCJ0b2dnbGUiXSxFPXtib3JkZXI6MSxib3JkZXJCb3R0b206MSxib3JkZXJDb2xvcjoxLGJvcmRlckxlZnQ6MSxib3JkZXJSaWdodDoxLGJvcmRlclRvcDoxLGJvcmRlcldpZHRoOjEsbWFyZ2luOjEscGFkZGluZzoxfSxWLmVhY2goWyJib3JkZXJMZWZ0U3R5bGUiLCJib3JkZXJSaWdodFN0eWxlIiwiYm9yZGVyQm90dG9tU3R5bGUiLCJib3JkZXJUb3BTdHlsZSJdLGZ1bmN0aW9uKHQsZSl7Vi5meC5zdGVwW2VdPWZ1bmN0aW9uKHQpeygibm9uZSIhPT10LmVuZCYmIXQuc2V0QXR0cnx8MT09PXQucG9zJiYhdC5zZXRBdHRyKSYmKGQuc3R5bGUodC5lbGVtLGUsdC5lbmQpLHQuc2V0QXR0cj0hMCl9fSksVi5mbi5hZGRCYWNrfHwoVi5mbi5hZGRCYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZChudWxsPT10P3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKHQpKX0pLFYuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24obix0LGUsaSl7dmFyIG89Vi5zcGVlZCh0LGUsaSk7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgaT1WKHRoaXMpLHQ9aS5hdHRyKCJjbGFzcyIpfHwiIixlPShlPW8uY2hpbGRyZW4/aS5maW5kKCIqIikuYWRkQmFjaygpOmkpLm1hcChmdW5jdGlvbigpe3JldHVybntlbDpWKHRoaXMpLHN0YXJ0OlUodGhpcyl9fSkscz1mdW5jdGlvbigpe1YuZWFjaChOLGZ1bmN0aW9uKHQsZSl7bltlXSYmaVtlKyJDbGFzcyJdKG5bZV0pfSl9O3MoKSxlPWUubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPVUodGhpcy5lbFswXSksdGhpcy5kaWZmPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuPXt9O2ZvcihpIGluIGUpcz1lW2ldLHRbaV0hPT1zJiYoRVtpXXx8IVYuZnguc3RlcFtpXSYmaXNOYU4ocGFyc2VGbG9hdChzKSl8fChuW2ldPXMpKTtyZXR1cm4gbn0odGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pLGkuYXR0cigiY2xhc3MiLHQpLGU9ZS5tYXAoZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9Vi5EZWZlcnJlZCgpLGk9Vi5leHRlbmQoe30sbyx7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXtlLnJlc29sdmUodCl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYsaSksZS5wcm9taXNlKCl9KSxWLndoZW4uYXBwbHkoVixlLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7cygpLFYuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsO1YuZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24odCl7ZS5jc3ModCwiIil9KX0pLG8uY29tcGxldGUuY2FsbChpWzBdKX0pfSl9LFYuZm4uZXh0ZW5kKHthZGRDbGFzczooTz1WLmZuLmFkZENsYXNzLGZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBlP1YuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6dH0sZSxpLHMpOk8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSkscmVtb3ZlQ2xhc3M6KEE9Vi5mbi5yZW1vdmVDbGFzcyxmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gMTxhcmd1bWVudHMubGVuZ3RoP1YuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6dH0sZSxpLHMpOkEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdG9nZ2xlQ2xhc3M6KHo9Vi5mbi50b2dnbGVDbGFzcyxmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiJib29sZWFuIj09dHlwZW9mIGV8fHZvaWQgMD09PWU/aT9WLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyxlP3thZGQ6dH06e3JlbW92ZTp0fSxpLHMsbik6ei5hcHBseSh0aGlzLGFyZ3VtZW50cyk6Vi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3RvZ2dsZTp0fSxlLGkscyl9KSxzd2l0Y2hDbGFzczpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiBWLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOmUscmVtb3ZlOnR9LGkscyxuKX19KSxWLmV4cHImJlYuZXhwci5wc2V1ZG9zJiZWLmV4cHIucHNldWRvcy5hbmltYXRlZCYmKFYuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPShXPVYuZXhwci5wc2V1ZG9zLmFuaW1hdGVkLGZ1bmN0aW9uKHQpe3JldHVybiEhVih0KS5kYXRhKEspfHxXKHQpfSkpLCExIT09Vi51aUJhY2tDb21wYXQmJlYuZXh0ZW5kKFYuZWZmZWN0cyx7c2F2ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHM9ZS5sZW5ndGg7aTxzO2krKyludWxsIT09ZVtpXSYmdC5kYXRhKGorZVtpXSx0WzBdLnN0eWxlW2VbaV1dKX0scmVzdG9yZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxzPTAsbj1lLmxlbmd0aDtzPG47cysrKW51bGwhPT1lW3NdJiYoaT10LmRhdGEoaitlW3NdKSx0LmNzcyhlW3NdLGkpKX0sc2V0TW9kZTpmdW5jdGlvbih0LGUpe3JldHVybiBlPSJ0b2dnbGUiPT09ZT90LmlzKCI6aGlkZGVuIik/InNob3ciOiJoaWRlIjplfSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKGkpe2lmKGkucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gaS5wYXJlbnQoKTt2YXIgcz17d2lkdGg6aS5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6aS5vdXRlckhlaWdodCghMCksZmxvYXQ6aS5jc3MoImZsb2F0Iil9LHQ9VigiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktZWZmZWN0cy13cmFwcGVyIikuY3NzKHtmb250U2l6ZToiMTAwJSIsYmFja2dyb3VuZDoidHJhbnNwYXJlbnQiLGJvcmRlcjoibm9uZSIsbWFyZ2luOjAscGFkZGluZzowfSksZT17d2lkdGg6aS53aWR0aCgpLGhlaWdodDppLmhlaWdodCgpfSxuPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7dHJ5e24uaWR9Y2F0Y2godCl7bj1kb2N1bWVudC5ib2R5fXJldHVybiBpLndyYXAodCksaVswXSE9PW4mJiFWLmNvbnRhaW5zKGlbMF0sbil8fFYobikudHJpZ2dlcigiZm9jdXMiKSx0PWkucGFyZW50KCksInN0YXRpYyI9PT1pLmNzcygicG9zaXRpb24iKT8odC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KSxpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pKTooVi5leHRlbmQocyx7cG9zaXRpb246aS5jc3MoInBvc2l0aW9uIiksekluZGV4OmkuY3NzKCJ6LWluZGV4Iil9KSxWLmVhY2goWyJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiXSxmdW5jdGlvbih0LGUpe3NbZV09aS5jc3MoZSksaXNOYU4ocGFyc2VJbnQoc1tlXSwxMCkpJiYoc1tlXT0iYXV0byIpfSksaS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOjAsbGVmdDowLHJpZ2h0OiJhdXRvIixib3R0b206ImF1dG8ifSkpLGkuY3NzKGUpLHQuY3NzKHMpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3JldHVybiB0LnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikmJih0LnBhcmVudCgpLnJlcGxhY2VXaXRoKHQpLHRbMF0hPT1lJiYhVi5jb250YWlucyh0WzBdLGUpfHxWKGUpLnRyaWdnZXIoImZvY3VzIikpLHR9fSksVi5leHRlbmQoVi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmluZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGl8fChpPWUsZT0iZWZmZWN0IiksVi5lZmZlY3RzLmVmZmVjdFt0XT1pLFYuZWZmZWN0cy5lZmZlY3RbdF0ubW9kZT1lLGl9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24odCxlLGkpe2lmKDA9PT1lKXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcz0iaG9yaXpvbnRhbCIhPT1pPyhlfHwxMDApLzEwMDoxLGU9InZlcnRpY2FsIiE9PWk/KGV8fDEwMCkvMTAwOjE7cmV0dXJue2hlaWdodDp0LmhlaWdodCgpKmUsd2lkdGg6dC53aWR0aCgpKnMsb3V0ZXJIZWlnaHQ6dC5vdXRlckhlaWdodCgpKmUsb3V0ZXJXaWR0aDp0Lm91dGVyV2lkdGgoKSpzfX0sY2xpcFRvQm94OmZ1bmN0aW9uKHQpe3JldHVybnt3aWR0aDp0LmNsaXAucmlnaHQtdC5jbGlwLmxlZnQsaGVpZ2h0OnQuY2xpcC5ib3R0b20tdC5jbGlwLnRvcCxsZWZ0OnQuY2xpcC5sZWZ0LHRvcDp0LmNsaXAudG9wfX0sdW5zaGlmdDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dC5xdWV1ZSgpOzE8ZSYmcy5zcGxpY2UuYXBwbHkocyxbMSwwXS5jb25jYXQocy5zcGxpY2UoZSxpKSkpLHQuZGVxdWV1ZSgpfSxzYXZlU3R5bGU6ZnVuY3Rpb24odCl7dC5kYXRhKHEsdFswXS5zdHlsZS5jc3NUZXh0KX0scmVzdG9yZVN0eWxlOmZ1bmN0aW9uKHQpe3RbMF0uc3R5bGUuY3NzVGV4dD10LmRhdGEocSl8fCIiLHQucmVtb3ZlRGF0YShxKX0sbW9kZTpmdW5jdGlvbih0LGUpe3Q9dC5pcygiOmhpZGRlbiIpO3JldHVybiJ0b2dnbGUiPT09ZSYmKGU9dD8ic2hvdyI6ImhpZGUiKSxlPSh0PyJoaWRlIj09PWU6InNob3ciPT09ZSk/Im5vbmUiOmV9LGdldEJhc2VsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGkscztzd2l0Y2godFswXSl7Y2FzZSJ0b3AiOmk9MDticmVhaztjYXNlIm1pZGRsZSI6aT0uNTticmVhaztjYXNlImJvdHRvbSI6aT0xO2JyZWFrO2RlZmF1bHQ6aT10WzBdL2UuaGVpZ2h0fXN3aXRjaCh0WzFdKXtjYXNlImxlZnQiOnM9MDticmVhaztjYXNlImNlbnRlciI6cz0uNTticmVhaztjYXNlInJpZ2h0IjpzPTE7YnJlYWs7ZGVmYXVsdDpzPXRbMV0vZS53aWR0aH1yZXR1cm57eDpzLHk6aX19LGNyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5jc3MoInBvc2l0aW9uIikscz10LnBvc2l0aW9uKCk7cmV0dXJuIHQuY3NzKHttYXJnaW5Ub3A6dC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpbkJvdHRvbTp0LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblJpZ2h0OnQuY3NzKCJtYXJnaW5SaWdodCIpfSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKSwvXihzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KGkpJiYoaT0iYWJzb2x1dGUiLGU9VigiPCIrdFswXS5ub2RlTmFtZSsiPiIpLmluc2VydEFmdGVyKHQpLmNzcyh7ZGlzcGxheTovXihpbmxpbmV8cnVieSkvLnRlc3QodC5jc3MoImRpc3BsYXkiKSk/ImlubGluZS1ibG9jayI6ImJsb2NrIix2aXNpYmlsaXR5OiJoaWRkZW4iLG1hcmdpblRvcDp0LmNzcygibWFyZ2luVG9wIiksbWFyZ2luQm90dG9tOnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnQuY3NzKCJtYXJnaW5MZWZ0IiksbWFyZ2luUmlnaHQ6dC5jc3MoIm1hcmdpblJpZ2h0IiksZmxvYXQ6dC5jc3MoImZsb2F0Iil9KS5vdXRlcldpZHRoKHQub3V0ZXJXaWR0aCgpKS5vdXRlckhlaWdodCh0Lm91dGVySGVpZ2h0KCkpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLXBsYWNlaG9sZGVyIiksdC5kYXRhKGorInBsYWNlaG9sZGVyIixlKSksdC5jc3Moe3Bvc2l0aW9uOmksbGVmdDpzLmxlZnQsdG9wOnMudG9wfSksZX0scmVtb3ZlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dmFyIGU9aisicGxhY2Vob2xkZXIiLGk9dC5kYXRhKGUpO2kmJihpLnJlbW92ZSgpLHQucmVtb3ZlRGF0YShlKSl9LGNsZWFuVXA6ZnVuY3Rpb24odCl7Vi5lZmZlY3RzLnJlc3RvcmVTdHlsZSh0KSxWLmVmZmVjdHMucmVtb3ZlUGxhY2Vob2xkZXIodCl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24ocyx0LG4sbyl7cmV0dXJuIG89b3x8e30sVi5lYWNoKHQsZnVuY3Rpb24odCxlKXt2YXIgaT1zLmNzc1VuaXQoZSk7MDxpWzBdJiYob1tlXT1pWzBdKm4raVsxXSl9KSxvfX0pLFYuZm4uZXh0ZW5kKHtlZmZlY3Q6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPVYodGhpcyksaT1WLmVmZmVjdHMubW9kZShlLHIpfHxvO2UuZGF0YShLLCEwKSxsLnB1c2goaSksbyYmKCJzaG93Ij09PWl8fGk9PT1vJiYiaGlkZSI9PT1pKSYmZS5zaG93KCksbyYmIm5vbmUiPT09aXx8Vi5lZmZlY3RzLnNhdmVTdHlsZShlKSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmdCgpfXZhciBzPVguYXBwbHkodGhpcyxhcmd1bWVudHMpLG49Vi5lZmZlY3RzLmVmZmVjdFtzLmVmZmVjdF0sbz1uLm1vZGUsZT1zLnF1ZXVlLGk9ZXx8ImZ4IixhPXMuY29tcGxldGUscj1zLm1vZGUsbD1bXTtyZXR1cm4gVi5meC5vZmZ8fCFuP3I/dGhpc1tyXShzLmR1cmF0aW9uLGEpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EmJmEuY2FsbCh0aGlzKX0pOiExPT09ZT90aGlzLmVhY2godCkuZWFjaChoKTp0aGlzLnF1ZXVlKGksdCkucXVldWUoaSxoKTtmdW5jdGlvbiBoKHQpe3ZhciBlPVYodGhpcyk7ZnVuY3Rpb24gaSgpeyJmdW5jdGlvbiI9PXR5cGVvZiBhJiZhLmNhbGwoZVswXSksImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQoKX1zLm1vZGU9bC5zaGlmdCgpLCExPT09Vi51aUJhY2tDb21wYXR8fG8/Im5vbmUiPT09cy5tb2RlPyhlW3JdKCksaSgpKTpuLmNhbGwoZVswXSxzLGZ1bmN0aW9uKCl7ZS5yZW1vdmVEYXRhKEspLFYuZWZmZWN0cy5jbGVhblVwKGUpLCJoaWRlIj09PXMubW9kZSYmZS5oaWRlKCksaSgpfSk6KGUuaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhlW3JdKCksaSgpKTpuLmNhbGwoZVswXSxzLGkpfX0sc2hvdzooUj1WLmZuLnNob3csZnVuY3Rpb24odCl7aWYoJCh0KSlyZXR1cm4gUi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dD1YLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdC5tb2RlPSJzaG93Iix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsdCl9KSxoaWRlOihMPVYuZm4uaGlkZSxmdW5jdGlvbih0KXtpZigkKHQpKXJldHVybiBMLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0PVguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0Lm1vZGU9ImhpZGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx0KX0pLHRvZ2dsZTooRj1WLmZuLnRvZ2dsZSxmdW5jdGlvbih0KXtpZigkKHQpfHwiYm9vbGVhbiI9PXR5cGVvZiB0KXJldHVybiBGLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0PVguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0Lm1vZGU9InRvZ2dsZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHQpfSksY3NzVW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNzcyh0KSxzPVtdO3JldHVybiBWLmVhY2goWyJlbSIsInB4IiwiJSIsInB0Il0sZnVuY3Rpb24odCxlKXswPGkuaW5kZXhPZihlKSYmKHM9W3BhcnNlRmxvYXQoaSksZV0pfSksc30sY3NzQ2xpcDpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmNzcygiY2xpcCIsInJlY3QoIit0LnRvcCsicHggIit0LnJpZ2h0KyJweCAiK3QuYm90dG9tKyJweCAiK3QubGVmdCsicHgpIik6Ryh0aGlzLmNzcygiY2xpcCIpLHRoaXMpfSx0cmFuc2ZlcjpmdW5jdGlvbih0LGUpe3ZhciBpPVYodGhpcykscz1WKHQudG8pLG49ImZpeGVkIj09PXMuY3NzKCJwb3NpdGlvbiIpLG89VigiYm9keSIpLGE9bj9vLnNjcm9sbFRvcCgpOjAscj1uP28uc2Nyb2xsTGVmdCgpOjAsbz1zLm9mZnNldCgpLG89e3RvcDpvLnRvcC1hLGxlZnQ6by5sZWZ0LXIsaGVpZ2h0OnMuaW5uZXJIZWlnaHQoKSx3aWR0aDpzLmlubmVyV2lkdGgoKX0scz1pLm9mZnNldCgpLGw9VigiPGRpdiBjbGFzcz0ndWktZWZmZWN0cy10cmFuc2Zlcic+PC9kaXY+Iik7bC5hcHBlbmRUbygiYm9keSIpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpzLnRvcC1hLGxlZnQ6cy5sZWZ0LXIsaGVpZ2h0OmkuaW5uZXJIZWlnaHQoKSx3aWR0aDppLmlubmVyV2lkdGgoKSxwb3NpdGlvbjpuPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUobyx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7bC5yZW1vdmUoKSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmZSgpfSl9fSksVi5meC5zdGVwLmNsaXA9ZnVuY3Rpb24odCl7dC5jbGlwSW5pdHx8KHQuc3RhcnQ9Vih0LmVsZW0pLmNzc0NsaXAoKSwic3RyaW5nIj09dHlwZW9mIHQuZW5kJiYodC5lbmQ9Ryh0LmVuZCx0LmVsZW0pKSx0LmNsaXBJbml0PSEwKSxWKHQuZWxlbSkuY3NzQ2xpcCh7dG9wOnQucG9zKih0LmVuZC50b3AtdC5zdGFydC50b3ApK3Quc3RhcnQudG9wLHJpZ2h0OnQucG9zKih0LmVuZC5yaWdodC10LnN0YXJ0LnJpZ2h0KSt0LnN0YXJ0LnJpZ2h0LGJvdHRvbTp0LnBvcyoodC5lbmQuYm90dG9tLXQuc3RhcnQuYm90dG9tKSt0LnN0YXJ0LmJvdHRvbSxsZWZ0OnQucG9zKih0LmVuZC5sZWZ0LXQuc3RhcnQubGVmdCkrdC5zdGFydC5sZWZ0fSl9LFk9e30sVi5lYWNoKFsiUXVhZCIsIkN1YmljIiwiUXVhcnQiLCJRdWludCIsIkV4cG8iXSxmdW5jdGlvbihlLHQpe1lbdF09ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsZSsyKX19KSxWLmV4dGVuZChZLHtTaW5lOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sQ2lyYzpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxFbGFzdGljOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dHx8MT09PXQ/dDotTWF0aC5wb3coMiw4Kih0LTEpKSpNYXRoLnNpbigoODAqKHQtMSktNy41KSpNYXRoLlBJLzE1KX0sQmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigzKnQtMil9LEJvdW5jZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT00O3Q8KChlPU1hdGgucG93KDIsLS1pKSktMSkvMTE7KTtyZXR1cm4gMS9NYXRoLnBvdyg0LDMtaSktNy41NjI1Kk1hdGgucG93KCgzKmUtMikvMjItdCwyKX19KSxWLmVhY2goWSxmdW5jdGlvbih0LGUpe1YuZWFzaW5nWyJlYXNlSW4iK3RdPWUsVi5lYXNpbmdbImVhc2VPdXQiK3RdPWZ1bmN0aW9uKHQpe3JldHVybiAxLWUoMS10KX0sVi5lYXNpbmdbImVhc2VJbk91dCIrdF09ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/ZSgyKnQpLzI6MS1lKC0yKnQrMikvMn19KTt5PVYuZWZmZWN0cyxWLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsZSl7dmFyIGk9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSxzPVYodGhpcyksbj10LmRpcmVjdGlvbnx8InVwIixvPXMuY3NzQ2xpcCgpLGE9e2NsaXA6Vi5leHRlbmQoe30sbyl9LHI9Vi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHMpO2EuY2xpcFtpW25dWzBdXT1hLmNsaXBbaVtuXVsxXV0sInNob3ciPT09dC5tb2RlJiYocy5jc3NDbGlwKGEuY2xpcCksciYmci5jc3MoVi5lZmZlY3RzLmNsaXBUb0JveChhKSksYS5jbGlwPW8pLHImJnIuYW5pbWF0ZShWLmVmZmVjdHMuY2xpcFRvQm94KGEpLHQuZHVyYXRpb24sdC5lYXNpbmcpLHMuYW5pbWF0ZShhLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTplfSl9KSxWLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuPVYodGhpcyksbz10Lm1vZGUsYT0iaGlkZSI9PT1vLHI9InNob3ciPT09byxsPXQuZGlyZWN0aW9ufHwidXAiLGg9dC5kaXN0YW5jZSxjPXQudGltZXN8fDUsbz0yKmMrKHJ8fGE/MTowKSx1PXQuZHVyYXRpb24vbyxkPXQuZWFzaW5nLHA9InVwIj09PWx8fCJkb3duIj09PWw/InRvcCI6ImxlZnQiLGY9InVwIj09PWx8fCJsZWZ0Ij09PWwsZz0wLHQ9bi5xdWV1ZSgpLmxlbmd0aDtmb3IoVi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKG4pLGw9bi5jc3MocCksaD1ofHxuWyJ0b3AiPT1wPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSgpLzMsciYmKChzPXtvcGFjaXR5OjF9KVtwXT1sLG4uY3NzKCJvcGFjaXR5IiwwKS5jc3MocCxmPzIqLWg6MipoKS5hbmltYXRlKHMsdSxkKSksYSYmKGgvPU1hdGgucG93KDIsYy0xKSksKHM9e30pW3BdPWw7ZzxjO2crKykoaT17fSlbcF09KGY/Ii09IjoiKz0iKStoLG4uYW5pbWF0ZShpLHUsZCkuYW5pbWF0ZShzLHUsZCksaD1hPzIqaDpoLzI7YSYmKChpPXtvcGFjaXR5OjB9KVtwXT0oZj8iLT0iOiIrPSIpK2gsbi5hbmltYXRlKGksdSxkKSksbi5xdWV1ZShlKSxWLmVmZmVjdHMudW5zaGlmdChuLHQsMStvKX0pLFYuZWZmZWN0cy5kZWZpbmUoImNsaXAiLCJoaWRlIixmdW5jdGlvbih0LGUpe3ZhciBpPXt9LHM9Vih0aGlzKSxuPXQuZGlyZWN0aW9ufHwidmVydGljYWwiLG89ImJvdGgiPT09bixhPW98fCJob3Jpem9udGFsIj09PW4sbz1vfHwidmVydGljYWwiPT09bixuPXMuY3NzQ2xpcCgpO2kuY2xpcD17dG9wOm8/KG4uYm90dG9tLW4udG9wKS8yOm4udG9wLHJpZ2h0OmE/KG4ucmlnaHQtbi5sZWZ0KS8yOm4ucmlnaHQsYm90dG9tOm8/KG4uYm90dG9tLW4udG9wKS8yOm4uYm90dG9tLGxlZnQ6YT8obi5yaWdodC1uLmxlZnQpLzI6bi5sZWZ0fSxWLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIocyksInNob3ciPT09dC5tb2RlJiYocy5jc3NDbGlwKGkuY2xpcCksaS5jbGlwPW4pLHMuYW5pbWF0ZShpLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTplfSl9KSxWLmVmZmVjdHMuZGVmaW5lKCJkcm9wIiwiaGlkZSIsZnVuY3Rpb24odCxlKXt2YXIgaT1WKHRoaXMpLHM9InNob3ciPT09dC5tb2RlLG49dC5kaXJlY3Rpb258fCJsZWZ0IixvPSJ1cCI9PT1ufHwiZG93biI9PT1uPyJ0b3AiOiJsZWZ0IixhPSJ1cCI9PT1ufHwibGVmdCI9PT1uPyItPSI6Iis9IixyPSIrPSI9PWE/Ii09IjoiKz0iLGw9e29wYWNpdHk6MH07Vi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGkpLG49dC5kaXN0YW5jZXx8aVsidG9wIj09bz8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzIsbFtvXT1hK24scyYmKGkuY3NzKGwpLGxbb109cituLGwub3BhY2l0eT0xKSxpLmFuaW1hdGUobCx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZX0pfSksVi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLG8sYSxyLGw9dC5waWVjZXM/TWF0aC5yb3VuZChNYXRoLnNxcnQodC5waWVjZXMpKTozLGg9bCxjPVYodGhpcyksdT0ic2hvdyI9PT10Lm1vZGUsZD1jLnNob3coKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKS5vZmZzZXQoKSxwPU1hdGguY2VpbChjLm91dGVyV2lkdGgoKS9oKSxmPU1hdGguY2VpbChjLm91dGVySGVpZ2h0KCkvbCksZz1bXTtmdW5jdGlvbiBtKCl7Zy5wdXNoKHRoaXMpLGcubGVuZ3RoPT09bCpoJiYoYy5jc3Moe3Zpc2liaWxpdHk6InZpc2libGUifSksVihnKS5yZW1vdmUoKSxlKCkpfWZvcihpPTA7aTxsO2krKylmb3Iobz1kLnRvcCtpKmYscj1pLShsLTEpLzIscz0wO3M8aDtzKyspbj1kLmxlZnQrcypwLGE9cy0oaC0xKS8yLGMuY2xvbmUoKS5hcHBlbmRUbygiYm9keSIpLndyYXAoIjxkaXY+PC9kaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6InZpc2libGUiLGxlZnQ6LXMqcCx0b3A6LWkqZn0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6cCxoZWlnaHQ6ZixsZWZ0Om4rKHU/YSpwOjApLHRvcDpvKyh1P3IqZjowKSxvcGFjaXR5OnU/MDoxfSkuYW5pbWF0ZSh7bGVmdDpuKyh1PzA6YSpwKSx0b3A6bysodT8wOnIqZiksb3BhY2l0eTp1PzE6MH0sdC5kdXJhdGlvbnx8NTAwLHQuZWFzaW5nLG0pfSksVi5lZmZlY3RzLmRlZmluZSgiZmFkZSIsInRvZ2dsZSIsZnVuY3Rpb24odCxlKXt2YXIgaT0ic2hvdyI9PT10Lm1vZGU7Vih0aGlzKS5jc3MoIm9wYWNpdHkiLGk/MDoxKS5hbmltYXRlKHtvcGFjaXR5Omk/MTowfSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZX0pfSksVi5lZmZlY3RzLmRlZmluZSgiZm9sZCIsImhpZGUiLGZ1bmN0aW9uKGUsdCl7dmFyIGk9Vih0aGlzKSxzPWUubW9kZSxuPSJzaG93Ij09PXMsbz0iaGlkZSI9PT1zLGE9ZS5zaXplfHwxNSxyPS8oWzAtOV0rKSUvLmV4ZWMoYSksbD0hIWUuaG9yaXpGaXJzdD9bInJpZ2h0IiwiYm90dG9tIl06WyJib3R0b20iLCJyaWdodCJdLGg9ZS5kdXJhdGlvbi8yLGM9Vi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGkpLHU9aS5jc3NDbGlwKCksZD17Y2xpcDpWLmV4dGVuZCh7fSx1KX0scD17Y2xpcDpWLmV4dGVuZCh7fSx1KX0sZj1bdVtsWzBdXSx1W2xbMV1dXSxzPWkucXVldWUoKS5sZW5ndGg7ciYmKGE9cGFyc2VJbnQoclsxXSwxMCkvMTAwKmZbbz8wOjFdKSxkLmNsaXBbbFswXV09YSxwLmNsaXBbbFswXV09YSxwLmNsaXBbbFsxXV09MCxuJiYoaS5jc3NDbGlwKHAuY2xpcCksYyYmYy5jc3MoVi5lZmZlY3RzLmNsaXBUb0JveChwKSkscC5jbGlwPXUpLGkucXVldWUoZnVuY3Rpb24odCl7YyYmYy5hbmltYXRlKFYuZWZmZWN0cy5jbGlwVG9Cb3goZCksaCxlLmVhc2luZykuYW5pbWF0ZShWLmVmZmVjdHMuY2xpcFRvQm94KHApLGgsZS5lYXNpbmcpLHQoKX0pLmFuaW1hdGUoZCxoLGUuZWFzaW5nKS5hbmltYXRlKHAsaCxlLmVhc2luZykucXVldWUodCksVi5lZmZlY3RzLnVuc2hpZnQoaSxzLDQpfSksVi5lZmZlY3RzLmRlZmluZSgiaGlnaGxpZ2h0Iiwic2hvdyIsZnVuY3Rpb24odCxlKXt2YXIgaT1WKHRoaXMpLHM9e2JhY2tncm91bmRDb2xvcjppLmNzcygiYmFja2dyb3VuZENvbG9yIil9OyJoaWRlIj09PXQubW9kZSYmKHMub3BhY2l0eT0wKSxWLmVmZmVjdHMuc2F2ZVN0eWxlKGkpLGkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6Im5vbmUiLGJhY2tncm91bmRDb2xvcjp0LmNvbG9yfHwiI2ZmZmY5OSJ9KS5hbmltYXRlKHMse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmV9KX0pLFYuZWZmZWN0cy5kZWZpbmUoInNpemUiLGZ1bmN0aW9uKHMsZSl7dmFyIG4saT1WKHRoaXMpLHQ9WyJmb250U2l6ZSJdLG89WyJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxhPVsiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0scj1zLm1vZGUsbD0iZWZmZWN0IiE9PXIsaD1zLnNjYWxlfHwiYm90aCIsYz1zLm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXSx1PWkuY3NzKCJwb3NpdGlvbiIpLGQ9aS5wb3NpdGlvbigpLHA9Vi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSksZj1zLmZyb218fHAsZz1zLnRvfHxWLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhpLDApO1YuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihpKSwic2hvdyI9PT1yJiYocj1mLGY9ZyxnPXIpLG49e2Zyb206e3k6Zi5oZWlnaHQvcC5oZWlnaHQseDpmLndpZHRoL3Aud2lkdGh9LHRvOnt5OmcuaGVpZ2h0L3AuaGVpZ2h0LHg6Zy53aWR0aC9wLndpZHRofX0sImJveCIhPT1oJiYiYm90aCIhPT1ofHwobi5mcm9tLnkhPT1uLnRvLnkmJihmPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksbyxuLmZyb20ueSxmKSxnPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksbyxuLnRvLnksZykpLG4uZnJvbS54IT09bi50by54JiYoZj1WLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGEsbi5mcm9tLngsZiksZz1WLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGEsbi50by54LGcpKSksImNvbnRlbnQiIT09aCYmImJvdGgiIT09aHx8bi5mcm9tLnkhPT1uLnRvLnkmJihmPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksdCxuLmZyb20ueSxmKSxnPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksdCxuLnRvLnksZykpLGMmJihjPVYuZWZmZWN0cy5nZXRCYXNlbGluZShjLHApLGYudG9wPShwLm91dGVySGVpZ2h0LWYub3V0ZXJIZWlnaHQpKmMueStkLnRvcCxmLmxlZnQ9KHAub3V0ZXJXaWR0aC1mLm91dGVyV2lkdGgpKmMueCtkLmxlZnQsZy50b3A9KHAub3V0ZXJIZWlnaHQtZy5vdXRlckhlaWdodCkqYy55K2QudG9wLGcubGVmdD0ocC5vdXRlcldpZHRoLWcub3V0ZXJXaWR0aCkqYy54K2QubGVmdCksZGVsZXRlIGYub3V0ZXJIZWlnaHQsZGVsZXRlIGYub3V0ZXJXaWR0aCxpLmNzcyhmKSwiY29udGVudCIhPT1oJiYiYm90aCIhPT1ofHwobz1vLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodCksYT1hLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSxpLmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyksZT1WLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh0KSxpPXtoZWlnaHQ6ZS5oZWlnaHQqbi5mcm9tLnksd2lkdGg6ZS53aWR0aCpuLmZyb20ueCxvdXRlckhlaWdodDplLm91dGVySGVpZ2h0Km4uZnJvbS55LG91dGVyV2lkdGg6ZS5vdXRlcldpZHRoKm4uZnJvbS54fSxlPXtoZWlnaHQ6ZS5oZWlnaHQqbi50by55LHdpZHRoOmUud2lkdGgqbi50by54LG91dGVySGVpZ2h0OmUuaGVpZ2h0Km4udG8ueSxvdXRlcldpZHRoOmUud2lkdGgqbi50by54fTtuLmZyb20ueSE9PW4udG8ueSYmKGk9Vi5lZmZlY3RzLnNldFRyYW5zaXRpb24odCxvLG4uZnJvbS55LGkpLGU9Vi5lZmZlY3RzLnNldFRyYW5zaXRpb24odCxvLG4udG8ueSxlKSksbi5mcm9tLnghPT1uLnRvLngmJihpPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHQsYSxuLmZyb20ueCxpKSxlPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHQsYSxuLnRvLngsZSkpLGwmJlYuZWZmZWN0cy5zYXZlU3R5bGUodCksdC5jc3MoaSksdC5hbmltYXRlKGUscy5kdXJhdGlvbixzLmVhc2luZyxmdW5jdGlvbigpe2wmJlYuZWZmZWN0cy5yZXN0b3JlU3R5bGUodCl9KX0pKSxpLmFuaW1hdGUoZyx7cXVldWU6ITEsZHVyYXRpb246cy5kdXJhdGlvbixlYXNpbmc6cy5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD1pLm9mZnNldCgpOzA9PT1nLm9wYWNpdHkmJmkuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpLGx8fChpLmNzcygicG9zaXRpb24iLCJzdGF0aWMiPT09dT8icmVsYXRpdmUiOnUpLm9mZnNldCh0KSxWLmVmZmVjdHMuc2F2ZVN0eWxlKGkpKSxlKCl9fSl9KSxWLmVmZmVjdHMuZGVmaW5lKCJzY2FsZSIsZnVuY3Rpb24odCxlKXt2YXIgaT1WKHRoaXMpLHM9dC5tb2RlLHM9cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8KDA9PT1wYXJzZUludCh0LnBlcmNlbnQsMTApfHwiZWZmZWN0IiE9PXM/MDoxMDApLHM9Vi5leHRlbmQoITAse2Zyb206Vi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSksdG86Vi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSxzLHQuZGlyZWN0aW9ufHwiYm90aCIpLG9yaWdpbjp0Lm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXX0sdCk7dC5mYWRlJiYocy5mcm9tLm9wYWNpdHk9MSxzLnRvLm9wYWNpdHk9MCksVi5lZmZlY3RzLmVmZmVjdC5zaXplLmNhbGwodGhpcyxzLGUpfSksVi5lZmZlY3RzLmRlZmluZSgicHVmZiIsImhpZGUiLGZ1bmN0aW9uKHQsZSl7dD1WLmV4dGVuZCghMCx7fSx0LHtmYWRlOiEwLHBlcmNlbnQ6cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8MTUwfSk7Vi5lZmZlY3RzLmVmZmVjdC5zY2FsZS5jYWxsKHRoaXMsdCxlKX0pLFYuZWZmZWN0cy5kZWZpbmUoInB1bHNhdGUiLCJzaG93IixmdW5jdGlvbih0LGUpe3ZhciBpPVYodGhpcykscz10Lm1vZGUsbj0ic2hvdyI9PT1zLG89MioodC50aW1lc3x8NSkrKG58fCJoaWRlIj09PXM/MTowKSxhPXQuZHVyYXRpb24vbyxyPTAsbD0xLHM9aS5xdWV1ZSgpLmxlbmd0aDtmb3IoIW4mJmkuaXMoIjp2aXNpYmxlIil8fChpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLHI9MSk7bDxvO2wrKylpLmFuaW1hdGUoe29wYWNpdHk6cn0sYSx0LmVhc2luZykscj0xLXI7aS5hbmltYXRlKHtvcGFjaXR5OnJ9LGEsdC5lYXNpbmcpLGkucXVldWUoZSksVi5lZmZlY3RzLnVuc2hpZnQoaSxzLDErbyl9KSxWLmVmZmVjdHMuZGVmaW5lKCJzaGFrZSIsZnVuY3Rpb24odCxlKXt2YXIgaT0xLHM9Vih0aGlzKSxuPXQuZGlyZWN0aW9ufHwibGVmdCIsbz10LmRpc3RhbmNlfHwyMCxhPXQudGltZXN8fDMscj0yKmErMSxsPU1hdGgucm91bmQodC5kdXJhdGlvbi9yKSxoPSJ1cCI9PT1ufHwiZG93biI9PT1uPyJ0b3AiOiJsZWZ0IixjPSJ1cCI9PT1ufHwibGVmdCI9PT1uLHU9e30sZD17fSxwPXt9LG49cy5xdWV1ZSgpLmxlbmd0aDtmb3IoVi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHMpLHVbaF09KGM/Ii09IjoiKz0iKStvLGRbaF09KGM/Iis9IjoiLT0iKSsyKm8scFtoXT0oYz8iLT0iOiIrPSIpKzIqbyxzLmFuaW1hdGUodSxsLHQuZWFzaW5nKTtpPGE7aSsrKXMuYW5pbWF0ZShkLGwsdC5lYXNpbmcpLmFuaW1hdGUocCxsLHQuZWFzaW5nKTtzLmFuaW1hdGUoZCxsLHQuZWFzaW5nKS5hbmltYXRlKHUsbC8yLHQuZWFzaW5nKS5xdWV1ZShlKSxWLmVmZmVjdHMudW5zaGlmdChzLG4sMStyKX0pLFYuZWZmZWN0cy5kZWZpbmUoInNsaWRlIiwic2hvdyIsZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49Vih0aGlzKSxvPXt1cDpbImJvdHRvbSIsInRvcCJdLGRvd246WyJ0b3AiLCJib3R0b20iXSxsZWZ0OlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sYT10Lm1vZGUscj10LmRpcmVjdGlvbnx8ImxlZnQiLGw9InVwIj09PXJ8fCJkb3duIj09PXI/InRvcCI6ImxlZnQiLGg9InVwIj09PXJ8fCJsZWZ0Ij09PXIsYz10LmRpc3RhbmNlfHxuWyJ0b3AiPT1sPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSghMCksdT17fTtWLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIobiksaT1uLmNzc0NsaXAoKSxzPW4ucG9zaXRpb24oKVtsXSx1W2xdPShoPy0xOjEpKmMrcyx1LmNsaXA9bi5jc3NDbGlwKCksdS5jbGlwW29bcl1bMV1dPXUuY2xpcFtvW3JdWzBdXSwic2hvdyI9PT1hJiYobi5jc3NDbGlwKHUuY2xpcCksbi5jc3MobCx1W2xdKSx1LmNsaXA9aSx1W2xdPXMpLG4uYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTplfSl9KSx5PSExIT09Vi51aUJhY2tDb21wYXQ/Vi5lZmZlY3RzLmRlZmluZSgidHJhbnNmZXIiLGZ1bmN0aW9uKHQsZSl7Vih0aGlzKS50cmFuc2Zlcih0LGUpfSk6eTtWLnVpLmZvY3VzYWJsZT1mdW5jdGlvbih0LGUpe3ZhciBpLHMsbixvLGE9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJhcmVhIj09PWE/KHM9KGk9dC5wYXJlbnROb2RlKS5uYW1lLCEoIXQuaHJlZnx8IXN8fCJtYXAiIT09aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmKDA8KHM9VigiaW1nW3VzZW1hcD0nIyIrcysiJ10iKSkubGVuZ3RoJiZzLmlzKCI6dmlzaWJsZSIpKSk6KC9eKGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvLnRlc3QoYSk/KG49IXQuZGlzYWJsZWQpJiYobz1WKHQpLmNsb3Nlc3QoImZpZWxkc2V0IilbMF0pJiYobj0hby5kaXNhYmxlZCk6bj0iYSI9PT1hJiZ0LmhyZWZ8fGUsbiYmVih0KS5pcygiOnZpc2libGUiKSYmZnVuY3Rpb24odCl7dmFyIGU9dC5jc3MoInZpc2liaWxpdHkiKTtmb3IoOyJpbmhlcml0Ij09PWU7KXQ9dC5wYXJlbnQoKSxlPXQuY3NzKCJ2aXNpYmlsaXR5Iik7cmV0dXJuInZpc2libGUiPT09ZX0oVih0KSkpfSxWLmV4dGVuZChWLmV4cHIucHNldWRvcyx7Zm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3JldHVybiBWLnVpLmZvY3VzYWJsZSh0LG51bGwhPVYuYXR0cih0LCJ0YWJpbmRleCIpKX19KTt2YXIgUSxKO1YudWkuZm9jdXNhYmxlLFYuZm4uX2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHRoaXNbMF0uZm9ybT90aGlzLmNsb3Nlc3QoImZvcm0iKTpWKHRoaXNbMF0uZm9ybSl9LFYudWkuZm9ybVJlc2V0TWl4aW49e19mb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIGU9Vih0aGlzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9ZS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpO1YuZWFjaCh0LGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9KX0pfSxfYmluZEZvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmZvcm09dGhpcy5lbGVtZW50Ll9mb3JtKCksdGhpcy5mb3JtLmxlbmd0aCYmKCh0PXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpfHxbXSkubGVuZ3RofHx0aGlzLmZvcm0ub24oInJlc2V0LnVpLWZvcm0tcmVzZXQiLHRoaXMuX2Zvcm1SZXNldEhhbmRsZXIpLHQucHVzaCh0aGlzKSx0aGlzLmZvcm0uZGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiLHQpKX0sX3VuYmluZEZvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmZvcm0ubGVuZ3RoJiYoKHQ9dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIikpLnNwbGljZShWLmluQXJyYXkodGhpcyx0KSwxKSx0Lmxlbmd0aD90aGlzLmZvcm0uZGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiLHQpOnRoaXMuZm9ybS5yZW1vdmVEYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpLm9mZigicmVzZXQudWktZm9ybS1yZXNldCIpKX19O1YuZXhwci5wc2V1ZG9zfHwoVi5leHByLnBzZXVkb3M9Vi5leHByWyI6Il0pLFYudW5pcXVlU29ydHx8KFYudW5pcXVlU29ydD1WLnVuaXF1ZSksVi5lc2NhcGVTZWxlY3Rvcnx8KFE9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15ceDgwLVx1RkZGRlx3LV0vZyxKPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/IlwwIj09PXQ/Iu+/vSI6dC5zbGljZSgwLC0xKSsiXFwiK3QuY2hhckNvZGVBdCh0Lmxlbmd0aC0xKS50b1N0cmluZygxNikrIiAiOiJcXCIrdH0sVi5lc2NhcGVTZWxlY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4odCsiIikucmVwbGFjZShRLEopfSksVi5mbi5ldmVuJiZWLmZuLm9kZHx8Vi5mbi5leHRlbmQoe2V2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQlMj09MH0pfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQlMj09MX0pfX0pO3ZhciBaO1YudWkua2V5Q29kZT17QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9LFYuZm4ubGFiZWxzPWZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiB0aGlzLmxlbmd0aD90aGlzWzBdLmxhYmVscyYmdGhpc1swXS5sYWJlbHMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKHRoaXNbMF0ubGFiZWxzKTooZT10aGlzLmVxKDApLnBhcmVudHMoImxhYmVsIiksKHQ9dGhpcy5hdHRyKCJpZCIpKSYmKGk9KGk9dGhpcy5lcSgwKS5wYXJlbnRzKCkubGFzdCgpKS5hZGQoKGkubGVuZ3RoP2k6dGhpcykuc2libGluZ3MoKSksdD0ibGFiZWxbZm9yPSciK1YuZXNjYXBlU2VsZWN0b3IodCkrIiddIixlPWUuYWRkKGkuZmluZCh0KS5hZGRCYWNrKHQpKSksdGhpcy5wdXNoU3RhY2soZSkpOnRoaXMucHVzaFN0YWNrKFtdKX0sVi5mbi5zY3JvbGxQYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jc3MoInBvc2l0aW9uIiksaT0iYWJzb2x1dGUiPT09ZSxzPXQ/LyhhdXRvfHNjcm9sbHxoaWRkZW4pLzovKGF1dG98c2Nyb2xsKS8sdD10aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO3JldHVybighaXx8InN0YXRpYyIhPT10LmNzcygicG9zaXRpb24iKSkmJnMudGVzdCh0LmNzcygib3ZlcmZsb3ciKSt0LmNzcygib3ZlcmZsb3cteSIpK3QuY3NzKCJvdmVyZmxvdy14IikpfSkuZXEoMCk7cmV0dXJuImZpeGVkIiE9PWUmJnQubGVuZ3RoP3Q6Vih0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50KX0sVi5leHRlbmQoVi5leHByLnBzZXVkb3Mse3RhYmJhYmxlOmZ1bmN0aW9uKHQpe3ZhciBlPVYuYXR0cih0LCJ0YWJpbmRleCIpLGk9bnVsbCE9ZTtyZXR1cm4oIWl8fDA8PWUpJiZWLnVpLmZvY3VzYWJsZSh0LGkpfX0pLFYuZm4uZXh0ZW5kKHt1bmlxdWVJZDooWj0wLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaWR8fCh0aGlzLmlkPSJ1aS1pZC0iKyArK1opfSl9KSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJlYodGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pLFYud2lkZ2V0KCJ1aS5hY2NvcmRpb24iLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY2xhc3Nlczp7InVpLWFjY29yZGlvbi1oZWFkZXIiOiJ1aS1jb3JuZXItdG9wIiwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiOiJ1aS1jb3JuZXItYWxsIiwidWktYWNjb3JkaW9uLWNvbnRlbnQiOiJ1aS1jb3JuZXItYm90dG9tIn0sY29sbGFwc2libGU6ITEsZXZlbnQ6ImNsaWNrIixoZWFkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmluZCgiPiBsaSA+IDpmaXJzdC1jaGlsZCIpLmFkZCh0LmZpbmQoIj4gOm5vdChsaSkiKS5ldmVuKCkpfSxoZWlnaHRTdHlsZToiYXV0byIsaWNvbnM6e2FjdGl2ZUhlYWRlcjoidWktaWNvbi10cmlhbmdsZS0xLXMiLGhlYWRlcjoidWktaWNvbi10cmlhbmdsZS0xLWUifSxhY3RpdmF0ZTpudWxsLGJlZm9yZUFjdGl2YXRlOm51bGx9LGhpZGVQcm9wczp7Ym9yZGVyVG9wV2lkdGg6ImhpZGUiLGJvcmRlckJvdHRvbVdpZHRoOiJoaWRlIixwYWRkaW5nVG9wOiJoaWRlIixwYWRkaW5nQm90dG9tOiJoaWRlIixoZWlnaHQ6ImhpZGUifSxzaG93UHJvcHM6e2JvcmRlclRvcFdpZHRoOiJzaG93Iixib3JkZXJCb3R0b21XaWR0aDoic2hvdyIscGFkZGluZ1RvcDoic2hvdyIscGFkZGluZ0JvdHRvbToic2hvdyIsaGVpZ2h0OiJzaG93In0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0aGlzLnByZXZTaG93PXRoaXMucHJldkhpZGU9VigpLHRoaXMuX2FkZENsYXNzKCJ1aS1hY2NvcmRpb24iLCJ1aS13aWRnZXQgdWktaGVscGVyLXJlc2V0IiksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0YWJsaXN0IiksdC5jb2xsYXBzaWJsZXx8ITEhPT10LmFjdGl2ZSYmbnVsbCE9dC5hY3RpdmV8fCh0LmFjdGl2ZT0wKSx0aGlzLl9wcm9jZXNzUGFuZWxzKCksdC5hY3RpdmU8MCYmKHQuYWN0aXZlKz10aGlzLmhlYWRlcnMubGVuZ3RoKSx0aGlzLl9yZWZyZXNoKCl9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57aGVhZGVyOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5uZXh0KCk6VigpfX0sX2NyZWF0ZUljb25zOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbnMuaWNvbnM7ZSYmKHQ9VigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3ModCwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiwidWktaWNvbiAiK2UuaGVhZGVyKSx0LnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLHQ9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyh0LGUuaGVhZGVyKS5fYWRkQ2xhc3ModCxudWxsLGUuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpLHRoaXMuaGVhZGVycy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIiksdGhpcy5oZWFkZXJzLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpLHRoaXMuX2Rlc3Ryb3lJY29ucygpLHQ9dGhpcy5oZWFkZXJzLm5leHQoKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0LmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiYWN0aXZlIiE9PXQ/KCJldmVudCI9PT10JiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHMoZSkpLHRoaXMuX3N1cGVyKHQsZSksImNvbGxhcHNpYmxlIiE9PXR8fGV8fCExIT09dGhpcy5vcHRpb25zLmFjdGl2ZXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PXQmJih0aGlzLl9kZXN0cm95SWNvbnMoKSxlJiZ0aGlzLl9jcmVhdGVJY29ucygpKSk6dGhpcy5fYWN0aXZhdGUoZSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl9zdXBlcih0KSx0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1kaXNhYmxlZCIsdCksdGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhdCksdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KX0sX2tleWRvd246ZnVuY3Rpb24odCl7aWYoIXQuYWx0S2V5JiYhdC5jdHJsS2V5KXt2YXIgZT1WLnVpLmtleUNvZGUsaT10aGlzLmhlYWRlcnMubGVuZ3RoLHM9dGhpcy5oZWFkZXJzLmluZGV4KHQudGFyZ2V0KSxuPSExO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5SSUdIVDpjYXNlIGUuRE9XTjpuPXRoaXMuaGVhZGVyc1socysxKSVpXTticmVhaztjYXNlIGUuTEVGVDpjYXNlIGUuVVA6bj10aGlzLmhlYWRlcnNbKHMtMStpKSVpXTticmVhaztjYXNlIGUuU1BBQ0U6Y2FzZSBlLkVOVEVSOnRoaXMuX2V2ZW50SGFuZGxlcih0KTticmVhaztjYXNlIGUuSE9NRTpuPXRoaXMuaGVhZGVyc1swXTticmVhaztjYXNlIGUuRU5EOm49dGhpcy5oZWFkZXJzW2ktMV19biYmKFYodC50YXJnZXQpLmF0dHIoInRhYkluZGV4IiwtMSksVihuKS5hdHRyKCJ0YWJJbmRleCIsMCksVihuKS50cmlnZ2VyKCJmb2N1cyIpLHQucHJldmVudERlZmF1bHQoKSl9fSxfcGFuZWxLZXlEb3duOmZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PVYudWkua2V5Q29kZS5VUCYmdC5jdHJsS2V5JiZWKHQuY3VycmVudFRhcmdldCkucHJldigpLnRyaWdnZXIoImZvY3VzIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5fcHJvY2Vzc1BhbmVscygpLCExPT09dC5hY3RpdmUmJiEwPT09dC5jb2xsYXBzaWJsZXx8IXRoaXMuaGVhZGVycy5sZW5ndGg/KHQuYWN0aXZlPSExLHRoaXMuYWN0aXZlPVYoKSk6ITE9PT10LmFjdGl2ZT90aGlzLl9hY3RpdmF0ZSgwKTp0aGlzLmFjdGl2ZS5sZW5ndGgmJiFWLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy5oZWFkZXJzLmxlbmd0aD09PXRoaXMuaGVhZGVycy5maW5kKCIudWktc3RhdGUtZGlzYWJsZWQiKS5sZW5ndGg/KHQuYWN0aXZlPSExLHRoaXMuYWN0aXZlPVYoKSk6dGhpcy5fYWN0aXZhdGUoTWF0aC5tYXgoMCx0LmFjdGl2ZS0xKSk6dC5hY3RpdmU9dGhpcy5oZWFkZXJzLmluZGV4KHRoaXMuYWN0aXZlKSx0aGlzLl9kZXN0cm95SWNvbnMoKSx0aGlzLl9yZWZyZXNoKCl9LF9wcm9jZXNzUGFuZWxzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oZWFkZXJzLGU9dGhpcy5wYW5lbHM7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5oZWFkZXI/dGhpcy5oZWFkZXJzPXRoaXMub3B0aW9ucy5oZWFkZXIodGhpcy5lbGVtZW50KTp0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhlYWRlciksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taGVhZGVyIHVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiwidWktc3RhdGUtZGVmYXVsdCIpLHRoaXMucGFuZWxzPXRoaXMuaGVhZGVycy5uZXh0KCkuZmlsdGVyKCI6bm90KC51aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUpIikuaGlkZSgpLHRoaXMuX2FkZENsYXNzKHRoaXMucGFuZWxzLCJ1aS1hY2NvcmRpb24tY29udGVudCIsInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCIpLGUmJih0aGlzLl9vZmYodC5ub3QodGhpcy5oZWFkZXJzKSksdGhpcy5fb2ZmKGUubm90KHRoaXMucGFuZWxzKSkpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciBpLHQ9dGhpcy5vcHRpb25zLGU9dC5oZWlnaHRTdHlsZSxzPXRoaXMuZWxlbWVudC5wYXJlbnQoKTt0aGlzLmFjdGl2ZT10aGlzLl9maW5kQWN0aXZlKHQuYWN0aXZlKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKS5fcmVtb3ZlQ2xhc3ModGhpcy5hY3RpdmUsInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5hY3RpdmUubmV4dCgpLCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKSx0aGlzLmFjdGl2ZS5uZXh0KCkuc2hvdygpLHRoaXMuaGVhZGVycy5hdHRyKCJyb2xlIiwidGFiIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyksZT10LnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxpPXQubmV4dCgpLHM9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixzKSxpLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsZSl9KS5uZXh0KCkuYXR0cigicm9sZSIsInRhYnBhbmVsIiksdGhpcy5oZWFkZXJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsdGFiSW5kZXg6LTF9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KS5oaWRlKCksdGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSkubmV4dCgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pOnRoaXMuaGVhZGVycy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCksdGhpcy5fY3JlYXRlSWNvbnMoKSx0aGlzLl9zZXR1cEV2ZW50cyh0LmV2ZW50KSwiZmlsbCI9PT1lPyhpPXMuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKCI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLGU9dC5jc3MoInBvc2l0aW9uIik7ImFic29sdXRlIiE9PWUmJiJmaXhlZCIhPT1lJiYoaS09dC5vdXRlckhlaWdodCghMCkpfSksdGhpcy5oZWFkZXJzLmVhY2goZnVuY3Rpb24oKXtpLT1WKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe1YodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1WKHRoaXMpLmlubmVySGVpZ2h0KCkrVih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09ZSYmKGk9MCx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLmlzKCI6dmlzaWJsZSIpO3R8fFYodGhpcykuc2hvdygpLGk9TWF0aC5tYXgoaSxWKHRoaXMpLmNzcygiaGVpZ2h0IiwiIikuaGVpZ2h0KCkpLHR8fFYodGhpcykuaGlkZSgpfSkuaGVpZ2h0KGkpKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTt0IT09dGhpcy5hY3RpdmVbMF0mJih0PXR8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OnQsY3VycmVudFRhcmdldDp0LHByZXZlbnREZWZhdWx0OlYubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTpWKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZWLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsZSl7aVtlXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSksdGhpcy5fb24odGhpcy5oZWFkZXJzLGkpLHRoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSksdGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyksdGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9dGhpcy5hY3RpdmUscz1WKHQuY3VycmVudFRhcmdldCksbj1zWzBdPT09aVswXSxvPW4mJmUuY29sbGFwc2libGUsYT1vP1YoKTpzLm5leHQoKSxyPWkubmV4dCgpLGE9e29sZEhlYWRlcjppLG9sZFBhbmVsOnIsbmV3SGVhZGVyOm8/VigpOnMsbmV3UGFuZWw6YX07dC5wcmV2ZW50RGVmYXVsdCgpLG4mJiFlLmNvbGxhcHNpYmxlfHwhMT09PXRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIix0LGEpfHwoZS5hY3RpdmU9IW8mJnRoaXMuaGVhZGVycy5pbmRleChzKSx0aGlzLmFjdGl2ZT1uP1YoKTpzLHRoaXMuX3RvZ2dsZShhKSx0aGlzLl9yZW1vdmVDbGFzcyhpLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGUuaWNvbnMmJihpPWkuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsZS5pY29ucy5hY3RpdmVIZWFkZXIpLl9hZGRDbGFzcyhpLG51bGwsZS5pY29ucy5oZWFkZXIpKSxufHwodGhpcy5fcmVtb3ZlQ2xhc3MocywidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKS5fYWRkQ2xhc3MocywidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKSxlLmljb25zJiYobj1zLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MobixudWxsLGUuaWNvbnMuaGVhZGVyKS5fYWRkQ2xhc3MobixudWxsLGUuaWNvbnMuYWN0aXZlSGVhZGVyKSksdGhpcy5fYWRkQ2xhc3Mocy5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpKSl9LF90b2dnbGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5uZXdQYW5lbCxpPXRoaXMucHJldlNob3cubGVuZ3RoP3RoaXMucHJldlNob3c6dC5vbGRQYW5lbDt0aGlzLnByZXZTaG93LmFkZCh0aGlzLnByZXZIaWRlKS5zdG9wKCEwLCEwKSx0aGlzLnByZXZTaG93PWUsdGhpcy5wcmV2SGlkZT1pLHRoaXMub3B0aW9ucy5hbmltYXRlP3RoaXMuX2FuaW1hdGUoZSxpLHQpOihpLmhpZGUoKSxlLnNob3coKSx0aGlzLl90b2dnbGVDb21wbGV0ZSh0KSksaS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLGkucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSksZS5sZW5ndGgmJmkubGVuZ3RoP2kucHJldigpLmF0dHIoe3RhYkluZGV4Oi0xLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSk6ZS5sZW5ndGgmJnRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PXBhcnNlSW50KFYodGhpcykuYXR0cigidGFiSW5kZXgiKSwxMCl9KS5hdHRyKCJ0YWJJbmRleCIsLTEpLGUuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpLnByZXYoKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYW5pbWF0ZTpmdW5jdGlvbih0LGksZSl7dmFyIHMsbixvLGE9dGhpcyxyPTAsbD10LmNzcygiYm94LXNpemluZyIpLGg9dC5sZW5ndGgmJighaS5sZW5ndGh8fHQuaW5kZXgoKTxpLmluZGV4KCkpLGM9dGhpcy5vcHRpb25zLmFuaW1hdGV8fHt9LHU9aCYmYy5kb3dufHxjLGg9ZnVuY3Rpb24oKXthLl90b2dnbGVDb21wbGV0ZShlKX07cmV0dXJuIG49KG49InN0cmluZyI9PXR5cGVvZiB1P3U6bil8fHUuZWFzaW5nfHxjLmVhc2luZyxvPShvPSJudW1iZXIiPT10eXBlb2YgdT91Om8pfHx1LmR1cmF0aW9ufHxjLmR1cmF0aW9uLGkubGVuZ3RoP3QubGVuZ3RoPyhzPXQuc2hvdygpLm91dGVySGVpZ2h0KCksaS5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjpvLGVhc2luZzpuLHN0ZXA6ZnVuY3Rpb24odCxlKXtlLm5vdz1NYXRoLnJvdW5kKHQpfX0pLHZvaWQgdC5oaWRlKCkuYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx7ZHVyYXRpb246byxlYXNpbmc6bixjb21wbGV0ZTpoLHN0ZXA6ZnVuY3Rpb24odCxlKXtlLm5vdz1NYXRoLnJvdW5kKHQpLCJoZWlnaHQiIT09ZS5wcm9wPyJjb250ZW50LWJveCI9PT1sJiYocis9ZS5ub3cpOiJjb250ZW50IiE9PWEub3B0aW9ucy5oZWlnaHRTdHlsZSYmKGUubm93PU1hdGgucm91bmQocy1pLm91dGVySGVpZ2h0KCktcikscj0wKX19KSk6aS5hbmltYXRlKHRoaXMuaGlkZVByb3BzLG8sbixoKTp0LmFuaW1hdGUodGhpcy5zaG93UHJvcHMsbyxuLGgpfSxfdG9nZ2xlQ29tcGxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5vbGRQYW5lbCxpPWUucHJldigpO3RoaXMuX3JlbW92ZUNsYXNzKGUsInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpLHRoaXMuX3JlbW92ZUNsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIikuX2FkZENsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiksZS5sZW5ndGgmJihlLnBhcmVudCgpWzBdLmNsYXNzTmFtZT1lLnBhcmVudCgpWzBdLmNsYXNzTmFtZSksdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLG51bGwsdCl9fSksVi51aS5zYWZlQWN0aXZlRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgaTt0cnl7aT1lLmFjdGl2ZUVsZW1lbnR9Y2F0Y2godCl7aT1lLmJvZHl9cmV0dXJuIGk9IShpPWl8fGUuYm9keSkubm9kZU5hbWU/ZS5ib2R5Oml9LFYud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMy4yIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudCx0aGlzLm1vdXNlSGFuZGxlZD0hMSx0aGlzLmxhc3RNb3VzZVBvc2l0aW9uPXt4Om51bGwseTpudWxsfSx0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KSx0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHRoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmF0ZUl0ZW0odCl9LCJjbGljayAudWktbWVudS1pdGVtIjpmdW5jdGlvbih0KXt2YXIgZT1WKHQudGFyZ2V0KSxpPVYoVi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7IXRoaXMubW91c2VIYW5kbGVkJiZlLm5vdCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoJiYodGhpcy5zZWxlY3QodCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpfHwodGhpcy5tb3VzZUhhbmRsZWQ9ITApLGUuaGFzKCIudWktbWVudSIpLmxlbmd0aD90aGlzLmV4cGFuZCh0KTohdGhpcy5lbGVtZW50LmlzKCI6Zm9jdXMiKSYmaS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aCYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIsWyEwXSksdGhpcy5hY3RpdmUmJjE9PT10aGlzLmFjdGl2ZS5wYXJlbnRzKCIudWktbWVudSIpLmxlbmd0aCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSl9LCJtb3VzZWVudGVyIC51aS1tZW51LWl0ZW0iOiJfYWN0aXZhdGVJdGVtIiwibW91c2Vtb3ZlIC51aS1tZW51LWl0ZW0iOiJfYWN0aXZhdGVJdGVtIixtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5fbWVudUl0ZW1zKCkuZmlyc3QoKTtlfHx0aGlzLmZvY3VzKHQsaSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtWLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSxWLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKXx8dGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayh0KSYmdGhpcy5jb2xsYXBzZUFsbCh0LCEwKSx0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2FjdGl2YXRlSXRlbTpmdW5jdGlvbih0KXt2YXIgZSxpO3RoaXMucHJldmlvdXNGaWx0ZXJ8fHQuY2xpZW50WD09PXRoaXMubGFzdE1vdXNlUG9zaXRpb24ueCYmdC5jbGllbnRZPT09dGhpcy5sYXN0TW91c2VQb3NpdGlvbi55fHwodGhpcy5sYXN0TW91c2VQb3NpdGlvbj17eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LGU9Vih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLGk9Vih0LmN1cnJlbnRUYXJnZXQpLGVbMF09PT1pWzBdJiYoaS5pcygiLnVpLXN0YXRlLWFjdGl2ZSIpfHwodGhpcy5fcmVtb3ZlQ2xhc3MoaS5zaWJsaW5ncygpLmNoaWxkcmVuKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5mb2N1cyh0LGkpKSkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudS1pdGVtIikucmVtb3ZlQXR0cigicm9sZSBhcmlhLWRpc2FibGVkIikuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQXR0cigidGFiSW5kZXggcm9sZSBhcmlhLWhhc3BvcHVwIik7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpLmZpbmQoIi51aS1tZW51IikuYWRkQmFjaygpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1sYWJlbGxlZGJ5IGFyaWEtZXhwYW5kZWQgYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpLHQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKTt0LmRhdGEoInVpLW1lbnUtc3VibWVudS1jYXJldCIpJiZ0LnJlbW92ZSgpfSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgVi51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5wcmV2aW91c1BhZ2UodCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMubmV4dFBhZ2UodCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuSE9NRTp0aGlzLl9tb3ZlKCJmaXJzdCIsImZpcnN0Iix0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6dGhpcy5fbW92ZSgibGFzdCIsImxhc3QiLHQpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXModCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuRE9XTjp0aGlzLm5leHQodCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuTEVGVDp0aGlzLmNvbGxhcHNlKHQpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZ0aGlzLmV4cGFuZCh0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTlRFUjpjYXNlIFYudWkua2V5Q29kZS5TUEFDRTp0aGlzLl9hY3RpdmF0ZSh0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jb2xsYXBzZSh0KTticmVhaztkZWZhdWx0OmU9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiIscz1uPSExLGk9OTY8PXQua2V5Q29kZSYmdC5rZXlDb2RlPD0xMDU/KHQua2V5Q29kZS05NikudG9TdHJpbmcoKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSksY2xlYXJUaW1lb3V0KHRoaXMuZmlsdGVyVGltZXIpLGk9PT1lP3M9ITA6aT1lK2ksZT10aGlzLl9maWx0ZXJNZW51SXRlbXMoaSksKGU9cyYmLTEhPT1lLmluZGV4KHRoaXMuYWN0aXZlLm5leHQoKSk/dGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpOmUpLmxlbmd0aHx8KGk9U3RyaW5nLmZyb21DaGFyQ29kZSh0LmtleUNvZGUpLGU9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKGkpKSxlLmxlbmd0aD8odGhpcy5mb2N1cyh0LGUpLHRoaXMucHJldmlvdXNGaWx0ZXI9aSx0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfW4mJnQucHJldmVudERlZmF1bHQoKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiYodGhpcy5hY3RpdmUuY2hpbGRyZW4oIlthcmlhLWhhc3BvcHVwPSd0cnVlJ10iKS5sZW5ndGg/dGhpcy5leHBhbmQodCk6dGhpcy5zZWxlY3QodCkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsZSxzPXRoaXMsbj10aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxpPXRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5tZW51cyk7dGhpcy5fdG9nZ2xlQ2xhc3MoInVpLW1lbnUtaWNvbnMiLG51bGwsISF0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWljb24iKS5sZW5ndGgpLGU9aS5maWx0ZXIoIjpub3QoLnVpLW1lbnUpIikuaGlkZSgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXQucHJldigpLGk9VigiPHNwYW4+IikuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IiwhMCk7cy5fYWRkQ2xhc3MoaSwidWktbWVudS1pY29uIiwidWktaWNvbiAiK24pLGUuYXR0cigiYXJpYS1oYXNwb3B1cCIsInRydWUiKS5wcmVwZW5kKGkpLHQuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixlLmF0dHIoImlkIikpfSksdGhpcy5fYWRkQ2xhc3MoZSwidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpLCh0PWkuYWRkKHRoaXMuZWxlbWVudCkuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpKS5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKTtzLl9pc0RpdmlkZXIodCkmJnMuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KSxpPShlPXQubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIikpLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSksdGhpcy5fYWRkQ2xhc3MoZSwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGksInVpLW1lbnUtaXRlbS13cmFwcGVyIiksdC5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmUmJiFWLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpOyJpY29ucyI9PT10JiYoaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCxlLnN1Ym1lbnUpKSx0aGlzLl9zdXBlcih0LGUpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLFN0cmluZyh0KSksdGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhdCl9LGZvY3VzOmZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5ibHVyKHQsdCYmImZvY3VzIj09PXQudHlwZSksdGhpcy5fc2Nyb2xsSW50b1ZpZXcoZSksdGhpcy5hY3RpdmU9ZS5maXJzdCgpLGk9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLHRoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5vcHRpb25zLnJvbGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGkuYXR0cigiaWQiKSksaT10aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIikuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLHRoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdCYmImtleWRvd24iPT09dC50eXBlP3RoaXMuX2Nsb3NlKCk6dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCl9LHRoaXMuZGVsYXkpLChpPWUuY2hpbGRyZW4oIi51aS1tZW51IikpLmxlbmd0aCYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpJiZ0aGlzLl9zdGFydE9wZW5pbmcoaSksdGhpcy5hY3RpdmVNZW51PWUucGFyZW50KCksdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06ZX0pfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO3RoaXMuX2hhc1Njcm9sbCgpJiYoaT1wYXJzZUZsb2F0KFYuY3NzKHRoaXMuYWN0aXZlTWVudVswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAscz1wYXJzZUZsb2F0KFYuY3NzKHRoaXMuYWN0aXZlTWVudVswXSwicGFkZGluZ1RvcCIpKXx8MCxlPXQub2Zmc2V0KCkudG9wLXRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3AtaS1zLGk9dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpLHM9dGhpcy5hY3RpdmVNZW51LmhlaWdodCgpLHQ9dC5vdXRlckhlaWdodCgpLGU8MD90aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKGkrZSk6czxlK3QmJnRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoaStlLXMrdCkpfSxibHVyOmZ1bmN0aW9uKHQsZSl7ZXx8Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuYWN0aXZlJiYodGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX3RyaWdnZXIoImJsdXIiLHQse2l0ZW06dGhpcy5hY3RpdmV9KSx0aGlzLmFjdGl2ZT1udWxsKX0sX3N0YXJ0T3BlbmluZzpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy50aW1lciksInRydWUiPT09dC5hdHRyKCJhcmlhLWhpZGRlbiIpJiYodGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCksdGhpcy5fb3Blbih0KX0sdGhpcy5kZWxheSkpfSxfb3BlbjpmdW5jdGlvbih0KXt2YXIgZT1WLmV4dGVuZCh7b2Y6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKSx0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oZSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKGUsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgdD1pP3RoaXMuZWxlbWVudDpWKGUmJmUudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTt0Lmxlbmd0aHx8KHQ9dGhpcy5lbGVtZW50KSx0aGlzLl9jbG9zZSh0KSx0aGlzLmJsdXIoZSksdGhpcy5fcmVtb3ZlQ2xhc3ModC5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5hY3RpdmVNZW51PXR9LGk/MDp0aGlzLmRlbGF5KX0sX2Nsb3NlOmZ1bmN0aW9uKHQpeyh0PXR8fCh0aGlzLmFjdGl2ZT90aGlzLmFjdGl2ZS5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpKS5maW5kKCIudWktbWVudSIpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKX0sX2Nsb3NlT25Eb2N1bWVudENsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiFWKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aH0sX2lzRGl2aWRlcjpmdW5jdGlvbih0KXtyZXR1cm4hL1teXC1cdTIwMTRcdTIwMTNcc10vLnRlc3QodC50ZXh0KCkpfSxjb2xsYXBzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIsdGhpcy5lbGVtZW50KTtlJiZlLmxlbmd0aCYmKHRoaXMuX2Nsb3NlKCksdGhpcy5mb2N1cyh0LGUpKX0sZXhwYW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlJiZ0aGlzLl9tZW51SXRlbXModGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51IikpLmZpcnN0KCk7ZSYmZS5sZW5ndGgmJih0aGlzLl9vcGVuKGUucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyh0LGUpfSkpfSxuZXh0OmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoIm5leHQiLCJmaXJzdCIsdCl9LHByZXZpb3VzOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoInByZXYiLCJsYXN0Iix0KX0saXNGaXJzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aH0sX21lbnVJdGVtczpmdW5jdGlvbih0KXtyZXR1cm4odHx8dGhpcy5lbGVtZW50KS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlsdGVyKCIudWktbWVudS1pdGVtIil9LF9tb3ZlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgczsocz10aGlzLmFjdGl2ZT8iZmlyc3QiPT09dHx8Imxhc3QiPT09dD90aGlzLmFjdGl2ZVsiZmlyc3QiPT09dD8icHJldkFsbCI6Im5leHRBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmxhc3QoKTp0aGlzLmFjdGl2ZVt0KyJBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmZpcnN0KCk6cykmJnMubGVuZ3RoJiZ0aGlzLmFjdGl2ZXx8KHM9dGhpcy5fbWVudUl0ZW1zKHRoaXMuYWN0aXZlTWVudSlbZV0oKSksdGhpcy5mb2N1cyhpLHMpfSxuZXh0UGFnZTpmdW5jdGlvbih0KXt2YXIgZSxpLHM7dGhpcy5hY3RpdmU/dGhpcy5pc0xhc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8oaT10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Ascz10aGlzLmVsZW1lbnQuaW5uZXJIZWlnaHQoKSwwPT09Vi5mbi5qcXVlcnkuaW5kZXhPZigiMy4yLiIpJiYocys9dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodC10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSksdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4oZT1WKHRoaXMpKS5vZmZzZXQoKS50b3AtaS1zPDB9KSx0aGlzLmZvY3VzKHQsZSkpOnRoaXMuZm9jdXModCx0aGlzLl9tZW51SXRlbXModGhpcy5hY3RpdmVNZW51KVt0aGlzLmFjdGl2ZT8ibGFzdCI6ImZpcnN0Il0oKSkpOnRoaXMubmV4dCh0KX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBlLGksczt0aGlzLmFjdGl2ZT90aGlzLmlzRmlyc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8oaT10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Ascz10aGlzLmVsZW1lbnQuaW5uZXJIZWlnaHQoKSwwPT09Vi5mbi5qcXVlcnkuaW5kZXhPZigiMy4yLiIpJiYocys9dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodC10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSksdGhpcy5hY3RpdmUucHJldkFsbCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gMDwoZT1WKHRoaXMpKS5vZmZzZXQoKS50b3AtaStzfSksdGhpcy5mb2N1cyh0LGUpKTp0aGlzLmZvY3VzKHQsdGhpcy5fbWVudUl0ZW1zKHRoaXMuYWN0aXZlTWVudSkuZmlyc3QoKSkpOnRoaXMubmV4dCh0KX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8Vih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpO3ZhciBlPXtpdGVtOnRoaXMuYWN0aXZlfTt0aGlzLmFjdGl2ZS5oYXMoIi51aS1tZW51IikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKHQsITApLHRoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCxlKX0sX2ZpbHRlck1lbnVJdGVtczpmdW5jdGlvbih0KXt2YXIgdD10LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKSxlPW5ldyBSZWdFeHAoIl4iK3QsImkiKTtyZXR1cm4gdGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maWx0ZXIoIi51aS1tZW51LWl0ZW0iKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gZS50ZXN0KFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKFYodGhpcykuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnRleHQoKSkpfSl9fSk7Vi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLGxpdmVSZWdpb25UaW1lcjpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaSxzLG4sdD10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxlPSJ0ZXh0YXJlYSI9PT10LHQ9ImlucHV0Ij09PXQ7dGhpcy5pc011bHRpTGluZT1lfHwhdCYmdGhpcy5faXNDb250ZW50RWRpdGFibGUodGhpcy5lbGVtZW50KSx0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFtlfHx0PyJ2YWwiOiJ0ZXh0Il0sdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpLHRoaXMuZWxlbWVudC5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5lbGVtZW50LnByb3AoInJlYWRPbmx5Iikpcz1uPWk9ITA7ZWxzZXtzPW49aT0hMTt2YXIgZT1WLnVpLmtleUNvZGU7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBlLlBBR0VfVVA6aT0hMCx0aGlzLl9tb3ZlKCJwcmV2aW91c1BhZ2UiLHQpO2JyZWFrO2Nhc2UgZS5QQUdFX0RPV046aT0hMCx0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdCk7YnJlYWs7Y2FzZSBlLlVQOmk9ITAsdGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIix0KTticmVhaztjYXNlIGUuRE9XTjppPSEwLHRoaXMuX2tleUV2ZW50KCJuZXh0Iix0KTticmVhaztjYXNlIGUuRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKGk9ITAsdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QodCkpO2JyZWFrO2Nhc2UgZS5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdCh0KTticmVhaztjYXNlIGUuRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKHQpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDpzPSEwLHRoaXMuX3NlYXJjaFRpbWVvdXQodCl9fX0sa2V5cHJlc3M6ZnVuY3Rpb24odCl7aWYoaSlyZXR1cm4gaT0hMSx2b2lkKHRoaXMuaXNNdWx0aUxpbmUmJiF0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKXx8dC5wcmV2ZW50RGVmYXVsdCgpKTtpZighcyl7dmFyIGU9Vi51aS5rZXlDb2RlO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5QQUdFX1VQOnRoaXMuX21vdmUoInByZXZpb3VzUGFnZSIsdCk7YnJlYWs7Y2FzZSBlLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdCk7YnJlYWs7Y2FzZSBlLlVQOnRoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIsdCk7YnJlYWs7Y2FzZSBlLkRPV046dGhpcy5fa2V5RXZlbnQoIm5leHQiLHQpfX19LGlucHV0OmZ1bmN0aW9uKHQpe2lmKG4pcmV0dXJuIG49ITEsdm9pZCB0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5fc2VhcmNoVGltZW91dCh0KX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuY2xvc2UodCksdGhpcy5fY2hhbmdlKHQpfX0pLHRoaXMuX2luaXRTb3VyY2UoKSx0aGlzLm1lbnU9VigiPHVsPiIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLm1lbnUoe3JvbGU6bnVsbH0pLmhpZGUoKS5hdHRyKHt1bnNlbGVjdGFibGU6Im9uIn0pLm1lbnUoImluc3RhbmNlIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5tZW51LmVsZW1lbnQsInVpLWF1dG9jb21wbGV0ZSIsInVpLWZyb250IiksdGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LG1lbnVmb2N1czpmdW5jdGlvbih0LGUpe3ZhciBpLHM7aWYodGhpcy5pc05ld01lbnUmJih0aGlzLmlzTmV3TWVudT0hMSx0Lm9yaWdpbmFsRXZlbnQmJi9ebW91c2UvLnRlc3QodC5vcmlnaW5hbEV2ZW50LnR5cGUpKSlyZXR1cm4gdGhpcy5tZW51LmJsdXIoKSx2b2lkIHRoaXMuZG9jdW1lbnQub25lKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Vih0LnRhcmdldCkudHJpZ2dlcih0Lm9yaWdpbmFsRXZlbnQpfSk7cz1lLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSwhMSE9PXRoaXMuX3RyaWdnZXIoImZvY3VzIix0LHtpdGVtOnN9KSYmdC5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKHMudmFsdWUpLChpPWUuaXRlbS5hdHRyKCJhcmlhLWxhYmVsIil8fHMudmFsdWUpJiZTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbChpKS5sZW5ndGgmJihjbGVhclRpbWVvdXQodGhpcy5saXZlUmVnaW9uVGltZXIpLHRoaXMubGl2ZVJlZ2lvblRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5saXZlUmVnaW9uLmh0bWwoVigiPGRpdj4iKS50ZXh0KGkpKX0sMTAwKSl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSxzPXRoaXMucHJldmlvdXM7dGhpcy5lbGVtZW50WzBdIT09Vi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9cyx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9cyx0aGlzLnNlbGVjdGVkSXRlbT1pfSkpLCExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOml9KSYmdGhpcy5fdmFsdWUoaS52YWx1ZSksdGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCksdGhpcy5jbG9zZSh0KSx0aGlzLnNlbGVjdGVkSXRlbT1pfX0pLHRoaXMubGl2ZVJlZ2lvbj1WKCI8ZGl2PiIse3JvbGU6InN0YXR1cyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KSx0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIiksdGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKSx0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKSx0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt0aGlzLl9zdXBlcih0LGUpLCJzb3VyY2UiPT09dCYmdGhpcy5faW5pdFNvdXJjZSgpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSwiZGlzYWJsZWQiPT09dCYmZSYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tZW51LmVsZW1lbnRbMF07cmV0dXJuIHQudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdfHx0LnRhcmdldD09PWV8fFYuY29udGFpbnMoZSx0LnRhcmdldCl9LF9jbG9zZU9uQ2xpY2tPdXRzaWRlOmZ1bmN0aW9uKHQpe3RoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldCh0KXx8dGhpcy5jbG9zZSgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQ9ISh0PSEodD10JiYodC5qcXVlcnl8fHQubm9kZVR5cGU/Vih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpKXx8IXRbMF0/dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik6dCkubGVuZ3RoP3RoaXMuZG9jdW1lbnRbMF0uYm9keTp0fSxfaW5pdFNvdXJjZTpmdW5jdGlvbigpe3ZhciBpLHMsbj10aGlzO0FycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LGUpe2UoVi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KHM9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LGUpe24ueGhyJiZuLnhoci5hYm9ydCgpLG4ueGhyPVYuYWpheCh7dXJsOnMsZGF0YTp0LGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKHQpe2UodCl9LGVycm9yOmZ1bmN0aW9uKCl7ZShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihzKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxlPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLGk9cy5hbHRLZXl8fHMuY3RybEtleXx8cy5tZXRhS2V5fHxzLnNoaWZ0S2V5O3QmJihlfHxpKXx8KHRoaXMuc2VsZWN0ZWRJdGVtPW51bGwsdGhpcy5zZWFyY2gobnVsbCxzKSl9LHRoaXMub3B0aW9ucy5kZWxheSl9LHNlYXJjaDpmdW5jdGlvbih0LGUpe3JldHVybiB0PW51bGwhPXQ/dDp0aGlzLl92YWx1ZSgpLHRoaXMudGVybT10aGlzLl92YWx1ZSgpLHQubGVuZ3RoPHRoaXMub3B0aW9ucy5taW5MZW5ndGg/dGhpcy5jbG9zZShlKTohMSE9PXRoaXMuX3RyaWdnZXIoInNlYXJjaCIsZSk/dGhpcy5fc2VhcmNoKHQpOnZvaWQgMH0sX3NlYXJjaDpmdW5jdGlvbih0KXt0aGlzLnBlbmRpbmcrKyx0aGlzLl9hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKSx0aGlzLmNhbmNlbFNlYXJjaD0hMSx0aGlzLnNvdXJjZSh7dGVybTp0fSx0aGlzLl9yZXNwb25zZSgpKX0sX3Jlc3BvbnNlOmZ1bmN0aW9uKCl7dmFyIGU9Kyt0aGlzLnJlcXVlc3RJbmRleDtyZXR1cm4gZnVuY3Rpb24odCl7ZT09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2UodCksdGhpcy5wZW5kaW5nLS0sdGhpcy5wZW5kaW5nfHx0aGlzLl9yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0uYmluZCh0aGlzKX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt0PXQmJnRoaXMuX25vcm1hbGl6ZSh0KSx0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDp0fSksIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdCYmdC5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdCh0KSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKHQpe3RoaXMuY2FuY2VsU2VhcmNoPSEwLHRoaXMuX2Nsb3NlKHQpfSxfY2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsIm1vdXNlZG93biIpLHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQpKX0sX2NoYW5nZTpmdW5jdGlvbih0KXt0aGlzLnByZXZpb3VzIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmxhYmVsJiZ0WzBdLnZhbHVlP3Q6Vi5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/e2xhYmVsOnQsdmFsdWU6dH06Vi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGUsdCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5tZW51LnJlZnJlc2goKSxlLnNob3coKSx0aGlzLl9yZXNpemVNZW51KCksZS5wb3NpdGlvbihWLmV4dGVuZCh7b2Y6dGhpcy5lbGVtZW50fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKSx0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLm1lbnUubmV4dCgpLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlZG93bjoiX2Nsb3NlT25DbGlja091dHNpZGUifSl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tZW51LmVsZW1lbnQ7dC5vdXRlcldpZHRoKE1hdGgubWF4KHQud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24oaSx0KXt2YXIgcz10aGlzO1YuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7cy5fcmVuZGVySXRlbURhdGEoaSxlKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbSh0LGUpLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIixlKX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCxlKXtyZXR1cm4gVigiPGxpPiIpLmFwcGVuZChWKCI8ZGl2PiIpLnRleHQoZS5sYWJlbCkpLmFwcGVuZFRvKHQpfSxfbW92ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKXJldHVybiB0aGlzLm1lbnUuaXNGaXJzdEl0ZW0oKSYmL15wcmV2aW91cy8udGVzdCh0KXx8dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSYmL15uZXh0Ly50ZXN0KHQpPyh0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHZvaWQgdGhpcy5tZW51LmJsdXIoKSk6dm9pZCB0aGlzLm1lbnVbdF0oZSk7dGhpcy5zZWFyY2gobnVsbCxlKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50fSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSh0aGlzLmVsZW1lbnQsYXJndW1lbnRzKX0sX2tleUV2ZW50OmZ1bmN0aW9uKHQsZSl7dGhpcy5pc011bHRpTGluZSYmIXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpfHwodGhpcy5fbW92ZSh0LGUpLGUucHJldmVudERlZmF1bHQoKSl9LF9pc0NvbnRlbnRFZGl0YWJsZTpmdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIGU9dC5wcm9wKCJjb250ZW50RWRpdGFibGUiKTtyZXR1cm4iaW5oZXJpdCI9PT1lP3RoaXMuX2lzQ29udGVudEVkaXRhYmxlKHQucGFyZW50KCkpOiJ0cnVlIj09PWV9fSksVi5leHRlbmQoVi51aS5hdXRvY29tcGxldGUse2VzY2FwZVJlZ2V4OmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX0sZmlsdGVyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IFJlZ0V4cChWLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChlKSwiaSIpO3JldHVybiBWLmdyZXAodCxmdW5jdGlvbih0KXtyZXR1cm4gaS50ZXN0KHQubGFiZWx8fHQudmFsdWV8fHQpfSl9fSksVi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsVi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbih0KXtyZXR1cm4gdCsoMTx0PyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGU9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsY2xlYXJUaW1lb3V0KHRoaXMubGl2ZVJlZ2lvblRpbWVyKSx0aGlzLmxpdmVSZWdpb25UaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMubGl2ZVJlZ2lvbi5odG1sKFYoIjxkaXY+IikudGV4dChlKSl9LDEwMCkpfX0pO1YudWkuYXV0b2NvbXBsZXRlO3ZhciB0dD0vdWktY29ybmVyLShbYS16XSl7Miw2fS9nO1Yud2lkZ2V0KCJ1aS5jb250cm9sZ3JvdXAiLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlyZWN0aW9uOiJob3Jpem9udGFsIixkaXNhYmxlZDpudWxsLG9ubHlWaXNpYmxlOiEwLGl0ZW1zOntidXR0b246ImlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgYnV0dG9uLCBhIixjb250cm9sZ3JvdXBMYWJlbDoiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIsY2hlY2tib3hyYWRpbzoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSwgaW5wdXRbdHlwZT0ncmFkaW8nXSIsc2VsZWN0bWVudToic2VsZWN0IixzcGlubmVyOiIudWktc3Bpbm5lci1pbnB1dCJ9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidG9vbGJhciIpLHRoaXMucmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2NhbGxDaGlsZE1ldGhvZCgiZGVzdHJveSIpLHRoaXMuY2hpbGRXaWRnZXRzLnJlbW92ZURhdGEoInVpLWNvbnRyb2xncm91cC1kYXRhIiksdGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLm9wdGlvbnMuaXRlbXMuY29udHJvbGdyb3VwTGFiZWwmJnRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCkuZmluZCgiLnVpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyIpLmNvbnRlbnRzKCkudW53cmFwKCl9LF9pbml0V2lkZ2V0czpmdW5jdGlvbigpe3ZhciBvPXRoaXMsYT1bXTtWLmVhY2godGhpcy5vcHRpb25zLml0ZW1zLGZ1bmN0aW9uKHMsdCl7dmFyIGUsbj17fTtpZih0KXJldHVybiJjb250cm9sZ3JvdXBMYWJlbCI9PT1zPygoZT1vLmVsZW1lbnQuZmluZCh0KSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyk7dC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyIpLmxlbmd0aHx8dC5jb250ZW50cygpLndyYXBBbGwoIjxzcGFuIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwtY29udGVudHMnPjwvc3Bhbj4iKX0pLG8uX2FkZENsYXNzKGUsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSx2b2lkKGE9YS5jb25jYXQoZS5nZXQoKSkpKTp2b2lkKFYuZm5bc10mJihuPW9bIl8iK3MrIk9wdGlvbnMiXT9vWyJfIitzKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSxvLmVsZW1lbnQuZmluZCh0KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXRbc10oImluc3RhbmNlIiksaT1WLndpZGdldC5leHRlbmQoe30sbik7ImJ1dHRvbiI9PT1zJiZ0LnBhcmVudCgiLnVpLXNwaW5uZXIiKS5sZW5ndGh8fCgoZT1lfHx0W3NdKClbc10oImluc3RhbmNlIikpJiYoaS5jbGFzc2VzPW8uX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGkuY2xhc3NlcyxlKSksdFtzXShpKSxpPXRbc10oIndpZGdldCIpLFYuZGF0YShpWzBdLCJ1aS1jb250cm9sZ3JvdXAtZGF0YSIsZXx8dFtzXSgiaW5zdGFuY2UiKSksYS5wdXNoKGlbMF0pKX0pKSl9KSx0aGlzLmNoaWxkV2lkZ2V0cz1WKFYudW5pcXVlU29ydChhKSksdGhpcy5fYWRkQ2xhc3ModGhpcy5jaGlsZFdpZGdldHMsInVpLWNvbnRyb2xncm91cC1pdGVtIil9LF9jYWxsQ2hpbGRNZXRob2Q6ZnVuY3Rpb24oZSl7dGhpcy5jaGlsZFdpZGdldHMuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0JiZ0W2VdJiZ0W2VdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKHQsZSl7ZT10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMoZSwibGFiZWwiKS5jbGFzc2VzLmxhYmVsO3RoaXMuX3JlbW92ZUNsYXNzKHQsbnVsbCwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1sZWZ0IHVpLWNvcm5lci1yaWdodCB1aS1jb3JuZXItYWxsIiksdGhpcy5fYWRkQ2xhc3ModCxudWxsLGUpfSxfYnVpbGRTaW1wbGVPcHRpb25zOmZ1bmN0aW9uKHQsZSl7dmFyIGk9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24scz17Y2xhc3Nlczp7fX07cmV0dXJuIHMuY2xhc3Nlc1tlXT17bWlkZGxlOiIiLGZpcnN0OiJ1aS1jb3JuZXItIisoaT8idG9wIjoibGVmdCIpLGxhc3Q6InVpLWNvcm5lci0iKyhpPyJib3R0b20iOiJyaWdodCIpLG9ubHk6InVpLWNvcm5lci1hbGwifVt0XSxzfSxfc3Bpbm5lck9wdGlvbnM6ZnVuY3Rpb24odCl7dD10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCwidWktc3Bpbm5lciIpO3JldHVybiB0LmNsYXNzZXNbInVpLXNwaW5uZXItdXAiXT0iIix0LmNsYXNzZXNbInVpLXNwaW5uZXItZG93biJdPSIiLHR9LF9idXR0b25PcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCwidWktYnV0dG9uIil9LF9jaGVja2JveHJhZGlvT3B0aW9uczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKHQsInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiKX0sX3NlbGVjdG1lbnVPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uO3JldHVybnt3aWR0aDplJiYiYXV0byIsY2xhc3Nlczp7bWlkZGxlOnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6IiIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6IiJ9LGZpcnN0OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci0iKyhlPyJ0b3AiOiJ0bCIpLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItIisoZT8idG9wIjoibGVmdCIpfSxsYXN0OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6ZT8iIjoidWktY29ybmVyLXRyIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKGU/ImJvdHRvbSI6InJpZ2h0Iil9LG9ubHk6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjoidWktY29ybmVyLXRvcCIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci1hbGwifX1bdF19fSxfcmVzb2x2ZUNsYXNzZXNWYWx1ZXM6ZnVuY3Rpb24oaSxzKXt2YXIgbj17fTtyZXR1cm4gVi5lYWNoKGksZnVuY3Rpb24odCl7dmFyIGU9cy5vcHRpb25zLmNsYXNzZXNbdF18fCIiLGU9U3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwoZS5yZXBsYWNlKHR0LCIiKSk7blt0XT0oZSsiICIraVt0XSkucmVwbGFjZSgvXHMrL2csIiAiKX0pLG59LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiZGlyZWN0aW9uIj09PXQmJnRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKSx0aGlzLl9zdXBlcih0LGUpLCJkaXNhYmxlZCIhPT10P3RoaXMucmVmcmVzaCgpOnRoaXMuX2NhbGxDaGlsZE1ldGhvZChlPyJkaXNhYmxlIjoiZW5hYmxlIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbixvPXRoaXM7dGhpcy5fYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKSwiaG9yaXpvbnRhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uJiZ0aGlzLl9hZGRDbGFzcyhudWxsLCJ1aS1oZWxwZXItY2xlYXJmaXgiKSx0aGlzLl9pbml0V2lkZ2V0cygpLG49dGhpcy5jaGlsZFdpZGdldHMsKG49dGhpcy5vcHRpb25zLm9ubHlWaXNpYmxlP24uZmlsdGVyKCI6dmlzaWJsZSIpOm4pLmxlbmd0aCYmKFYuZWFjaChbImZpcnN0IiwibGFzdCJdLGZ1bmN0aW9uKHQsZSl7dmFyIGkscz1uW2VdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtzJiZvWyJfIitzLndpZGdldE5hbWUrIk9wdGlvbnMiXT8oKGk9b1siXyIrcy53aWRnZXROYW1lKyJPcHRpb25zIl0oMT09PW4ubGVuZ3RoPyJvbmx5IjplKSkuY2xhc3Nlcz1vLl9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhpLmNsYXNzZXMscykscy5lbGVtZW50W3Mud2lkZ2V0TmFtZV0oaSkpOm8uX3VwZGF0ZUNvcm5lckNsYXNzKG5bZV0oKSxlKX0pLHRoaXMuX2NhbGxDaGlsZE1ldGhvZCgicmVmcmVzaCIpKX19KTtWLndpZGdldCgidWkuY2hlY2tib3hyYWRpbyIsW1YudWkuZm9ybVJlc2V0TWl4aW4se3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7ZGlzYWJsZWQ6bnVsbCxsYWJlbDpudWxsLGljb246ITAsY2xhc3Nlczp7InVpLWNoZWNrYm94cmFkaW8tbGFiZWwiOiJ1aS1jb3JuZXItYWxsIiwidWktY2hlY2tib3hyYWRpby1pY29uIjoidWktY29ybmVyLWFsbCJ9fSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuX3JlYWRUeXBlKCksdD10aGlzLmVsZW1lbnQubGFiZWxzKCksdGhpcy5sYWJlbD1WKHRbdC5sZW5ndGgtMV0pLHRoaXMubGFiZWwubGVuZ3RofHxWLmVycm9yKCJObyBsYWJlbCBmb3VuZCBmb3IgY2hlY2tib3hyYWRpbyB3aWRnZXQiKSx0aGlzLm9yaWdpbmFsTGFiZWw9IiIsKHQ9dGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pKS5sZW5ndGgmJih0aGlzLm9yaWdpbmFsTGFiZWwrPXQuY2xvbmUoKS53cmFwQWxsKCI8ZGl2PjwvZGl2PiIpLnBhcmVudCgpLmh0bWwoKSksdGhpcy5vcmlnaW5hbExhYmVsJiYoZS5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLG51bGwhPSh0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCkmJihlLmRpc2FibGVkPXQpLGV9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZDt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpLG51bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fYWRkQ2xhc3MoInVpLWNoZWNrYm94cmFkaW8iLCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWxhYmVsIiwidWktYnV0dG9uIHVpLXdpZGdldCIpLCJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tcmFkaW8tbGFiZWwiKSx0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbD90aGlzLl91cGRhdGVMYWJlbCgpOnRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMub3B0aW9ucy5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLHRoaXMuX2VuaGFuY2UoKSx0JiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9vbih7Y2hhbmdlOiJfdG9nZ2xlQ2xhc3NlcyIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWZvY3VzIHVpLXZpc3VhbC1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX19KX0sX3JlYWRUeXBlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy50eXBlPXRoaXMuZWxlbWVudFswXS50eXBlLCJpbnB1dCI9PT10JiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8Vi5lcnJvcigiQ2FuJ3QgY3JlYXRlIGNoZWNrYm94cmFkaW8gb24gZWxlbWVudC5ub2RlTmFtZT0iK3QrIiBhbmQgZWxlbWVudC50eXBlPSIrdGhpcy50eXBlKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVJY29uKHRoaXMuZWxlbWVudFswXS5jaGVja2VkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LF9nZXRSYWRpb0dyb3VwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5hbWUsZT0iaW5wdXRbbmFtZT0nIitWLmVzY2FwZVNlbGVjdG9yKHQpKyInXSI7cmV0dXJuIHQ/KHRoaXMuZm9ybS5sZW5ndGg/Vih0aGlzLmZvcm1bMF0uZWxlbWVudHMpLmZpbHRlcihlKTpWKGUpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09Vih0aGlzKS5fZm9ybSgpLmxlbmd0aH0pKS5ub3QodGhpcy5lbGVtZW50KTpWKFtdKX0sX3RvZ2dsZUNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiLHQpLHRoaXMub3B0aW9ucy5pY29uJiYiY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIix0KS5fdG9nZ2xlQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLWljb24tYmxhbmsiLCF0KSwicmFkaW8iPT09dGhpcy50eXBlJiZ0aGlzLl9nZXRSYWRpb0dyb3VwKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuY2hlY2tib3hyYWRpbygiaW5zdGFuY2UiKTt0JiZ0Ll9yZW1vdmVDbGFzcyh0LmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3VuYmluZEZvcm1SZXNldEhhbmRsZXIoKSx0aGlzLmljb24mJih0aGlzLmljb24ucmVtb3ZlKCksdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7aWYoImxhYmVsIiE9PXR8fGUpe2lmKHRoaXMuX3N1cGVyKHQsZSksImRpc2FibGVkIj09PXQpcmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLGUpLHZvaWQodGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPWUpO3RoaXMucmVmcmVzaCgpfX0sX3VwZGF0ZUljb246ZnVuY3Rpb24odCl7dmFyIGU9InVpLWljb24gdWktaWNvbi1iYWNrZ3JvdW5kICI7dGhpcy5vcHRpb25zLmljb24/KHRoaXMuaWNvbnx8KHRoaXMuaWNvbj1WKCI8c3Bhbj4iKSx0aGlzLmljb25TcGFjZT1WKCI8c3Bhbj4gPC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1jaGVja2JveHJhZGlvLWljb24tc3BhY2UiKSksImNoZWNrYm94Ij09PXRoaXMudHlwZT8oZSs9dD8idWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIjoidWktaWNvbi1ibGFuayIsdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsdD8idWktaWNvbi1ibGFuayI6InVpLWljb24tY2hlY2siKSk6ZSs9InVpLWljb24tYmxhbmsiLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktY2hlY2tib3hyYWRpby1pY29uIixlKSx0fHx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIiksdGhpcy5pY29uLnByZXBlbmRUbyh0aGlzLmxhYmVsKS5hZnRlcih0aGlzLmljb25TcGFjZSkpOnZvaWQgMCE9PXRoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSxkZWxldGUgdGhpcy5pY29uKX0sX3VwZGF0ZUxhYmVsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pO3RoaXMuaWNvbiYmKHQ9dC5ub3QodGhpcy5pY29uWzBdKSksKHQ9dGhpcy5pY29uU3BhY2U/dC5ub3QodGhpcy5pY29uU3BhY2VbMF0pOnQpLnJlbW92ZSgpLHRoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCxlPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKHQpLHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsdCksbnVsbCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5fdXBkYXRlTGFiZWwoKSxlIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDplfSl9fV0pO3ZhciBldDtWLnVpLmNoZWNrYm94cmFkaW87Vi53aWRnZXQoInVpLmJ1dHRvbiIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxidXR0b24+IixvcHRpb25zOntjbGFzc2VzOnsidWktYnV0dG9uIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbjpudWxsLGljb25Qb3NpdGlvbjoiYmVnaW5uaW5nIixsYWJlbDpudWxsLHNob3dMYWJlbDohMH0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX3N1cGVyKCl8fHt9O3JldHVybiB0aGlzLmlzSW5wdXQ9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpLG51bGwhPSh0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCkmJihlLmRpc2FibGVkPXQpLHRoaXMub3JpZ2luYWxMYWJlbD10aGlzLmlzSW5wdXQ/dGhpcy5lbGVtZW50LnZhbCgpOnRoaXMuZWxlbWVudC5odG1sKCksdGhpcy5vcmlnaW5hbExhYmVsJiYoZS5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLGV9LF9jcmVhdGU6ZnVuY3Rpb24oKXshdGhpcy5vcHRpb24uc2hvd0xhYmVsJiF0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9ITApLG51bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWR8fCExKSx0aGlzLmhhc1RpdGxlPSEhdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIiksdGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLm9wdGlvbnMubGFiZWwhPT10aGlzLm9yaWdpbmFsTGFiZWwmJih0aGlzLmlzSW5wdXQ/dGhpcy5lbGVtZW50LnZhbCh0aGlzLm9wdGlvbnMubGFiZWwpOnRoaXMuZWxlbWVudC5odG1sKHRoaXMub3B0aW9ucy5sYWJlbCkpLHRoaXMuX2FkZENsYXNzKCJ1aS1idXR0b24iLCJ1aS13aWRnZXQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX2VuaGFuY2UoKSx0aGlzLmVsZW1lbnQuaXMoImEiKSYmdGhpcy5fb24oe2tleXVwOmZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PVYudWkua2V5Q29kZS5TUEFDRSYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmVsZW1lbnRbMF0uY2xpY2s/dGhpcy5lbGVtZW50WzBdLmNsaWNrKCk6dGhpcy5lbGVtZW50LnRyaWdnZXIoImNsaWNrIikpfX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiYnV0dG9uIil8fHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwiYnV0dG9uIiksdGhpcy5vcHRpb25zLmljb24mJih0aGlzLl91cGRhdGVJY29uKCJpY29uIix0aGlzLm9wdGlvbnMuaWNvbiksdGhpcy5fdXBkYXRlVG9vbHRpcCgpKX0sX3VwZGF0ZVRvb2x0aXA6ZnVuY3Rpb24oKXt0aGlzLnRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpLHRoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMudGl0bGV8fHRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIsdGhpcy5vcHRpb25zLmxhYmVsKX0sX3VwZGF0ZUljb246ZnVuY3Rpb24odCxlKXt2YXIgaT0iaWNvblBvc2l0aW9uIiE9PXQscz1pP3RoaXMub3B0aW9ucy5pY29uUG9zaXRpb246ZSx0PSJ0b3AiPT09c3x8ImJvdHRvbSI9PT1zO3RoaXMuaWNvbj9pJiZ0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0aGlzLm9wdGlvbnMuaWNvbik6KHRoaXMuaWNvbj1WKCI8c3Bhbj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sInVpLWJ1dHRvbi1pY29uIiwidWktaWNvbiIpLHRoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMuX2FkZENsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IikpLGkmJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLGUpLHRoaXMuX2F0dGFjaEljb24ocyksdD8odGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLXdpZGdldC1pY29uLWJsb2NrIiksdGhpcy5pY29uU3BhY2UmJnRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKToodGhpcy5pY29uU3BhY2V8fCh0aGlzLmljb25TcGFjZT1WKCI8c3Bhbj4gPC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1idXR0b24taWNvbi1zcGFjZSIpKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lnZXQtaWNvbi1ibG9jayIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShzKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmljb24mJnRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCksdGhpcy5oYXNUaXRsZXx8dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9hdHRhY2hJY29uU3BhY2U6ZnVuY3Rpb24odCl7dGhpcy5pY29uWy9eKD86ZW5kfGJvdHRvbSkvLnRlc3QodCk/ImJlZm9yZSI6ImFmdGVyIl0odGhpcy5pY29uU3BhY2UpfSxfYXR0YWNoSWNvbjpmdW5jdGlvbih0KXt0aGlzLmVsZW1lbnRbL14oPzplbmR8Ym90dG9tKS8udGVzdCh0KT8iYXBwZW5kIjoicHJlcGVuZCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10LnNob3dMYWJlbD90aGlzLm9wdGlvbnM6dCkuc2hvd0xhYmVsLGk9KHZvaWQgMD09PXQuaWNvbj90aGlzLm9wdGlvbnM6dCkuaWNvbjtlfHxpfHwodC5zaG93TGFiZWw9ITApLHRoaXMuX3N1cGVyKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7Imljb24iPT09dCYmKGU/dGhpcy5fdXBkYXRlSWNvbih0LGUpOnRoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpKSwiaWNvblBvc2l0aW9uIj09PXQmJnRoaXMuX3VwZGF0ZUljb24odCxlKSwic2hvd0xhYmVsIj09PXQmJih0aGlzLl90b2dnbGVDbGFzcygidWktYnV0dG9uLWljb24tb25seSIsbnVsbCwhZSksdGhpcy5fdXBkYXRlVG9vbHRpcCgpKSwibGFiZWwiPT09dCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKGUpOih0aGlzLmVsZW1lbnQuaHRtbChlKSx0aGlzLmljb24mJih0aGlzLl9hdHRhY2hJY29uKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pLHRoaXMuX2F0dGFjaEljb25TcGFjZSh0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uKSkpKSx0aGlzLl9zdXBlcih0LGUpLCJkaXNhYmxlZCI9PT10JiYodGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLGUpLCh0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ9ZSkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJibHVyIikpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCwgYnV0dG9uIik/dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkOnRoaXMuZWxlbWVudC5oYXNDbGFzcygidWktYnV0dG9uLWRpc2FibGVkIik7dCE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dH0pLHRoaXMuX3VwZGF0ZVRvb2x0aXAoKX19KSwhMSE9PVYudWlCYWNrQ29tcGF0JiYoVi53aWRnZXQoInVpLmJ1dHRvbiIsVi51aS5idXR0b24se29wdGlvbnM6e3RleHQ6ITAsaWNvbnM6e3ByaW1hcnk6bnVsbCxzZWNvbmRhcnk6bnVsbH19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiYhdGhpcy5vcHRpb25zLnRleHQmJih0aGlzLm9wdGlvbnMuc2hvd0xhYmVsPXRoaXMub3B0aW9ucy50ZXh0KSwhdGhpcy5vcHRpb25zLnNob3dMYWJlbCYmdGhpcy5vcHRpb25zLnRleHQmJih0aGlzLm9wdGlvbnMudGV4dD10aGlzLm9wdGlvbnMuc2hvd0xhYmVsKSx0aGlzLm9wdGlvbnMuaWNvbnx8IXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5JiYhdGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeT90aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5PXRoaXMub3B0aW9ucy5pY29uKTp0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeT90aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeToodGhpcy5vcHRpb25zLmljb249dGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeSx0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uPSJlbmQiKSx0aGlzLl9zdXBlcigpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7InRleHQiIT09dD8oInNob3dMYWJlbCI9PT10JiYodGhpcy5vcHRpb25zLnRleHQ9ZSksImljb24iPT09dCYmKHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5PWUpLCJpY29ucyI9PT10JiYoZS5wcmltYXJ5Pyh0aGlzLl9zdXBlcigiaWNvbiIsZS5wcmltYXJ5KSx0aGlzLl9zdXBlcigiaWNvblBvc2l0aW9uIiwiYmVnaW5uaW5nIikpOmUuc2Vjb25kYXJ5JiYodGhpcy5fc3VwZXIoImljb24iLGUuc2Vjb25kYXJ5KSx0aGlzLl9zdXBlcigiaWNvblBvc2l0aW9uIiwiZW5kIikpKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykpOnRoaXMuX3N1cGVyKCJzaG93TGFiZWwiLGUpfX0pLFYuZm4uYnV0dG9uPShldD1WLmZuLmJ1dHRvbixmdW5jdGlvbihpKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGkscz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj10aGlzO3JldHVybiB0P3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09aT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLmF0dHIoInR5cGUiKSxlPVYuZGF0YSh0aGlzLCJ1aS0iKygiY2hlY2tib3giIT09dCYmInJhZGlvIiE9PXQ/ImJ1dHRvbiI6ImNoZWNrYm94cmFkaW8iKSk7cmV0dXJuImluc3RhbmNlIj09PWk/KG49ZSwhMSk6ZT8iZnVuY3Rpb24iIT10eXBlb2YgZVtpXXx8Il8iPT09aS5jaGFyQXQoMCk/Vi5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIraSsiJyBmb3IgYnV0dG9uIHdpZGdldCBpbnN0YW5jZSIpOih0PWVbaV0uYXBwbHkoZSxzKSkhPT1lJiZ2b2lkIDAhPT10PyhuPXQmJnQuanF1ZXJ5P24ucHVzaFN0YWNrKHQuZ2V0KCkpOnQsITEpOnZvaWQgMDpWLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIGJ1dHRvbiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2krIiciKX0pOm49dm9pZCAwOihzLmxlbmd0aCYmKGk9Vi53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ldLmNvbmNhdChzKSkpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuYXR0cigidHlwZSIpLGU9ImNoZWNrYm94IiE9PXQmJiJyYWRpbyIhPT10PyJidXR0b24iOiJjaGVja2JveHJhZGlvIix0PVYuZGF0YSh0aGlzLCJ1aS0iK2UpO3Q/KHQub3B0aW9uKGl8fHt9KSx0Ll9pbml0JiZ0Ll9pbml0KCkpOiJidXR0b24iIT1lP1YodGhpcykuY2hlY2tib3hyYWRpbyhWLmV4dGVuZCh7aWNvbjohMX0saSkpOmV0LmNhbGwoVih0aGlzKSxpKX0pKSxufSksVi5mbi5idXR0b25zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVi51aS5jb250cm9sZ3JvdXB8fFYuZXJyb3IoIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZyIpLCJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMl0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iLGFyZ3VtZW50c1syXV0pOiJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIl0pOigib2JqZWN0Ij09dHlwZW9mIGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLml0ZW1zJiYoYXJndW1lbnRzWzBdLml0ZW1zPXtidXR0b246YXJndW1lbnRzWzBdLml0ZW1zfSksdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pO3ZhciBpdDtWLnVpLmJ1dHRvbjtmdW5jdGlvbiBzdCgpe3RoaXMuX2N1ckluc3Q9bnVsbCx0aGlzLl9rZXlFdmVudD0hMSx0aGlzLl9kaXNhYmxlZElucHV0cz1bXSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMSx0aGlzLl9pbkRpYWxvZz0hMSx0aGlzLl9tYWluRGl2SWQ9InVpLWRhdGVwaWNrZXItZGl2Iix0aGlzLl9pbmxpbmVDbGFzcz0idWktZGF0ZXBpY2tlci1pbmxpbmUiLHRoaXMuX2FwcGVuZENsYXNzPSJ1aS1kYXRlcGlja2VyLWFwcGVuZCIsdGhpcy5fdHJpZ2dlckNsYXNzPSJ1aS1kYXRlcGlja2VyLXRyaWdnZXIiLHRoaXMuX2RpYWxvZ0NsYXNzPSJ1aS1kYXRlcGlja2VyLWRpYWxvZyIsdGhpcy5fZGlzYWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWRpc2FibGVkIix0aGlzLl91bnNlbGVjdGFibGVDbGFzcz0idWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGUiLHRoaXMuX2N1cnJlbnRDbGFzcz0idWktZGF0ZXBpY2tlci1jdXJyZW50LWRheSIsdGhpcy5fZGF5T3ZlckNsYXNzPSJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyIix0aGlzLnJlZ2lvbmFsPVtdLHRoaXMucmVnaW9uYWxbIiJdPXtjbG9zZVRleHQ6IkRvbmUiLHByZXZUZXh0OiJQcmV2IixuZXh0VGV4dDoiTmV4dCIsY3VycmVudFRleHQ6IlRvZGF5Iixtb250aE5hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aE5hbWVzU2hvcnQ6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlOYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5TmFtZXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLGRheU5hbWVzTWluOlsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXSx3ZWVrSGVhZGVyOiJXayIsZGF0ZUZvcm1hdDoibW0vZGQveXkiLGZpcnN0RGF5OjAsaXNSVEw6ITEsc2hvd01vbnRoQWZ0ZXJZZWFyOiExLHllYXJTdWZmaXg6IiIsc2VsZWN0TW9udGhMYWJlbDoiU2VsZWN0IG1vbnRoIixzZWxlY3RZZWFyTGFiZWw6IlNlbGVjdCB5ZWFyIn0sdGhpcy5fZGVmYXVsdHM9e3Nob3dPbjoiZm9jdXMiLHNob3dBbmltOiJmYWRlSW4iLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDoiIixidXR0b25UZXh0OiIuLi4iLGJ1dHRvbkltYWdlOiIiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6IisxMCIsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG9uVXBkYXRlRGF0ZXBpY2tlcjpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDohMCxzaG93QnV0dG9uUGFuZWw6ITEsYXV0b1NpemU6ITEsZGlzYWJsZWQ6ITF9LFYuZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLnJlZ2lvbmFsLmVuPVYuZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLnJlZ2lvbmFsWyJlbi1VUyJdPVYuZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWwuZW4pLHRoaXMuZHBEaXY9bnQoVigiPGRpdiBpZD0nIit0aGlzLl9tYWluRGl2SWQrIicgY2xhc3M9J3VpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSl9ZnVuY3Rpb24gbnQodCl7dmFyIGU9ImJ1dHRvbiwgLnVpLWRhdGVwaWNrZXItcHJldiwgLnVpLWRhdGVwaWNrZXItbmV4dCwgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgYSI7cmV0dXJuIHQub24oIm1vdXNlb3V0IixlLGZ1bmN0aW9uKCl7Vih0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSwtMSE9PXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItcHJldiIpJiZWKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXIiKSwtMSE9PXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItbmV4dCIpJiZWKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX0pLm9uKCJtb3VzZW92ZXIiLGUsb3QpfWZ1bmN0aW9uIG90KCl7Vi5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcigoaXQuaW5saW5lP2l0LmRwRGl2LnBhcmVudCgpOml0LmlucHV0KVswXSl8fChWKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLFYodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmVih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmVih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIGF0KHQsZSl7Zm9yKHZhciBpIGluIFYuZXh0ZW5kKHQsZSksZSludWxsPT1lW2ldJiYodFtpXT1lW2ldKTtyZXR1cm4gdH1WLmV4dGVuZChWLnVpLHtkYXRlcGlja2VyOnt2ZXJzaW9uOiIxLjEzLjIifX0pLFYuZXh0ZW5kKHN0LnByb3RvdHlwZSx7bWFya2VyQ2xhc3NOYW1lOiJoYXNEYXRlcGlja2VyIixtYXhSb3dzOjQsX3dpZGdldERhdGVwaWNrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcERpdn0sc2V0RGVmYXVsdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGF0KHRoaXMuX2RlZmF1bHRzLHR8fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpLHM9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG49ImRpdiI9PT1zfHwic3BhbiI9PT1zO3QuaWR8fCh0aGlzLnV1aWQrPTEsdC5pZD0iZHAiK3RoaXMudXVpZCksKGk9dGhpcy5fbmV3SW5zdChWKHQpLG4pKS5zZXR0aW5ncz1WLmV4dGVuZCh7fSxlfHx7fSksImlucHV0Ij09PXM/dGhpcy5fY29ubmVjdERhdGVwaWNrZXIodCxpKTpuJiZ0aGlzLl9pbmxpbmVEYXRlcGlja2VyKHQsaSl9LF9uZXdJbnN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJue2lkOnRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIiksaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTplLGRwRGl2OmU/bnQoVigiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpPVYodCk7ZS5hcHBlbmQ9VihbXSksZS50cmlnZ2VyPVYoW10pLGkuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMoaSxlKSxpLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vbigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9uKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoZSksVi5kYXRhKHQsImRhdGVwaWNrZXIiLGUpLGUuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscz10aGlzLl9nZXQoZSwiYXBwZW5kVGV4dCIpLG49dGhpcy5fZ2V0KGUsImlzUlRMIik7ZS5hcHBlbmQmJmUuYXBwZW5kLnJlbW92ZSgpLHMmJihlLmFwcGVuZD1WKCI8c3Bhbj4iKS5hZGRDbGFzcyh0aGlzLl9hcHBlbmRDbGFzcykudGV4dChzKSx0W24/ImJlZm9yZSI6ImFmdGVyIl0oZS5hcHBlbmQpKSx0Lm9mZigiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKSxlLnRyaWdnZXImJmUudHJpZ2dlci5yZW1vdmUoKSwiZm9jdXMiIT09KGk9dGhpcy5fZ2V0KGUsInNob3dPbiIpKSYmImJvdGgiIT09aXx8dC5vbigiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKSwiYnV0dG9uIiE9PWkmJiJib3RoIiE9PWl8fChzPXRoaXMuX2dldChlLCJidXR0b25UZXh0IiksaT10aGlzLl9nZXQoZSwiYnV0dG9uSW1hZ2UiKSx0aGlzLl9nZXQoZSwiYnV0dG9uSW1hZ2VPbmx5Iik/ZS50cmlnZ2VyPVYoIjxpbWc+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6aSxhbHQ6cyx0aXRsZTpzfSk6KGUudHJpZ2dlcj1WKCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKSxpP2UudHJpZ2dlci5odG1sKFYoIjxpbWc+IikuYXR0cih7c3JjOmksYWx0OnMsdGl0bGU6c30pKTplLnRyaWdnZXIudGV4dChzKSksdFtuPyJiZWZvcmUiOiJhZnRlciJdKGUudHJpZ2dlciksZS50cmlnZ2VyLm9uKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmVi5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9PT10WzBdP1YuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTooVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmVi5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdJiZWLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksVi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSksITF9KSl9LF9hdXRvU2l6ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvLGE7dGhpcy5fZ2V0KHQsImF1dG9TaXplIikmJiF0LmlubGluZSYmKG89bmV3IERhdGUoMjAwOSwxMSwyMCksKGE9dGhpcy5fZ2V0KHQsImRhdGVGb3JtYXQiKSkubWF0Y2goL1tETV0vKSYmKGU9ZnVuY3Rpb24odCl7Zm9yKG49cz1pPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5sZW5ndGg+aSYmKGk9dFtuXS5sZW5ndGgscz1uKTtyZXR1cm4gc30sby5zZXRNb250aChlKHRoaXMuX2dldCh0LGEubWF0Y2goL01NLyk/Im1vbnRoTmFtZXMiOiJtb250aE5hbWVzU2hvcnQiKSkpLG8uc2V0RGF0ZShlKHRoaXMuX2dldCh0LGEubWF0Y2goL0RELyk/ImRheU5hbWVzIjoiZGF5TmFtZXNTaG9ydCIpKSsyMC1vLmdldERheSgpKSksdC5pbnB1dC5hdHRyKCJzaXplIix0aGlzLl9mb3JtYXREYXRlKHQsbykubGVuZ3RoKSl9LF9pbmxpbmVEYXRlcGlja2VyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9Vih0KTtpLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKXx8KGkuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmFwcGVuZChlLmRwRGl2KSxWLmRhdGEodCwiZGF0ZXBpY2tlciIsZSksdGhpcy5fc2V0RGF0ZShlLHRoaXMuX2dldERlZmF1bHREYXRlKGUpLCEwKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGUpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShlKSxlLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KSxlLmRwRGl2LmNzcygiZGlzcGxheSIsImJsb2NrIikpfSxfZGlhbG9nRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUsaSxzLG4pe3ZhciBvLGE9dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gYXx8KHRoaXMudXVpZCs9MSxvPSJkcCIrdGhpcy51dWlkLHRoaXMuX2RpYWxvZ0lucHV0PVYoIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIitvKyInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPiIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLFYoImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLChhPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCwhMSkpLnNldHRpbmdzPXt9LFYuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSkpLGF0KGEuc2V0dGluZ3Msc3x8e30pLGU9ZSYmZS5jb25zdHJ1Y3Rvcj09PURhdGU/dGhpcy5fZm9ybWF0RGF0ZShhLGUpOmUsdGhpcy5fZGlhbG9nSW5wdXQudmFsKGUpLHRoaXMuX3Bvcz1uP24ubGVuZ3RoP246W24ucGFnZVgsbi5wYWdlWV06bnVsbCx0aGlzLl9wb3N8fChvPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LG49ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsdGhpcy5fcG9zPVtvLzItMTAwK2Uscy8yLTE1MCtuXSksdGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKSxhLnNldHRpbmdzLm9uU2VsZWN0PWksdGhpcy5faW5EaWFsb2c9ITAsdGhpcy5kcERpdi5hZGRDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcyksdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pLFYuYmxvY2tVSSYmVi5ibG9ja1VJKHRoaXMuZHBEaXYpLFYuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSksdGhpc30sX2Rlc3Ryb3lEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBlLGk9Vih0KSxzPVYuZGF0YSh0LCJkYXRlcGlja2VyIik7aS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxWLnJlbW92ZURhdGEodCwiZGF0ZXBpY2tlciIpLCJpbnB1dCI9PT1lPyhzLmFwcGVuZC5yZW1vdmUoKSxzLnRyaWdnZXIucmVtb3ZlKCksaS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLm9mZigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vZmYoImtleXByZXNzIix0aGlzLl9kb0tleVByZXNzKS5vZmYoImtleXVwIix0aGlzLl9kb0tleVVwKSk6ImRpdiIhPT1lJiYic3BhbiIhPT1lfHxpLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpLGl0PT09cyYmKGl0PW51bGwsdGhpcy5fY3VySW5zdD1udWxsKSl9LF9lbmFibGVEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3ZhciB0LGk9VihlKSxzPVYuZGF0YShlLCJkYXRlcGlja2VyIik7aS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJigiaW5wdXQiPT09KHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT8oZS5kaXNhYmxlZD0hMSxzLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKToiZGl2IiE9PXQmJiJzcGFuIiE9PXR8fCgoaT1pLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiksaS5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMSkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPVYubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZT9udWxsOnR9KSl9LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbihlKXt2YXIgdCxpPVYoZSkscz1WLmRhdGEoZSwiZGF0ZXBpY2tlciIpO2kuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoImlucHV0Ij09PSh0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/KGUuZGlzYWJsZWQ9ITAscy50cmlnZ2VyLmZpbHRlcigiYnV0dG9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMC41IixjdXJzb3I6ImRlZmF1bHQifSkpOiJkaXYiIT09dCYmInNwYW4iIT09dHx8KChpPWkuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKSkuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxpLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCEwKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9Vi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lP251bGw6dH0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09ZSl9LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDtlKyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbZV09PT10KXJldHVybiEwO3JldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIFYuZGF0YSh0LCJkYXRlcGlja2VyIil9Y2F0Y2godCl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIifX0sX29wdGlvbkRhdGVwaWNrZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG4sbz10aGlzLl9nZXRJbnN0KHQpO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuImRlZmF1bHRzIj09PWU/Vi5leHRlbmQoe30sVi5kYXRlcGlja2VyLl9kZWZhdWx0cyk6bz8iYWxsIj09PWU/Vi5leHRlbmQoe30sby5zZXR0aW5ncyk6dGhpcy5fZ2V0KG8sZSk6bnVsbDtzPWV8fHt9LCJzdHJpbmciPT10eXBlb2YgZSYmKChzPXt9KVtlXT1pKSxvJiYodGhpcy5fY3VySW5zdD09PW8mJnRoaXMuX2hpZGVEYXRlcGlja2VyKCksbj10aGlzLl9nZXREYXRlRGF0ZXBpY2tlcih0LCEwKSxlPXRoaXMuX2dldE1pbk1heERhdGUobywibWluIiksaT10aGlzLl9nZXRNaW5NYXhEYXRlKG8sIm1heCIpLGF0KG8uc2V0dGluZ3MscyksbnVsbCE9PWUmJnZvaWQgMCE9PXMuZGF0ZUZvcm1hdCYmdm9pZCAwPT09cy5taW5EYXRlJiYoby5zZXR0aW5ncy5taW5EYXRlPXRoaXMuX2Zvcm1hdERhdGUobyxlKSksbnVsbCE9PWkmJnZvaWQgMCE9PXMuZGF0ZUZvcm1hdCYmdm9pZCAwPT09cy5tYXhEYXRlJiYoby5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUobyxpKSksImRpc2FibGVkImluIHMmJihzLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIodCkpLHRoaXMuX2F0dGFjaG1lbnRzKFYodCksbyksdGhpcy5fYXV0b1NpemUobyksdGhpcy5fc2V0RGF0ZShvLG4pLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShvKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKG8pKX0sX2NoYW5nZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX29wdGlvbkRhdGVwaWNrZXIodCxlLGkpfSxfcmVmcmVzaERhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dD10aGlzLl9nZXRJbnN0KHQpO3QmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3Q9dGhpcy5fZ2V0SW5zdCh0KTt0JiYodGhpcy5fc2V0RGF0ZSh0LGUpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKHQpKX0sX2dldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQsZSl7dD10aGlzLl9nZXRJbnN0KHQpO3JldHVybiB0JiYhdC5pbmxpbmUmJnRoaXMuX3NldERhdGVGcm9tRmllbGQodCxlKSx0P3RoaXMuX2dldERhdGUodCk6bnVsbH0sX2RvS2V5RG93bjpmdW5jdGlvbih0KXt2YXIgZSxpLHM9Vi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KSxuPSEwLG89cy5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7aWYocy5fa2V5RXZlbnQ9ITAsVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZylzd2l0Y2godC5rZXlDb2RlKXtjYXNlIDk6Vi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLG49ITE7YnJlYWs7Y2FzZSAxMzpyZXR1cm4oaT1WKCJ0ZC4iK1YuZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzKyI6bm90KC4iK1YuZGF0ZXBpY2tlci5fY3VycmVudENsYXNzKyIpIixzLmRwRGl2KSlbMF0mJlYuZGF0ZXBpY2tlci5fc2VsZWN0RGF5KHQudGFyZ2V0LHMuc2VsZWN0ZWRNb250aCxzLnNlbGVjdGVkWWVhcixpWzBdKSwoZT1WLmRhdGVwaWNrZXIuX2dldChzLCJvblNlbGVjdCIpKT8oaT1WLmRhdGVwaWNrZXIuX2Zvcm1hdERhdGUocyksZS5hcHBseShzLmlucHV0P3MuaW5wdXRbMF06bnVsbCxbaSxzXSkpOlYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSwhMTtjYXNlIDI3OlYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTticmVhaztjYXNlIDMzOlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LVYuZGF0ZXBpY2tlci5fZ2V0KHMsInN0ZXBCaWdNb250aHMiKTotVi5kYXRlcGlja2VyLl9nZXQocywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNDpWLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytWLmRhdGVwaWNrZXIuX2dldChzLCJzdGVwQmlnTW9udGhzIik6K1YuZGF0ZXBpY2tlci5fZ2V0KHMsInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzU6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmVi5kYXRlcGlja2VyLl9jbGVhckRhdGUodC50YXJnZXQpLG49dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzNjoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZWLmRhdGVwaWNrZXIuX2dvdG9Ub2RheSh0LnRhcmdldCksbj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM3Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCxvPzE6LTEsIkQiKSxuPXQuY3RybEtleXx8dC5tZXRhS2V5LHQub3JpZ2luYWxFdmVudC5hbHRLZXkmJlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LVYuZGF0ZXBpY2tlci5fZ2V0KHMsInN0ZXBCaWdNb250aHMiKTotVi5kYXRlcGlja2VyLl9nZXQocywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzODoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZWLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsLTcsIkQiKSxuPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzk6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmVi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/LTE6MSwiRCIpLG49dC5jdHJsS2V5fHx0Lm1ldGFLZXksdC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmVi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8rVi5kYXRlcGlja2VyLl9nZXQocywic3RlcEJpZ01vbnRocyIpOitWLmRhdGVwaWNrZXIuX2dldChzLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOih0LmN0cmxLZXl8fHQubWV0YUtleSkmJlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCw3LCJEIiksbj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztkZWZhdWx0Om49ITF9ZWxzZSAzNj09PXQua2V5Q29kZSYmdC5jdHJsS2V5P1YuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk6bj0hMTtuJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxfZG9LZXlQcmVzczpmdW5jdGlvbih0KXt2YXIgZSxpPVYuZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYoVi5kYXRlcGlja2VyLl9nZXQoaSwiY29uc3RyYWluSW5wdXQiKSlyZXR1cm4gZT1WLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoVi5kYXRlcGlja2VyLl9nZXQoaSwiZGF0ZUZvcm1hdCIpKSxpPVN0cmluZy5mcm9tQ2hhckNvZGUobnVsbD09dC5jaGFyQ29kZT90LmtleUNvZGU6dC5jaGFyQ29kZSksdC5jdHJsS2V5fHx0Lm1ldGFLZXl8fGk8IiAifHwhZXx8LTE8ZS5pbmRleE9mKGkpfSxfZG9LZXlVcDpmdW5jdGlvbih0KXt0PVYuZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYodC5pbnB1dC52YWwoKSE9PXQubGFzdFZhbCl0cnl7Vi5kYXRlcGlja2VyLnBhcnNlRGF0ZShWLmRhdGVwaWNrZXIuX2dldCh0LCJkYXRlRm9ybWF0IiksdC5pbnB1dD90LmlucHV0LnZhbCgpOm51bGwsVi5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcodCkpJiYoVi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKHQpLFYuZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKHQpLFYuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcih0KSl9Y2F0Y2godCl7fXJldHVybiEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxzLG47ImlucHV0IiE9PSh0PXQudGFyZ2V0fHx0KS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1WKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksVi5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcih0KXx8Vi5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9PT10fHwobj1WLmRhdGVwaWNrZXIuX2dldEluc3QodCksVi5kYXRlcGlja2VyLl9jdXJJbnN0JiZWLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1uJiYoVi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLG4mJlYuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJlYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoVi5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSksITEhPT0oaT0ocz1WLmRhdGVwaWNrZXIuX2dldChuLCJiZWZvcmVTaG93IikpP3MuYXBwbHkodCxbdCxuXSk6e30pJiYoYXQobi5zZXR0aW5ncyxpKSxuLmxhc3RWYWw9bnVsbCxWLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD10LFYuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChuKSxWLmRhdGVwaWNrZXIuX2luRGlhbG9nJiYodC52YWx1ZT0iIiksVi5kYXRlcGlja2VyLl9wb3N8fChWLmRhdGVwaWNrZXIuX3Bvcz1WLmRhdGVwaWNrZXIuX2ZpbmRQb3ModCksVi5kYXRlcGlja2VyLl9wb3NbMV0rPXQub2Zmc2V0SGVpZ2h0KSxlPSExLFYodCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4hKGV8PSJmaXhlZCI9PT1WKHRoaXMpLmNzcygicG9zaXRpb24iKSl9KSxzPXtsZWZ0OlYuZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpWLmRhdGVwaWNrZXIuX3Bvc1sxXX0sVi5kYXRlcGlja2VyLl9wb3M9bnVsbCxuLmRwRGl2LmVtcHR5KCksbi5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxWLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIobikscz1WLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KG4scyxlKSxuLmRwRGl2LmNzcyh7cG9zaXRpb246Vi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmVi5ibG9ja1VJPyJzdGF0aWMiOmU/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6cy5sZWZ0KyJweCIsdG9wOnMudG9wKyJweCJ9KSxuLmlubGluZXx8KGk9Vi5kYXRlcGlja2VyLl9nZXQobiwic2hvd0FuaW0iKSxzPVYuZGF0ZXBpY2tlci5fZ2V0KG4sImR1cmF0aW9uIiksbi5kcERpdi5jc3MoInotaW5kZXgiLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpO3QubGVuZ3RoJiZ0WzBdIT09ZG9jdW1lbnQ7KXtpZigoImFic29sdXRlIj09PShlPXQuY3NzKCJwb3NpdGlvbiIpKXx8InJlbGF0aXZlIj09PWV8fCJmaXhlZCI9PT1lKSYmKGk9cGFyc2VJbnQodC5jc3MoInpJbmRleCIpLDEwKSwhaXNOYU4oaSkmJjAhPT1pKSlyZXR1cm4gaTt0PXQucGFyZW50KCl9cmV0dXJuIDB9KFYodCkpKzEpLFYuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsVi5lZmZlY3RzJiZWLmVmZmVjdHMuZWZmZWN0W2ldP24uZHBEaXYuc2hvdyhpLFYuZGF0ZXBpY2tlci5fZ2V0KG4sInNob3dPcHRpb25zIikscyk6bi5kcERpdltpfHwic2hvdyJdKGk/czpudWxsKSxWLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQobikmJm4uaW5wdXQudHJpZ2dlcigiZm9jdXMiKSxWLmRhdGVwaWNrZXIuX2N1ckluc3Q9bikpKX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dGhpcy5tYXhSb3dzPTQsKGl0PXQpLmRwRGl2LmVtcHR5KCkuYXBwZW5kKHRoaXMuX2dlbmVyYXRlSFRNTCh0KSksdGhpcy5fYXR0YWNoSGFuZGxlcnModCk7dmFyIGUsaT10aGlzLl9nZXROdW1iZXJPZk1vbnRocyh0KSxzPWlbMV0sbj10LmRwRGl2LmZpbmQoIi4iK3RoaXMuX2RheU92ZXJDbGFzcysiIGEiKSxvPVYuZGF0ZXBpY2tlci5fZ2V0KHQsIm9uVXBkYXRlRGF0ZXBpY2tlciIpOzA8bi5sZW5ndGgmJm90LmFwcGx5KG4uZ2V0KDApKSx0LmRwRGl2LnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNCIpLndpZHRoKCIiKSwxPHMmJnQuZHBEaXYuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktIitzKS5jc3MoIndpZHRoIiwxNypzKyJlbSIpLHQuZHBEaXZbKDEhPT1pWzBdfHwxIT09aVsxXT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItbXVsdGkiKSx0LmRwRGl2Wyh0aGlzLl9nZXQodCwiaXNSVEwiKT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItcnRsIiksdD09PVYuZGF0ZXBpY2tlci5fY3VySW5zdCYmVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmVi5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KHQpJiZ0LmlucHV0LnRyaWdnZXIoImZvY3VzIiksdC55ZWFyc2h0bWwmJihlPXQueWVhcnNodG1sLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPT09dC55ZWFyc2h0bWwmJnQueWVhcnNodG1sJiZ0LmRwRGl2LmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIiKS5maXJzdCgpLnJlcGxhY2VXaXRoKHQueWVhcnNodG1sKSxlPXQueWVhcnNodG1sPW51bGx9LDApKSxvJiZvLmFwcGx5KHQuaW5wdXQ/dC5pbnB1dFswXTpudWxsLFt0XSl9LF9zaG91bGRGb2N1c0lucHV0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmlucHV0JiZ0LmlucHV0LmlzKCI6dmlzaWJsZSIpJiYhdC5pbnB1dC5pcygiOmRpc2FibGVkIikmJiF0LmlucHV0LmlzKCI6Zm9jdXMiKX0sX2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LmRwRGl2Lm91dGVyV2lkdGgoKSxuPXQuZHBEaXYub3V0ZXJIZWlnaHQoKSxvPXQuaW5wdXQ/dC5pbnB1dC5vdXRlcldpZHRoKCk6MCxhPXQuaW5wdXQ/dC5pbnB1dC5vdXRlckhlaWdodCgpOjAscj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgrKGk/MDpWKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkpLGw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCsoaT8wOlYoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTtyZXR1cm4gZS5sZWZ0LT10aGlzLl9nZXQodCwiaXNSVEwiKT9zLW86MCxlLmxlZnQtPWkmJmUubGVmdD09PXQuaW5wdXQub2Zmc2V0KCkubGVmdD9WKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk6MCxlLnRvcC09aSYmZS50b3A9PT10LmlucHV0Lm9mZnNldCgpLnRvcCthP1YoZG9jdW1lbnQpLnNjcm9sbFRvcCgpOjAsZS5sZWZ0LT1NYXRoLm1pbihlLmxlZnQsZS5sZWZ0K3M+ciYmczxyP01hdGguYWJzKGUubGVmdCtzLXIpOjApLGUudG9wLT1NYXRoLm1pbihlLnRvcCxlLnRvcCtuPmwmJm48bD9NYXRoLmFicyhuK2EpOjApLGV9LF9maW5kUG9zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9nZXRJbnN0KHQpLGk9dGhpcy5fZ2V0KGUsImlzUlRMIik7dCYmKCJoaWRkZW4iPT09dC50eXBlfHwxIT09dC5ub2RlVHlwZXx8Vi5leHByLnBzZXVkb3MuaGlkZGVuKHQpKTspdD10W2k/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07cmV0dXJuWyhlPVYodCkub2Zmc2V0KCkpLmxlZnQsZS50b3BdfSxfaGlkZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMuX2N1ckluc3Q7IXN8fHQmJnMhPT1WLmRhdGEodCwiZGF0ZXBpY2tlciIpfHx0aGlzLl9kYXRlcGlja2VyU2hvd2luZyYmKGU9dGhpcy5fZ2V0KHMsInNob3dBbmltIiksaT10aGlzLl9nZXQocywiZHVyYXRpb24iKSx0PWZ1bmN0aW9uKCl7Vi5kYXRlcGlja2VyLl90aWR5RGlhbG9nKHMpfSxWLmVmZmVjdHMmJihWLmVmZmVjdHMuZWZmZWN0W2VdfHxWLmVmZmVjdHNbZV0pP3MuZHBEaXYuaGlkZShlLFYuZGF0ZXBpY2tlci5fZ2V0KHMsInNob3dPcHRpb25zIiksaSx0KTpzLmRwRGl2WyJzbGlkZURvd24iPT09ZT8ic2xpZGVVcCI6ImZhZGVJbiI9PT1lPyJmYWRlT3V0IjoiaGlkZSJdKGU/aTpudWxsLHQpLGV8fHQoKSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMSwodD10aGlzLl9nZXQocywib25DbG9zZSIpKSYmdC5hcHBseShzLmlucHV0P3MuaW5wdXRbMF06bnVsbCxbcy5pbnB1dD9zLmlucHV0LnZhbCgpOiIiLHNdKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCx0aGlzLl9pbkRpYWxvZyYmKHRoaXMuX2RpYWxvZ0lucHV0LmNzcyh7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OiIwIix0b3A6Ii0xMDBweCJ9KSxWLmJsb2NrVUkmJihWLnVuYmxvY2tVSSgpLFYoImJvZHkiKS5hcHBlbmQodGhpcy5kcERpdikpKSx0aGlzLl9pbkRpYWxvZz0hMSl9LF90aWR5RGlhbG9nOmZ1bmN0aW9uKHQpe3QuZHBEaXYucmVtb3ZlQ2xhc3ModGhpcy5fZGlhbG9nQ2xhc3MpLm9mZigiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIiKX0sX2NoZWNrRXh0ZXJuYWxDbGljazpmdW5jdGlvbih0KXt2YXIgZTtWLmRhdGVwaWNrZXIuX2N1ckluc3QmJihlPVYodC50YXJnZXQpLHQ9Vi5kYXRlcGlja2VyLl9nZXRJbnN0KGVbMF0pLChlWzBdLmlkPT09Vi5kYXRlcGlja2VyLl9tYWluRGl2SWR8fDAhPT1lLnBhcmVudHMoIiMiK1YuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGh8fGUuaGFzQ2xhc3MoVi5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSl8fGUuY2xvc2VzdCgiLiIrVi5kYXRlcGlja2VyLl90cmlnZ2VyQ2xhc3MpLmxlbmd0aHx8IVYuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmd8fFYuZGF0ZXBpY2tlci5faW5EaWFsb2cmJlYuYmxvY2tVSSkmJighZS5oYXNDbGFzcyhWLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8Vi5kYXRlcGlja2VyLl9jdXJJbnN0PT09dCl8fFYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSl9LF9hZGp1c3REYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1WKHQpLHQ9dGhpcy5fZ2V0SW5zdChzWzBdKTt0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihzWzBdKXx8KHRoaXMuX2FkanVzdEluc3REYXRlKHQsZSxpKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKHQpKX0sX2dvdG9Ub2RheTpmdW5jdGlvbih0KXt2YXIgZT1WKHQpLGk9dGhpcy5fZ2V0SW5zdChlWzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToodD1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXQuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD10LmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj10LmdldEZ1bGxZZWFyKCkpLHRoaXMuX25vdGlmeUNoYW5nZShpKSx0aGlzLl9hZGp1c3REYXRlKGUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1WKHQpLHQ9dGhpcy5fZ2V0SW5zdChzWzBdKTt0WyJzZWxlY3RlZCIrKCJNIj09PWk/Ik1vbnRoIjoiWWVhciIpXT10WyJkcmF3IisoIk0iPT09aT8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGUub3B0aW9uc1tlLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKSx0aGlzLl9ub3RpZnlDaGFuZ2UodCksdGhpcy5fYWRqdXN0RGF0ZShzKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj1WKHQpO1YocykuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpfHx0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihuWzBdKXx8KChuPXRoaXMuX2dldEluc3QoblswXSkpLnNlbGVjdGVkRGF5PW4uY3VycmVudERheT1wYXJzZUludChWKCJhIixzKS5hdHRyKCJkYXRhLWRhdGUiKSksbi5zZWxlY3RlZE1vbnRoPW4uY3VycmVudE1vbnRoPWUsbi5zZWxlY3RlZFllYXI9bi5jdXJyZW50WWVhcj1pLHRoaXMuX3NlbGVjdERhdGUodCx0aGlzLl9mb3JtYXREYXRlKG4sbi5jdXJyZW50RGF5LG4uY3VycmVudE1vbnRoLG4uY3VycmVudFllYXIpKSl9LF9jbGVhckRhdGU6ZnVuY3Rpb24odCl7dD1WKHQpO3RoaXMuX3NlbGVjdERhdGUodCwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9Vih0KSx0PXRoaXMuX2dldEluc3QoaVswXSk7ZT1udWxsIT1lP2U6dGhpcy5fZm9ybWF0RGF0ZSh0KSx0LmlucHV0JiZ0LmlucHV0LnZhbChlKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUodCksKGk9dGhpcy5fZ2V0KHQsIm9uU2VsZWN0IikpP2kuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW2UsdF0pOnQuaW5wdXQmJnQuaW5wdXQudHJpZ2dlcigiY2hhbmdlIiksdC5pbmxpbmU/dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih0KToodGhpcy5faGlkZURhdGVwaWNrZXIoKSx0aGlzLl9sYXN0SW5wdXQ9dC5pbnB1dFswXSwib2JqZWN0IiE9dHlwZW9mIHQuaW5wdXRbMF0mJnQuaW5wdXQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCl9LF91cGRhdGVBbHRlcm5hdGU6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMuX2dldCh0LCJhbHRGaWVsZCIpO3MmJihlPXRoaXMuX2dldCh0LCJhbHRGb3JtYXQiKXx8dGhpcy5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpPXRoaXMuX2dldERhdGUodCksdD10aGlzLmZvcm1hdERhdGUoZSxpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSksVihkb2N1bWVudCkuZmluZChzKS52YWwodCkpfSxub1dlZWtlbmRzOmZ1bmN0aW9uKHQpe3Q9dC5nZXREYXkoKTtyZXR1cm5bMDx0JiZ0PDYsIiJdfSxpc284NjAxV2VlazpmdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZSh0LmdldFRpbWUoKSk7cmV0dXJuIGUuc2V0RGF0ZShlLmdldERhdGUoKSs0LShlLmdldERheSgpfHw3KSksdD1lLmdldFRpbWUoKSxlLnNldE1vbnRoKDApLGUuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKHQtZSkvODY0ZTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbihlLG4sdCl7aWYobnVsbD09ZXx8bnVsbD09bil0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7aWYoIiI9PT0obj0ib2JqZWN0Ij09dHlwZW9mIG4/bi50b1N0cmluZygpOm4rIiIpKXJldHVybiBudWxsO2Zvcih2YXIgaSxzLG8sYT0wLHI9KHQ/dC5zaG9ydFllYXJDdXRvZmY6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixyPSJzdHJpbmciIT10eXBlb2Ygcj9yOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQociwxMCksbD0odD90LmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsaD0odD90LmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxjPSh0P3QubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQsdT0odD90Lm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsZD0tMSxwPS0xLGY9LTEsZz0tMSxtPSExLF89ZnVuY3Rpb24odCl7dD13KzE8ZS5sZW5ndGgmJmUuY2hhckF0KHcrMSk9PT10O3JldHVybiB0JiZ3KyssdH0sdj1mdW5jdGlvbih0KXt2YXIgZT1fKHQpLGU9IkAiPT09dD8xNDoiISI9PT10PzIwOiJ5Ij09PXQmJmU/NDoibyI9PT10PzM6MixlPW5ldyBSZWdFeHAoIl5cXGR7IisoInkiPT09dD9lOjEpKyIsIitlKyJ9IiksZT1uLnN1YnN0cmluZyhhKS5tYXRjaChlKTtpZighZSl0aHJvdyJNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiAiK2E7cmV0dXJuIGErPWVbMF0ubGVuZ3RoLHBhcnNlSW50KGVbMF0sMTApfSxiPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0tMSxlPVYubWFwKF8odCk/aTplLGZ1bmN0aW9uKHQsZSl7cmV0dXJuW1tlLHRdXX0pLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4tKHRbMV0ubGVuZ3RoLWVbMV0ubGVuZ3RoKX0pO2lmKFYuZWFjaChlLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZVsxXTtpZihuLnN1YnN0cihhLGkubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09aS50b0xvd2VyQ2FzZSgpKXJldHVybiBzPWVbMF0sYSs9aS5sZW5ndGgsITF9KSwtMSE9PXMpcmV0dXJuIHMrMTt0aHJvdyJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gIithfSx5PWZ1bmN0aW9uKCl7aWYobi5jaGFyQXQoYSkhPT1lLmNoYXJBdCh3KSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIithO2ErK30sdz0wO3c8ZS5sZW5ndGg7dysrKWlmKG0pIiciIT09ZS5jaGFyQXQodyl8fF8oIiciKT95KCk6bT0hMTtlbHNlIHN3aXRjaChlLmNoYXJBdCh3KSl7Y2FzZSJkIjpmPXYoImQiKTticmVhaztjYXNlIkQiOmIoIkQiLGwsaCk7YnJlYWs7Y2FzZSJvIjpnPXYoIm8iKTticmVhaztjYXNlIm0iOnA9digibSIpO2JyZWFrO2Nhc2UiTSI6cD1iKCJNIixjLHUpO2JyZWFrO2Nhc2UieSI6ZD12KCJ5Iik7YnJlYWs7Y2FzZSJAIjpkPShvPW5ldyBEYXRlKHYoIkAiKSkpLmdldEZ1bGxZZWFyKCkscD1vLmdldE1vbnRoKCkrMSxmPW8uZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiISI6ZD0obz1uZXcgRGF0ZSgodigiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpKS5nZXRGdWxsWWVhcigpLHA9by5nZXRNb250aCgpKzEsZj1vLmdldERhdGUoKTticmVhaztjYXNlIiciOl8oIiciKT95KCk6bT0hMDticmVhaztkZWZhdWx0OnkoKX1pZihhPG4ubGVuZ3RoJiYocz1uLnN1YnN0cihhKSwhL15ccysvLnRlc3QocykpKXRocm93IkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogIitzO2lmKC0xPT09ZD9kPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTpkPDEwMCYmKGQrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhkPD1yPzA6LTEwMCkpLC0xPGcpZm9yKHA9MSxmPWc7Oyl7aWYoZjw9KGk9dGhpcy5fZ2V0RGF5c0luTW9udGgoZCxwLTEpKSlicmVhaztwKyssZi09aX1pZigobz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkLHAtMSxmKSkpLmdldEZ1bGxZZWFyKCkhPT1kfHxvLmdldE1vbnRoKCkrMSE9PXB8fG8uZ2V0RGF0ZSgpIT09Zil0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiBvfSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDoyNCooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpKjYwKjYwKjFlNyxmb3JtYXREYXRlOmZ1bmN0aW9uKGUsdCxpKXtpZighdClyZXR1cm4iIjtmdW5jdGlvbiBzKHQsZSxpKXt2YXIgcz0iIitlO2lmKGModCkpZm9yKDtzLmxlbmd0aDxpOylzPSIwIitzO3JldHVybiBzfWZ1bmN0aW9uIG4odCxlLGkscyl7cmV0dXJuKGModCk/czppKVtlXX12YXIgbyxhPShpP2kuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxyPShpP2kuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLGw9KGk/aS5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxoPShpP2kubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxjPWZ1bmN0aW9uKHQpe3Q9bysxPGUubGVuZ3RoJiZlLmNoYXJBdChvKzEpPT09dDtyZXR1cm4gdCYmbysrLHR9LHU9IiIsZD0hMTtpZih0KWZvcihvPTA7bzxlLmxlbmd0aDtvKyspaWYoZCkiJyIhPT1lLmNoYXJBdChvKXx8YygiJyIpP3UrPWUuY2hhckF0KG8pOmQ9ITE7ZWxzZSBzd2l0Y2goZS5jaGFyQXQobykpe2Nhc2UiZCI6dSs9cygiZCIsdC5nZXREYXRlKCksMik7YnJlYWs7Y2FzZSJEIjp1Kz1uKCJEIix0LmdldERheSgpLGEscik7YnJlYWs7Y2FzZSJvIjp1Kz1zKCJvIixNYXRoLnJvdW5kKChuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpLHQuZ2V0RGF0ZSgpKS5nZXRUaW1lKCktbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsMCkuZ2V0VGltZSgpKS84NjRlNSksMyk7YnJlYWs7Y2FzZSJtIjp1Kz1zKCJtIix0LmdldE1vbnRoKCkrMSwyKTticmVhaztjYXNlIk0iOnUrPW4oIk0iLHQuZ2V0TW9udGgoKSxsLGgpO2JyZWFrO2Nhc2UieSI6dSs9YygieSIpP3QuZ2V0RnVsbFllYXIoKToodC5nZXRGdWxsWWVhcigpJTEwMDwxMD8iMCI6IiIpK3QuZ2V0RnVsbFllYXIoKSUxMDA7YnJlYWs7Y2FzZSJAIjp1Kz10LmdldFRpbWUoKTticmVhaztjYXNlIiEiOnUrPTFlNCp0LmdldFRpbWUoKSt0aGlzLl90aWNrc1RvMTk3MDticmVhaztjYXNlIiciOmMoIiciKT91Kz0iJyI6ZD0hMDticmVhaztkZWZhdWx0OnUrPWUuY2hhckF0KG8pfXJldHVybiB1fSxfcG9zc2libGVDaGFyczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIsaT0hMSxzPWZ1bmN0aW9uKHQpe3Q9bisxPGUubGVuZ3RoJiZlLmNoYXJBdChuKzEpPT09dDtyZXR1cm4gdCYmbisrLHR9LG49MDtuPGUubGVuZ3RoO24rKylpZihpKSInIiE9PWUuY2hhckF0KG4pfHxzKCInIik/dCs9ZS5jaGFyQXQobik6aT0hMTtlbHNlIHN3aXRjaChlLmNoYXJBdChuKSl7Y2FzZSJkIjpjYXNlIm0iOmNhc2UieSI6Y2FzZSJAIjp0Kz0iMDEyMzQ1Njc4OSI7YnJlYWs7Y2FzZSJEIjpjYXNlIk0iOnJldHVybiBudWxsO2Nhc2UiJyI6cygiJyIpP3QrPSInIjppPSEwO2JyZWFrO2RlZmF1bHQ6dCs9ZS5jaGFyQXQobil9cmV0dXJuIHR9LF9nZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4odm9pZCAwIT09dC5zZXR0aW5nc1tlXT90LnNldHRpbmdzOnRoaXMuX2RlZmF1bHRzKVtlXX0sX3NldERhdGVGcm9tRmllbGQ6ZnVuY3Rpb24odCxlKXtpZih0LmlucHV0LnZhbCgpIT09dC5sYXN0VmFsKXt2YXIgaT10aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHM9dC5sYXN0VmFsPXQuaW5wdXQ/dC5pbnB1dC52YWwoKTpudWxsLG49dGhpcy5fZ2V0RGVmYXVsdERhdGUodCksbz1uLGE9dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpO3RyeXtvPXRoaXMucGFyc2VEYXRlKGkscyxhKXx8bn1jYXRjaCh0KXtzPWU/IiI6c310LnNlbGVjdGVkRGF5PW8uZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD1vLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj1vLmdldEZ1bGxZZWFyKCksdC5jdXJyZW50RGF5PXM/by5nZXREYXRlKCk6MCx0LmN1cnJlbnRNb250aD1zP28uZ2V0TW9udGgoKTowLHQuY3VycmVudFllYXI9cz9vLmdldEZ1bGxZZWFyKCk6MCx0aGlzLl9hZGp1c3RJbnN0RGF0ZSh0KX19LF9nZXREZWZhdWx0RGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kZXRlcm1pbmVEYXRlKHQsdGhpcy5fZ2V0KHQsImRlZmF1bHREYXRlIiksbmV3IERhdGUpKX0sX2RldGVybWluZURhdGU6ZnVuY3Rpb24ocix0LGUpe3ZhciBpLHMsdD1udWxsPT10fHwiIj09PXQ/ZToic3RyaW5nIj09dHlwZW9mIHQ/ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBWLmRhdGVwaWNrZXIucGFyc2VEYXRlKFYuZGF0ZXBpY2tlci5fZ2V0KHIsImRhdGVGb3JtYXQiKSx0LFYuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHIpKX1jYXRjaCh0KXt9Zm9yKHZhciBlPSh0LnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/Vi5kYXRlcGlja2VyLl9nZXREYXRlKHIpOm51bGwpfHxuZXcgRGF0ZSxpPWUuZ2V0RnVsbFllYXIoKSxzPWUuZ2V0TW9udGgoKSxuPWUuZ2V0RGF0ZSgpLG89LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csYT1vLmV4ZWModCk7YTspe3N3aXRjaChhWzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpuKz1wYXJzZUludChhWzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6bis9NypwYXJzZUludChhWzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6cys9cGFyc2VJbnQoYVsxXSwxMCksbj1NYXRoLm1pbihuLFYuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoaSxzKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmkrPXBhcnNlSW50KGFbMV0sMTApLG49TWF0aC5taW4obixWLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGkscykpfWE9by5leGVjKHQpfXJldHVybiBuZXcgRGF0ZShpLHMsbil9KHQpOiJudW1iZXIiPT10eXBlb2YgdD9pc05hTih0KT9lOihpPXQsKHM9bmV3IERhdGUpLnNldERhdGUocy5nZXREYXRlKCkraSkscyk6bmV3IERhdGUodC5nZXRUaW1lKCkpO3JldHVybih0PXQmJiJJbnZhbGlkIERhdGUiPT09dC50b1N0cmluZygpP2U6dCkmJih0LnNldEhvdXJzKDApLHQuc2V0TWludXRlcygwKSx0LnNldFNlY29uZHMoMCksdC5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHQpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHQuc2V0SG91cnMoMTI8dC5nZXRIb3VycygpP3QuZ2V0SG91cnMoKSsyOjApLHQpOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0hZSxuPXQuc2VsZWN0ZWRNb250aCxvPXQuc2VsZWN0ZWRZZWFyLGU9dGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kZXRlcm1pbmVEYXRlKHQsZSxuZXcgRGF0ZSkpO3Quc2VsZWN0ZWREYXk9dC5jdXJyZW50RGF5PWUuZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD10LmN1cnJlbnRNb250aD1lLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj10LmN1cnJlbnRZZWFyPWUuZ2V0RnVsbFllYXIoKSxuPT09dC5zZWxlY3RlZE1vbnRoJiZvPT09dC5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZSh0KSx0aGlzLl9hZGp1c3RJbnN0RGF0ZSh0KSx0LmlucHV0JiZ0LmlucHV0LnZhbChzPyIiOnRoaXMuX2Zvcm1hdERhdGUodCkpfSxfZ2V0RGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4hdC5jdXJyZW50WWVhcnx8dC5pbnB1dCYmIiI9PT10LmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIiksaT0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7Vi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGksLWUsIk0iKX0sbmV4dDpmdW5jdGlvbigpe1YuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLCtlLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtWLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7Vi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaSl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBWLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIFYuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIFYuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiWSIpLCExfX07Vih0aGlzKS5vbih0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvLGEscixsLGgsYyx1LGQscCxmLGcsbSxfLHYsYix5LHcseCxrLEMsRCxJLFQsUCxNLFMsSCx6LEE9bmV3IERhdGUsTz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShBLmdldEZ1bGxZZWFyKCksQS5nZXRNb250aCgpLEEuZ2V0RGF0ZSgpKSksTj10aGlzLl9nZXQodCwiaXNSVEwiKSxFPXRoaXMuX2dldCh0LCJzaG93QnV0dG9uUGFuZWwiKSxXPXRoaXMuX2dldCh0LCJoaWRlSWZOb1ByZXZOZXh0IiksRj10aGlzLl9nZXQodCwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCIpLEw9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksUj10aGlzLl9nZXQodCwic2hvd0N1cnJlbnRBdFBvcyIpLEE9dGhpcy5fZ2V0KHQsInN0ZXBNb250aHMiKSxZPTEhPT1MWzBdfHwxIT09TFsxXSxCPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHQuY3VycmVudERheT9uZXcgRGF0ZSh0LmN1cnJlbnRZZWFyLHQuY3VycmVudE1vbnRoLHQuY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSxqPXRoaXMuX2dldE1pbk1heERhdGUodCwibWluIikscT10aGlzLl9nZXRNaW5NYXhEYXRlKHQsIm1heCIpLEs9dC5kcmF3TW9udGgtUixVPXQuZHJhd1llYXI7aWYoSzwwJiYoSys9MTIsVS0tKSxxKWZvcihlPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHEuZ2V0RnVsbFllYXIoKSxxLmdldE1vbnRoKCktTFswXSpMWzFdKzEscS5nZXREYXRlKCkpKSxlPWomJmU8aj9qOmU7dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLLDEpKT5lOyktLUs8MCYmKEs9MTEsVS0tKTtmb3IodC5kcmF3TW9udGg9Syx0LmRyYXdZZWFyPVUsUj10aGlzLl9nZXQodCwicHJldlRleHQiKSxSPUY/dGhpcy5mb3JtYXREYXRlKFIsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLLUEsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6UixpPXRoaXMuX2NhbkFkanVzdE1vbnRoKHQsLTEsVSxLKT9WKCI8YT4iKS5hdHRyKHtjbGFzczoidWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwiLCJkYXRhLWhhbmRsZXIiOiJwcmV2IiwiZGF0YS1ldmVudCI6ImNsaWNrIix0aXRsZTpSfSkuYXBwZW5kKFYoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKE4/ImUiOiJ3IikpLnRleHQoUikpWzBdLm91dGVySFRNTDpXPyIiOlYoIjxhPiIpLmF0dHIoe2NsYXNzOiJ1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCIsdGl0bGU6Un0pLmFwcGVuZChWKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhOPyJlIjoidyIpKS50ZXh0KFIpKVswXS5vdXRlckhUTUwsUj10aGlzLl9nZXQodCwibmV4dFRleHQiKSxSPUY/dGhpcy5mb3JtYXREYXRlKFIsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLK0EsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6UixzPXRoaXMuX2NhbkFkanVzdE1vbnRoKHQsMSxVLEspP1YoIjxhPiIpLmF0dHIoe2NsYXNzOiJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCIsImRhdGEtaGFuZGxlciI6Im5leHQiLCJkYXRhLWV2ZW50IjoiY2xpY2siLHRpdGxlOlJ9KS5hcHBlbmQoVigiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisoTj8idyI6ImUiKSkudGV4dChSKSlbMF0ub3V0ZXJIVE1MOlc/IiI6VigiPGE+IikuYXR0cih7Y2xhc3M6InVpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkIix0aXRsZTpSfSkuYXBwZW5kKFYoIjxzcGFuPiIpLmF0dHIoImNsYXNzIiwidWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhOPyJ3IjoiZSIpKS50ZXh0KFIpKVswXS5vdXRlckhUTUwsQT10aGlzLl9nZXQodCwiY3VycmVudFRleHQiKSxXPXRoaXMuX2dldCh0LCJnb3RvQ3VycmVudCIpJiZ0LmN1cnJlbnREYXk/QjpPLEE9Rj90aGlzLmZvcm1hdERhdGUoQSxXLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6QSxSPSIiLHQuaW5saW5lfHwoUj1WKCI8YnV0dG9uPiIpLmF0dHIoe3R5cGU6ImJ1dHRvbiIsY2xhc3M6InVpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwiLCJkYXRhLWhhbmRsZXIiOiJoaWRlIiwiZGF0YS1ldmVudCI6ImNsaWNrIn0pLnRleHQodGhpcy5fZ2V0KHQsImNsb3NlVGV4dCIpKVswXS5vdXRlckhUTUwpLEY9IiIsRSYmKEY9VigiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKS5hcHBlbmQoTj9SOiIiKS5hcHBlbmQodGhpcy5faXNJblJhbmdlKHQsVyk/VigiPGJ1dHRvbj4iKS5hdHRyKHt0eXBlOiJidXR0b24iLGNsYXNzOiJ1aS1kYXRlcGlja2VyLWN1cnJlbnQgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1zZWNvbmRhcnkgdWktY29ybmVyLWFsbCIsImRhdGEtaGFuZGxlciI6InRvZGF5IiwiZGF0YS1ldmVudCI6ImNsaWNrIn0pLnRleHQoQSk6IiIpLmFwcGVuZChOPyIiOlIpWzBdLm91dGVySFRNTCksbj1wYXJzZUludCh0aGlzLl9nZXQodCwiZmlyc3REYXkiKSwxMCksbj1pc05hTihuKT8wOm4sbz10aGlzLl9nZXQodCwic2hvd1dlZWsiKSxhPXRoaXMuX2dldCh0LCJkYXlOYW1lcyIpLHI9dGhpcy5fZ2V0KHQsImRheU5hbWVzTWluIiksbD10aGlzLl9nZXQodCwibW9udGhOYW1lcyIpLGg9dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXNTaG9ydCIpLGM9dGhpcy5fZ2V0KHQsImJlZm9yZVNob3dEYXkiKSx1PXRoaXMuX2dldCh0LCJzaG93T3RoZXJNb250aHMiKSxkPXRoaXMuX2dldCh0LCJzZWxlY3RPdGhlck1vbnRocyIpLHA9dGhpcy5fZ2V0RGVmYXVsdERhdGUodCksZj0iIixtPTA7bTxMWzBdO20rKyl7Zm9yKF89IiIsdGhpcy5tYXhSb3dzPTQsdj0wO3Y8TFsxXTt2Kyspe2lmKGI9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLLHQuc2VsZWN0ZWREYXkpKSx5PSIgdWktY29ybmVyLWFsbCIsdz0iIixZKXtpZih3Kz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1ncm91cCIsMTxMWzFdKXN3aXRjaCh2KXtjYXNlIDA6dys9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWZpcnN0Iix5PSIgdWktY29ybmVyLSIrKE4/InJpZ2h0IjoibGVmdCIpO2JyZWFrO2Nhc2UgTFsxXS0xOncrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0Iix5PSIgdWktY29ybmVyLSIrKE4/ImxlZnQiOiJyaWdodCIpO2JyZWFrO2RlZmF1bHQ6dys9IiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSIseT0iIn13Kz0iJz4ifWZvcih3Kz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgiK3krIic+IisoL2FsbHxsZWZ0Ly50ZXN0KHkpJiYwPT09bT9OP3M6aToiIikrKC9hbGx8cmlnaHQvLnRlc3QoeSkmJjA9PT1tP04/aTpzOiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcih0LEssVSxqLHEsMDxtfHwwPHYsbCxoKSsiPC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIseD1vPyI8dGggY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPiIrdGhpcy5fZ2V0KHQsIndlZWtIZWFkZXIiKSsiPC90aD4iOiIiLGc9MDtnPDc7ZysrKXgrPSI8dGggc2NvcGU9J2NvbCciKyg1PD0oZytuKzYpJTc/IiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCciOiIiKSsiPjxzcGFuIHRpdGxlPSciK2Fbaz0oZytuKSU3XSsiJz4iK3Jba10rIjwvc3Bhbj48L3RoPiI7Zm9yKHcrPXgrIjwvdHI+PC90aGVhZD48dGJvZHk+IixEPXRoaXMuX2dldERheXNJbk1vbnRoKFUsSyksVT09PXQuc2VsZWN0ZWRZZWFyJiZLPT09dC5zZWxlY3RlZE1vbnRoJiYodC5zZWxlY3RlZERheT1NYXRoLm1pbih0LnNlbGVjdGVkRGF5LEQpKSxDPSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgoVSxLKS1uKzcpJTcsRD1NYXRoLmNlaWwoKEMrRCkvNyksST1ZJiZ0aGlzLm1heFJvd3M+RD90aGlzLm1heFJvd3M6RCx0aGlzLm1heFJvd3M9SSxUPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKFUsSywxLUMpKSxQPTA7UDxJO1ArKyl7Zm9yKHcrPSI8dHI+IixNPW8/Ijx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQodCwiY2FsY3VsYXRlV2VlayIpKFQpKyI8L3RkPiI6IiIsZz0wO2c8NztnKyspUz1jP2MuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW1RdKTpbITAsIiJdLHo9KEg9VC5nZXRNb250aCgpIT09SykmJiFkfHwhU1swXXx8aiYmVDxqfHxxJiZxPFQsTSs9Ijx0ZCBjbGFzcz0nIisoNTw9KGcrbis2KSU3PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhIPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhULmdldFRpbWUoKT09PWIuZ2V0VGltZSgpJiZLPT09dC5zZWxlY3RlZE1vbnRoJiZ0Ll9rZXlFdmVudHx8cC5nZXRUaW1lKCk9PT1ULmdldFRpbWUoKSYmcC5nZXRUaW1lKCk9PT1iLmdldFRpbWUoKT8iICIrdGhpcy5fZGF5T3ZlckNsYXNzOiIiKSsoej8iICIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrIiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhIJiYhdT8iIjoiICIrU1sxXSsoVC5nZXRUaW1lKCk9PT1CLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoVC5nZXRUaW1lKCk9PT1PLmdldFRpbWUoKT8iIHVpLWRhdGVwaWNrZXItdG9kYXkiOiIiKSkrIiciKyhIJiYhdXx8IVNbMl0/IiI6IiB0aXRsZT0nIitTWzJdLnJlcGxhY2UoLycvZywiJiMzOTsiKSsiJyIpKyh6PyIiOiIgZGF0YS1oYW5kbGVyPSdzZWxlY3REYXknIGRhdGEtZXZlbnQ9J2NsaWNrJyBkYXRhLW1vbnRoPSciK1QuZ2V0TW9udGgoKSsiJyBkYXRhLXllYXI9JyIrVC5nZXRGdWxsWWVhcigpKyInIikrIj4iKyhIJiYhdT8iJiN4YTA7Ijp6PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitULmdldERhdGUoKSsiPC9zcGFuPiI6IjxhIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0IisoVC5nZXRUaW1lKCk9PT1PLmdldFRpbWUoKT8iIHVpLXN0YXRlLWhpZ2hsaWdodCI6IiIpKyhULmdldFRpbWUoKT09PUIuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKEg/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJyBhcmlhLWN1cnJlbnQ9JyIrKFQuZ2V0VGltZSgpPT09Qi5nZXRUaW1lKCk/InRydWUiOiJmYWxzZSIpKyInIGRhdGEtZGF0ZT0nIitULmdldERhdGUoKSsiJz4iK1QuZ2V0RGF0ZSgpKyI8L2E+IikrIjwvdGQ+IixULnNldERhdGUoVC5nZXREYXRlKCkrMSksVD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChUKTt3Kz1NKyI8L3RyPiJ9MTE8KytLJiYoSz0wLFUrKyksXys9dys9IjwvdGJvZHk+PC90YWJsZT4iKyhZPyI8L2Rpdj4iKygwPExbMF0mJnY9PT1MWzFdLTE/IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItcm93LWJyZWFrJz48L2Rpdj4iOiIiKToiIil9Zis9X31yZXR1cm4gZis9Rix0Ll9rZXlFdmVudD0hMSxmfSxfZ2VuZXJhdGVNb250aFllYXJIZWFkZXI6ZnVuY3Rpb24odCxlLGkscyxuLG8sYSxyKXt2YXIgbCxoLGMsdSxkLHAsZj10aGlzLl9nZXQodCwiY2hhbmdlTW9udGgiKSxnPXRoaXMuX2dldCh0LCJjaGFuZ2VZZWFyIiksbT10aGlzLl9nZXQodCwic2hvd01vbnRoQWZ0ZXJZZWFyIiksXz10aGlzLl9nZXQodCwic2VsZWN0TW9udGhMYWJlbCIpLHY9dGhpcy5fZ2V0KHQsInNlbGVjdFllYXJMYWJlbCIpLGI9IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItdGl0bGUnPiIseT0iIjtpZihvfHwhZil5Kz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXItbW9udGgnPiIrYVtlXSsiPC9zcGFuPiI7ZWxzZXtmb3IobD1zJiZzLmdldEZ1bGxZZWFyKCk9PT1pLGg9biYmbi5nZXRGdWxsWWVhcigpPT09aSx5Kz0iPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCcgYXJpYS1sYWJlbD0nIitfKyInIGRhdGEtaGFuZGxlcj0nc2VsZWN0TW9udGgnIGRhdGEtZXZlbnQ9J2NoYW5nZSc+IixjPTA7YzwxMjtjKyspKCFsfHxjPj1zLmdldE1vbnRoKCkpJiYoIWh8fGM8PW4uZ2V0TW9udGgoKSkmJih5Kz0iPG9wdGlvbiB2YWx1ZT0nIitjKyInIisoYz09PWU/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK3JbY10rIjwvb3B0aW9uPiIpO3krPSI8L3NlbGVjdD4ifWlmKG18fChiKz15KyghbyYmZiYmZz8iIjoiJiN4YTA7IikpLCF0LnllYXJzaHRtbClpZih0LnllYXJzaHRtbD0iIixvfHwhZyliKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+IitpKyI8L3NwYW4+IjtlbHNle2ZvcihhPXRoaXMuX2dldCh0LCJ5ZWFyUmFuZ2UiKS5zcGxpdCgiOiIpLHU9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLGQ9KF89ZnVuY3Rpb24odCl7dD10Lm1hdGNoKC9jWytcLV0uKi8pP2krcGFyc2VJbnQodC5zdWJzdHJpbmcoMSksMTApOnQubWF0Y2goL1srXC1dLiovKT91K3BhcnNlSW50KHQsMTApOnBhcnNlSW50KHQsMTApO3JldHVybiBpc05hTih0KT91OnR9KShhWzBdKSxwPU1hdGgubWF4KGQsXyhhWzFdfHwiIikpLGQ9cz9NYXRoLm1heChkLHMuZ2V0RnVsbFllYXIoKSk6ZCxwPW4/TWF0aC5taW4ocCxuLmdldEZ1bGxZZWFyKCkpOnAsdC55ZWFyc2h0bWwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInIGFyaWEtbGFiZWw9JyIrdisiJyBkYXRhLWhhbmRsZXI9J3NlbGVjdFllYXInIGRhdGEtZXZlbnQ9J2NoYW5nZSc+IjtkPD1wO2QrKyl0LnllYXJzaHRtbCs9IjxvcHRpb24gdmFsdWU9JyIrZCsiJyIrKGQ9PT1pPyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitkKyI8L29wdGlvbj4iO3QueWVhcnNodG1sKz0iPC9zZWxlY3Q+IixiKz10LnllYXJzaHRtbCx0LnllYXJzaHRtbD1udWxsfXJldHVybiBiKz10aGlzLl9nZXQodCwieWVhclN1ZmZpeCIpLG0mJihiKz0oIW8mJmYmJmc/IiI6IiYjeGEwOyIpK3kpLGIrPSI8L2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuc2VsZWN0ZWRZZWFyKygiWSI9PT1pP2U6MCksbj10LnNlbGVjdGVkTW9udGgrKCJNIj09PWk/ZTowKSxlPU1hdGgubWluKHQuc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgocyxuKSkrKCJEIj09PWk/ZTowKSxlPXRoaXMuX3Jlc3RyaWN0TWluTWF4KHQsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocyxuLGUpKSk7dC5zZWxlY3RlZERheT1lLmdldERhdGUoKSx0LmRyYXdNb250aD10LnNlbGVjdGVkTW9udGg9ZS5nZXRNb250aCgpLHQuZHJhd1llYXI9dC5zZWxlY3RlZFllYXI9ZS5nZXRGdWxsWWVhcigpLCJNIiE9PWkmJiJZIiE9PWl8fHRoaXMuX25vdGlmeUNoYW5nZSh0KX0sX3Jlc3RyaWN0TWluTWF4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtaW4iKSx0PXRoaXMuX2dldE1pbk1heERhdGUodCwibWF4IiksZT1pJiZlPGk/aTplO3JldHVybiB0JiZ0PGU/dDplfSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldCh0LCJvbkNoYW5nZU1vbnRoWWVhciIpO2UmJmUuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW3Quc2VsZWN0ZWRZZWFyLHQuc2VsZWN0ZWRNb250aCsxLHRdKX0sX2dldE51bWJlck9mTW9udGhzOmZ1bmN0aW9uKHQpe3Q9dGhpcy5fZ2V0KHQsIm51bWJlck9mTW9udGhzIik7cmV0dXJuIG51bGw9PXQ/WzEsMV06Im51bWJlciI9PXR5cGVvZiB0P1sxLHRdOnR9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUodCx0aGlzLl9nZXQodCxlKyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbih0LGUpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0LGUsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IERhdGUodCxlLDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksbj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHMrKGU8MD9lOm5bMF0qblsxXSksMSkpO3JldHVybiBlPDAmJm4uc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aChuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKHQsbil9LF9pc0luUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKHQsIm1pbiIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtYXgiKSxuPW51bGwsbz1udWxsLGE9dGhpcy5fZ2V0KHQsInllYXJSYW5nZSIpO3JldHVybiBhJiYodD1hLnNwbGl0KCI6IiksYT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksbj1wYXJzZUludCh0WzBdLDEwKSxvPXBhcnNlSW50KHRbMV0sMTApLHRbMF0ubWF0Y2goL1srXC1dLiovKSYmKG4rPWEpLHRbMV0ubWF0Y2goL1srXC1dLiovKSYmKG8rPWEpKSwoIWl8fGUuZ2V0VGltZSgpPj1pLmdldFRpbWUoKSkmJighc3x8ZS5nZXRUaW1lKCk8PXMuZ2V0VGltZSgpKSYmKCFufHxlLmdldEZ1bGxZZWFyKCk+PW4pJiYoIW98fGUuZ2V0RnVsbFllYXIoKTw9byl9LF9nZXRGb3JtYXRDb25maWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0KHQsInNob3J0WWVhckN1dG9mZiIpO3JldHVybntzaG9ydFllYXJDdXRvZmY6ZT0ic3RyaW5nIiE9dHlwZW9mIGU/ZToobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KGUsMTApLGRheU5hbWVzU2hvcnQ6dGhpcy5fZ2V0KHQsImRheU5hbWVzU2hvcnQiKSxkYXlOYW1lczp0aGlzLl9nZXQodCwiZGF5TmFtZXMiKSxtb250aE5hbWVzU2hvcnQ6dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXNTaG9ydCIpLG1vbnRoTmFtZXM6dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXMiKX19LF9mb3JtYXREYXRlOmZ1bmN0aW9uKHQsZSxpLHMpe2V8fCh0LmN1cnJlbnREYXk9dC5zZWxlY3RlZERheSx0LmN1cnJlbnRNb250aD10LnNlbGVjdGVkTW9udGgsdC5jdXJyZW50WWVhcj10LnNlbGVjdGVkWWVhcik7ZT1lPyJvYmplY3QiPT10eXBlb2YgZT9lOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHMsaSxlKSk6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKTtyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0IiksZSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpfX0pLFYuZm4uZGF0ZXBpY2tlcj1mdW5jdGlvbih0KXtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7Vi5kYXRlcGlja2VyLmluaXRpYWxpemVkfHwoVihkb2N1bWVudCkub24oIm1vdXNlZG93biIsVi5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLFYuZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMCksMD09PVYoIiMiK1YuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGgmJlYoImJvZHkiKS5hcHBlbmQoVi5kYXRlcGlja2VyLmRwRGl2KTt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYoImlzRGlzYWJsZWQiPT09dHx8ImdldERhdGUiPT09dHx8IndpZGdldCI9PT10KXx8Im9wdGlvbiI9PT10JiYyPT09YXJndW1lbnRzLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBhcmd1bWVudHNbMV0/Vi5kYXRlcGlja2VyWyJfIit0KyJEYXRlcGlja2VyIl0uYXBwbHkoVi5kYXRlcGlja2VyLFt0aGlzWzBdXS5jb25jYXQoZSkpOnRoaXMuZWFjaChmdW5jdGlvbigpeyJzdHJpbmciPT10eXBlb2YgdD9WLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShWLmRhdGVwaWNrZXIsW3RoaXNdLmNvbmNhdChlKSk6Vi5kYXRlcGlja2VyLl9hdHRhY2hEYXRlcGlja2VyKHRoaXMsdCl9KX0sVi5kYXRlcGlja2VyPW5ldyBzdCxWLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITEsVi5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksVi5kYXRlcGlja2VyLnZlcnNpb249IjEuMTMuMiI7Vi5kYXRlcGlja2VyLFYudWkuaWU9ISEvbXNpZSBbXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTt2YXIgcnQ9ITE7Vihkb2N1bWVudCkub24oIm1vdXNldXAiLGZ1bmN0aW9uKCl7cnQ9ITF9KTtWLndpZGdldCgidWkubW91c2UiLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2NhbmNlbDoiaW5wdXQsIHRleHRhcmVhLCBidXR0b24sIHNlbGVjdCwgb3B0aW9uIixkaXN0YW5jZToxLGRlbGF5OjB9LF9tb3VzZUluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZWxlbWVudC5vbigibW91c2Vkb3duLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9tb3VzZURvd24odCl9KS5vbigiY2xpY2suIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24odCl7aWYoITA9PT1WLmRhdGEodC50YXJnZXQsZS53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSlyZXR1cm4gVi5yZW1vdmVEYXRhKHQudGFyZ2V0LGUud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMX0pLHRoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi4iK3RoaXMud2lkZ2V0TmFtZSksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9mZigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFydCl7dGhpcy5fbW91c2VNb3ZlZD0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQmJnRoaXMuX21vdXNlVXAodCksdGhpcy5fbW91c2VEb3duRXZlbnQ9dDt2YXIgZT10aGlzLGk9MT09PXQud2hpY2gscz0hKCJzdHJpbmciIT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbHx8IXQudGFyZ2V0Lm5vZGVOYW1lKSYmVih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg7cmV0dXJuIGkmJiFzJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPSExIT09dGhpcy5fbW91c2VTdGFydCh0KSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1WLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmVi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuX21vdXNlTW92ZSh0KX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlLl9tb3VzZVVwKHQpfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLHJ0PSEwKSk6ITB9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX21vdXNlTW92ZWQpe2lmKFYudWkuaWUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxkb2N1bWVudC5kb2N1bWVudE1vZGU8OSkmJiF0LmJ1dHRvbilyZXR1cm4gdGhpcy5fbW91c2VVcCh0KTtpZighdC53aGljaClpZih0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5fHx0Lm9yaWdpbmFsRXZlbnQuY3RybEtleXx8dC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXl8fHQub3JpZ2luYWxFdmVudC5zaGlmdEtleSl0aGlzLmlnbm9yZU1pc3NpbmdXaGljaD0hMDtlbHNlIGlmKCF0aGlzLmlnbm9yZU1pc3NpbmdXaGljaClyZXR1cm4gdGhpcy5fbW91c2VVcCh0KX1yZXR1cm4odC53aGljaHx8dC5idXR0b24pJiYodGhpcy5fbW91c2VNb3ZlZD0hMCksdGhpcy5fbW91c2VTdGFydGVkPyh0aGlzLl9tb3VzZURyYWcodCksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fbW91c2VEaXN0YW5jZU1ldCh0KSYmdGhpcy5fbW91c2VEZWxheU1ldCh0KSYmKHRoaXMuX21vdXNlU3RhcnRlZD0hMSE9PXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCksdGhpcy5fbW91c2VTdGFydGVkP3RoaXMuX21vdXNlRHJhZyh0KTp0aGlzLl9tb3VzZVVwKHQpKSwhdGhpcy5fbW91c2VTdGFydGVkKX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7dGhpcy5kb2N1bWVudC5vZmYoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkub2ZmKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdGhpcy5fbW91c2VTdGFydGVkJiYodGhpcy5fbW91c2VTdGFydGVkPSExLHQudGFyZ2V0PT09dGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0JiZWLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiLCEwKSx0aGlzLl9tb3VzZVN0b3AodCkpLHRoaXMuX21vdXNlRGVsYXlUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9tb3VzZURlbGF5VGltZXIpLGRlbGV0ZSB0aGlzLl9tb3VzZURlbGF5VGltZXIpLHRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSExLHJ0PSExLHQucHJldmVudERlZmF1bHQoKX0sX21vdXNlRGlzdGFuY2VNZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VYLXQucGFnZVgpLE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VZLXQucGFnZVkpKT49dGhpcy5vcHRpb25zLmRpc3RhbmNlfSxfbW91c2VEZWxheU1ldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdXNlRGVsYXlNZXR9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7fSxfbW91c2VEcmFnOmZ1bmN0aW9uKCl7fSxfbW91c2VTdG9wOmZ1bmN0aW9uKCl7fSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksVi51aS5wbHVnaW49e2FkZDpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbj1WLnVpW3RdLnByb3RvdHlwZTtmb3IocyBpbiBpKW4ucGx1Z2luc1tzXT1uLnBsdWdpbnNbc118fFtdLG4ucGx1Z2luc1tzXS5wdXNoKFtlLGlbc11dKX0sY2FsbDpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbixvPXQucGx1Z2luc1tlXTtpZihvJiYoc3x8dC5lbGVtZW50WzBdLnBhcmVudE5vZGUmJjExIT09dC5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUpKWZvcihuPTA7bjxvLmxlbmd0aDtuKyspdC5vcHRpb25zW29bbl1bMF1dJiZvW25dWzFdLmFwcGx5KHQuZWxlbWVudCxpKX19LFYudWkuc2FmZUJsdXI9ZnVuY3Rpb24odCl7dCYmImJvZHkiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZWKHQpLnRyaWdnZXIoImJsdXIiKX07Vi53aWRnZXQoInVpLmRyYWdnYWJsZSIsVi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIix3aWRnZXRFdmVudFByZWZpeDoiZHJhZyIsb3B0aW9uczp7YWRkQ2xhc3NlczohMCxhcHBlbmRUbzoicGFyZW50IixheGlzOiExLGNvbm5lY3RUb1NvcnRhYmxlOiExLGNvbnRhaW5tZW50OiExLGN1cnNvcjoiYXV0byIsY3Vyc29yQXQ6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaWZyYW1lRml4OiExLG9wYWNpdHk6ITEscmVmcmVzaFBvc2l0aW9uczohMSxyZXZlcnQ6ITEscmV2ZXJ0RHVyYXRpb246NTAwLHNjb3BlOiJkZWZhdWx0IixzY3JvbGw6ITAsc2Nyb2xsU2Vuc2l0aXZpdHk6MjAsc2Nyb2xsU3BlZWQ6MjAsc25hcDohMSxzbmFwTW9kZToiYm90aCIsc25hcFRvbGVyYW5jZToyMCxzdGFjazohMSx6SW5kZXg6ITEsZHJhZzpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKSx0aGlzLm9wdGlvbnMuYWRkQ2xhc3NlcyYmdGhpcy5fYWRkQ2xhc3MoInVpLWRyYWdnYWJsZSIpLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlSW5pdCgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3VwZXIodCxlKSwiaGFuZGxlIj09PXQmJih0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7KHRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQpLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIik/dGhpcy5kZXN0cm95T25DbGVhcj0hMDoodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fbW91c2VEZXN0cm95KCkpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucztyZXR1cm4hKHRoaXMuaGVscGVyfHxlLmRpc2FibGVkfHwwPFYodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1yZXNpemFibGUtaGFuZGxlIikubGVuZ3RoKSYmKHRoaXMuaGFuZGxlPXRoaXMuX2dldEhhbmRsZSh0KSwhIXRoaXMuaGFuZGxlJiYodGhpcy5fYmx1ckFjdGl2ZUVsZW1lbnQodCksdGhpcy5fYmxvY2tGcmFtZXMoITA9PT1lLmlmcmFtZUZpeD8iaWZyYW1lIjplLmlmcmFtZUZpeCksITApKX0sX2Jsb2NrRnJhbWVzOmZ1bmN0aW9uKHQpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCh0KS5tYXAoZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO3JldHVybiBWKCI8ZGl2PiIpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLmFwcGVuZFRvKHQucGFyZW50KCkpLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSkub2Zmc2V0KHQub2Zmc2V0KCkpWzBdfSl9LF91bmJsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3MmJih0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKSxkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpfSxfYmx1ckFjdGl2ZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9Vi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKTtWKHQudGFyZ2V0KS5jbG9zZXN0KGUpLmxlbmd0aHx8Vi51aS5zYWZlQmx1cihlKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxWLnVpLmRkbWFuYWdlciYmKFYudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLmhhc0ZpeGVkQW5jZXN0b3I9MDx0aGlzLmhlbHBlci5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuImZpeGVkIj09PVYodGhpcykuY3NzKCJwb3NpdGlvbiIpfSkubGVuZ3RoLHRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX3JlZnJlc2hPZmZzZXRzKHQpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksZS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihlLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLCExPT09dGhpcy5fdHJpZ2dlcigic3RhcnQiLHQpPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLFYudWkuZGRtYW5hZ2VyJiYhZS5kcm9wQmVoYXZpb3VyJiZWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxWLnVpLmRkbWFuYWdlciYmVi51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfcmVmcmVzaE9mZnNldHM6ZnVuY3Rpb24odCl7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0LHNjcm9sbDohMSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0sdGhpcy5vZmZzZXQuY2xpY2s9e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH19LF9tb3VzZURyYWc6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhhc0ZpeGVkQW5jZXN0b3ImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFlKXtlPXRoaXMuX3VpSGFzaCgpO2lmKCExPT09dGhpcy5fdHJpZ2dlcigiZHJhZyIsdCxlKSlyZXR1cm4gdGhpcy5fbW91c2VVcChuZXcgVi5FdmVudCgibW91c2V1cCIsdCkpLCExO3RoaXMucG9zaXRpb249ZS5wb3NpdGlvbn1yZXR1cm4gdGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4Iix0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IixWLnVpLmRkbWFuYWdlciYmVi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT0hMTtyZXR1cm4gVi51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmKGk9Vi51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLHQpKSx0aGlzLmRyb3BwZWQmJihpPXRoaXMuZHJvcHBlZCx0aGlzLmRyb3BwZWQ9ITEpLCJpbnZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJiFpfHwidmFsaWQiPT09dGhpcy5vcHRpb25zLnJldmVydCYmaXx8ITA9PT10aGlzLm9wdGlvbnMucmV2ZXJ0fHwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLnJldmVydCYmdGhpcy5vcHRpb25zLnJldmVydC5jYWxsKHRoaXMuZWxlbWVudCxpKT9WKHRoaXMuaGVscGVyKS5hbmltYXRlKHRoaXMub3JpZ2luYWxQb3NpdGlvbixwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sMTApLGZ1bmN0aW9uKCl7ITEhPT1lLl90cmlnZ2VyKCJzdG9wIix0KSYmZS5fY2xlYXIoKX0pOiExIT09dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkmJnRoaXMuX2NsZWFyKCksITF9LF9tb3VzZVVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91bmJsb2NrRnJhbWVzKCksVi51aS5kZG1hbmFnZXImJlYudWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsdCksdGhpcy5oYW5kbGVFbGVtZW50LmlzKHQudGFyZ2V0KSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIiksVi51aS5tb3VzZS5wcm90b3R5cGUuX21vdXNlVXAuY2FsbCh0aGlzLHQpfSxjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWxwZXIuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT90aGlzLl9tb3VzZVVwKG5ldyBWLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0OnRoaXMuZWxlbWVudFswXX0pKTp0aGlzLl9jbGVhcigpLHRoaXN9LF9nZXRIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMub3B0aW9ucy5oYW5kbGV8fCEhVih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKSkubGVuZ3RofSxfc2V0SGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVFbGVtZW50PXRoaXMub3B0aW9ucy5oYW5kbGU/dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSk6dGhpcy5lbGVtZW50LHRoaXMuX2FkZENsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oYW5kbGVFbGVtZW50LCJ1aS1kcmFnZ2FibGUtaGFuZGxlIil9LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9ImZ1bmN0aW9uIj09dHlwZW9mIGUuaGVscGVyLHQ9aT9WKGUuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdF0pKToiY2xvbmUiPT09ZS5oZWxwZXI/dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKTp0aGlzLmVsZW1lbnQ7cmV0dXJuIHQucGFyZW50cygiYm9keSIpLmxlbmd0aHx8dC5hcHBlbmRUbygicGFyZW50Ij09PWUuYXBwZW5kVG8/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6ZS5hcHBlbmRUbyksaSYmdFswXT09PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpLHRbMF09PT10aGlzLmVsZW1lbnRbMF18fC8oZml4ZWR8YWJzb2x1dGUpLy50ZXN0KHQuY3NzKCJwb3NpdGlvbiIpKXx8dC5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0fSxfc2V0UG9zaXRpb25SZWxhdGl2ZTpmdW5jdGlvbigpey9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpfHwodGhpcy5lbGVtZW50WzBdLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIiAiKSksImxlZnQiaW4odD1BcnJheS5pc0FycmF5KHQpP3tsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH06dCkmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCksInJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCksInRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApLCJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2lzUm9vdE5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuLyhodG1sfGJvZHkpL2kudGVzdCh0LnRhZ05hbWUpfHx0PT09dGhpcy5kb2N1bWVudFswXX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLGU9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1lJiZWLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSkse3RvcDoodD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMub2Zmc2V0UGFyZW50WzBdKT97dG9wOjAsbGVmdDowfTp0KS50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZigicmVsYXRpdmUiIT09dGhpcy5jc3NQb3NpdGlvbilyZXR1cm57dG9wOjAsbGVmdDowfTt2YXIgdD10aGlzLmVsZW1lbnQucG9zaXRpb24oKSxlPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSsoZT8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSxsZWZ0OnQubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSsoZT8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSl9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCxyaWdodDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLDEwKXx8MCxib3R0b206cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luQm90dG9tIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscz10aGlzLm9wdGlvbnMsbj10aGlzLmRvY3VtZW50WzBdO3RoaXMucmVsYXRpdmVDb250YWluZXI9bnVsbCxzLmNvbnRhaW5tZW50PyJ3aW5kb3ciIT09cy5jb250YWlubWVudD8iZG9jdW1lbnQiIT09cy5jb250YWlubWVudD9zLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yIT09QXJyYXk/KCJwYXJlbnQiPT09cy5jb250YWlubWVudCYmKHMuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksKGk9KGU9VihzLmNvbnRhaW5tZW50KSlbMF0pJiYodD0vKHNjcm9sbHxhdXRvKS8udGVzdChlLmNzcygib3ZlcmZsb3ciKSksdGhpcy5jb250YWlubWVudD1bKHBhcnNlSW50KGUuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChlLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLChwYXJzZUludChlLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChlLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCksKHQ/TWF0aC5tYXgoaS5zY3JvbGxXaWR0aCxpLm9mZnNldFdpZHRoKTppLm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoZS5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChlLmNzcygicGFkZGluZ1JpZ2h0IiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LXRoaXMubWFyZ2lucy5yaWdodCwodD9NYXRoLm1heChpLnNjcm9sbEhlaWdodCxpLm9mZnNldEhlaWdodCk6aS5vZmZzZXRIZWlnaHQpLShwYXJzZUludChlLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChlLmNzcygicGFkZGluZ0JvdHRvbSIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcC10aGlzLm1hcmdpbnMuYm90dG9tXSx0aGlzLnJlbGF0aXZlQ29udGFpbmVyPWUpKTp0aGlzLmNvbnRhaW5tZW50PXMuY29udGFpbm1lbnQ6dGhpcy5jb250YWlubWVudD1bMCwwLFYobikud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChWKG4pLmhlaWdodCgpfHxuLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdOnRoaXMuY29udGFpbm1lbnQ9W1Yod2luZG93KS5zY3JvbGxMZWZ0KCktdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCxWKHdpbmRvdykuc2Nyb2xsVG9wKCktdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsVih3aW5kb3cpLnNjcm9sbExlZnQoKStWKHdpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LFYod2luZG93KS5zY3JvbGxUb3AoKSsoVih3aW5kb3cpLmhlaWdodCgpfHxuLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdOnRoaXMuY29udGFpbm1lbnQ9bnVsbH0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnBvc2l0aW9uO3ZhciBpPSJhYnNvbHV0ZSI9PT10PzE6LTEsdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOmUudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCppK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC50b3A6dD8wOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApKmksbGVmdDplLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCppK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KmktKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwubGVmdDp0PzA6dGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpKml9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpLHM9dGhpcy5vcHRpb25zLG49dGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSksbz10LnBhZ2VYLGE9dC5wYWdlWTtyZXR1cm4gbiYmdGhpcy5vZmZzZXQuc2Nyb2xsfHwodGhpcy5vZmZzZXQuc2Nyb2xsPXt0b3A6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9KSxlJiYodGhpcy5jb250YWlubWVudCYmKGk9dGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8oaT10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLFt0aGlzLmNvbnRhaW5tZW50WzBdK2kubGVmdCx0aGlzLmNvbnRhaW5tZW50WzFdK2kudG9wLHRoaXMuY29udGFpbm1lbnRbMl0raS5sZWZ0LHRoaXMuY29udGFpbm1lbnRbM10raS50b3BdKTp0aGlzLmNvbnRhaW5tZW50LHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDxpWzBdJiYobz1pWzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPGlbMV0mJihhPWlbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSx0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+aVsyXSYmKG89aVsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD5pWzNdJiYoYT1pWzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCkpLHMuZ3JpZCYmKHQ9cy5ncmlkWzFdP3RoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChhLXRoaXMub3JpZ2luYWxQYWdlWSkvcy5ncmlkWzFdKSpzLmdyaWRbMV06dGhpcy5vcmlnaW5hbFBhZ2VZLGE9IWl8fHQtdGhpcy5vZmZzZXQuY2xpY2sudG9wPj1pWzFdfHx0LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD5pWzNdP3Q6dC10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV0/dC1zLmdyaWRbMV06dCtzLmdyaWRbMV0sdD1zLmdyaWRbMF0/dGhpcy5vcmlnaW5hbFBhZ2VYK01hdGgucm91bmQoKG8tdGhpcy5vcmlnaW5hbFBhZ2VYKS9zLmdyaWRbMF0pKnMuZ3JpZFswXTp0aGlzLm9yaWdpbmFsUGFnZVgsbz0haXx8dC10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdfHx0LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+aVsyXT90OnQtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49aVswXT90LXMuZ3JpZFswXTp0K3MuZ3JpZFswXSksInkiPT09cy5heGlzJiYobz10aGlzLm9yaWdpbmFsUGFnZVgpLCJ4Ij09PXMuYXhpcyYmKGE9dGhpcy5vcmlnaW5hbFBhZ2VZKSkse3RvcDphLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC50b3A6bj8wOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApLGxlZnQ6by10aGlzLm9mZnNldC5jbGljay5sZWZ0LXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQrKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwubGVmdDpuPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpfX0sX2NsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuaGVscGVyWzBdPT09dGhpcy5lbGVtZW50WzBdfHx0aGlzLmNhbmNlbEhlbHBlclJlbW92YWx8fHRoaXMuaGVscGVyLnJlbW92ZSgpLHRoaXMuaGVscGVyPW51bGwsdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsPSExLHRoaXMuZGVzdHJveU9uQ2xlYXImJnRoaXMuZGVzdHJveSgpfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk9aXx8dGhpcy5fdWlIYXNoKCksVi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2UsaSx0aGlzXSwhMCksL14oZHJhZ3xzdGFydHxzdG9wKS8udGVzdCh0KSYmKHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksaS5vZmZzZXQ9dGhpcy5wb3NpdGlvbkFicyksVi5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmNhbGwodGhpcyx0LGUsaSl9LHBsdWdpbnM6e30sX3VpSGFzaDpmdW5jdGlvbigpe3JldHVybntoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6dGhpcy5wb3NpdGlvbkFic319fSksVi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjb25uZWN0VG9Tb3J0YWJsZSIse3N0YXJ0OmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz1WLmV4dGVuZCh7fSx0LHtpdGVtOmkuZWxlbWVudH0pO2kuc29ydGFibGVzPVtdLFYoaS5vcHRpb25zLmNvbm5lY3RUb1NvcnRhYmxlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKS5zb3J0YWJsZSgiaW5zdGFuY2UiKTt0JiYhdC5vcHRpb25zLmRpc2FibGVkJiYoaS5zb3J0YWJsZXMucHVzaCh0KSx0LnJlZnJlc2hQb3NpdGlvbnMoKSx0Ll90cmlnZ2VyKCJhY3RpdmF0ZSIsZSxzKSl9KX0sc3RvcDpmdW5jdGlvbihlLHQsaSl7dmFyIHM9Vi5leHRlbmQoe30sdCx7aXRlbTppLmVsZW1lbnR9KTtpLmNhbmNlbEhlbHBlclJlbW92YWw9ITEsVi5lYWNoKGkuc29ydGFibGVzLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmlzT3Zlcj8odC5pc092ZXI9MCxpLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsdC5jYW5jZWxIZWxwZXJSZW1vdmFsPSExLHQuX3N0b3JlZENTUz17cG9zaXRpb246dC5wbGFjZWhvbGRlci5jc3MoInBvc2l0aW9uIiksdG9wOnQucGxhY2Vob2xkZXIuY3NzKCJ0b3AiKSxsZWZ0OnQucGxhY2Vob2xkZXIuY3NzKCJsZWZ0Iil9LHQuX21vdXNlU3RvcChlKSx0Lm9wdGlvbnMuaGVscGVyPXQub3B0aW9ucy5faGVscGVyKToodC5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHQuX3RyaWdnZXIoImRlYWN0aXZhdGUiLGUscykpfSl9LGRyYWc6ZnVuY3Rpb24oaSxzLG4pe1YuZWFjaChuLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciB0PSExLGU9dGhpcztlLnBvc2l0aW9uQWJzPW4ucG9zaXRpb25BYnMsZS5oZWxwZXJQcm9wb3J0aW9ucz1uLmhlbHBlclByb3BvcnRpb25zLGUub2Zmc2V0LmNsaWNrPW4ub2Zmc2V0LmNsaWNrLGUuX2ludGVyc2VjdHNXaXRoKGUuY29udGFpbmVyQ2FjaGUpJiYodD0hMCxWLmVhY2gobi5zb3J0YWJsZXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbkFicz1uLnBvc2l0aW9uQWJzLHRoaXMuaGVscGVyUHJvcG9ydGlvbnM9bi5oZWxwZXJQcm9wb3J0aW9ucyx0aGlzLm9mZnNldC5jbGljaz1uLm9mZnNldC5jbGljayx0PXRoaXMhPT1lJiZ0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lckNhY2hlKSYmVi5jb250YWlucyhlLmVsZW1lbnRbMF0sdGhpcy5lbGVtZW50WzBdKT8hMTp0fSkpLHQ/KGUuaXNPdmVyfHwoZS5pc092ZXI9MSxuLl9wYXJlbnQ9cy5oZWxwZXIucGFyZW50KCksZS5jdXJyZW50SXRlbT1zLmhlbHBlci5hcHBlbmRUbyhlLmVsZW1lbnQpLmRhdGEoInVpLXNvcnRhYmxlLWl0ZW0iLCEwKSxlLm9wdGlvbnMuX2hlbHBlcj1lLm9wdGlvbnMuaGVscGVyLGUub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcy5oZWxwZXJbMF19LGkudGFyZ2V0PWUuY3VycmVudEl0ZW1bMF0sZS5fbW91c2VDYXB0dXJlKGksITApLGUuX21vdXNlU3RhcnQoaSwhMCwhMCksZS5vZmZzZXQuY2xpY2sudG9wPW4ub2Zmc2V0LmNsaWNrLnRvcCxlLm9mZnNldC5jbGljay5sZWZ0PW4ub2Zmc2V0LmNsaWNrLmxlZnQsZS5vZmZzZXQucGFyZW50LmxlZnQtPW4ub2Zmc2V0LnBhcmVudC5sZWZ0LWUub2Zmc2V0LnBhcmVudC5sZWZ0LGUub2Zmc2V0LnBhcmVudC50b3AtPW4ub2Zmc2V0LnBhcmVudC50b3AtZS5vZmZzZXQucGFyZW50LnRvcCxuLl90cmlnZ2VyKCJ0b1NvcnRhYmxlIixpKSxuLmRyb3BwZWQ9ZS5lbGVtZW50LFYuZWFjaChuLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMucmVmcmVzaFBvc2l0aW9ucygpfSksbi5jdXJyZW50SXRlbT1uLmVsZW1lbnQsZS5mcm9tT3V0c2lkZT1uKSxlLmN1cnJlbnRJdGVtJiYoZS5fbW91c2VEcmFnKGkpLHMucG9zaXRpb249ZS5wb3NpdGlvbikpOmUuaXNPdmVyJiYoZS5pc092ZXI9MCxlLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsZS5vcHRpb25zLl9yZXZlcnQ9ZS5vcHRpb25zLnJldmVydCxlLm9wdGlvbnMucmV2ZXJ0PSExLGUuX3RyaWdnZXIoIm91dCIsaSxlLl91aUhhc2goZSkpLGUuX21vdXNlU3RvcChpLCEwKSxlLm9wdGlvbnMucmV2ZXJ0PWUub3B0aW9ucy5fcmV2ZXJ0LGUub3B0aW9ucy5oZWxwZXI9ZS5vcHRpb25zLl9oZWxwZXIsZS5wbGFjZWhvbGRlciYmZS5wbGFjZWhvbGRlci5yZW1vdmUoKSxzLmhlbHBlci5hcHBlbmRUbyhuLl9wYXJlbnQpLG4uX3JlZnJlc2hPZmZzZXRzKGkpLHMucG9zaXRpb249bi5fZ2VuZXJhdGVQb3NpdGlvbihpLCEwKSxuLl90cmlnZ2VyKCJmcm9tU29ydGFibGUiLGkpLG4uZHJvcHBlZD0hMSxWLmVhY2gobi5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pKX0pfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY3Vyc29yIix7c3RhcnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVYoImJvZHkiKSxpPWkub3B0aW9ucztzLmNzcygiY3Vyc29yIikmJihpLl9jdXJzb3I9cy5jc3MoImN1cnNvciIpKSxzLmNzcygiY3Vyc29yIixpLmN1cnNvcil9LHN0b3A6ZnVuY3Rpb24odCxlLGkpe2k9aS5vcHRpb25zO2kuX2N1cnNvciYmVigiYm9keSIpLmNzcygiY3Vyc29yIixpLl9jdXJzb3IpfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwib3BhY2l0eSIse3N0YXJ0OmZ1bmN0aW9uKHQsZSxpKXtlPVYoZS5oZWxwZXIpLGk9aS5vcHRpb25zO2UuY3NzKCJvcGFjaXR5IikmJihpLl9vcGFjaXR5PWUuY3NzKCJvcGFjaXR5IikpLGUuY3NzKCJvcGFjaXR5IixpLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKHQsZSxpKXtpPWkub3B0aW9ucztpLl9vcGFjaXR5JiZWKGUuaGVscGVyKS5jc3MoIm9wYWNpdHkiLGkuX29wYWNpdHkpfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic2Nyb2xsIix7c3RhcnQ6ZnVuY3Rpb24odCxlLGkpe2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVufHwoaS5zY3JvbGxQYXJlbnROb3RIaWRkZW49aS5oZWxwZXIuc2Nyb2xsUGFyZW50KCExKSksaS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0hPT1pLmRvY3VtZW50WzBdJiYiSFRNTCIhPT1pLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXS50YWdOYW1lJiYoaS5vdmVyZmxvd09mZnNldD1pLnNjcm9sbFBhcmVudE5vdEhpZGRlbi5vZmZzZXQoKSl9LGRyYWc6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWkub3B0aW9ucyxuPSExLG89aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0sYT1pLmRvY3VtZW50WzBdO28hPT1hJiYiSFRNTCIhPT1vLnRhZ05hbWU/KHMuYXhpcyYmIngiPT09cy5heGlzfHwoaS5vdmVyZmxvd09mZnNldC50b3Arby5vZmZzZXRIZWlnaHQtdC5wYWdlWTxzLnNjcm9sbFNlbnNpdGl2aXR5P28uc2Nyb2xsVG9wPW49by5zY3JvbGxUb3Arcy5zY3JvbGxTcGVlZDp0LnBhZ2VZLWkub3ZlcmZsb3dPZmZzZXQudG9wPHMuc2Nyb2xsU2Vuc2l0aXZpdHkmJihvLnNjcm9sbFRvcD1uPW8uc2Nyb2xsVG9wLXMuc2Nyb2xsU3BlZWQpKSxzLmF4aXMmJiJ5Ij09PXMuYXhpc3x8KGkub3ZlcmZsb3dPZmZzZXQubGVmdCtvLm9mZnNldFdpZHRoLXQucGFnZVg8cy5zY3JvbGxTZW5zaXRpdml0eT9vLnNjcm9sbExlZnQ9bj1vLnNjcm9sbExlZnQrcy5zY3JvbGxTcGVlZDp0LnBhZ2VYLWkub3ZlcmZsb3dPZmZzZXQubGVmdDxzLnNjcm9sbFNlbnNpdGl2aXR5JiYoby5zY3JvbGxMZWZ0PW49by5zY3JvbGxMZWZ0LXMuc2Nyb2xsU3BlZWQpKSk6KHMuYXhpcyYmIngiPT09cy5heGlzfHwodC5wYWdlWS1WKGEpLnNjcm9sbFRvcCgpPHMuc2Nyb2xsU2Vuc2l0aXZpdHk/bj1WKGEpLnNjcm9sbFRvcChWKGEpLnNjcm9sbFRvcCgpLXMuc2Nyb2xsU3BlZWQpOlYod2luZG93KS5oZWlnaHQoKS0odC5wYWdlWS1WKGEpLnNjcm9sbFRvcCgpKTxzLnNjcm9sbFNlbnNpdGl2aXR5JiYobj1WKGEpLnNjcm9sbFRvcChWKGEpLnNjcm9sbFRvcCgpK3Muc2Nyb2xsU3BlZWQpKSkscy5heGlzJiYieSI9PT1zLmF4aXN8fCh0LnBhZ2VYLVYoYSkuc2Nyb2xsTGVmdCgpPHMuc2Nyb2xsU2Vuc2l0aXZpdHk/bj1WKGEpLnNjcm9sbExlZnQoVihhKS5zY3JvbGxMZWZ0KCktcy5zY3JvbGxTcGVlZCk6Vih3aW5kb3cpLndpZHRoKCktKHQucGFnZVgtVihhKS5zY3JvbGxMZWZ0KCkpPHMuc2Nyb2xsU2Vuc2l0aXZpdHkmJihuPVYoYSkuc2Nyb2xsTGVmdChWKGEpLnNjcm9sbExlZnQoKStzLnNjcm9sbFNwZWVkKSkpKSwhMSE9PW4mJlYudWkuZGRtYW5hZ2VyJiYhcy5kcm9wQmVoYXZpb3VyJiZWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhpLHQpfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic25hcCIse3N0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1pLm9wdGlvbnM7aS5zbmFwRWxlbWVudHM9W10sVihzLnNuYXAuY29uc3RydWN0b3IhPT1TdHJpbmc/cy5zbmFwLml0ZW1zfHwiOmRhdGEodWktZHJhZ2dhYmxlKSI6cy5zbmFwKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXQub2Zmc2V0KCk7dGhpcyE9PWkuZWxlbWVudFswXSYmaS5zbmFwRWxlbWVudHMucHVzaCh7aXRlbTp0aGlzLHdpZHRoOnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0Lm91dGVySGVpZ2h0KCksdG9wOmUudG9wLGxlZnQ6ZS5sZWZ0fSl9KX0sZHJhZzpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBzLG4sbyxhLHIsbCxoLGMsdSxkPWkub3B0aW9ucyxwPWQuc25hcFRvbGVyYW5jZSxmPWUub2Zmc2V0LmxlZnQsZz1mK2kuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsbT1lLm9mZnNldC50b3AsXz1tK2kuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHY9aS5zbmFwRWxlbWVudHMubGVuZ3RoLTE7MDw9djt2LS0pbD0ocj1pLnNuYXBFbGVtZW50c1t2XS5sZWZ0LWkubWFyZ2lucy5sZWZ0KStpLnNuYXBFbGVtZW50c1t2XS53aWR0aCxjPShoPWkuc25hcEVsZW1lbnRzW3ZdLnRvcC1pLm1hcmdpbnMudG9wKStpLnNuYXBFbGVtZW50c1t2XS5oZWlnaHQsZzxyLXB8fGwrcDxmfHxfPGgtcHx8YytwPG18fCFWLmNvbnRhaW5zKGkuc25hcEVsZW1lbnRzW3ZdLml0ZW0ub3duZXJEb2N1bWVudCxpLnNuYXBFbGVtZW50c1t2XS5pdGVtKT8oaS5zbmFwRWxlbWVudHNbdl0uc25hcHBpbmcmJmkub3B0aW9ucy5zbmFwLnJlbGVhc2UmJmkub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChpLmVsZW1lbnQsdCxWLmV4dGVuZChpLl91aUhhc2goKSx7c25hcEl0ZW06aS5zbmFwRWxlbWVudHNbdl0uaXRlbX0pKSxpLnNuYXBFbGVtZW50c1t2XS5zbmFwcGluZz0hMSk6KCJpbm5lciIhPT1kLnNuYXBNb2RlJiYocz1NYXRoLmFicyhoLV8pPD1wLG49TWF0aC5hYnMoYy1tKTw9cCxvPU1hdGguYWJzKHItZyk8PXAsYT1NYXRoLmFicyhsLWYpPD1wLHMmJihlLnBvc2l0aW9uLnRvcD1pLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6aC1pLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLG4mJihlLnBvc2l0aW9uLnRvcD1pLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6YyxsZWZ0OjB9KS50b3ApLG8mJihlLnBvc2l0aW9uLmxlZnQ9aS5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpyLWkuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0KSxhJiYoZS5wb3NpdGlvbi5sZWZ0PWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6bH0pLmxlZnQpKSx1PXN8fG58fG98fGEsIm91dGVyIiE9PWQuc25hcE1vZGUmJihzPU1hdGguYWJzKGgtbSk8PXAsbj1NYXRoLmFicyhjLV8pPD1wLG89TWF0aC5hYnMoci1mKTw9cCxhPU1hdGguYWJzKGwtZyk8PXAscyYmKGUucG9zaXRpb24udG9wPWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpoLGxlZnQ6MH0pLnRvcCksbiYmKGUucG9zaXRpb24udG9wPWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpjLWkuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcCksbyYmKGUucG9zaXRpb24ubGVmdD1pLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OnJ9KS5sZWZ0KSxhJiYoZS5wb3NpdGlvbi5sZWZ0PWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6bC1pLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCkpLCFpLnNuYXBFbGVtZW50c1t2XS5zbmFwcGluZyYmKHN8fG58fG98fGF8fHUpJiZpLm9wdGlvbnMuc25hcC5zbmFwJiZpLm9wdGlvbnMuc25hcC5zbmFwLmNhbGwoaS5lbGVtZW50LHQsVi5leHRlbmQoaS5fdWlIYXNoKCkse3NuYXBJdGVtOmkuc25hcEVsZW1lbnRzW3ZdLml0ZW19KSksaS5zbmFwRWxlbWVudHNbdl0uc25hcHBpbmc9c3x8bnx8b3x8YXx8dSl9fSksVi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzdGFjayIse3N0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxpPWkub3B0aW9ucyxpPVYubWFrZUFycmF5KFYoaS5zdGFjaykpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4ocGFyc2VJbnQoVih0KS5jc3MoInpJbmRleCIpLDEwKXx8MCktKHBhcnNlSW50KFYoZSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApfSk7aS5sZW5ndGgmJihzPXBhcnNlSW50KFYoaVswXSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDAsVihpKS5lYWNoKGZ1bmN0aW9uKHQpe1YodGhpcykuY3NzKCJ6SW5kZXgiLHMrdCl9KSx0aGlzLmNzcygiekluZGV4IixzK2kubGVuZ3RoKSl9fSksVi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJ6SW5kZXgiLHtzdGFydDpmdW5jdGlvbih0LGUsaSl7ZT1WKGUuaGVscGVyKSxpPWkub3B0aW9ucztlLmNzcygiekluZGV4IikmJihpLl96SW5kZXg9ZS5jc3MoInpJbmRleCIpKSxlLmNzcygiekluZGV4IixpLnpJbmRleCl9LHN0b3A6ZnVuY3Rpb24odCxlLGkpe2k9aS5vcHRpb25zO2kuX3pJbmRleCYmVihlLmhlbHBlcikuY3NzKCJ6SW5kZXgiLGkuX3pJbmRleCl9fSk7Vi51aS5kcmFnZ2FibGU7Vi53aWRnZXQoInVpLnJlc2l6YWJsZSIsVi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY2xhc3Nlczp7InVpLXJlc2l6YWJsZS1zZSI6InVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKHQpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KHQpKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGUpe2lmKCJoaWRkZW4iPT09Vih0KS5jc3MoIm92ZXJmbG93IikpcmV0dXJuITE7dmFyIGk9ZSYmImxlZnQiPT09ZT8ic2Nyb2xsTGVmdCI6InNjcm9sbFRvcCIsZT0hMTtpZigwPHRbaV0pcmV0dXJuITA7dHJ5e3RbaV09MSxlPTA8dFtpXSx0W2ldPTB9Y2F0Y2godCl7fXJldHVybiBlfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbnMsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUiKSxWLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISFlLmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOmUuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCxfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czpbXSxfaGVscGVyOmUuaGVscGVyfHxlLmdob3N0fHxlLmFuaW1hdGU/ZS5oZWxwZXJ8fCJ1aS1yZXNpemFibGUtaGVscGVyIjpudWxsfSksdGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpJiYodGhpcy5lbGVtZW50LndyYXAoVigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcic+PC9kaXY+IikuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIixwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHQ9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpfSx0aGlzLmVsZW1lbnQuY3NzKHQpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIiwwKSx0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsIm5vbmUiKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjoic3RhdGljIix6b29tOjEsZGlzcGxheToiYmxvY2sifSkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh0KSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSx0aGlzLl9zZXR1cEhhbmRsZXMoKSxlLmF1dG9IaWRlJiZWKHRoaXMuZWxlbWVudCkub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7ZS5kaXNhYmxlZHx8KGkuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLnNob3coKSl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtlLmRpc2FibGVkfHxpLnJlc2l6aW5nfHwoaS5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuaGlkZSgpKX0pLHRoaXMuX21vdXNlSW5pdCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpLHRoaXMuX2FkZGVkSGFuZGxlcy5yZW1vdmUoKTtmdW5jdGlvbiB0KHQpe1YodCkucmVtb3ZlRGF0YSgicmVzaXphYmxlIikucmVtb3ZlRGF0YSgidWktcmVzaXphYmxlIikub2ZmKCIucmVzaXphYmxlIil9dmFyIGU7cmV0dXJuIHRoaXMuZWxlbWVudElzV3JhcHBlciYmKHQodGhpcy5lbGVtZW50KSxlPXRoaXMuZWxlbWVudCx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOmUuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCksdG9wOmUuY3NzKCJ0b3AiKSxsZWZ0OmUuY3NzKCJsZWZ0Iil9KS5pbnNlcnRBZnRlcihlKSxlLnJlbW92ZSgpKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlKSx0KHRoaXMub3JpZ2luYWxFbGVtZW50KSx0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHRoaXMuX3N1cGVyKHQsZSksdCl7Y2FzZSJoYW5kbGVzIjp0aGlzLl9yZW1vdmVIYW5kbGVzKCksdGhpcy5fc2V0dXBIYW5kbGVzKCk7YnJlYWs7Y2FzZSJhc3BlY3RSYXRpbyI6dGhpcy5fYXNwZWN0UmF0aW89ISFlfX0sX3NldHVwSGFuZGxlczpmdW5jdGlvbigpe3ZhciB0LGUsaSxzLG4sbz10aGlzLm9wdGlvbnMsYT10aGlzO2lmKHRoaXMuaGFuZGxlcz1vLmhhbmRsZXN8fChWKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg/e246Ii51aS1yZXNpemFibGUtbiIsZToiLnVpLXJlc2l6YWJsZS1lIixzOiIudWktcmVzaXphYmxlLXMiLHc6Ii51aS1yZXNpemFibGUtdyIsc2U6Ii51aS1yZXNpemFibGUtc2UiLHN3OiIudWktcmVzaXphYmxlLXN3IixuZToiLnVpLXJlc2l6YWJsZS1uZSIsbnc6Ii51aS1yZXNpemFibGUtbncifToiZSxzLHNlIiksdGhpcy5faGFuZGxlcz1WKCksdGhpcy5fYWRkZWRIYW5kbGVzPVYoKSx0aGlzLmhhbmRsZXMuY29uc3RydWN0b3I9PT1TdHJpbmcpZm9yKCJhbGwiPT09dGhpcy5oYW5kbGVzJiYodGhpcy5oYW5kbGVzPSJuLGUscyx3LHNlLHN3LG5lLG53IiksaT10aGlzLmhhbmRsZXMuc3BsaXQoIiwiKSx0aGlzLmhhbmRsZXM9e30sZT0wO2U8aS5sZW5ndGg7ZSsrKXM9InVpLXJlc2l6YWJsZS0iKyh0PVN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKGlbZV0pKSxuPVYoIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3MobiwidWktcmVzaXphYmxlLWhhbmRsZSAiK3MpLG4uY3NzKHt6SW5kZXg6by56SW5kZXh9KSx0aGlzLmhhbmRsZXNbdF09Ii51aS1yZXNpemFibGUtIit0LHRoaXMuZWxlbWVudC5jaGlsZHJlbih0aGlzLmhhbmRsZXNbdF0pLmxlbmd0aHx8KHRoaXMuZWxlbWVudC5hcHBlbmQobiksdGhpcy5fYWRkZWRIYW5kbGVzPXRoaXMuX2FkZGVkSGFuZGxlcy5hZGQobikpO3RoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2ZvcihlIGluIHQ9dHx8dGhpcy5lbGVtZW50LHRoaXMuaGFuZGxlcyl0aGlzLmhhbmRsZXNbZV0uY29uc3RydWN0b3I9PT1TdHJpbmc/dGhpcy5oYW5kbGVzW2VdPXRoaXMuZWxlbWVudC5jaGlsZHJlbih0aGlzLmhhbmRsZXNbZV0pLmZpcnN0KCkuc2hvdygpOih0aGlzLmhhbmRsZXNbZV0uanF1ZXJ5fHx0aGlzLmhhbmRsZXNbZV0ubm9kZVR5cGUpJiYodGhpcy5oYW5kbGVzW2VdPVYodGhpcy5oYW5kbGVzW2VdKSx0aGlzLl9vbih0aGlzLmhhbmRsZXNbZV0se21vdXNlZG93bjphLl9tb3VzZURvd259KSksdGhpcy5lbGVtZW50SXNXcmFwcGVyJiZ0aGlzLm9yaWdpbmFsRWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXih0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uKSQvaSkmJihpPVYodGhpcy5oYW5kbGVzW2VdLHRoaXMuZWxlbWVudCkscz0vc3d8bmV8bnd8c2V8bnxzLy50ZXN0KGUpP2kub3V0ZXJIZWlnaHQoKTppLm91dGVyV2lkdGgoKSxpPVsicGFkZGluZyIsL25lfG53fG4vLnRlc3QoZSk/IlRvcCI6L3NlfHN3fHMvLnRlc3QoZSk/IkJvdHRvbSI6L15lJC8udGVzdChlKT8iUmlnaHQiOiJMZWZ0Il0uam9pbigiIiksdC5jc3MoaSxzKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSx0aGlzLl9oYW5kbGVzPXRoaXMuX2hhbmRsZXMuYWRkKHRoaXMuaGFuZGxlc1tlXSl9LHRoaXMuX3JlbmRlckF4aXModGhpcy5lbGVtZW50KSx0aGlzLl9oYW5kbGVzPXRoaXMuX2hhbmRsZXMuYWRkKHRoaXMuZWxlbWVudC5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpKSx0aGlzLl9oYW5kbGVzLmRpc2FibGVTZWxlY3Rpb24oKSx0aGlzLl9oYW5kbGVzLm9uKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7YS5yZXNpemluZ3x8KHRoaXMuY2xhc3NOYW1lJiYobj10aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKSksYS5heGlzPW4mJm5bMV0/blsxXToic2UiKX0pLG8uYXV0b0hpZGUmJih0aGlzLl9oYW5kbGVzLmhpZGUoKSx0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIikpfSxfcmVtb3ZlSGFuZGxlczpmdW5jdGlvbigpe3RoaXMuX2FkZGVkSGFuZGxlcy5yZW1vdmUoKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgZSxpLHM9ITE7Zm9yKGUgaW4gdGhpcy5oYW5kbGVzKShpPVYodGhpcy5oYW5kbGVzW2VdKVswXSkhPT10LnRhcmdldCYmIVYuY29udGFpbnMoaSx0LnRhcmdldCl8fChzPSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZzfSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgZSxpLHM9dGhpcy5vcHRpb25zLG49dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLHRoaXMuX3JlbmRlclByb3h5KCksZT10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpLGk9dGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcygidG9wIikpLHMuY29udGFpbm1lbnQmJihlKz1WKHMuY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKXx8MCxpKz1WKHMuY29udGFpbm1lbnQpLnNjcm9sbFRvcCgpfHwwKSx0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKSx0aGlzLnBvc2l0aW9uPXtsZWZ0OmUsdG9wOml9LHRoaXMuc2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOnRoaXMuaGVscGVyLndpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLmhlaWdodCgpfTp7d2lkdGg6bi53aWR0aCgpLGhlaWdodDpuLmhlaWdodCgpfSx0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOm4ub3V0ZXJXaWR0aCgpLGhlaWdodDpuLm91dGVySGVpZ2h0KCl9Ont3aWR0aDpuLndpZHRoKCksaGVpZ2h0Om4uaGVpZ2h0KCl9LHRoaXMuc2l6ZURpZmY9e3dpZHRoOm4ub3V0ZXJXaWR0aCgpLW4ud2lkdGgoKSxoZWlnaHQ6bi5vdXRlckhlaWdodCgpLW4uaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDplLHRvcDppfSx0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZfSx0aGlzLmFzcGVjdFJhdGlvPSJudW1iZXIiPT10eXBlb2Ygcy5hc3BlY3RSYXRpbz9zLmFzcGVjdFJhdGlvOnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MSxzPVYoIi51aS1yZXNpemFibGUtIit0aGlzLmF4aXMpLmNzcygiY3Vyc29yIiksVigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byI9PT1zP3RoaXMuYXhpcysiLXJlc2l6ZSI6cyksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RhcnQiLHQpLCEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGk9dGhpcy5heGlzLHM9dC5wYWdlWC1lLmxlZnR8fDAsZT10LnBhZ2VZLWUudG9wfHwwLGk9dGhpcy5fY2hhbmdlW2ldO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLGkmJihlPWkuYXBwbHkodGhpcyxbdCxzLGVdKSx0aGlzLl91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyh0LnNoaWZ0S2V5KSwodGhpcy5fYXNwZWN0UmF0aW98fHQuc2hpZnRLZXkpJiYoZT10aGlzLl91cGRhdGVSYXRpbyhlLHQpKSxlPXRoaXMuX3Jlc3BlY3RTaXplKGUsdCksdGhpcy5fdXBkYXRlQ2FjaGUoZSksdGhpcy5fcHJvcGFnYXRlKCJyZXNpemUiLHQpLGU9dGhpcy5fYXBwbHlDaGFuZ2VzKCksIXRoaXMuX2hlbHBlciYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCksVi5pc0VtcHR5T2JqZWN0KGUpfHwodGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSx0aGlzLl90cmlnZ2VyKCJyZXNpemUiLHQsdGhpcy51aSgpKSx0aGlzLl9hcHBseUNoYW5nZXMoKSkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3RoaXMucmVzaXppbmc9ITE7dmFyIGUsaSxzLG49dGhpcy5vcHRpb25zLG89dGhpcztyZXR1cm4gdGhpcy5faGVscGVyJiYocz0oZT0oaT10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzKS5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoaVswXS5ub2RlTmFtZSkpJiZ0aGlzLl9oYXNTY3JvbGwoaVswXSwibGVmdCIpPzA6by5zaXplRGlmZi5oZWlnaHQsaT1lPzA6by5zaXplRGlmZi53aWR0aCxlPXt3aWR0aDpvLmhlbHBlci53aWR0aCgpLWksaGVpZ2h0Om8uaGVscGVyLmhlaWdodCgpLXN9LGk9cGFyc2VGbG9hdChvLmVsZW1lbnQuY3NzKCJsZWZ0IikpKyhvLnBvc2l0aW9uLmxlZnQtby5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsLHM9cGFyc2VGbG9hdChvLmVsZW1lbnQuY3NzKCJ0b3AiKSkrKG8ucG9zaXRpb24udG9wLW8ub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsLG4uYW5pbWF0ZXx8dGhpcy5lbGVtZW50LmNzcyhWLmV4dGVuZChlLHt0b3A6cyxsZWZ0Oml9KSksby5oZWxwZXIuaGVpZ2h0KG8uc2l6ZS5oZWlnaHQpLG8uaGVscGVyLndpZHRoKG8uc2l6ZS53aWR0aCksdGhpcy5faGVscGVyJiYhbi5hbmltYXRlJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSxWKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIiksdGhpcy5fcmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsdCksdGhpcy5faGVscGVyJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX0sX3VwZGF0ZVByZXZQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2UG9zaXRpb249e3RvcDp0aGlzLnBvc2l0aW9uLnRvcCxsZWZ0OnRoaXMucG9zaXRpb24ubGVmdH0sdGhpcy5wcmV2U2l6ZT17d2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fX0sX2FwcGx5Q2hhbmdlczpmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0aGlzLnBvc2l0aW9uLnRvcCE9PXRoaXMucHJldlBvc2l0aW9uLnRvcCYmKHQudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLHRoaXMucG9zaXRpb24ubGVmdCE9PXRoaXMucHJldlBvc2l0aW9uLmxlZnQmJih0LmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMuc2l6ZS53aWR0aCE9PXRoaXMucHJldlNpemUud2lkdGgmJih0LndpZHRoPXRoaXMuc2l6ZS53aWR0aCsicHgiKSx0aGlzLnNpemUuaGVpZ2h0IT09dGhpcy5wcmV2U2l6ZS5oZWlnaHQmJih0LmhlaWdodD10aGlzLnNpemUuaGVpZ2h0KyJweCIpLHRoaXMuaGVscGVyLmNzcyh0KSx0fSxfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMub3B0aW9ucyxuPXttaW5XaWR0aDp0aGlzLl9pc051bWJlcihzLm1pbldpZHRoKT9zLm1pbldpZHRoOjAsbWF4V2lkdGg6dGhpcy5faXNOdW1iZXIocy5tYXhXaWR0aCk/cy5tYXhXaWR0aDoxLzAsbWluSGVpZ2h0OnRoaXMuX2lzTnVtYmVyKHMubWluSGVpZ2h0KT9zLm1pbkhlaWdodDowLG1heEhlaWdodDp0aGlzLl9pc051bWJlcihzLm1heEhlaWdodCk/cy5tYXhIZWlnaHQ6MS8wfTsodGhpcy5fYXNwZWN0UmF0aW98fHQpJiYoZT1uLm1pbkhlaWdodCp0aGlzLmFzcGVjdFJhdGlvLGk9bi5taW5XaWR0aC90aGlzLmFzcGVjdFJhdGlvLHM9bi5tYXhIZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyx0PW4ubWF4V2lkdGgvdGhpcy5hc3BlY3RSYXRpbyxlPm4ubWluV2lkdGgmJihuLm1pbldpZHRoPWUpLGk+bi5taW5IZWlnaHQmJihuLm1pbkhlaWdodD1pKSxzPG4ubWF4V2lkdGgmJihuLm1heFdpZHRoPXMpLHQ8bi5tYXhIZWlnaHQmJihuLm1heEhlaWdodD10KSksdGhpcy5fdkJvdW5kYXJpZXM9bn0sX3VwZGF0ZUNhY2hlOmZ1bmN0aW9uKHQpe3RoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMuX2lzTnVtYmVyKHQubGVmdCkmJih0aGlzLnBvc2l0aW9uLmxlZnQ9dC5sZWZ0KSx0aGlzLl9pc051bWJlcih0LnRvcCkmJih0aGlzLnBvc2l0aW9uLnRvcD10LnRvcCksdGhpcy5faXNOdW1iZXIodC5oZWlnaHQpJiYodGhpcy5zaXplLmhlaWdodD10LmhlaWdodCksdGhpcy5faXNOdW1iZXIodC53aWR0aCkmJih0aGlzLnNpemUud2lkdGg9dC53aWR0aCl9LF91cGRhdGVSYXRpbzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvc2l0aW9uLGk9dGhpcy5zaXplLHM9dGhpcy5heGlzO3JldHVybiB0aGlzLl9pc051bWJlcih0LmhlaWdodCk/dC53aWR0aD10LmhlaWdodCp0aGlzLmFzcGVjdFJhdGlvOnRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiYodC5oZWlnaHQ9dC53aWR0aC90aGlzLmFzcGVjdFJhdGlvKSwic3ciPT09cyYmKHQubGVmdD1lLmxlZnQrKGkud2lkdGgtdC53aWR0aCksdC50b3A9bnVsbCksIm53Ij09PXMmJih0LnRvcD1lLnRvcCsoaS5oZWlnaHQtdC5oZWlnaHQpLHQubGVmdD1lLmxlZnQrKGkud2lkdGgtdC53aWR0aCkpLHR9LF9yZXNwZWN0U2l6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92Qm91bmRhcmllcyxpPXRoaXMuYXhpcyxzPXRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiZlLm1heFdpZHRoJiZlLm1heFdpZHRoPHQud2lkdGgsbj10aGlzLl9pc051bWJlcih0LmhlaWdodCkmJmUubWF4SGVpZ2h0JiZlLm1heEhlaWdodDx0LmhlaWdodCxvPXRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiZlLm1pbldpZHRoJiZlLm1pbldpZHRoPnQud2lkdGgsYT10aGlzLl9pc051bWJlcih0LmhlaWdodCkmJmUubWluSGVpZ2h0JiZlLm1pbkhlaWdodD50LmhlaWdodCxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0K3RoaXMub3JpZ2luYWxTaXplLndpZHRoLGw9dGhpcy5vcmlnaW5hbFBvc2l0aW9uLnRvcCt0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQsaD0vc3d8bnd8dy8udGVzdChpKSxpPS9ud3xuZXxuLy50ZXN0KGkpO3JldHVybiBvJiYodC53aWR0aD1lLm1pbldpZHRoKSxhJiYodC5oZWlnaHQ9ZS5taW5IZWlnaHQpLHMmJih0LndpZHRoPWUubWF4V2lkdGgpLG4mJih0LmhlaWdodD1lLm1heEhlaWdodCksbyYmaCYmKHQubGVmdD1yLWUubWluV2lkdGgpLHMmJmgmJih0LmxlZnQ9ci1lLm1heFdpZHRoKSxhJiZpJiYodC50b3A9bC1lLm1pbkhlaWdodCksbiYmaSYmKHQudG9wPWwtZS5tYXhIZWlnaHQpLHQud2lkdGh8fHQuaGVpZ2h0fHx0LmxlZnR8fCF0LnRvcD90LndpZHRofHx0LmhlaWdodHx8dC50b3B8fCF0LmxlZnR8fCh0LmxlZnQ9bnVsbCk6dC50b3A9bnVsbCx0fSxfZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9W10scz1bdC5jc3MoImJvcmRlclRvcFdpZHRoIiksdC5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSx0LmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSx0LmNzcygiYm9yZGVyTGVmdFdpZHRoIildLG49W3QuY3NzKCJwYWRkaW5nVG9wIiksdC5jc3MoInBhZGRpbmdSaWdodCIpLHQuY3NzKCJwYWRkaW5nQm90dG9tIiksdC5jc3MoInBhZGRpbmdMZWZ0IildO2U8NDtlKyspaVtlXT1wYXJzZUZsb2F0KHNbZV0pfHwwLGlbZV0rPXBhcnNlRmxvYXQobltlXSl8fDA7cmV0dXJue2hlaWdodDppWzBdK2lbMl0sd2lkdGg6aVsxXStpWzNdfX0sX3Byb3BvcnRpb25hbGx5UmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpZm9yKHZhciB0LGU9MCxpPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQ7ZTx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aDtlKyspdD10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2VdLHRoaXMub3V0ZXJEaW1lbnNpb25zfHwodGhpcy5vdXRlckRpbWVuc2lvbnM9dGhpcy5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHQpKSx0LmNzcyh7aGVpZ2h0OmkuaGVpZ2h0KCktdGhpcy5vdXRlckRpbWVuc2lvbnMuaGVpZ2h0fHwwLHdpZHRoOmkud2lkdGgoKS10aGlzLm91dGVyRGltZW5zaW9ucy53aWR0aHx8MH0pfSxfcmVuZGVyUHJveHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50T2Zmc2V0PXQub2Zmc2V0KCksdGhpcy5faGVscGVyPyh0aGlzLmhlbHBlcj10aGlzLmhlbHBlcnx8VigiPGRpdj48L2Rpdj4iKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsdGhpcy5faGVscGVyKSx0aGlzLmhlbHBlci5jc3Moe3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDp0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCsicHgiLHRvcDp0aGlzLmVsZW1lbnRPZmZzZXQudG9wKyJweCIsekluZGV4OisrZS56SW5kZXh9KSx0aGlzLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLmRpc2FibGVTZWxlY3Rpb24oKSk6dGhpcy5oZWxwZXI9dGhpcy5lbGVtZW50fSxfY2hhbmdlOntlOmZ1bmN0aW9uKHQsZSl7cmV0dXJue3dpZHRoOnRoaXMub3JpZ2luYWxTaXplLndpZHRoK2V9fSx3OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5vcmlnaW5hbFNpemU7cmV0dXJue2xlZnQ6dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrZSx3aWR0aDppLndpZHRoLWV9fSxuOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLm9yaWdpbmFsU2l6ZTtyZXR1cm57dG9wOnRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3AraSxoZWlnaHQ6cy5oZWlnaHQtaX19LHM6ZnVuY3Rpb24odCxlLGkpe3JldHVybntoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0K2l9fSxzZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIFYuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGUsaV0pKX0sc3c6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBWLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxlLGldKSl9LG5lOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gVi5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW3QsZSxpXSkpfSxudzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIFYuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFt0LGUsaV0pKX19LF9wcm9wYWdhdGU6ZnVuY3Rpb24odCxlKXtWLnVpLnBsdWdpbi5jYWxsKHRoaXMsdCxbZSx0aGlzLnVpKCldKSwicmVzaXplIiE9PXQmJnRoaXMuX3RyaWdnZXIodCxlLHRoaXMudWkoKSl9LHBsdWdpbnM6e30sdWk6ZnVuY3Rpb24oKXtyZXR1cm57b3JpZ2luYWxFbGVtZW50OnRoaXMub3JpZ2luYWxFbGVtZW50LGVsZW1lbnQ6dGhpcy5lbGVtZW50LGhlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLHNpemU6dGhpcy5zaXplLG9yaWdpbmFsU2l6ZTp0aGlzLm9yaWdpbmFsU2l6ZSxvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbn19fSksVi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbmltYXRlIix7c3RvcDpmdW5jdGlvbihlKXt2YXIgaT1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSx0PWkub3B0aW9ucyxzPWkuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsbj1zLmxlbmd0aCYmL3RleHRhcmVhL2kudGVzdChzWzBdLm5vZGVOYW1lKSxvPW4mJmkuX2hhc1Njcm9sbChzWzBdLCJsZWZ0Iik/MDppLnNpemVEaWZmLmhlaWdodCxhPW4/MDppLnNpemVEaWZmLndpZHRoLG49e3dpZHRoOmkuc2l6ZS53aWR0aC1hLGhlaWdodDppLnNpemUuaGVpZ2h0LW99LGE9cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpKyhpLnBvc2l0aW9uLmxlZnQtaS5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsLG89cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ0b3AiKSkrKGkucG9zaXRpb24udG9wLWkub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsO2kuZWxlbWVudC5hbmltYXRlKFYuZXh0ZW5kKG4sbyYmYT97dG9wOm8sbGVmdDphfTp7fSkse2R1cmF0aW9uOnQuYW5pbWF0ZUR1cmF0aW9uLGVhc2luZzp0LmFuaW1hdGVFYXNpbmcsc3RlcDpmdW5jdGlvbigpe3ZhciB0PXt3aWR0aDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoIndpZHRoIikpLGhlaWdodDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoImhlaWdodCIpKSx0b3A6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ0b3AiKSksbGVmdDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoImxlZnQiKSl9O3MmJnMubGVuZ3RoJiZWKHNbMF0pLmNzcyh7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9KSxpLl91cGRhdGVDYWNoZSh0KSxpLl9wcm9wYWdhdGUoInJlc2l6ZSIsZSl9fSl9fSksVi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJjb250YWlubWVudCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGkscyxuPVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHQ9bi5vcHRpb25zLGU9bi5lbGVtZW50LG89dC5jb250YWlubWVudCxhPW8gaW5zdGFuY2VvZiBWP28uZ2V0KDApOi9wYXJlbnQvLnRlc3Qobyk/ZS5wYXJlbnQoKS5nZXQoMCk6bzthJiYobi5jb250YWluZXJFbGVtZW50PVYoYSksL2RvY3VtZW50Ly50ZXN0KG8pfHxvPT09ZG9jdW1lbnQ/KG4uY29udGFpbmVyT2Zmc2V0PXtsZWZ0OjAsdG9wOjB9LG4uY29udGFpbmVyUG9zaXRpb249e2xlZnQ6MCx0b3A6MH0sbi5wYXJlbnREYXRhPXtlbGVtZW50OlYoZG9jdW1lbnQpLGxlZnQ6MCx0b3A6MCx3aWR0aDpWKGRvY3VtZW50KS53aWR0aCgpLGhlaWdodDpWKGRvY3VtZW50KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodH0pOihpPVYoYSkscz1bXSxWKFsiVG9wIiwiUmlnaHQiLCJMZWZ0IiwiQm90dG9tIl0pLmVhY2goZnVuY3Rpb24odCxlKXtzW3RdPW4uX251bShpLmNzcygicGFkZGluZyIrZSkpfSksbi5jb250YWluZXJPZmZzZXQ9aS5vZmZzZXQoKSxuLmNvbnRhaW5lclBvc2l0aW9uPWkucG9zaXRpb24oKSxuLmNvbnRhaW5lclNpemU9e2hlaWdodDppLmlubmVySGVpZ2h0KCktc1szXSx3aWR0aDppLmlubmVyV2lkdGgoKS1zWzFdfSx0PW4uY29udGFpbmVyT2Zmc2V0LGU9bi5jb250YWluZXJTaXplLmhlaWdodCxvPW4uY29udGFpbmVyU2l6ZS53aWR0aCxvPW4uX2hhc1Njcm9sbChhLCJsZWZ0Iik/YS5zY3JvbGxXaWR0aDpvLGU9bi5faGFzU2Nyb2xsKGEpP2Euc2Nyb2xsSGVpZ2h0OmUsbi5wYXJlbnREYXRhPXtlbGVtZW50OmEsbGVmdDp0LmxlZnQsdG9wOnQudG9wLHdpZHRoOm8saGVpZ2h0OmV9KSl9LHJlc2l6ZTpmdW5jdGlvbih0KXt2YXIgZT1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxpPWUub3B0aW9ucyxzPWUuY29udGFpbmVyT2Zmc2V0LG49ZS5wb3NpdGlvbixvPWUuX2FzcGVjdFJhdGlvfHx0LnNoaWZ0S2V5LGE9e3RvcDowLGxlZnQ6MH0scj1lLmNvbnRhaW5lckVsZW1lbnQsdD0hMDtyWzBdIT09ZG9jdW1lbnQmJi9zdGF0aWMvLnRlc3Qoci5jc3MoInBvc2l0aW9uIikpJiYoYT1zKSxuLmxlZnQ8KGUuX2hlbHBlcj9zLmxlZnQ6MCkmJihlLnNpemUud2lkdGg9ZS5zaXplLndpZHRoKyhlLl9oZWxwZXI/ZS5wb3NpdGlvbi5sZWZ0LXMubGVmdDplLnBvc2l0aW9uLmxlZnQtYS5sZWZ0KSxvJiYoZS5zaXplLmhlaWdodD1lLnNpemUud2lkdGgvZS5hc3BlY3RSYXRpbyx0PSExKSxlLnBvc2l0aW9uLmxlZnQ9aS5oZWxwZXI/cy5sZWZ0OjApLG4udG9wPChlLl9oZWxwZXI/cy50b3A6MCkmJihlLnNpemUuaGVpZ2h0PWUuc2l6ZS5oZWlnaHQrKGUuX2hlbHBlcj9lLnBvc2l0aW9uLnRvcC1zLnRvcDplLnBvc2l0aW9uLnRvcCksbyYmKGUuc2l6ZS53aWR0aD1lLnNpemUuaGVpZ2h0KmUuYXNwZWN0UmF0aW8sdD0hMSksZS5wb3NpdGlvbi50b3A9ZS5faGVscGVyP3MudG9wOjApLGk9ZS5jb250YWluZXJFbGVtZW50LmdldCgwKT09PWUuZWxlbWVudC5wYXJlbnQoKS5nZXQoMCksbj0vcmVsYXRpdmV8YWJzb2x1dGUvLnRlc3QoZS5jb250YWluZXJFbGVtZW50LmNzcygicG9zaXRpb24iKSksaSYmbj8oZS5vZmZzZXQubGVmdD1lLnBhcmVudERhdGEubGVmdCtlLnBvc2l0aW9uLmxlZnQsZS5vZmZzZXQudG9wPWUucGFyZW50RGF0YS50b3ArZS5wb3NpdGlvbi50b3ApOihlLm9mZnNldC5sZWZ0PWUuZWxlbWVudC5vZmZzZXQoKS5sZWZ0LGUub2Zmc2V0LnRvcD1lLmVsZW1lbnQub2Zmc2V0KCkudG9wKSxuPU1hdGguYWJzKGUuc2l6ZURpZmYud2lkdGgrKGUuX2hlbHBlcj9lLm9mZnNldC5sZWZ0LWEubGVmdDplLm9mZnNldC5sZWZ0LXMubGVmdCkpLHM9TWF0aC5hYnMoZS5zaXplRGlmZi5oZWlnaHQrKGUuX2hlbHBlcj9lLm9mZnNldC50b3AtYS50b3A6ZS5vZmZzZXQudG9wLXMudG9wKSksbitlLnNpemUud2lkdGg+PWUucGFyZW50RGF0YS53aWR0aCYmKGUuc2l6ZS53aWR0aD1lLnBhcmVudERhdGEud2lkdGgtbixvJiYoZS5zaXplLmhlaWdodD1lLnNpemUud2lkdGgvZS5hc3BlY3RSYXRpbyx0PSExKSkscytlLnNpemUuaGVpZ2h0Pj1lLnBhcmVudERhdGEuaGVpZ2h0JiYoZS5zaXplLmhlaWdodD1lLnBhcmVudERhdGEuaGVpZ2h0LXMsbyYmKGUuc2l6ZS53aWR0aD1lLnNpemUuaGVpZ2h0KmUuYXNwZWN0UmF0aW8sdD0hMSkpLHR8fChlLnBvc2l0aW9uLmxlZnQ9ZS5wcmV2UG9zaXRpb24ubGVmdCxlLnBvc2l0aW9uLnRvcD1lLnByZXZQb3NpdGlvbi50b3AsZS5zaXplLndpZHRoPWUucHJldlNpemUud2lkdGgsZS5zaXplLmhlaWdodD1lLnByZXZTaXplLmhlaWdodCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxlPXQub3B0aW9ucyxpPXQuY29udGFpbmVyT2Zmc2V0LHM9dC5jb250YWluZXJQb3NpdGlvbixuPXQuY29udGFpbmVyRWxlbWVudCxvPVYodC5oZWxwZXIpLGE9by5vZmZzZXQoKSxyPW8ub3V0ZXJXaWR0aCgpLXQuc2l6ZURpZmYud2lkdGgsbz1vLm91dGVySGVpZ2h0KCktdC5zaXplRGlmZi5oZWlnaHQ7dC5faGVscGVyJiYhZS5hbmltYXRlJiYvcmVsYXRpdmUvLnRlc3Qobi5jc3MoInBvc2l0aW9uIikpJiZWKHRoaXMpLmNzcyh7bGVmdDphLmxlZnQtcy5sZWZ0LWkubGVmdCx3aWR0aDpyLGhlaWdodDpvfSksdC5faGVscGVyJiYhZS5hbmltYXRlJiYvc3RhdGljLy50ZXN0KG4uY3NzKCJwb3NpdGlvbiIpKSYmVih0aGlzKS5jc3Moe2xlZnQ6YS5sZWZ0LXMubGVmdC1pLmxlZnQsd2lkdGg6cixoZWlnaHQ6b30pfX0pLFYudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYWxzb1Jlc2l6ZSIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikub3B0aW9ucztWKHQuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyk7dC5kYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIse3dpZHRoOnBhcnNlRmxvYXQodC53aWR0aCgpKSxoZWlnaHQ6cGFyc2VGbG9hdCh0LmhlaWdodCgpKSxsZWZ0OnBhcnNlRmxvYXQodC5jc3MoImxlZnQiKSksdG9wOnBhcnNlRmxvYXQodC5jc3MoInRvcCIpKX0pfSl9LHJlc2l6ZTpmdW5jdGlvbih0LGkpe3ZhciBlPVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHM9ZS5vcHRpb25zLG49ZS5vcmlnaW5hbFNpemUsbz1lLm9yaWdpbmFsUG9zaXRpb24sYT17aGVpZ2h0OmUuc2l6ZS5oZWlnaHQtbi5oZWlnaHR8fDAsd2lkdGg6ZS5zaXplLndpZHRoLW4ud2lkdGh8fDAsdG9wOmUucG9zaXRpb24udG9wLW8udG9wfHwwLGxlZnQ6ZS5wb3NpdGlvbi5sZWZ0LW8ubGVmdHx8MH07VihzLmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLHM9Vih0aGlzKS5kYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIpLG49e30sZT10LnBhcmVudHMoaS5vcmlnaW5hbEVsZW1lbnRbMF0pLmxlbmd0aD9bIndpZHRoIiwiaGVpZ2h0Il06WyJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiXTtWLmVhY2goZSxmdW5jdGlvbih0LGUpe3ZhciBpPShzW2VdfHwwKSsoYVtlXXx8MCk7aSYmMDw9aSYmKG5bZV09aXx8bnVsbCl9KSx0LmNzcyhuKX0pfSxzdG9wOmZ1bmN0aW9uKCl7Vih0aGlzKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIpfX0pLFYudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ2hvc3QiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGU9dC5zaXplO3QuZ2hvc3Q9dC5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKSx0Lmdob3N0LmNzcyh7b3BhY2l0eTouMjUsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OmUuaGVpZ2h0LHdpZHRoOmUud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSksdC5fYWRkQ2xhc3ModC5naG9zdCwidWktcmVzaXphYmxlLWdob3N0IiksITEhPT1WLnVpQmFja0NvbXBhdCYmInN0cmluZyI9PXR5cGVvZiB0Lm9wdGlvbnMuZ2hvc3QmJnQuZ2hvc3QuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmdob3N0KSx0Lmdob3N0LmFwcGVuZFRvKHQuaGVscGVyKX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIik7dC5naG9zdCYmdC5naG9zdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OnQuc2l6ZS5oZWlnaHQsd2lkdGg6dC5zaXplLndpZHRofSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0LmhlbHBlciYmdC5oZWxwZXIuZ2V0KDApLnJlbW92ZUNoaWxkKHQuZ2hvc3QuZ2V0KDApKX19KSxWLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdyaWQiLHtyZXNpemU6ZnVuY3Rpb24oKXt2YXIgdCxlPVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9ZS5vcHRpb25zLHM9ZS5zaXplLG49ZS5vcmlnaW5hbFNpemUsbz1lLm9yaWdpbmFsUG9zaXRpb24sYT1lLmF4aXMscj0ibnVtYmVyIj09dHlwZW9mIGkuZ3JpZD9baS5ncmlkLGkuZ3JpZF06aS5ncmlkLGw9clswXXx8MSxoPXJbMV18fDEsYz1NYXRoLnJvdW5kKChzLndpZHRoLW4ud2lkdGgpL2wpKmwsdT1NYXRoLnJvdW5kKChzLmhlaWdodC1uLmhlaWdodCkvaCkqaCxkPW4ud2lkdGgrYyxwPW4uaGVpZ2h0K3UsZj1pLm1heFdpZHRoJiZpLm1heFdpZHRoPGQsZz1pLm1heEhlaWdodCYmaS5tYXhIZWlnaHQ8cCxtPWkubWluV2lkdGgmJmkubWluV2lkdGg+ZCxzPWkubWluSGVpZ2h0JiZpLm1pbkhlaWdodD5wO2kuZ3JpZD1yLG0mJihkKz1sKSxzJiYocCs9aCksZiYmKGQtPWwpLGcmJihwLT1oKSwvXihzZXxzfGUpJC8udGVzdChhKT8oZS5zaXplLndpZHRoPWQsZS5zaXplLmhlaWdodD1wKTovXihuZSkkLy50ZXN0KGEpPyhlLnNpemUud2lkdGg9ZCxlLnNpemUuaGVpZ2h0PXAsZS5wb3NpdGlvbi50b3A9by50b3AtdSk6L14oc3cpJC8udGVzdChhKT8oZS5zaXplLndpZHRoPWQsZS5zaXplLmhlaWdodD1wLGUucG9zaXRpb24ubGVmdD1vLmxlZnQtYyk6KChwLWg8PTB8fGQtbDw9MCkmJih0PWUuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyh0aGlzKSksMDxwLWg/KGUuc2l6ZS5oZWlnaHQ9cCxlLnBvc2l0aW9uLnRvcD1vLnRvcC11KToocD1oLXQuaGVpZ2h0LGUuc2l6ZS5oZWlnaHQ9cCxlLnBvc2l0aW9uLnRvcD1vLnRvcCtuLmhlaWdodC1wKSwwPGQtbD8oZS5zaXplLndpZHRoPWQsZS5wb3NpdGlvbi5sZWZ0PW8ubGVmdC1jKTooZD1sLXQud2lkdGgsZS5zaXplLndpZHRoPWQsZS5wb3NpdGlvbi5sZWZ0PW8ubGVmdCtuLndpZHRoLWQpKX19KTtWLnVpLnJlc2l6YWJsZTtWLndpZGdldCgidWkuZGlhbG9nIix7dmVyc2lvbjoiMS4xMy4yIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b09wZW46ITAsYnV0dG9uczpbXSxjbGFzc2VzOnsidWktZGlhbG9nIjoidWktY29ybmVyLWFsbCIsInVpLWRpYWxvZy10aXRsZWJhciI6InVpLWNvcm5lci1hbGwifSxjbG9zZU9uRXNjYXBlOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLGRyYWdnYWJsZTohMCxoaWRlOm51bGwsaGVpZ2h0OiJhdXRvIixtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoxNTAsbWluV2lkdGg6MTUwLG1vZGFsOiExLHBvc2l0aW9uOntteToiY2VudGVyIixhdDoiY2VudGVyIixvZjp3aW5kb3csY29sbGlzaW9uOiJmaXQiLHVzaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPVYodGhpcykuY3NzKHQpLm9mZnNldCgpLnRvcDtlPDAmJlYodGhpcykuY3NzKCJ0b3AiLHQudG9wLWUpfX0scmVzaXphYmxlOiEwLHNob3c6bnVsbCx0aXRsZTpudWxsLHdpZHRoOjMwMCxiZWZvcmVDbG9zZTpudWxsLGNsb3NlOm51bGwsZHJhZzpudWxsLGRyYWdTdGFydDpudWxsLGRyYWdTdG9wOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzaXplOm51bGwscmVzaXplU3RhcnQ6bnVsbCxyZXNpemVTdG9wOm51bGx9LHNpemVSZWxhdGVkT3B0aW9uczp7YnV0dG9uczohMCxoZWlnaHQ6ITAsbWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMCx3aWR0aDohMH0scmVzaXphYmxlUmVsYXRlZE9wdGlvbnM6e21heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsQ3NzPXtkaXNwbGF5OnRoaXMuZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5LHdpZHRoOnRoaXMuZWxlbWVudFswXS5zdHlsZS53aWR0aCxtaW5IZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1pbkhlaWdodCxtYXhIZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1heEhlaWdodCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmhlaWdodH0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtwYXJlbnQ6dGhpcy5lbGVtZW50LnBhcmVudCgpLGluZGV4OnRoaXMuZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KHRoaXMuZWxlbWVudCl9LHRoaXMub3JpZ2luYWxUaXRsZT10aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKSxudWxsPT10aGlzLm9wdGlvbnMudGl0bGUmJm51bGwhPXRoaXMub3JpZ2luYWxUaXRsZSYmKHRoaXMub3B0aW9ucy50aXRsZT10aGlzLm9yaWdpbmFsVGl0bGUpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMSksdGhpcy5fY3JlYXRlV3JhcHBlcigpLHRoaXMuZWxlbWVudC5zaG93KCkucmVtb3ZlQXR0cigidGl0bGUiKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSx0aGlzLl9hZGRDbGFzcygidWktZGlhbG9nLWNvbnRlbnQiLCJ1aS13aWRnZXQtY29udGVudCIpLHRoaXMuX2NyZWF0ZVRpdGxlYmFyKCksdGhpcy5fY3JlYXRlQnV0dG9uUGFuZSgpLHRoaXMub3B0aW9ucy5kcmFnZ2FibGUmJlYuZm4uZHJhZ2dhYmxlJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCksdGhpcy5vcHRpb25zLnJlc2l6YWJsZSYmVi5mbi5yZXNpemFibGUmJnRoaXMuX21ha2VSZXNpemFibGUoKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fdHJhY2tGb2N1cygpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlKT9WKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0fHwiYm9keSIpLmVxKDApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3RoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCksdGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCkuY3NzKHRoaXMub3JpZ2luYWxDc3MpLmRldGFjaCgpLHRoaXMudWlEaWFsb2cucmVtb3ZlKCksdGhpcy5vcmlnaW5hbFRpdGxlJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMub3JpZ2luYWxUaXRsZSksKHQ9ZS5wYXJlbnQuY2hpbGRyZW4oKS5lcShlLmluZGV4KSkubGVuZ3RoJiZ0WzBdIT09dGhpcy5lbGVtZW50WzBdP3QuYmVmb3JlKHRoaXMuZWxlbWVudCk6ZS5wYXJlbnQuYXBwZW5kKHRoaXMuZWxlbWVudCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxkaXNhYmxlOlYubm9vcCxlbmFibGU6Vi5ub29wLGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5faXNPcGVuJiYhMSE9PXRoaXMuX3RyaWdnZXIoImJlZm9yZUNsb3NlIix0KSYmKHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9mb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCksdGhpcy5fdW50cmFja0luc3RhbmNlKCksdGhpcy5vcGVuZXIuZmlsdGVyKCI6Zm9jdXNhYmxlIikudHJpZ2dlcigiZm9jdXMiKS5sZW5ndGh8fFYudWkuc2FmZUJsdXIoVi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSksdGhpcy5faGlkZSh0aGlzLnVpRGlhbG9nLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7ZS5fdHJpZ2dlcigiY2xvc2UiLHQpfSkpfSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxtb3ZlVG9Ub3A6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlVG9Ub3AoKX0sX21vdmVUb1RvcDpmdW5jdGlvbih0LGUpe3ZhciBpPSExLHM9dGhpcy51aURpYWxvZy5zaWJsaW5ncygiLnVpLWZyb250OnZpc2libGUiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4rVih0aGlzKS5jc3MoInotaW5kZXgiKX0pLmdldCgpLHM9TWF0aC5tYXguYXBwbHkobnVsbCxzKTtyZXR1cm4gcz49K3RoaXMudWlEaWFsb2cuY3NzKCJ6LWluZGV4IikmJih0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIscysxKSxpPSEwKSxpJiYhZSYmdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQpLGl9LG9wZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2lzT3Blbj90aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpOih0aGlzLl9pc09wZW49ITAsdGhpcy5vcGVuZXI9VihWLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKSx0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9jcmVhdGVPdmVybGF5KCksdGhpcy5fbW92ZVRvVG9wKG51bGwsITApLHRoaXMub3ZlcmxheSYmdGhpcy5vdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKS0xKSx0aGlzLl9zaG93KHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLnNob3csZnVuY3Rpb24oKXt0Ll9mb2N1c1RhYmJhYmxlKCksdC5fdHJpZ2dlcigiZm9jdXMiKX0pLHRoaXMuX21ha2VGb2N1c1RhcmdldCgpLHRoaXMuX3RyaWdnZXIoIm9wZW4iKSl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZm9jdXNlZEVsZW1lbnQ7KHQ9ISh0PSEodD0hKHQ9ISh0PXR8fHRoaXMuZWxlbWVudC5maW5kKCJbYXV0b2ZvY3VzXSIpKS5sZW5ndGg/dGhpcy5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpOnQpLmxlbmd0aD90aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCI6dGFiYmFibGUiKTp0KS5sZW5ndGg/dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UuZmlsdGVyKCI6dGFiYmFibGUiKTp0KS5sZW5ndGg/dGhpcy51aURpYWxvZzp0KS5lcSgwKS50cmlnZ2VyKCJmb2N1cyIpfSxfcmVzdG9yZVRhYmJhYmxlRm9jdXM6ZnVuY3Rpb24oKXt2YXIgdD1WLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO3RoaXMudWlEaWFsb2dbMF09PT10fHxWLmNvbnRhaW5zKHRoaXMudWlEaWFsb2dbMF0sdCl8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX0sX2tlZXBGb2N1czpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fcmVzdG9yZVRhYmJhYmxlRm9jdXMoKSx0aGlzLl9kZWxheSh0aGlzLl9yZXN0b3JlVGFiYmFibGVGb2N1cyl9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZz1WKCI8ZGl2PiIpLmhpZGUoKS5hdHRyKHt0YWJJbmRleDotMSxyb2xlOiJkaWFsb2cifSkuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250IiksdGhpcy5fb24odGhpcy51aURpYWxvZyx7a2V5ZG93bjpmdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuY2xvc2VPbkVzY2FwZSYmIXQuaXNEZWZhdWx0UHJldmVudGVkKCkmJnQua2V5Q29kZSYmdC5rZXlDb2RlPT09Vi51aS5rZXlDb2RlLkVTQ0FQRSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdGhpcy5jbG9zZSh0KTt2YXIgZSxpLHM7dC5rZXlDb2RlIT09Vi51aS5rZXlDb2RlLlRBQnx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGU9dGhpcy51aURpYWxvZy5maW5kKCI6dGFiYmFibGUiKSxpPWUuZmlyc3QoKSxzPWUubGFzdCgpLHQudGFyZ2V0IT09c1swXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHx0LnNoaWZ0S2V5P3QudGFyZ2V0IT09aVswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHwhdC5zaGlmdEtleXx8KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cy50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtpLnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpKX0sbW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmVUb1RvcCh0KSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpfX0pLHRoaXMuZWxlbWVudC5maW5kKCJbYXJpYS1kZXNjcmliZWRieV0iKS5sZW5ndGh8fHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIil9KX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51aURpYWxvZ1RpdGxlYmFyPVYoIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyLCJ1aS1kaWFsb2ctdGl0bGViYXIiLCJ1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIpLHRoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhcix7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe1YodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKXx8dGhpcy51aURpYWxvZy50cmlnZ2VyKCJmb2N1cyIpfX0pLHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPVYoIjxidXR0b24gdHlwZT0nYnV0dG9uJz48L2J1dHRvbj4iKS5idXR0b24oe2xhYmVsOlYoIjxhPiIpLnRleHQodGhpcy5vcHRpb25zLmNsb3NlVGV4dCkuaHRtbCgpLGljb246InVpLWljb24tY2xvc2V0aGljayIsc2hvd0xhYmVsOiExfSkuYXBwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSwidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIiksdGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2Use2NsaWNrOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpfX0pLHQ9VigiPHNwYW4+IikudW5pcXVlSWQoKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKSx0aGlzLl9hZGRDbGFzcyh0LCJ1aS1kaWFsb2ctdGl0bGUiKSx0aGlzLl90aXRsZSh0KSx0aGlzLnVpRGlhbG9nVGl0bGViYXIucHJlcGVuZFRvKHRoaXMudWlEaWFsb2cpLHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtbGFiZWxsZWRieSI6dC5hdHRyKCJpZCIpfSl9LF90aXRsZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMudGl0bGU/dC50ZXh0KHRoaXMub3B0aW9ucy50aXRsZSk6dC5odG1sKCImIzE2MDsiKX0sX2NyZWF0ZUJ1dHRvblBhbmU6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZT1WKCI8ZGl2PiIpLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLCJ1aS1kaWFsb2ctYnV0dG9ucGFuZSIsInVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCIpLHRoaXMudWlCdXR0b25TZXQ9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSksdGhpcy5fYWRkQ2xhc3ModGhpcy51aUJ1dHRvblNldCwidWktZGlhbG9nLWJ1dHRvbnNldCIpLHRoaXMuX2NyZWF0ZUJ1dHRvbnMoKX0sX2NyZWF0ZUJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLHQ9dGhpcy5vcHRpb25zLmJ1dHRvbnM7dGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCksdGhpcy51aUJ1dHRvblNldC5lbXB0eSgpLFYuaXNFbXB0eU9iamVjdCh0KXx8QXJyYXkuaXNBcnJheSh0KSYmIXQubGVuZ3RoP3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIik6KFYuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk7ZT1WLmV4dGVuZCh7dHlwZToiYnV0dG9uIn0sZT0iZnVuY3Rpb24iPT10eXBlb2YgZT97Y2xpY2s6ZSx0ZXh0OnR9OmUpLGk9ZS5jbGljayx0PXtpY29uOmUuaWNvbixpY29uUG9zaXRpb246ZS5pY29uUG9zaXRpb24sc2hvd0xhYmVsOmUuc2hvd0xhYmVsLGljb25zOmUuaWNvbnMsdGV4dDplLnRleHR9LGRlbGV0ZSBlLmNsaWNrLGRlbGV0ZSBlLmljb24sZGVsZXRlIGUuaWNvblBvc2l0aW9uLGRlbGV0ZSBlLnNob3dMYWJlbCxkZWxldGUgZS5pY29ucywiYm9vbGVhbiI9PXR5cGVvZiBlLnRleHQmJmRlbGV0ZSBlLnRleHQsVigiPGJ1dHRvbj48L2J1dHRvbj4iLGUpLmJ1dHRvbih0KS5hcHBlbmRUbyhzLnVpQnV0dG9uU2V0KS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7aS5hcHBseShzLmVsZW1lbnRbMF0sYXJndW1lbnRzKX0pfSksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nLWJ1dHRvbnMiKSx0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSl9LF9tYWtlRHJhZ2dhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxvPXRoaXMub3B0aW9ucztmdW5jdGlvbiBhKHQpe3JldHVybntwb3NpdGlvbjp0LnBvc2l0aW9uLG9mZnNldDp0Lm9mZnNldH19dGhpcy51aURpYWxvZy5kcmFnZ2FibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50LCAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIixoYW5kbGU6Ii51aS1kaWFsb2ctdGl0bGViYXIiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsc3RhcnQ6ZnVuY3Rpb24odCxlKXtuLl9hZGRDbGFzcyhWKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKSxuLl9ibG9ja0ZyYW1lcygpLG4uX3RyaWdnZXIoImRyYWdTdGFydCIsdCxhKGUpKX0sZHJhZzpmdW5jdGlvbih0LGUpe24uX3RyaWdnZXIoImRyYWciLHQsYShlKSl9LHN0b3A6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLm9mZnNldC5sZWZ0LW4uZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLHM9ZS5vZmZzZXQudG9wLW4uZG9jdW1lbnQuc2Nyb2xsVG9wKCk7by5wb3NpdGlvbj17bXk6ImxlZnQgdG9wIixhdDoibGVmdCIrKDA8PWk/IisiOiIiKStpKyIgdG9wIisoMDw9cz8iKyI6IiIpK3Msb2Y6bi53aW5kb3d9LG4uX3JlbW92ZUNsYXNzKFYodGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpLG4uX3VuYmxvY2tGcmFtZXMoKSxuLl90cmlnZ2VyKCJkcmFnU3RvcCIsdCxhKGUpKX19KX0sX21ha2VSZXNpemFibGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLG89dGhpcy5vcHRpb25zLHQ9by5yZXNpemFibGUsZT10aGlzLnVpRGlhbG9nLmNzcygicG9zaXRpb24iKSx0PSJzdHJpbmciPT10eXBlb2YgdD90OiJuLGUscyx3LHNlLHN3LG5lLG53IjtmdW5jdGlvbiBhKHQpe3JldHVybntvcmlnaW5hbFBvc2l0aW9uOnQub3JpZ2luYWxQb3NpdGlvbixvcmlnaW5hbFNpemU6dC5vcmlnaW5hbFNpemUscG9zaXRpb246dC5wb3NpdGlvbixzaXplOnQuc2l6ZX19dGhpcy51aURpYWxvZy5yZXNpemFibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50Iixjb250YWlubWVudDoiZG9jdW1lbnQiLGFsc29SZXNpemU6dGhpcy5lbGVtZW50LG1heFdpZHRoOm8ubWF4V2lkdGgsbWF4SGVpZ2h0Om8ubWF4SGVpZ2h0LG1pbldpZHRoOm8ubWluV2lkdGgsbWluSGVpZ2h0OnRoaXMuX21pbkhlaWdodCgpLGhhbmRsZXM6dCxzdGFydDpmdW5jdGlvbih0LGUpe24uX2FkZENsYXNzKFYodGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpLG4uX2Jsb2NrRnJhbWVzKCksbi5fdHJpZ2dlcigicmVzaXplU3RhcnQiLHQsYShlKSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe24uX3RyaWdnZXIoInJlc2l6ZSIsdCxhKGUpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3ZhciBpPW4udWlEaWFsb2cub2Zmc2V0KCkscz1pLmxlZnQtbi5kb2N1bWVudC5zY3JvbGxMZWZ0KCksaT1pLnRvcC1uLmRvY3VtZW50LnNjcm9sbFRvcCgpO28uaGVpZ2h0PW4udWlEaWFsb2cuaGVpZ2h0KCksby53aWR0aD1uLnVpRGlhbG9nLndpZHRoKCksby5wb3NpdGlvbj17bXk6ImxlZnQgdG9wIixhdDoibGVmdCIrKDA8PXM/IisiOiIiKStzKyIgdG9wIisoMDw9aT8iKyI6IiIpK2ksb2Y6bi53aW5kb3d9LG4uX3JlbW92ZUNsYXNzKFYodGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpLG4uX3VuYmxvY2tGcmFtZXMoKSxuLl90cmlnZ2VyKCJyZXNpemVTdG9wIix0LGEoZSkpfX0pLmNzcygicG9zaXRpb24iLGUpfSxfdHJhY2tGb2N1czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2lkZ2V0KCkse2ZvY3VzaW46ZnVuY3Rpb24odCl7dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCksdGhpcy5fZm9jdXNlZEVsZW1lbnQ9Vih0LnRhcmdldCl9fSl9LF9tYWtlRm9jdXNUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQodGhpcyl9LF91bnRyYWNrSW5zdGFuY2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmFja2luZ0luc3RhbmNlcygpLGU9Vi5pbkFycmF5KHRoaXMsdCk7LTEhPT1lJiZ0LnNwbGljZShlLDEpfSxfdHJhY2tpbmdJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiKTtyZXR1cm4gdHx8dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIix0PVtdKSx0fSxfbWluSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3JldHVybiJhdXRvIj09PXQuaGVpZ2h0P3QubWluSGVpZ2h0Ok1hdGgubWluKHQubWluSGVpZ2h0LHQuaGVpZ2h0KX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51aURpYWxvZy5pcygiOnZpc2libGUiKTt0fHx0aGlzLnVpRGlhbG9nLnNob3coKSx0aGlzLnVpRGlhbG9nLnBvc2l0aW9uKHRoaXMub3B0aW9ucy5wb3NpdGlvbiksdHx8dGhpcy51aURpYWxvZy5oaWRlKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscz0hMSxuPXt9O1YuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7aS5fc2V0T3B0aW9uKHQsZSksdCBpbiBpLnNpemVSZWxhdGVkT3B0aW9ucyYmKHM9ITApLHQgaW4gaS5yZXNpemFibGVSZWxhdGVkT3B0aW9ucyYmKG5bdF09ZSl9KSxzJiYodGhpcy5fc2l6ZSgpLHRoaXMuX3Bvc2l0aW9uKCkpLHRoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsbil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXRoaXMudWlEaWFsb2c7ImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGUpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6VigiPGE+IikudGV4dCgiIit0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCl9KSwiZHJhZ2dhYmxlIj09PXQmJigoaT1zLmlzKCI6ZGF0YSh1aS1kcmFnZ2FibGUpIikpJiYhZSYmcy5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhaSYmZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSwicG9zaXRpb24iPT09dCYmdGhpcy5fcG9zaXRpb24oKSwicmVzaXphYmxlIj09PXQmJigoaT1zLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikpJiYhZSYmcy5yZXNpemFibGUoImRlc3Ryb3kiKSxpJiYic3RyaW5nIj09dHlwZW9mIGUmJnMucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixlKSxpfHwhMT09PWV8fHRoaXMuX21ha2VSZXNpemFibGUoKSksInRpdGxlIj09PXQmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscz10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSkscy5taW5XaWR0aD5zLndpZHRoJiYocy53aWR0aD1zLm1pbldpZHRoKSx0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOnMud2lkdGh9KS5vdXRlckhlaWdodCgpLGU9TWF0aC5tYXgoMCxzLm1pbkhlaWdodC10KSxpPSJudW1iZXIiPT10eXBlb2Ygcy5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxzLm1heEhlaWdodC10KToibm9uZSIsImF1dG8iPT09cy5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmUsbWF4SGVpZ2h0OmksaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxzLmhlaWdodC10KSksdGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKTtyZXR1cm4gVigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuISFWKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGlhbG9nIikubGVuZ3RofHwhIVYodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kYXRlcGlja2VyIikubGVuZ3RofSxfY3JlYXRlT3ZlcmxheTpmdW5jdGlvbigpe3ZhciBpLHM7dGhpcy5vcHRpb25zLm1vZGFsJiYoaT1WLmZuLmpxdWVyeS5zdWJzdHJpbmcoMCw0KSxzPSEwLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cz0hMX0pLHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuZG9jdW1lbnQub24oImZvY3VzaW4udWktZGlhbG9nIixmdW5jdGlvbih0KXt2YXIgZTtzfHwoKGU9dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKVswXSkuX2FsbG93SW50ZXJhY3Rpb24odCl8fCh0LnByZXZlbnREZWZhdWx0KCksZS5fZm9jdXNUYWJiYWJsZSgpLCIzLjQuIiE9PWkmJiIzLjUuIiE9PWl8fGUuX2RlbGF5KGUuX3Jlc3RvcmVUYWJiYWJsZUZvY3VzKSkpfS5iaW5kKHRoaXMpKSx0aGlzLm92ZXJsYXk9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSx0aGlzLl9hZGRDbGFzcyh0aGlzLm92ZXJsYXksbnVsbCwidWktd2lkZ2V0LW92ZXJsYXkgdWktZnJvbnQiKSx0aGlzLl9vbih0aGlzLm92ZXJsYXkse21vdXNlZG93bjoiX2tlZXBGb2N1cyJ9KSx0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIsKHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fDApKzEpKX0sX2Rlc3Ryb3lPdmVybGF5OmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5vcHRpb25zLm1vZGFsJiZ0aGlzLm92ZXJsYXkmJigodD10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpLTEpP3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIix0KToodGhpcy5kb2N1bWVudC5vZmYoImZvY3VzaW4udWktZGlhbG9nIiksdGhpcy5kb2N1bWVudC5yZW1vdmVEYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKSksdGhpcy5vdmVybGF5LnJlbW92ZSgpLHRoaXMub3ZlcmxheT1udWxsKX19KSwhMSE9PVYudWlCYWNrQ29tcGF0JiZWLndpZGdldCgidWkuZGlhbG9nIixWLnVpLmRpYWxvZyx7b3B0aW9uczp7ZGlhbG9nQ2xhc3M6IiJ9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLnVpRGlhbG9nLmFkZENsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiZGlhbG9nQ2xhc3MiPT09dCYmdGhpcy51aURpYWxvZy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpLmFkZENsYXNzKGUpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKX19KTtWLnVpLmRpYWxvZztmdW5jdGlvbiBsdCh0LGUsaSl7cmV0dXJuIGU8PXQmJnQ8ZStpfVYud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLHt2ZXJzaW9uOiIxLjEzLjIiLHdpZGdldEV2ZW50UHJlZml4OiJkcm9wIixvcHRpb25zOnthY2NlcHQ6IioiLGFkZENsYXNzZXM6ITAsZ3JlZWR5OiExLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsYWN0aXZhdGU6bnVsbCxkZWFjdGl2YXRlOm51bGwsZHJvcDpudWxsLG91dDpudWxsLG92ZXI6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vcHRpb25zLGk9ZS5hY2NlcHQ7dGhpcy5pc292ZXI9ITEsdGhpcy5pc291dD0hMCx0aGlzLmFjY2VwdD0iZnVuY3Rpb24iPT10eXBlb2YgaT9pOmZ1bmN0aW9uKHQpe3JldHVybiB0LmlzKGkpfSx0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHQ9dHx8e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH07dD1hcmd1bWVudHNbMF19LHRoaXMuX2FkZFRvTWFuYWdlcihlLnNjb3BlKSxlLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbih0KXtWLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdPVYudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF18fFtdLFYudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPT09dGhpcyYmdC5zcGxpY2UoZSwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1WLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk7ImFjY2VwdCI9PT10P3RoaXMuYWNjZXB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMoZSl9OiJzY29wZSI9PT10JiYoaT1WLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV0sdGhpcy5fc3BsaWNlKGkpLHRoaXMuX2FkZFRvTWFuYWdlcihlKSksdGhpcy5fc3VwZXIodCxlKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPVYudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5fYWRkQWN0aXZlQ2xhc3MoKSxlJiZ0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsdCx0aGlzLnVpKGUpKX0sX2RlYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGU9Vi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpLGUmJnRoaXMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLHQsdGhpcy51aShlKSl9LF9vdmVyOmZ1bmN0aW9uKHQpe3ZhciBlPVYudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7ZSYmKGUuY3VycmVudEl0ZW18fGUuZWxlbWVudClbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGUuY3VycmVudEl0ZW18fGUuZWxlbWVudCkmJih0aGlzLl9hZGRIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLnVpKGUpKSl9LF9vdXQ6ZnVuY3Rpb24odCl7dmFyIGU9Vi51aS5kZG1hbmFnZXIuY3VycmVudDtlJiYoZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KSYmKHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy51aShlKSkpfSxfZHJvcDpmdW5jdGlvbihlLHQpe3ZhciBpPXR8fFYudWkuZGRtYW5hZ2VyLmN1cnJlbnQscz0hMTtyZXR1cm4hKCFpfHwoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXT09PXRoaXMuZWxlbWVudFswXSkmJih0aGlzLmVsZW1lbnQuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLm5vdCgiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLmRyb3BwYWJsZSgiaW5zdGFuY2UiKTtpZih0Lm9wdGlvbnMuZ3JlZWR5JiYhdC5vcHRpb25zLmRpc2FibGVkJiZ0Lm9wdGlvbnMuc2NvcGU9PT1pLm9wdGlvbnMuc2NvcGUmJnQuYWNjZXB0LmNhbGwodC5lbGVtZW50WzBdLGkuY3VycmVudEl0ZW18fGkuZWxlbWVudCkmJlYudWkuaW50ZXJzZWN0KGksVi5leHRlbmQodCx7b2Zmc2V0OnQuZWxlbWVudC5vZmZzZXQoKX0pLHQub3B0aW9ucy50b2xlcmFuY2UsZSkpcmV0dXJuIShzPSEwKX0pLCFzJiYoISF0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlQWN0aXZlQ2xhc3MoKSx0aGlzLl9yZW1vdmVIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigiZHJvcCIsZSx0aGlzLnVpKGkpKSx0aGlzLmVsZW1lbnQpKSl9LHVpOmZ1bmN0aW9uKHQpe3JldHVybntkcmFnZ2FibGU6dC5jdXJyZW50SXRlbXx8dC5lbGVtZW50LGhlbHBlcjp0LmhlbHBlcixwb3NpdGlvbjp0LnBvc2l0aW9uLG9mZnNldDp0LnBvc2l0aW9uQWJzfX0sX2FkZEhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcygidWktZHJvcHBhYmxlLWhvdmVyIil9LF9yZW1vdmVIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZS1ob3ZlciIpfSxfYWRkQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcygidWktZHJvcHBhYmxlLWFjdGl2ZSIpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlLWFjdGl2ZSIpfX0pLFYudWkuaW50ZXJzZWN0PWZ1bmN0aW9uKHQsZSxpLHMpe2lmKCFlLm9mZnNldClyZXR1cm4hMTt2YXIgbj0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkubGVmdCt0Lm1hcmdpbnMubGVmdCxvPSh0LnBvc2l0aW9uQWJzfHx0LnBvc2l0aW9uLmFic29sdXRlKS50b3ArdC5tYXJnaW5zLnRvcCxhPW4rdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxyPW8rdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbD1lLm9mZnNldC5sZWZ0LGg9ZS5vZmZzZXQudG9wLGM9bCtlLnByb3BvcnRpb25zKCkud2lkdGgsdT1oK2UucHJvcG9ydGlvbnMoKS5oZWlnaHQ7c3dpdGNoKGkpe2Nhc2UiZml0IjpyZXR1cm4gbDw9biYmYTw9YyYmaDw9byYmcjw9dTtjYXNlImludGVyc2VjdCI6cmV0dXJuIGw8bit0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmEtdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPGMmJmg8byt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yJiZyLXQuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI8dTtjYXNlInBvaW50ZXIiOnJldHVybiBsdChzLnBhZ2VZLGgsZS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJmx0KHMucGFnZVgsbCxlLnByb3BvcnRpb25zKCkud2lkdGgpO2Nhc2UidG91Y2giOnJldHVybihoPD1vJiZvPD11fHxoPD1yJiZyPD11fHxvPGgmJnU8cikmJihsPD1uJiZuPD1jfHxsPD1hJiZhPD1jfHxuPGwmJmM8YSk7ZGVmYXVsdDpyZXR1cm4hMX19LCEoVi51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOntkZWZhdWx0OltdfSxwcmVwYXJlT2Zmc2V0czpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj1WLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3Qub3B0aW9ucy5zY29wZV18fFtdLG89ZT9lLnR5cGU6bnVsbCxhPSh0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpLmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5hZGRCYWNrKCk7dDpmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKWlmKCEobltpXS5vcHRpb25zLmRpc2FibGVkfHx0JiYhbltpXS5hY2NlcHQuY2FsbChuW2ldLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSkpe2ZvcihzPTA7czxhLmxlbmd0aDtzKyspaWYoYVtzXT09PW5baV0uZWxlbWVudFswXSl7bltpXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIHR9bltpXS52aXNpYmxlPSJub25lIiE9PW5baV0uZWxlbWVudC5jc3MoImRpc3BsYXkiKSxuW2ldLnZpc2libGUmJigibW91c2Vkb3duIj09PW8mJm5baV0uX2FjdGl2YXRlLmNhbGwobltpXSxlKSxuW2ldLm9mZnNldD1uW2ldLmVsZW1lbnQub2Zmc2V0KCksbltpXS5wcm9wb3J0aW9ucyh7d2lkdGg6bltpXS5lbGVtZW50WzBdLm9mZnNldFdpZHRoLGhlaWdodDpuW2ldLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0fSkpfX0sZHJvcDpmdW5jdGlvbih0LGUpe3ZhciBpPSExO3JldHVybiBWLmVhY2goKFYudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10pLnNsaWNlKCksZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJlYudWkuaW50ZXJzZWN0KHQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLGUpJiYoaT10aGlzLl9kcm9wLmNhbGwodGhpcyxlKXx8aSksIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy52aXNpYmxlJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpJiYodGhpcy5pc291dD0hMCx0aGlzLmlzb3Zlcj0hMSx0aGlzLl9kZWFjdGl2YXRlLmNhbGwodGhpcyxlKSkpfSksaX0sZHJhZ1N0YXJ0OmZ1bmN0aW9uKHQsZSl7dC5lbGVtZW50LnBhcmVudHNVbnRpbCgiYm9keSIpLm9uKCJzY3JvbGwuZHJvcHBhYmxlIixmdW5jdGlvbigpe3Qub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHxWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGUpfSl9LGRyYWc6ZnVuY3Rpb24obixvKXtuLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9ucyYmVi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMobixvKSxWLmVhY2goVi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tuLm9wdGlvbnMuc2NvcGVdfHxbXSxmdW5jdGlvbigpe3ZhciB0LGUsaSxzO3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5ncmVlZHlDaGlsZHx8IXRoaXMudmlzaWJsZXx8KHM9IShpPVYudWkuaW50ZXJzZWN0KG4sdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLG8pKSYmdGhpcy5pc292ZXI/Imlzb3V0IjppJiYhdGhpcy5pc292ZXI/Imlzb3ZlciI6bnVsbCkmJih0aGlzLm9wdGlvbnMuZ3JlZWR5JiYoZT10aGlzLm9wdGlvbnMuc2NvcGUsKGk9dGhpcy5lbGVtZW50LnBhcmVudHMoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gVih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIikub3B0aW9ucy5zY29wZT09PWV9KSkubGVuZ3RoJiYoKHQ9VihpWzBdKS5kcm9wcGFibGUoImluc3RhbmNlIikpLmdyZWVkeUNoaWxkPSJpc292ZXIiPT09cykpLHQmJiJpc292ZXIiPT09cyYmKHQuaXNvdmVyPSExLHQuaXNvdXQ9ITAsdC5fb3V0LmNhbGwodCxvKSksdGhpc1tzXT0hMCx0aGlzWyJpc291dCI9PT1zPyJpc292ZXIiOiJpc291dCJdPSExLHRoaXNbImlzb3ZlciI9PT1zPyJfb3ZlciI6Il9vdXQiXS5jYWxsKHRoaXMsbyksdCYmImlzb3V0Ij09PXMmJih0Lmlzb3V0PSExLHQuaXNvdmVyPSEwLHQuX292ZXIuY2FsbCh0LG8pKSl9KX0sZHJhZ1N0b3A6ZnVuY3Rpb24odCxlKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub2ZmKCJzY3JvbGwuZHJvcHBhYmxlIiksdC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fFYudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsZSl9fSkhPT1WLnVpQmFja0NvbXBhdCYmVi53aWRnZXQoInVpLmRyb3BwYWJsZSIsVi51aS5kcm9wcGFibGUse29wdGlvbnM6e2hvdmVyQ2xhc3M6ITEsYWN0aXZlQ2xhc3M6ITF9LF9hZGRBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfYWRkSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyl9LF9yZW1vdmVIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX19KTtWLnVpLmRyb3BwYWJsZSxWLndpZGdldCgidWkucHJvZ3Jlc3NiYXIiLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1wcm9ncmVzc2JhciI6InVpLWNvcm5lci1hbGwiLCJ1aS1wcm9ncmVzc2Jhci12YWx1ZSI6InVpLWNvcm5lci1sZWZ0IiwidWktcHJvZ3Jlc3NiYXItY29tcGxldGUiOiJ1aS1jb3JuZXItcmlnaHQifSxtYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKSx0aGlzLmVsZW1lbnQuYXR0cih7cm9sZToicHJvZ3Jlc3NiYXIiLCJhcmlhLXZhbHVlbWluIjp0aGlzLm1pbn0pLHRoaXMuX2FkZENsYXNzKCJ1aS1wcm9ncmVzc2JhciIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHRoaXMudmFsdWVEaXY9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2FkZENsYXNzKHRoaXMudmFsdWVEaXYsInVpLXByb2dyZXNzYmFyLXZhbHVlIiwidWktd2lkZ2V0LWhlYWRlciIpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93IiksdGhpcy52YWx1ZURpdi5yZW1vdmUoKX0sdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlO3RoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKHQpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfY29uc3RyYWluZWRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5vcHRpb25zLnZhbHVlKSx0aGlzLmluZGV0ZXJtaW5hdGU9ITE9PT10LCJudW1iZXIiIT10eXBlb2YgdCYmKHQ9MCksIXRoaXMuaW5kZXRlcm1pbmF0ZSYmTWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbix0KSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWU7ZGVsZXRlIHQudmFsdWUsdGhpcy5fc3VwZXIodCksdGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoZSksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsibWF4Ij09PXQmJihlPU1hdGgubWF4KHRoaXMubWluLGUpKSx0aGlzLl9zdXBlcih0LGUpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsZT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS53aWR0aChlLnRvRml4ZWQoMCkrIiUiKSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSIsbnVsbCx0PT09dGhpcy5vcHRpb25zLm1heCkuX3RvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIixudWxsLHRoaXMuaW5kZXRlcm1pbmF0ZSksdGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1WKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheURpdiwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheSIpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpLHRoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKSx0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KSxWLndpZGdldCgidWkuc2VsZWN0YWJsZSIsVi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIiksdGhpcy5kcmFnZ2VkPSExLHRoaXMucmVmcmVzaD1mdW5jdGlvbigpe2kuZWxlbWVudFBvcz1WKGkuZWxlbWVudFswXSkub2Zmc2V0KCksaS5zZWxlY3RlZXM9VihpLm9wdGlvbnMuZmlsdGVyLGkuZWxlbWVudFswXSksaS5fYWRkQ2xhc3MoaS5zZWxlY3RlZXMsInVpLXNlbGVjdGVlIiksaS5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyksZT10Lm9mZnNldCgpLGU9e2xlZnQ6ZS5sZWZ0LWkuZWxlbWVudFBvcy5sZWZ0LHRvcDplLnRvcC1pLmVsZW1lbnRQb3MudG9wfTtWLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OnQsbGVmdDplLmxlZnQsdG9wOmUudG9wLHJpZ2h0OmUubGVmdCt0Lm91dGVyV2lkdGgoKSxib3R0b206ZS50b3ArdC5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6dC5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6dC5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6dC5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9LHRoaXMucmVmcmVzaCgpLHRoaXMuX21vdXNlSW5pdCgpLHRoaXMuaGVscGVyPVYoIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNlbGVjdGFibGUtaGVscGVyIil9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIiksdGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGkpe3ZhciBzPXRoaXMsdD10aGlzLm9wdGlvbnM7dGhpcy5vcG9zPVtpLnBhZ2VYLGkucGFnZVldLHRoaXMuZWxlbWVudFBvcz1WKHRoaXMuZWxlbWVudFswXSkub2Zmc2V0KCksdGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9Vih0LmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0IixpKSxWKHQuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmkucGFnZVgsdG9wOmkucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHQuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTt0LnN0YXJ0c2VsZWN0ZWQ9ITAsaS5tZXRhS2V5fHxpLmN0cmxLZXl8fChzLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHQuc2VsZWN0ZWQ9ITEscy5fYWRkQ2xhc3ModC4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSx0LnVuc2VsZWN0aW5nPSEwLHMuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixpLHt1bnNlbGVjdGluZzp0LmVsZW1lbnR9KSl9KSxWKGkudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPVYuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpZihlKXJldHVybiB0PSFpLm1ldGFLZXkmJiFpLmN0cmxLZXl8fCFlLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLHMuX3JlbW92ZUNsYXNzKGUuJGVsZW1lbnQsdD8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLl9hZGRDbGFzcyhlLiRlbGVtZW50LHQ/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksZS51bnNlbGVjdGluZz0hdCxlLnNlbGVjdGluZz10LChlLnNlbGVjdGVkPXQpP3MuX3RyaWdnZXIoInNlbGVjdGluZyIsaSx7c2VsZWN0aW5nOmUuZWxlbWVudH0pOnMuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixpLHt1bnNlbGVjdGluZzplLmVsZW1lbnR9KSwhMX0pKX0sX21vdXNlRHJhZzpmdW5jdGlvbihzKXtpZih0aGlzLmRyYWdnZWQ9ITAsIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIHQsbj10aGlzLG89dGhpcy5vcHRpb25zLGE9dGhpcy5vcG9zWzBdLHI9dGhpcy5vcG9zWzFdLGw9cy5wYWdlWCxoPXMucGFnZVk7cmV0dXJuIGw8YSYmKHQ9bCxsPWEsYT10KSxoPHImJih0PWgsaD1yLHI9dCksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmEsdG9wOnIsd2lkdGg6bC1hLGhlaWdodDpoLXJ9KSx0aGlzLnNlbGVjdGVlcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpLGU9ITEsaT17fTt0JiZ0LmVsZW1lbnQhPT1uLmVsZW1lbnRbMF0mJihpLmxlZnQ9dC5sZWZ0K24uZWxlbWVudFBvcy5sZWZ0LGkucmlnaHQ9dC5yaWdodCtuLmVsZW1lbnRQb3MubGVmdCxpLnRvcD10LnRvcCtuLmVsZW1lbnRQb3MudG9wLGkuYm90dG9tPXQuYm90dG9tK24uZWxlbWVudFBvcy50b3AsInRvdWNoIj09PW8udG9sZXJhbmNlP2U9IShpLmxlZnQ+bHx8aS5yaWdodDxhfHxpLnRvcD5ofHxpLmJvdHRvbTxyKToiZml0Ij09PW8udG9sZXJhbmNlJiYoZT1pLmxlZnQ+YSYmaS5yaWdodDxsJiZpLnRvcD5yJiZpLmJvdHRvbTxoKSxlPyh0LnNlbGVjdGVkJiYobi5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSx0LnNlbGVjdGVkPSExKSx0LnVuc2VsZWN0aW5nJiYobi5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSx0LnVuc2VsZWN0aW5nPSExKSx0LnNlbGVjdGluZ3x8KG4uX2FkZENsYXNzKHQuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLHQuc2VsZWN0aW5nPSEwLG4uX3RyaWdnZXIoInNlbGVjdGluZyIscyx7c2VsZWN0aW5nOnQuZWxlbWVudH0pKSk6KHQuc2VsZWN0aW5nJiYoKHMubWV0YUtleXx8cy5jdHJsS2V5KSYmdC5zdGFydHNlbGVjdGVkPyhuLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSx0LnNlbGVjdGluZz0hMSxuLl9hZGRDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHQuc2VsZWN0ZWQ9ITApOihuLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSx0LnNlbGVjdGluZz0hMSx0LnN0YXJ0c2VsZWN0ZWQmJihuLl9hZGRDbGFzcyh0LiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLHQudW5zZWxlY3Rpbmc9ITApLG4uX3RyaWdnZXIoInVuc2VsZWN0aW5nIixzLHt1bnNlbGVjdGluZzp0LmVsZW1lbnR9KSkpLHQuc2VsZWN0ZWQmJihzLm1ldGFLZXl8fHMuY3RybEtleXx8dC5zdGFydHNlbGVjdGVkfHwobi5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSx0LnNlbGVjdGVkPSExLG4uX2FkZENsYXNzKHQuJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksdC51bnNlbGVjdGluZz0hMCxuLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIscyx7dW5zZWxlY3Rpbmc6dC5lbGVtZW50fSkpKSkpfSksITF9fSxfbW91c2VTdG9wOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuZHJhZ2dlZD0hMSxWKCIudWktdW5zZWxlY3RpbmciLHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLHQudW5zZWxlY3Rpbmc9ITEsdC5zdGFydHNlbGVjdGVkPSExLGkuX3RyaWdnZXIoInVuc2VsZWN0ZWQiLGUse3Vuc2VsZWN0ZWQ6dC5lbGVtZW50fSl9KSxWKCIudWktc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktc2VsZWN0aW5nIikuX2FkZENsYXNzKHQuJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksdC5zZWxlY3Rpbmc9ITEsdC5zZWxlY3RlZD0hMCx0LnN0YXJ0c2VsZWN0ZWQ9ITAsaS5fdHJpZ2dlcigic2VsZWN0ZWQiLGUse3NlbGVjdGVkOnQuZWxlbWVudH0pfSksdGhpcy5fdHJpZ2dlcigic3RvcCIsZSksdGhpcy5oZWxwZXIucmVtb3ZlKCksITF9fSksVi53aWRnZXQoInVpLnNlbGVjdG1lbnUiLFtWLnVpLmZvcm1SZXNldE1peGluLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmF1bHRFbGVtZW50OiI8c2VsZWN0PiIsb3B0aW9uczp7YXBwZW5kVG86bnVsbCxjbGFzc2VzOnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci10b3AiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItYWxsIn0sZGlzYWJsZWQ6bnVsbCxpY29uczp7YnV0dG9uOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyJ9LHBvc2l0aW9uOntteToibGVmdCB0b3AiLGF0OiJsZWZ0IGJvdHRvbSIsY29sbGlzaW9uOiJub25lIn0sd2lkdGg6ITEsY2hhbmdlOm51bGwsY2xvc2U6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxzZWxlY3Q6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIik7dGhpcy5pZHM9e2VsZW1lbnQ6dCxidXR0b246dCsiLWJ1dHRvbiIsbWVudTp0KyItbWVudSJ9LHRoaXMuX2RyYXdCdXR0b24oKSx0aGlzLl9kcmF3TWVudSgpLHRoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCksdGhpcy5fcmVuZGVyZWQ9ITEsdGhpcy5tZW51SXRlbXM9VigpfSxfZHJhd0J1dHRvbjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPXRoaXMuX3BhcnNlT3B0aW9uKHRoaXMuZWxlbWVudC5maW5kKCJvcHRpb246c2VsZWN0ZWQiKSx0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCk7dGhpcy5sYWJlbHM9dGhpcy5lbGVtZW50LmxhYmVscygpLmF0dHIoImZvciIsdGhpcy5pZHMuYnV0dG9uKSx0aGlzLl9vbih0aGlzLmxhYmVscyx7Y2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5idXR0b24udHJpZ2dlcigiZm9jdXMiKSx0LnByZXZlbnREZWZhdWx0KCl9fSksdGhpcy5lbGVtZW50LmhpZGUoKSx0aGlzLmJ1dHRvbj1WKCI8c3Bhbj4iLHt0YWJpbmRleDp0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/LTE6MCxpZDp0aGlzLmlkcy5idXR0b24scm9sZToiY29tYm9ib3giLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLW93bnMiOnRoaXMuaWRzLm1lbnUsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIix0aXRsZTp0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKX0pLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b24sInVpLXNlbGVjdG1lbnUtYnV0dG9uIHVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCIsInVpLWJ1dHRvbiB1aS13aWRnZXQiKSx0PVYoIjxzcGFuPiIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKSx0aGlzLl9hZGRDbGFzcyh0LCJ1aS1zZWxlY3RtZW51LWljb24iLCJ1aS1pY29uICIrdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbiksdGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0oaSkuYXBwZW5kVG8odGhpcy5idXR0b24pLCExIT09dGhpcy5vcHRpb25zLndpZHRoJiZ0aGlzLl9yZXNpemVCdXR0b24oKSx0aGlzLl9vbih0aGlzLmJ1dHRvbix0aGlzLl9idXR0b25FdmVudHMpLHRoaXMuYnV0dG9uLm9uZSgiZm9jdXNpbiIsZnVuY3Rpb24oKXtlLl9yZW5kZXJlZHx8ZS5fcmVmcmVzaE1lbnUoKX0pfSxfZHJhd01lbnU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO3RoaXMubWVudT1WKCI8dWw+Iix7ImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtbGFiZWxsZWRieSI6dGhpcy5pZHMuYnV0dG9uLGlkOnRoaXMuaWRzLm1lbnV9KSx0aGlzLm1lbnVXcmFwPVYoIjxkaXY+IikuYXBwZW5kKHRoaXMubWVudSksdGhpcy5fYWRkQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1tZW51IiwidWktZnJvbnQiKSx0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMubWVudUluc3RhbmNlPXRoaXMubWVudS5tZW51KHtjbGFzc2VzOnsidWktbWVudSI6InVpLWNvcm5lci1ib3R0b20ifSxyb2xlOiJsaXN0Ym94IixzZWxlY3Q6ZnVuY3Rpb24odCxlKXt0LnByZXZlbnREZWZhdWx0KCksaS5fc2V0U2VsZWN0aW9uKCksaS5fc2VsZWN0KGUuaXRlbS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSx0KX0sZm9jdXM6ZnVuY3Rpb24odCxlKXtlPWUuaXRlbS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKTtudWxsIT1pLmZvY3VzSW5kZXgmJmUuaW5kZXghPT1pLmZvY3VzSW5kZXgmJihpLl90cmlnZ2VyKCJmb2N1cyIsdCx7aXRlbTplfSksaS5pc09wZW58fGkuX3NlbGVjdChlLHQpKSxpLmZvY3VzSW5kZXg9ZS5pbmRleCxpLmJ1dHRvbi5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGkubWVudUl0ZW1zLmVxKGUuaW5kZXgpLmF0dHIoImlkIikpfX0pLm1lbnUoImluc3RhbmNlIiksdGhpcy5tZW51SW5zdGFuY2UuX29mZih0aGlzLm1lbnUsIm1vdXNlbGVhdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5fY2xvc2VPbkRvY3VtZW50Q2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5tZW51SW5zdGFuY2UuX2lzRGl2aWRlcj1mdW5jdGlvbigpe3JldHVybiExfX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hNZW51KCksdGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKHRoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpfHx7fSkpLG51bGw9PT10aGlzLm9wdGlvbnMud2lkdGgmJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfcmVmcmVzaE1lbnU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uIik7dGhpcy5tZW51LmVtcHR5KCksdGhpcy5fcGFyc2VPcHRpb25zKHQpLHRoaXMuX3JlbmRlck1lbnUodGhpcy5tZW51LHRoaXMuaXRlbXMpLHRoaXMubWVudUluc3RhbmNlLnJlZnJlc2goKSx0aGlzLm1lbnVJdGVtcz10aGlzLm1lbnUuZmluZCgibGkiKS5ub3QoIi51aS1zZWxlY3RtZW51LW9wdGdyb3VwIikuZmluZCgiLnVpLW1lbnUtaXRlbS13cmFwcGVyIiksdGhpcy5fcmVuZGVyZWQ9ITAsdC5sZW5ndGgmJih0PXRoaXMuX2dldFNlbGVjdGVkSXRlbSgpLHRoaXMubWVudUluc3RhbmNlLmZvY3VzKG51bGwsdCksdGhpcy5fc2V0QXJpYSh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSkpfSxvcGVuOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8KHRoaXMuX3JlbmRlcmVkPyh0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLm1lbnUuZmluZCgiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMubWVudUluc3RhbmNlLmZvY3VzKG51bGwsdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkpKTp0aGlzLl9yZWZyZXNoTWVudSgpLHRoaXMubWVudUl0ZW1zLmxlbmd0aCYmKHRoaXMuaXNPcGVuPSEwLHRoaXMuX3RvZ2dsZUF0dHIoKSx0aGlzLl9yZXNpemVNZW51KCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHRoaXMuX2RvY3VtZW50Q2xpY2spLHRoaXMuX3RyaWdnZXIoIm9wZW4iLHQpKSl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMubWVudVdyYXAucG9zaXRpb24oVi5leHRlbmQoe29mOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsdCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgZT1WKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChlLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGUsInVpLXNlbGVjdG1lbnUtdGV4dCIpLGV9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHMsdCl7dmFyIG49dGhpcyxvPSIiO1YuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk7ZS5vcHRncm91cCE9PW8mJihpPVYoIjxsaT4iLHt0ZXh0OmUub3B0Z3JvdXB9KSxuLl9hZGRDbGFzcyhpLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZS5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksaS5hcHBlbmRUbyhzKSxvPWUub3B0Z3JvdXApLG4uX3JlbmRlckl0ZW1EYXRhKHMsZSl9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0odCxlKS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLGUpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGUpe3ZhciBpPVYoIjxsaT4iKSxzPVYoIjxkaXY+Iix7dGl0bGU6ZS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gZS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQocyxlLmxhYmVsKSxpLmFwcGVuZChzKS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24odCxlKXtlP3QudGV4dChlKTp0Lmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpLHM9Ii51aS1tZW51LWl0ZW0iO3RoaXMuaXNPcGVuP2k9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik6KGk9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKSxzKz0iOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpIiksKHM9ImZpcnN0Ij09PXR8fCJsYXN0Ij09PXQ/aVsiZmlyc3QiPT09dD8icHJldkFsbCI6Im5leHRBbGwiXShzKS5lcSgtMSk6aVt0KyJBbGwiXShzKS5lcSgwKSkubGVuZ3RoJiZ0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhlLHMpfSxfZ2V0U2VsZWN0ZWRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KS5wYXJlbnQoImxpIil9LF90b2dnbGU6ZnVuY3Rpb24odCl7dGhpc1t0aGlzLmlzT3Blbj8iY2xvc2UiOiJvcGVuIl0odCl9LF9zZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnJhbmdlJiYod2luZG93LmdldFNlbGVjdGlvbj8oKHQ9d2luZG93LmdldFNlbGVjdGlvbigpKS5yZW1vdmVBbGxSYW5nZXMoKSx0LmFkZFJhbmdlKHRoaXMucmFuZ2UpKTp0aGlzLnJhbmdlLnNlbGVjdCgpLHRoaXMuYnV0dG9uLnRyaWdnZXIoImZvY3VzIikpfSxfZG9jdW1lbnRDbGljazp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuaXNPcGVuJiYoVih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXNlbGVjdG1lbnUtbWVudSwgIyIrVi5lc2NhcGVTZWxlY3Rvcih0aGlzLmlkcy5idXR0b24pKS5sZW5ndGh8fHRoaXMuY2xvc2UodCkpfX0sX2J1dHRvbkV2ZW50czp7bW91c2Vkb3duOmZ1bmN0aW9uKCl7dmFyIHQ7d2luZG93LmdldFNlbGVjdGlvbj8odD13aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPXQuZ2V0UmFuZ2VBdCgwKSk6dGhpcy5yYW5nZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX0sY2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5fc2V0U2VsZWN0aW9uKCksdGhpcy5fdG9nZ2xlKHQpfSxrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgVi51aS5rZXlDb2RlLlRBQjpjYXNlIFYudWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jbG9zZSh0KSxlPSExO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLkVOVEVSOnRoaXMuaXNPcGVuJiZ0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSh0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5VUDp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuRE9XTjp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5pc09wZW4/dGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk6dGhpcy5fdG9nZ2xlKHQpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuUklHSFQ6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuSE9NRTpjYXNlIFYudWkua2V5Q29kZS5QQUdFX1VQOnRoaXMuX21vdmUoImZpcnN0Iix0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6Y2FzZSBWLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMuX21vdmUoImxhc3QiLHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5tZW51LnRyaWdnZXIodCksZT0hMX1lJiZ0LnByZXZlbnREZWZhdWx0KCl9fSxfc2VsZWN0Rm9jdXNlZEl0ZW06ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik7ZS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8dGhpcy5fc2VsZWN0KGUuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksdCl9LF9zZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDt0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleD10LmluZGV4LHRoaXMuYnV0dG9uSXRlbS5yZXBsYWNlV2l0aCh0aGlzLmJ1dHRvbkl0ZW09dGhpcy5fcmVuZGVyQnV0dG9uSXRlbSh0KSksdGhpcy5fc2V0QXJpYSh0KSx0aGlzLl90cmlnZ2VyKCJzZWxlY3QiLGUse2l0ZW06dH0pLHQuaW5kZXghPT1pJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLGUse2l0ZW06dH0pLHRoaXMuY2xvc2UoZSl9LF9zZXRBcmlhOmZ1bmN0aW9uKHQpe3Q9dGhpcy5tZW51SXRlbXMuZXEodC5pbmRleCkuYXR0cigiaWQiKTt0aGlzLmJ1dHRvbi5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5Ijp0LCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOnR9KSx0aGlzLm1lbnUuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50Iix0KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpOyJpY29ucyI9PT10JiYoaT10aGlzLmJ1dHRvbi5maW5kKCJzcGFuLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbikuX2FkZENsYXNzKGksbnVsbCxlLmJ1dHRvbikpLHRoaXMuX3N1cGVyKHQsZSksImFwcGVuZFRvIj09PXQmJnRoaXMubWVudVdyYXAuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksIndpZHRoIj09PXQmJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5tZW51SW5zdGFuY2Uub3B0aW9uKCJkaXNhYmxlZCIsdCksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsdCksdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5idXR0b24sbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLHQpLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdCksdD8odGhpcy5idXR0b24uYXR0cigidGFiaW5kZXgiLC0xKSx0aGlzLmNsb3NlKCkpOnRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwwKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybiB0PSEodD0hKHQ9dCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlP1YodCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSl8fCF0WzBdP3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpOnQpLmxlbmd0aD90aGlzLmRvY3VtZW50WzBdLmJvZHk6dH0sX3RvZ2dsZUF0dHI6ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWV4cGFuZGVkIix0aGlzLmlzT3BlbiksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5idXR0b24sInVpLXNlbGVjdG1lbnUtYnV0dG9uLSIrKHRoaXMuaXNPcGVuPyJjbG9zZWQiOiJvcGVuIikpLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/Im9wZW4iOiJjbG9zZWQiKSkuX3RvZ2dsZUNsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtb3BlbiIsbnVsbCx0aGlzLmlzT3BlbiksdGhpcy5tZW51LmF0dHIoImFyaWEtaGlkZGVuIiwhdGhpcy5pc09wZW4pfSxfcmVzaXplQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLndpZHRoOyExIT09dD8obnVsbD09PXQmJih0PXRoaXMuZWxlbWVudC5zaG93KCkub3V0ZXJXaWR0aCgpLHRoaXMuZWxlbWVudC5oaWRlKCkpLHRoaXMuYnV0dG9uLm91dGVyV2lkdGgodCkpOnRoaXMuYnV0dG9uLmNzcygid2lkdGgiLCIiKX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt0aGlzLm1lbnUub3V0ZXJXaWR0aChNYXRoLm1heCh0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKCksdGhpcy5tZW51LndpZHRoKCIiKS5vdXRlcldpZHRoKCkrMSkpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCk7cmV0dXJuIHQuZGlzYWJsZWQ9dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiksdH0sX3BhcnNlT3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHM9W107dC5lYWNoKGZ1bmN0aW9uKHQsZSl7ZS5oaWRkZW58fHMucHVzaChpLl9wYXJzZU9wdGlvbihWKGUpLHQpKX0pLHRoaXMuaXRlbXM9c30sX3BhcnNlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5wYXJlbnQoIm9wdGdyb3VwIik7cmV0dXJue2VsZW1lbnQ6dCxpbmRleDplLHZhbHVlOnQudmFsKCksbGFiZWw6dC50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKCJsYWJlbCIpfHwiIixkaXNhYmxlZDppLnByb3AoImRpc2FibGVkIil8fHQucHJvcCgiZGlzYWJsZWQiKX19LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpLHRoaXMubWVudVdyYXAucmVtb3ZlKCksdGhpcy5idXR0b24ucmVtb3ZlKCksdGhpcy5lbGVtZW50LnNob3coKSx0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLmxhYmVscy5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX1dKSxWLndpZGdldCgidWkuc2xpZGVyIixWLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEzLjIiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxjbGFzc2VzOnsidWktc2xpZGVyIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1oYW5kbGUiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLXJhbmdlIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyIn0sZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX2hhbmRsZUluZGV4PW51bGwsdGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKSx0aGlzLl9hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24sInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHRoaXMuX3JlZnJlc2goKSx0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCksdGhpcy5fY3JlYXRlSGFuZGxlcygpLHRoaXMuX3NldHVwRXZlbnRzKCksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbnMsaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1oYW5kbGUiKSxzPVtdLG49ZS52YWx1ZXMmJmUudmFsdWVzLmxlbmd0aHx8MTtmb3IoaS5sZW5ndGg+biYmKGkuc2xpY2UobikucmVtb3ZlKCksaT1pLnNsaWNlKDAsbikpLHQ9aS5sZW5ndGg7dDxuO3QrKylzLnB1c2goIjxzcGFuIHRhYmluZGV4PScwJz48L3NwYW4+Iik7dGhpcy5oYW5kbGVzPWkuYWRkKFYocy5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSksdGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpLHRoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtWKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8oITA9PT10LnJhbmdlJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06QXJyYXkuaXNBcnJheSh0LnZhbHVlcykmJih0LnZhbHVlcz10LnZhbHVlcy5zbGljZSgwKSk6dC52YWx1ZXM9W3RoaXMuX3ZhbHVlTWluKCksdGhpcy5fdmFsdWVNaW4oKV0pLHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UubGVuZ3RoPyh0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLnJhbmdlLCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXgiKSx0aGlzLnJhbmdlLmNzcyh7bGVmdDoiIixib3R0b206IiJ9KSk6KHRoaXMucmFuZ2U9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZSIpKSwibWluIiE9PXQucmFuZ2UmJiJtYXgiIT09dC5yYW5nZXx8dGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlLSIrdC5yYW5nZSkpOih0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMucmFuZ2U9bnVsbCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmhhbmRsZXMpLHRoaXMuX29uKHRoaXMuaGFuZGxlcyx0aGlzLl9oYW5kbGVFdmVudHMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLmhhbmRsZXMpLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLmhhbmRsZXMpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcy5yZW1vdmUoKSx0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBpLHMsbixvLGUsYSxyPXRoaXMsbD10aGlzLm9wdGlvbnM7cmV0dXJuIWwuZGlzYWJsZWQmJih0aGlzLmVsZW1lbnRTaXplPXt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKX0sdGhpcy5lbGVtZW50T2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxhPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxpPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShhKSxzPXRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSsxLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKGktci52YWx1ZXModCkpOyhlPHN8fHM9PT1lJiYodD09PXIuX2xhc3RDaGFuZ2VkVmFsdWV8fHIudmFsdWVzKHQpPT09bC5taW4pKSYmKHM9ZSxuPVYodGhpcyksbz10KX0pLCExIT09dGhpcy5fc3RhcnQodCxvKSYmKHRoaXMuX21vdXNlU2xpZGluZz0hMCx0aGlzLl9oYW5kbGVJbmRleD1vLHRoaXMuX2FkZENsYXNzKG4sbnVsbCwidWktc3RhdGUtYWN0aXZlIiksbi50cmlnZ2VyKCJmb2N1cyIpLGU9bi5vZmZzZXQoKSxhPSFWKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX2NsaWNrT2Zmc2V0PWE/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6dC5wYWdlWC1lLmxlZnQtbi53aWR0aCgpLzIsdG9wOnQucGFnZVktZS50b3Atbi5oZWlnaHQoKS8yLShwYXJzZUludChuLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChuLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuLmNzcygibWFyZ2luVG9wIiksMTApfHwwKX0sdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfHx0aGlzLl9zbGlkZSh0LG8saSksdGhpcy5fYW5pbWF0ZU9mZj0hMCkpfSxfbW91c2VTdGFydDpmdW5jdGlvbigpe3JldHVybiEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxlPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShlKTtyZXR1cm4gdGhpcy5fc2xpZGUodCx0aGlzLl9oYW5kbGVJbmRleCxlKSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oYW5kbGVzLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2NoYW5nZSh0LHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9oYW5kbGVJbmRleD1udWxsLHRoaXMuX2NsaWNrT2Zmc2V0PW51bGwsdGhpcy5fYW5pbWF0ZU9mZj0hMX0sX2RldGVjdE9yaWVudGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5vcmllbnRhdGlvbj0idmVydGljYWwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxfbm9ybVZhbHVlRnJvbU1vdXNlOmZ1bmN0aW9uKHQpe3ZhciBlLHQ9Imhvcml6b250YWwiPT09dGhpcy5vcmllbnRhdGlvbj8oZT10aGlzLmVsZW1lbnRTaXplLndpZHRoLHQueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGU9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQsdC55LXRoaXMuZWxlbWVudE9mZnNldC50b3AtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LnRvcDowKSksdD10L2U7cmV0dXJuKHQ9MTx0PzE6dCk8MCYmKHQ9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJih0PTEtdCksZT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZT10aGlzLl92YWx1ZU1pbigpK3QqZSx0aGlzLl90cmltQWxpZ25WYWx1ZShlKX0sX3VpSGFzaDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9e2hhbmRsZTp0aGlzLmhhbmRsZXNbdF0saGFuZGxlSW5kZXg6dCx2YWx1ZTp2b2lkIDAhPT1lP2U6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHMudmFsdWU9dm9pZCAwIT09ZT9lOnRoaXMudmFsdWVzKHQpLHMudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHN9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0LHRoaXMuX3VpSGFzaChlKSl9LF9zbGlkZTpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbj10aGlzLnZhbHVlKCksbz10aGlzLnZhbHVlcygpO3RoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkmJihzPXRoaXMudmFsdWVzKGU/MDoxKSxuPXRoaXMudmFsdWVzKGUpLDI9PT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmITA9PT10aGlzLm9wdGlvbnMucmFuZ2UmJihpPTA9PT1lP01hdGgubWluKHMsaSk6TWF0aC5tYXgocyxpKSksb1tlXT1pKSxpIT09biYmITEhPT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsdCx0aGlzLl91aUhhc2goZSxpLG8pKSYmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy52YWx1ZXMoZSxpKTp0aGlzLnZhbHVlKGkpKX0sX3N0b3A6ZnVuY3Rpb24odCxlKXt0aGlzLl90cmlnZ2VyKCJzdG9wIix0LHRoaXMuX3VpSGFzaChlKSl9LF9jaGFuZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLl9rZXlTbGlkaW5nfHx0aGlzLl9tb3VzZVNsaWRpbmd8fCh0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlPWUsdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaChlKSkpfSx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3RyaW1BbGlnblZhbHVlKHQpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgdGhpcy5fY2hhbmdlKG51bGwsMCkpOnRoaXMuX3ZhbHVlKCl9LHZhbHVlczpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbjtpZigxPGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXNbdF09dGhpcy5fdHJpbUFsaWduVmFsdWUoZSksdGhpcy5fcmVmcmVzaFZhbHVlKCksdm9pZCB0aGlzLl9jaGFuZ2UobnVsbCx0KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy5fdmFsdWVzKHQpOnRoaXMudmFsdWUoKTtmb3IoaT10aGlzLm9wdGlvbnMudmFsdWVzLHM9dCxuPTA7bjxpLmxlbmd0aDtuKz0xKWlbbl09dGhpcy5fdHJpbUFsaWduVmFsdWUoc1tuXSksdGhpcy5fY2hhbmdlKG51bGwsbik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzPTA7c3dpdGNoKCJyYW5nZSI9PT10JiYhMD09PXRoaXMub3B0aW9ucy5yYW5nZSYmKCJtaW4iPT09ZT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09ZSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMudmFsdWVzKSYmKHM9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpLHRoaXMuX3N1cGVyKHQsZSksdCl7Y2FzZSJvcmllbnRhdGlvbiI6dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKSx0aGlzLl9yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuX2FkZENsYXNzKCJ1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx0aGlzLm9wdGlvbnMucmFuZ2UmJnRoaXMuX3JlZnJlc2hSYW5nZShlKSx0aGlzLmhhbmRsZXMuY3NzKCJob3Jpem9udGFsIj09PWU/ImJvdHRvbSI6ImxlZnQiLCIiKTticmVhaztjYXNlInZhbHVlIjp0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLDApLHRoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJ2YWx1ZXMiOmZvcih0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLGk9cy0xOzA8PWk7aS0tKXRoaXMuX2NoYW5nZShudWxsLGkpO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJzdGVwIjpjYXNlIm1pbiI6Y2FzZSJtYXgiOnRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fY2FsY3VsYXRlTmV3TWF4KCksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInJhbmdlIjp0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2goKSx0aGlzLl9hbmltYXRlT2ZmPSExfX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKHQpLHRoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpfSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIHQ9dGhpcy5fdHJpbUFsaWduVmFsdWUodCl9LF92YWx1ZXM6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0PXRoaXMub3B0aW9ucy52YWx1ZXNbdF0sdD10aGlzLl90cmltQWxpZ25WYWx1ZSh0KTtpZih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpKXtmb3IoZT10aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCksaT0wO2k8ZS5sZW5ndGg7aSs9MSllW2ldPXRoaXMuX3RyaW1BbGlnblZhbHVlKGVbaV0pO3JldHVybiBlfXJldHVybltdfSxfdHJpbUFsaWduVmFsdWU6ZnVuY3Rpb24odCl7aWYodDw9dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtpZih0Pj10aGlzLl92YWx1ZU1heCgpKXJldHVybiB0aGlzLl92YWx1ZU1heCgpO3ZhciBlPTA8dGhpcy5vcHRpb25zLnN0ZXA/dGhpcy5vcHRpb25zLnN0ZXA6MSxpPSh0LXRoaXMuX3ZhbHVlTWluKCkpJWUsdD10LWk7cmV0dXJuIDIqTWF0aC5hYnMoaSk+PWUmJih0Kz0wPGk/ZTotZSkscGFyc2VGbG9hdCh0LnRvRml4ZWQoNSkpfSxfY2FsY3VsYXRlTmV3TWF4OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLm1heCxlPXRoaXMuX3ZhbHVlTWluKCksaT10aGlzLm9wdGlvbnMuc3RlcDsodD1NYXRoLnJvdW5kKCh0LWUpL2kpKmkrZSk+dGhpcy5vcHRpb25zLm1heCYmKHQtPWkpLHRoaXMubWF4PXBhcnNlRmxvYXQodC50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIHQ9bnVsbCE9PXRoaXMub3B0aW9ucy5taW4/TWF0aC5tYXgodCx0aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMubWluKSk6dH0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoKSx0PWUuaW5kZXhPZigiLiIpO3JldHVybi0xPT09dD8wOmUubGVuZ3RoLXQtMX0sX3ZhbHVlTWluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5taW59LF92YWx1ZU1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heH0sX3JlZnJlc2hSYW5nZTpmdW5jdGlvbih0KXsidmVydGljYWwiPT09dCYmdGhpcy5yYW5nZS5jc3Moe3dpZHRoOiIiLGxlZnQ6IiJ9KSwiaG9yaXpvbnRhbCI9PT10JiZ0aGlzLnJhbmdlLmNzcyh7aGVpZ2h0OiIiLGJvdHRvbToiIn0pfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsaSx0LHMsbixvPXRoaXMub3B0aW9ucy5yYW5nZSxhPXRoaXMub3B0aW9ucyxyPXRoaXMsbD0hdGhpcy5fYW5pbWF0ZU9mZiYmYS5hbmltYXRlLGg9e307dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtpPShyLnZhbHVlcyh0KS1yLl92YWx1ZU1pbigpKS8oci5fdmFsdWVNYXgoKS1yLl92YWx1ZU1pbigpKSoxMDAsaFsiaG9yaXpvbnRhbCI9PT1yLm9yaWVudGF0aW9uPyJsZWZ0IjoiYm90dG9tIl09aSsiJSIsVih0aGlzKS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKGgsYS5hbmltYXRlKSwhMD09PXIub3B0aW9ucy5yYW5nZSYmKCJob3Jpem9udGFsIj09PXIub3JpZW50YXRpb24/KDA9PT10JiZyLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2xlZnQ6aSsiJSJ9LGEuYW5pbWF0ZSksMT09PXQmJnIucmFuZ2VbbD8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDppLWUrIiUifSx7cXVldWU6ITEsZHVyYXRpb246YS5hbmltYXRlfSkpOigwPT09dCYmci5yYW5nZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHtib3R0b206aSsiJSJ9LGEuYW5pbWF0ZSksMT09PXQmJnIucmFuZ2VbbD8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6aS1lKyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmEuYW5pbWF0ZX0pKSksZT1pfSk6KHQ9dGhpcy52YWx1ZSgpLHM9dGhpcy5fdmFsdWVNaW4oKSxuPXRoaXMuX3ZhbHVlTWF4KCksaT1uIT09cz8odC1zKS8obi1zKSoxMDA6MCxoWyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT1pKyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKGgsYS5hbmltYXRlKSwibWluIj09PW8mJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6aSsiJSJ9LGEuYW5pbWF0ZSksIm1heCI9PT1vJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOjEwMC1pKyIlIn0sYS5hbmltYXRlKSwibWluIj09PW8mJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDppKyIlIn0sYS5hbmltYXRlKSwibWF4Ij09PW8mJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtaSsiJSJ9LGEuYW5pbWF0ZSkpfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuPVYodC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIFYudWkua2V5Q29kZS5IT01FOmNhc2UgVi51aS5rZXlDb2RlLkVORDpjYXNlIFYudWkua2V5Q29kZS5QQUdFX1VQOmNhc2UgVi51aS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIFYudWkua2V5Q29kZS5VUDpjYXNlIFYudWkua2V5Q29kZS5SSUdIVDpjYXNlIFYudWkua2V5Q29kZS5ET1dOOmNhc2UgVi51aS5rZXlDb2RlLkxFRlQ6aWYodC5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLl9hZGRDbGFzcyhWKHQudGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSwhMT09PXRoaXMuX3N0YXJ0KHQsbikpKXJldHVybn1zd2l0Y2gocz10aGlzLm9wdGlvbnMuc3RlcCxlPWk9dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyhuKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIFYudWkua2V5Q29kZS5IT01FOmk9dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6aT10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlBBR0VfVVA6aT10aGlzLl90cmltQWxpZ25WYWx1ZShlKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlBBR0VfRE9XTjppPXRoaXMuX3RyaW1BbGlnblZhbHVlKGUtKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuVVA6Y2FzZSBWLnVpLmtleUNvZGUuUklHSFQ6aWYoZT09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoZStzKTticmVhaztjYXNlIFYudWkua2V5Q29kZS5ET1dOOmNhc2UgVi51aS5rZXlDb2RlLkxFRlQ6aWYoZT09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoZS1zKX10aGlzLl9zbGlkZSh0LG4saSl9LGtleXVwOmZ1bmN0aW9uKHQpe3ZhciBlPVYodC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsZSksdGhpcy5fY2hhbmdlKHQsZSksdGhpcy5fcmVtb3ZlQ2xhc3MoVih0LnRhcmdldCksbnVsbCwidWktc3RhdGUtYWN0aXZlIikpfX19KSxWLndpZGdldCgidWkuc29ydGFibGUiLFYudWkubW91c2Use3ZlcnNpb246IjEuMTMuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjFlMyxhY3RpdmF0ZTpudWxsLGJlZm9yZVN0b3A6bnVsbCxjaGFuZ2U6bnVsbCxkZWFjdGl2YXRlOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsLHJlY2VpdmU6bnVsbCxyZW1vdmU6bnVsbCxzb3J0Om51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdXBkYXRlOm51bGx9LF9pc092ZXJBeGlzOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZTw9dCYmdDxlK2l9LF9pc0Zsb2F0aW5nOmZ1bmN0aW9uKHQpe3JldHVybi9sZWZ0fHJpZ2h0Ly50ZXN0KHQuY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KHQuY3NzKCJkaXNwbGF5IikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fSx0aGlzLl9hZGRDbGFzcygidWktc29ydGFibGUiKSx0aGlzLnJlZnJlc2goKSx0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5fbW91c2VJbml0KCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3RoaXMuX3N1cGVyKHQsZSksImhhbmRsZSI9PT10JiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKSwidWktc29ydGFibGUtaGFuZGxlIiksVi5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0Ll9hZGRDbGFzcyh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlP3RoaXMuaXRlbS5maW5kKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUpOnRoaXMuaXRlbSwidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIHQ9dGhpcy5pdGVtcy5sZW5ndGgtMTswPD10O3QtLSl0aGlzLml0ZW1zW3RdLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsLHM9ITEsbj10aGlzO3JldHVybiF0aGlzLnJldmVydGluZyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJiJzdGF0aWMiIT09dGhpcy5vcHRpb25zLnR5cGUmJih0aGlzLl9yZWZyZXNoSXRlbXModCksVih0LnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtpZihWLmRhdGEodGhpcyxuLndpZGdldE5hbWUrIi1pdGVtIik9PT1uKXJldHVybiBpPVYodGhpcyksITF9KSwhIShpPVYuZGF0YSh0LnRhcmdldCxuLndpZGdldE5hbWUrIi1pdGVtIik9PT1uP1YodC50YXJnZXQpOmkpJiYoISh0aGlzLm9wdGlvbnMuaGFuZGxlJiYhZSYmKFYodGhpcy5vcHRpb25zLmhhbmRsZSxpKS5maW5kKCIqIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt0aGlzPT09dC50YXJnZXQmJihzPSEwKX0pLCFzKSkmJih0aGlzLmN1cnJlbnRJdGVtPWksdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMCkpKSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuLG89dGhpcy5vcHRpb25zO2lmKCh0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcykucmVmcmVzaFBvc2l0aW9ucygpLHRoaXMuYXBwZW5kVG89VigicGFyZW50IiE9PW8uYXBwZW5kVG8/by5hcHBlbmRUbzp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpKSx0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMub2Zmc2V0PXRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCksdGhpcy5vZmZzZXQ9e3RvcDp0aGlzLm9mZnNldC50b3AtdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMub2Zmc2V0LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnR9LFYuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDp0LnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOnQucGFnZVktdGhpcy5vZmZzZXQudG9wfSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIiksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksby5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihvLmN1cnNvckF0KSx0aGlzLmRvbVBvc2l0aW9uPXtwcmV2OnRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLHBhcmVudDp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuY3VycmVudEl0ZW0uaGlkZSgpLHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5wbGFjZWhvbGRlci5zY3JvbGxQYXJlbnQoKSxWLmV4dGVuZCh0aGlzLm9mZnNldCx7cGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpfSksby5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKSxvLmN1cnNvciYmImF1dG8iIT09by5jdXJzb3ImJihuPXRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLHRoaXMuc3RvcmVkQ3Vyc29yPW4uY3NzKCJjdXJzb3IiKSxuLmNzcygiY3Vyc29yIixvLmN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0PVYoIjxzdHlsZT4qeyBjdXJzb3I6ICIrby5jdXJzb3IrIiAhaW1wb3J0YW50OyB9PC9zdHlsZT4iKS5hcHBlbmRUbyhuKSksby56SW5kZXgmJih0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpJiYodGhpcy5fc3RvcmVkWkluZGV4PXRoaXMuaGVscGVyLmNzcygiekluZGV4IikpLHRoaXMuaGVscGVyLmNzcygiekluZGV4IixvLnpJbmRleCkpLG8ub3BhY2l0eSYmKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpJiYodGhpcy5fc3RvcmVkT3BhY2l0eT10aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSksdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IixvLm9wYWNpdHkpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFpKWZvcihzPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTswPD1zO3MtLSl0aGlzLmNvbnRhaW5lcnNbc10uX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIFYudWkuZGRtYW5hZ2VyJiYoVi51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSxWLnVpLmRkbWFuYWdlciYmIW8uZHJvcEJlaGF2aW91ciYmVi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSx0aGlzLmhlbHBlci5wYXJlbnQoKS5pcyh0aGlzLmFwcGVuZFRvKXx8KHRoaXMuaGVscGVyLmRldGFjaCgpLmFwcGVuZFRvKHRoaXMuYXBwZW5kVG8pLHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSksdGhpcy5wb3NpdGlvbj10aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSx0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMuX21vdXNlRHJhZyh0KSwhMH0sX3Njcm9sbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsaT0hMTtyZXR1cm4gdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxlLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1pPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtlLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8ZS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1pPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1lLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxlLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9aT10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8ZS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9aT10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWUuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGUuc2Nyb2xsU2Vuc2l0aXZpdHk/aT10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWUuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLSh0LnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGUuc2Nyb2xsU2Vuc2l0aXZpdHkmJihpPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkrZS5zY3JvbGxTcGVlZCkpLHQucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8ZS5zY3JvbGxTZW5zaXRpdml0eT9pPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1lLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLSh0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxlLnNjcm9sbFNlbnNpdGl2aXR5JiYoaT10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkrZS5zY3JvbGxTcGVlZCkpKSxpfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuLG89dGhpcy5vcHRpb25zO2Zvcih0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSx0aGlzLm9wdGlvbnMuYXhpcyYmInkiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLm9wdGlvbnMuYXhpcyYmIngiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4Iiksby5zY3JvbGwmJiExIT09dGhpcy5fc2Nyb2xsKHQpJiYodGhpcy5fcmVmcmVzaEl0ZW1Qb3NpdGlvbnMoITApLFYudWkuZGRtYW5hZ2VyJiYhby5kcm9wQmVoYXZpb3VyJiZWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLmRyYWdEaXJlY3Rpb249e3ZlcnRpY2FsOnRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGhvcml6b250YWw6dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKX0sZT10aGlzLml0ZW1zLmxlbmd0aC0xOzA8PWU7ZS0tKWlmKHM9KGk9dGhpcy5pdGVtc1tlXSkuaXRlbVswXSwobj10aGlzLl9pbnRlcnNlY3RzV2l0aFBvaW50ZXIoaSkpJiZpLmluc3RhbmNlPT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYhKHM9PT10aGlzLmN1cnJlbnRJdGVtWzBdfHx0aGlzLnBsYWNlaG9sZGVyWzE9PT1uPyJuZXh0IjoicHJldiJdKClbMF09PT1zfHxWLmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0scyl8fCJzZW1pLWR5bmFtaWMiPT09dGhpcy5vcHRpb25zLnR5cGUmJlYuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHMpKSl7aWYodGhpcy5kaXJlY3Rpb249MT09PW4/ImRvd24iOiJ1cCIsInBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmIXRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXMoaSkpYnJlYWs7dGhpcy5fcmVhcnJhbmdlKHQsaSksdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKTticmVha31yZXR1cm4gdGhpcy5fY29udGFjdENvbnRhaW5lcnModCksVi51aS5kZG1hbmFnZXImJlYudWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSx0aGlzLl90cmlnZ2VyKCJzb3J0Iix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLG87aWYodClyZXR1cm4gVi51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmVi51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLHQpLHRoaXMub3B0aW9ucy5yZXZlcnQ/KHM9KGk9dGhpcykucGxhY2Vob2xkZXIub2Zmc2V0KCksbz17fSwobj10aGlzLm9wdGlvbnMuYXhpcykmJiJ4IiE9PW58fChvLmxlZnQ9cy5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKSxuJiYieSIhPT1ufHwoby50b3A9cy50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpLHRoaXMucmV2ZXJ0aW5nPSEwLFYodGhpcy5oZWxwZXIpLmFuaW1hdGUobyxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7aS5fY2xlYXIodCl9KSk6dGhpcy5fY2xlYXIodCxlKSwhMX0sY2FuY2VsOmZ1bmN0aW9uKCl7aWYodGhpcy5kcmFnZ2luZyl7dGhpcy5fbW91c2VVcChuZXcgVi5FdmVudCgibW91c2V1cCIse3RhcmdldDpudWxsfSkpLCJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyPyh0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuY3VycmVudEl0ZW0sInVpLXNvcnRhYmxlLWhlbHBlciIpKTp0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodmFyIHQ9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PXQ7dC0tKXRoaXMuY29udGFpbmVyc1t0XS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJvdXQiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLCJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLmhlbHBlciYmdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksVi5leHRlbmQodGhpcyx7aGVscGVyOm51bGwsZHJhZ2dpbmc6ITEscmV2ZXJ0aW5nOiExLF9ub0ZpbmFsU29ydDpudWxsfSksdGhpcy5kb21Qb3NpdGlvbi5wcmV2P1YodGhpcy5kb21Qb3NpdGlvbi5wcmV2KS5hZnRlcih0aGlzLmN1cnJlbnRJdGVtKTpWKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pKSx0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShlJiZlLmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gZT1lfHx7fSxWKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0oVihlLml0ZW18fHRoaXMpLmF0dHIoZS5hdHRyaWJ1dGV8fCJpZCIpfHwiIikubWF0Y2goZS5leHByZXNzaW9ufHwvKC4rKVtcLT1fXSguKykvKTt0JiZpLnB1c2goKGUua2V5fHx0WzFdKyJbXSIpKyI9IisoZS5rZXkmJmUuZXhwcmVzc2lvbj90WzFdOnRbMl0pKX0pLCFpLmxlbmd0aCYmZS5rZXkmJmkucHVzaChlLmtleSsiPSIpLGkuam9pbigiJiIpfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkodCYmdC5jb25uZWN0ZWQpLGk9W107cmV0dXJuIHQ9dHx8e30sZS5lYWNoKGZ1bmN0aW9uKCl7aS5wdXNoKFYodC5pdGVtfHx0aGlzKS5hdHRyKHQuYXR0cmlidXRlfHwiaWQiKXx8IiIpfSksaX0sX2ludGVyc2VjdHNXaXRoOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9zaXRpb25BYnMubGVmdCxpPWUrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxzPXRoaXMucG9zaXRpb25BYnMudG9wLG49cyt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxvPXQubGVmdCxhPW8rdC53aWR0aCxyPXQudG9wLGw9cit0LmhlaWdodCxoPXRoaXMub2Zmc2V0LmNsaWNrLnRvcCxjPXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsaD0ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8cjxzK2gmJnMraDxsLGM9InkiPT09dGhpcy5vcHRpb25zLmF4aXN8fG88ZStjJiZlK2M8YTtyZXR1cm4icG9pbnRlciI9PT10aGlzLm9wdGlvbnMudG9sZXJhbmNlfHx0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVyc3x8InBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdPnRbdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT9oJiZjOm88ZSt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPGEmJnI8cyt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yJiZuLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI8bH0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbih0KXt2YXIgZT0ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsdC50b3AsdC5oZWlnaHQpLHQ9InkiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsdC5sZWZ0LHQud2lkdGgpO3JldHVybiEoIWV8fCF0KSYmKGU9dGhpcy5kcmFnRGlyZWN0aW9uLnZlcnRpY2FsLHQ9dGhpcy5kcmFnRGlyZWN0aW9uLmhvcml6b250YWwsdGhpcy5mbG9hdGluZz8icmlnaHQiPT09dHx8ImRvd24iPT09ZT8yOjE6ZSYmKCJkb3duIj09PWU/MjoxKSl9LF9pbnRlcnNlY3RzV2l0aFNpZGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLHQudG9wK3QuaGVpZ2h0LzIsdC5oZWlnaHQpLGk9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCx0LmxlZnQrdC53aWR0aC8yLHQud2lkdGgpLHM9dGhpcy5kcmFnRGlyZWN0aW9uLnZlcnRpY2FsLHQ9dGhpcy5kcmFnRGlyZWN0aW9uLmhvcml6b250YWw7cmV0dXJuIHRoaXMuZmxvYXRpbmcmJnQ/InJpZ2h0Ij09PXQmJml8fCJsZWZ0Ij09PXQmJiFpOnMmJigiZG93biI9PT1zJiZlfHwidXAiPT09cyYmIWUpfSxfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wO3JldHVybiAwIT10JiYoMDx0PyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPXQmJigwPHQ/InJpZ2h0IjoibGVmdCIpfSxyZWZyZXNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZWZyZXNoSXRlbXModCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpc30sX2Nvbm5lY3RXaXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3JldHVybiB0LmNvbm5lY3RXaXRoLmNvbnN0cnVjdG9yPT09U3RyaW5nP1t0LmNvbm5lY3RXaXRoXTp0LmNvbm5lY3RXaXRofSxfZ2V0SXRlbXNBc2pRdWVyeTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvPVtdLGE9W10scj10aGlzLl9jb25uZWN0V2l0aCgpO2lmKHImJnQpZm9yKGU9ci5sZW5ndGgtMTswPD1lO2UtLSlmb3IoaT0ocz1WKHJbZV0sdGhpcy5kb2N1bWVudFswXSkpLmxlbmd0aC0xOzA8PWk7aS0tKShuPVYuZGF0YShzW2ldLHRoaXMud2lkZ2V0RnVsbE5hbWUpKSYmbiE9PXRoaXMmJiFuLm9wdGlvbnMuZGlzYWJsZWQmJmEucHVzaChbImZ1bmN0aW9uIj09dHlwZW9mIG4ub3B0aW9ucy5pdGVtcz9uLm9wdGlvbnMuaXRlbXMuY2FsbChuLmVsZW1lbnQpOlYobi5vcHRpb25zLml0ZW1zLG4uZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSxuXSk7ZnVuY3Rpb24gbCgpe28ucHVzaCh0aGlzKX1mb3IoYS5wdXNoKFsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLml0ZW1zP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpWKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLGU9YS5sZW5ndGgtMTswPD1lO2UtLSlhW2VdWzBdLmVhY2gobCk7cmV0dXJuIFYobyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciBpPXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9Vi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxpLmxlbmd0aDtlKyspaWYoaVtlXT09PXQuaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W10sdGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgZSxpLHMsbixvLGEscixsLGg9dGhpcy5pdGVtcyxjPVtbImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5pdGVtcz90aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6Vih0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy5lbGVtZW50KSx0aGlzXV0sdT10aGlzLl9jb25uZWN0V2l0aCgpO2lmKHUmJnRoaXMucmVhZHkpZm9yKGU9dS5sZW5ndGgtMTswPD1lO2UtLSlmb3IoaT0ocz1WKHVbZV0sdGhpcy5kb2N1bWVudFswXSkpLmxlbmd0aC0xOzA8PWk7aS0tKShuPVYuZGF0YShzW2ldLHRoaXMud2lkZ2V0RnVsbE5hbWUpKSYmbiE9PXRoaXMmJiFuLm9wdGlvbnMuZGlzYWJsZWQmJihjLnB1c2goWyJmdW5jdGlvbiI9PXR5cGVvZiBuLm9wdGlvbnMuaXRlbXM/bi5vcHRpb25zLml0ZW1zLmNhbGwobi5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOlYobi5vcHRpb25zLml0ZW1zLG4uZWxlbWVudCksbl0pLHRoaXMuY29udGFpbmVycy5wdXNoKG4pKTtmb3IoZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKWZvcihvPWNbZV1bMV0sbD0oYT1jW2VdW2k9MF0pLmxlbmd0aDtpPGw7aSsrKShyPVYoYVtpXSkpLmRhdGEodGhpcy53aWRnZXROYW1lKyItaXRlbSIsbyksaC5wdXNoKHtpdGVtOnIsaW5zdGFuY2U6byx3aWR0aDowLGhlaWdodDowLGxlZnQ6MCx0b3A6MH0pfSxfcmVmcmVzaEl0ZW1Qb3NpdGlvbnM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscz10aGlzLml0ZW1zLmxlbmd0aC0xOzA8PXM7cy0tKWU9dGhpcy5pdGVtc1tzXSx0aGlzLmN1cnJlbnRDb250YWluZXImJmUuaW5zdGFuY2UhPT10aGlzLmN1cnJlbnRDb250YWluZXImJmUuaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF18fChpPXRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50P1YodGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQsZS5pdGVtKTplLml0ZW0sdHx8KGUud2lkdGg9aS5vdXRlcldpZHRoKCksZS5oZWlnaHQ9aS5vdXRlckhlaWdodCgpKSxpPWkub2Zmc2V0KCksZS5sZWZ0PWkubGVmdCxlLnRvcD1pLnRvcCl9LHJlZnJlc2hQb3NpdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZih0aGlzLmZsb2F0aW5nPSEhdGhpcy5pdGVtcy5sZW5ndGgmJigieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNGbG9hdGluZyh0aGlzLml0ZW1zWzBdLml0ZW0pKSx0aGlzLm9mZnNldFBhcmVudCYmdGhpcy5oZWxwZXImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMuX3JlZnJlc2hJdGVtUG9zaXRpb25zKHQpLHRoaXMub3B0aW9ucy5jdXN0b20mJnRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yKGU9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PWU7ZS0tKWk9dGhpcy5jb250YWluZXJzW2VdLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLmxlZnQ9aS5sZWZ0LHRoaXMuY29udGFpbmVyc1tlXS5jb250YWluZXJDYWNoZS50b3A9aS50b3AsdGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tlXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbZV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tlXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7cmV0dXJuIHRoaXN9LF9jcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbihpKXt2YXIgcyxuLG89KGk9aXx8dGhpcykub3B0aW9ucztvLnBsYWNlaG9sZGVyJiZvLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yIT09U3RyaW5nfHwocz1vLnBsYWNlaG9sZGVyLG49aS5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG8ucGxhY2Vob2xkZXI9e2VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdD1WKCI8IituKyI+IixpLmRvY3VtZW50WzBdKTtyZXR1cm4gaS5fYWRkQ2xhc3ModCwidWktc29ydGFibGUtcGxhY2Vob2xkZXIiLHN8fGkuY3VycmVudEl0ZW1bMF0uY2xhc3NOYW1lKS5fcmVtb3ZlQ2xhc3ModCwidWktc29ydGFibGUtaGVscGVyIiksInRib2R5Ij09PW4/aS5fY3JlYXRlVHJQbGFjZWhvbGRlcihpLmN1cnJlbnRJdGVtLmZpbmQoInRyIikuZXEoMCksVigiPHRyPiIsaS5kb2N1bWVudFswXSkuYXBwZW5kVG8odCkpOiJ0ciI9PT1uP2kuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoaS5jdXJyZW50SXRlbSx0KToiaW1nIj09PW4mJnQuYXR0cigic3JjIixpLmN1cnJlbnRJdGVtLmF0dHIoInNyYyIpKSxzfHx0LmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLHR9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3MmJiFvLmZvcmNlUGxhY2Vob2xkZXJTaXplfHwoZS5oZWlnaHQoKSYmKCFvLmZvcmNlUGxhY2Vob2xkZXJTaXplfHwidGJvZHkiIT09biYmInRyIiE9PW4pfHxlLmhlaWdodChpLmN1cnJlbnRJdGVtLmlubmVySGVpZ2h0KCktcGFyc2VJbnQoaS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdUb3AiKXx8MCwxMCktcGFyc2VJbnQoaS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdCb3R0b20iKXx8MCwxMCkpLGUud2lkdGgoKXx8ZS53aWR0aChpLmN1cnJlbnRJdGVtLmlubmVyV2lkdGgoKS1wYXJzZUludChpLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0xlZnQiKXx8MCwxMCktcGFyc2VJbnQoaS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdSaWdodCIpfHwwLDEwKSkpfX0pLGkucGxhY2Vob2xkZXI9VihvLnBsYWNlaG9sZGVyLmVsZW1lbnQuY2FsbChpLmVsZW1lbnQsaS5jdXJyZW50SXRlbSkpLGkuY3VycmVudEl0ZW0uYWZ0ZXIoaS5wbGFjZWhvbGRlciksby5wbGFjZWhvbGRlci51cGRhdGUoaSxpLnBsYWNlaG9sZGVyKX0sX2NyZWF0ZVRyUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3QuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7VigiPHRkPiYjMTYwOzwvdGQ+IixpLmRvY3VtZW50WzBdKS5hdHRyKCJjb2xzcGFuIixWKHRoaXMpLmF0dHIoImNvbHNwYW4iKXx8MSkuYXBwZW5kVG8oZSl9KX0sX2NvbnRhY3RDb250YWluZXJzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLHMsbixvLGEscixsLGgsYz1udWxsLHU9bnVsbCxkPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTswPD1kO2QtLSlWLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW2RdLmVsZW1lbnRbMF0pfHwodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW2RdLmNvbnRhaW5lckNhY2hlKT9jJiZWLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tkXS5lbGVtZW50WzBdLGMuZWxlbWVudFswXSl8fChjPXRoaXMuY29udGFpbmVyc1tkXSx1PWQpOnRoaXMuY29udGFpbmVyc1tkXS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW2RdLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbZF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKSk7aWYoYylpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbdV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1t1XS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t1XS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGk9MWU0LHM9bnVsbCxuPShsPWMuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSkpPyJsZWZ0IjoidG9wIixvPWw/IndpZHRoIjoiaGVpZ2h0IixoPWw/InBhZ2VYIjoicGFnZVkiLGU9dGhpcy5pdGVtcy5sZW5ndGgtMTswPD1lO2UtLSlWLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1t1XS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbZV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbZV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihhPXRoaXMuaXRlbXNbZV0uaXRlbS5vZmZzZXQoKVtuXSxyPSExLHRbaF0tYT50aGlzLml0ZW1zW2VdW29dLzImJihyPSEwKSxNYXRoLmFicyh0W2hdLWEpPGkmJihpPU1hdGguYWJzKHRbaF0tYSkscz10aGlzLml0ZW1zW2VdLHRoaXMuZGlyZWN0aW9uPXI/InVwIjoiZG93biIpKTsoc3x8dGhpcy5vcHRpb25zLmRyb3BPbkVtcHR5KSYmKHRoaXMuY3VycmVudENvbnRhaW5lciE9PXRoaXMuY29udGFpbmVyc1t1XT8ocz90aGlzLl9yZWFycmFuZ2UodCxzLG51bGwsITApOnRoaXMuX3JlYXJyYW5nZSh0LG51bGwsdGhpcy5jb250YWluZXJzW3VdLmVsZW1lbnQsITApLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jb250YWluZXJzW3VdLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcy5jb250YWluZXJzW3VdLHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlci51cGRhdGUodGhpcy5jdXJyZW50Q29udGFpbmVyLHRoaXMucGxhY2Vob2xkZXIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMucGxhY2Vob2xkZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lJiYodGhpcy5vdmVyZmxvd09mZnNldD10aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKSksdGhpcy5jb250YWluZXJzW3VdLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3VdLmNvbnRhaW5lckNhY2hlLm92ZXI9MSk6dGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXJ8fCh0aGlzLmNvbnRhaW5lcnNbdV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyPTEpKX19LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUuaGVscGVyP1YoZS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PWUuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiB0LnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fHRoaXMuYXBwZW5kVG9bMF0uYXBwZW5kQ2hpbGQodFswXSksdFswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0mJih0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfSksdFswXS5zdHlsZS53aWR0aCYmIWUuZm9yY2VIZWxwZXJTaXplfHx0LndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSksdFswXS5zdHlsZS5oZWlnaHQmJiFlLmZvcmNlSGVscGVyU2l6ZXx8dC5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksdH0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpLCJsZWZ0ImluKHQ9QXJyYXkuaXNBcnJheSh0KT97bGVmdDordFswXSx0b3A6K3RbMV18fDB9OnQpJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10LmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpLCJyaWdodCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXQucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpLCJ0b3AiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10LnRvcCt0aGlzLm1hcmdpbnMudG9wKSwiYm90dG9tImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdC5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZWLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSkse3RvcDoodD10aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZWLnVpLmllP3t0b3A6MCxsZWZ0OjB9OnQpLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9uKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciB0PXRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtyZXR1cm57dG9wOnQudG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDp0LmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMub3B0aW9uczsicGFyZW50Ij09PWkuY29udGFpbm1lbnQmJihpLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLCJkb2N1bWVudCIhPT1pLmNvbnRhaW5tZW50JiYid2luZG93IiE9PWkuY29udGFpbm1lbnR8fCh0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKSwvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PVYoaS5jb250YWlubWVudClbMF0sZT1WKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLGk9ImhpZGRlbiIhPT1WKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtlLmxlZnQrKHBhcnNlSW50KFYodCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChWKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LGUudG9wKyhwYXJzZUludChWKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChWKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxlLmxlZnQrKGk/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoVih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KFYodCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsZS50b3ArKGk/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoVih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoVih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnBvc2l0aW9uO3ZhciBpPSJhYnNvbHV0ZSI9PT10PzE6LTEscz0iYWJzb2x1dGUiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZWLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKT90aGlzLnNjcm9sbFBhcmVudDp0aGlzLm9mZnNldFBhcmVudCx0PS8oaHRtbHxib2R5KS9pLnRlc3Qoc1swXS50YWdOYW1lKTtyZXR1cm57dG9wOmUudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCppK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnQ/MDpzLnNjcm9sbFRvcCgpKSppLGxlZnQ6ZS5sZWZ0K3RoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQqaSt0aGlzLm9mZnNldC5wYXJlbnQubGVmdCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnQ/MDpzLnNjcm9sbExlZnQoKSkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPXQucGFnZVgscz10LnBhZ2VZLG49ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmVi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQsbz0vKGh0bWx8Ym9keSkvaS50ZXN0KG5bMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKGk9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYocz10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihpPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKHM9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxlLmdyaWQmJih0PXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChzLXRoaXMub3JpZ2luYWxQYWdlWSkvZS5ncmlkWzFdKSplLmdyaWRbMV0scz0hdGhpcy5jb250YWlubWVudHx8dC10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0mJnQtdGhpcy5vZmZzZXQuY2xpY2sudG9wPD10aGlzLmNvbnRhaW5tZW50WzNdP3Q6dC10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0/dC1lLmdyaWRbMV06dCtlLmdyaWRbMV0sdD10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoaS10aGlzLm9yaWdpbmFsUGFnZVgpL2UuZ3JpZFswXSkqZS5ncmlkWzBdLGk9IXRoaXMuY29udGFpbm1lbnR8fHQtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXSYmdC10aGlzLm9mZnNldC5jbGljay5sZWZ0PD10aGlzLmNvbnRhaW5tZW50WzJdP3Q6dC10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdP3QtZS5ncmlkWzBdOnQrZS5ncmlkWzBdKSkse3RvcDpzLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOm8/MDpuLnNjcm9sbFRvcCgpKSxsZWZ0OmktdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOm8/MDpuLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKHQsZSxpLHMpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTplLml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj9lLml0ZW1bMF06ZS5pdGVtWzBdLm5leHRTaWJsaW5nKSx0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIG49dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7bj09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFzKX0pfSxfY2xlYXI6ZnVuY3Rpb24odCxlKXt0aGlzLnJldmVydGluZz0hMTt2YXIgaSxzPVtdO2lmKCF0aGlzLl9ub0ZpbmFsU29ydCYmdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGgmJnRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pLHRoaXMuX25vRmluYWxTb3J0PW51bGwsdGhpcy5oZWxwZXJbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdKXtmb3IoaSBpbiB0aGlzLl9zdG9yZWRDU1MpImF1dG8iIT09dGhpcy5fc3RvcmVkQ1NTW2ldJiYic3RhdGljIiE9PXRoaXMuX3N0b3JlZENTU1tpXXx8KHRoaXMuX3N0b3JlZENTU1tpXT0iIik7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRJdGVtLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Z1bmN0aW9uIG4oZSxpLHMpe3JldHVybiBmdW5jdGlvbih0KXtzLl90cmlnZ2VyKGUsdCxpLl91aUhhc2goaSkpfX1mb3IodGhpcy5mcm9tT3V0c2lkZSYmIWUmJnMucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzLmZyb21PdXRzaWRlKSl9KSwhdGhpcy5mcm9tT3V0c2lkZSYmdGhpcy5kb21Qb3NpdGlvbi5wcmV2PT09dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCIudWktc29ydGFibGUtaGVscGVyIilbMF0mJnRoaXMuZG9tUG9zaXRpb24ucGFyZW50PT09dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXXx8ZXx8cy5wdXNoKGZ1bmN0aW9uKHQpe3RoaXMuX3RyaWdnZXIoInVwZGF0ZSIsdCx0aGlzLl91aUhhc2goKSl9KSx0aGlzIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYoZXx8KHMucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKCJyZW1vdmUiLHQsdGhpcy5fdWlIYXNoKCkpfSkscy5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSkscy5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKCJ1cGRhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PWk7aS0tKWV8fHMucHVzaChuKCJkZWFjdGl2YXRlIix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyJiYocy5wdXNoKG4oIm91dCIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbaV0pKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTtpZih0aGlzLnN0b3JlZEN1cnNvciYmKHRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLmNzcygiY3Vyc29yIix0aGlzLnN0b3JlZEN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpKSx0aGlzLl9zdG9yZWRPcGFjaXR5JiZ0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHRoaXMuX3N0b3JlZE9wYWNpdHkpLHRoaXMuX3N0b3JlZFpJbmRleCYmdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLCJhdXRvIj09PXRoaXMuX3N0b3JlZFpJbmRleD8iIjp0aGlzLl9zdG9yZWRaSW5kZXgpLHRoaXMuZHJhZ2dpbmc9ITEsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbHx8KHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksdGhpcy5oZWxwZXI9bnVsbCksIWUpe2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspc1tpXS5jYWxsKHRoaXMsdCk7dGhpcy5fdHJpZ2dlcigic3RvcCIsdCx0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbH0sX3RyaWdnZXI6ZnVuY3Rpb24oKXshMT09PVYuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cykmJnRoaXMuY2FuY2VsKCl9LF91aUhhc2g6ZnVuY3Rpb24odCl7dmFyIGU9dHx8dGhpcztyZXR1cm57aGVscGVyOmUuaGVscGVyLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXJ8fFYoW10pLHBvc2l0aW9uOmUucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjplLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OmUucG9zaXRpb25BYnMsaXRlbTplLmN1cnJlbnRJdGVtLHNlbmRlcjp0P3QuZWxlbWVudDpudWxsfX19KTtmdW5jdGlvbiBodChlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudmFsKCk7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpLHQhPT10aGlzLmVsZW1lbnQudmFsKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIpfX1WLndpZGdldCgidWkuc3Bpbm5lciIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLHdpZGdldEV2ZW50UHJlZml4OiJzcGluIixvcHRpb25zOntjbGFzc2VzOnsidWktc3Bpbm5lciI6InVpLWNvcm5lci1hbGwiLCJ1aS1zcGlubmVyLWRvd24iOiJ1aS1jb3JuZXItYnIiLCJ1aS1zcGlubmVyLXVwIjoidWktY29ybmVyLXRyIn0sY3VsdHVyZTpudWxsLGljb25zOntkb3duOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsdXA6InVpLWljb24tdHJpYW5nbGUtMS1uIn0saW5jcmVtZW50YWw6ITAsbWF4Om51bGwsbWluOm51bGwsbnVtYmVyRm9ybWF0Om51bGwscGFnZToxMCxzdGVwOjEsY2hhbmdlOm51bGwsc3BpbjpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uKCJtYXgiLHRoaXMub3B0aW9ucy5tYXgpLHRoaXMuX3NldE9wdGlvbigibWluIix0aGlzLm9wdGlvbnMubWluKSx0aGlzLl9zZXRPcHRpb24oInN0ZXAiLHRoaXMub3B0aW9ucy5zdGVwKSwiIiE9PXRoaXMudmFsdWUoKSYmdGhpcy5fdmFsdWUodGhpcy5lbGVtZW50LnZhbCgpLCEwKSx0aGlzLl9kcmF3KCksdGhpcy5fb24odGhpcy5fZXZlbnRzKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLl9zdXBlcigpLG49dGhpcy5lbGVtZW50O3JldHVybiBWLmVhY2goWyJtaW4iLCJtYXgiLCJzdGVwIl0sZnVuY3Rpb24odCxlKXt2YXIgaT1uLmF0dHIoZSk7bnVsbCE9aSYmaS5sZW5ndGgmJihzW2VdPWkpfSksc30sX2V2ZW50czp7a2V5ZG93bjpmdW5jdGlvbih0KXt0aGlzLl9zdGFydCh0KSYmdGhpcy5fa2V5ZG93bih0KSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxrZXl1cDoiX3N0b3AiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLmVsZW1lbnQudmFsKCl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5jYW5jZWxCbHVyP2RlbGV0ZSB0aGlzLmNhbmNlbEJsdXI6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0KSl9LG1vdXNld2hlZWw6ZnVuY3Rpb24odCxlKXt2YXIgaT1WLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO2lmKHRoaXMuZWxlbWVudFswXT09PWkmJmUpe2lmKCF0aGlzLnNwaW5uaW5nJiYhdGhpcy5fc3RhcnQodCkpcmV0dXJuITE7dGhpcy5fc3BpbigoMDxlPzE6LTEpKnRoaXMub3B0aW9ucy5zdGVwLHQpLGNsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lciksdGhpcy5tb3VzZXdoZWVsVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnNwaW5uaW5nJiZ0aGlzLl9zdG9wKHQpfSwxMDApLHQucHJldmVudERlZmF1bHQoKX19LCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXt2YXIgZTtmdW5jdGlvbiBpKCl7dGhpcy5lbGVtZW50WzBdPT09Vi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKXx8KHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9ZSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9ZX0pKX1lPXRoaXMuZWxlbWVudFswXT09PVYudWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSk/dGhpcy5wcmV2aW91czp0aGlzLmVsZW1lbnQudmFsKCksdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FsbCh0aGlzKSx0aGlzLmNhbmNlbEJsdXI9ITAsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyLGkuY2FsbCh0aGlzKX0pLCExIT09dGhpcy5fc3RhcnQodCkmJnRoaXMuX3JlcGVhdChudWxsLFYodC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3Bpbm5lci11cCIpPzE6LTEsdCl9LCJtb3VzZXVwIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIiwibW91c2VlbnRlciAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2lmKFYodC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3RhdGUtYWN0aXZlIikpcmV0dXJuITEhPT10aGlzLl9zdGFydCh0KSYmdm9pZCB0aGlzLl9yZXBlYXQobnVsbCxWKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCJ9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAoIjxzcGFuPiIpLnBhcmVudCgpLmFwcGVuZCgiPGE+PC9hPjxhPjwvYT4iKX0sX2RyYXc6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCksdGhpcy5fYWRkQ2xhc3ModGhpcy51aVNwaW5uZXIsInVpLXNwaW5uZXIiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSx0aGlzLl9hZGRDbGFzcygidWktc3Bpbm5lci1pbnB1dCIpLHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwic3BpbmJ1dHRvbiIpLHRoaXMuYnV0dG9ucz10aGlzLnVpU3Bpbm5lci5jaGlsZHJlbigiYSIpLmF0dHIoInRhYkluZGV4IiwtMSkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKS5idXR0b24oe2NsYXNzZXM6eyJ1aS1idXR0b24iOiIifX0pLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYnV0dG9ucywidWktY29ybmVyLWFsbCIpLHRoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5maXJzdCgpLCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLXVwIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b25zLmxhc3QoKSwidWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci1kb3duIiksdGhpcy5idXR0b25zLmZpcnN0KCkuYnV0dG9uKHtpY29uOnRoaXMub3B0aW9ucy5pY29ucy51cCxzaG93TGFiZWw6ITF9KSx0aGlzLmJ1dHRvbnMubGFzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMuZG93bixzaG93TGFiZWw6ITF9KSx0aGlzLmJ1dHRvbnMuaGVpZ2h0KCk+TWF0aC5jZWlsKC41KnRoaXMudWlTcGlubmVyLmhlaWdodCgpKSYmMDx0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSYmdGhpcy51aVNwaW5uZXIuaGVpZ2h0KHRoaXMudWlTcGlubmVyLmhlaWdodCgpKX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9Vi51aS5rZXlDb2RlO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgaS5VUDpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsMSx0KSwhMDtjYXNlIGkuRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLTEsdCksITA7Y2FzZSBpLlBBR0VfVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLGUucGFnZSx0KSwhMDtjYXNlIGkuUEFHRV9ET1dOOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwtZS5wYWdlLHQpLCEwfXJldHVybiExfSxfc3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuISghdGhpcy5zcGlubmluZyYmITE9PT10aGlzLl90cmlnZ2VyKCJzdGFydCIsdCkpJiYodGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITApfSxfcmVwZWF0OmZ1bmN0aW9uKHQsZSxpKXt0PXR8fDUwMCxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCxlLGkpfSx0KSx0aGlzLl9zcGluKGUqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKSxpPXRoaXMuX2FkanVzdFZhbHVlKGkrdCp0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSksdGhpcy5zcGlubmluZyYmITE9PT10aGlzLl90cmlnZ2VyKCJzcGluIixlLHt2YWx1ZTppfSl8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBlPyJmdW5jdGlvbiI9PXR5cGVvZiBlP2UodCk6TWF0aC5mbG9vcih0KnQqdC81ZTQtdCp0LzUwMCsxNyp0LzIwMCsxKToxfSxfcHJlY2lzaW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLnN0ZXApO3JldHVybiB0PW51bGwhPT10aGlzLm9wdGlvbnMubWluP01hdGgubWF4KHQsdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpOnR9LF9wcmVjaXNpb25PZjpmdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKCksdD1lLmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PXQ/MDplLmxlbmd0aC10LTF9LF9hZGp1c3RWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsaT1udWxsIT09ZS5taW4/ZS5taW46MCxzPXQtaTtyZXR1cm4gdD1pK01hdGgucm91bmQocy9lLnN0ZXApKmUuc3RlcCx0PXBhcnNlRmxvYXQodC50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSksbnVsbCE9PWUubWF4JiZ0PmUubWF4P2UubWF4Om51bGwhPT1lLm1pbiYmdDxlLm1pbj9lLm1pbjp0fSxfc3RvcDpmdW5jdGlvbih0KXt0aGlzLnNwaW5uaW5nJiYoY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLGNsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lciksdGhpcy5jb3VudGVyPTAsdGhpcy5zcGlubmluZz0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIix0KSl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaTtpZigiY3VsdHVyZSI9PT10fHwibnVtYmVyRm9ybWF0Ij09PXQpcmV0dXJuIGk9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKSx0aGlzLm9wdGlvbnNbdF09ZSx2b2lkIHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KGkpKTsibWF4IiE9PXQmJiJtaW4iIT09dCYmInN0ZXAiIT09dHx8InN0cmluZyI9PXR5cGVvZiBlJiYoZT10aGlzLl9wYXJzZShlKSksImljb25zIj09PXQmJihpPXRoaXMuYnV0dG9ucy5maXJzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLHRoaXMub3B0aW9ucy5pY29ucy51cCksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLGUudXApLGk9dGhpcy5idXR0b25zLmxhc3QoKS5maW5kKCIudWktaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuZG93biksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLGUuZG93bikpLHRoaXMuX3N1cGVyKHQsZSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl9zdXBlcih0KSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnVpU3Bpbm5lcixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KSx0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEhdCksdGhpcy5idXR0b25zLmJ1dHRvbih0PyJkaXNhYmxlIjoiZW5hYmxlIil9LF9zZXRPcHRpb25zOmh0KGZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKHQpfSksX3BhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiIiPT09KHQ9InN0cmluZyI9PXR5cGVvZiB0JiYiIiE9PXQ/d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUucGFyc2VGbG9hdCh0LDEwLHRoaXMub3B0aW9ucy5jdWx0dXJlKTordDp0KXx8aXNOYU4odCk/bnVsbDp0fSxfZm9ybWF0OmZ1bmN0aW9uKHQpe3JldHVybiIiPT09dD8iIjp3aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5mb3JtYXQodCx0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0LHRoaXMub3B0aW9ucy5jdWx0dXJlKTp0fSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1pbiI6dGhpcy5vcHRpb25zLm1pbiwiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKX0pfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZSgpO3JldHVybiBudWxsIT09dCYmdD09PXRoaXMuX2FkanVzdFZhbHVlKHQpfSxfdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaTsiIiE9PXQmJm51bGwhPT0oaT10aGlzLl9wYXJzZSh0KSkmJihlfHwoaT10aGlzLl9hZGp1c3RWYWx1ZShpKSksdD10aGlzLl9mb3JtYXQoaSkpLHRoaXMuZWxlbWVudC52YWwodCksdGhpcy5fcmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSByb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93IiksdGhpcy51aVNwaW5uZXIucmVwbGFjZVdpdGgodGhpcy5lbGVtZW50KX0sc3RlcFVwOmh0KGZ1bmN0aW9uKHQpe3RoaXMuX3N0ZXBVcCh0KX0pLF9zdGVwVXA6ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnQoKSYmKHRoaXMuX3NwaW4oKHR8fDEpKnRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxzdGVwRG93bjpodChmdW5jdGlvbih0KXt0aGlzLl9zdGVwRG93bih0KX0pLF9zdGVwRG93bjpmdW5jdGlvbih0KXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3BpbigodHx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6aHQoZnVuY3Rpb24odCl7dGhpcy5fc3RlcFVwKCh0fHwxKSp0aGlzLm9wdGlvbnMucGFnZSl9KSxwYWdlRG93bjpodChmdW5jdGlvbih0KXt0aGlzLl9zdGVwRG93bigodHx8MSkqdGhpcy5vcHRpb25zLnBhZ2UpfSksdmFsdWU6ZnVuY3Rpb24odCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSk7aHQodGhpcy5fdmFsdWUpLmNhbGwodGhpcyx0KX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlTcGlubmVyfX0pLCExIT09Vi51aUJhY2tDb21wYXQmJlYud2lkZ2V0KCJ1aS5zcGlubmVyIixWLnVpLnNwaW5uZXIse19lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAodGhpcy5fdWlTcGlubmVySHRtbCgpKS5wYXJlbnQoKS5hcHBlbmQodGhpcy5fYnV0dG9uSHRtbCgpKX0sX3VpU3Bpbm5lckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPHNwYW4+In0sX2J1dHRvbkh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPGE+PC9hPjxhPjwvYT4ifX0pO3ZhciBjdDtWLnVpLnNwaW5uZXI7Vi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjEzLjIiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOnsidWktdGFicyI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLW5hdiI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLXBhbmVsIjoidWktY29ybmVyLWJvdHRvbSIsInVpLXRhYnMtdGFiIjoidWktY29ybmVyLXRvcCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9pc0xvY2FsOihjdD0vIy4qJC8sZnVuY3Rpb24odCl7dmFyIGU9dC5ocmVmLnJlcGxhY2UoY3QsIiIpLGk9bG9jYXRpb24uaHJlZi5yZXBsYWNlKGN0LCIiKTt0cnl7ZT1kZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7fXRyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaCh0KXt9cmV0dXJuIDE8dC5oYXNoLmxlbmd0aCYmZT09PWl9KSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5fYWRkQ2xhc3MoInVpLXRhYnMiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSx0aGlzLl90b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsbnVsbCx0LmNvbGxhcHNpYmxlKSx0aGlzLl9wcm9jZXNzVGFicygpLHQuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxBcnJheS5pc0FycmF5KHQuZGlzYWJsZWQpJiYodC5kaXNhYmxlZD1WLnVuaXF1ZVNvcnQodC5kaXNhYmxlZC5jb25jYXQoVi5tYXAodGhpcy50YWJzLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24odCl7cmV0dXJuIGUudGFicy5pbmRleCh0KX0pKSkuc29ydCgpKSwhMSE9PXRoaXMub3B0aW9ucy5hY3RpdmUmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmU9dGhpcy5fZmluZEFjdGl2ZSh0LmFjdGl2ZSk6dGhpcy5hY3RpdmU9VigpLHRoaXMuX3JlZnJlc2goKSx0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMubG9hZCh0LmFjdGl2ZSl9LF9pbml0aWFsQWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vcHRpb25zLmFjdGl2ZSx0PXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxzPWxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO3JldHVybiBudWxsPT09aSYmKHMmJnRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKHQsZSl7aWYoVihlKS5hdHRyKCJhcmlhLWNvbnRyb2xzIik9PT1zKXJldHVybiBpPXQsITF9KSxudWxsIT09KGk9bnVsbD09PWk/dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5maWx0ZXIoIi51aS10YWJzLWFjdGl2ZSIpKTppKSYmLTEhPT1pfHwoaT0hIXRoaXMudGFicy5sZW5ndGgmJjApKSwhMSE9PWkmJi0xPT09KGk9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcShpKSkpJiYoaT0hdCYmMCksaT0hdCYmITE9PT1pJiZ0aGlzLmFuY2hvcnMubGVuZ3RoPzA6aX0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTpWKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgZT1WKFYudWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLmNsb3Nlc3QoImxpIiksaT10aGlzLnRhYnMuaW5kZXgoZSkscz0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdih0KSl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBWLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBWLnVpLmtleUNvZGUuRE9XTjppKys7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuVVA6Y2FzZSBWLnVpLmtleUNvZGUuTEVGVDpzPSExLGktLTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6aT10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuSE9NRTppPTA7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGkpO2Nhc2UgVi51aS5rZXlDb2RlLkVOVEVSOnJldHVybiB0LnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShpIT09dGhpcy5vcHRpb25zLmFjdGl2ZSYmaSk7ZGVmYXVsdDpyZXR1cm59dC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGk9dGhpcy5fZm9jdXNOZXh0VGFiKGkscyksdC5jdHJsS2V5fHx0Lm1ldGFLZXl8fChlLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpLHRoaXMudGFicy5lcShpKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwidHJ1ZSIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKCJhY3RpdmUiLGkpfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBhZ2VOYXYodCl8fHQuY3RybEtleSYmdC5rZXlDb2RlPT09Vi51aS5rZXlDb2RlLlVQJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLnRyaWdnZXIoImZvY3VzIikpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbih0KXtyZXR1cm4gdC5hbHRLZXkmJnQua2V5Q29kZT09PVYudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOnQuYWx0S2V5JiZ0LmtleUNvZGU9PT1WLnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50YWJzLmxlbmd0aC0xO2Zvcig7LTEhPT1WLmluQXJyYXkodD0odD1pPHQ/MDp0KTwwP2k6dCx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyl0PWU/dCsxOnQtMTtyZXR1cm4gdH0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbih0LGUpe3JldHVybiB0PXRoaXMuX2ZpbmROZXh0VGFiKHQsZSksdGhpcy50YWJzLmVxKHQpLnRyaWdnZXIoImZvY3VzIiksdH0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpeyJhY3RpdmUiIT09dD8odGhpcy5fc3VwZXIodCxlKSwiY29sbGFwc2libGUiPT09dCYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixudWxsLGUpLGV8fCExIT09dGhpcy5vcHRpb25zLmFjdGl2ZXx8dGhpcy5fYWN0aXZhdGUoMCkpLCJldmVudCI9PT10JiZ0aGlzLl9zZXR1cEV2ZW50cyhlKSwiaGVpZ2h0U3R5bGUiPT09dCYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShlKSk6dGhpcy5fYWN0aXZhdGUoZSl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0P3QucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPVYubWFwKGUuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbih0KXtyZXR1cm4gZS5pbmRleCh0KX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksITEhPT10LmFjdGl2ZSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFWLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1WKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1WKCkpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciBsPXRoaXMsdD10aGlzLnRhYnMsZT10aGlzLmFuY2hvcnMsaT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0IiksdGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpLHRoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtWKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7Vih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0IiksdGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gVigiYSIsdGhpcylbMF19KS5hdHRyKHt0YWJJbmRleDotMX0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYW5jaG9ycywidWktdGFicy1hbmNob3IiKSx0aGlzLnBhbmVscz1WKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24odCxlKXt2YXIgaSxzLG4sbz1WKGUpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxhPVYoZSkuY2xvc2VzdCgibGkiKSxyPWEuYXR0cigiYXJpYS1jb250cm9scyIpO2wuX2lzTG9jYWwoZSk/KG49KGk9ZS5oYXNoKS5zdWJzdHJpbmcoMSkscz1sLmVsZW1lbnQuZmluZChsLl9zYW5pdGl6ZVNlbGVjdG9yKGkpKSk6KG49YS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fFYoe30pLnVuaXF1ZUlkKClbMF0uaWQsKHM9bC5lbGVtZW50LmZpbmQoaT0iIyIrbikpLmxlbmd0aHx8KHM9bC5fY3JlYXRlUGFuZWwobikpLmluc2VydEFmdGVyKGwucGFuZWxzW3QtMV18fGwudGFibGlzdCkscy5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSkscy5sZW5ndGgmJihsLnBhbmVscz1sLnBhbmVscy5hZGQocykpLHImJmEuZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixyKSxhLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjpuLCJhcmlhLWxhYmVsbGVkYnkiOm99KSxzLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsbyl9KSx0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50IiksdCYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoZS5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKGkubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBWKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBlLGk7Zm9yKEFycmF5LmlzQXJyYXkodCkmJih0Lmxlbmd0aD90Lmxlbmd0aD09PXRoaXMuYW5jaG9ycy5sZW5ndGgmJih0PSEwKTp0PSExKSxpPTA7ZT10aGlzLnRhYnNbaV07aSsrKWU9VihlKSwhMD09PXR8fC0xIT09Vi5pbkFycmF5KGksdCk/KGUuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSx0aGlzLl9hZGRDbGFzcyhlLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIikpOihlLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKSx0aGlzLl9yZW1vdmVDbGFzcyhlLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIikpO3RoaXMub3B0aW9ucy5kaXNhYmxlZD10LHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0KCksdGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIixudWxsLCEwPT09dCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17fTt0JiZWLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsZSl7aVtlXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxpKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbih0KXt2YXIgaSxlPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT10PyhpPWUuaGVpZ2h0KCksaS09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXQuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1lJiYiZml4ZWQiIT09ZSYmKGktPXQub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2ktPVYodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe1YodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1WKHRoaXMpLmlubmVySGVpZ2h0KCkrVih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09dCYmKGk9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7aT1NYXRoLm1heChpLFYodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoaSkpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPXRoaXMuYWN0aXZlLHM9Vih0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoImxpIiksbj1zWzBdPT09aVswXSxvPW4mJmUuY29sbGFwc2libGUsYT1vP1YoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihzKSxyPWkubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKGkpOlYoKSxpPXtvbGRUYWI6aSxvbGRQYW5lbDpyLG5ld1RhYjpvP1YoKTpzLG5ld1BhbmVsOmF9O3QucHJldmVudERlZmF1bHQoKSxzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxzLmhhc0NsYXNzKCJ1aS10YWJzLWxvYWRpbmciKXx8dGhpcy5ydW5uaW5nfHxuJiYhZS5jb2xsYXBzaWJsZXx8ITE9PT10aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxpKXx8KGUuYWN0aXZlPSFvJiZ0aGlzLnRhYnMuaW5kZXgocyksdGhpcy5hY3RpdmU9bj9WKCk6cyx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxyLmxlbmd0aHx8YS5sZW5ndGh8fFYuZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLGEubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KHMpLHQpLHRoaXMuX3RvZ2dsZSh0LGkpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMscz1lLm5ld1BhbmVsLG49ZS5vbGRQYW5lbDtmdW5jdGlvbiBvKCl7aS5ydW5uaW5nPSExLGkuX3RyaWdnZXIoImFjdGl2YXRlIix0LGUpfWZ1bmN0aW9uIGEoKXtpLl9hZGRDbGFzcyhlLm5ld1RhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHMubGVuZ3RoJiZpLm9wdGlvbnMuc2hvdz9pLl9zaG93KHMsaS5vcHRpb25zLnNob3csbyk6KHMuc2hvdygpLG8oKSl9dGhpcy5ydW5uaW5nPSEwLG4ubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKG4sdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtpLl9yZW1vdmVDbGFzcyhlLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGEoKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhlLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLG4uaGlkZSgpLGEoKSksbi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKSxlLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLHMubGVuZ3RoJiZuLmxlbmd0aD9lLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnMubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1WKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpLHMuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpLGUubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgdD10aGlzLl9maW5kQWN0aXZlKHQpO3RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKHQ9KHQ9IXQubGVuZ3RoP3RoaXMuYWN0aXZlOnQpLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OnQsY3VycmVudFRhcmdldDp0LHByZXZlbnREZWZhdWx0OlYubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuITE9PT10P1YoKTp0aGlzLnRhYnMuZXEodCl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdD0ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5hbmNob3JzLmluZGV4KHRoaXMuYW5jaG9ycy5maWx0ZXIoIltocmVmJD0nIitWLmVzY2FwZVNlbGVjdG9yKHQpKyInXSIpKTp0fSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMudGFibGlzdC5yZW1vdmVBdHRyKCJyb2xlIikub2ZmKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuYW5jaG9ycy5yZW1vdmVBdHRyKCJyb2xlIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7Vi5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP1YodGhpcykucmVtb3ZlKCk6Vih0aGlzKS5yZW1vdmVBdHRyKCJyb2xlIHRhYkluZGV4IGFyaWEtbGl2ZSBhcmlhLWJ1c3kgYXJpYS1zZWxlY3RlZCBhcmlhLWxhYmVsbGVkYnkgYXJpYS1oaWRkZW4gYXJpYS1leHBhbmRlZCIpfSksdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLGU9dC5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTtlP3QuYXR0cigiYXJpYS1jb250cm9scyIsZSkucmVtb3ZlRGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik6dC5yZW1vdmVBdHRyKCJhcmlhLWNvbnRyb2xzIil9KSx0aGlzLnBhbmVscy5zaG93KCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoImhlaWdodCIsIiIpfSxlbmFibGU6ZnVuY3Rpb24oaSl7dmFyIHQ9dGhpcy5vcHRpb25zLmRpc2FibGVkOyExIT09dCYmKHQ9dm9pZCAwIT09aSYmKGk9dGhpcy5fZ2V0SW5kZXgoaSksQXJyYXkuaXNBcnJheSh0KT9WLm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiB0IT09aT90Om51bGx9KTpWLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZSE9PWk/ZTpudWxsfSkpLHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKHQpKX0sZGlzYWJsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aWYoITAhPT1lKXtpZih2b2lkIDA9PT10KWU9ITA7ZWxzZXtpZih0PXRoaXMuX2dldEluZGV4KHQpLC0xIT09Vi5pbkFycmF5KHQsZSkpcmV0dXJuO2U9QXJyYXkuaXNBcnJheShlKT9WLm1lcmdlKFt0XSxlKS5zb3J0KCk6W3RdfXRoaXMuX3NldE9wdGlvbkRpc2FibGVkKGUpfX0sbG9hZDpmdW5jdGlvbih0LHMpe3Q9dGhpcy5fZ2V0SW5kZXgodCk7ZnVuY3Rpb24gbih0LGUpeyJhYm9ydCI9PT1lJiZvLnBhbmVscy5zdG9wKCExLCEwKSxvLl9yZW1vdmVDbGFzcyhpLCJ1aS10YWJzLWxvYWRpbmciKSxhLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLHQ9PT1vLnhociYmZGVsZXRlIG8ueGhyfXZhciBvPXRoaXMsaT10aGlzLnRhYnMuZXEodCksdD1pLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGE9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoaSkscj17dGFiOmkscGFuZWw6YX07dGhpcy5faXNMb2NhbCh0WzBdKXx8KHRoaXMueGhyPVYuYWpheCh0aGlzLl9hamF4U2V0dGluZ3ModCxzLHIpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJih0aGlzLl9hZGRDbGFzcyhpLCJ1aS10YWJzLWxvYWRpbmciKSxhLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5kb25lKGZ1bmN0aW9uKHQsZSxpKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5odG1sKHQpLG8uX3RyaWdnZXIoImxvYWQiLHMsciksbihpLGUpfSwxKX0pLmZhaWwoZnVuY3Rpb24odCxlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bih0LGUpfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24odCxpLHMpe3ZhciBuPXRoaXM7cmV0dXJue3VybDp0LmF0dHIoImhyZWYiKS5yZXBsYWNlKC8jLiokLywiIiksYmVmb3JlU2VuZDpmdW5jdGlvbih0LGUpe3JldHVybiBuLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixpLFYuZXh0ZW5kKHtqcVhIUjp0LGFqYXhTZXR0aW5nczplfSxzKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKHQpe3Q9Vih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK3QpKX19KSwhMSE9PVYudWlCYWNrQ29tcGF0JiZWLndpZGdldCgidWkudGFicyIsVi51aS50YWJzLHtfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5fYWRkQ2xhc3ModGhpcy50YWJzLCJ1aS10YWIiKX19KTtWLnVpLnRhYnM7Vi53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS10b29sdGlwIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtc2hhZG93In0sY29udGVudDpmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuYXR0cigidGl0bGUiKTtyZXR1cm4gVigiPGE+IikudGV4dCh0KS5odG1sKCl9LGhpZGU6ITAsaXRlbXM6Ilt0aXRsZV06bm90KFtkaXNhYmxlZF0pIixwb3NpdGlvbjp7bXk6ImxlZnQgdG9wKzE1IixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoiZmxpcGZpdCBmbGlwIn0sc2hvdzohMCx0cmFjazohMSxjbG9zZTpudWxsLG9wZW46bnVsbH0sX2FkZERlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pO2kucHVzaChlKSx0LmRhdGEoInVpLXRvb2x0aXAtaWQiLGUpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKGkuam9pbigiICIpKSl9LF9yZW1vdmVEZXNjcmliZWRCeTpmdW5jdGlvbih0KXt2YXIgZT10LmRhdGEoInVpLXRvb2x0aXAtaWQiKSxpPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKSxlPVYuaW5BcnJheShlLGkpOy0xIT09ZSYmaS5zcGxpY2UoZSwxKSx0LnJlbW92ZURhdGEoInVpLXRvb2x0aXAtaWQiKSwoaT1TdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbChpLmpvaW4oIiAiKSkpP3QuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsaSk6dC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pLHRoaXMudG9vbHRpcHM9e30sdGhpcy5wYXJlbnRzPXt9LHRoaXMubGl2ZVJlZ2lvbj1WKCI8ZGl2PiIpLmF0dHIoe3JvbGU6ImxvZyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KSx0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIiksdGhpcy5kaXNhYmxlZFRpdGxlcz1WKFtdKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dGhpcy5fc3VwZXIodCxlKSwiY29udGVudCI9PT10JiZWLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbih0LGUpe2kuX3VwZGF0ZUNvbnRlbnQoZS5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpc1t0PyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBzPXRoaXM7Vi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24odCxlKXt2YXIgaT1WLkV2ZW50KCJibHVyIik7aS50YXJnZXQ9aS5jdXJyZW50VGFyZ2V0PWUuZWxlbWVudFswXSxzLmNsb3NlKGksITApfSksdGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO2lmKHQuaXMoIlt0aXRsZV0iKSlyZXR1cm4gdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIix0LmF0dHIoInRpdGxlIikpLnJlbW92ZUF0dHIoInRpdGxlIil9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZ0LmF0dHIoInRpdGxlIix0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KSx0aGlzLmRpc2FibGVkVGl0bGVzPVYoW10pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsZT1WKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7ZS5sZW5ndGgmJiFlLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGUuYXR0cigidGl0bGUiKSYmZS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixlLmF0dHIoInRpdGxlIikpLGUuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmIm1vdXNlb3ZlciI9PT10LnR5cGUmJmUucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPVYodGhpcyk7ZS5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKCh0PVYuRXZlbnQoImJsdXIiKSkudGFyZ2V0PXQuY3VycmVudFRhcmdldD10aGlzLGkuY2xvc2UodCwhMCkpLGUuYXR0cigidGl0bGUiKSYmKGUudW5pcXVlSWQoKSxpLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTplLmF0dHIoInRpdGxlIil9LGUuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnModCxlKSx0aGlzLl91cGRhdGVDb250ZW50KGUsdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihlLGkpe3ZhciB0PXRoaXMub3B0aW9ucy5jb250ZW50LHM9dGhpcyxuPWk/aS50eXBlOm51bGw7aWYoInN0cmluZyI9PXR5cGVvZiB0fHx0Lm5vZGVUeXBlfHx0LmpxdWVyeSlyZXR1cm4gdGhpcy5fb3BlbihpLGUsdCk7KHQ9dC5jYWxsKGVbMF0sZnVuY3Rpb24odCl7cy5fZGVsYXkoZnVuY3Rpb24oKXtlLmRhdGEoInVpLXRvb2x0aXAtb3BlbiIpJiYoaSYmKGkudHlwZT1uKSx0aGlzLl9vcGVuKGksZSx0KSl9KX0pKSYmdGhpcy5fb3BlbihpLGUsdCl9LF9vcGVuOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuLG8sYT1WLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO2Z1bmN0aW9uIHIodCl7YS5vZj10LG4uaXMoIjpoaWRkZW4iKXx8bi5wb3NpdGlvbihhKX1pJiYoKHM9dGhpcy5fZmluZChlKSk/cy50b29sdGlwLmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKGkpOihlLmlzKCJbdGl0bGVdIikmJih0JiYibW91c2VvdmVyIj09PXQudHlwZT9lLmF0dHIoInRpdGxlIiwiIik6ZS5yZW1vdmVBdHRyKCJ0aXRsZSIpKSxzPXRoaXMuX3Rvb2x0aXAoZSksbj1zLnRvb2x0aXAsdGhpcy5fYWRkRGVzY3JpYmVkQnkoZSxuLmF0dHIoImlkIikpLG4uZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwoaSksdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLChpPVYoIjxkaXY+IikuaHRtbChuLmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKCkpKS5yZW1vdmVBdHRyKCJuYW1lIikuZmluZCgiW25hbWVdIikucmVtb3ZlQXR0cigibmFtZSIpLGkucmVtb3ZlQXR0cigiaWQiKS5maW5kKCJbaWRdIikucmVtb3ZlQXR0cigiaWQiKSxpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbiksdGhpcy5vcHRpb25zLnRyYWNrJiZ0JiYvXm1vdXNlLy50ZXN0KHQudHlwZSk/KHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlbW92ZTpyfSkscih0KSk6bi5wb3NpdGlvbihWLmV4dGVuZCh7b2Y6ZX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSksbi5oaWRlKCksdGhpcy5fc2hvdyhuLHRoaXMub3B0aW9ucy5zaG93KSx0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKG89dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe24uaXMoIjp2aXNpYmxlIikmJihyKGEub2YpLGNsZWFySW50ZXJ2YWwobykpfSwxMykpLHRoaXMuX3RyaWdnZXIoIm9wZW4iLHQse3Rvb2x0aXA6bn0pKSl9LF9yZWdpc3RlckNsb3NlSGFuZGxlcnM6ZnVuY3Rpb24odCxlKXt2YXIgaT17a2V5dXA6ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09Vi51aS5rZXlDb2RlLkVTQ0FQRSYmKCh0PVYuRXZlbnQodCkpLmN1cnJlbnRUYXJnZXQ9ZVswXSx0aGlzLmNsb3NlKHQsITApKX19O2VbMF0hPT10aGlzLmVsZW1lbnRbMF0mJihpLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZpbmQoZSk7dCYmdGhpcy5fcmVtb3ZlVG9vbHRpcCh0LnRvb2x0aXApfSksdCYmIm1vdXNlb3ZlciIhPT10LnR5cGV8fChpLm1vdXNlbGVhdmU9ImNsb3NlIiksdCYmImZvY3VzaW4iIT09dC50eXBlfHwoaS5mb2N1c291dD0iY2xvc2UiKSx0aGlzLl9vbighMCxlLGkpfSxjbG9zZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMscz1WKHQ/dC5jdXJyZW50VGFyZ2V0OnRoaXMuZWxlbWVudCksbj10aGlzLl9maW5kKHMpO24/KGU9bi50b29sdGlwLG4uY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdykscy5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFzLmF0dHIoInRpdGxlIikmJnMuYXR0cigidGl0bGUiLHMuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShzKSxuLmhpZGluZz0hMCxlLnN0b3AoITApLHRoaXMuX2hpZGUoZSx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3JlbW92ZVRvb2x0aXAoVih0aGlzKSl9KSxzLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpLHRoaXMuX29mZihzLCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwIiksc1swXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKHMsInJlbW92ZSIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZW1vdmUiKSx0JiYibW91c2VsZWF2ZSI9PT10LnR5cGUmJlYuZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24odCxlKXtWKGUuZWxlbWVudCkuYXR0cigidGl0bGUiLGUudGl0bGUpLGRlbGV0ZSBpLnBhcmVudHNbdF19KSxuLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQse3Rvb2x0aXA6ZX0pLG4uaGlkaW5nfHwobi5jbG9zaW5nPSExKSkpOnMucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1vcGVuIil9LF90b29sdGlwOmZ1bmN0aW9uKHQpe3ZhciBlPVYoIjxkaXY+IikuYXR0cigicm9sZSIsInRvb2x0aXAiKSxpPVYoIjxkaXY+IikuYXBwZW5kVG8oZSkscz1lLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTtyZXR1cm4gdGhpcy5fYWRkQ2xhc3MoaSwidWktdG9vbHRpcC1jb250ZW50IiksdGhpcy5fYWRkQ2xhc3MoZSwidWktdG9vbHRpcCIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLGUuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8odCkpLHRoaXMudG9vbHRpcHNbc109e2VsZW1lbnQ6dCx0b29sdGlwOmV9fSxfZmluZDpmdW5jdGlvbih0KXt0PXQuZGF0YSgidWktdG9vbHRpcC1pZCIpO3JldHVybiB0P3RoaXMudG9vbHRpcHNbdF06bnVsbH0sX3JlbW92ZVRvb2x0aXA6ZnVuY3Rpb24odCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmRlbGF5ZWRTaG93KSx0LnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnRvb2x0aXBzW3QuYXR0cigiaWQiKV19LF9hcHBlbmRUbzpmdW5jdGlvbih0KXt0PXQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKTtyZXR1cm4gdD0hdC5sZW5ndGg/dGhpcy5kb2N1bWVudFswXS5ib2R5OnR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHM9dGhpcztWLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbih0LGUpe3ZhciBpPVYuRXZlbnQoImJsdXIiKSxlPWUuZWxlbWVudDtpLnRhcmdldD1pLmN1cnJlbnRUYXJnZXQ9ZVswXSxzLmNsb3NlKGksITApLFYoIiMiK3QpLnJlbW92ZSgpLGUuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYoZS5hdHRyKCJ0aXRsZSIpfHxlLmF0dHIoInRpdGxlIixlLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksZS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSksdGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfX0pLCExIT09Vi51aUJhY2tDb21wYXQmJlYud2lkZ2V0KCJ1aS50b29sdGlwIixWLnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmdC50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLHR9fSk7Vi51aS50b29sdGlwfSk7DQovKiEgalF1ZXJ5IE1pZ3JhdGUgdjMuNC4wIHwgKGMpIE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8NCiJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5Lm1pZ3JhdGVNdXRlJiYoalF1ZXJ5Lm1pZ3JhdGVNdXRlPSEwKSxmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihlKXtyZXR1cm4gdChlLHdpbmRvdyl9KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKCJqcXVlcnkiKSx3aW5kb3cpOnQoalF1ZXJ5LHdpbmRvdyl9KGZ1bmN0aW9uKHMsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIDA8PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPS9eKFxkKylcLihcZCspXC4oXGQrKS8sbj1yLmV4ZWMoZSl8fFtdLG89ci5leGVjKHQpfHxbXSxhPTE7YTw9MzthKyspe2lmKCtuW2FdPitvW2FdKXJldHVybiAxO2lmKCtuW2FdPCtvW2FdKXJldHVybi0xfXJldHVybiAwfShzLmZuLmpxdWVyeSxlKX1zLm1pZ3JhdGVWZXJzaW9uPSIzLjQuMCI7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKSxvPShzLm1pZ3JhdGVEaXNhYmxlUGF0Y2hlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFthcmd1bWVudHNbZV1dPSEwfSxzLm1pZ3JhdGVFbmFibGVQYXRjaGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylkZWxldGUgdFthcmd1bWVudHNbZV1dfSxzLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4hdFtlXX0sbi5jb25zb2xlJiZuLmNvbnNvbGUubG9nJiYocyYmZSgiMy4wLjAiKXx8bi5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBqUXVlcnkgMy4wLjArIFJFUVVJUkVEIikscy5taWdyYXRlV2FybmluZ3MmJm4uY29uc29sZS5sb2coIkpRTUlHUkFURTogTWlncmF0ZSBwbHVnaW4gbG9hZGVkIG11bHRpcGxlIHRpbWVzIiksbi5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIGlzIGluc3RhbGxlZCIrKHMubWlncmF0ZU11dGU/IiI6IiB3aXRoIGxvZ2dpbmcgYWN0aXZlIikrIiwgdmVyc2lvbiAiK3MubWlncmF0ZVZlcnNpb24pKSx7fSk7ZnVuY3Rpb24gaShlLHQpe3ZhciByPW4uY29uc29sZTshcy5taWdyYXRlSXNQYXRjaEVuYWJsZWQoZSl8fHMubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3MmJm9bdF18fChvW3RdPSEwLHMubWlncmF0ZVdhcm5pbmdzLnB1c2godCsiIFsiK2UrIl0iKSxyJiZyLndhcm4mJiFzLm1pZ3JhdGVNdXRlJiYoci53YXJuKCJKUU1JR1JBVEU6ICIrdCkscy5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIHIoZSx0LHIsbixvKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShuLG8pLHJ9LHNldDpmdW5jdGlvbihlKXtpKG4sbykscj1lfX0pfWZ1bmN0aW9uIGEoZSx0LHIsbixvKXt2YXIgYT1lW3RdO2VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gbyYmaShuLG8pLChzLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZChuKT9yOmF8fHMubm9vcCkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB1KGUsdCxyLG4sbyl7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJObyB3YXJuaW5nIG1lc3NhZ2UgcHJvdmlkZWQiKTthKGUsdCxyLG4sbyl9ZnVuY3Rpb24gZChlLHQscixuKXthKGUsdCxyLG4pfXMubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3M9ITAscy5taWdyYXRlV2FybmluZ3M9W10sdm9pZCAwPT09cy5taWdyYXRlVHJhY2UmJihzLm1pZ3JhdGVUcmFjZT0hMCkscy5taWdyYXRlUmVzZXQ9ZnVuY3Rpb24oKXtvPXt9LHMubWlncmF0ZVdhcm5pbmdzLmxlbmd0aD0wfSwiQmFja0NvbXBhdCI9PT1uLmRvY3VtZW50LmNvbXBhdE1vZGUmJmkoInF1aXJrcyIsImpRdWVyeSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFF1aXJrcyBNb2RlIik7dmFyIGMsbCxwLGY9e30sbT1zLmZuLmluaXQseT1zLmZpbmQsaD0vXFsoXHMqWy1cd10rXHMqKShbfnxeJCpdPz0pXHMqKFstXHcjXSo/I1stXHcjXSopXHMqXF0vLGc9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdL2csdj0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Zm9yKGMgaW4gZChzLmZuLCJpbml0IixmdW5jdGlvbihlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBzLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZCgic2VsZWN0b3ItZW1wdHktaWQiKSYmInN0cmluZyI9PXR5cGVvZiBlJiYiIyI9PT1lJiYoaSgic2VsZWN0b3ItZW1wdHktaWQiLCJqUXVlcnkoICcjJyApIGlzIG5vdCBhIHZhbGlkIHNlbGVjdG9yIiksdFswXT1bXSksbS5hcHBseSh0aGlzLHQpfSwic2VsZWN0b3ItZW1wdHktaWQiKSxzLmZuLmluaXQucHJvdG90eXBlPXMuZm4sZChzLCJmaW5kIixmdW5jdGlvbih0KXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmaC50ZXN0KHQpKXRyeXtuLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9Y2F0Y2goZSl7dD10LnJlcGxhY2UoZyxmdW5jdGlvbihlLHQscixuKXtyZXR1cm4iWyIrdCtyKyciJytuKyciXSd9KTt0cnl7bi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpLGkoInNlbGVjdG9yLWhhc2giLCJBdHRyaWJ1dGUgc2VsZWN0b3Igd2l0aCAnIycgbXVzdCBiZSBxdW90ZWQ6ICIrclswXSksclswXT10fWNhdGNoKGUpe2koInNlbGVjdG9yLWhhc2giLCJBdHRyaWJ1dGUgc2VsZWN0b3Igd2l0aCAnIycgd2FzIG5vdCBmaXhlZDogIityWzBdKX19cmV0dXJuIHkuYXBwbHkodGhpcyxyKX0sInNlbGVjdG9yLWhhc2giKSx5KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh5LGMpJiYocy5maW5kW2NdPXlbY10pO3Uocy5mbiwic2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LCJzaXplIiwialF1ZXJ5LmZuLnNpemUoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkOyB1c2UgdGhlIC5sZW5ndGggcHJvcGVydHkiKSx1KHMsInBhcnNlSlNPTiIsZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5wYXJzZS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCJwYXJzZUpTT04iLCJqUXVlcnkucGFyc2VKU09OIGlzIGRlcHJlY2F0ZWQ7IHVzZSBKU09OLnBhcnNlIiksdShzLCJob2xkUmVhZHkiLHMuaG9sZFJlYWR5LCJob2xkUmVhZHkiLCJqUXVlcnkuaG9sZFJlYWR5IGlzIGRlcHJlY2F0ZWQiKSx1KHMsInVuaXF1ZSIscy51bmlxdWVTb3J0LCJ1bmlxdWUiLCJqUXVlcnkudW5pcXVlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkudW5pcXVlU29ydCIpLHIocy5leHByLCJmaWx0ZXJzIixzLmV4cHIucHNldWRvcywiZXhwci1wcmUtcHNldWRvcyIsImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKSxyKHMuZXhwciwiOiIscy5leHByLnBzZXVkb3MsImV4cHItcHJlLXBzZXVkb3MiLCJqUXVlcnkuZXhwclsnOiddIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkuZXhwci5wc2V1ZG9zIiksZSgiMy4xLjEiKSYmdShzLCJ0cmltIixmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZSh2LCIiKX0sInRyaW0iLCJqUXVlcnkudHJpbSBpcyBkZXByZWNhdGVkOyB1c2UgU3RyaW5nLnByb3RvdHlwZS50cmltIiksZSgiMy4yLjAiKSYmKHUocywibm9kZU5hbWUiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sIm5vZGVOYW1lIiwialF1ZXJ5Lm5vZGVOYW1lIGlzIGRlcHJlY2F0ZWQiKSx1KHMsImlzQXJyYXkiLEFycmF5LmlzQXJyYXksImlzQXJyYXkiLCJqUXVlcnkuaXNBcnJheSBpcyBkZXByZWNhdGVkOyB1c2UgQXJyYXkuaXNBcnJheSIpKSxlKCIzLjMuMCIpJiYodShzLCJpc051bWVyaWMiLGZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybigibnVtYmVyIj09dHx8InN0cmluZyI9PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sImlzTnVtZXJpYyIsImpRdWVyeS5pc051bWVyaWMoKSBpcyBkZXByZWNhdGVkIikscy5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe2ZbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSksdShzLCJ0eXBlIixmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9lKyIiOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZltPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX0sInR5cGUiLCJqUXVlcnkudHlwZSBpcyBkZXByZWNhdGVkIiksdShzLCJpc0Z1bmN0aW9uIixmdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX0sImlzRnVuY3Rpb24iLCJqUXVlcnkuaXNGdW5jdGlvbigpIGlzIGRlcHJlY2F0ZWQiKSx1KHMsImlzV2luZG93IixmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSwiaXNXaW5kb3ciLCJqUXVlcnkuaXNXaW5kb3coKSBpcyBkZXByZWNhdGVkIikpLHMuYWpheCYmKGw9cy5hamF4LHA9Lyg9KVw/KD89JnwkKXxcP1w/LyxkKHMsImFqYXgiLGZ1bmN0aW9uKCl7dmFyIGU9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUucHJvbWlzZSYmKHUoZSwic3VjY2VzcyIsZS5kb25lLCJqcVhIUi1tZXRob2RzIiwialFYSFIuc3VjY2VzcyBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksdShlLCJlcnJvciIsZS5mYWlsLCJqcVhIUi1tZXRob2RzIiwialFYSFIuZXJyb3IgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpLHUoZSwiY29tcGxldGUiLGUuYWx3YXlzLCJqcVhIUi1tZXRob2RzIiwialFYSFIuY29tcGxldGUgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpKSxlfSwianFYSFItbWV0aG9kcyIpLGUoIjQuMC4wIil8fHMuYWpheFByZWZpbHRlcigiK2pzb24iLGZ1bmN0aW9uKGUpeyExIT09ZS5qc29ucCYmKHAudGVzdChlLnVybCl8fCJzdHJpbmciPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmcC50ZXN0KGUuZGF0YSkpJiZpKCJqc29ucC1wcm9tb3Rpb24iLCJKU09OLXRvLUpTT05QIGF1dG8tcHJvbW90aW9uIGlzIGRlcHJlY2F0ZWQiKX0pKTt2YXIgaj1zLmZuLnJlbW92ZUF0dHIsYj1zLmZuLnRvZ2dsZUNsYXNzLHc9L1xTKy9nO2Z1bmN0aW9uIFEoZSl7cmV0dXJuIGUucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KX1kKHMuZm4sInJlbW92ZUF0dHIiLGZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIHMuZWFjaChlLm1hdGNoKHcpLGZ1bmN0aW9uKGUsdCl7cy5leHByLm1hdGNoLmJvb2wudGVzdCh0KSYmKGkoInJlbW92ZUF0dHItYm9vbCIsImpRdWVyeS5mbi5yZW1vdmVBdHRyIG5vIGxvbmdlciBzZXRzIGJvb2xlYW4gcHJvcGVydGllczogIit0KSxyLnByb3AodCwhMSkpfSksai5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LCJyZW1vdmVBdHRyLWJvb2wiKSxkKHMuZm4sInRvZ2dsZUNsYXNzIixmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD9iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooaSgidG9nZ2xlQ2xhc3MtYm9vbCIsImpRdWVyeS5mbi50b2dnbGVDbGFzcyggYm9vbGVhbiApIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2UmJnMuZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwhZSYmITEhPT10JiZzLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KSl9LCJ0b2dnbGVDbGFzcy1ib29sIik7dmFyIHgsQT0hMSxSPS9eW2Etel0vLFQ9L14oPzpCb3JkZXIoPzpUb3B8UmlnaHR8Qm90dG9tfExlZnQpPyg/OldpZHRofCl8KD86TWFyZ2lufFBhZGRpbmcpPyg/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/fCg/Ok1pbnxNYXgpPyg/OldpZHRofEhlaWdodCkpJC87cy5zd2FwJiZzLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCIsInJlbGlhYmxlTWFyZ2luUmlnaHQiXSxmdW5jdGlvbihlLHQpe3ZhciByPXMuY3NzSG9va3NbdF0mJnMuY3NzSG9va3NbdF0uZ2V0O3ImJihzLmNzc0hvb2tzW3RdLmdldD1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBBPSEwLGU9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksQT0hMSxlfSl9KSxkKHMsInN3YXAiLGZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvLGE9e307Zm9yKG8gaW4gQXx8aSgic3dhcCIsImpRdWVyeS5zd2FwKCkgaXMgdW5kb2N1bWVudGVkIGFuZCBkZXByZWNhdGVkIiksdClhW29dPWUuc3R5bGVbb10sZS5zdHlsZVtvXT10W29dO2ZvcihvIGluIHI9ci5hcHBseShlLG58fFtdKSx0KWUuc3R5bGVbb109YVtvXTtyZXR1cm4gcn0sInN3YXAiKSxlKCIzLjQuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYocy5jc3NQcm9wcz1uZXcgUHJveHkocy5jc3NQcm9wc3x8e30se3NldDpmdW5jdGlvbigpe3JldHVybiBpKCJjc3NQcm9wcyIsImpRdWVyeS5jc3NQcm9wcyBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKSxlKCI0LjAuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYocy5jc3NOdW1iZXI9bmV3IFByb3h5KHthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0se2dldDpmdW5jdGlvbigpe3JldHVybiBpKCJjc3MtbnVtYmVyIiwialF1ZXJ5LmNzc051bWJlciBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgiY3NzLW51bWJlciIsImpRdWVyeS5jc3NOdW1iZXIgaXMgZGVwcmVjYXRlZCIpLFJlZmxlY3Quc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSkseD1zLmZuLmNzcyxkKHMuZm4sImNzcyIsZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXM7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk/KHMuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cy5mbi5jc3MuY2FsbChuLGUsdCl9KSx0aGlzKTooIm51bWJlciI9PXR5cGVvZiB0JiYodD1RKGUpLHI9dCxSLnRlc3QocikmJlQudGVzdChyWzBdLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSl8fHMuY3NzTnVtYmVyW3RdfHxpKCJjc3MtbnVtYmVyIiwnTnVtYmVyLXR5cGVkIHZhbHVlcyBhcmUgZGVwcmVjYXRlZCBmb3IgalF1ZXJ5LmZuLmNzcyggIicrZSsnIiwgdmFsdWUgKScpKSx4LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LCJjc3MtbnVtYmVyIik7ZnVuY3Rpb24gQyhlKXt2YXIgdD1uLmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7cmV0dXJuIHQuYm9keS5pbm5lckhUTUw9ZSx0LmJvZHkmJnQuYm9keS5pbm5lckhUTUx9dmFyIFMsTixQLGssSCxFLE0scT1zLmRhdGEsRD0oZChzLCJkYXRhIixmdW5jdGlvbihlLHQscil7dmFyIG4sbyxhO2lmKHQmJiJvYmplY3QiPT10eXBlb2YgdCYmMj09PWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihhIGluIG49cy5oYXNEYXRhKGUpJiZxLmNhbGwodGhpcyxlKSxvPXt9LHQpYSE9PVEoYSk/KGkoImRhdGEtY2FtZWxDYXNlIiwialF1ZXJ5LmRhdGEoKSBhbHdheXMgc2V0cy9nZXRzIGNhbWVsQ2FzZWQgbmFtZXM6ICIrYSksblthXT10W2FdKTpvW2FdPXRbYV07cmV0dXJuIHEuY2FsbCh0aGlzLGUsbyksdH1yZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0JiZ0IT09USh0KSYmKG49cy5oYXNEYXRhKGUpJiZxLmNhbGwodGhpcyxlKSkmJnQgaW4gbj8oaSgiZGF0YS1jYW1lbENhc2UiLCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIit0KSwyPGFyZ3VtZW50cy5sZW5ndGgmJihuW3RdPXIpLG5bdF0pOnEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwiZGF0YS1jYW1lbENhc2UiKSxzLmZ4JiYoUD1zLlR3ZWVuLnByb3RvdHlwZS5ydW4saz1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZChzLlR3ZWVuLnByb3RvdHlwZSwicnVuIixmdW5jdGlvbigpezE8cy5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoImVhc2luZy1vbmUtYXJnIiwiJ2pRdWVyeS5lYXNpbmcuIit0aGlzLmVhc2luZy50b1N0cmluZygpKyInIHNob3VsZCB1c2Ugb25seSBvbmUgYXJndW1lbnQiKSxzLmVhc2luZ1t0aGlzLmVhc2luZ109ayksUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LCJlYXNpbmctb25lLWFyZyIpLFM9cy5meC5pbnRlcnZhbCxOPSJqUXVlcnkuZnguaW50ZXJ2YWwgaXMgZGVwcmVjYXRlZCIsbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLmZ4LCJpbnRlcnZhbCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmRvY3VtZW50LmhpZGRlbnx8aSgiZngtaW50ZXJ2YWwiLE4pLHMubWlncmF0ZUlzUGF0Y2hFbmFibGVkKCJmeC1pbnRlcnZhbCIpJiZ2b2lkIDA9PT1TPzEzOlN9LHNldDpmdW5jdGlvbihlKXtpKCJmeC1pbnRlcnZhbCIsTiksUz1lfX0pKSxzLmZuLmxvYWQpLEY9cy5ldmVudC5hZGQsVz1zLmV2ZW50LmZpeCxPPShzLmV2ZW50LnByb3BzPVtdLHMuZXZlbnQuZml4SG9va3M9e30scihzLmV2ZW50LnByb3BzLCJjb25jYXQiLHMuZXZlbnQucHJvcHMuY29uY2F0LCJldmVudC1vbGQtcGF0Y2giLCJqUXVlcnkuZXZlbnQucHJvcHMuY29uY2F0KCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpLGQocy5ldmVudCwiZml4IixmdW5jdGlvbihlKXt2YXIgdD1lLnR5cGUscj10aGlzLmZpeEhvb2tzW3RdLG49cy5ldmVudC5wcm9wcztpZihuLmxlbmd0aCl7aSgiZXZlbnQtb2xkLXBhdGNoIiwialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK24uam9pbigpKTt3aGlsZShuLmxlbmd0aClzLmV2ZW50LmFkZFByb3Aobi5wb3AoKSl9aWYociYmIXIuX21pZ3JhdGVkXyYmKHIuX21pZ3JhdGVkXz0hMCxpKCJldmVudC1vbGQtcGF0Y2giLCJqUXVlcnkuZXZlbnQuZml4SG9va3MgYXJlIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQ6ICIrdCksKG49ci5wcm9wcykmJm4ubGVuZ3RoKSl3aGlsZShuLmxlbmd0aClzLmV2ZW50LmFkZFByb3Aobi5wb3AoKSk7cmV0dXJuIHQ9Vy5jYWxsKHRoaXMsZSksciYmci5maWx0ZXI/ci5maWx0ZXIodCxlKTp0fSwiZXZlbnQtb2xkLXBhdGNoIiksZChzLmV2ZW50LCJhZGQiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT1uJiYibG9hZCI9PT10JiYiY29tcGxldGUiPT09bi5kb2N1bWVudC5yZWFkeVN0YXRlJiZpKCJsb2FkLWFmdGVyLWV2ZW50IiwialF1ZXJ5KHdpbmRvdykub24oJ2xvYWQnLi4uKSBjYWxsZWQgYWZ0ZXIgbG9hZCBldmVudCBvY2N1cnJlZCIpLEYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwibG9hZC1hZnRlci1ldmVudCIpLHMuZWFjaChbImxvYWQiLCJ1bmxvYWQiLCJlcnJvciJdLGZ1bmN0aW9uKGUsdCl7ZChzLmZuLHQsZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuImxvYWQiPT09dCYmInN0cmluZyI9PXR5cGVvZiBlWzBdP0QuYXBwbHkodGhpcyxlKTooaSgic2hvcnRoYW5kLXJlbW92ZWQtdjMiLCJqUXVlcnkuZm4uIit0KyIoKSBpcyBkZXByZWNhdGVkIiksZS5zcGxpY2UoMCwwLHQpLGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbi5hcHBseSh0aGlzLGUpOih0aGlzLnRyaWdnZXJIYW5kbGVyLmFwcGx5KHRoaXMsZSksdGhpcykpfSwic2hvcnRoYW5kLXJlbW92ZWQtdjMiKX0pLHMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHIpe3Uocy5mbixyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHIsbnVsbCxlLHQpOnRoaXMudHJpZ2dlcihyKX0sInNob3J0aGFuZC1kZXByZWNhdGVkLXYzIiwialF1ZXJ5LmZuLiIrcisiKCkgZXZlbnQgc2hvcnRoYW5kIGlzIGRlcHJlY2F0ZWQiKX0pLHMoZnVuY3Rpb24oKXtzKG4uZG9jdW1lbnQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpfSkscy5ldmVudC5zcGVjaWFsLnJlYWR5PXtzZXR1cDpmdW5jdGlvbigpe3RoaXM9PT1uLmRvY3VtZW50JiZpKCJyZWFkeS1ldmVudCIsIidyZWFkeScgZXZlbnQgaXMgZGVwcmVjYXRlZCIpfX0sdShzLmZuLCJiaW5kIixmdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQscil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHUocy5mbiwidW5iaW5kIixmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi51bmJpbmQoKSBpcyBkZXByZWNhdGVkIiksdShzLmZuLCJkZWxlZ2F0ZSIsZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMub24odCxlLHIsbil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSx1KHMuZm4sInVuZGVsZWdhdGUiLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIscil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi51bmRlbGVnYXRlKCkgaXMgZGVwcmVjYXRlZCIpLHUocy5mbiwiaG92ZXIiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub24oIm1vdXNlZW50ZXIiLGUpLm9uKCJtb3VzZWxlYXZlIix0fHxlKX0sInByZS1vbi1tZXRob2RzIiwialF1ZXJ5LmZuLmhvdmVyKCkgaXMgZGVwcmVjYXRlZCIpLC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSksXz0ocy5VTlNBRkVfcmVzdG9yZUxlZ2FjeUh0bWxQcmVmaWx0ZXI9ZnVuY3Rpb24oKXtzLm1pZ3JhdGVFbmFibGVQYXRjaGVzKCJzZWxmLWNsb3NlZC10YWdzIil9LGQocywiaHRtbFByZWZpbHRlciIsZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4ocj0odD1lKS5yZXBsYWNlKE8sIjwkMT48LyQyPiIpKSE9PXQmJkModCkhPT1DKHIpJiZpKCJzZWxmLWNsb3NlZC10YWdzIiwiSFRNTCB0YWdzIG11c3QgYmUgcHJvcGVybHkgbmVzdGVkIGFuZCBjbG9zZWQ6ICIrdCksZS5yZXBsYWNlKE8sIjwkMT48LyQyPiIpfSwic2VsZi1jbG9zZWQtdGFncyIpLHMubWlncmF0ZURpc2FibGVQYXRjaGVzKCJzZWxmLWNsb3NlZC10YWdzIikscy5mbi5vZmZzZXQpO3JldHVybiBkKHMuZm4sIm9mZnNldCIsZnVuY3Rpb24oKXt2YXIgZT10aGlzWzBdO3JldHVybiFlfHxlLm5vZGVUeXBlJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9fLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooaSgib2Zmc2V0LXZhbGlkLWVsZW0iLCJqUXVlcnkuZm4ub2Zmc2V0KCkgcmVxdWlyZXMgYSB2YWxpZCBET00gZWxlbWVudCIpLGFyZ3VtZW50cy5sZW5ndGg/dGhpczp2b2lkIDApfSwib2Zmc2V0LXZhbGlkLWVsZW0iKSxzLmFqYXgmJihIPXMucGFyYW0sZChzLCJwYXJhbSIsZnVuY3Rpb24oZSx0KXt2YXIgcj1zLmFqYXhTZXR0aW5ncyYmcy5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7cmV0dXJuIHZvaWQgMD09PXQmJnImJihpKCJwYXJhbS1hamF4LXRyYWRpdGlvbmFsIiwialF1ZXJ5LnBhcmFtKCkgbm8gbG9uZ2VyIHVzZXMgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCIpLHQ9ciksSC5jYWxsKHRoaXMsZSx0KX0sInBhcmFtLWFqYXgtdHJhZGl0aW9uYWwiKSksdShzLmZuLCJhbmRTZWxmIixzLmZuLmFkZEJhY2ssImFuZFNlbGYiLCJqUXVlcnkuZm4uYW5kU2VsZigpIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQsIHVzZSBqUXVlcnkuZm4uYWRkQmFjaygpIikscy5EZWZlcnJlZCYmKEU9cy5EZWZlcnJlZCxNPVtbInJlc29sdmUiLCJkb25lIixzLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxzLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLHMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLHMuQ2FsbGJhY2tzKCJtZW1vcnkiKSxzLkNhbGxiYWNrcygibWVtb3J5IildXSxkKHMsIkRlZmVycmVkIixmdW5jdGlvbihlKXt2YXIgYT1FKCksaT1hLnByb21pc2UoKTtmdW5jdGlvbiB0KCl7dmFyIG89YXJndW1lbnRzO3JldHVybiBzLkRlZmVycmVkKGZ1bmN0aW9uKG4pe3MuZWFjaChNLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0mJm9bZV07YVt0WzFdXShmdW5jdGlvbigpe3ZhciBlPXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnByb21pc2U/ZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpLnByb2dyZXNzKG4ubm90aWZ5KTpuW3RbMF0rIldpdGgiXSh0aGlzPT09aT9uLnByb21pc2UoKTp0aGlzLHI/W2VdOmFyZ3VtZW50cyl9KX0pLG89bnVsbH0pLnByb21pc2UoKX1yZXR1cm4gdShhLCJwaXBlIix0LCJkZWZlcnJlZC1waXBlIiwiZGVmZXJyZWQucGlwZSgpIGlzIGRlcHJlY2F0ZWQiKSx1KGksInBpcGUiLHQsImRlZmVycmVkLXBpcGUiLCJkZWZlcnJlZC5waXBlKCkgaXMgZGVwcmVjYXRlZCIpLGUmJmUuY2FsbChhLGEpLGF9LCJkZWZlcnJlZC1waXBlIikscy5EZWZlcnJlZC5leGNlcHRpb25Ib29rPUUuZXhjZXB0aW9uSG9vayksc30pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5LW1pZ3JhdGUubWluLm1hcA0KZnVuY3Rpb24gT3BlbldpbmRvdyhuLHQsaSxyKXt2YXIgdT0oc2NyZWVuLndpZHRoLXQpLzIsZj0oc2NyZWVuLmhlaWdodC1pKS8yLGU7d2lucHJvcHM9InJlc2l6YWJsZT0wLCBoZWlnaHQ9IitpKyIsd2lkdGg9Iit0KyIsdG9wPSIrZisiLGxlZnQ9Iit1KyJ3IjtyJiYod2lucHJvcHMrPSIsc2Nyb2xsYmFycz0xIik7ZT13aW5kb3cub3BlbihuLCJfYmxhbmsiLHdpbnByb3BzKX1mdW5jdGlvbiBzZXRMb2NhdGlvbihuKXt3aW5kb3cubG9jYXRpb24uaHJlZj1ufWZ1bmN0aW9uIGRpc3BsYXlBamF4TG9hZGluZyhuKXtuPyQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93Iikuc2hvdygpOiQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93IikuaGlkZSgic2xvdyIpfWZ1bmN0aW9uIGRpc3BsYXlQb3B1cE5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGYscix1LGU7aWYoZj10PT0ic3VjY2VzcyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXN1Y2Nlc3MiKTp0PT0iZXJyb3IiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1lcnJvciIpOnQ9PSJ3YXJuaW5nIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtd2FybmluZyIpOiQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIikscj0iIix0eXBlb2Ygbj09InN0cmluZyIpcj0iPHA+IituKyI8XC9wPiI7ZWxzZSBmb3IodT0wO3U8bi5sZW5ndGg7dSsrKXI9cisiPHA+IituW3VdKyI8XC9wPiI7Zi5odG1sKHIpO2U9aT8hMDohMTtmLmRpYWxvZyh7bW9kYWw6ZSx3aWR0aDozNTB9KX1mdW5jdGlvbiBkaXNwbGF5Sm9pbmVkUG9wdXBOb3RpZmljYXRpb25zKG4pe3ZhciB1LGYsaSxlLHIsdDtpZihPYmplY3Qua2V5cyhuKS5sZW5ndGghPT0wKXt1PSQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoaSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaSkpZm9yKGU9bltpXSxyPTA7cjxlLmxlbmd0aDsrK3IpdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LmlubmVySFRNTD1lW3JdLHQuY2xhc3NMaXN0LmFkZCgicG9wdXAtbm90aWZpY2F0aW9uIiksdC5jbGFzc0xpc3QuYWRkKGkpLGYuYXBwZW5kKHQpO3UuaHRtbChmKTt1LmRpYWxvZyh7d2lkdGg6MzUwLG1vZGFsOiEwfSl9fWZ1bmN0aW9uIGRpc3BsYXlQb3B1cENvbnRlbnRGcm9tVXJsKG4sdCxpLHIpe3ZhciB1PWk/ITA6ITEsZj1yP3I6NTUwLGU9JCh3aW5kb3cpLmhlaWdodCgpLTIwOyQoIjxkaXY+PFwvZGl2PiIpLmxvYWQobikuZGlhbG9nKHttb2RhbDp1LHdpZHRoOmYsbWF4SGVpZ2h0OmUsdGl0bGU6dCxjbG9zZTpmdW5jdGlvbigpeyQodGhpcykuZGlhbG9nKCJkZXN0cm95IikucmVtb3ZlKCl9fSl9ZnVuY3Rpb24gZGlzcGxheUJhck5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGMsbz10eXBlb2Ygbj09InN0cmluZyI/W25dOm4scyxyLHUsZixlLGg7aWYoby5sZW5ndGghPT0wKXtmb3Iocz1bInN1Y2Nlc3MiLCJlcnJvciIsIndhcm5pbmciXS5pbmRleE9mKHQpIT09LTE/dDoic3VjY2VzcyIsJCgiI2Jhci1ub3RpZmljYXRpb24iKS5yZW1vdmVDbGFzcygic3VjY2VzcyIpLnJlbW92ZUNsYXNzKCJlcnJvciIpLnJlbW92ZUNsYXNzKCJ3YXJuaW5nIiksJCgiLmJhci1ub3RpZmljYXRpb24iKS5yZW1vdmUoKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHIuY2xhc3NMaXN0LmFkZCgiYmFyLW5vdGlmaWNhdGlvbiIscyksci5jbGFzc0xpc3QuYWRkKHMpLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLHUuY2xhc3NMaXN0LmFkZCgiY2xvc2UiKSx1LnNldEF0dHJpYnV0ZSgidGl0bGUiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYXItbm90aWZpY2F0aW9uIikuZGF0YXNldC5jbG9zZSksZj0wO2Y8by5sZW5ndGg7ZisrKWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLGUuY2xhc3NMaXN0LmFkZCgiY29udGVudCIpLGUuaW5uZXJIVE1MPW9bZl0sci5hcHBlbmRDaGlsZChlKTtyLmFwcGVuZENoaWxkKHUpOyQoIiNiYXItbm90aWZpY2F0aW9uIikuYXBwZW5kKHIpOyQocikuZmFkZUluKCJzbG93Iikub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGMpfSk7aD1mdW5jdGlvbigpeyQocikucmVtb3ZlKCl9OyQodSkub24oImNsaWNrIixmdW5jdGlvbigpeyQocikuZmFkZU91dCgic2xvdyIsaCl9KTtpPjAmJihjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSxpKSl9fWZ1bmN0aW9uIGh0bWxFbmNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLnRleHQobikuaHRtbCgpfWZ1bmN0aW9uIGh0bWxEZWNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLmh0bWwobikudGV4dCgpfWZ1bmN0aW9uIGFkZEFudGlGb3JnZXJ5VG9rZW4obil7bnx8KG49e30pO3ZhciB0PSQoImlucHV0W25hbWU9X19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW5dIik7cmV0dXJuIHQubGVuZ3RoJiYobi5fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj10LnZhbCgpKSxufQ0KdmFyIEFqYXhDYXJ0PXtsb2FkV2FpdGluZzohMSx1c2Vwb3B1cG5vdGlmaWNhdGlvbnM6ITEsdG9wY2FydHNlbGVjdG9yOiIiLHRvcHdpc2hsaXN0c2VsZWN0b3I6IiIsZmx5b3V0Y2FydHNlbGVjdG9yOiIiLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMudXNlcG9wdXBub3RpZmljYXRpb25zPW47dGhpcy50b3BjYXJ0c2VsZWN0b3I9dDt0aGlzLnRvcHdpc2hsaXN0c2VsZWN0b3I9aTt0aGlzLmZseW91dGNhcnRzZWxlY3Rvcj1yO3RoaXMubG9jYWxpemVkX2RhdGE9dX0sc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24obil7ZGlzcGxheUFqYXhMb2FkaW5nKG4pO3RoaXMubG9hZFdhaXRpbmc9bn0sYWRkcHJvZHVjdHRvY2FydF9jYXRhbG9nOmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxhZGRwcm9kdWN0dG9jYXJ0X2RldGFpbHM6ZnVuY3Rpb24obix0KXt0aGlzLmxvYWRXYWl0aW5nPT09ITEmJih0aGlzLnNldExvYWRXYWl0aW5nKCEwKSwkLmFqYXgoe2NhY2hlOiExLHVybDpuLGRhdGE6JCh0KS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSkpfSxhZGRwcm9kdWN0dG9jb21wYXJlbGlzdDpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sc3VjY2Vzc19wcm9jZXNzOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3BjYXJ0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwpLG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3B3aXNobGlzdHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCksbi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQuZmx5b3V0Y2FydHNlbGVjdG9yKS5yZXBsYWNlV2l0aChuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCksbi5tZXNzYWdlKT8obi5zdWNjZXNzPT09ITA/QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwzNTAwKTpBamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsMCksITEpOm4ucmVkaXJlY3Q/KGxvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdCwhMCk6ITF9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtBamF4Q2FydC5zZXRMb2FkV2FpdGluZyghMSl9LGFqYXhGYWlsdXJlOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5BamF4Q2FydEZhaWx1cmUpfX07DQorZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt2YXIgdD1uKHRoaXMpLHU9dC52YWwoKSxpPW4odC5kYXRhKCJzdGF0ZXByb3ZpbmNlIikpLHI7aS5sZW5ndGghPTAmJihyPW4odC5kYXRhKCJsb2FkaW5nIikpLHIuc2hvdygpLG4uYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6dC5kYXRhKCJ1cmwiKSxkYXRhOntjb3VudHJ5SWQ6dSxhZGRTZWxlY3RTdGF0ZUl0ZW06InRydWUifSxzdWNjZXNzOmZ1bmN0aW9uKHQpe2kuaHRtbCgiIik7bi5lYWNoKHQsZnVuY3Rpb24odCxyKXtpLmFwcGVuZChuKCI8b3B0aW9uPjxcL29wdGlvbj4iKS52YWwoci5pZCkuaHRtbChyLm5hbWUpKX0pfSxlcnJvcjpmdW5jdGlvbigpe2FsZXJ0KCJGYWlsZWQgdG8gcmV0cmlldmUgc3RhdGVzLiIpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciB0PXR5cGVvZiBCaWxsaW5nIT0idW5kZWZpbmVkIj9CaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDp0eXBlb2YgQ2hlY2tvdXRCaWxsaW5nIT0idW5kZWZpbmVkIj9DaGVja291dEJpbGxpbmcuc2VsZWN0ZWRTdGF0ZUlkOjA7bigiIyIraVswXS5pZCsiIG9wdGlvblt2YWx1ZT0iK3QrIl0iKS5wcm9wKCJzZWxlY3RlZCIsITApO3IuaGlkZSgpfX0pKX1pZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSBKUyByZXF1aXJlZCIpO24oZG9jdW1lbnQpLmhhcygnW2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpJiZuKCdzZWxlY3RbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykuY2hhbmdlKHQpO24uZm4uY291bnRyeVNlbGVjdD1mdW5jdGlvbigpe3RoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuY2hhbmdlKHQpfSl9fShqUXVlcnkpOw0KLyohDQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqLw0KIWZ1bmN0aW9uKGUsZGVmaW5lKXtkZWZpbmUoImtlbmRvLmNvcmUubWluIixbImpxdWVyeSJdLGUpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKGUsdCl7aWYodClyZXR1cm4iJyIrZS5zcGxpdCgiJyIpLmpvaW4oIlxcJyIpLnNwbGl0KCdcXCInKS5qb2luKCdcXFxcXFwiJykucmVwbGFjZSgvXG4vZywiXFxuIikucmVwbGFjZSgvXHIvZywiXFxyIikucmVwbGFjZSgvXHQvZywiXFx0IikrIiciO3ZhciBuPWUuY2hhckF0KDApLHI9ZS5zdWJzdHJpbmcoMSk7cmV0dXJuIj0iPT09bj8iKygiK3IrIikrIjoiOiI9PT1uPyIrJGtlbmRvSHRtbEVuY29kZSgiK3IrIikrIjoiOyIrZSsiOyRrZW5kb091dHB1dCs9In1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4gZSs9IiIsdD10fHwyLG49dC1lLmxlbmd0aCxuP0JbdF0uc3Vic3RyaW5nKDAsbikrZTplfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5jc3MoYmUuc3VwcG9ydC50cmFuc2l0aW9ucy5jc3MrImJveC1zaGFkb3ciKXx8ZS5jc3MoImJveC1zaGFkb3ciKSxuPXQ/dC5tYXRjaChFZSl8fFswLDAsMCwwLDBdOlswLDAsMCwwLDBdLHI9VGUubWF4KCtuWzNdLCsobls0XXx8MCkpO3JldHVybntsZWZ0Oi1uWzFdK3IscmlnaHQ6K25bMV0rcixib3R0b206K25bMl0rcn19ZnVuY3Rpb24gcyhuLHIpe3ZhciBvLGksYSxzLGwsYyxkPXplLmJyb3dzZXIsZj1iZS5fb3V0ZXJXaWR0aCxwPWJlLl9vdXRlckhlaWdodCxtPW4ucGFyZW50KCksaD1mKHQpO3JldHVybiBtLnJlbW92ZUNsYXNzKCJrLWFuaW1hdGlvbi1jb250YWluZXItc20iKSxtLmhhc0NsYXNzKCJrLWFuaW1hdGlvbi1jb250YWluZXIiKT91KG4scik6KGk9blswXS5zdHlsZS53aWR0aCxhPW5bMF0uc3R5bGUuaGVpZ2h0LHM9RGUudGVzdChpKSxsPURlLnRlc3QoYSksYz1uLmhhc0NsYXNzKCJrLXRvb2x0aXAiKXx8bi5pcygiLmstbWVudS1ob3Jpem9udGFsLmstY29udGV4dC1tZW51Iiksbz1zfHxsLCFzJiYoIXJ8fHImJml8fGMpJiYoaT1yP2YobikrMTpmKG4pKSwoIWwmJighcnx8ciYmYSl8fG4uaXMoIi5rLW1lbnUtaG9yaXpvbnRhbC5rLWNvbnRleHQtbWVudSIpKSYmKGE9cChuKSksbi53cmFwKGUoIjxkaXYvPiIpLmFkZENsYXNzKCJrLWFuaW1hdGlvbi1jb250YWluZXIiKS5jc3Moe3dpZHRoOmksaGVpZ2h0OmF9KSksbT1uLnBhcmVudCgpLG8mJm4uY3NzKHt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIixib3hTaXppbmc6ImJvcmRlci1ib3giLG1vekJveFNpemluZzoiYm9yZGVyLWJveCIsd2Via2l0Qm94U2l6aW5nOiJib3JkZXItYm94In0pKSxoPGYobSkmJihtLmFkZENsYXNzKCJrLWFuaW1hdGlvbi1jb250YWluZXItc20iKSx1KG4scikpLGQubXNpZSYmVGUuZmxvb3IoZC52ZXJzaW9uKTw9NyYmKG4uY3NzKHt6b29tOjF9KSxuLmNoaWxkcmVuKCIuay1tZW51Iikud2lkdGgobi53aWR0aCgpKSksbX1mdW5jdGlvbiB1KGUsdCl7dmFyIG4scj1iZS5fb3V0ZXJXaWR0aCxvPWJlLl9vdXRlckhlaWdodCxpPWUucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyIiksYT1pWzBdLnN0eWxlO2kuaXMoIjpoaWRkZW4iKSYmaS5jc3Moe2Rpc3BsYXk6IiIscG9zaXRpb246IiJ9KSxuPURlLnRlc3QoYS53aWR0aCl8fERlLnRlc3QoYS5oZWlnaHQpLG58fGkuY3NzKHt3aWR0aDp0P3IoZSkrMTpyKGUpLGhlaWdodDpvKGUpLGJveFNpemluZzoiY29udGVudC1ib3giLG1vekJveFNpemluZzoiY29udGVudC1ib3giLHdlYmtpdEJveFNpemluZzoiY29udGVudC1ib3gifSl9ZnVuY3Rpb24gbChlKXt2YXIgdD0xLG49YXJndW1lbnRzLmxlbmd0aDtmb3IodD0xO3Q8bjt0KyspYyhlLGFyZ3VtZW50c1t0XSk7cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLG4pe3ZhciByLG8saSxhLHMsdT1iZS5kYXRhLk9ic2VydmFibGVBcnJheSxsPWJlLmRhdGEuTGF6eU9ic2VydmFibGVBcnJheSxkPWJlLmRhdGEuRGF0YVNvdXJjZSxmPWJlLmRhdGEuSGllcmFyY2hpY2FsRGF0YVNvdXJjZTtmb3IociBpbiBuKW89bltyXSxpPXR5cGVvZiBvLGE9aT09PUZlJiZudWxsIT09bz9vLmNvbnN0cnVjdG9yOm51bGwsIWF8fGE9PT1BcnJheXx8YT09PXV8fGE9PT1sfHxhPT09ZHx8YT09PWZ8fGE9PT1SZWdFeHB8fGJlLmlzRnVuY3Rpb24odC5BcnJheUJ1ZmZlcikmJmE9PT1BcnJheUJ1ZmZlcj9pIT09VWUmJihlW3JdPW8pOm8gaW5zdGFuY2VvZiBEYXRlP2Vbcl09bmV3IERhdGUoby5nZXRUaW1lKCkpOk4oby5jbG9uZSk/ZVtyXT1vLmNsb25lKCk6KHM9ZVtyXSxlW3JdPXR5cGVvZiBzPT09RmU/c3x8e306e30sYyhlW3JdLG8pKTtyZXR1cm4gZX1mdW5jdGlvbiBkKGUsdCxyKXtmb3IodmFyIG8gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG8pJiZ0W29dLnRlc3QoZSkpcmV0dXJuIG87cmV0dXJuIHIhPT1uP3I6ZX1mdW5jdGlvbiBmKGUpe3JldHVybiBlLnJlcGxhY2UoLyhbYS16XVtBLVpdKS9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJBdCgwKSsiLSIrZS5jaGFyQXQoMSkudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUucmVwbGFjZSgvXC0oXHcpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gbSh0LG4pe3ZhciByLG89e307cmV0dXJuIGRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlPyhyPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCwiIiksbiYmZS5lYWNoKG4sZnVuY3Rpb24oZSx0KXtvW3RdPXIuZ2V0UHJvcGVydHlWYWx1ZSh0KX0pKToocj10LmN1cnJlbnRTdHlsZSxuJiZlLmVhY2gobixmdW5jdGlvbihlLHQpe29bdF09cltwKHQpXX0pKSxiZS5zaXplKG8pfHwobz1yKSxvfWZ1bmN0aW9uIGgoZSl7aWYoZSYmZS5jbGFzc05hbWUmJiJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lLmluZGV4T2YoImstYXV0by1zY3JvbGxhYmxlIik+LTEpcmV0dXJuITA7dmFyIHQ9bShlLFsib3ZlcmZsb3ciXSkub3ZlcmZsb3c7cmV0dXJuImF1dG8iPT10fHwic2Nyb2xsIj09dH1mdW5jdGlvbiBnKHQscil7dmFyIG8saT16ZS5icm93c2VyLndlYmtpdCxhPXplLmJyb3dzZXIubW96aWxsYSxzPXQgaW5zdGFuY2VvZiBlP3RbMF06dDtpZih0KXJldHVybiBvPXplLmlzUnRsKHQpLHI9PT1uP28mJmk/cy5zY3JvbGxXaWR0aC1zLmNsaWVudFdpZHRoLXMuc2Nyb2xsTGVmdDpNYXRoLmFicyhzLnNjcm9sbExlZnQpOihzLnNjcm9sbExlZnQ9byYmaT9zLnNjcm9sbFdpZHRoLXMuY2xpZW50V2lkdGgtcjpvJiZhPy1yOnIsbil9ZnVuY3Rpb24geShlKXt2YXIgdCxuPTA7Zm9yKHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYidG9KU09OIiE9dCYmbisrO3JldHVybiBufWZ1bmN0aW9uIHYoZSxuLHIpe3ZhciBvLGksYTtyZXR1cm4gbnx8KG49Im9mZnNldCIpLG89ZVtuXSgpLGk9e3RvcDpvLnRvcCxyaWdodDpvLnJpZ2h0LGJvdHRvbTpvLmJvdHRvbSxsZWZ0Om8ubGVmdH0semUuYnJvd3Nlci5tc2llJiYoemUucG9pbnRlcnN8fHplLm1zUG9pbnRlcnMpJiYhciYmKGE9emUuaXNSdGwoZSk/MTotMSxpLnRvcC09dC5wYWdlWU9mZnNldC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLGkubGVmdC09dC5wYWdlWE9mZnNldCthKmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSxpfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9e307cmV0dXJuIE1lKCJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KCIgIik6ZSxmdW5jdGlvbihlKXt0W2VdPXRoaXN9KSx0fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIG5ldyBiZS5lZmZlY3RzLkVsZW1lbnQoZSl9ZnVuY3Rpb24gTShlLHQsbixyKXtyZXR1cm4gdHlwZW9mIGU9PT1IZSYmKE4odCkmJihyPXQsdD00MDAsbj0hMSksTihuKSYmKHI9bixuPSExKSx0eXBlb2YgdD09PVJlJiYobj10LHQ9NDAwKSxlPXtlZmZlY3RzOmUsZHVyYXRpb246dCxyZXZlcnNlOm4sY29tcGxldGU6cn0pLHdlKHtlZmZlY3RzOnt9LGR1cmF0aW9uOjQwMCxyZXZlcnNlOiExLGluaXQ6a2UsdGVhcmRvd246a2UsaGlkZTohMX0sZSx7Y29tcGxldGVDYWxsYmFjazplLmNvbXBsZXRlLGNvbXBsZXRlOmtlfSl9ZnVuY3Rpb24geCh0LG4scixvLGkpe2Zvcih2YXIgYSxzPTAsdT10Lmxlbmd0aDtzPHU7cysrKWE9ZSh0W3NdKSxhLnF1ZXVlKGZ1bmN0aW9uKCl7cS5wcm9taXNlKGEsTShuLHIsbyxpKSl9KTtyZXR1cm4gdH1mdW5jdGlvbiBTKGUsdCxuLHIpe3JldHVybiB0JiYodD10LnNwbGl0KCIgIiksTWUodCxmdW5jdGlvbih0LG4pe2UudG9nZ2xlQ2xhc3MobixyKX0pKSxlfWZ1bmN0aW9uIGsoZSl7cmV0dXJuKCIiK2UpLnJlcGxhY2UoSiwiJmFtcDsiKS5yZXBsYWNlKFYsIiZsdDsiKS5yZXBsYWNlKFEsIiZndDsiKS5yZXBsYWNlKEcsIiZxdW90OyIpLnJlcGxhY2UoSywiJiMzOTsiKX1mdW5jdGlvbiBUKGUpe3ZhciBuO3RyeXtuPXQuZGVjb2RlVVJJQ29tcG9uZW50KGUpfWNhdGNoKHIpe249ZS5yZXBsYWNlKC8ldShbXGRBLUZdezR9KXwlKFtcZEEtRl17Mn0pL2dpLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCgiMHgiKyh0fHxuKSwxNikpfSl9cmV0dXJuIG59ZnVuY3Rpb24gTyhlLHQpe3ZhciByO3JldHVybiAwPT09dC5pbmRleE9mKCJkYXRhIikmJih0PXQuc3Vic3RyaW5nKDQpLHQ9dC5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSt0LnN1YnN0cmluZygxKSksdD10LnJlcGxhY2UoYWUsIi0kMSIpLHI9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtIitiZS5ucyt0KSxudWxsPT09cj9yPW46Im51bGwiPT09cj9yPW51bGw6InRydWUiPT09cj9yPSEwOiJmYWxzZSI9PT1yP3I9ITE6X2UudGVzdChyKSYmIm1hc2siIT10P3I9cGFyc2VGbG9hdChyKTpvZS50ZXN0KHIpJiYhaWUudGVzdChyKSYmKHI9RnVuY3Rpb24oInJldHVybiAoIityKyIpIikoKSkscn1mdW5jdGlvbiB6KHQscixvKXt2YXIgaSxhLHM9e30sdT10LmdldEF0dHJpYnV0ZSgiZGF0YS0iK2JlLm5zKyJyb2xlIik7Zm9yKGkgaW4gcilhPU8odCxpKSxhIT09biYmKHJlLnRlc3QoaSkmJiJkcmF3ZXIiIT11JiYoInN0cmluZyI9PXR5cGVvZiBhP2UoIiMiK2EpLmxlbmd0aD9hPWJlLnRlbXBsYXRlKGUoIiMiK2EpLmh0bWwoKSk6byYmKGE9YmUudGVtcGxhdGUob1thXSkpOmE9dC5nZXRBdHRyaWJ1dGUoaSkpLHNbaV09YSk7cmV0dXJuIHN9ZnVuY3Rpb24gRCh0LG4pe3JldHVybiBlLmNvbnRhaW5zKHQsbik/LTE6MX1mdW5jdGlvbiBDKCl7dmFyIHQ9ZSh0aGlzKTtyZXR1cm4gZS5pbkFycmF5KHQuYXR0cigiZGF0YS0iK2JlLm5zKyJyb2xlIiksWyJzbGlkZXIiLCJyYW5nZXNsaWRlciIsImJyZWFkY3J1bWIiXSk+LTF8fHQuaXMoIjp2aXNpYmxlIil9ZnVuY3Rpb24gRShlLHQpe3ZhciBuPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KG4pPyFlLmRpc2FibGVkOiJhIj09PW4/ZS5ocmVmfHx0OnQpJiZfKGUpfWZ1bmN0aW9uIF8odCl7cmV0dXJuIGUuZXhwci5wc2V1ZG9zLnZpc2libGUodCkmJiFlKHQpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuImhpZGRlbiI9PT1lLmNzcyh0aGlzLCJ2aXNpYmlsaXR5Iil9KS5sZW5ndGh9ZnVuY3Rpb24gQShlLHQpe3JldHVybiBuZXcgQS5mbi5pbml0KGUsdCl9dmFyIEgsTixGLFAsUixVLGosSSxXLCQsTCxCLFkscSxKLFYsRyxLLFEsWixYLGVlLHRlLG5lLHJlLG9lLGllLGFlLHNlLHVlLGxlLGNlLGRlLGZlLHBlLG1lLGhlLGdlLHllLHZlLGJlPXQua2VuZG89dC5rZW5kb3x8e2N1bHR1cmVzOnt9fSx3ZT1lLmV4dGVuZCxNZT1lLmVhY2gseGU9ZS5pc0FycmF5LFNlPWUucHJveHksa2U9ZS5ub29wLFRlPU1hdGgsT2U9dC5KU09OfHx7fSx6ZT17fSxEZT0vJS8sQ2U9L1x7KFxkKykoOlteXH1dKyk/XH0vZyxFZT0vKFxkKyg/OlwuPylcZCopcHhccyooXGQrKD86XC4/KVxkKilweFxzKihcZCsoPzpcLj8pXGQqKXB4XHMqKFxkKyk/L2ksX2U9L14oXCt8LT8pXGQrKFwuPylcZCokLyxBZT0iZnVuY3Rpb24iLEhlPSJzdHJpbmciLE5lPSJudW1iZXIiLEZlPSJvYmplY3QiLFBlPSJudWxsIixSZT0iYm9vbGVhbiIsVWU9InVuZGVmaW5lZCIsamU9e30sSWU9e30sV2U9W10uc2xpY2UsJGU9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbyxpLGEscz1hcmd1bWVudHNbMF18fHt9LHU9MSxsPWFyZ3VtZW50cy5sZW5ndGgsYz0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgcyYmKGM9cyxzPWFyZ3VtZW50c1t1XXx8e30sdSsrKSwib2JqZWN0Ij09dHlwZW9mIHN8fGpRdWVyeS5pc0Z1bmN0aW9uKHMpfHwocz17fSksdT09PWwmJihzPXRoaXMsdS0tKTt1PGw7dSsrKWlmKG51bGwhPShpPWFyZ3VtZW50c1t1XSkpZm9yKG8gaW4gaSkiZmlsdGVycyIhPW8mJiJjb25jYXQiIT1vJiYiOiIhPW8mJihlPXNbb10scj1pW29dLHMhPT1yJiYoYyYmciYmKGpRdWVyeS5pc1BsYWluT2JqZWN0KHIpfHwodD1qUXVlcnkuaXNBcnJheShyKSkpPyh0Pyh0PSExLGE9ZSYmalF1ZXJ5LmlzQXJyYXkoZSk/ZTpbXSk6YT1lJiZqUXVlcnkuaXNQbGFpbk9iamVjdChlKT9lOnt9LHNbb109JGUoYyxhLHIpKTpyIT09biYmKHNbb109cikpKTtyZXR1cm4gc307YmUudmVyc2lvbj0iMjAyMC4yLjQxNCIucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLHIuZXh0ZW5kPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1mdW5jdGlvbigpe30sbz10aGlzLGk9ZSYmZS5pbml0P2UuaW5pdDpmdW5jdGlvbigpe28uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyLnByb3RvdHlwZT1vLnByb3RvdHlwZSxuPWkuZm49aS5wcm90b3R5cGU9bmV3IHI7Zm9yKHQgaW4gZSluW3RdPW51bGwhPWVbdF0mJmVbdF0uY29uc3RydWN0b3I9PT1PYmplY3Q/d2UoITAse30sci5wcm90b3R5cGVbdF0sZVt0XSk6ZVt0XTtyZXR1cm4gbi5jb25zdHJ1Y3Rvcj1pLGkuZXh0ZW5kPW8uZXh0ZW5kLGl9LHIucHJvdG90eXBlLl9pbml0T3B0aW9ucz1mdW5jdGlvbihlKXt0aGlzLm9wdGlvbnM9bCh7fSx0aGlzLm9wdGlvbnMsZSl9LE49YmUuaXNGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX0sRj1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITB9LFA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZD09PSEwfSxSPXIuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRzPXt9fSxiaW5kOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbyxpLGEscyx1LGw9dGhpcyxjPXR5cGVvZiBlPT09SGU/W2VdOmUsZD10eXBlb2YgdD09PUFlO2lmKHQ9PT1uKXtmb3IobyBpbiBlKWwuYmluZChvLGVbb10pO3JldHVybiBsfWZvcihvPTAsaT1jLmxlbmd0aDtvPGk7bysrKWU9Y1tvXSxzPWQ/dDp0W2VdLHMmJihyJiYoYT1zLHM9ZnVuY3Rpb24oKXtsLnVuYmluZChlLHMpLGEuYXBwbHkobCxhcmd1bWVudHMpfSxzLm9yaWdpbmFsPWEpLHU9bC5fZXZlbnRzW2VdPWwuX2V2ZW50c1tlXXx8W10sdS5wdXNoKHMpKTtyZXR1cm4gbH0sb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmluZChlLHQsITApfSxmaXJzdDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGE9dGhpcyxzPXR5cGVvZiBlPT09SGU/W2VdOmUsdT10eXBlb2YgdD09PUFlO2ZvcihuPTAscj1zLmxlbmd0aDtuPHI7bisrKWU9c1tuXSxvPXU/dDp0W2VdLG8mJihpPWEuX2V2ZW50c1tlXT1hLl9ldmVudHNbZV18fFtdLGkudW5zaGlmdChvKSk7cmV0dXJuIGF9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dGhpcyxpPW8uX2V2ZW50c1tlXTtpZihpKXtmb3IodD10fHx7fSx0LnNlbmRlcj1vLHQuX2RlZmF1bHRQcmV2ZW50ZWQ9ITEsdC5wcmV2ZW50RGVmYXVsdD1GLHQuaXNEZWZhdWx0UHJldmVudGVkPVAsaT1pLnNsaWNlKCksbj0wLHI9aS5sZW5ndGg7bjxyO24rKylpW25dLmNhbGwobyx0KTtyZXR1cm4gdC5fZGVmYXVsdFByZXZlbnRlZD09PSEwfXJldHVybiExfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgcixvPXRoaXMsaT1vLl9ldmVudHNbZV07aWYoZT09PW4pby5fZXZlbnRzPXt9O2Vsc2UgaWYoaSlpZih0KWZvcihyPWkubGVuZ3RoLTE7cj49MDtyLS0paVtyXSE9PXQmJmlbcl0ub3JpZ2luYWwhPT10fHxpLnNwbGljZShyLDEpO2Vsc2Ugby5fZXZlbnRzW2VdPVtdO3JldHVybiBvfX0pLFU9L15cdysvLGo9L1wkXHsoW159XSopXH0vZyxJPS9cXFx9L2csVz0vX19DVVJMWV9fL2csJD0vXFwjL2csTD0vX19TSEFSUF9fL2csQj1bIiIsIjAiLCIwMCIsIjAwMCIsIjAwMDAiXSxIPXtwYXJhbU5hbWU6ImRhdGEiLHVzZVdpdGhCbG9jazohMCxyZW5kZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89IiI7Zm9yKG49MCxyPXQubGVuZ3RoO248cjtuKyspbys9ZSh0W25dKTtyZXR1cm4gb30sY29tcGlsZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxhPXdlKHt9LHRoaXMsdCkscz1hLnBhcmFtTmFtZSx1PXMubWF0Y2goVSlbMF0sbD1hLnVzZVdpdGhCbG9jayxjPSJ2YXIgJGtlbmRvT3V0cHV0LCAka2VuZG9IdG1sRW5jb2RlID0ga2VuZG8uaHRtbEVuY29kZTsiO2lmKE4oZSkpcmV0dXJuIGU7Zm9yKGMrPWw/IndpdGgoIitzKyIpeyI6IiIsYys9IiRrZW5kb091dHB1dD0iLHI9ZS5yZXBsYWNlKEksIl9fQ1VSTFlfXyIpLnJlcGxhY2UoaiwiIz0ka2VuZG9IdG1sRW5jb2RlKCQxKSMiKS5yZXBsYWNlKFcsIn0iKS5yZXBsYWNlKCQsIl9fU0hBUlBfXyIpLnNwbGl0KCIjIiksaT0wO2k8ci5sZW5ndGg7aSsrKWMrPW8ocltpXSxpJTI9PT0wKTtjKz1sPyI7fSI6IjsiLGMrPSJyZXR1cm4gJGtlbmRvT3V0cHV0OyIsYz1jLnJlcGxhY2UoTCwiIyIpO3RyeXtyZXR1cm4gbj1GdW5jdGlvbih1LGMpLG4uX3Nsb3RDb3VudD1NYXRoLmZsb29yKHIubGVuZ3RoLzIpLG59Y2F0Y2goZCl7dGhyb3cgRXJyb3IoYmUuZm9ybWF0KCJJbnZhbGlkIHRlbXBsYXRlOid7MH0nIEdlbmVyYXRlZCBjb2RlOid7MX0nIixlLGMpKX19fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGEubGFzdEluZGV4PTAsYS50ZXN0KGUpPyciJytlLnJlcGxhY2UoYSxmdW5jdGlvbihlKXt2YXIgdD1zW2VdO3JldHVybiB0eXBlb2YgdD09PUhlP3Q6IlxcdSIrKCIwMDAwIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSsnIic6JyInK2UrJyInfWZ1bmN0aW9uIHQoaSxhKXt2YXIgcyxsLGMsZCxmLHAsbT1uLGg9YVtpXTtpZihoJiZ0eXBlb2YgaD09PUZlJiZ0eXBlb2YgaC50b0pTT049PT1BZSYmKGg9aC50b0pTT04oaSkpLHR5cGVvZiBvPT09QWUmJihoPW8uY2FsbChhLGksaCkpLHA9dHlwZW9mIGgscD09PUhlKXJldHVybiBlKGgpO2lmKHA9PT1OZSlyZXR1cm4gaXNGaW5pdGUoaCk/aCsiIjpQZTtpZihwPT09UmV8fHA9PT1QZSlyZXR1cm4gaCsiIjtpZihwPT09RmUpe2lmKCFoKXJldHVybiBQZTtpZihuKz1yLGY9W10sIltvYmplY3QgQXJyYXldIj09PXUuYXBwbHkoaCkpe2ZvcihkPWgubGVuZ3RoLHM9MDtzPGQ7cysrKWZbc109dChzLGgpfHxQZTtyZXR1cm4gYz0wPT09Zi5sZW5ndGg/IltdIjpuPyJbXG4iK24rZi5qb2luKCIsXG4iK24pKyJcbiIrbSsiXSI6IlsiK2Yuam9pbigiLCIpKyJdIixuPW0sY31pZihvJiZ0eXBlb2Ygbz09PUZlKWZvcihkPW8ubGVuZ3RoLHM9MDtzPGQ7cysrKXR5cGVvZiBvW3NdPT09SGUmJihsPW9bc10sYz10KGwsaCksYyYmZi5wdXNoKGUobCkrKG4/IjogIjoiOiIpK2MpKTtlbHNlIGZvcihsIGluIGgpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoaCxsKSYmKGM9dChsLGgpLGMmJmYucHVzaChlKGwpKyhuPyI6ICI6IjoiKStjKSk7cmV0dXJuIGM9MD09PWYubGVuZ3RoPyJ7fSI6bj8ie1xuIituK2Yuam9pbigiLFxuIituKSsiXG4iK20rIn0iOiJ7IitmLmpvaW4oIiwiKSsifSIsbj1tLGN9fXZhciBuLHIsbyxhPS9bXFxcIlx4MDAtXHgxZlx4N2YtXHg5Zlx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLHM9eyJcYiI6IlxcYiIsIlx0IjoiXFx0IiwiXG4iOiJcXG4iLCJcZiI6IlxcZiIsIlxyIjoiXFxyIiwnIic6J1xcIicsIlxcIjoiXFxcXCJ9LHU9e30udG9TdHJpbmc7dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiE9PUFlJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gaXNGaW5pdGUoZS52YWx1ZU9mKCkpP2koZS5nZXRVVENGdWxsWWVhcigpLDQpKyItIitpKGUuZ2V0VVRDTW9udGgoKSsxKSsiLSIraShlLmdldFVUQ0RhdGUoKSkrIlQiK2koZS5nZXRVVENIb3VycygpKSsiOiIraShlLmdldFVUQ01pbnV0ZXMoKSkrIjoiK2koZS5nZXRVVENTZWNvbmRzKCkpKyJaIjpudWxsfSxTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9KSx0eXBlb2YgT2Uuc3RyaW5naWZ5IT09QWUmJihPZS5zdHJpbmdpZnk9ZnVuY3Rpb24oZSxpLGEpe3ZhciBzO2lmKG49IiIscj0iIix0eXBlb2YgYT09PU5lKWZvcihzPTA7czxhO3MrPTEpcis9IiAiO2Vsc2UgdHlwZW9mIGE9PT1IZSYmKHI9YSk7aWYobz1pLGkmJnR5cGVvZiBpIT09QWUmJih0eXBlb2YgaSE9PUZlfHx0eXBlb2YgaS5sZW5ndGghPT1OZSkpdGhyb3cgRXJyb3IoIkpTT04uc3RyaW5naWZ5Iik7cmV0dXJuIHQoIiIseyIiOmV9KX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpZihlKXtpZihlLm51bWJlckZvcm1hdClyZXR1cm4gZTtpZih0eXBlb2YgZT09PUhlKXt2YXIgdD1iZS5jdWx0dXJlcztyZXR1cm4gdFtlXXx8dFtlLnNwbGl0KCItIilbMF1dfHxudWxsfXJldHVybiBudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJihlPXQoZSkpLGV8fGJlLmN1bHR1cmVzLmN1cnJlbnR9ZnVuY3Rpb24gbyhlLHQsbyl7bz1yKG8pO3ZhciBhPW8uY2FsZW5kYXJzLnN0YW5kYXJkLHM9YS5kYXlzLHU9YS5tb250aHM7cmV0dXJuIHQ9YS5wYXR0ZXJuc1t0XXx8dCx0LnJlcGxhY2UoYyxmdW5jdGlvbih0KXt2YXIgcixvLGw7cmV0dXJuImQiPT09dD9vPWUuZ2V0RGF0ZSgpOiJkZCI9PT10P289aShlLmdldERhdGUoKSk6ImRkZCI9PT10P289cy5uYW1lc0FiYnJbZS5nZXREYXkoKV06ImRkZGQiPT09dD9vPXMubmFtZXNbZS5nZXREYXkoKV06Ik0iPT09dD9vPWUuZ2V0TW9udGgoKSsxOiJNTSI9PT10P289aShlLmdldE1vbnRoKCkrMSk6Ik1NTSI9PT10P289dS5uYW1lc0FiYnJbZS5nZXRNb250aCgpXToiTU1NTSI9PT10P289dS5uYW1lc1tlLmdldE1vbnRoKCldOiJ5eSI9PT10P289aShlLmdldEZ1bGxZZWFyKCklMTAwKToieXl5eSI9PT10P289aShlLmdldEZ1bGxZZWFyKCksNCk6ImgiPT09dD9vPWUuZ2V0SG91cnMoKSUxMnx8MTI6ImhoIj09PXQ/bz1pKGUuZ2V0SG91cnMoKSUxMnx8MTIpOiJIIj09PXQ/bz1lLmdldEhvdXJzKCk6IkhIIj09PXQ/bz1pKGUuZ2V0SG91cnMoKSk6Im0iPT09dD9vPWUuZ2V0TWludXRlcygpOiJtbSI9PT10P289aShlLmdldE1pbnV0ZXMoKSk6InMiPT09dD9vPWUuZ2V0U2Vjb25kcygpOiJzcyI9PT10P289aShlLmdldFNlY29uZHMoKSk6ImYiPT09dD9vPVRlLmZsb29yKGUuZ2V0TWlsbGlzZWNvbmRzKCkvMTAwKToiZmYiPT09dD8obz1lLmdldE1pbGxpc2Vjb25kcygpLG8+OTkmJihvPVRlLmZsb29yKG8vMTApKSxvPWkobykpOiJmZmYiPT09dD9vPWkoZS5nZXRNaWxsaXNlY29uZHMoKSwzKToidHQiPT09dD9vPWUuZ2V0SG91cnMoKTwxMj9hLkFNWzBdOmEuUE1bMF06Inp6eiI9PT10PyhyPWUuZ2V0VGltZXpvbmVPZmZzZXQoKSxsPXI8MCxvPSgiIitUZS5hYnMoci82MCkpLnNwbGl0KCIuIilbMF0scj1UZS5hYnMociktNjAqbyxvPShsPyIrIjoiLSIpK2kobyksbys9IjoiK2kocikpOiJ6eiIhPT10JiYieiIhPT10fHwobz1lLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAsbD1vPDAsbz0oIiIrVGUuYWJzKG8pKS5zcGxpdCgiLiIpWzBdLG89KGw/IisiOiItIikrKCJ6eiI9PT10P2kobyk6bykpLG8hPT1uP286dC5zbGljZSgxLHQubGVuZ3RoLTEpfSl9ZnVuY3Rpb24gYShlLHQsbyl7dmFyIGksYSxsLGMsdyxNLHgsUyxrLFQsTyx6LEQsQyxFLF8sQSxILE4sRixQLFIsVSxqLEksVywkLEwsQixZLHEsSixWLEc7aWYobz1yKG8pLGk9by5udW1iZXJGb3JtYXQsYT1pW2hdLGw9aS5kZWNpbWFscyxjPWkucGF0dGVyblswXSx3PVtdLE89ZTwwLF89bSxBPW0scT0tMSxlPT09bilyZXR1cm4gbTtpZighaXNGaW5pdGUoZSkpcmV0dXJuIGU7aWYoIXQpcmV0dXJuIG8ubmFtZS5sZW5ndGg/ZS50b0xvY2FsZVN0cmluZygpOiIiK2U7aWYoVD1kLmV4ZWModCkpe2lmKHQ9VFsxXS50b0xvd2VyQ2FzZSgpLHg9ImMiPT09dCxTPSJwIj09PXQsKHh8fFMpJiYoaT14P2kuY3VycmVuY3k6aS5wZXJjZW50LGE9aVtoXSxsPWkuZGVjaW1hbHMsTT1pLnN5bWJvbCxjPWkucGF0dGVybltPPzA6MV0pLGs9VFsyXSxrJiYobD0rayksImUiPT09dClyZXR1cm4gVj1rP2UudG9FeHBvbmVudGlhbChsKTplLnRvRXhwb25lbnRpYWwoKSxWLnJlcGxhY2UoaCxpW2hdKTtpZihTJiYoZSo9MTAwKSxlPXUoZSxsKSxPPWU8MCxlPWUuc3BsaXQoaCksej1lWzBdLEQ9ZVsxXSxPJiYoej16LnN1YnN0cmluZygxKSksQT1zKHosMCx6Lmxlbmd0aCxpKSxEJiYoQSs9YStEKSwibiI9PT10JiYhTylyZXR1cm4gQTtmb3IoZT1tLEg9MCxOPWMubGVuZ3RoO0g8TjtIKyspRj1jLmNoYXJBdChIKSxlKz0ibiI9PT1GP0E6IiQiPT09Rnx8IiUiPT09Rj9NOkY7cmV0dXJuIGV9aWYoKHQuaW5kZXhPZigiJyIpPi0xfHx0LmluZGV4T2YoJyInKT4tMXx8dC5pbmRleE9mKCJcXCIpPi0xKSYmKHQ9dC5yZXBsYWNlKGYsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFyQXQoMCkucmVwbGFjZSgiXFwiLCIiKSxuPWUuc2xpY2UoMSkucmVwbGFjZSh0LCIiKTtyZXR1cm4gdy5wdXNoKG4pLGJ9KSksdD10LnNwbGl0KCI7IiksTyYmdFsxXSl0PXRbMV0sUj0hMDtlbHNlIGlmKDA9PT1lJiZ0WzJdKXtpZih0PXRbMl0sdC5pbmRleE9mKHkpPT0tMSYmdC5pbmRleE9mKHYpPT0tMSlyZXR1cm4gdH1lbHNlIHQ9dFswXTtpZihMPXQuaW5kZXhPZigiJSIpLEI9dC5pbmRleE9mKCIkIiksUz1MIT0tMSx4PUIhPS0xLFMmJihlKj0xMDApLHgmJiJcXCI9PT10W0ItMV0mJih0PXQuc3BsaXQoIlxcIikuam9pbigiIikseD0hMSksKHh8fFMpJiYoaT14P2kuY3VycmVuY3k6aS5wZXJjZW50LGE9aVtoXSxsPWkuZGVjaW1hbHMsTT1pLnN5bWJvbCksUD10LmluZGV4T2YoZyk+LTEsUCYmKHQ9dC5yZXBsYWNlKHAsbSkpLFU9dC5pbmRleE9mKGgpLE49dC5sZW5ndGgsVSE9LTEpaWYoRD0oIiIrZSkuc3BsaXQoImUiKSxEPURbMV0/dShlLE1hdGguYWJzKERbMV0pKTpEWzBdLEQ9RC5zcGxpdChoKVsxXXx8bSxJPXQubGFzdEluZGV4T2YodiktVSxqPXQubGFzdEluZGV4T2YoeSktVSxXPUk+LTEsJD1qPi0xLEg9RC5sZW5ndGgsV3x8JHx8KHQ9dC5zdWJzdHJpbmcoMCxVKSt0LnN1YnN0cmluZyhVKzEpLE49dC5sZW5ndGgsVT0tMSxIPTApLFcmJkk+ailIPUk7ZWxzZSBpZihqPkkpaWYoJCYmSD5qKXtmb3IoRz11KGUsaixPKTtHLmNoYXJBdChHLmxlbmd0aC0xKT09PXYmJmo+MCYmaj5JOylqLS0sRz11KGUsaixPKTtIPWp9ZWxzZSBXJiZIPEkmJihIPUkpO2lmKGU9dShlLEgsTyksaj10LmluZGV4T2YoeSksWT1JPXQuaW5kZXhPZih2KSxxPWo9PS0xJiZJIT0tMT9JOmohPS0xJiZJPT0tMT9qOmo+ST9JOmosaj10Lmxhc3RJbmRleE9mKHkpLEk9dC5sYXN0SW5kZXhPZih2KSxKPWo9PS0xJiZJIT0tMT9JOmohPS0xJiZJPT0tMT9qOmo+ST9qOkkscT09TiYmKEo9cSkscSE9LTEpe2ZvcihBPSgiIitlKS5zcGxpdChoKSx6PUFbMF0sRD1BWzFdfHxtLEM9ei5sZW5ndGgsRT1ELmxlbmd0aCxPJiZlKi0xPj0wJiYoTz0hMSksZT10LnN1YnN0cmluZygwLHEpLE8mJiFSJiYoZSs9Ii0iKSxIPXE7SDxOO0grKyl7aWYoRj10LmNoYXJBdChIKSxVPT0tMSl7aWYoSi1IPEMpe2UrPXo7YnJlYWt9fWVsc2UgaWYoSSE9LTEmJkk8SCYmKF89bSksVS1IPD1DJiZVLUg+LTEmJihlKz16LEg9VSksVT09PUgpe2UrPShEP2E6bSkrRCxIKz1KLVUrMTtjb250aW51ZX1GPT09dj8oZSs9RixfPUYpOkY9PT15JiYoZSs9Xyl9aWYoUCYmKGU9cyhlLHErKE8mJiFSPzE6MCksTWF0aC5tYXgoSixDK3EpLGkpKSxKPj1xJiYoZSs9dC5zdWJzdHJpbmcoSisxKSkseHx8Uyl7Zm9yKEE9bSxIPTAsTj1lLmxlbmd0aDtIPE47SCsrKUY9ZS5jaGFyQXQoSCksQSs9IiQiPT09Rnx8IiUiPT09Rj9NOkY7ZT1BfWlmKE49dy5sZW5ndGgpZm9yKEg9MDtIPE47SCsrKWU9ZS5yZXBsYWNlKGIsd1tIXSl9cmV0dXJuIGV9dmFyIHMsdSxsLGM9L2RkZGR8ZGRkfGRkfGR8TU1NTXxNTU18TU18TXx5eXl5fHl5fEhIfEh8aGh8aHxtbXxtfGZmZnxmZnxmfHR0fHNzfHN8enp6fHp6fHp8IlteIl0qInwnW14nXSonL2csZD0vXihufGN8cHxlKShcZCopJC9pLGY9LyhcXC4pfChbJ11bXiddKlsnXT8pfChbIl1bXiJdKlsiXT8pL2cscD0vXCwvZyxtPSIiLGg9Ii4iLGc9IiwiLHk9IiMiLHY9IjAiLGI9Ij8/Iix3PSJlbi1VUyIsTT17fS50b1N0cmluZztiZS5jdWx0dXJlc1siZW4tVVMiXT17bmFtZTp3LG51bWJlckZvcm1hdDp7cGF0dGVybjpbIi1uIl0sZGVjaW1hbHM6MiwiLCI6IiwiLCIuIjoiLiIsZ3JvdXBTaXplOlszXSxwZXJjZW50OntwYXR0ZXJuOlsiLW4gJSIsIm4gJSJdLGRlY2ltYWxzOjIsIiwiOiIsIiwiLiI6Ii4iLGdyb3VwU2l6ZTpbM10sc3ltYm9sOiIlIn0sY3VycmVuY3k6e25hbWU6IlVTIERvbGxhciIsYWJicjoiVVNEIixwYXR0ZXJuOlsiKCRuKSIsIiRuIl0sZGVjaW1hbHM6MiwiLCI6IiwiLCIuIjoiLiIsZ3JvdXBTaXplOlszXSxzeW1ib2w6IiQifX0sY2FsZW5kYXJzOntzdGFuZGFyZDp7ZGF5czp7bmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLG5hbWVzQWJicjpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLG5hbWVzU2hvcnQ6WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdfSxtb250aHM6e25hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxuYW1lc0FiYnI6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXX0sQU06WyJBTSIsImFtIiwiQU0iXSxQTTpbIlBNIiwicG0iLCJQTSJdLHBhdHRlcm5zOntkOiJNL2QveXl5eSIsRDoiZGRkZCwgTU1NTSBkZCwgeXl5eSIsRjoiZGRkZCwgTU1NTSBkZCwgeXl5eSBoOm1tOnNzIHR0IixnOiJNL2QveXl5eSBoOm1tIHR0IixHOiJNL2QveXl5eSBoOm1tOnNzIHR0IixtOiJNTU1NIGRkIixNOiJNTU1NIGRkIixzOiJ5eXl5Jy0nTU0nLSdkZFRISCc6J21tJzonc3MiLHQ6Img6bW0gdHQiLFQ6Img6bW06c3MgdHQiLHU6Inl5eXknLSdNTSctJ2RkIEhIJzonbW0nOidzcydaJyIseToiTU1NTSwgeXl5eSIsWToiTU1NTSwgeXl5eSJ9LCIvIjoiLyIsIjoiOiI6IixmaXJzdERheTowLHR3b0RpZ2l0WWVhck1heDoyMDI5fX19LGJlLmN1bHR1cmU9ZnVuY3Rpb24oZSl7dmFyIHIsbz1iZS5jdWx0dXJlcztyZXR1cm4gZT09PW4/by5jdXJyZW50OihyPXQoZSl8fG9bd10sci5jYWxlbmRhcj1yLmNhbGVuZGFycy5zdGFuZGFyZCxvLmN1cnJlbnQ9cixuKX0sYmUuZmluZEN1bHR1cmU9dCxiZS5nZXRDdWx0dXJlPXIsYmUuY3VsdHVyZSh3KSxzPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBpLGEscyx1LGwsYyxkPWUuaW5kZXhPZihvW2hdKSxmPW8uZ3JvdXBTaXplLnNsaWNlKCkscD1mLnNoaWZ0KCk7aWYocj1kIT09LTE/ZDpyKzEsaT1lLnN1YnN0cmluZyh0LHIpLGE9aS5sZW5ndGgsYT49cCl7Zm9yKHM9YSx1PVtdO3M+LTE7KWlmKGw9aS5zdWJzdHJpbmcocy1wLHMpLGwmJnUucHVzaChsKSxzLT1wLGM9Zi5zaGlmdCgpLHA9YyE9PW4/YzpwLDA9PT1wKXtzPjAmJnUucHVzaChpLnN1YnN0cmluZygwLHMpKTticmVha31pPXUucmV2ZXJzZSgpLmpvaW4ob1tnXSksZT1lLnN1YnN0cmluZygwLHQpK2krZS5zdWJzdHJpbmcocil9cmV0dXJuIGV9LHU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PXR8fDAsZT0oIiIrZSkuc3BsaXQoImUiKSxlPU1hdGgucm91bmQoKyhlWzBdKyJlIisoZVsxXT8rZVsxXSt0OnQpKSksbiYmKGU9LWUpLGU9KCIiK2UpLnNwbGl0KCJlIiksZT0rKGVbMF0rImUiKyhlWzFdPytlWzFdLXQ6LXQpKSxlLnRvRml4ZWQoTWF0aC5taW4odCwyMCkpfSxsPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXtpZigiW29iamVjdCBEYXRlXSI9PT1NLmNhbGwoZSkpcmV0dXJuIG8oZSx0LHIpO2lmKHR5cGVvZiBlPT09TmUpcmV0dXJuIGEoZSx0LHIpfXJldHVybiBlIT09bj9lOiIifSxiZS5mb3JtYXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzO3JldHVybiBlLnJlcGxhY2UoQ2UsZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRbcGFyc2VJbnQobiwxMCkrMV07cmV0dXJuIGwobyxyP3Iuc3Vic3RyaW5nKDEpOiIiKX0pfSxiZS5fZXh0cmFjdEZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4iezA6Ij09PWUuc2xpY2UoMCwzKSYmKGU9ZS5zbGljZSgzLGUubGVuZ3RoLTEpKSxlfSxiZS5fYWN0aXZlRWxlbWVudD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFjdGl2ZUVsZW1lbnR9fSxiZS5fcm91bmQ9dSxiZS5fb3V0ZXJXaWR0aD1mdW5jdGlvbih0LG4pe3JldHVybiBlKHQpLm91dGVyV2lkdGgobnx8ITEpfHwwfSxiZS5fb3V0ZXJIZWlnaHQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0KS5vdXRlckhlaWdodChufHwhMSl8fDB9LGJlLnRvU3RyaW5nPWx9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsdCxuKXtyZXR1cm4hKGU+PXQmJmU8PW4pfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUuY2hhckF0KDApfWZ1bmN0aW9uIG8odCl7cmV0dXJuIGUubWFwKHQscil9ZnVuY3Rpb24gaShlLHQpe3R8fDIzIT09ZS5nZXRIb3VycygpfHxlLnNldEhvdXJzKGUuZ2V0SG91cnMoKSsyKX1mdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj1bXTt0PG47dCsrKXJbdF09KGVbdF0rIiIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXt2YXIgdCxuPXt9O2Zvcih0IGluIGUpblt0XT1hKGVbdF0pO3JldHVybiBufWZ1bmN0aW9uIHUoZSxyLGEsdSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIGwsYyxkLGYscCxnLHksdixiLE0seCxTLGssVD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDtyW1JdPT09ZTspdCsrLFIrKztyZXR1cm4gdD4wJiYoUi09MSksdH0sTz1mdW5jdGlvbih0KXt2YXIgbj13W3RdfHxSZWdFeHAoIl5cXGR7MSwiK3QrIn0iKSxyPWUuc3Vic3RyKFUsdCkubWF0Y2gobik7cmV0dXJuIHI/KHI9clswXSxVKz1yLmxlbmd0aCxwYXJzZUludChyLDEwKSk6bnVsbH0sej1mdW5jdGlvbih0LG4pe2Zvcih2YXIgcixvLGksYT0wLHM9dC5sZW5ndGgsdT0wLGw9MDthPHM7YSsrKXI9dFthXSxvPXIubGVuZ3RoLGk9ZS5zdWJzdHIoVSxvKSxuJiYoaT1pLnRvTG93ZXJDYXNlKCkpLGk9PXImJm8+dSYmKHU9byxsPWEpO3JldHVybiB1PyhVKz11LGwrMSk6bnVsbH0sRD1mdW5jdGlvbigpe3ZhciB0PSExO3JldHVybiBlLmNoYXJBdChVKT09PXJbUl0mJihVKyssdD0hMCksdH0sQz1hLmNhbGVuZGFycy5zdGFuZGFyZCxFPW51bGwsXz1udWxsLEE9bnVsbCxIPW51bGwsTj1udWxsLEY9bnVsbCxQPW51bGwsUj0wLFU9MCxqPSExLEk9bmV3IERhdGUsVz1DLnR3b0RpZ2l0WWVhck1heHx8MjAyOSwkPUkuZ2V0RnVsbFllYXIoKTtmb3Iocnx8KHI9ImQiKSxmPUMucGF0dGVybnNbcl0sZiYmKHI9Zikscj1yLnNwbGl0KCIiKSxkPXIubGVuZ3RoO1I8ZDtSKyspaWYobD1yW1JdLGopIiciPT09bD9qPSExOkQoKTtlbHNlIGlmKCJkIj09PWwpe2lmKGM9VCgiZCIpLEMuX2xvd2VyRGF5c3x8KEMuX2xvd2VyRGF5cz1zKEMuZGF5cykpLG51bGwhPT1BJiZjPjIpY29udGludWU7aWYoQT1jPDM/TygyKTp6KEMuX2xvd2VyRGF5c1szPT1jPyJuYW1lc0FiYnIiOiJuYW1lcyJdLCEwKSxudWxsPT09QXx8dChBLDEsMzEpKXJldHVybiBudWxsfWVsc2UgaWYoIk0iPT09bCl7aWYoYz1UKCJNIiksQy5fbG93ZXJNb250aHN8fChDLl9sb3dlck1vbnRocz1zKEMubW9udGhzKSksXz1jPDM/TygyKTp6KEMuX2xvd2VyTW9udGhzWzM9PWM/Im5hbWVzQWJiciI6Im5hbWVzIl0sITApLG51bGw9PT1ffHx0KF8sMSwxMikpcmV0dXJuIG51bGw7Xy09MX1lbHNlIGlmKCJ5Ij09PWwpe2lmKGM9VCgieSIpLEU9TyhjKSxudWxsPT09RSlyZXR1cm4gbnVsbDsyPT1jJiYoInN0cmluZyI9PXR5cGVvZiBXJiYoVz0kK3BhcnNlSW50KFcsMTApKSxFPSQtJCUxMDArRSxFPlcmJihFLT0xMDApKX1lbHNlIGlmKCJoIj09PWwpe2lmKFQoImgiKSxIPU8oMiksMTI9PUgmJihIPTApLG51bGw9PT1IfHx0KEgsMCwxMSkpcmV0dXJuIG51bGx9ZWxzZSBpZigiSCI9PT1sKXtpZihUKCJIIiksSD1PKDIpLG51bGw9PT1IfHx0KEgsMCwyMykpcmV0dXJuIG51bGx9ZWxzZSBpZigibSI9PT1sKXtpZihUKCJtIiksTj1PKDIpLG51bGw9PT1OfHx0KE4sMCw1OSkpcmV0dXJuIG51bGx9ZWxzZSBpZigicyI9PT1sKXtpZihUKCJzIiksRj1PKDIpLG51bGw9PT1GfHx0KEYsMCw1OSkpcmV0dXJuIG51bGx9ZWxzZSBpZigiZiI9PT1sKXtpZihjPVQoImYiKSxrPWUuc3Vic3RyKFUsYykubWF0Y2god1szXSksUD1PKGMpLG51bGwhPT1QJiYoUD1wYXJzZUZsb2F0KCIwLiIra1swXSwxMCksUD1iZS5fcm91bmQoUCwzKSxQKj0xZTMpLG51bGw9PT1QfHx0KFAsMCw5OTkpKXJldHVybiBudWxsfWVsc2UgaWYoInQiPT09bCl7aWYoYz1UKCJ0Iiksdj1DLkFNLGI9Qy5QTSwxPT09YyYmKHY9byh2KSxiPW8oYikpLHA9eihiKSwhcCYmIXoodikpcmV0dXJuIG51bGx9ZWxzZSBpZigieiI9PT1sKXtpZihnPSEwLGM9VCgieiIpLCJaIj09PWUuc3Vic3RyKFUsMSkpe0QoKTtjb250aW51ZX1pZih5PWUuc3Vic3RyKFUsNikubWF0Y2goYz4yP2g6bSksIXkpcmV0dXJuIG51bGw7aWYoeT15WzBdLnNwbGl0KCI6IiksTT15WzBdLHg9eVsxXSwheCYmTS5sZW5ndGg+MyYmKFU9TS5sZW5ndGgtMix4PU0uc3Vic3RyaW5nKFUpLE09TS5zdWJzdHJpbmcoMCxVKSksTT1wYXJzZUludChNLDEwKSx0KE0sLTEyLDEzKSlyZXR1cm4gbnVsbDtpZihjPjImJih4PXlbMF1bMF0reCx4PXBhcnNlSW50KHgsMTApLGlzTmFOKHgpfHx0KHgsLTU5LDU5KSkpcmV0dXJuIG51bGx9ZWxzZSBpZigiJyI9PT1sKWo9ITAsRCgpO2Vsc2UgaWYoIUQoKSlyZXR1cm4gbnVsbDtyZXR1cm4gdSYmIS9eXHMqJC8udGVzdChlLnN1YnN0cihVKSk/bnVsbDooUz1udWxsIT09SHx8bnVsbCE9PU58fEZ8fG51bGwsbnVsbD09PUUmJm51bGw9PT1fJiZudWxsPT09QSYmUz8oRT0kLF89SS5nZXRNb250aCgpLEE9SS5nZXREYXRlKCkpOihudWxsPT09RSYmKEU9JCksbnVsbD09PUEmJihBPTEpKSxwJiZIPDEyJiYoSCs9MTIpLGc/KE0mJihIKz0tTSkseCYmKE4rPS14KSxlPW5ldyBEYXRlKERhdGUuVVRDKEUsXyxBLEgsTixGLFApKSk6KGU9bmV3IERhdGUoRSxfLEEsSCxOLEYsUCksaShlLEgpKSxFPDEwMCYmZS5zZXRGdWxsWWVhcihFKSxlLmdldERhdGUoKSE9PUEmJmc9PT1uP251bGw6ZSl9ZnVuY3Rpb24gbChlKXt2YXIgdD0iLSI9PT1lLnN1YnN0cigwLDEpPy0xOjE7cmV0dXJuIGU9ZS5zdWJzdHJpbmcoMSksZT02MCpwYXJzZUludChlLnN1YnN0cigwLDIpLDEwKStwYXJzZUludChlLnN1YnN0cmluZygyKSwxMCksdCplfWZ1bmN0aW9uIGMoZSl7dmFyIHQsbixyLG89VGUubWF4KHYubGVuZ3RoLGIubGVuZ3RoKSxpPWUuY2FsZW5kYXJ8fGUuY2FsZW5kYXJzLnN0YW5kYXJkLGE9aS5wYXR0ZXJucyxzPVtdO2ZvcihyPTA7cjxvO3IrKyl7Zm9yKHQ9dltyXSxuPTA7bjx0Lmxlbmd0aDtuKyspcy5wdXNoKGFbdFtuXV0pO3M9cy5jb25jYXQoYltyXSl9cmV0dXJuIHN9ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbyxpLGEscztpZigiW29iamVjdCBEYXRlXSI9PT1NLmNhbGwoZSkpcmV0dXJuIGU7aWYobz0wLGk9bnVsbCxlJiYwPT09ZS5pbmRleE9mKCIvRCIpJiYoaT1nLmV4ZWMoZSkpKXJldHVybiBpPWlbMV0scz15LmV4ZWMoaS5zdWJzdHJpbmcoMSkpLGk9bmV3IERhdGUocGFyc2VJbnQoaSwxMCkpLHMmJihzPWwoc1swXSksaT1iZS50aW1lem9uZS5hcHBseShpLDApLGk9YmUudGltZXpvbmUuY29udmVydChpLDAsLTEqcykpLGk7Zm9yKG49YmUuZ2V0Q3VsdHVyZShuKSx0fHwodD1jKG4pKSx0PXhlKHQpP3Q6W3RdLGE9dC5sZW5ndGg7bzxhO28rKylpZihpPXUoZSx0W29dLG4scikpcmV0dXJuIGk7cmV0dXJuIGl9dmFyIGY9L1x1MDBBMC9nLHA9L1tlRV1bXC0rXT9bMC05XSsvLG09L1srfFwtXVxkezEsMn0vLGg9L1srfFwtXVxkezEsMn06P1xkezJ9LyxnPS9eXC9EYXRlXCgoLio/KVwpXC8kLyx5PS9bKy1dXGQqLyx2PVtbXSxbIkciLCJnIiwiRiJdLFsiRCIsImQiLCJ5IiwibSIsIlQiLCJ0Il1dLGI9W1sieXl5eS1NTS1kZFRISDptbTpzcy5mZmZmZmZmenp6IiwieXl5eS1NTS1kZFRISDptbTpzcy5mZmZmZmZmIiwieXl5eS1NTS1kZFRISDptbTpzcy5mZmZ6enoiLCJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZiIsImRkZCBNTU0gZGQgeXl5eSBISDptbTpzcyIsInl5eXktTU0tZGRUSEg6bW06c3N6enoiLCJ5eXl5LU1NLWRkVEhIOm1tenp6IiwieXl5eS1NTS1kZFRISDptbXp6IiwieXl5eS1NTS1kZFRISDptbTpzcyIsInl5eXktTU0tZGQgSEg6bW06c3MiLCJ5eXl5L01NL2RkIEhIOm1tOnNzIl0sWyJ5eXl5LU1NLWRkVEhIOm1tIiwieXl5eS1NTS1kZCBISDptbSIsInl5eXkvTU0vZGQgSEg6bW0iXSxbInl5eXkvTU0vZGQiLCJ5eXl5LU1NLWRkIiwiSEg6bW06c3MiLCJISDptbSJdXSx3PXsyOi9eXGR7MSwyfS8sMzovXlxkezEsM30vLDQ6L15cZHs0fS99LE09e30udG9TdHJpbmc7YmUucGFyc2VEYXRlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZChlLHQsbiwhMSl9LGJlLnBhcnNlRXhhY3REYXRlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZChlLHQsbiwhMCl9LGJlLnBhcnNlSW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49YmUucGFyc2VGbG9hdChlLHQpO3JldHVybiBuJiYobj0wfG4pLG59LGJlLnBhcnNlRmxvYXQ9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlJiYwIT09ZSlyZXR1cm4gbnVsbDtpZih0eXBlb2YgZT09PU5lKXJldHVybiBlO2U9IiIrZSx0PWJlLmdldEN1bHR1cmUodCk7dmFyIHIsbyxpPXQubnVtYmVyRm9ybWF0LGE9aS5wZXJjZW50LHM9aS5jdXJyZW5jeSx1PXMuc3ltYm9sLGw9YS5zeW1ib2wsYz1lLmluZGV4T2YoIi0iKTtyZXR1cm4gcC50ZXN0KGUpPyhlPXBhcnNlRmxvYXQoZS5yZXBsYWNlKGlbIi4iXSwiLiIpKSxpc05hTihlKSYmKGU9bnVsbCksZSk6Yz4wP251bGw6KGM9Yz4tMSxlLmluZGV4T2YodSk+LTF8fG4mJm4udG9Mb3dlckNhc2UoKS5pbmRleE9mKCJjIik+LTE/KGk9cyxyPWkucGF0dGVyblswXS5yZXBsYWNlKCIkIix1KS5zcGxpdCgibiIpLGUuaW5kZXhPZihyWzBdKT4tMSYmZS5pbmRleE9mKHJbMV0pPi0xJiYoZT1lLnJlcGxhY2UoclswXSwiIikucmVwbGFjZShyWzFdLCIiKSxjPSEwKSk6ZS5pbmRleE9mKGwpPi0xJiYobz0hMCxpPWEsdT1sKSxlPWUucmVwbGFjZSgiLSIsIiIpLnJlcGxhY2UodSwiIikucmVwbGFjZShmLCIgIikuc3BsaXQoaVsiLCJdLnJlcGxhY2UoZiwiICIpKS5qb2luKCIiKS5yZXBsYWNlKGlbIi4iXSwiLiIpLGU9cGFyc2VGbG9hdChlKSxpc05hTihlKT9lPW51bGw6YyYmKGUqPS0xKSxlJiZvJiYoZS89MTAwKSxlKX19KCksZnVuY3Rpb24oKXt2YXIgcixvLGksYSxzLHUsbCxjLGYscCxtLGg7emUuX3Njcm9sbGJhcj1uLHplLnNjcm9sbGJhcj1mdW5jdGlvbihlKXtpZihpc05hTih6ZS5fc2Nyb2xsYmFyKXx8ZSl7dmFyIHQsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gbi5zdHlsZS5jc3NUZXh0PSJvdmVyZmxvdzpzY3JvbGw7b3ZlcmZsb3cteDpoaWRkZW47em9vbToxO2NsZWFyOmJvdGg7ZGlzcGxheTpibG9jayIsbi5pbm5lckhUTUw9IiZuYnNwOyIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSx6ZS5fc2Nyb2xsYmFyPXQ9bi5vZmZzZXRXaWR0aC1uLnNjcm9sbFdpZHRoLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobiksdH1yZXR1cm4gemUuX3Njcm9sbGJhcn0semUuaXNSdGw9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCkuY2xvc2VzdCgiLmstcnRsIikubGVuZ3RoPjB9LHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTt0cnl7ci5pbm5lckhUTUw9Ijx0cj48dGQ+PC90ZD48L3RyPiIsemUudGJvZHlJbm5lckh0bWw9ITB9Y2F0Y2goZyl7emUudGJvZHlJbm5lckh0bWw9ITF9emUudG91Y2g9Im9udG91Y2hzdGFydCJpbiB0LG89ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLGk9emUudHJhbnNpdGlvbnM9ITEsYT16ZS50cmFuc2Zvcm1zPSExLHM9IkhUTUxFbGVtZW50ImluIHQ/SFRNTEVsZW1lbnQucHJvdG90eXBlOltdLHplLmhhc0hXM0Q9IldlYktpdENTU01hdHJpeCJpbiB0JiYibTExImluIG5ldyB0LldlYktpdENTU01hdHJpeHx8Ik1velBlcnNwZWN0aXZlImluIG98fCJtc1BlcnNwZWN0aXZlImluIG8semUuY3NzRmxleGJveD0iZmxleFdyYXAiaW4gb3x8IldlYmtpdEZsZXhXcmFwImluIG98fCJtc0ZsZXhXcmFwImluIG8sTWUoWyJNb3oiLCJ3ZWJraXQiLCJPIiwibXMiXSxmdW5jdGlvbigpe3ZhciBlLHQ9IiIrdGhpcyxuPXR5cGVvZiByLnN0eWxlW3QrIlRyYW5zaXRpb24iXT09PUhlO2lmKG58fHR5cGVvZiByLnN0eWxlW3QrIlRyYW5zZm9ybSJdPT09SGUpcmV0dXJuIGU9dC50b0xvd2VyQ2FzZSgpLGE9e2NzczoibXMiIT1lPyItIitlKyItIjoiIixwcmVmaXg6dCxldmVudDoibyI9PT1lfHwid2Via2l0Ij09PWU/ZToiIn0sbiYmKGk9YSxpLmV2ZW50PWkuZXZlbnQ/aS5ldmVudCsiVHJhbnNpdGlvbkVuZCI6InRyYW5zaXRpb25lbmQiKSwhMX0pLHI9bnVsbCx6ZS50cmFuc2Zvcm1zPWEsemUudHJhbnNpdGlvbnM9aSx6ZS5kZXZpY2VQaXhlbFJhdGlvPXQuZGV2aWNlUGl4ZWxSYXRpbz09PW4/MTp0LmRldmljZVBpeGVsUmF0aW87dHJ5e3plLnNjcmVlbldpZHRoPXQub3V0ZXJXaWR0aHx8dC5zY3JlZW4/dC5zY3JlZW4uYXZhaWxXaWR0aDp0LmlubmVyV2lkdGgsemUuc2NyZWVuSGVpZ2h0PXQub3V0ZXJIZWlnaHR8fHQuc2NyZWVuP3Quc2NyZWVuLmF2YWlsSGVpZ2h0OnQuaW5uZXJIZWlnaHR9Y2F0Y2goZyl7emUuc2NyZWVuV2lkdGg9dC5zY3JlZW4uYXZhaWxXaWR0aCx6ZS5zY3JlZW5IZWlnaHQ9dC5zY3JlZW4uYXZhaWxIZWlnaHR9emUuZGV0ZWN0T1M9ZnVuY3Rpb24oZSl7dmFyIG4scixvPSExLGk9W10sYT0hL21vYmlsZSBzYWZhcmkvaS50ZXN0KGUpLHM9e3dwOi8oV2luZG93cyBQaG9uZSg/OiBPUyk/KVxzKFxkKylcLihcZCsoXC5cZCspPykvLGZpcmU6LyhTaWxrKVwvKFxkKylcLihcZCsoXC5cZCspPykvLGFuZHJvaWQ6LyhBbmRyb2lkfEFuZHJvaWQuKig/Ok9wZXJhfEZpcmVmb3gpLio/XC8pXHMqKFxkKylcLj8oXGQrKFwuXGQrKT8pPy8saXBob25lOi8oaVBob25lfGlQb2QpLipPU1xzKyhcZCspW1wuX10oW1xkXC5fXSspLyxpcGFkOi8oaVBhZCkuKk9TXHMrKFxkKylbXC5fXShbXGRfXSspLyxtZWVnbzovKE1lZUdvKS4rTm9raWFCcm93c2VyXC8oXGQrKVwuKFtcZFwuX10rKS8sd2Vib3M6Lyh3ZWJPUylcLyhcZCspXC4oXGQrKFwuXGQrKT8pLyxibGFja2JlcnJ5Oi8oQmxhY2tCZXJyeXxCQjEwKS4qP1ZlcnNpb25cLyhcZCspXC4oXGQrKFwuXGQrKT8pLyxwbGF5Ym9vazovKFBsYXlCb29rKS4qP1RhYmxldFxzKk9TXHMqKFxkKylcLihcZCsoXC5cZCspPykvLHdpbmRvd3M6LyhNU0lFKVxzKyhcZCspXC4oXGQrKFwuXGQrKT8pLyx0aXplbjovKHRpemVuKS4qP1ZlcnNpb25cLyhcZCspXC4oXGQrKFwuXGQrKT8pL2ksc2FpbGZpc2g6LyhzYWlsZmlzaCkuKnJ2OihcZCspXC4oXGQrKFwuXGQrKT8pLipmaXJlZm94L2ksZmZvczovKE1vYmlsZSkuKnJ2OihcZCspXC4oXGQrKFwuXGQrKT8pLipGaXJlZm94L30sdT17aW9zOi9eaShwaG9uZXxwYWR8cG9kKSQvaSxhbmRyb2lkOi9eYW5kcm9pZHxmaXJlJC9pLGJsYWNrYmVycnk6L15ibGFja2JlcnJ5fHBsYXlib29rL2ksd2luZG93czovd2luZG93cy8sd3A6L3dwLyxmbGF0Oi9zYWlsZmlzaHxmZm9zfHRpemVuL2ksbWVlZ286L21lZWdvL30sbD17dGFibGV0Oi9wbGF5Ym9va3xpcGFkfGZpcmUvaX0sYz17b21pbmk6L09wZXJhXHNNaW5pL2ksb21vYmlsZTovT3BlcmFcc01vYmkvaSxmaXJlZm94Oi9GaXJlZm94fEZlbm5lYy9pLG1vYmlsZXNhZmFyaTovdmVyc2lvblwvLipzYWZhcmkvaSxpZTovTVNJRXxXaW5kb3dzXHNQaG9uZS9pLGNocm9tZTovY2hyb21lfGNyaW9zL2ksd2Via2l0Oi93ZWJraXQvaX07Zm9yKHIgaW4gcylpZihzLmhhc093blByb3BlcnR5KHIpJiYoaT1lLm1hdGNoKHNbcl0pKSl7aWYoIndpbmRvd3MiPT1yJiYicGx1Z2lucyJpbiBuYXZpZ2F0b3IpcmV0dXJuITE7bz17fSxvLmRldmljZT1yLG8udGFibGV0PWQocixsLCExKSxvLmJyb3dzZXI9ZChlLGMsImRlZmF1bHQiKSxvLm5hbWU9ZChyLHUpLG9bby5uYW1lXT0hMCxvLm1ham9yVmVyc2lvbj1pWzJdLG8ubWlub3JWZXJzaW9uPShpWzNdfHwiMCIpLnJlcGxhY2UoIl8iLCIuIiksbj1vLm1pbm9yVmVyc2lvbi5yZXBsYWNlKCIuIiwiIikuc3Vic3RyKDAsMiksby5mbGF0VmVyc2lvbj1vLm1ham9yVmVyc2lvbituK0FycmF5KDMtKG4ubGVuZ3RoPDM/bi5sZW5ndGg6MikpLmpvaW4oIjAiKSxvLmNvcmRvdmE9dHlwZW9mIHQuUGhvbmVHYXAhPT1VZXx8dHlwZW9mIHQuY29yZG92YSE9PVVlLG8uYXBwTW9kZT10Lm5hdmlnYXRvci5zdGFuZGFsb25lfHwvZmlsZXxsb2NhbHx3bWFwcC8udGVzdCh0LmxvY2F0aW9uLnByb3RvY29sKXx8by5jb3Jkb3ZhLG8uYW5kcm9pZCYmKHplLmRldmljZVBpeGVsUmF0aW88MS41JiZvLmZsYXRWZXJzaW9uPDQwMHx8YSkmJih6ZS5zY3JlZW5XaWR0aD44MDB8fHplLnNjcmVlbkhlaWdodD44MDApJiYoby50YWJsZXQ9cik7YnJlYWt9cmV0dXJuIG99LHU9emUubW9iaWxlT1M9emUuZGV0ZWN0T1MobmF2aWdhdG9yLnVzZXJBZ2VudCksemUud3BEZXZpY2VQaXhlbFJhdGlvPXUud3A/c2NyZWVuLndpZHRoLzMyMDowLHplLmhhc05hdGl2ZVNjcm9sbGluZz0hMSwodS5pb3N8fHUuYW5kcm9pZCYmdS5tYWpvclZlcnNpb24+Mnx8dS53cCkmJih6ZS5oYXNOYXRpdmVTY3JvbGxpbmc9dSksemUuZGVsYXllZENsaWNrPWZ1bmN0aW9uKCl7aWYoemUudG91Y2gpe2lmKHUuaW9zKXJldHVybiEwO2lmKHUuYW5kcm9pZClyZXR1cm4hemUuYnJvd3Nlci5jaHJvbWV8fCEoemUuYnJvd3Nlci52ZXJzaW9uPDMyKSYmIShlKCJtZXRhW25hbWU9dmlld3BvcnRdIikuYXR0cigiY29udGVudCIpfHwiIikubWF0Y2goL3VzZXItc2NhbGFibGU9bm8vaSl9cmV0dXJuITF9LHplLm1vdXNlQW5kVG91Y2hQcmVzZW50PXplLnRvdWNoJiYhKHplLm1vYmlsZU9TLmlvc3x8emUubW9iaWxlT1MuYW5kcm9pZCksemUuZGV0ZWN0QnJvd3Nlcj1mdW5jdGlvbihlKXt2YXIgdCxuPSExLHI9W10sbz17ZWRnZTovKGVkZ2UpWyBcL10oW1x3Ll0rKS9pLHdlYmtpdDovKGNocm9tZXxjcmlvcylbIFwvXShbXHcuXSspL2ksc2FmYXJpOi8od2Via2l0KVsgXC9dKFtcdy5dKykvaSxvcGVyYTovKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS9pLG1zaWU6Lyhtc2llXHN8dHJpZGVudC4qPyBydjopKFtcdy5dKykvaSxtb3ppbGxhOi8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKyl8KS9pfTtmb3IodCBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkodCkmJihyPWUubWF0Y2gob1t0XSkpKXtuPXt9LG5bdF09ITAsbltyWzFdLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKVswXS5zcGxpdCgiLyIpWzBdXT0hMCxuLnZlcnNpb249cGFyc2VJbnQoZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxyWzJdLDEwKTticmVha31yZXR1cm4gbn0semUuYnJvd3Nlcj16ZS5kZXRlY3RCcm93c2VyKG5hdmlnYXRvci51c2VyQWdlbnQpLHplLmRldGVjdENsaXBib2FyZEFjY2Vzcz1mdW5jdGlvbigpe3ZhciBlPXtjb3B5OiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkJiZkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoImNvcHkiKSxjdXQ6ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQmJmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgiY3V0IikscGFzdGU6ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQmJmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgicGFzdGUiKX07cmV0dXJuIHplLmJyb3dzZXIuY2hyb21lJiYoZS5wYXN0ZT0hMSx6ZS5icm93c2VyLnZlcnNpb24+PTQzJiYoZS5jb3B5PSEwLGUuY3V0PSEwKSksZX0semUuY2xpcGJvYXJkPXplLmRldGVjdENsaXBib2FyZEFjY2VzcygpLHplLnpvb21MZXZlbD1mdW5jdGlvbigpe3ZhciBlLG4scjt0cnl7cmV0dXJuIGU9emUuYnJvd3NlcixuPTAscj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZS5tc2llJiYxMT09ZS52ZXJzaW9uJiZyLnNjcm9sbEhlaWdodD5yLmNsaWVudEhlaWdodCYmIXplLnRvdWNoJiYobj16ZS5zY3JvbGxiYXIoKSksemUudG91Y2g/ci5jbGllbnRXaWR0aC90LmlubmVyV2lkdGg6ZS5tc2llJiZlLnZlcnNpb24+PTEwPygodG9wfHx0KS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgrbikvKHRvcHx8dCkuaW5uZXJXaWR0aDoxfWNhdGNoKG8pe3JldHVybiAxfX0semUuY3NzQm9yZGVyU3BhY2luZz1uIT09by5ib3JkZXJTcGFjaW5nJiYhKHplLmJyb3dzZXIubXNpZSYmemUuYnJvd3Nlci52ZXJzaW9uPDgpLGZ1bmN0aW9uKHQpe3ZhciBuPSIiLHI9ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLG89cGFyc2VJbnQodC52ZXJzaW9uLDEwKTt0Lm1zaWU/bj0iaWUiOnQubW96aWxsYT9uPSJmZiI6dC5zYWZhcmk/bj0ic2FmYXJpIjp0LndlYmtpdD9uPSJ3ZWJraXQiOnQub3BlcmE/bj0ib3BlcmEiOnQuZWRnZSYmKG49ImVkZ2UiKSxuJiYobj0iay0iK24rIiBrLSIrbitvKSx6ZS5tb2JpbGVPUyYmKG4rPSIgay1tb2JpbGUiKSx6ZS5jc3NGbGV4Ym94fHwobis9IiBrLW5vLWZsZXhib3giKSxyLmFkZENsYXNzKG4pfSh6ZS5icm93c2VyKSx6ZS5ldmVudENhcHR1cmU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHplLnBsYWNlaG9sZGVyPSJwbGFjZWhvbGRlciJpbiBsLHplLnByb3BlcnR5Q2hhbmdlRXZlbnQ9Im9ucHJvcGVydHljaGFuZ2UiaW4gbCx6ZS5pbnB1dD1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PVsibnVtYmVyIiwiZGF0ZSIsInRpbWUiLCJtb250aCIsIndlZWsiLCJkYXRldGltZSIsImRhdGV0aW1lLWxvY2FsIl0sbj10Lmxlbmd0aCxyPSJ0ZXN0IixvPXt9LGk9MDtpPG47aSsrKWU9dFtpXSxsLnNldEF0dHJpYnV0ZSgidHlwZSIsZSksbC52YWx1ZT1yLG9bZS5yZXBsYWNlKCItIiwiIildPSJ0ZXh0IiE9PWwudHlwZSYmbC52YWx1ZSE9PXI7cmV0dXJuIG99KCksbC5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0OyIsemUuY3NzRmxvYXQ9ISFsLnN0eWxlLmNzc0Zsb2F0LGw9bnVsbCx6ZS5zdGFibGVTb3J0PWZ1bmN0aW9uKCl7dmFyIGUsdD01MTMsbj1be2luZGV4OjAsZmllbGQ6ImIifV07Zm9yKGU9MTtlPHQ7ZSsrKW4ucHVzaCh7aW5kZXg6ZSxmaWVsZDoiYSJ9KTtyZXR1cm4gbi5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZmllbGQ+dC5maWVsZD8xOmUuZmllbGQ8dC5maWVsZD8tMTowfSksMT09PW5bMF0uaW5kZXh9KCksemUubWF0Y2hlc1NlbGVjdG9yPXMud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxzLm1vek1hdGNoZXNTZWxlY3Rvcnx8cy5tc01hdGNoZXNTZWxlY3Rvcnx8cy5vTWF0Y2hlc1NlbGVjdG9yfHxzLm1hdGNoZXNTZWxlY3Rvcnx8cy5tYXRjaGVzfHxmdW5jdGlvbih0KXtmb3IodmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbD8odGhpcy5wYXJlbnROb2RlfHxkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbCh0KXx8W106ZSh0KSxyPW4ubGVuZ3RoO3ItLTspaWYobltyXT09dGhpcylyZXR1cm4hMDtyZXR1cm4hMX0semUubWF0Y2hNZWRpYT0ibWF0Y2hNZWRpYSJpbiB0LHplLnB1c2hTdGF0ZT10Lmhpc3RvcnkmJnQuaGlzdG9yeS5wdXNoU3RhdGUsYz1kb2N1bWVudC5kb2N1bWVudE1vZGUsemUuaGFzaENoYW5nZT0ib25oYXNoY2hhbmdlImluIHQmJiEoemUuYnJvd3Nlci5tc2llJiYoIWN8fGM8PTgpKSx6ZS5jdXN0b21FbGVtZW50cz0icmVnaXN0ZXJFbGVtZW50ImluIHQuZG9jdW1lbnQsZj16ZS5icm93c2VyLmNocm9tZSxwPXplLmJyb3dzZXIuY3Jpb3MsbT16ZS5icm93c2VyLm1vemlsbGEsaD16ZS5icm93c2VyLnNhZmFyaSx6ZS5tc1BvaW50ZXJzPSFmJiZ0Lk1TUG9pbnRlckV2ZW50LHplLnBvaW50ZXJzPSFmJiYhcCYmIW0mJiFoJiZ0LlBvaW50ZXJFdmVudCx6ZS5raW5ldGljU2Nyb2xsTmVlZGVkPXUmJih6ZS50b3VjaHx8emUubXNQb2ludGVyc3x8emUucG9pbnRlcnMpfSgpLFk9e2xlZnQ6e3JldmVyc2U6InJpZ2h0In0scmlnaHQ6e3JldmVyc2U6ImxlZnQifSxkb3duOntyZXZlcnNlOiJ1cCJ9LHVwOntyZXZlcnNlOiJkb3duIn0sdG9wOntyZXZlcnNlOiJib3R0b20ifSxib3R0b206e3JldmVyc2U6InRvcCJ9LCJpbiI6e3JldmVyc2U6Im91dCJ9LG91dDp7cmV2ZXJzZToiaW4ifX0scT17fSxlLmV4dGVuZChxLHtlbmFibGVkOiEwLEVsZW1lbnQ6ZnVuY3Rpb24odCl7dGhpcy5lbGVtZW50PWUodCl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXtlLmlzKCI6dmlzaWJsZSIpfHxlLmNzcyh7ZGlzcGxheTplLmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLmNzcygiZGlzcGxheSIpLHQuaGlkZSYmZS5kYXRhKCJvbGRkaXNwbGF5IixlLmNzcygiZGlzcGxheSIpKS5oaWRlKCksdC5pbml0JiZ0LmluaXQoKSx0LmNvbXBsZXRlQ2FsbGJhY2smJnQuY29tcGxldGVDYWxsYmFjayhlKSxlLmRlcXVldWUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLnByb21pc2U9dGhpcy5wcm9taXNlU2hpbX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwLHRoaXMucHJvbWlzZT10aGlzLmFuaW1hdGVkUHJvbWlzZX19KSxxLnByb21pc2VTaGltPXEucHJvbWlzZSwia2VuZG9BbmltYXRlImluIGUuZm58fHdlKGUuZm4se2tlbmRvU3RvcDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnN0b3AoZSx0KX0sa2VuZG9BbmltYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB4KHRoaXMsZSx0LG4scil9LGtlbmRvQWRkQ2xhc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYmUudG9nZ2xlQ2xhc3ModGhpcyxlLHQsITApfSxrZW5kb1JlbW92ZUNsYXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJlLnRvZ2dsZUNsYXNzKHRoaXMsZSx0LCExKX0sa2VuZG9Ub2dnbGVDbGFzczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGJlLnRvZ2dsZUNsYXNzKHRoaXMsZSx0LG4pfX0pLEo9LyYvZyxWPS88L2csRz0vIi9nLEs9LycvZyxRPS8+L2csWj1mdW5jdGlvbihlKXtyZXR1cm4gZS50YXJnZXR9LHplLnRvdWNoJiYoWj1mdW5jdGlvbihlKXt2YXIgdD0ib3JpZ2luYWxFdmVudCJpbiBlP2Uub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlczoiY2hhbmdlZFRvdWNoZXMiaW4gZT9lLmNoYW5nZWRUb3VjaGVzOm51bGw7cmV0dXJuIHQ/ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0WzBdLmNsaWVudFgsdFswXS5jbGllbnRZKTplLnRhcmdldH0sTWUoWyJzd2lwZSIsInN3aXBlTGVmdCIsInN3aXBlUmlnaHQiLCJzd2lwZVVwIiwic3dpcGVEb3duIiwiZG91YmxlVGFwIiwidGFwIl0sZnVuY3Rpb24odCxuKXtlLmZuW25dPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJpbmQobixlKX19KSksemUudG91Y2g/emUubW9iaWxlT1M/KHplLm1vdXNlZG93bj0idG91Y2hzdGFydCIsemUubW91c2V1cD0idG91Y2hlbmQiLHplLm1vdXNlbW92ZT0idG91Y2htb3ZlIix6ZS5tb3VzZWNhbmNlbD0idG91Y2hjYW5jZWwiLHplLmNsaWNrPSJ0b3VjaGVuZCIsemUucmVzaXplPSJvcmllbnRhdGlvbmNoYW5nZSIpOih6ZS5tb3VzZWRvd249Im1vdXNlZG93biB0b3VjaHN0YXJ0Iix6ZS5tb3VzZXVwPSJtb3VzZXVwIHRvdWNoZW5kIix6ZS5tb3VzZW1vdmU9Im1vdXNlbW92ZSB0b3VjaG1vdmUiLHplLm1vdXNlY2FuY2VsPSJtb3VzZWxlYXZlIHRvdWNoY2FuY2VsIix6ZS5jbGljaz0iY2xpY2siLHplLnJlc2l6ZT0icmVzaXplIik6emUucG9pbnRlcnM/KHplLm1vdXNlbW92ZT0icG9pbnRlcm1vdmUiLHplLm1vdXNlZG93bj0icG9pbnRlcmRvd24iLHplLm1vdXNldXA9InBvaW50ZXJ1cCIsemUubW91c2VjYW5jZWw9InBvaW50ZXJjYW5jZWwiLHplLmNsaWNrPSJwb2ludGVydXAiLHplLnJlc2l6ZT0ib3JpZW50YXRpb25jaGFuZ2UgcmVzaXplIik6emUubXNQb2ludGVycz8oemUubW91c2Vtb3ZlPSJNU1BvaW50ZXJNb3ZlIix6ZS5tb3VzZWRvd249Ik1TUG9pbnRlckRvd24iLHplLm1vdXNldXA9Ik1TUG9pbnRlclVwIix6ZS5tb3VzZWNhbmNlbD0iTVNQb2ludGVyQ2FuY2VsIix6ZS5jbGljaz0iTVNQb2ludGVyVXAiLHplLnJlc2l6ZT0ib3JpZW50YXRpb25jaGFuZ2UgcmVzaXplIik6KHplLm1vdXNlbW92ZT0ibW91c2Vtb3ZlIix6ZS5tb3VzZWRvd249Im1vdXNlZG93biIsemUubW91c2V1cD0ibW91c2V1cCIsemUubW91c2VjYW5jZWw9Im1vdXNlbGVhdmUiLHplLmNsaWNrPSJjbGljayIsemUucmVzaXplPSJyZXNpemUiKSxYPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYT10fHwiZCIscz0xO2ZvcihyPTAsbz1lLmxlbmd0aDtyPG87cisrKWk9ZVtyXSwiIiE9PWkmJihuPWkuaW5kZXhPZigiWyIpLDAhPT1uJiYobj09LTE/aT0iLiIraToocysrLGk9Ii4iK2kuc3Vic3RyaW5nKDAsbikrIiB8fCB7fSkiK2kuc3Vic3RyaW5nKG4pKSkscysrLGErPWkrKHI8by0xPyIgfHwge30pIjoiKSIpKTtyZXR1cm4gQXJyYXkocykuam9pbigiKCIpK2F9LGVlPS9eKFthLXpdKzopP1wvXC8vaSx3ZShiZSx7d2lkZ2V0czpbXSxfd2lkZ2V0UmVnaXN0ZXJlZENhbGxiYWNrczpbXSx1aTpiZS51aXx8e30sZng6YmUuZnh8fHcsZWZmZWN0czpiZS5lZmZlY3RzfHxxLG1vYmlsZTpiZS5tb2JpbGV8fHt9LGRhdGE6YmUuZGF0YXx8e30sZGF0YXZpejpiZS5kYXRhdml6fHx7fSxkcmF3aW5nOmJlLmRyYXdpbmd8fHt9LHNwcmVhZHNoZWV0OnttZXNzYWdlczp7fX0sa2V5czp7SU5TRVJUOjQ1LERFTEVURTo0NixCQUNLU1BBQ0U6OCxUQUI6OSxFTlRFUjoxMyxFU0M6MjcsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLEVORDozNSxIT01FOjM2LFNQQUNFQkFSOjMyLFBBR0VVUDozMyxQQUdFRE9XTjozNCxGMjoxMTMsRjEwOjEyMSxGMTI6MTIzLE5VTVBBRF9QTFVTOjEwNyxOVU1QQURfTUlOVVM6MTA5LE5VTVBBRF9ET1Q6MTEwfSxzdXBwb3J0OmJlLnN1cHBvcnR8fHplLGFuaW1hdGU6YmUuYW5pbWF0ZXx8eCxuczoiIixhdHRyOmZ1bmN0aW9uKGUpe3JldHVybiJkYXRhLSIrYmUubnMrZX0sZ2V0U2hhZG93czphLHdyYXA6cyxkZWVwRXh0ZW5kOmwsZ2V0Q29tcHV0ZWRTdHlsZXM6bSxpc1Njcm9sbGFibGU6aCxzY3JvbGxMZWZ0Omcsc2l6ZTp5LHRvQ2FtZWxDYXNlOnAsdG9IeXBoZW5zOmYsZ2V0T2Zmc2V0OmJlLmdldE9mZnNldHx8dixwYXJzZUVmZmVjdHM6YmUucGFyc2VFZmZlY3RzfHxiLHRvZ2dsZUNsYXNzOmJlLnRvZ2dsZUNsYXNzfHxTLGRpcmVjdGlvbnM6YmUuZGlyZWN0aW9uc3x8WSwNCk9ic2VydmFibGU6UixDbGFzczpyLFRlbXBsYXRlOkgsdGVtcGxhdGU6U2UoSC5jb21waWxlLEgpLHJlbmRlcjpTZShILnJlbmRlcixIKSxzdHJpbmdpZnk6U2UoT2Uuc3RyaW5naWZ5LE9lKSxldmVudFRhcmdldDpaLGh0bWxFbmNvZGU6ayx1bmVzY2FwZTpULGlzTG9jYWxVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiFlZS50ZXN0KGUpfSxleHByOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT1lfHwiIix0eXBlb2YgdD09SGUmJihuPXQsdD0hMSksbj1ufHwiZCIsZSYmIlsiIT09ZS5jaGFyQXQoMCkmJihlPSIuIitlKSx0PyhlPWUucmVwbGFjZSgvIihbXi5dKilcLihbXiJdKikiL2csJyIkMV8kRE9UJF8kMiInKSxlPWUucmVwbGFjZSgvJyhbXi5dKilcLihbXiddKiknL2csIickMV8kRE9UJF8kMiciKSxlPVgoZS5zcGxpdCgiLiIpLG4pLGU9ZS5yZXBsYWNlKC9fXCRET1RcJF8vZywiLiIpKTplPW4rZSxlfSxnZXR0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lK3Q7cmV0dXJuIGplW25dPWplW25dfHxGdW5jdGlvbigiZCIsInJldHVybiAiK2JlLmV4cHIoZSx0KSl9LHNldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gSWVbZV09SWVbZV18fEZ1bmN0aW9uKCJkLHZhbHVlIixiZS5leHByKGUpKyI9dmFsdWUiKX0sYWNjZXNzb3I6ZnVuY3Rpb24oZSl7cmV0dXJue2dldDpiZS5nZXR0ZXIoZSksc2V0OmJlLnNldHRlcihlKX19LGd1aWQ6ZnVuY3Rpb24oKXt2YXIgZSx0LG49IiI7Zm9yKGU9MDtlPDMyO2UrKyl0PTE2KlRlLnJhbmRvbSgpfDAsOCE9ZSYmMTIhPWUmJjE2IT1lJiYyMCE9ZXx8KG4rPSItIiksbis9KDEyPT1lPzQ6MTY9PWU/MyZ0fDg6dCkudG9TdHJpbmcoMTYpO3JldHVybiBufSxyb2xlU2VsZWN0b3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKFxTKykvZywiWyIrYmUuYXR0cigicm9sZSIpKyI9JDFdLCIpLnNsaWNlKDAsLTEpfSxkaXJlY3RpdmVTZWxlY3RvcjpmdW5jdGlvbihlKXt2YXIgdCxuPWUuc3BsaXQoIiAiKTtpZihuKWZvcih0PTA7dDxuLmxlbmd0aDt0KyspInZpZXciIT1uW3RdJiYoblt0XT1uW3RdLnJlcGxhY2UoLyhcdyopKHZpZXd8YmFyfHN0cmlwfG92ZXIpJC8sIiQxLSQyIikpO3JldHVybiBuLmpvaW4oIiAiKS5yZXBsYWNlKC8oXFMrKS9nLCJrZW5kby1tb2JpbGUtJDEsIikuc2xpY2UoMCwtMSl9LHRyaWdnZXJlZEJ5SW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuL14obGFiZWx8aW5wdXR8dGV4dGFyZWF8c2VsZWN0KSQvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpfSxvbldpZGdldFJlZ2lzdGVyZWQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1iZS53aWRnZXRzLmxlbmd0aDt0PG47dCsrKWUoYmUud2lkZ2V0c1t0XSk7YmUuX3dpZGdldFJlZ2lzdGVyZWRDYWxsYmFja3MucHVzaChlKX0sbG9nVG9Db25zb2xlOmZ1bmN0aW9uKGUscil7dmFyIG89dC5jb25zb2xlOyFiZS5zdXBwcmVzc0xvZyYmbiE9PW8mJm8ubG9nJiZvW3J8fCJsb2ciXShlKX19KSx0ZT1SLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcztyLmVsZW1lbnQ9YmUualF1ZXJ5KGUpLmhhbmRsZXIociksci5hbmd1bGFyKCJpbml0Iix0KSxSLmZuLmluaXQuY2FsbChyKSxuPXQ/dC5kYXRhU291cmNlOm51bGwsbiYmKHQ9d2Uoe30sdCx7ZGF0YVNvdXJjZTp7fX0pKSx0PXIub3B0aW9ucz13ZSghMCx7fSxyLm9wdGlvbnMsci5kZWZhdWx0cyx0KSxuJiYodC5kYXRhU291cmNlPW4pLHIuZWxlbWVudC5hdHRyKGJlLmF0dHIoInJvbGUiKSl8fHIuZWxlbWVudC5hdHRyKGJlLmF0dHIoInJvbGUiKSwodC5uYW1lfHwiIikudG9Mb3dlckNhc2UoKSksci5lbGVtZW50LmRhdGEoImtlbmRvIit0LnByZWZpeCt0Lm5hbWUsciksci5iaW5kKHIuZXZlbnRzLHQpfSxldmVudHM6W10sb3B0aW9uczp7cHJlZml4OiIifSxfaGFzQmluZGluZ1RhcmdldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5lbGVtZW50WzBdLmtlbmRvQmluZGluZ1RhcmdldH0sX3RhYmluZGV4OmZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy53cmFwcGVyO3ZhciB0PXRoaXMuZWxlbWVudCxuPSJ0YWJpbmRleCIscj1lLmF0dHIobil8fHQuYXR0cihuKTt0LnJlbW92ZUF0dHIobiksZS5hdHRyKG4saXNOYU4ocik/MDpyKX0sc2V0T3B0aW9uczpmdW5jdGlvbih0KXt0aGlzLl9zZXRFdmVudHModCksZS5leHRlbmQodGhpcy5vcHRpb25zLHQpfSxfc2V0RXZlbnRzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMscj0wLG89bi5ldmVudHMubGVuZ3RoO3I8bztyKyspdD1uLmV2ZW50c1tyXSxuLm9wdGlvbnNbdF0mJmVbdF0mJihuLnVuYmluZCh0LG4ub3B0aW9uc1t0XSksbi5fZXZlbnRzJiZuLl9ldmVudHNbdF0mJmRlbGV0ZSBuLl9ldmVudHNbdF0pO24uYmluZChuLmV2ZW50cyxlKX0scmVzaXplOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0U2l6ZSgpLG49dGhpcy5fc2l6ZTsoZXx8KHQud2lkdGg+MHx8dC5oZWlnaHQ+MCkmJighbnx8dC53aWR0aCE9PW4ud2lkdGh8fHQuaGVpZ2h0IT09bi5oZWlnaHQpKSYmKHRoaXMuX3NpemU9dCx0aGlzLl9yZXNpemUodCxlKSx0aGlzLnRyaWdnZXIoInJlc2l6ZSIsdCkpfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGJlLmRpbWVuc2lvbnModGhpcy5lbGVtZW50KX0sc2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5zZXRTaXplKGUpLG4pOnRoaXMuZ2V0U2l6ZSgpfSxzZXRTaXplOmUubm9vcCxfcmVzaXplOmUubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmVsZW1lbnQucmVtb3ZlRGF0YSgia2VuZG8iK2Uub3B0aW9ucy5wcmVmaXgrZS5vcHRpb25zLm5hbWUpLGUuZWxlbWVudC5yZW1vdmVEYXRhKCJoYW5kbGVyIiksZS51bmJpbmQoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX0sYW5ndWxhcjpmdW5jdGlvbigpe30sX211dGVBbmd1bGFyUmViaW5kOmZ1bmN0aW9uKGUpe3RoaXMuX211dGVSZWJpbmQ9ITAsZS5jYWxsKHRoaXMpLHRoaXMuX211dGVSZWJpbmQ9ITF9fSksbmU9dGUuZXh0ZW5kKHtkYXRhSXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLmZsYXRWaWV3KCl9LF9hbmd1bGFySXRlbXM6ZnVuY3Rpb24odCl7dmFyIG49dGhpcztuLmFuZ3VsYXIodCxmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpuLml0ZW1zKCksZGF0YTplLm1hcChuLmRhdGFJdGVtcygpLGZ1bmN0aW9uKGUpe3JldHVybntkYXRhSXRlbTplfX0pfX0pfX0pLGJlLmRpbWVuc2lvbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzBdO3JldHVybiB0JiZlLmNzcyh0KSx7d2lkdGg6bi5vZmZzZXRXaWR0aCxoZWlnaHQ6bi5vZmZzZXRIZWlnaHR9fSxiZS5ub3RpZnk9a2UscmU9L3RlbXBsYXRlJC9pLG9lPS9eXHMqKD86XHsoPzoufFxyXG58XG4pKlx9fFxbKD86LnxcclxufFxuKSpcXSlccyokLyxpZT0vXlx7KFxkKykoOlteXH1dKyk/XH18XlxbW0EtWmEtel9dK1xdJC8sYWU9LyhbQS1aXSkvZyxiZS5pbml0V2lkZ2V0PWZ1bmN0aW9uKHIsbyxpKXt2YXIgYSxzLHUsbCxjLGQsZixwLG0saCxnLHksdjtpZihpP2kucm9sZXMmJihpPWkucm9sZXMpOmk9YmUudWkucm9sZXMscj1yLm5vZGVUeXBlP3I6clswXSxkPXIuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYmUubnMrInJvbGUiKSl7bT1kLmluZGV4T2YoIi4iKT09PS0xLHU9bT9pW2RdOmJlLmdldHRlcihkKSh0KSxnPWUocikuZGF0YSgpLHk9dT8ia2VuZG8iK3UuZm4ub3B0aW9ucy5wcmVmaXgrdS5mbi5vcHRpb25zLm5hbWU6IiIsaD1tP1JlZ0V4cCgiXmtlbmRvLioiK2QrIiQiLCJpIik6UmVnRXhwKCJeIit5KyIkIiwiaSIpO2Zvcih2IGluIGcpaWYodi5tYXRjaChoKSl7aWYodiE9PXkpcmV0dXJuIGdbdl07YT1nW3ZdfWlmKHUpe2ZvcihwPU8ociwiZGF0YVNvdXJjZSIpLG89ZS5leHRlbmQoe30seihyLHUuZm4ub3B0aW9ucyksbykscCYmKG8uZGF0YVNvdXJjZT10eXBlb2YgcD09PUhlP2JlLmdldHRlcihwKSh0KTpwKSxsPTAsYz11LmZuLmV2ZW50cy5sZW5ndGg7bDxjO2wrKylzPXUuZm4uZXZlbnRzW2xdLGY9TyhyLHMpLGYhPT1uJiYob1tzXT1iZS5nZXR0ZXIoZikodCkpO3JldHVybiBhP2UuaXNFbXB0eU9iamVjdChvKXx8YS5zZXRPcHRpb25zKG8pOmE9bmV3IHUocixvKSxhfX19LGJlLnJvbGVzRnJvbU5hbWVzcGFjZXM9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPVtdO2ZvcihlWzBdfHwoZT1bYmUudWksYmUuZGF0YXZpei51aV0pLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0Kyspclt0XT1lW3RdLnJvbGVzO3JldHVybiB3ZS5hcHBseShudWxsLFt7fV0uY29uY2F0KHIucmV2ZXJzZSgpKSl9LGJlLmluaXQ9ZnVuY3Rpb24odCl7dmFyIG49YmUucm9sZXNGcm9tTmFtZXNwYWNlcyhXZS5jYWxsKGFyZ3VtZW50cywxKSk7ZSh0KS5maW5kKCJbZGF0YS0iK2JlLm5zKyJyb2xlXSIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7YmUuaW5pdFdpZGdldCh0aGlzLHt9LG4pfSl9LGJlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7ZSh0KS5maW5kKCJbZGF0YS0iK2JlLm5zKyJyb2xlXSIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj1lKHRoaXMpLmRhdGEoKTtmb3IodCBpbiBuKTA9PT10LmluZGV4T2YoImtlbmRvIikmJnR5cGVvZiBuW3RdLmRlc3Ryb3k9PT1BZSYmblt0XS5kZXN0cm95KCl9KX0sYmUucmVzaXplPWZ1bmN0aW9uKHQsbil7dmFyIHIsbz1lKHQpLmZpbmQoIltkYXRhLSIrYmUubnMrInJvbGVdIikuYWRkQmFjaygpLmZpbHRlcihDKTtvLmxlbmd0aCYmKHI9ZS5tYWtlQXJyYXkobyksci5zb3J0KEQpLGUuZWFjaChyLGZ1bmN0aW9uKCl7dmFyIHQ9YmUud2lkZ2V0SW5zdGFuY2UoZSh0aGlzKSk7dCYmdC5yZXNpemUobil9KSl9LGJlLnBhcnNlT3B0aW9ucz16LHdlKGJlLnVpLHtXaWRnZXQ6dGUsRGF0YUJvdW5kV2lkZ2V0Om5lLHJvbGVzOnt9LHByb2dyZXNzOmZ1bmN0aW9uKHQsbixyKXt2YXIgbyxpLGEscyx1LGw9dC5maW5kKCIuay1sb2FkaW5nLW1hc2siKSxjPWJlLnN1cHBvcnQsZD1jLmJyb3dzZXI7cj1lLmV4dGVuZCh7fSx7d2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSIsdG9wOnQuc2Nyb2xsVG9wKCksb3BhY2l0eTohMX0sciksdT1yLm9wYWNpdHk/ImstbG9hZGluZy1tYXNrIGstb3BhcXVlIjoiay1sb2FkaW5nLW1hc2siLG4/bC5sZW5ndGh8fChvPWMuaXNSdGwodCksaT1vPyJyaWdodCI6ImxlZnQiLHM9dC5zY3JvbGxMZWZ0KCksYT1kLndlYmtpdCYmbz90WzBdLnNjcm9sbFdpZHRoLXQud2lkdGgoKS0yKnM6MCxsPWUoYmUuZm9ybWF0KCI8ZGl2IGNsYXNzPSd7MH0nPjxzcGFuIGNsYXNzPSdrLWxvYWRpbmctdGV4dCc+ezF9PC9zcGFuPjxkaXYgY2xhc3M9J2stbG9hZGluZy1pbWFnZScvPjxkaXYgY2xhc3M9J2stbG9hZGluZy1jb2xvcicvPjwvZGl2PiIsdSxiZS51aS5wcm9ncmVzcy5tZXNzYWdlcy5sb2FkaW5nKSkud2lkdGgoci53aWR0aCkuaGVpZ2h0KHIuaGVpZ2h0KS5jc3MoInRvcCIsci50b3ApLmNzcyhpLE1hdGguYWJzKHMpK2EpLnByZXBlbmRUbyh0KSk6bCYmbC5yZW1vdmUoKX0scGx1Z2luOmZ1bmN0aW9uKHQscixvKXt2YXIgaSxhLHMsdSxsPXQuZm4ub3B0aW9ucy5uYW1lO2ZvcihyPXJ8fGJlLnVpLG89b3x8IiIscltsXT10LHIucm9sZXNbbC50b0xvd2VyQ2FzZSgpXT10LGk9ImdldEtlbmRvIitvK2wsbD0ia2VuZG8iK28rbCxhPXtuYW1lOmwsd2lkZ2V0OnQscHJlZml4Om98fCIifSxiZS53aWRnZXRzLnB1c2goYSkscz0wLHU9YmUuX3dpZGdldFJlZ2lzdGVyZWRDYWxsYmFja3MubGVuZ3RoO3M8dTtzKyspYmUuX3dpZGdldFJlZ2lzdGVyZWRDYWxsYmFja3Nbc10oYSk7ZS5mbltsXT1mdW5jdGlvbihyKXt2YXIgbyxpPXRoaXM7cmV0dXJuIHR5cGVvZiByPT09SGU/KG89V2UuY2FsbChhcmd1bWVudHMsMSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsYSxzPWUuZGF0YSh0aGlzLGwpO2lmKCFzKXRocm93IEVycm9yKGJlLmZvcm1hdCgiQ2Fubm90IGNhbGwgbWV0aG9kICd7MH0nIG9mIHsxfSBiZWZvcmUgaXQgaXMgaW5pdGlhbGl6ZWQiLHIsbCkpO2lmKHQ9c1tyXSx0eXBlb2YgdCE9PUFlKXRocm93IEVycm9yKGJlLmZvcm1hdCgiQ2Fubm90IGZpbmQgbWV0aG9kICd7MH0nIG9mIHsxfSIscixsKSk7aWYoYT10LmFwcGx5KHMsbyksYSE9PW4pcmV0dXJuIGk9YSwhMX0pKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcyxyKX0pLGl9LGUuZm5bbF0ud2lkZ2V0PXQsZS5mbltpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEobCl9fX0pLGJlLnVpLnByb2dyZXNzLm1lc3NhZ2VzPXtsb2FkaW5nOiJMb2FkaW5nLi4uIn0sc2U9e2JpbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbnVsbE9iamVjdDohMCxvcHRpb25zOnt9fSx1ZT10ZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0KXt0ZS5mbi5pbml0LmNhbGwodGhpcyxlLHQpLHRoaXMuZWxlbWVudC5hdXRvQXBwbHlOUygpLHRoaXMud3JhcHBlcj10aGlzLmVsZW1lbnQsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJrbS13aWRnZXQiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RlLmZuLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQua2VuZG9EZXN0cm95KCl9LG9wdGlvbnM6e3ByZWZpeDoiTW9iaWxlIn0sZXZlbnRzOltdLHZpZXc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQuY2xvc2VzdChiZS5yb2xlU2VsZWN0b3IoInZpZXcgc3BsaXR2aWV3IG1vZGFsdmlldyBkcmF3ZXIiKSk7cmV0dXJuIGJlLndpZGdldEluc3RhbmNlKGUsYmUubW9iaWxlLnVpKXx8c2V9LHZpZXdIYXNOYXRpdmVTY3JvbGxpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpZXcoKTtyZXR1cm4gZSYmZS5vcHRpb25zLnVzZU5hdGl2ZVNjcm9sbGluZ30sY29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LmNsb3Nlc3QoYmUucm9sZVNlbGVjdG9yKCJ2aWV3IGxheW91dCBtb2RhbHZpZXcgZHJhd2VyIHNwbGl0dmlldyIpKTtyZXR1cm4gYmUud2lkZ2V0SW5zdGFuY2UoZS5lcSgwKSxiZS5tb2JpbGUudWkpfHxzZX19KSx3ZShiZS5tb2JpbGUse2luaXQ6ZnVuY3Rpb24oZSl7YmUuaW5pdChlLGJlLm1vYmlsZS51aSxiZS51aSxiZS5kYXRhdml6LnVpKX0sYXBwTGV2ZWxOYXRpdmVTY3JvbGxpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gYmUubW9iaWxlLmFwcGxpY2F0aW9uJiZiZS5tb2JpbGUuYXBwbGljYXRpb24ub3B0aW9ucyYmYmUubW9iaWxlLmFwcGxpY2F0aW9uLm9wdGlvbnMudXNlTmF0aXZlU2Nyb2xsaW5nfSxyb2xlczp7fSx1aTp7V2lkZ2V0OnVlLERhdGFCb3VuZFdpZGdldDpuZS5leHRlbmQodWUucHJvdG90eXBlKSxyb2xlczp7fSxwbHVnaW46ZnVuY3Rpb24oZSl7YmUudWkucGx1Z2luKGUsYmUubW9iaWxlLnVpLCJNb2JpbGUiKX19fSksbChiZS5kYXRhdml6LHtpbml0OmZ1bmN0aW9uKGUpe2JlLmluaXQoZSxiZS5kYXRhdml6LnVpKX0sdWk6e3JvbGVzOnt9LHRoZW1lczp7fSx2aWV3czpbXSxwbHVnaW46ZnVuY3Rpb24oZSl7YmUudWkucGx1Z2luKGUsYmUuZGF0YXZpei51aSl9fSxyb2xlczp7fX0pLGJlLnRvdWNoU2Nyb2xsZXI9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbnx8KG49e30pLG4udXNlTmF0aXZlPSEwLGUodCkubWFwKGZ1bmN0aW9uKHQscil7cmV0dXJuIHI9ZShyKSwhKCF6ZS5raW5ldGljU2Nyb2xsTmVlZGVkfHwhYmUubW9iaWxlLnVpLlNjcm9sbGVyfHxyLmRhdGEoImtlbmRvTW9iaWxlU2Nyb2xsZXIiKSkmJihyLmtlbmRvTW9iaWxlU2Nyb2xsZXIobiksci5kYXRhKCJrZW5kb01vYmlsZVNjcm9sbGVyIikpfSlbMF19LGJlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0sYmUud2lkZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oZSxuKXt2YXIgcixvLGksYSxzLHU9ZS5kYXRhKGJlLm5zKyJyb2xlIiksbD1bXSxjPWUuZGF0YSgia2VuZG9WaWV3Iik7aWYodSl7aWYoImNvbnRlbnQiPT09dSYmKHU9InNjcm9sbGVyIiksImVkaXRvcnRvb2xiYXIiPT09dSYmKGk9ZS5kYXRhKCJrZW5kb0VkaXRvclRvb2xiYXIiKSkpcmV0dXJuIGk7aWYoInZpZXciPT09dSYmYylyZXR1cm4gYztpZihuKWlmKG5bMF0pZm9yKHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspbC5wdXNoKG5bcl0ucm9sZXNbdV0pO2Vsc2UgbC5wdXNoKG4ucm9sZXNbdV0pO2Vsc2UgbD1bYmUudWkucm9sZXNbdV0sYmUuZGF0YXZpei51aS5yb2xlc1t1XSxiZS5tb2JpbGUudWkucm9sZXNbdV1dO2Zvcih1LmluZGV4T2YoIi4iKT49MCYmKGw9W2JlLmdldHRlcih1KSh0KV0pLHI9MCxvPWwubGVuZ3RoO3I8bztyKyspaWYoYT1sW3JdLGEmJihzPWUuZGF0YSgia2VuZG8iK2EuZm4ub3B0aW9ucy5wcmVmaXgrYS5mbi5vcHRpb25zLm5hbWUpKSlyZXR1cm4gc319LGJlLm9uUmVzaXplPWZ1bmN0aW9uKG4pe3ZhciByPW47cmV0dXJuIHplLm1vYmlsZU9TLmFuZHJvaWQmJihyPWZ1bmN0aW9uKCl7c2V0VGltZW91dChuLDYwMCl9KSxlKHQpLm9uKHplLnJlc2l6ZSxyKSxyfSxiZS51bmJpbmRSZXNpemU9ZnVuY3Rpb24obil7ZSh0KS5vZmYoemUucmVzaXplLG4pfSxiZS5hdHRyVmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kYXRhKGJlLm5zK3QpfSxiZS5kYXlzPXtTdW5kYXk6MCxNb25kYXk6MSxUdWVzZGF5OjIsV2VkbmVzZGF5OjMsVGh1cnNkYXk6NCxGcmlkYXk6NSxTYXR1cmRheTo2fSxlLmV4dGVuZChlLmV4cHIucHNldWRvcyx7a2VuZG9Gb2N1c2FibGU6ZnVuY3Rpb24odCl7dmFyIG49ZS5hdHRyKHQsInRhYmluZGV4Iik7cmV0dXJuIEUodCwhaXNOYU4obikmJm4+LTEpfX0pLGxlPVsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJjbGljayJdLGNlPSJsYWJlbCwgaW5wdXQsIFtkYXRhLXJlbD1leHRlcm5hbF0iLGRlPXtzZXR1cE1vdXNlTXV0ZTpmdW5jdGlvbigpe3ZhciB0LG49MCxyPWxlLmxlbmd0aCxvPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpZighZGUubW91c2VUcmFwJiZ6ZS5ldmVudENhcHR1cmUpZm9yKGRlLm1vdXNlVHJhcD0hMCxkZS5idXN0Q2xpY2s9ITEsZGUuY2FwdHVyZU1vdXNlPSExLHQ9ZnVuY3Rpb24odCl7ZGUuY2FwdHVyZU1vdXNlJiYoImNsaWNrIj09PXQudHlwZT9kZS5idXN0Q2xpY2smJiFlKHQudGFyZ2V0KS5pcyhjZSkmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSk6dC5zdG9wUHJvcGFnYXRpb24oKSl9O248cjtuKyspby5hZGRFdmVudExpc3RlbmVyKGxlW25dLHQsITApfSxtdXRlTW91c2U6ZnVuY3Rpb24oZSl7ZGUuY2FwdHVyZU1vdXNlPSEwLGUuZGF0YS5idXN0Q2xpY2smJihkZS5idXN0Q2xpY2s9ITApLGNsZWFyVGltZW91dChkZS5tb3VzZVRyYXBUaW1lb3V0SUQpfSx1bk11dGVNb3VzZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dChkZS5tb3VzZVRyYXBUaW1lb3V0SUQpLGRlLm1vdXNlVHJhcFRpbWVvdXRJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGUuY2FwdHVyZU1vdXNlPSExLGRlLmJ1c3RDbGljaz0hMX0sNDAwKX19LGZlPXtkb3duOiJ0b3VjaHN0YXJ0IG1vdXNlZG93biIsbW92ZToibW91c2Vtb3ZlIHRvdWNobW92ZSIsdXA6Im1vdXNldXAgdG91Y2hlbmQgdG91Y2hjYW5jZWwiLGNhbmNlbDoibW91c2VsZWF2ZSB0b3VjaGNhbmNlbCJ9LHplLnRvdWNoJiYoemUubW9iaWxlT1MuaW9zfHx6ZS5tb2JpbGVPUy5hbmRyb2lkKT9mZT17ZG93bjoidG91Y2hzdGFydCIsbW92ZToidG91Y2htb3ZlIix1cDoidG91Y2hlbmQgdG91Y2hjYW5jZWwiLGNhbmNlbDoidG91Y2hjYW5jZWwifTp6ZS5wb2ludGVycz9mZT17ZG93bjoicG9pbnRlcmRvd24iLG1vdmU6InBvaW50ZXJtb3ZlIix1cDoicG9pbnRlcnVwIixjYW5jZWw6InBvaW50ZXJjYW5jZWwgcG9pbnRlcmxlYXZlIn06emUubXNQb2ludGVycyYmKGZlPXtkb3duOiJNU1BvaW50ZXJEb3duIixtb3ZlOiJNU1BvaW50ZXJNb3ZlIix1cDoiTVNQb2ludGVyVXAiLGNhbmNlbDoiTVNQb2ludGVyQ2FuY2VsIE1TUG9pbnRlckxlYXZlIn0pLCF6ZS5tc1BvaW50ZXJzfHwib25tc3BvaW50ZXJlbnRlciJpbiB0fHxlLmVhY2goe01TUG9pbnRlckVudGVyOiJNU1BvaW50ZXJPdmVyIixNU1BvaW50ZXJMZWF2ZToiTVNQb2ludGVyT3V0In0sZnVuY3Rpb24odCxuKXtlLmV2ZW50LnNwZWNpYWxbdF09e2RlbGVnYXRlVHlwZTpuLGJpbmRUeXBlOm4saGFuZGxlOmZ1bmN0aW9uKHQpe3ZhciByLG89dGhpcyxpPXQucmVsYXRlZFRhcmdldCxhPXQuaGFuZGxlT2JqO3JldHVybiBpJiYoaT09PW98fGUuY29udGFpbnMobyxpKSl8fCh0LnR5cGU9YS5vcmlnVHlwZSxyPWEuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC50eXBlPW4pLHJ9fX0pLHBlPWZ1bmN0aW9uKGUpe3JldHVybiBmZVtlXXx8ZX0sbWU9LyhbXiBdKykvZyxiZS5hcHBseUV2ZW50TWFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZS5yZXBsYWNlKG1lLHBlKSx0JiYoZT1lLnJlcGxhY2UobWUsIiQxLiIrdCkpLGV9LGJlLmtleURvd25IYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXQuX2V2ZW50cy5rZW5kb0tleWRvd247aWYoIW8pcmV0dXJuITA7Zm9yKG89by5zbGljZSgpLGUuc2VuZGVyPXQsZS5wcmV2ZW50S2VuZG9LZXlkb3duPSExLG49MCxyPW8ubGVuZ3RoO248cjtuKyspb1tuXS5jYWxsKHQsZSk7cmV0dXJuIWUucHJldmVudEtlbmRvS2V5ZG93bn0saGU9ZS5mbi5vbiwkZSghMCxBLGUpLEEuZm49QS5wcm90b3R5cGU9bmV3IGUsQS5mbi5jb25zdHJ1Y3Rvcj1BLEEuZm4uaW5pdD1mdW5jdGlvbih0LG4pe3JldHVybiBuJiZuIGluc3RhbmNlb2YgZSYmIShuIGluc3RhbmNlb2YgQSkmJihuPUEobikpLGUuZm4uaW5pdC5jYWxsKHRoaXMsdCxuLGdlKX0sQS5mbi5pbml0LnByb3RvdHlwZT1BLmZuLGdlPUEoZG9jdW1lbnQpLHdlKEEuZm4se2hhbmRsZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YSgiaGFuZGxlciIsZSksdGhpc30sYXV0b0FwcGx5TlM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YSgia2VuZG9OUyIsZXx8YmUuZ3VpZCgpKSx0aGlzfSxvbjpmdW5jdGlvbigpe3ZhciBlLHQsbixyLG8saSxhLHMsdT10aGlzLGw9dS5kYXRhKCJrZW5kb05TIik7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2hlLmNhbGwodSxhcmd1bWVudHNbMF0pOihlPXUsdD1XZS5jYWxsKGFyZ3VtZW50cyksdHlwZW9mIHRbdC5sZW5ndGgtMV09PT1VZSYmdC5wb3AoKSxuPXRbdC5sZW5ndGgtMV0scj1iZS5hcHBseUV2ZW50TWFwKHRbMF0sbCksemUubW91c2VBbmRUb3VjaFByZXNlbnQmJnIuc2VhcmNoKC9tb3VzZXxjbGljay8pPi0xJiZ0aGlzWzBdIT09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYoZGUuc2V0dXBNb3VzZU11dGUoKSxvPTI9PT10Lmxlbmd0aD9udWxsOnRbMV0saT1yLmluZGV4T2YoImNsaWNrIik+LTEmJnIuaW5kZXhPZigidG91Y2hlbmQiKT4tMSxoZS5jYWxsKHRoaXMse3RvdWNoc3RhcnQ6ZGUubXV0ZU1vdXNlLHRvdWNoZW5kOmRlLnVuTXV0ZU1vdXNlfSxvLHtidXN0Q2xpY2s6aX0pKSxhcmd1bWVudHNbMF0uaW5kZXhPZigia2V5ZG93biIpIT09LTEmJnRbMV0mJnRbMV0ub3B0aW9ucz8odFswXT1yLGE9dFsxXSxzPXRbdC5sZW5ndGgtMV0sdFt0Lmxlbmd0aC0xXT1mdW5jdGlvbihlKXtpZihiZS5rZXlEb3duSGFuZGxlcihlLGEpKXJldHVybiBzLmFwcGx5KHRoaXMsW2VdKX0saGUuYXBwbHkodSx0KSx1KToodHlwZW9mIG49PT1IZSYmKGU9dS5kYXRhKCJoYW5kbGVyIiksbj1lW25dLHRbdC5sZW5ndGgtMV09ZnVuY3Rpb24odCl7bi5jYWxsKGUsdCl9KSx0WzBdPXIsaGUuYXBwbHkodSx0KSx1KSl9LGtlbmRvRGVzdHJveTpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHx0aGlzLmRhdGEoImtlbmRvTlMiKSxlJiZ0aGlzLm9mZigiLiIrZSksdGhpc319KSxiZS5qUXVlcnk9QSxiZS5ldmVudE1hcD1mZSxiZS50aW1lem9uZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbixyLG8saT10WzNdLGE9dFs0XSxzPXRbNV0sdT10WzhdO3JldHVybiB1fHwodFs4XT11PXt9KSx1W2VdP3VbZV06KGlzTmFOKGEpPzA9PT1hLmluZGV4T2YoImxhc3QiKT8obj1uZXcgRGF0ZShEYXRlLlVUQyhlLGNbaV0rMSwxLHNbMF0tMjQsc1sxXSxzWzJdLDApKSxyPWRbYS5zdWJzdHIoNCwzKV0sbz1uLmdldFVUQ0RheSgpLG4uc2V0VVRDRGF0ZShuLmdldFVUQ0RhdGUoKStyLW8tKHI+bz83OjApKSk6YS5pbmRleE9mKCI+PSIpPj0wPyhuPW5ldyBEYXRlKERhdGUuVVRDKGUsY1tpXSxhLnN1YnN0cig1KSxzWzBdLHNbMV0sc1syXSwwKSkscj1kW2Euc3Vic3RyKDAsMyldLG89bi5nZXRVVENEYXkoKSxuLnNldFVUQ0RhdGUobi5nZXRVVENEYXRlKCkrci1vKyhyPG8/NzowKSkpOmEuaW5kZXhPZigiPD0iKT49MCYmKG49bmV3IERhdGUoRGF0ZS5VVEMoZSxjW2ldLGEuc3Vic3RyKDUpLHNbMF0sc1sxXSxzWzJdLDApKSxyPWRbYS5zdWJzdHIoMCwzKV0sbz1uLmdldFVUQ0RheSgpLG4uc2V0VVRDRGF0ZShuLmdldFVUQ0RhdGUoKStyLW8tKHI+bz83OjApKSk6bj1uZXcgRGF0ZShEYXRlLlVUQyhlLGNbaV0sYSxzWzBdLHNbMV0sc1syXSwwKSksdVtlXT1uKX1mdW5jdGlvbiB0KHQsbixyKXt2YXIgbyxpLGEscztyZXR1cm4obj1uW3JdKT8oYT1uZXcgRGF0ZSh0KS5nZXRVVENGdWxsWWVhcigpLG49alF1ZXJ5LmdyZXAobixmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXTtyZXR1cm4gdDw9YSYmKG4+PWF8fHQ9PWEmJiJvbmx5Ij09bnx8Im1heCI9PW4pfSksbi5wdXNoKHQpLG4uc29ydChmdW5jdGlvbih0LG4pe3JldHVybiJudW1iZXIiIT10eXBlb2YgdCYmKHQ9K2UoYSx0KSksIm51bWJlciIhPXR5cGVvZiBuJiYobj0rZShhLG4pKSx0LW59KSxzPW5balF1ZXJ5LmluQXJyYXkodCxuKS0xXXx8bltuLmxlbmd0aC0xXSxpc05hTihzKT9zOm51bGwpOihvPXIuc3BsaXQoIjoiKSxpPTAsby5sZW5ndGg+MSYmKGk9NjAqb1swXSsgK29bMV0pLFstMWU2LCJtYXgiLCItIiwiSmFuIiwxLFswLDAsMF0saSwiLSJdKX1mdW5jdGlvbiBuKGUsdCxuKXt2YXIgcixvLGksYT10W25dO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmKGE9dFthXSksIWEpdGhyb3cgRXJyb3IoJ1RpbWV6b25lICInK24rJyIgaXMgZWl0aGVyIGluY29ycmVjdCwgb3Iga2VuZG8udGltZXpvbmVzLm1pbi5qcyBpcyBub3QgaW5jbHVkZWQuJyk7Zm9yKHI9YS5sZW5ndGgtMTtyPj0wJiYobz1hW3JdWzNdLCEobyYmZT5vKSk7ci0tKTtpZihpPWFbcisxXSwhaSl0aHJvdyBFcnJvcignVGltZXpvbmUgIicrbisnIiBub3QgZm91bmQgb24gJytlKyIuIik7cmV0dXJuIGl9ZnVuY3Rpb24gcihlLHIsbyxpKXt0eXBlb2YgZSE9TmUmJihlPURhdGUuVVRDKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCksZS5nZXREYXRlKCksZS5nZXRIb3VycygpLGUuZ2V0TWludXRlcygpLGUuZ2V0U2Vjb25kcygpLGUuZ2V0TWlsbGlzZWNvbmRzKCkpKTt2YXIgYT1uKGUscixpKTtyZXR1cm57em9uZTphLHJ1bGU6dChlLG8sYVsxXSl9fWZ1bmN0aW9uIG8oZSx0KXt2YXIgbixvLGk7cmV0dXJuIkV0Yy9VVEMiPT10fHwiRXRjL0dNVCI9PXQ/MDoobj1yKGUsdGhpcy56b25lcyx0aGlzLnJ1bGVzLHQpLG89bi56b25lLGk9bi5ydWxlLGJlLnBhcnNlRmxvYXQoaT9vWzBdLWlbNl06b1swXSkpfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj1yKGUsdGhpcy56b25lcyx0aGlzLnJ1bGVzLHQpLG89bi56b25lLGk9bi5ydWxlLGE9b1syXTtyZXR1cm4gYS5pbmRleE9mKCIvIik+PTA/YS5zcGxpdCgiLyIpW2kmJitpWzZdPzE6MF06YS5pbmRleE9mKCIlcyIpPj0wP2EucmVwbGFjZSgiJXMiLGkmJiItIiE9aVs3XT9pWzddOiIiKTphfWZ1bmN0aW9uIGEoZSx0LG4pe3ZhciByLG8saSxhPW47cmV0dXJuIHR5cGVvZiB0PT1IZSYmKHQ9dGhpcy5vZmZzZXQoZSx0KSksdHlwZW9mIG49PUhlJiYobj10aGlzLm9mZnNldChlLG4pKSxvPWUuZ2V0VGltZXpvbmVPZmZzZXQoKSxlPW5ldyBEYXRlKGUuZ2V0VGltZSgpKzZlNCoodC1uKSksaT1lLmdldFRpbWV6b25lT2Zmc2V0KCksdHlwZW9mIGE9PUhlJiYoYT10aGlzLm9mZnNldChlLGEpKSxyPWktbysobi1hKSxuZXcgRGF0ZShlLmdldFRpbWUoKSs2ZTQqcil9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiB0aGlzLmNvbnZlcnQoZSxlLmdldFRpbWV6b25lT2Zmc2V0KCksdCl9ZnVuY3Rpb24gdShlLHQpe3JldHVybiB0aGlzLmNvbnZlcnQoZSx0LGUuZ2V0VGltZXpvbmVPZmZzZXQoKSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gdGhpcy5hcHBseShuZXcgRGF0ZShlKSwiRXRjL1VUQyIpfXZhciBjPXtKYW46MCxGZWI6MSxNYXI6MixBcHI6MyxNYXk6NCxKdW46NSxKdWw6NixBdWc6NyxTZXA6OCxPY3Q6OSxOb3Y6MTAsRGVjOjExfSxkPXtTdW46MCxNb246MSxUdWU6MixXZWQ6MyxUaHU6NCxGcmk6NSxTYXQ6Nn07cmV0dXJue3pvbmVzOnt9LHJ1bGVzOnt9LG9mZnNldDpvLGNvbnZlcnQ6YSxhcHBseTpzLHJlbW92ZTp1LGFiYnI6aSx0b0xvY2FsRGF0ZTpsfX0oKSxiZS5kYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiAwPT09dCYmMjM9PT1lLmdldEhvdXJzKCkmJihlLnNldEhvdXJzKGUuZ2V0SG91cnMoKSsyKSwhMCl9ZnVuY3Rpb24gdCh0LG4scil7dmFyIG89dC5nZXRIb3VycygpO3I9cnx8MSxuPShuLXQuZ2V0RGF5KCkrNypyKSU3LHQuc2V0RGF0ZSh0LmdldERhdGUoKStuKSxlKHQsbyl9ZnVuY3Rpb24gcihlLG4scil7cmV0dXJuIGU9bmV3IERhdGUoZSksdChlLG4sciksZX1mdW5jdGlvbiBvKGUpe3JldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLDEpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLGUuZ2V0TW9udGgoKSsxLDApLG49byhlKSxyPU1hdGguYWJzKHQuZ2V0VGltZXpvbmVPZmZzZXQoKS1uLmdldFRpbWV6b25lT2Zmc2V0KCkpO3JldHVybiByJiZ0LnNldEhvdXJzKG4uZ2V0SG91cnMoKStyLzYwKSx0fWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4gMSE9PXQ/bShyKGUsdCwtMSksNCk6bShlLDQtKGUuZ2V0RGF5KCl8fDcpKX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMSwoLTYpKSxyPWEoZSx0KSxvPXIuZ2V0VGltZSgpLW4uZ2V0VGltZSgpLGk9TWF0aC5mbG9vcihvL00pO3JldHVybiAxK01hdGguZmxvb3IoaS83KX1mdW5jdGlvbiB1KGUsdCl7dmFyIHIsbyxpO3JldHVybiB0PT09biYmKHQ9YmUuY3VsdHVyZSgpLmNhbGVuZGFyLmZpcnN0RGF5KSxyPW0oZSwtNyksbz1tKGUsNyksaT1zKGUsdCksMD09PWk/cyhyLHQpKzE6NTM9PT1pJiZzKG8sdCk+MT8xOml9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdD1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpLHQuZ2V0RGF0ZSgpLDAsMCwwKSxlKHQsMCksdH1mdW5jdGlvbiBjKGUpe3JldHVybiBEYXRlLlVUQyhlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpLGUuZ2V0SG91cnMoKSxlLmdldE1pbnV0ZXMoKSxlLmdldFNlY29uZHMoKSxlLmdldE1pbGxpc2Vjb25kcygpKX1mdW5jdGlvbiBkKGUpe3JldHVybiBiKGUpLmdldFRpbWUoKS1sKGIoZSkpfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByLG89ZCh0KSxpPWQobik7cmV0dXJuIWV8fG89PWl8fCh0Pj1uJiYobis9TSkscj1kKGUpLG8+ciYmKHIrPU0pLGk8byYmKGkrPU0pLHI+PW8mJnI8PWkpfWZ1bmN0aW9uIHAoZSx0LG4pe3ZhciByLG89dC5nZXRUaW1lKCksaT1uLmdldFRpbWUoKTtyZXR1cm4gbz49aSYmKGkrPU0pLHI9ZS5nZXRUaW1lKCkscj49byYmcjw9aX1mdW5jdGlvbiBtKHQsbil7dmFyIHI9dC5nZXRIb3VycygpO3JldHVybiB0PW5ldyBEYXRlKHQpLGgodCxuKk0pLGUodCxyKSx0fWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciByLG89ZS5nZXRUaW1lem9uZU9mZnNldCgpO2Uuc2V0VGltZShlLmdldFRpbWUoKSt0KSxufHwocj1lLmdldFRpbWV6b25lT2Zmc2V0KCktbyxlLnNldFRpbWUoZS5nZXRUaW1lKCkrcip3KSl9ZnVuY3Rpb24gZyh0LG4pe3JldHVybiB0PW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCksbi5nZXRIb3VycygpLG4uZ2V0TWludXRlcygpLG4uZ2V0U2Vjb25kcygpLG4uZ2V0TWlsbGlzZWNvbmRzKCkpLGUodCxuLmdldEhvdXJzKCkpLHR9ZnVuY3Rpb24geSgpe3JldHVybiBsKG5ldyBEYXRlKX1mdW5jdGlvbiB2KGUpe3JldHVybiBsKGUpLmdldFRpbWUoKT09eSgpLmdldFRpbWUoKX1mdW5jdGlvbiBiKGUpe3ZhciB0PW5ldyBEYXRlKDE5ODAsMSwxLDAsMCwwKTtyZXR1cm4gZSYmdC5zZXRIb3VycyhlLmdldEhvdXJzKCksZS5nZXRNaW51dGVzKCksZS5nZXRTZWNvbmRzKCksZS5nZXRNaWxsaXNlY29uZHMoKSksdH12YXIgdz02ZTQsTT04NjRlNTtyZXR1cm57YWRqdXN0RFNUOmUsZGF5T2ZXZWVrOnIsc2V0RGF5T2ZXZWVrOnQsZ2V0RGF0ZTpsLGlzSW5EYXRlUmFuZ2U6cCxpc0luVGltZVJhbmdlOmYsaXNUb2RheTp2LG5leHREYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZSwxKX0scHJldmlvdXNEYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZSwtMSl9LHRvVXRjVGltZTpjLE1TX1BFUl9EQVk6TSxNU19QRVJfSE9VUjo2MCp3LE1TX1BFUl9NSU5VVEU6dyxzZXRUaW1lOmgsc2V0SG91cnM6ZyxhZGREYXlzOm0sdG9kYXk6eSx0b0ludmFyaWFudFRpbWU6YixmaXJzdERheU9mTW9udGg6byxsYXN0RGF5T2ZNb250aDppLHdlZWtJblllYXI6dSxnZXRNaWxsaXNlY29uZHM6ZH19KCksYmUuc3RyaXBXaGl0ZXNwYWNlPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtpZihkb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IpZm9yKHQ9ZG9jdW1lbnQuY3JlYXRlTm9kZUl0ZXJhdG9yKGUsTm9kZUZpbHRlci5TSE9XX1RFWFQsZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50Tm9kZT09ZT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6Tm9kZUZpbHRlci5GSUxURVJfUkVKRUNUfSwhMSk7dC5uZXh0Tm9kZSgpOyl0LnJlZmVyZW5jZU5vZGUmJiF0LnJlZmVyZW5jZU5vZGUudGV4dENvbnRlbnQudHJpbSgpJiZ0LnJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0LnJlZmVyZW5jZU5vZGUpO2Vsc2UgZm9yKG49MDtuPGUuY2hpbGROb2Rlcy5sZW5ndGg7bisrKXI9ZS5jaGlsZE5vZGVzW25dLDMhPXIubm9kZVR5cGV8fC9cUy8udGVzdChyLm5vZGVWYWx1ZSl8fChlLnJlbW92ZUNoaWxkKHIpLG4tLSksMT09ci5ub2RlVHlwZSYmYmUuc3RyaXBXaGl0ZXNwYWNlKHIpfSx5ZT10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwxZTMvNjApfSxiZS5hbmltYXRpb25GcmFtZT1mdW5jdGlvbihlKXt5ZS5jYWxsKHQsZSl9LHZlPVtdLGJlLnF1ZXVlQW5pbWF0aW9uPWZ1bmN0aW9uKGUpe3ZlW3ZlLmxlbmd0aF09ZSwxPT09dmUubGVuZ3RoJiZiZS5ydW5OZXh0QW5pbWF0aW9uKCl9LGJlLnJ1bk5leHRBbmltYXRpb249ZnVuY3Rpb24oKXtiZS5hbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3ZlWzBdJiYodmUuc2hpZnQoKSgpLHZlWzBdJiZiZS5ydW5OZXh0QW5pbWF0aW9uKCkpfSl9LGJlLnBhcnNlUXVlcnlTdHJpbmdQYXJhbXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc3BsaXQoIj8iKVsxXXx8IiIsbj17fSxyPXQuc3BsaXQoLyZ8PS8pLG89ci5sZW5ndGgsaT0wO2k8bztpKz0yKSIiIT09cltpXSYmKG5bZGVjb2RlVVJJQ29tcG9uZW50KHJbaV0pXT1kZWNvZGVVUklDb21wb25lbnQocltpKzFdKSk7cmV0dXJuIG59LGJlLmVsZW1lbnRVbmRlckN1cnNvcj1mdW5jdGlvbihlKXtpZihuIT09ZS54LmNsaWVudClyZXR1cm4gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLnguY2xpZW50LGUueS5jbGllbnQpfSxiZS53aGVlbERlbHRhWT1mdW5jdGlvbihlKXt2YXIgdCxyPWUub3JpZ2luYWxFdmVudCxvPXIud2hlZWxEZWx0YVk7cmV0dXJuIHIud2hlZWxEZWx0YT8obz09PW58fG8pJiYodD1yLndoZWVsRGVsdGEpOnIuZGV0YWlsJiZyLmF4aXM9PT1yLlZFUlRJQ0FMX0FYSVMmJih0PTEwKi1yLmRldGFpbCksdH0sYmUudGhyb3R0bGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixvLGk9MDtyZXR1cm4hdHx8dDw9MD9lOihvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbygpe2UuYXBwbHkoYSx1KSxpPStuZXcgRGF0ZX12YXIgYT10aGlzLHM9K25ldyBEYXRlLWksdT1hcmd1bWVudHM7cmV0dXJuIGk/KHImJmNsZWFyVGltZW91dChyKSxzPnQ/bygpOnI9c2V0VGltZW91dChvLHQtcyksbik6bygpfSxvLmNhbmNlbD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKX0sbyl9LGJlLmNhcmV0PWZ1bmN0aW9uKHQscixvKXt2YXIgaSxhLHMsdSxsLGM9ciE9PW47aWYobz09PW4mJihvPXIpLHRbMF0mJih0PXRbMF0pLCFjfHwhdC5kaXNhYmxlZCl7dHJ5e3Quc2VsZWN0aW9uU3RhcnQhPT1uP2M/KHQuZm9jdXMoKSxhPXplLm1vYmlsZU9TLGEud3B8fGEuYW5kcm9pZD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zZXRTZWxlY3Rpb25SYW5nZShyLG8pfSwwKTp0LnNldFNlbGVjdGlvblJhbmdlKHIsbykpOnI9W3Quc2VsZWN0aW9uU3RhcnQsdC5zZWxlY3Rpb25FbmRdOmRvY3VtZW50LnNlbGVjdGlvbiYmKGUodCkuaXMoIjp2aXNpYmxlIikmJnQuZm9jdXMoKSxpPXQuY3JlYXRlVGV4dFJhbmdlKCksYz8oaS5jb2xsYXBzZSghMCksaS5tb3ZlU3RhcnQoImNoYXJhY3RlciIsciksaS5tb3ZlRW5kKCJjaGFyYWN0ZXIiLG8tciksaS5zZWxlY3QoKSk6KHM9aS5kdXBsaWNhdGUoKSxpLm1vdmVUb0Jvb2ttYXJrKGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmdldEJvb2ttYXJrKCkpLHMuc2V0RW5kUG9pbnQoIkVuZFRvU3RhcnQiLGkpLHU9cy50ZXh0Lmxlbmd0aCxsPXUraS50ZXh0Lmxlbmd0aCxyPVt1LGxdKSl9Y2F0Y2goZCl7cj1bXX1yZXR1cm4gcn19LGJlLmNvbXBpbGVNb2JpbGVEaXJlY3RpdmU9ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmFuZ3VsYXI7cmV0dXJuIGUuYXR0cigiZGF0YS0iK2JlLm5zKyJyb2xlIixlWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJrZW5kby1tb2JpbGUtIiwiIikucmVwbGFjZSgiLSIsIiIpKSxyLmVsZW1lbnQoZSkuaW5qZWN0b3IoKS5pbnZva2UoWyIkY29tcGlsZSIsZnVuY3Rpb24odCl7dChlKShuKSwvXlwkKGRpZ2VzdHxhcHBseSkkLy50ZXN0KG4uJCRwaGFzZSl8fG4uJGRpZ2VzdCgpfV0pLGJlLndpZGdldEluc3RhbmNlKGUsYmUubW9iaWxlLnVpKX0sYmUuYW50aUZvcmdlcnlUb2tlbnM9ZnVuY3Rpb24oKXt2YXIgdD17fSxyPWUoIm1ldGFbbmFtZT1jc3JmLXRva2VuXSxtZXRhW25hbWU9X2NzcmZdIikuYXR0cigiY29udGVudCIpLG89ZSgibWV0YVtuYW1lPWNzcmYtcGFyYW1dLG1ldGFbbmFtZT1fY3NyZl9oZWFkZXJdIikuYXR0cigiY29udGVudCIpO3JldHVybiBlKCJpbnB1dFtuYW1lXj0nX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4nXSIpLmVhY2goZnVuY3Rpb24oKXt0W3RoaXMubmFtZV09dGhpcy52YWx1ZX0pLG8hPT1uJiZyIT09biYmKHRbb109ciksdH0sYmUuY3ljbGVGb3JtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9YmUud2lkZ2V0SW5zdGFuY2UoZSk7dCYmdC5mb2N1cz90LmZvY3VzKCk6ZS5mb2N1cygpfXZhciBuPWUuZmluZCgiaW5wdXQsIC5rLXdpZGdldCIpLmZpcnN0KCkscj1lLmZpbmQoImJ1dHRvbiwgLmstYnV0dG9uIikubGFzdCgpO3Iub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2Uua2V5Q29kZSE9YmUua2V5cy5UQUJ8fGUuc2hpZnRLZXl8fChlLnByZXZlbnREZWZhdWx0KCksdChuKSl9KSxuLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXtlLmtleUNvZGU9PWJlLmtleXMuVEFCJiZlLnNoaWZ0S2V5JiYoZS5wcmV2ZW50RGVmYXVsdCgpLHQocikpfSl9LGJlLmZvY3VzRWxlbWVudD1mdW5jdGlvbihuKXt2YXIgcj1bXSxvPW4ucGFyZW50c1VudGlsKCJib2R5IikuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7dmFyIG49YmUuZ2V0Q29tcHV0ZWRTdHlsZXModCxbIm92ZXJmbG93Il0pO3JldHVybiJ2aXNpYmxlIiE9PW4ub3ZlcmZsb3d9KS5hZGQodCk7by5lYWNoKGZ1bmN0aW9uKHQsbil7clt0XT1lKG4pLnNjcm9sbFRvcCgpfSk7dHJ5e25bMF0uc2V0QWN0aXZlKCl9Y2F0Y2goaSl7blswXS5mb2N1cygpfW8uZWFjaChmdW5jdGlvbih0LG4pe2Uobikuc2Nyb2xsVG9wKHJbdF0pfSl9LGJlLmZvY3VzTmV4dEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdCxuLHI7ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKHQ9ZSgiOmtlbmRvRm9jdXNhYmxlIiksbj10LmluZGV4KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLG4+LTEmJihyPXRbbisxXXx8dFswXSxyLmZvY3VzKCkpKX0sYmUubWF0Y2hlc01lZGlhPWZ1bmN0aW9uKGUpe3ZhciBuPWJlLl9ib290c3RyYXBUb01lZGlhKGUpfHxlO3JldHVybiB6ZS5tYXRjaE1lZGlhJiZ0Lm1hdGNoTWVkaWEobikubWF0Y2hlc30sYmUuX2Jvb3RzdHJhcFRvTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJue3hzOiIobWF4LXdpZHRoOiA1NzZweCkiLHNtOiIobWluLXdpZHRoOiA1NzZweCkiLG1kOiIobWluLXdpZHRoOiA3NjhweCkiLGxnOiIobWluLXdpZHRoOiA5OTJweCkiLHhsOiIobWluLXdpZHRoOiAxMjAwcHgpIn1bZV19LGJlLmZpbGVHcm91cE1hcD17YXVkaW86WyIuYWlmIiwiLmlmZiIsIi5tM3UiLCIubTRhIiwiLm1pZCIsIi5tcDMiLCIubXBhIiwiLndhdiIsIi53bWEiLCIub2dnIiwiLndhdiIsIi53bWEiLCIud3BsIl0sdmlkZW86WyIuM2cyIiwiLjNncCIsIi5hdmkiLCIuYXNmIiwiLmZsdiIsIi5tNHUiLCIucm0iLCIuaDI2NCIsIi5tNHYiLCIubWt2IiwiLm1vdiIsIi5tcDQiLCIubXBnIiwiLnJtIiwiLnN3ZiIsIi52b2IiLCIud212Il0saW1hZ2U6WyIuYWkiLCIuZGRzIiwiLmhlaWMiLCIuanBlIiwiamZpZiIsIi5qaWYiLCIuanAyIiwiLmpwcyIsIi5lcHMiLCIuYm1wIiwiLmdpZiIsIi5qcGVnIiwiLmpwZyIsIi5wbmciLCIucHMiLCIucHNkIiwiLnN2ZyIsIi5zdmd6IiwiLnRpZiIsIi50aWZmIl0sdHh0OlsiLmRvYyIsIi5kb2N4IiwiLmxvZyIsIi5wYWdlcyIsIi50ZXgiLCIud3BkIiwiLndwcyIsIi5vZHQiLCIucnRmIiwiLnRleHQiLCIudHh0IiwiLndrcyJdLHByZXNlbnRhdGlvbjpbIi5rZXkiLCIub2RwIiwiLnBwcyIsIi5wcHQiLCIucHB0eCJdLGRhdGE6WyIueGxyIiwiLnhscyIsIi54bHN4Il0scHJvZ3JhbW1pbmc6WyIudG1wIiwiLmJhayIsIi5tc2kiLCIuY2FiIiwiLmNwbCIsIi5jdXIiLCIuZGxsIiwiLmRtcCIsIi5kcnYiLCIuaWNucyIsIi5pY28iLCIubGluayIsIi5zeXMiLCIuY2ZnIiwiLmluaSIsIi5hc3AiLCIuYXNweCIsIi5jZXIiLCIuY3NyIiwiLmNzcyIsIi5kY3IiLCIuaHRtIiwiLmh0bWwiLCIuanMiLCIucGhwIiwiLnJzcyIsIi54aHRtbCJdLHBkZjpbIi5wZGYiXSxjb25maWc6WyIuYXBrIiwiLmFwcCIsIi5iYXQiLCIuY2dpIiwiLmNvbSIsIi5leGUiLCIuZ2FkZ2V0IiwiLmphciIsIi53c2YiXSx6aXA6WyIuN3oiLCIuY2JyIiwiLmd6IiwiLnNpdHgiLCIuYXJqIiwiLmRlYiIsIi5wa2ciLCIucmFyIiwiLnJwbSIsIi50YXIuZ3oiLCIueiIsIi56aXAiLCIuemlweCJdLCJkaXNjLWltYWdlIjpbIi5kbWciLCIuaXNvIiwiLnRvYXN0IiwiLnZjZCIsIi5iaW4iLCIuY3VlIiwiLm1kZiJdfSxiZS5nZXRGaWxlR3JvdXA9ZnVuY3Rpb24oZSx0KXt2YXIgcixvLGk9YmUuZmlsZUdyb3VwTWFwLGE9T2JqZWN0LmtleXMoaSkscz0iZmlsZSI7aWYoZT09PW58fCFlLmxlbmd0aClyZXR1cm4gcztmb3Iocj0wO3I8YS5sZW5ndGg7cis9MSlpZihvPWlbYVtyXV0sby5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSk+LTEpcmV0dXJuIHQ/ImZpbGUtIithW3JdOmFbcl07cmV0dXJuIHN9LGJlLmdldEZpbGVTaXplTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdCxuPVsiQnl0ZXMiLCJLQiIsIk1CIiwiR0IiLCJUQiJdO3JldHVybiAwPT09ZT8iMCBCeXRlIjoodD1wYXJzZUludChNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGgubG9nKDEwMjQpKSwxMCksTWF0aC5yb3VuZChlL01hdGgucG93KDEwMjQsdCksMikrIiAiK25bdF0pfSxmdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxuLHIsbyl7dmFyIGksYSxzPWUoIjxmb3JtPiIpLmF0dHIoe2FjdGlvbjpyLG1ldGhvZDoiUE9TVCIsdGFyZ2V0Om99KSx1PWJlLmFudGlGb3JnZXJ5VG9rZW5zKCk7dS5maWxlTmFtZT1uLGk9dC5zcGxpdCgiO2Jhc2U2NCwiKSx1LmNvbnRlbnRUeXBlPWlbMF0ucmVwbGFjZSgiZGF0YToiLCIiKSx1LmJhc2U2ND1pWzFdO2ZvcihhIGluIHUpdS5oYXNPd25Qcm9wZXJ0eShhKSYmZSgiPGlucHV0PiIpLmF0dHIoe3ZhbHVlOnVbYV0sbmFtZTphLHR5cGU6ImhpZGRlbiJ9KS5hcHBlbmRUbyhzKTtzLmFwcGVuZFRvKCJib2R5Iikuc3VibWl0KCkucmVtb3ZlKCl9ZnVuY3Rpb24gcihlLHQpe3ZhciBuLHIsbyxpLGEscz1lO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7Zm9yKG49ZS5zcGxpdCgiO2Jhc2U2NCwiKSxyPW5bMF0sbz1hdG9iKG5bMV0pLGk9bmV3IFVpbnQ4QXJyYXkoby5sZW5ndGgpLGE9MDthPG8ubGVuZ3RoO2ErKylpW2FdPW8uY2hhckNvZGVBdChhKTtzPW5ldyBCbG9iKFtpLmJ1ZmZlcl0se3R5cGU6cn0pfW5hdmlnYXRvci5tc1NhdmVCbG9iKHMsdCl9ZnVuY3Rpb24gbyhlLG4pe3QuQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2ImJihlPVVSTC5jcmVhdGVPYmplY3RVUkwoZSkpLGkuZG93bmxvYWQ9bixpLmhyZWY9ZTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTtyLmluaXRNb3VzZUV2ZW50KCJjbGljayIsITAsITEsdCwwLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsKSxpLmRpc3BhdGNoRXZlbnQociksc2V0VGltZW91dChmdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoZSl9KX12YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksYT0iZG93bmxvYWQiaW4gaSYmIWJlLnN1cHBvcnQuYnJvd3Nlci5lZGdlO2JlLnNhdmVBcz1mdW5jdGlvbihlKXt2YXIgdD1uO2UuZm9yY2VQcm94eXx8KGE/dD1vOm5hdmlnYXRvci5tc1NhdmVCbG9iJiYodD1yKSksdChlLmRhdGFVUkksZS5maWxlTmFtZSxlLnByb3h5VVJMLGUucHJveHlUYXJnZXQpfX0oKSxiZS5wcm94eU1vZGVsU2V0dGVycz1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZXx8e30pLmZvckVhY2goZnVuY3Rpb24obil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbbl19LHNldDpmdW5jdGlvbih0KXtlW25dPXQsZS5kaXJ0eT0hMH19KX0pLHR9LGZ1bmN0aW9uKCl7YmUuZGVmYXVsdHM9YmUuZGVmYXVsdHN8fHt9LGJlLnNldERlZmF1bHRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zcGxpdCgiLiIpLG89YmUuZGVmYXVsdHM7ZT1yLnBvcCgpLHIuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPT09biYmKG9bZV09e30pLG89b1tlXX0pLG9bZV09dC5jb25zdHJ1Y3Rvcj09PU9iamVjdD9sKHt9LG9bZV0sdCk6dH19KCl9KGpRdWVyeSx3aW5kb3cpLHdpbmRvdy5rZW5kb30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmU6ZnVuY3Rpb24oZSx0LG4peyhufHx0KSgpfSk7DQovLyMgc291cmNlTWFwcGluZ1VSTD1rZW5kby5jb3JlLm1pbi5qcy5tYXANCg0KLyohDQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqLw0KIWZ1bmN0aW9uKGUsZGVmaW5lKXtkZWZpbmUoImtlbmRvLnVzZXJldmVudHMubWluIixbImtlbmRvLmNvcmUubWluIl0sZSl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPWUueC5sb2NhdGlvbixpPWUueS5sb2NhdGlvbixvPXQueC5sb2NhdGlvbixyPXQueS5sb2NhdGlvbixzPW4tbyxhPWktcjtyZXR1cm57Y2VudGVyOnt4OihuK28pLzIseTooaStyKS8yfSxkaXN0YW5jZTpNYXRoLnNxcnQocypzK2EqYSl9fWZ1bmN0aW9uIGkoZSl7dmFyIHQsbixpLG89W10scj1lLm9yaWdpbmFsRXZlbnQsYT1lLmN1cnJlbnRUYXJnZXQsYz0wO2lmKGUuYXBpKW8ucHVzaCh7aWQ6MixldmVudDplLHRhcmdldDplLnRhcmdldCxjdXJyZW50VGFyZ2V0OmUudGFyZ2V0LGxvY2F0aW9uOmUsdHlwZToiYXBpIn0pO2Vsc2UgaWYoZS50eXBlLm1hdGNoKC90b3VjaC8pKWZvcihuPXI/ci5jaGFuZ2VkVG91Y2hlczpbXSx0PW4ubGVuZ3RoO2M8dDtjKyspaT1uW2NdLG8ucHVzaCh7bG9jYXRpb246aSxldmVudDplLHRhcmdldDppLnRhcmdldCxjdXJyZW50VGFyZ2V0OmEsaWQ6aS5pZGVudGlmaWVyLHR5cGU6InRvdWNoIn0pO2Vsc2Ugby5wdXNoKHMucG9pbnRlcnN8fHMubXNQb2ludGVycz97bG9jYXRpb246cixldmVudDplLHRhcmdldDplLnRhcmdldCxjdXJyZW50VGFyZ2V0OmEsaWQ6ci5wb2ludGVySWQsdHlwZToicG9pbnRlciJ9OntpZDoxLGV2ZW50OmUsdGFyZ2V0OmUudGFyZ2V0LGN1cnJlbnRUYXJnZXQ6YSxsb2NhdGlvbjplLHR5cGU6Im1vdXNlIn0pO3JldHVybiBvfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PXIuZXZlbnRNYXAudXAuc3BsaXQoIiAiKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWUodFtuXSl9dmFyIHI9d2luZG93LmtlbmRvLHM9ci5zdXBwb3J0LGE9ci5DbGFzcyxjPXIuT2JzZXJ2YWJsZSx1PWUubm93LGw9ZS5leHRlbmQsaD1zLm1vYmlsZU9TLHA9aCYmaC5hbmRyb2lkLGQ9ODAwLGY9MzAwLHY9cy5icm93c2VyLm1zaWU/NTowLGc9InByZXNzIixfPSJob2xkIixtPSJzZWxlY3QiLFQ9InN0YXJ0Iix5PSJtb3ZlIixrPSJlbmQiLEU9ImNhbmNlbCIseD0idGFwIixEPSJkb3VibGVUYXAiLE09InJlbGVhc2UiLHc9Imdlc3R1cmVzdGFydCIsYj0iZ2VzdHVyZWNoYW5nZSIsQT0iZ2VzdHVyZWVuZCIsQz0iZ2VzdHVyZXRhcCIsST17YXBpOjAsdG91Y2g6MCxtb3VzZTo5LHBvaW50ZXI6OX0sUz0hcy50b3VjaHx8cy5tb3VzZUFuZFRvdWNoUHJlc2VudCxQPWEuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztuLmF4aXM9ZSxuLl91cGRhdGVMb2NhdGlvbkRhdGEodCksbi5zdGFydExvY2F0aW9uPW4ubG9jYXRpb24sbi52ZWxvY2l0eT1uLmRlbHRhPTAsbi50aW1lU3RhbXA9dSgpfSxtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1lWyJwYWdlIit0LmF4aXNdLGk9dSgpLG89aS10LnRpbWVTdGFtcHx8MTshbiYmcHx8KHQuZGVsdGE9bi10LmxvY2F0aW9uLHQuX3VwZGF0ZUxvY2F0aW9uRGF0YShlKSx0LmluaXRpYWxEZWx0YT1uLXQuc3RhcnRMb2NhdGlvbix0LnZlbG9jaXR5PXQuZGVsdGEvbyx0LnRpbWVTdGFtcD1pKX0sX3VwZGF0ZUxvY2F0aW9uRGF0YTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5heGlzO3QubG9jYXRpb249ZVsicGFnZSIrbl0sdC5jbGllbnQ9ZVsiY2xpZW50IituXSx0LnNjcmVlbj1lWyJzY3JlZW4iK25dfX0pLEw9YS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0LG4pe2wodGhpcyx7eDpuZXcgUCgiWCIsbi5sb2NhdGlvbikseTpuZXcgUCgiWSIsbi5sb2NhdGlvbiksdHlwZTpuLnR5cGUsdXNlQ2xpY2tBc1RhcDplLnVzZUNsaWNrQXNUYXAsdGhyZXNob2xkOmUudGhyZXNob2xkfHxJW24udHlwZV0sdXNlckV2ZW50czplLHRhcmdldDp0LGN1cnJlbnRUYXJnZXQ6bi5jdXJyZW50VGFyZ2V0LGluaXRpYWxUb3VjaDpuLnRhcmdldCxpZDpuLmlkLHByZXNzRXZlbnQ6bixfY2xpY2tzOmUuX2NsaWNrcyxzdXBwb3J0RG91YmxlVGFwOmUuc3VwcG9ydERvdWJsZVRhcCxfbW92ZWQ6ITEsX2ZpbmlzaGVkOiExfSl9LHByZXNzOmZ1bmN0aW9uKCl7dGhpcy5faG9sZFRpbWVvdXQ9c2V0VGltZW91dChlLnByb3h5KHRoaXMsIl9ob2xkIiksdGhpcy51c2VyRXZlbnRzLm1pbkhvbGQpLHRoaXMuX3RyaWdnZXIoZyx0aGlzLnByZXNzRXZlbnQpfSxfdGFwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC51c2VyRXZlbnRzLl9jbGlja3MrKywxPT10LnVzZXJFdmVudHMuX2NsaWNrcyYmKHQuX2NsaWNrVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7MT09dC51c2VyRXZlbnRzLl9jbGlja3M/dC5fdHJpZ2dlcih4LGUpOnQuX3RyaWdnZXIoRCxlKSx0LnVzZXJFdmVudHMuX2NsaWNrcz0wfSxmKSl9LF9ob2xkOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcihfLHRoaXMucHJlc3NFdmVudCl9LG1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPSJhcGkiIT09ZS50eXBlJiZ0LnVzZXJFdmVudHMuX3Nob3VsZE5vdE1vdmU7aWYoIXQuX2ZpbmlzaGVkJiYhbil7aWYodC54Lm1vdmUoZS5sb2NhdGlvbiksdC55Lm1vdmUoZS5sb2NhdGlvbiksIXQuX21vdmVkKXtpZih0Ll93aXRoaW5JZ25vcmVUaHJlc2hvbGQoKSlyZXR1cm47aWYoWC5jdXJyZW50JiZYLmN1cnJlbnQhPT10LnVzZXJFdmVudHMpcmV0dXJuIHQuZGlzcG9zZSgpO3QuX3N0YXJ0KGUpfXQuX2ZpbmlzaGVkfHx0Ll90cmlnZ2VyKHksZSl9fSxlbmQ6ZnVuY3Rpb24oZSl7dGhpcy5lbmRUaW1lPXUoKSx0aGlzLl9maW5pc2hlZHx8KHRoaXMuX2ZpbmlzaGVkPSEwLHRoaXMuX3RyaWdnZXIoTSxlKSx0aGlzLl9tb3ZlZD90aGlzLl90cmlnZ2VyKGssZSk6dGhpcy51c2VDbGlja0FzVGFwfHwodGhpcy5zdXBwb3J0RG91YmxlVGFwP3RoaXMuX3RhcChlKTp0aGlzLl90cmlnZ2VyKHgsZSkpLGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCksdGhpcy5kaXNwb3NlKCkpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51c2VyRXZlbnRzLG49dC50b3VjaGVzO3RoaXMuX2ZpbmlzaGVkPSEwLHRoaXMucHJlc3NFdmVudD1udWxsLGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCksbi5zcGxpY2UoZS5pbkFycmF5KHRoaXMsbiksMSl9LHNraXA6ZnVuY3Rpb24oKXt0aGlzLmRpc3Bvc2UoKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LGlzTW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW92ZWR9LF9zdGFydDpmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLHRoaXMuc3RhcnRUaW1lPXUoKSx0aGlzLl9tb3ZlZD0hMCx0aGlzLl90cmlnZ2VyKFQsZSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPXQuZXZlbnQsbz17dG91Y2g6bix4Om4ueCx5Om4ueSx0YXJnZXQ6bi50YXJnZXQsZXZlbnQ6aX07bi51c2VyRXZlbnRzLm5vdGlmeShlLG8pJiZpLnByZXZlbnREZWZhdWx0KCl9LF93aXRoaW5JZ25vcmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnguaW5pdGlhbERlbHRhLHQ9dGhpcy55LmluaXRpYWxEZWx0YTtyZXR1cm4gTWF0aC5zcXJ0KGUqZSt0KnQpPD10aGlzLnRocmVzaG9sZH19KSxYPWMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsbil7dmFyIGksYSx1LGgscD10aGlzLGY9ci5ndWlkKCk7bj1ufHx7fSxpPXAuZmlsdGVyPW4uZmlsdGVyLHAudGhyZXNob2xkPW4udGhyZXNob2xkfHx2LHAubWluSG9sZD1uLm1pbkhvbGR8fGQscC50b3VjaGVzPVtdLHAuX21heFRvdWNoZXM9bi5tdWx0aVRvdWNoPzI6MSxwLmFsbG93U2VsZWN0aW9uPW4uYWxsb3dTZWxlY3Rpb24scC5jYXB0dXJlVXBJZk1vdmVkPW4uY2FwdHVyZVVwSWZNb3ZlZCxwLnVzZUNsaWNrQXNUYXA9IW4uZmFzdFRhcCYmIXMuZGVsYXllZENsaWNrKCkscC5ldmVudE5TPWYscC5fY2xpY2tzPTAscC5zdXBwb3J0RG91YmxlVGFwPW4uc3VwcG9ydERvdWJsZVRhcCx0PWUodCkuaGFuZGxlcihwKSxjLmZuLmluaXQuY2FsbChwKSxsKHAse2VsZW1lbnQ6dCxzdXJmYWNlOmUobi5nbG9iYWwmJlM/dFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDpuLnN1cmZhY2V8fHQpLHN0b3BQcm9wYWdhdGlvbjpuLnN0b3BQcm9wYWdhdGlvbixwcmVzc2VkOiExfSkscC5zdXJmYWNlLmhhbmRsZXIocCkub24oci5hcHBseUV2ZW50TWFwKCJtb3ZlIixmKSwiX21vdmUiKS5vbihyLmFwcGx5RXZlbnRNYXAoInVwIGNhbmNlbCIsZiksIl9lbmQiKSx0Lm9uKHIuYXBwbHlFdmVudE1hcCgiZG93biIsZiksaSwiX3N0YXJ0IikscC51c2VDbGlja0FzVGFwJiZ0Lm9uKHIuYXBwbHlFdmVudE1hcCgiY2xpY2siLGYpLGksIl9jbGljayIpLChzLnBvaW50ZXJzfHxzLm1zUG9pbnRlcnMpJiYocy5icm93c2VyLnZlcnNpb248MTE/KGE9InBpbmNoLXpvb20gZG91YmxlLXRhcC16b29tIix0LmNzcygiLW1zLXRvdWNoLWFjdGlvbiIsbi50b3VjaEFjdGlvbiYmIm5vbmUiIT1uLnRvdWNoQWN0aW9uP2ErIiAiK24udG91Y2hBY3Rpb246YSkpOnQuY3NzKCJ0b3VjaC1hY3Rpb24iLG4udG91Y2hBY3Rpb258fCJub25lIikpLG4ucHJldmVudERyYWdFdmVudCYmdC5vbihyLmFwcGx5RXZlbnRNYXAoImRyYWdzdGFydCIsZiksci5wcmV2ZW50RGVmYXVsdCksdC5vbihyLmFwcGx5RXZlbnRNYXAoIm1vdXNlZG93biIsZiksaSx7cm9vdDp0fSwiX3NlbGVjdCIpLHAuY2FwdHVyZVVwSWZNb3ZlZCYmcy5ldmVudENhcHR1cmUmJih1PXAuc3VyZmFjZVswXSxoPWUucHJveHkocC5wcmV2ZW50SWZNb3ZpbmcscCksbyhmdW5jdGlvbihlKXt1LmFkZEV2ZW50TGlzdGVuZXIoZSxoLCEwKX0pKSxwLmJpbmQoW2csXyx4LEQsVCx5LGssTSxFLHcsYixBLEMsbV0sbil9LHByZXZlbnRJZk1vdmluZzpmdW5jdGlvbihlKXt0aGlzLl9pc01vdmVkKCkmJmUucHJldmVudERlZmF1bHQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0Ll9kZXN0cm95ZWR8fCh0Ll9kZXN0cm95ZWQ9ITAsdC5jYXB0dXJlVXBJZk1vdmVkJiZzLmV2ZW50Q2FwdHVyZSYmKGU9dC5zdXJmYWNlWzBdLG8oZnVuY3Rpb24obil7ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4sdC5wcmV2ZW50SWZNb3ZpbmcpfSkpLHQuZWxlbWVudC5rZW5kb0Rlc3Ryb3kodC5ldmVudE5TKSx0LnN1cmZhY2Uua2VuZG9EZXN0cm95KHQuZXZlbnROUyksdC5lbGVtZW50LnJlbW92ZURhdGEoImhhbmRsZXIiKSx0LnN1cmZhY2UucmVtb3ZlRGF0YSgiaGFuZGxlciIpLHQuX2Rpc3Bvc2VBbGwoKSx0LnVuYmluZCgpLGRlbGV0ZSB0LnN1cmZhY2UsZGVsZXRlIHQuZWxlbWVudCxkZWxldGUgdC5jdXJyZW50VGFyZ2V0KX0sY2FwdHVyZTpmdW5jdGlvbigpe1guY3VycmVudD10aGlzfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlQWxsKCksdGhpcy50cmlnZ2VyKEUpfSxub3RpZnk6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLG89aS50b3VjaGVzO2lmKHRoaXMuX2lzTXVsdGlUb3VjaCgpKXtzd2l0Y2goZSl7Y2FzZSB5OmU9YjticmVhaztjYXNlIGs6ZT1BO2JyZWFrO2Nhc2UgeDplPUN9bCh0LHt0b3VjaGVzOm99LG4ob1swXSxvWzFdKSl9cmV0dXJuIHRoaXMudHJpZ2dlcihlLGwodCx7dHlwZTplfSkpfSxwcmVzczpmdW5jdGlvbihlLHQsbil7dGhpcy5fYXBpQ2FsbCgiX3N0YXJ0IixlLHQsbil9LG1vdmU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9hcGlDYWxsKCJfbW92ZSIsZSx0KX0sZW5kOmZ1bmN0aW9uKGUsdCl7dGhpcy5fYXBpQ2FsbCgiX2VuZCIsZSx0KX0sX2lzTXVsdGlUb3VjaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvdWNoZXMubGVuZ3RoPjF9LF9tYXhUb3VjaGVzUmVhY2hlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvdWNoZXMubGVuZ3RoPj10aGlzLl9tYXhUb3VjaGVzfSxfZGlzcG9zZUFsbDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnRvdWNoZXM7ZS5sZW5ndGg+MDspZS5wb3AoKS5kaXNwb3NlKCl9LF9pc01vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZ3JlcCh0aGlzLnRvdWNoZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNNb3ZlZCgpfSkubGVuZ3RofSxfc2VsZWN0OmZ1bmN0aW9uKGUpe3RoaXMuYWxsb3dTZWxlY3Rpb24mJiF0aGlzLnRyaWdnZXIobSx7ZXZlbnQ6ZX0pfHxlLnByZXZlbnREZWZhdWx0KCl9LF9zdGFydDpmdW5jdGlvbih0KXt2YXIgbixvLHI9dGhpcyxzPTAsYT1yLmZpbHRlcixjPWkodCksdT1jLmxlbmd0aCxsPXQud2hpY2g7aWYoIShsJiZsPjF8fHIuX21heFRvdWNoZXNSZWFjaGVkKCkpKWZvcihYLmN1cnJlbnQ9bnVsbCxyLmN1cnJlbnRUYXJnZXQ9dC5jdXJyZW50VGFyZ2V0LHIuc3RvcFByb3BhZ2F0aW9uJiZ0LnN0b3BQcm9wYWdhdGlvbigpO3M8dSYmIXIuX21heFRvdWNoZXNSZWFjaGVkKCk7cysrKW89Y1tzXSxuPWE/ZShvLmN1cnJlbnRUYXJnZXQpOnIuZWxlbWVudCxuLmxlbmd0aCYmKG89bmV3IEwocixuLG8pLHIudG91Y2hlcy5wdXNoKG8pLG8ucHJlc3MoKSxyLl9pc011bHRpVG91Y2goKSYmci5ub3RpZnkoImdlc3R1cmVzdGFydCIse30pKX0sX21vdmU6ZnVuY3Rpb24oZSl7dGhpcy5fZWFjaFRvdWNoKCJtb3ZlIixlKX0sX2VuZDpmdW5jdGlvbihlKXt0aGlzLl9lYWNoVG91Y2goImVuZCIsZSl9LF9jbGljazpmdW5jdGlvbih0KXt2YXIgbj17dG91Y2g6e2luaXRpYWxUb3VjaDp0LnRhcmdldCx0YXJnZXQ6ZSh0LmN1cnJlbnRUYXJnZXQpLGVuZFRpbWU6dSgpLHg6e2xvY2F0aW9uOnQucGFnZVgsY2xpZW50OnQuY2xpZW50WH0seTp7bG9jYXRpb246dC5wYWdlWSxjbGllbnQ6dC5jbGllbnRZfX0seDp0LnBhZ2VYLHk6dC5wYWdlWSx0YXJnZXQ6ZSh0LmN1cnJlbnRUYXJnZXQpLGV2ZW50OnQsdHlwZToidGFwIn07dGhpcy50cmlnZ2VyKCJ0YXAiLG4pJiZ0LnByZXZlbnREZWZhdWx0KCl9LF9lYWNoVG91Y2g6ZnVuY3Rpb24oZSx0KXt2YXIgbixvLHIscyxhPXRoaXMsYz17fSx1PWkodCksbD1hLnRvdWNoZXM7Zm9yKG49MDtuPGwubGVuZ3RoO24rKylvPWxbbl0sY1tvLmlkXT1vO2ZvcihuPTA7bjx1Lmxlbmd0aDtuKyspcj11W25dLHM9Y1tyLmlkXSxzJiZzW2VdKHIpfSxfYXBpQ2FsbDpmdW5jdGlvbih0LG4saSxvKXt0aGlzW3RdKHthcGk6ITAscGFnZVg6bixwYWdlWTppLGNsaWVudFg6bixjbGllbnRZOmksdGFyZ2V0OmUob3x8dGhpcy5lbGVtZW50KVswXSxzdG9wUHJvcGFnYXRpb246ZS5ub29wLHByZXZlbnREZWZhdWx0OmUubm9vcH0pfX0pO1guZGVmYXVsdFRocmVzaG9sZD1mdW5jdGlvbihlKXt2PWV9LFgubWluSG9sZD1mdW5jdGlvbihlKXtkPWV9LHIuZ2V0VG91Y2hlcz1pLHIudG91Y2hEZWx0YT1uLHIuVXNlckV2ZW50cz1YfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKGUsdCxuKXsobnx8dCkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8udXNlcmV2ZW50cy5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbih0LGRlZmluZSl7ZGVmaW5lKCJrZW5kby5kcmFnYW5kZHJvcC5taW4iLFsia2VuZG8uY29yZS5taW4iLCJrZW5kby51c2VyZXZlbnRzLm1pbiJdLHQpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oZSxuKXt0cnl7cmV0dXJuIHQuY29udGFpbnMoZSxuKXx8ZT09bn1jYXRjaChyKXtyZXR1cm4hMX19ZnVuY3Rpb24gcih0LGUpe3JldHVybiBwYXJzZUludCh0LmNzcyhlKSwxMCl8fDB9ZnVuY3Rpb24gaSh0LGUpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heCh0LGUubWluKSxlLm1heCl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPUQodCksaT1fLl9vdXRlcldpZHRoLG89Xy5fb3V0ZXJIZWlnaHQsYT1uLmxlZnQrcih0LCJib3JkZXJMZWZ0V2lkdGgiKStyKHQsInBhZGRpbmdMZWZ0Iikscz1uLnRvcCtyKHQsImJvcmRlclRvcFdpZHRoIikrcih0LCJwYWRkaW5nVG9wIiksbD1hK3Qud2lkdGgoKS1pKGUsITApLGM9cyt0LmhlaWdodCgpLW8oZSwhMCk7cmV0dXJue3g6e21pbjphLG1heDpsfSx5OnttaW46cyxtYXg6Y319fWZ1bmN0aW9uIGEobixyLGkpe2Zvcih2YXIgbyxhLHM9MCxsPXImJnIubGVuZ3RoLGM9aSYmaS5sZW5ndGg7biYmbi5wYXJlbnROb2RlOyl7Zm9yKHM9MDtzPGw7cysrKWlmKG89cltzXSxvLmVsZW1lbnRbMF09PT1uKXJldHVybnt0YXJnZXQ6byx0YXJnZXRFbGVtZW50Om59O2ZvcihzPTA7czxjO3MrKylpZihhPWlbc10sdC5jb250YWlucyhhLmVsZW1lbnRbMF0sbikmJngubWF0Y2hlc1NlbGVjdG9yLmNhbGwobixhLm9wdGlvbnMuZmlsdGVyKSlyZXR1cm57dGFyZ2V0OmEsdGFyZ2V0RWxlbWVudDpufTtuPW4ucGFyZW50Tm9kZX1yZXR1cm4gZX1mdW5jdGlvbiBzKHQsZSl7dmFyIG4scj1lLm9wdGlvbnMuZ3JvdXAsaT10W3JdO2lmKFQuZm4uZGVzdHJveS5jYWxsKGUpLGkubGVuZ3RoPjEpe2ZvcihuPTA7bjxpLmxlbmd0aDtuKyspaWYoaVtuXT09ZSl7aS5zcGxpY2UobiwxKTticmVha319ZWxzZSBpLmxlbmd0aD0wLGRlbGV0ZSB0W3JdfWZ1bmN0aW9uIGwodCl7dmFyIGUsbixyLGk9YygpWzBdO3JldHVybiB0WzBdPT09aT8obj1pLnNjcm9sbFRvcCxyPWkuc2Nyb2xsTGVmdCx7dG9wOm4sbGVmdDpyLGJvdHRvbTpuK2IuaGVpZ2h0KCkscmlnaHQ6citiLndpZHRoKCl9KTooZT10Lm9mZnNldCgpLGUuYm90dG9tPWUudG9wK3QuaGVpZ2h0KCksZS5yaWdodD1lLmxlZnQrdC53aWR0aCgpLGUpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gdChfLnN1cHBvcnQuYnJvd3Nlci5lZGdlfHxfLnN1cHBvcnQuYnJvd3Nlci5zYWZhcmk/eS5ib2R5OnkuZG9jdW1lbnRFbGVtZW50KX1mdW5jdGlvbiB1KGUpe3ZhciBuLHI9YygpO2lmKCFlfHxlPT09eS5ib2R5fHxlPT09eS5kb2N1bWVudEVsZW1lbnQpcmV0dXJuIHI7Zm9yKG49dChlKVswXTtuJiYhXy5pc1Njcm9sbGFibGUobikmJm4hPT15LmJvZHk7KW49bi5wYXJlbnROb2RlO3JldHVybiBuPT09eS5ib2R5P3I6dChuKX1mdW5jdGlvbiBoKHQsZSxuKXt2YXIgcj17eDowLHk6MH0saT01MDtyZXR1cm4gdC1uLmxlZnQ8aT9yLng9LShpLSh0LW4ubGVmdCkpOm4ucmlnaHQtdDxpJiYoci54PWktKG4ucmlnaHQtdCkpLGUtbi50b3A8aT9yLnk9LShpLShlLW4udG9wKSk6bi5ib3R0b20tZTxpJiYoci55PWktKG4uYm90dG9tLWUpKSxyfXZhciBkLGYscCxnLHYsbSxfPXdpbmRvdy5rZW5kbyx4PV8uc3VwcG9ydCx5PXdpbmRvdy5kb2N1bWVudCxiPXQod2luZG93KSxFPV8uQ2xhc3MsVD1fLnVpLldpZGdldCxTPV8uT2JzZXJ2YWJsZSx3PV8uVXNlckV2ZW50cyxNPXQucHJveHksQz10LmV4dGVuZCxEPV8uZ2V0T2Zmc2V0LE89e30saz17fSxJPXt9LEg9Xy5lbGVtZW50VW5kZXJDdXJzb3IsVz0ia2V5dXAiLHo9ImNoYW5nZSIsUD0iZHJhZ3N0YXJ0IixVPSJob2xkIixMPSJkcmFnIixBPSJkcmFnZW5kIixOPSJkcmFnY2FuY2VsIixWPSJoaW50RGVzdHJveWVkIixCPSJkcmFnZW50ZXIiLCQ9ImRyYWdsZWF2ZSIsRj0iZHJvcCIsaj1TLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsaT1lWzBdO3IuY2FwdHVyZT0hMSxpLmFkZEV2ZW50TGlzdGVuZXI/KHQuZWFjaChfLmV2ZW50TWFwLmRvd24uc3BsaXQoIiAiKSxmdW5jdGlvbigpe2kuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLE0oci5fcHJlc3MsciksITApfSksdC5lYWNoKF8uZXZlbnRNYXAudXAuc3BsaXQoIiAiKSxmdW5jdGlvbigpe2kuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLE0oci5fcmVsZWFzZSxyKSwhMCl9KSk6KHQuZWFjaChfLmV2ZW50TWFwLmRvd24uc3BsaXQoIiAiKSxmdW5jdGlvbigpe2kuYXR0YWNoRXZlbnQodGhpcyxNKHIuX3ByZXNzLHIpKX0pLHQuZWFjaChfLmV2ZW50TWFwLnVwLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtpLmF0dGFjaEV2ZW50KHRoaXMsTShyLl9yZWxlYXNlLHIpKX0pKSxTLmZuLmluaXQuY2FsbChyKSxyLmJpbmQoWyJwcmVzcyIsInJlbGVhc2UiXSxufHx7fSl9LGNhcHR1cmVOZXh0OmZ1bmN0aW9uKCl7dGhpcy5jYXB0dXJlPSEwfSxjYW5jZWxDYXB0dXJlOmZ1bmN0aW9uKCl7dGhpcy5jYXB0dXJlPSExfSxfcHJlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLnRyaWdnZXIoInByZXNzIiksZS5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCl9LF9yZWxlYXNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZS50cmlnZ2VyKCJyZWxlYXNlIiksZS5jYXB0dXJlJiYodC5wcmV2ZW50RGVmYXVsdCgpLGUuY2FuY2VsQ2FwdHVyZSgpKX19KSxHPVMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7Uy5mbi5pbml0LmNhbGwobiksbi5mb3JjZWRFbmFibGVkPSExLHQuZXh0ZW5kKG4sZSksbi5zY2FsZT0xLG4uaG9yaXpvbnRhbD8obi5tZWFzdXJlPSJvZmZzZXRXaWR0aCIsbi5zY3JvbGxTaXplPSJzY3JvbGxXaWR0aCIsbi5heGlzPSJ4Iik6KG4ubWVhc3VyZT0ib2Zmc2V0SGVpZ2h0IixuLnNjcm9sbFNpemU9InNjcm9sbEhlaWdodCIsbi5heGlzPSJ5Iil9LG1ha2VWaXJ0dWFsOmZ1bmN0aW9uKCl7dC5leHRlbmQodGhpcyx7dmlydHVhbDohMCxmb3JjZWRFbmFibGVkOiEwLF92aXJ0dWFsTWluOjAsX3ZpcnR1YWxNYXg6MH0pfSx2aXJ0dWFsU2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3ZpcnR1YWxNaW49PT10JiZ0aGlzLl92aXJ0dWFsTWF4PT09ZXx8KHRoaXMuX3ZpcnR1YWxNaW49dCx0aGlzLl92aXJ0dWFsTWF4PWUsdGhpcy51cGRhdGUoKSl9LG91dE9mQm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiB0PnRoaXMubWF4fHx0PHRoaXMubWlufSxmb3JjZUVuYWJsZWQ6ZnVuY3Rpb24oKXt0aGlzLmZvcmNlZEVuYWJsZWQ9ITB9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJbMF1bdGhpcy5tZWFzdXJlXX0sZ2V0VG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50WzBdW3RoaXMuc2Nyb2xsU2l6ZV19LHJlc2NhbGU6ZnVuY3Rpb24odCl7dGhpcy5zY2FsZT10fSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWUudmlydHVhbD9lLl92aXJ0dWFsTWF4OmUuZ2V0VG90YWwoKSxyPW4qZS5zY2FsZSxpPWUuZ2V0U2l6ZSgpOygwIT09bnx8ZS5mb3JjZWRFbmFibGVkKSYmKGUubWF4PWUudmlydHVhbD8tZS5fdmlydHVhbE1pbjowLGUuc2l6ZT1pLGUudG90YWw9cixlLm1pbj1NYXRoLm1pbihlLm1heCxpLXIpLGUubWluU2NhbGU9aS9uLGUuY2VudGVyT2Zmc2V0PShyLWkpLzIsZS5lbmFibGVkPWUuZm9yY2VkRW5hYmxlZHx8cj5pLHR8fGUudHJpZ2dlcih6LGUpKX19KSxRPVMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Uy5mbi5pbml0LmNhbGwoZSksZS54PW5ldyBHKEMoe2hvcml6b250YWw6ITB9LHQpKSxlLnk9bmV3IEcoQyh7aG9yaXpvbnRhbDohMX0sdCkpLGUuY29udGFpbmVyPXQuY29udGFpbmVyLGUuZm9yY2VkTWluU2NhbGU9dC5taW5TY2FsZSxlLm1heFNjYWxlPXQubWF4U2NhbGV8fDEwMCxlLmJpbmQoeix0KX0scmVzY2FsZTpmdW5jdGlvbih0KXt0aGlzLngucmVzY2FsZSh0KSx0aGlzLnkucmVzY2FsZSh0KSx0aGlzLnJlZnJlc2goKX0sY2VudGVyQ29vcmRpbmF0ZXM6ZnVuY3Rpb24oKXtyZXR1cm57eDpNYXRoLm1pbigwLC10aGlzLnguY2VudGVyT2Zmc2V0KSx5Ok1hdGgubWluKDAsLXRoaXMueS5jZW50ZXJPZmZzZXQpfX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC54LnVwZGF0ZSgpLHQueS51cGRhdGUoKSx0LmVuYWJsZWQ9dC54LmVuYWJsZWR8fHQueS5lbmFibGVkLHQubWluU2NhbGU9dC5mb3JjZWRNaW5TY2FsZXx8TWF0aC5taW4odC54Lm1pblNjYWxlLHQueS5taW5TY2FsZSksdC5maXRTY2FsZT1NYXRoLm1heCh0LngubWluU2NhbGUsdC55Lm1pblNjYWxlKSx0LnRyaWdnZXIoeil9fSkscT1TLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO0MoZSx0KSxTLmZuLmluaXQuY2FsbChlKX0sb3V0T2ZCb3VuZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaW1lbnNpb24ub3V0T2ZCb3VuZHModGhpcy5tb3ZhYmxlW3RoaXMuYXhpc10pfSxkcmFnTW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZS5kaW1lbnNpb24scj1lLmF4aXMsaT1lLm1vdmFibGUsbz1pW3JdK3Q7bi5lbmFibGVkJiYoKG88bi5taW4mJnQ8MHx8bz5uLm1heCYmdD4wKSYmKHQqPWUucmVzaXN0YW5jZSksaS50cmFuc2xhdGVBeGlzKHIsdCksZS50cmlnZ2VyKHosZSkpfX0pLEo9RS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSl7dmFyIG4scixpLG8sYT10aGlzO0MoYSx7ZWxhc3RpYzohMH0sZSksaT1hLmVsYXN0aWM/LjU6MCxvPWEubW92YWJsZSxhLng9bj1uZXcgcSh7YXhpczoieCIsZGltZW5zaW9uOmEuZGltZW5zaW9ucy54LHJlc2lzdGFuY2U6aSxtb3ZhYmxlOm99KSxhLnk9cj1uZXcgcSh7YXhpczoieSIsZGltZW5zaW9uOmEuZGltZW5zaW9ucy55LHJlc2lzdGFuY2U6aSxtb3ZhYmxlOm99KSxhLnVzZXJFdmVudHMuYmluZChbInByZXNzIiwibW92ZSIsImVuZCIsImdlc3R1cmVzdGFydCIsImdlc3R1cmVjaGFuZ2UiXSx7Z2VzdHVyZXN0YXJ0OmZ1bmN0aW9uKHQpe2EuZ2VzdHVyZT10LGEub2Zmc2V0PWEuZGltZW5zaW9ucy5jb250YWluZXIub2Zmc2V0KCl9LHByZXNzOmZ1bmN0aW9uKGUpe3QoZS5ldmVudC50YXJnZXQpLmNsb3Nlc3QoImEiKS5pcygiW2RhdGEtbmF2aWdhdGUtb24tcHJlc3M9dHJ1ZV0iKSYmZS5zZW5kZXIuY2FuY2VsKCl9LGdlc3R1cmVjaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxzLGw9YS5nZXN0dXJlLGM9bC5jZW50ZXIsdT10LmNlbnRlcixoPXQuZGlzdGFuY2UvbC5kaXN0YW5jZSxkPWEuZGltZW5zaW9ucy5taW5TY2FsZSxmPWEuZGltZW5zaW9ucy5tYXhTY2FsZTtvLnNjYWxlPD1kJiZoPDEmJihoKz0uOCooMS1oKSksby5zY2FsZSpoPj1mJiYoaD1mL28uc2NhbGUpLGk9by54K2Eub2Zmc2V0LmxlZnQscz1vLnkrYS5vZmZzZXQudG9wLGU9e3g6KGktYy54KSpoK3UueC1pLHk6KHMtYy55KSpoK3UueS1zfSxvLnNjYWxlV2l0aChoKSxuLmRyYWdNb3ZlKGUueCksci5kcmFnTW92ZShlLnkpLGEuZGltZW5zaW9ucy5yZXNjYWxlKG8uc2NhbGUpLGEuZ2VzdHVyZT10LHQucHJldmVudERlZmF1bHQoKX0sbW92ZTpmdW5jdGlvbih0KXt0LmV2ZW50LnRhcmdldC50YWdOYW1lLm1hdGNoKC90ZXh0YXJlYXxpbnB1dC9pKXx8KG4uZGltZW5zaW9uLmVuYWJsZWR8fHIuZGltZW5zaW9uLmVuYWJsZWQ/KG4uZHJhZ01vdmUodC54LmRlbHRhKSxyLmRyYWdNb3ZlKHQueS5kZWx0YSksdC5wcmV2ZW50RGVmYXVsdCgpKTp0LnRvdWNoLnNraXAoKSl9LGVuZDpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9fSl9fSksSz14LnRyYW5zaXRpb25zLnByZWZpeCsiVHJhbnNmb3JtIjtmPXguaGFzSFczRD9mdW5jdGlvbih0LGUsbil7cmV0dXJuInRyYW5zbGF0ZTNkKCIrdCsicHgsIitlKyJweCwwKSBzY2FsZSgiK24rIikifTpmdW5jdGlvbih0LGUsbil7cmV0dXJuInRyYW5zbGF0ZSgiK3QrInB4LCIrZSsicHgpIHNjYWxlKCIrbisiKSJ9LHA9Uy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztTLmZuLmluaXQuY2FsbChuKSxuLmVsZW1lbnQ9dChlKSxuLmVsZW1lbnRbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPSJsZWZ0IHRvcCIsbi54PTAsbi55PTAsbi5zY2FsZT0xLG4uX3NhdmVDb29yZGluYXRlcyhmKG4ueCxuLnksbi5zY2FsZSkpfSx0cmFuc2xhdGVBeGlzOmZ1bmN0aW9uKHQsZSl7dGhpc1t0XSs9ZSx0aGlzLnJlZnJlc2goKX0sc2NhbGVUbzpmdW5jdGlvbih0KXt0aGlzLnNjYWxlPXQsdGhpcy5yZWZyZXNoKCl9LHNjYWxlV2l0aDpmdW5jdGlvbih0KXt0aGlzLnNjYWxlKj10LHRoaXMucmVmcmVzaCgpfSx0cmFuc2xhdGU6ZnVuY3Rpb24odCl7dGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpcy5yZWZyZXNoKCl9LG1vdmVBeGlzOmZ1bmN0aW9uKHQsZSl7dGhpc1t0XT1lLHRoaXMucmVmcmVzaCgpfSxtb3ZlVG86ZnVuY3Rpb24odCl7Qyh0aGlzLHQpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLG49ZS54LHI9ZS55O2Uucm91bmQmJihuPU1hdGgucm91bmQobikscj1NYXRoLnJvdW5kKHIpKSx0PWYobixyLGUuc2NhbGUpLHQhPWUuY29vcmRpbmF0ZXMmJihfLnN1cHBvcnQuYnJvd3Nlci5tc2llJiZfLnN1cHBvcnQuYnJvd3Nlci52ZXJzaW9uPDEwPyhlLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlLmVsZW1lbnRbMF0uc3R5bGUubGVmdD1lLngrInB4IixlLmVsZW1lbnRbMF0uc3R5bGUudG9wPWUueSsicHgiKTplLmVsZW1lbnRbMF0uc3R5bGVbS109dCxlLl9zYXZlQ29vcmRpbmF0ZXModCksZS50cmlnZ2VyKHopKX0sX3NhdmVDb29yZGluYXRlczpmdW5jdGlvbih0KXt0aGlzLmNvb3JkaW5hdGVzPXR9fSksZz1ULmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcztULmZuLmluaXQuY2FsbChyLHQsZSksbj1yLm9wdGlvbnMuZ3JvdXAsbiBpbiBrP2tbbl0ucHVzaChyKTprW25dPVtyXX0sZXZlbnRzOltCLCQsRl0sb3B0aW9uczp7bmFtZToiRHJvcFRhcmdldCIsZ3JvdXA6ImRlZmF1bHQifSxkZXN0cm95OmZ1bmN0aW9uKCl7cyhrLHRoaXMpfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1PW24ub3B0aW9ucy5ncm91cF07aWYocilyZXR1cm4gbi50cmlnZ2VyKHQsQyh7fSxlLmV2ZW50LHtkcmFnZ2FibGU6cixkcm9wVGFyZ2V0OmUuZHJvcFRhcmdldH0pKX0sX292ZXI6ZnVuY3Rpb24odCl7dGhpcy5fdHJpZ2dlcihCLHQpfSxfb3V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RyaWdnZXIoJCx0KX0sX2Ryb3A6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPU9bZS5vcHRpb25zLmdyb3VwXTtuJiYobi5kcm9wcGVkPSFlLl90cmlnZ2VyKEYsdCkpfX0pLGcuZGVzdHJveUdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlLG49a1t0XXx8SVt0XTtpZihuKXtmb3IoZT0wO2U8bi5sZW5ndGg7ZSsrKVQuZm4uZGVzdHJveS5jYWxsKG5bZV0pO24ubGVuZ3RoPTAsZGVsZXRlIGtbdF0sZGVsZXRlIElbdF19fSxnLl9jYWNoZT1rLHY9Zy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXM7VC5mbi5pbml0LmNhbGwocix0LGUpLG49ci5vcHRpb25zLmdyb3VwLG4gaW4gST9JW25dLnB1c2gocik6SVtuXT1bcl19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtzKEksdGhpcyl9LG9wdGlvbnM6e25hbWU6IkRyb3BUYXJnZXRBcmVhIixncm91cDoiZGVmYXVsdCIsZmlsdGVyOm51bGx9fSksbT1ULmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7VC5mbi5pbml0LmNhbGwobix0LGUpLG4uX2FjdGl2YXRlZD0hMSxuLnVzZXJFdmVudHM9bmV3IHcobi5lbGVtZW50LHtnbG9iYWw6ITAsYWxsb3dTZWxlY3Rpb246ITAsZmlsdGVyOm4ub3B0aW9ucy5maWx0ZXIsdGhyZXNob2xkOm4ub3B0aW9ucy5kaXN0YW5jZSxzdGFydDpNKG4uX3N0YXJ0LG4pLGhvbGQ6TShuLl9ob2xkLG4pLG1vdmU6TShuLl9kcmFnLG4pLGVuZDpNKG4uX2VuZCxuKSxjYW5jZWw6TShuLl9jYW5jZWwsbiksc2VsZWN0Ok0obi5fc2VsZWN0LG4pfSksXy5zdXBwb3J0LnRvdWNoJiZuLmVsZW1lbnQuZmluZChuLm9wdGlvbnMuZmlsdGVyKS5jc3MoInRvdWNoLWFjdGlvbiIsIm5vbmUiKSxuLl9hZnRlckVuZEhhbmRsZXI9TShuLl9hZnRlckVuZCxuKSxuLl9jYXB0dXJlRXNjYXBlPU0obi5fY2FwdHVyZUVzY2FwZSxuKX0sZXZlbnRzOltVLFAsTCxBLE4sVl0sb3B0aW9uczp7bmFtZToiRHJhZ2dhYmxlIixkaXN0YW5jZTpfLnN1cHBvcnQudG91Y2g/MDo1LGdyb3VwOiJkZWZhdWx0IixjdXJzb3JPZmZzZXQ6bnVsbCxheGlzOm51bGwsY29udGFpbmVyOm51bGwsZmlsdGVyOm51bGwsaWdub3JlOm51bGwsaG9sZFRvRHJhZzohMSxhdXRvU2Nyb2xsOiExLGRyb3BwZWQ6ITF9LGNhbmNlbEhvbGQ6ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmF0ZWQ9ITF9LF9jYXB0dXJlRXNjYXBlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5rZXlDb2RlPT09Xy5rZXlzLkVTQyYmKGUuX3RyaWdnZXIoTix7ZXZlbnQ6dH0pLGUudXNlckV2ZW50cy5jYW5jZWwoKSl9LF91cGRhdGVIaW50OmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxvPXIub3B0aW9ucyxhPXIuYm91bmRhcmllcyxzPW8uYXhpcyxsPXIub3B0aW9ucy5jdXJzb3JPZmZzZXQ7bD9uPXtsZWZ0OmUueC5sb2NhdGlvbitsLmxlZnQsdG9wOmUueS5sb2NhdGlvbitsLnRvcH06KHIuaGludE9mZnNldC5sZWZ0Kz1lLnguZGVsdGEsci5oaW50T2Zmc2V0LnRvcCs9ZS55LmRlbHRhLG49dC5leHRlbmQoe30sci5oaW50T2Zmc2V0KSksYSYmKG4udG9wPWkobi50b3AsYS55KSxuLmxlZnQ9aShuLmxlZnQsYS54KSksIngiPT09cz9kZWxldGUgbi50b3A6InkiPT09cyYmZGVsZXRlIG4ubGVmdCxyLmhpbnQuY3NzKG4pfSxfc2hvdWxkSWdub3JlVGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMub3B0aW9ucy5pZ25vcmU7cmV0dXJuIG4mJnQoZSkuaXMobil9LF9zZWxlY3Q6ZnVuY3Rpb24odCl7dGhpcy5fc2hvdWxkSWdub3JlVGFyZ2V0KHQuZXZlbnQudGFyZ2V0KXx8dC5wcmV2ZW50RGVmYXVsdCgpfSxfc3RhcnQ6ZnVuY3Rpb24obil7dmFyIHIsaT10aGlzLGE9aS5vcHRpb25zLHM9YS5jb250YWluZXI/dChhLmNvbnRhaW5lcik6bnVsbCxsPWEuaGludDtyZXR1cm4gdGhpcy5fc2hvdWxkSWdub3JlVGFyZ2V0KG4udG91Y2guaW5pdGlhbFRvdWNoKXx8YS5ob2xkVG9EcmFnJiYhaS5fYWN0aXZhdGVkPyhpLnVzZXJFdmVudHMuY2FuY2VsKCksZSk6KGkuY3VycmVudFRhcmdldD1uLnRhcmdldCxpLmN1cnJlbnRUYXJnZXRPZmZzZXQ9RChpLmN1cnJlbnRUYXJnZXQpLGwmJihpLmhpbnQmJmkuaGludC5zdG9wKCEwLCEwKS5yZW1vdmUoKSxpLmhpbnQ9Xy5pc0Z1bmN0aW9uKGwpP3QobC5jYWxsKGksaS5jdXJyZW50VGFyZ2V0KSk6bCxyPUQoaS5jdXJyZW50VGFyZ2V0KSxpLmhpbnRPZmZzZXQ9cixpLmhpbnQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHpJbmRleDoyZTQsbGVmdDpyLmxlZnQsdG9wOnIudG9wfSkuYXBwZW5kVG8oeS5ib2R5KSxpLmFuZ3VsYXIoImNvbXBpbGUiLGZ1bmN0aW9uKCl7aS5oaW50LnJlbW92ZUF0dHIoIm5nLXJlcGVhdCIpO2Zvcih2YXIgZT10KG4udGFyZ2V0KTshZS5kYXRhKCIkJGtlbmRvU2NvcGUiKSYmZS5sZW5ndGg7KWU9ZS5wYXJlbnQoKTtyZXR1cm57ZWxlbWVudHM6aS5oaW50LmdldCgpLHNjb3BlRnJvbTplLmRhdGEoIiQka2VuZG9TY29wZSIpfX0pKSxPW2EuZ3JvdXBdPWksaS5kcm9wcGVkPSExLHMmJihpLmJvdW5kYXJpZXM9byhzLGkuaGludCkpLHQoeSkub24oVyxpLl9jYXB0dXJlRXNjYXBlKSxpLl90cmlnZ2VyKFAsbikmJihpLnVzZXJFdmVudHMuY2FuY2VsKCksaS5fYWZ0ZXJFbmQoKSksaS51c2VyRXZlbnRzLmNhcHR1cmUoKSxlKX0sX2hvbGQ6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50VGFyZ2V0PXQudGFyZ2V0LHRoaXMuX3RyaWdnZXIoVSx0KT90aGlzLnVzZXJFdmVudHMuY2FuY2VsKCk6dGhpcy5fYWN0aXZhdGVkPSEwfSxfZHJhZzpmdW5jdGlvbihlKXt2YXIgbixyO2UucHJldmVudERlZmF1bHQoKSxuPXRoaXMuX2VsZW1lbnRVbmRlckN1cnNvcihlKSx0aGlzLm9wdGlvbnMuYXV0b1Njcm9sbCYmdGhpcy5fY3Vyc29yRWxlbWVudCE9PW4mJih0aGlzLl9zY3JvbGxhYmxlUGFyZW50PXUobiksdGhpcy5fY3Vyc29yRWxlbWVudD1uKSx0aGlzLl9sYXN0RXZlbnQ9ZSx0aGlzLl9wcm9jZXNzTW92ZW1lbnQoZSxuKSx0aGlzLm9wdGlvbnMuYXV0b1Njcm9sbCYmdGhpcy5fc2Nyb2xsYWJsZVBhcmVudFswXSYmKHI9aChlLngubG9jYXRpb24sZS55LmxvY2F0aW9uLGwodGhpcy5fc2Nyb2xsYWJsZVBhcmVudCkpLHRoaXMuX3Njcm9sbENvbXBlbnN0YXRpb249dC5leHRlbmQoe30sdGhpcy5oaW50T2Zmc2V0KSx0aGlzLl9zY3JvbGxWZWxvY2l0eT1yLDA9PT1yLnkmJjA9PT1yLng/KGNsZWFySW50ZXJ2YWwodGhpcy5fc2Nyb2xsSW50ZXJ2YWwpLHRoaXMuX3Njcm9sbEludGVydmFsPW51bGwpOnRoaXMuX3Njcm9sbEludGVydmFsfHwodGhpcy5fc2Nyb2xsSW50ZXJ2YWw9c2V0SW50ZXJ2YWwodC5wcm94eSh0aGlzLCJfYXV0b1Njcm9sbCIpLDUwKSkpLHRoaXMuaGludCYmdGhpcy5fdXBkYXRlSGludChlKX0sX3Byb2Nlc3NNb3ZlbWVudDpmdW5jdGlvbihuLHIpe3RoaXMuX3dpdGhEcm9wVGFyZ2V0KHIsZnVuY3Rpb24ocixpKXtpZighcilyZXR1cm4gZCYmKGQuX3RyaWdnZXIoJCxDKG4se2Ryb3BUYXJnZXQ6dChkLnRhcmdldEVsZW1lbnQpfSkpLGQ9bnVsbCksZTtpZihkKXtpZihpPT09ZC50YXJnZXRFbGVtZW50KXJldHVybjtkLl90cmlnZ2VyKCQsQyhuLHtkcm9wVGFyZ2V0OnQoZC50YXJnZXRFbGVtZW50KX0pKX1yLl90cmlnZ2VyKEIsQyhuLHtkcm9wVGFyZ2V0OnQoaSl9KSksZD1DKHIse3RhcmdldEVsZW1lbnQ6aX0pfSksdGhpcy5fdHJpZ2dlcihMLEMobix7ZHJvcFRhcmdldDpkLGVsZW1lbnRVbmRlckN1cnNvcjpyfSkpfSxfYXV0b1Njcm9sbDpmdW5jdGlvbigpe3ZhciB0LGUsbixyLGksbyxhLHMsbD10aGlzLl9zY3JvbGxhYmxlUGFyZW50WzBdLHU9dGhpcy5fc2Nyb2xsVmVsb2NpdHksaD10aGlzLl9zY3JvbGxDb21wZW5zdGF0aW9uO2wmJih0PXRoaXMuX2VsZW1lbnRVbmRlckN1cnNvcih0aGlzLl9sYXN0RXZlbnQpLHRoaXMuX3Byb2Nlc3NNb3ZlbWVudCh0aGlzLl9sYXN0RXZlbnQsdCkscj1sPT09YygpWzBdLHI/KGU9eS5ib2R5LnNjcm9sbEhlaWdodD5iLmhlaWdodCgpLG49eS5ib2R5LnNjcm9sbFdpZHRoPmIud2lkdGgoKSk6KGU9bC5vZmZzZXRIZWlnaHQ8PWwuc2Nyb2xsSGVpZ2h0LG49bC5vZmZzZXRXaWR0aDw9bC5zY3JvbGxXaWR0aCksaT1sLnNjcm9sbFRvcCt1Lnksbz1lJiZpPjAmJmk8bC5zY3JvbGxIZWlnaHQsYT1sLnNjcm9sbExlZnQrdS54LHM9biYmYT4wJiZhPGwuc2Nyb2xsV2lkdGgsbyYmKGwuc2Nyb2xsVG9wKz11LnkpLHMmJihsLnNjcm9sbExlZnQrPXUueCksdGhpcy5oaW50JiZyJiYoc3x8bykmJihvJiYoaC50b3ArPXUueSkscyYmKGgubGVmdCs9dS54KSx0aGlzLmhpbnQuY3NzKGgpKSl9LF9lbmQ6ZnVuY3Rpb24oZSl7dGhpcy5fd2l0aERyb3BUYXJnZXQodGhpcy5fZWxlbWVudFVuZGVyQ3Vyc29yKGUpLGZ1bmN0aW9uKG4scil7biYmKG4uX2Ryb3AoQyh7fSxlLHtkcm9wVGFyZ2V0OnQocil9KSksZD1udWxsKX0pLHRoaXMuX2NhbmNlbCh0aGlzLl90cmlnZ2VyKEEsZSkpfSxfY2FuY2VsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZS5fc2Nyb2xsYWJsZVBhcmVudD1udWxsLHRoaXMuX2N1cnNvckVsZW1lbnQ9bnVsbCxjbGVhckludGVydmFsKHRoaXMuX3Njcm9sbEludGVydmFsKSxlLl9hY3RpdmF0ZWQ9ITEsZS5oaW50JiYhZS5kcm9wcGVkP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmhpbnQuc3RvcCghMCwhMCksdD9lLl9hZnRlckVuZEhhbmRsZXIoKTplLmhpbnQuYW5pbWF0ZShlLmN1cnJlbnRUYXJnZXRPZmZzZXQsImZhc3QiLGUuX2FmdGVyRW5kSGFuZGxlcil9LDApOmUuX2FmdGVyRW5kKCl9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbi50cmlnZ2VyKHQsQyh7fSxlLmV2ZW50LHt4OmUueCx5OmUueSxjdXJyZW50VGFyZ2V0Om4uY3VycmVudFRhcmdldCxpbml0aWFsVGFyZ2V0OmUudG91Y2g/ZS50b3VjaC5pbml0aWFsVG91Y2g6bnVsbCxkcm9wVGFyZ2V0OmUuZHJvcFRhcmdldCxlbGVtZW50VW5kZXJDdXJzb3I6ZS5lbGVtZW50VW5kZXJDdXJzb3J9KSl9LF9lbGVtZW50VW5kZXJDdXJzb3I6ZnVuY3Rpb24odCl7dmFyIGU9SCh0KSxyPXRoaXMuaGludDtyZXR1cm4gciYmbihyWzBdLGUpJiYoci5oaWRlKCksZT1IKHQpLGV8fChlPUgodCkpLHIuc2hvdygpKSxlfSxfd2l0aERyb3BUYXJnZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMub3B0aW9ucy5ncm91cCxpPWtbcl0sbz1JW3JdOyhpJiZpLmxlbmd0aHx8byYmby5sZW5ndGgpJiYobj1hKHQsaSxvKSxuP2Uobi50YXJnZXQsbi50YXJnZXRFbGVtZW50KTplKCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztULmZuLmRlc3Ryb3kuY2FsbCh0KSx0Ll9hZnRlckVuZCgpLHQudXNlckV2ZW50cy5kZXN0cm95KCksdGhpcy5fc2Nyb2xsYWJsZVBhcmVudD1udWxsLHRoaXMuX2N1cnNvckVsZW1lbnQ9bnVsbCxjbGVhckludGVydmFsKHRoaXMuX3Njcm9sbEludGVydmFsKSx0LmN1cnJlbnRUYXJnZXQ9bnVsbH0sX2FmdGVyRW5kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmhpbnQmJmUuaGludC5yZW1vdmUoKSxkZWxldGUgT1tlLm9wdGlvbnMuZ3JvdXBdLGUudHJpZ2dlcigiZGVzdHJveSIpLGUudHJpZ2dlcihWKSx0KHkpLm9mZihXLGUuX2NhcHR1cmVFc2NhcGUpfX0pLF8udWkucGx1Z2luKGcpLF8udWkucGx1Z2luKHYpLF8udWkucGx1Z2luKG0pLF8uVGFwQ2FwdHVyZT1qLF8uY29udGFpbmVyQm91bmRhcmllcz1vLEMoXy51aSx7UGFuZTpKLFBhbmVEaW1lbnNpb25zOlEsTW92YWJsZTpwfSksXy51aS5EcmFnZ2FibGUudXRpbHM9e2F1dG9TY3JvbGxWZWxvY2l0eTpoLHNjcm9sbGFibGVWaWV3UG9ydDpsLGZpbmRTY3JvbGxhYmxlUGFyZW50OnV9fSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKHQsZSxuKXsobnx8ZSkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8uZHJhZ2FuZGRyb3AubWluLmpzLm1hcA0KDQovKiENCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQohZnVuY3Rpb24oZSxkZWZpbmUpe2RlZmluZSgia2VuZG8ucG9wdXAubWluIixbImtlbmRvLmNvcmUubWluIl0sZSl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyh0LG8pe3JldHVybiEoIXR8fCFvKSYmKHQ9PT1vfHxlLmNvbnRhaW5zKHQsbykpfXZhciBuLGkscyxyLGE9d2luZG93LmtlbmRvLGw9YS51aSxkPWwuV2lkZ2V0LHA9YS5DbGFzcyxjPWEuc3VwcG9ydCxmPWEuZ2V0T2Zmc2V0LHU9YS5fb3V0ZXJXaWR0aCxoPWEuX291dGVySGVpZ2h0LG09Im9wZW4iLGc9ImNsb3NlIix3PSJkZWFjdGl2YXRlIix2PSJhY3RpdmF0ZSIsXz0iY2VudGVyIixiPSJsZWZ0Iix5PSJyaWdodCIsaz0idG9wIix4PSJib3R0b20iLFQ9ImFic29sdXRlIix6PSJoaWRkZW4iLEM9ImJvZHkiLFA9ImxvY2F0aW9uIixTPSJwb3NpdGlvbiIsRT0idmlzaWJsZSIsST0iZWZmZWN0cyIsUj0iay1zdGF0ZS1hY3RpdmUiLEE9Imstc3RhdGUtYm9yZGVyIixEPS9rLXN0YXRlLWJvcmRlci0oXHcrKS8sTz0iLmstcGlja2VyLXdyYXAsIC5rLWRyb3Bkb3duLXdyYXAsIC5rLWxpbmsiLEY9ImRvd24iLEg9ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLE49ZS5wcm94eSxXPWUod2luZG93KSxMPSJzY3JvbGwiLGo9Yy50cmFuc2l0aW9ucy5jc3MsTT1qKyJ0cmFuc2Zvcm0iLEs9ZS5leHRlbmQsVT0iLmtlbmRvUG9wdXAiLFk9WyJmb250LXNpemUiLCJmb250LWZhbWlseSIsImZvbnQtc3RyZXRjaCIsImZvbnQtc3R5bGUiLCJmb250LXdlaWdodCIsImxpbmUtaGVpZ2h0Il0sUT1kLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LG8pe3ZhciBuLGk9dGhpcztvPW98fHt9LG8uaXNSdGwmJihvLm9yaWdpbj1vLm9yaWdpbnx8eCsiICIreSxvLnBvc2l0aW9uPW8ucG9zaXRpb258fGsrIiAiK3kpLGQuZm4uaW5pdC5jYWxsKGksdCxvKSx0PWkuZWxlbWVudCxvPWkub3B0aW9ucyxpLmNvbGxpc2lvbnM9by5jb2xsaXNpb24/by5jb2xsaXNpb24uc3BsaXQoIiAiKTpbXSxpLmRvd25FdmVudD1hLmFwcGx5RXZlbnRNYXAoRixhLmd1aWQoKSksMT09PWkuY29sbGlzaW9ucy5sZW5ndGgmJmkuY29sbGlzaW9ucy5wdXNoKGkuY29sbGlzaW9uc1swXSksbj1lKGkub3B0aW9ucy5hbmNob3IpLmNsb3Nlc3QoIi5rLXBvcHVwLC5rLWdyb3VwIikuZmlsdGVyKCI6bm90KFtjbGFzc149a20tXSkiKSxvLmFwcGVuZFRvPWUoZShvLmFwcGVuZFRvKVswXXx8blswXXx8ZG9jdW1lbnQuYm9keSksaS5lbGVtZW50LmhpZGUoKS5hZGRDbGFzcygiay1wb3B1cCBrLWdyb3VwIGstcmVzZXQiKS50b2dnbGVDbGFzcygiay1ydGwiLCEhby5pc1J0bCkuY3NzKHtwb3NpdGlvbjpUfSkuYXBwZW5kVG8oby5hcHBlbmRUbykuYXR0cigiYXJpYS1oaWRkZW4iLCEwKS5vbigibW91c2VlbnRlciIrVSxmdW5jdGlvbigpe2kuX2hvdmVyZWQ9ITB9KS5vbigid2hlZWwiK1UsZnVuY3Rpb24odCl7dmFyIG89ZSh0LnRhcmdldCkuZmluZCgiLmstbGlzdCIpLG49by5wYXJlbnQoKTtvLmxlbmd0aCYmby5pcygiOnZpc2libGUiKSYmKDA9PT1uLnNjcm9sbFRvcCgpJiZ0Lm9yaWdpbmFsRXZlbnQuZGVsdGFZPDB8fG4uc2Nyb2xsVG9wKCk9PT1uLnByb3AoInNjcm9sbEhlaWdodCIpLW4ucHJvcCgib2Zmc2V0SGVpZ2h0IikmJnQub3JpZ2luYWxFdmVudC5kZWx0YVk+MCkmJnQucHJldmVudERlZmF1bHQoKX0pLm9uKCJtb3VzZWxlYXZlIitVLGZ1bmN0aW9uKCl7aS5faG92ZXJlZD0hMX0pLGkud3JhcHBlcj1lKCksby5hbmltYXRpb249PT0hMSYmKG8uYW5pbWF0aW9uPXtvcGVuOntlZmZlY3RzOnt9fSxjbG9zZTp7aGlkZTohMCxlZmZlY3RzOnt9fX0pLEsoby5hbmltYXRpb24ub3Blbix7Y29tcGxldGU6ZnVuY3Rpb24oKXtpLndyYXBwZXIuY3NzKHtvdmVyZmxvdzpFfSksaS5fYWN0aXZhdGVkPSEwLGkuX3RyaWdnZXIodil9fSksSyhvLmFuaW1hdGlvbi5jbG9zZSx7Y29tcGxldGU6ZnVuY3Rpb24oKXtpLl9hbmltYXRpb25DbG9zZSgpfX0pLGkuX21vdXNlZG93blByb3h5PWZ1bmN0aW9uKGUpe2kuX21vdXNlZG93bihlKX0saS5fcmVzaXplUHJveHk9Yy5tb2JpbGVPUy5hbmRyb2lkP2Z1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLl9yZXNpemUoZSl9LDYwMCl9OmZ1bmN0aW9uKGUpe2kuX3Jlc2l6ZShlKX0sby50b2dnbGVUYXJnZXQmJmUoby50b2dnbGVUYXJnZXQpLm9uKG8udG9nZ2xlRXZlbnQrVSxlLnByb3h5KGkudG9nZ2xlLGkpKX0sZXZlbnRzOlttLHYsZyx3XSxvcHRpb25zOntuYW1lOiJQb3B1cCIsdG9nZ2xlRXZlbnQ6ImNsaWNrIixvcmlnaW46eCsiICIrYixwb3NpdGlvbjprKyIgIitiLGFuY2hvcjpDLGFwcGVuZFRvOm51bGwsY29sbGlzaW9uOiJmbGlwIGZpdCIsdmlld3BvcnQ6d2luZG93LGNvcHlBbmNob3JTdHlsZXM6ITAsYXV0b3NpemU6ITEsbW9kYWw6ITEsYWRqdXN0U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sYW5pbWF0aW9uOntvcGVuOntlZmZlY3RzOiJzbGlkZUluOmRvd24iLHRyYW5zaXRpb246ITAsZHVyYXRpb246MjAwfSxjbG9zZTp7ZHVyYXRpb246MTAwLGhpZGU6ITB9fX0sX2FuaW1hdGlvbkNsb3NlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUud3JhcHBlci5kYXRhKFApO2Uud3JhcHBlci5oaWRlKCksdCYmZS53cmFwcGVyLmNzcyh0KSxlLm9wdGlvbnMuYW5jaG9yIT1DJiZlLl9oaWRlRGlyQ2xhc3MoKSxlLl9jbG9zaW5nPSExLGUuX3RyaWdnZXIodyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdCxvPXRoaXMsbj1vLm9wdGlvbnMsaT1vLmVsZW1lbnQub2ZmKFUpO2QuZm4uZGVzdHJveS5jYWxsKG8pLG4udG9nZ2xlVGFyZ2V0JiZlKG4udG9nZ2xlVGFyZ2V0KS5vZmYoVSksbi5tb2RhbHx8KEgub2ZmKG8uZG93bkV2ZW50LG8uX21vdXNlZG93blByb3h5KSxvLl90b2dnbGVSZXNpemUoITEpKSxhLmRlc3Ryb3koby5lbGVtZW50LmNoaWxkcmVuKCkpLGkucmVtb3ZlRGF0YSgpLG4uYXBwZW5kVG9bMF09PT1kb2N1bWVudC5ib2R5JiYodD1pLnBhcmVudCgiLmstYW5pbWF0aW9uLWNvbnRhaW5lciIpLHRbMF0/dC5yZW1vdmUoKTppLnJlbW92ZSgpKX0sb3BlbjpmdW5jdGlvbih0LG8pe3ZhciBuLGkscz10aGlzLHI9e2lzRml4ZWQ6IWlzTmFOKHBhcnNlSW50KG8sMTApKSx4OnQseTpvfSxsPXMuZWxlbWVudCxkPXMub3B0aW9ucyxwPWUoZC5hbmNob3IpLGY9bFswXSYmbC5oYXNDbGFzcygia20td2lkZ2V0Iik7aWYoIXMudmlzaWJsZSgpKXtpZihkLmNvcHlBbmNob3JTdHlsZXMmJihmJiYiZm9udC1zaXplIj09WVswXSYmWS5zaGlmdCgpLGwuY3NzKGEuZ2V0Q29tcHV0ZWRTdHlsZXMocFswXSxZKSkpLGwuZGF0YSgiYW5pbWF0aW5nIil8fHMuX3RyaWdnZXIobSkpcmV0dXJuO3MuX2FjdGl2YXRlZD0hMSxkLm1vZGFsfHwoSC5vZmYocy5kb3duRXZlbnQscy5fbW91c2Vkb3duUHJveHkpLm9uKHMuZG93bkV2ZW50LHMuX21vdXNlZG93blByb3h5KSxzLl90b2dnbGVSZXNpemUoITEpLHMuX3RvZ2dsZVJlc2l6ZSghMCkpLHMud3JhcHBlcj1pPWEud3JhcChsLGQuYXV0b3NpemUpLmNzcyh7b3ZlcmZsb3c6eixkaXNwbGF5OiJibG9jayIscG9zaXRpb246VH0pLmF0dHIoImFyaWEtaGlkZGVuIiwhMSksYy5tb2JpbGVPUy5hbmRyb2lkJiZpLmNzcyhNLCJ0cmFuc2xhdGV6KDApIiksaS5jc3MoUyksZShkLmFwcGVuZFRvKVswXT09ZG9jdW1lbnQuYm9keSYmaS5jc3MoaywiLTEwMDAwcHgiKSxzLmZsaXBwZWQ9cy5fcG9zaXRpb24ociksbj1zLl9vcGVuQW5pbWF0aW9uKCksZC5hbmNob3IhPUMmJnMuX3Nob3dEaXJDbGFzcyhuKSxsLmRhdGEoSSxuLmVmZmVjdHMpLmtlbmRvU3RvcCghMCkua2VuZG9BbmltYXRlKG4pLmF0dHIoImFyaWEtaGlkZGVuIiwhMSl9fSxfbG9jYXRpb246ZnVuY3Rpb24odCl7dmFyIG8sbixpPXRoaXMscz1pLmVsZW1lbnQscj1pLm9wdGlvbnMsbD1lKHIuYW5jaG9yKSxkPXNbMF0mJnMuaGFzQ2xhc3MoImttLXdpZGdldCIpO3JldHVybiByLmNvcHlBbmNob3JTdHlsZXMmJihkJiYiZm9udC1zaXplIj09WVswXSYmWS5zaGlmdCgpLHMuY3NzKGEuZ2V0Q29tcHV0ZWRTdHlsZXMobFswXSxZKSkpLGkud3JhcHBlcj1vPWEud3JhcChzLHIuYXV0b3NpemUpLmNzcyh7b3ZlcmZsb3c6eixkaXNwbGF5OiJibG9jayIscG9zaXRpb246VH0pLGMubW9iaWxlT1MuYW5kcm9pZCYmby5jc3MoTSwidHJhbnNsYXRleigwKSIpLG8uY3NzKFMpLGUoci5hcHBlbmRUbylbMF09PWRvY3VtZW50LmJvZHkmJm8uY3NzKGssIi0xMDAwMHB4IiksaS5fcG9zaXRpb24odHx8e30pLG49by5vZmZzZXQoKSx7d2lkdGg6YS5fb3V0ZXJXaWR0aChvKSxoZWlnaHQ6YS5fb3V0ZXJIZWlnaHQobyksbGVmdDpuLmxlZnQsdG9wOm4udG9wfX0sX29wZW5BbmltYXRpb246ZnVuY3Rpb24oKXt2YXIgZT1LKCEwLHt9LHRoaXMub3B0aW9ucy5hbmltYXRpb24ub3Blbik7cmV0dXJuIGUuZWZmZWN0cz1hLnBhcnNlRWZmZWN0cyhlLmVmZmVjdHMsdGhpcy5mbGlwcGVkKSxlfSxfaGlkZURpckNsYXNzOmZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzLm9wdGlvbnMuYW5jaG9yKSxvPSgodC5hdHRyKCJjbGFzcyIpfHwiIikubWF0Y2goRCl8fFsiIiwiZG93biJdKVsxXSxuPUErIi0iK287dC5yZW1vdmVDbGFzcyhuKS5jaGlsZHJlbihPKS5yZW1vdmVDbGFzcyhSKS5yZW1vdmVDbGFzcyhuKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoQSsiLSIrYS5kaXJlY3Rpb25zW29dLnJldmVyc2UpfSxfc2hvd0RpckNsYXNzOmZ1bmN0aW9uKHQpe3ZhciBvPXQuZWZmZWN0cy5zbGlkZUluP3QuZWZmZWN0cy5zbGlkZUluLmRpcmVjdGlvbjoiZG93biIsbj1BKyItIitvO2UodGhpcy5vcHRpb25zLmFuY2hvcikuYWRkQ2xhc3MobikuY2hpbGRyZW4oTykuYWRkQ2xhc3MoUikuYWRkQ2xhc3MobiksdGhpcy5lbGVtZW50LmFkZENsYXNzKEErIi0iK2EuZGlyZWN0aW9uc1tvXS5yZXZlcnNlKX0scG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLnZpc2libGUoKSYmKHRoaXMuZmxpcHBlZD10aGlzLl9wb3NpdGlvbigpKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlW2UudmlzaWJsZSgpP2c6bV0oKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuaXMoIjoiK0UpfSxjbG9zZTpmdW5jdGlvbihvKXt2YXIgbixpLHMscixsPXRoaXMsZD1sLm9wdGlvbnM7aWYobC52aXNpYmxlKCkpe2lmKG49bC53cmFwcGVyWzBdP2wud3JhcHBlcjphLndyYXAobC5lbGVtZW50KS5oaWRlKCksbC5fdG9nZ2xlUmVzaXplKCExKSxsLl9jbG9zaW5nfHxsLl90cmlnZ2VyKGcpKXJldHVybiBsLl90b2dnbGVSZXNpemUoITApLHQ7bC5lbGVtZW50LmZpbmQoIi5rLXBvcHVwIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10LmRhdGEoImtlbmRvUG9wdXAiKTtuJiZuLmNsb3NlKG8pfSksSC5vZmYobC5kb3duRXZlbnQsbC5fbW91c2Vkb3duUHJveHkpLG8/aT17aGlkZTohMCxlZmZlY3RzOnt9fTooaT1LKCEwLHt9LGQuYW5pbWF0aW9uLmNsb3NlKSxzPWwuZWxlbWVudC5kYXRhKEkpLHI9aS5lZmZlY3RzLCFyJiYhYS5zaXplKHIpJiZzJiZhLnNpemUocykmJihpLmVmZmVjdHM9cyxpLnJldmVyc2U9ITApLGwuX2Nsb3Npbmc9ITApLGwuZWxlbWVudC5rZW5kb1N0b3AoITApLmF0dHIoImFyaWEtaGlkZGVuIiwhMCksbi5jc3Moe292ZXJmbG93Onp9KS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLGwuZWxlbWVudC5rZW5kb0FuaW1hdGUoaSksbyYmbC5fYW5pbWF0aW9uQ2xvc2UoKX19LF90cmlnZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyaWdnZXIoZSx7dHlwZTplfSl9LF9yZXNpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjLnJlc2l6ZS5pbmRleE9mKGUudHlwZSkhPT0tMT8oY2xlYXJUaW1lb3V0KHQuX3Jlc2l6ZVRpbWVvdXQpLHQuX3Jlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX3Bvc2l0aW9uKCksdC5fcmVzaXplVGltZW91dD1udWxsfSw1MCkpOighdC5faG92ZXJlZHx8dC5fYWN0aXZhdGVkJiZ0LmVsZW1lbnQuaGFzQ2xhc3MoImstbGlzdC1jb250YWluZXIiKSkmJnQuY2xvc2UoKX0sX3RvZ2dsZVJlc2l6ZTpmdW5jdGlvbihlKXt2YXIgdD1lPyJvbiI6Im9mZiIsbz1jLnJlc2l6ZTtjLm1vYmlsZU9TLmlvc3x8Yy5tb2JpbGVPUy5hbmRyb2lkfHxjLmJyb3dzZXIuc2FmYXJpfHwobys9IiAiK0wpLGUmJiF0aGlzLnNjcm9sbGFibGVQYXJlbnRzJiYodGhpcy5zY3JvbGxhYmxlUGFyZW50cz10aGlzLl9zY3JvbGxhYmxlUGFyZW50cygpKSx0aGlzLnNjcm9sbGFibGVQYXJlbnRzJiZ0aGlzLnNjcm9sbGFibGVQYXJlbnRzLmxlbmd0aCYmdGhpcy5zY3JvbGxhYmxlUGFyZW50c1t0XShMLHRoaXMuX3Jlc2l6ZVByb3h5KSxXW3RdKG8sdGhpcy5fcmVzaXplUHJveHkpfSxfbW91c2Vkb3duOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMsaT1uLmVsZW1lbnRbMF0scz1uLm9wdGlvbnMscj1lKHMuYW5jaG9yKVswXSxsPXMudG9nZ2xlVGFyZ2V0LGQ9YS5ldmVudFRhcmdldCh0KSxwPWUoZCkuY2xvc2VzdCgiLmstcG9wdXAiKSxjPXAucGFyZW50KCkucGFyZW50KCIua20tc2hpbSIpLmxlbmd0aDtwPXBbMF0sIWMmJnAmJnAhPT1uLmVsZW1lbnRbMF18fCJwb3BvdmVyIiE9PWUodC50YXJnZXQpLmNsb3Nlc3QoImEiKS5kYXRhKCJyZWwiKSYmKG8oaSxkKXx8byhyLGQpfHxsJiZvKGUobClbMF0sZCl8fG4uY2xvc2UoKSl9LF9maXQ6ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPTA7cmV0dXJuIGUrdD5vJiYobj1vLShlK3QpKSxlPDAmJihuPS1lKSxufSxfZmxpcDpmdW5jdGlvbihlLHQsbyxuLGkscyxyKXt2YXIgYT0wO3JldHVybiByPXJ8fHQscyE9PWkmJnMhPT1fJiZpIT09XyYmKGUrcj5uJiYoYSs9LShvK3QpKSxlK2E8MCYmKGErPW8rdCkpLGF9LF9zY3JvbGxhYmxlUGFyZW50czpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMub3B0aW9ucy5hbmNob3IpLnBhcmVudHNVbnRpbCgiYm9keSIpLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiBhLmlzU2Nyb2xsYWJsZSh0KX0pfSxfcG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIG8sbixpLHMscixsLGQscCxtLGcsdyx2LF8sYix5LGsseCx6PXRoaXMsQz16LmVsZW1lbnQsRT16LndyYXBwZXIsST16Lm9wdGlvbnMsUj1lKEkudmlld3BvcnQpLEE9Yy56b29tTGV2ZWwoKSxEPSEhKFJbMF09PXdpbmRvdyYmd2luZG93LmlubmVyV2lkdGgmJkE8PTEuMDIpLE89ZShJLmFuY2hvciksRj1JLm9yaWdpbi50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksSD1JLnBvc2l0aW9uLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSxOPXouY29sbGlzaW9ucyxXPTEwMDAyLEw9MCxqPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpZihyPUkudmlld3BvcnQ9PT13aW5kb3c/e3RvcDp3aW5kb3cucGFnZVlPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fDAsbGVmdDp3aW5kb3cucGFnZVhPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHwwfTpSLm9mZnNldCgpLEQ/KGw9d2luZG93LmlubmVyV2lkdGgsZD13aW5kb3cuaW5uZXJIZWlnaHQpOihsPVIud2lkdGgoKSxkPVIuaGVpZ2h0KCkpLEQmJmouc2Nyb2xsSGVpZ2h0LWouY2xpZW50SGVpZ2h0PjAmJihwPUkuaXNSdGw/LTE6MSxsLT1wKmEuc3VwcG9ydC5zY3JvbGxiYXIoKSksbz1PLnBhcmVudHMoKS5maWx0ZXIoRS5zaWJsaW5ncygpKSxvWzBdKWlmKGk9TWF0aC5tYXgoK28uY3NzKCJ6SW5kZXgiKSwwKSlXPWkrMTA7ZWxzZSBmb3Iobj1PLnBhcmVudHNVbnRpbChvKSxzPW4ubGVuZ3RoO0w8cztMKyspaT0rZShuW0xdKS5jc3MoInpJbmRleCIpLGkmJlc8aSYmKFc9aSsxMCk7cmV0dXJuIEUuY3NzKCJ6SW5kZXgiLFcpLEUuY3NzKHQmJnQuaXNGaXhlZD97bGVmdDp0LngsdG9wOnQueX06ei5fYWxpZ24oRixIKSksbT1mKEUsUyxPWzBdPT09RS5vZmZzZXRQYXJlbnQoKVswXSksZz1mKEUpLHc9Ty5vZmZzZXRQYXJlbnQoKS5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIsLmstcG9wdXAsLmstZ3JvdXAiKSx3Lmxlbmd0aCYmKG09ZihFLFMsITApLGc9ZihFKSksZy50b3AtPXIudG9wLGcubGVmdC09ci5sZWZ0LHoud3JhcHBlci5kYXRhKFApfHxFLmRhdGEoUCxLKHt9LG0pKSx2PUsoe30sZyksXz1LKHt9LG0pLGI9SS5hZGp1c3RTaXplLCJmaXQiPT09TlswXSYmKF8udG9wKz16Ll9maXQodi50b3AsaChFKStiLmhlaWdodCxkL0EpKSwiZml0Ij09PU5bMV0mJihfLmxlZnQrPXouX2ZpdCh2LmxlZnQsdShFKStiLndpZHRoLGwvQSkpLHk9Syh7fSxfKSxrPWgoQykseD1oKEUpLCFFLmhlaWdodCgpJiZrJiYoeCs9ayksImZsaXAiPT09TlswXSYmKF8udG9wKz16Ll9mbGlwKHYudG9wLGssaChPKSxkL0EsRlswXSxIWzBdLHgpKSwiZmxpcCI9PT1OWzFdJiYoXy5sZWZ0Kz16Ll9mbGlwKHYubGVmdCx1KEMpLHUoTyksbC9BLEZbMV0sSFsxXSx1KEUpKSksQy5jc3MoUyxUKSxFLmNzcyhfKSxfLmxlZnQhPXkubGVmdHx8Xy50b3AhPXkudG9wfSxfYWxpZ246ZnVuY3Rpb24odCxvKXt2YXIgbixpPXRoaXMscz1pLndyYXBwZXIscj1lKGkub3B0aW9ucy5hbmNob3IpLGE9dFswXSxsPXRbMV0sZD1vWzBdLHA9b1sxXSxjPWYociksbT1lKGkub3B0aW9ucy5hcHBlbmRUbyksZz11KHMpLHc9aChzKXx8aChzLmNoaWxkcmVuKCkuZmlyc3QoKSksdj11KHIpLGI9aChyKSxrPWMudG9wLFQ9Yy5sZWZ0LHo9TWF0aC5yb3VuZDtyZXR1cm4gbVswXSE9ZG9jdW1lbnQuYm9keSYmKG49ZihtKSxrLT1uLnRvcCxULT1uLmxlZnQpLGE9PT14JiYoays9YiksYT09PV8mJihrKz16KGIvMikpLGQ9PT14JiYoay09dyksZD09PV8mJihrLT16KHcvMikpLGw9PT15JiYoVCs9diksbD09PV8mJihUKz16KHYvMikpLHA9PT15JiYoVC09ZykscD09PV8mJihULT16KGcvMikpLHt0b3A6ayxsZWZ0OlR9fX0pO2wucGx1Z2luKFEpLG49YS5zdXBwb3J0LnN0YWJsZVNvcnQsaT0ia2VuZG9UYWJLZXlUcmFwIixzPSJhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgaWZyYW1lLCBvYmplY3QsIGVtYmVkLCBbdGFiaW5kZXhdLCAqW2NvbnRlbnRlZGl0YWJsZV0iLHI9cC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dGhpcy5lbGVtZW50PWUodCksdGhpcy5lbGVtZW50LmF1dG9BcHBseU5TKGkpfSx0cmFwOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKCJrZXlkb3duIixOKHRoaXMuX2tlZXBJblRyYXAsdGhpcykpfSxyZW1vdmVUcmFwOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmtlbmRvRGVzdHJveShpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5rZW5kb0Rlc3Ryb3koaSksdGhpcy5lbGVtZW50PXR9LHNob3VsZFRyYXA6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX2tlZXBJblRyYXA6ZnVuY3Rpb24oZSl7dmFyIHQsbyxuOzk9PT1lLndoaWNoJiZ0aGlzLnNob3VsZFRyYXAoKSYmIWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PXRoaXMuX2ZvY3VzYWJsZUVsZW1lbnRzKCksbz10aGlzLl9zb3J0Rm9jdXNhYmxlRWxlbWVudHModCksbj10aGlzLl9uZXh0Rm9jdXNhYmxlKGUsbyksdGhpcy5fZm9jdXMobiksZS5wcmV2ZW50RGVmYXVsdCgpKX0sX2ZvY3VzYWJsZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LmZpbmQocykuZmlsdGVyKGZ1bmN0aW9uKHQsbyl7cmV0dXJuIG8udGFiSW5kZXg+PTAmJmUobykuaXMoIjp2aXNpYmxlIikmJiFlKG8pLmlzKCJbZGlzYWJsZWRdIil9KTtyZXR1cm4gdGhpcy5lbGVtZW50LmlzKCJbdGFiaW5kZXhdIikmJnQucHVzaCh0aGlzLmVsZW1lbnRbMF0pLHR9LF9zb3J0Rm9jdXNhYmxlRWxlbWVudHM6ZnVuY3Rpb24oZSl7dmFyIHQsbztyZXR1cm4gbj90PWUuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnRhYkluZGV4LXQudGFiSW5kZXh9KToobz0iX19rX2luZGV4IixlLmVhY2goZnVuY3Rpb24oZSx0KXt0LnNldEF0dHJpYnV0ZShvLGUpfSksdD1lLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50YWJJbmRleD09PXQudGFiSW5kZXg/cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUobyksMTApLXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKG8pLDEwKTplLnRhYkluZGV4LXQudGFiSW5kZXh9KSxlLnJlbW92ZUF0dHIobykpLHR9LF9uZXh0Rm9jdXNhYmxlOmZ1bmN0aW9uKGUsdCl7dmFyIG89dC5sZW5ndGgsbj10LmluZGV4KGUudGFyZ2V0KTtyZXR1cm4gdC5nZXQoKG4rKGUuc2hpZnRLZXk/LTE6MSkpJW8pfSxfZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIklGUkFNRSI9PWUubm9kZU5hbWU/KGUuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmZvY3VzKCksdCk6KGUuZm9jdXMoKSwiSU5QVVQiPT1lLm5vZGVOYW1lJiZlLnNldFNlbGVjdGlvblJhbmdlJiZ0aGlzLl9oYXZlU2VsZWN0aW9uUmFuZ2UoZSkmJmUuc2V0U2VsZWN0aW9uUmFuZ2UoMCxlLnZhbHVlLmxlbmd0aCksdCl9LF9oYXZlU2VsZWN0aW9uUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlLnRvTG93ZXJDYXNlKCk7cmV0dXJuInRleHQiPT09dHx8InNlYXJjaCI9PT10fHwidXJsIj09PXR8fCJ0ZWwiPT09dHx8InBhc3N3b3JkIj09PXR9fSksbC5Qb3B1cC5UYWJLZXlUcmFwPXJ9KHdpbmRvdy5rZW5kby5qUXVlcnkpLHdpbmRvdy5rZW5kb30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmU6ZnVuY3Rpb24oZSx0LG8peyhvfHx0KSgpfSk7DQovLyMgc291cmNlTWFwcGluZ1VSTD1rZW5kby5wb3B1cC5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbih0LGRlZmluZSl7ZGVmaW5lKCJrZW5kby53aW5kb3cubWluIixbImtlbmRvLmRyYWdhbmRkcm9wLm1pbiIsImtlbmRvLnBvcHVwLm1pbiJdLHQpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIGkhPT10fWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gcGFyc2VJbnQodC5jc3MoaSksMTApfHwwfWZ1bmN0aW9uIG8odCxpLGUpe3ZhciBuO3JldHVybiBuPXQmJmlzTmFOKHQpJiYoIiIrdCkuaW5kZXhPZigicHgiKTwwP3Q6TWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQodCwxMCksZT09PTEvMD9lOnBhcnNlSW50KGUsMTApKSxpPT09LSgxLzApP2k6cGFyc2VJbnQoaSwxMCkpfWZ1bmN0aW9uIHMoKXtyZXR1cm4hdGhpcy50eXBlfHx0aGlzLnR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzY3JpcHQiKT49MH1mdW5jdGlvbiByKGkpe2Zvcih2YXIgZSxuLG89e3RvcDppLm9mZnNldFRvcCxsZWZ0Omkub2Zmc2V0TGVmdH0scz1pLm9mZnNldFBhcmVudDtzOylvLnRvcCs9cy5vZmZzZXRUb3Asby5sZWZ0Kz1zLm9mZnNldExlZnQsZT10KHMpLmNzcygib3ZlcmZsb3dYIiksbj10KHMpLmNzcygib3ZlcmZsb3dZIiksImF1dG8iIT09biYmInNjcm9sbCIhPT1ufHwoby50b3AtPXMuc2Nyb2xsVG9wKSwiYXV0byIhPT1lJiYic2Nyb2xsIiE9PWV8fChvLmxlZnQtPXMuc2Nyb2xsTGVmdCkscz1zLm9mZnNldFBhcmVudDtyZXR1cm4gb31mdW5jdGlvbiBhKHQpe3ZhciBpPXRoaXM7aS5vd25lcj10LGkuX3ByZXZlbnREcmFnZ2luZz0hMSxpLl9kcmFnZ2FibGU9bmV3IGgodC53cmFwcGVyLHtmaWx0ZXI6Ij4iK08sZ3JvdXA6dC53cmFwcGVyLmlkKyItcmVzaXppbmciLGRyYWdzdGFydDp3KGkuZHJhZ3N0YXJ0LGkpLGRyYWc6dyhpLmRyYWcsaSksZHJhZ2VuZDp3KGkuZHJhZ2VuZCxpKX0pLGkuX2RyYWdnYWJsZS51c2VyRXZlbnRzLmJpbmQoInByZXNzIix3KGkuYWRkT3ZlcmxheSxpKSksaS5fZHJhZ2dhYmxlLnVzZXJFdmVudHMuYmluZCgicmVsZWFzZSIsdyhpLnJlbW92ZU92ZXJsYXksaSkpfWZ1bmN0aW9uIGwodCxpKXt2YXIgZT10aGlzO2Uub3duZXI9dCxlLl9wcmV2ZW50RHJhZ2dpbmc9ITEsZS5fZHJhZ2dhYmxlPW5ldyBoKHQud3JhcHBlcix7ZmlsdGVyOmksZ3JvdXA6dC53cmFwcGVyLmlkKyItbW92aW5nIixkcmFnc3RhcnQ6dyhlLmRyYWdzdGFydCxlKSxkcmFnOncoZS5kcmFnLGUpLGRyYWdlbmQ6dyhlLmRyYWdlbmQsZSksZHJhZ2NhbmNlbDp3KGUuZHJhZ2NhbmNlbCxlKX0pLGUuX2RyYWdnYWJsZS51c2VyRXZlbnRzLnN0b3BQcm9wYWdhdGlvbj0hMX12YXIgZD13aW5kb3cua2VuZG8scD1kLnVpLldpZGdldCxjPWQudWkuUG9wdXAuVGFiS2V5VHJhcCxoPWQudWkuRHJhZ2dhYmxlLGY9dC5pc1BsYWluT2JqZWN0LG09ZC5fYWN0aXZlRWxlbWVudCxnPWQuX291dGVyV2lkdGgsdT1kLl9vdXRlckhlaWdodCx3PXQucHJveHksXz10LmV4dGVuZCx2PXQuZWFjaCx4PWQudGVtcGxhdGUsYj0iYm9keSIsej0iLmtlbmRvV2luZG93IixrPSIua2VuZG9XaW5kb3dNb2RhbCIsVD0iLmstd2luZG93Iix5PSIuay13aW5kb3ctdGl0bGUiLEw9eSsiYmFyIixNPSIuay13aW5kb3ctY29udGVudCIsUD0iLmstZGlhbG9nLWNvbnRlbnQiLE89Ii5rLXJlc2l6ZS1oYW5kbGUiLFc9Ii5rLW92ZXJsYXkiLFM9ImstY29udGVudC1mcmFtZSIsSD0iay1pLWxvYWRpbmciLEQ9Imstc3RhdGUtaG92ZXIiLEk9Imstc3RhdGUtZm9jdXNlZCIsQz0iay13aW5kb3ctbWF4aW1pemVkIixFPSI6dmlzaWJsZSIsRj0iaGlkZGVuIixSPSJjdXJzb3IiLGo9Im9wZW4iLEE9ImFjdGl2YXRlIixOPSJkZWFjdGl2YXRlIixLPSJjbG9zZSIsQj0icmVmcmVzaCIscT0ibWluaW1pemUiLFU9Im1heGltaXplIixHPSJyZXNpemVTdGFydCIsSj0icmVzaXplIixWPSJyZXNpemVFbmQiLFE9ImRyYWdzdGFydCIsWD0iZHJhZ2VuZCIsWT0iZXJyb3IiLCQ9Im92ZXJmbG93IixaPSJvcmlnaW5hbC1vdmVyZmxvdy1ydWxlIix0dD0iekluZGV4IixpdD0iLmstd2luZG93LWFjdGlvbnMgLmstaS13aW5kb3ctbWluaW1pemUsLmstd2luZG93LWFjdGlvbnMgLmstaS13aW5kb3ctbWF4aW1pemUiLGV0PSIuay1pLXBpbiIsbnQ9Ii5rLWktdW5waW4iLG90PWV0KyIsIitudCxzdD0iLmstd2luZG93LXRpdGxlYmFyIC5rLXdpbmRvdy1hY3Rpb24iLHJ0PSIuay13aW5kb3ctdGl0bGViYXIgLmstaS1yZWZyZXNoIixhdD0iV2luZG93RXZlbnRzSGFuZGxlZCIsbHQ9L14wW2Etel0qJC9pLGR0PWQuaXNMb2NhbFVybCxwdD17c21hbGw6Imstd2luZG93LXNtIixtZWRpdW06Imstd2luZG93LW1kIixsYXJnZToiay13aW5kb3ctbGcifSxjdD1wLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLG8pe3ZhciByLGEsbCxoLG0sZyx1LF8sdix4PXRoaXMsYj17fSxrPSExLE89byYmby5hY3Rpb25zJiYhby5hY3Rpb25zLmxlbmd0aDtwLmZuLmluaXQuY2FsbCh4LG4sbyksbz14Lm9wdGlvbnMsaD1vLnBvc2l0aW9uLG49eC5lbGVtZW50LG09by5jb250ZW50LF89dCh3aW5kb3cpLE8mJihvLmFjdGlvbnM9W10pLHguYXBwZW5kVG89dChvLmFwcGVuZFRvKSx4LmNvbnRhaW5tZW50PW8uZHJhZ2dhYmxlLmNvbnRhaW5tZW50P3Qoby5kcmFnZ2FibGUuY29udGFpbm1lbnQpLmZpcnN0KCk6bnVsbCxtJiYhZihtKSYmKG09by5jb250ZW50PXt1cmw6bX0pLG4uZmluZCgic2NyaXB0IikuZmlsdGVyKHMpLnJlbW92ZSgpLG4ucGFyZW50KCkuaXMoeC5hcHBlbmRUbyl8fHguY29udGFpbm1lbnR8fGgudG9wIT09aSYmaC5sZWZ0IT09aXx8KG4uaXMoRSk/KGI9bi5vZmZzZXQoKSxrPSEwKTooYT1uLmNzcygidmlzaWJpbGl0eSIpLGw9bi5jc3MoImRpc3BsYXkiKSxuLmNzcyh7dmlzaWJpbGl0eTpGLGRpc3BsYXk6IiJ9KSxiPW4ub2Zmc2V0KCksbi5jc3Moe3Zpc2liaWxpdHk6YSxkaXNwbGF5Omx9KSksaC50b3A9PT1pJiYoaC50b3A9Yi50b3ApLGgubGVmdD09PWkmJihoLmxlZnQ9Yi5sZWZ0KSksZShvLnZpc2libGUpJiZudWxsIT09by52aXNpYmxlfHwoby52aXNpYmxlPW4uaXMoRSkpLHI9eC53cmFwcGVyPW4uY2xvc2VzdChUKSxuLmlzKCIuay1jb250ZW50IikmJnJbMF18fChuLmFkZENsYXNzKCJrLXdpbmRvdy1jb250ZW50IGstY29udGVudCIpLHguX2NyZWF0ZVdpbmRvdyhuLG8pLHI9eC53cmFwcGVyPW4uY2xvc2VzdChUKSx4LnRpdGxlKHgub3B0aW9ucy50aXRsZSkseC5fZGltZW5zaW9ucygpKSx4Lm1pblRvcD14Lm1pbkxlZnQ9LSgxLzApLHgubWF4VG9wPXgubWF4TGVmdD0xLzAseC5fcG9zaXRpb24oKSxtJiZ4LnJlZnJlc2gobSksby52aXNpYmxlJiZ4LnRvRnJvbnQoKSxnPXIuY2hpbGRyZW4oTSkseC5fdGFiaW5kZXgoZyksby52aXNpYmxlJiZvLm1vZGFsJiZ4Ll9vdmVybGF5KHIuaXMoRSkpLmNzcyh7b3BhY2l0eTouNX0pLHIub24oIm1vdXNlZW50ZXIiK3osc3Qsdyh4Ll9idXR0b25FbnRlcix4KSkub24oIm1vdXNlbGVhdmUiK3osc3Qsdyh4Ll9idXR0b25MZWF2ZSx4KSkub24oImNsaWNrIit6LCI+ICIrc3Qsdyh4Ll93aW5kb3dBY3Rpb25IYW5kbGVyLHgpKS5vbigia2V5ZG93biIreix3KHguX2tleWRvd24seCkpLm9uKCJmb2N1cyIreix3KHguX2ZvY3VzLHgpKS5vbigiYmx1ciIreix3KHguX2JsdXIseCkpLGcub24oImtleWRvd24iK3osdyh4Ll9rZXlkb3duLHgpKS5vbigiZm9jdXMiK3osdyh4Ll9mb2N1cyx4KSkub24oImJsdXIiK3osdyh4Ll9ibHVyLHgpKSx1PWcuZmluZCgiLiIrUylbMF0sdSYmIV8uZGF0YShhdCkmJihfLm9uKCJibHVyIit6LGZ1bmN0aW9uKCl7dmFyIGksZT10KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnBhcmVudChNKTtlLmxlbmd0aCYmKGk9ZC53aWRnZXRJbnN0YW5jZShlKSxpLl9mb2N1cygpKX0pLF8ub24oImZvY3VzIit6LGZ1bmN0aW9uKCl7dChNKS5ub3QoUCkuZWFjaChmdW5jdGlvbihpLGUpe2Qud2lkZ2V0SW5zdGFuY2UodChlKSkuX2JsdXIoKX0pfSksXy5kYXRhKGF0LCEwKSksdGhpcy5fcmVzaXphYmxlKCksdGhpcy5fZHJhZ2dhYmxlKCksby5waW5uZWQmJnRoaXMud3JhcHBlci5pcygiOnZpc2libGUiKSYmeC5waW4oKSx2PW4uYXR0cigiaWQiKSx2JiYodis9Il93bmRfdGl0bGUiLHIuY2hpbGRyZW4oTCkuY2hpbGRyZW4oeSkuYXR0cigiaWQiLHYpLGcuYXR0cih7cm9sZToiZGlhbG9nIiwiYXJpYS1sYWJlbGxlZGJ5Ijp2fSkpLHIuYWRkKHIuY2hpbGRyZW4oIi5rLXJlc2l6ZS1oYW5kbGUsIitMKSkub24oIm1vdXNlZG93biIreix3KHgudG9Gcm9udCx4KSkseC50b3VjaFNjcm9sbGVyPWQudG91Y2hTY3JvbGxlcihuKSx4Ll9yZXNpemVIYW5kbGVyPXcoeC5fb25Eb2N1bWVudFJlc2l6ZSx4KSx4Ll9tYXJrZXI9ZC5ndWlkKCkuc3Vic3RyaW5nKDAsOCksdCh3aW5kb3cpLm9uKCJyZXNpemUiK3oreC5fbWFya2VyLHguX3Jlc2l6ZUhhbmRsZXIpLG8udmlzaWJsZSYmKHgudHJpZ2dlcihqKSx4LnRyaWdnZXIoQSkpLGQubm90aWZ5KHgpLHRoaXMub3B0aW9ucy5tb2RhbCYmKHRoaXMuX3RhYktleVRyYXA9bmV3IGMociksdGhpcy5fdGFiS2V5VHJhcC50cmFwKCksdGhpcy5fdGFiS2V5VHJhcC5zaG91bGRUcmFwPWZ1bmN0aW9uKCl7cmV0dXJuIGcuZGF0YSgiaXNGcm9udCIpfSl9LF9idXR0b25FbnRlcjpmdW5jdGlvbihpKXt0KGkuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoRCl9LF9idXR0b25MZWF2ZTpmdW5jdGlvbihpKXt0KGkuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoRCl9LF9mb2N1czpmdW5jdGlvbigpe3RoaXMud3JhcHBlci5hZGRDbGFzcyhJKX0sX2JsdXI6ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIucmVtb3ZlQ2xhc3MoSSl9LF9kaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIHQsaSxlPXRoaXMud3JhcHBlcixzPXRoaXMub3B0aW9ucyxyPXMud2lkdGgsYT1zLmhlaWdodCxsPXMubWF4SGVpZ2h0LGQ9cy5zaXplLHA9WyJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Il0sYz0iY29udGVudC1ib3giPT1lLmNzcygiYm94LXNpemluZyIpLGg9Yz9uKGUsImJvcmRlci1sZWZ0LXdpZHRoIikrbihlLCJib3JkZXItcmlnaHQtd2lkdGgiKTowLGY9Yz9uKGUsImJvcmRlci10b3Atd2lkdGgiKStuKGUsImJvcmRlci1ib3R0b20td2lkdGgiKTowLG09Yz9uKGUsInBhZGRpbmctdG9wIik6MDtmb3IodGhpcy5jb250YWlubWVudCYmIXRoaXMuX2lzUGlubmVkJiYodGhpcy5fdXBkYXRlQm91bmRhcmllcygpLHMubWF4SGVpZ2h0PU1hdGgubWluKHRoaXMuY29udGFpbm1lbnQuaGVpZ2h0LShmK20pLGwpLHMubWF4V2lkdGg9TWF0aC5taW4odGhpcy5jb250YWlubWVudC53aWR0aC1oLHMubWF4V2lkdGgpKSx0PTA7dDxwLmxlbmd0aDt0KyspaT1zW3BbdF1dfHwiIixpIT0xLzAmJmUuY3NzKHBbdF0saSk7bCE9MS8wJiZ0aGlzLmVsZW1lbnQuY3NzKCJtYXhIZWlnaHQiLGwpLGUud2lkdGgocj9vKHIscy5taW5XaWR0aCxzLm1heFdpZHRoKToiIiksZS5oZWlnaHQoYT9vKGEscy5taW5IZWlnaHQscy5tYXhIZWlnaHQpOiIiKSxzLnZpc2libGV8fGUuaGlkZSgpLGQmJnB0W2RdJiZlLmFkZENsYXNzKHB0W2RdKX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53cmFwcGVyLGk9dGhpcy5vcHRpb25zLnBvc2l0aW9uO3RoaXMuX3VwZGF0ZUJvdW5kYXJpZXMoKSx0aGlzLmNvbnRhaW5tZW50JiYoaS50b3A9TWF0aC5taW4odGhpcy5taW5Ub3ArKGkudG9wfHwwKSx0aGlzLm1heFRvcCksaS5sZWZ0PU1hdGgubWluKHRoaXMubWluTGVmdCsoaS5sZWZ0fHwwKSx0aGlzLm1heExlZnQpKSwwPT09aS50b3AmJihpLnRvcD0iIitpLnRvcCksMD09PWkubGVmdCYmKGkubGVmdD0iIitpLmxlZnQpLHQuY3NzKHt0b3A6aS50b3B8fCIiLGxlZnQ6aS5sZWZ0fHwiIn0pfSxfdXBkYXRlQm91bmRhcmllczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGFpbm1lbnQ7cmV0dXJuIHQ/KHQud2lkdGg9dC5pbm5lcldpZHRoKCksdC5oZWlnaHQ9dC5pbm5lckhlaWdodCgpLHBhcnNlSW50KHQud2lkdGgsMTApPnRbMF0uY2xpZW50V2lkdGgmJih0LndpZHRoLT1kLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLHBhcnNlSW50KHQuaGVpZ2h0LDEwKT50WzBdLmNsaWVudEhlaWdodCYmKHQuaGVpZ2h0LT1kLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLHQucG9zaXRpb249cih0WzBdKSx0aGlzLl9pc1Bpbm5lZD8odGhpcy5taW5Ub3A9dGhpcy5taW5MZWZ0PS0oMS8wKSx0aGlzLm1heFRvcD10aGlzLm1heExlZnQ9MS8wKToodGhpcy5taW5Ub3A9dC5zY3JvbGxUb3AoKSx0aGlzLm1pbkxlZnQ9dC5zY3JvbGxMZWZ0KCksdGhpcy5tYXhMZWZ0PXRoaXMubWluTGVmdCt0LndpZHRoLWcodGhpcy53cmFwcGVyLCEwKSx0aGlzLm1heFRvcD10aGlzLm1pblRvcCt0LmhlaWdodC11KHRoaXMud3JhcHBlciwhMCkpLGkpOm51bGx9LF9hbmltYXRpb25PcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5hbmltYXRpb24sZT17b3Blbjp7ZWZmZWN0czp7fX0sY2xvc2U6e2hpZGU6ITAsZWZmZWN0czp7fX19O3JldHVybiBpJiZpW3RdfHxlW3RdfSxfcmVzaXplOmZ1bmN0aW9uKCl7ZC5yZXNpemUodGhpcy5lbGVtZW50LmNoaWxkcmVuKCkpfSxfcmVzaXphYmxlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vcHRpb25zLnJlc2l6YWJsZSxlPXRoaXMud3JhcHBlcjt0aGlzLnJlc2l6aW5nJiYoZS5vZmYoImRibGNsaWNrIit6KS5jaGlsZHJlbihPKS5yZW1vdmUoKSx0aGlzLnJlc2l6aW5nLmRlc3Ryb3koKSx0aGlzLnJlc2l6aW5nPW51bGwpLGkmJihlLm9uKCJkYmxjbGljayIreixMLHcoZnVuY3Rpb24oaSl7dChpLnRhcmdldCkuY2xvc2VzdCgiLmstd2luZG93LWFjdGlvbiIpLmxlbmd0aHx8dGhpcy50b2dnbGVNYXhpbWl6YXRpb24oKX0sdGhpcykpLHYoIm4gZSBzIHcgc2Ugc3cgbmUgbnciLnNwbGl0KCIgIiksZnVuY3Rpb24odCxpKXtlLmFwcGVuZChodC5yZXNpemVIYW5kbGUoaSkpfSksdGhpcy5yZXNpemluZz1uZXcgYSh0aGlzKSksZT1udWxsfSxfZHJhZ2dhYmxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmRyYWdnYWJsZTt0aGlzLmRyYWdnaW5nJiYodGhpcy5kcmFnZ2luZy5kZXN0cm95KCksdGhpcy5kcmFnZ2luZz1udWxsKSx0JiYodGhpcy5kcmFnZ2luZz1uZXcgbCh0aGlzLHQuZHJhZ0hhbmRsZXx8TCkpfSxfYWN0aW9uczpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3B0aW9ucyxlPWkuYWN0aW9ucyxuPWkucGlubmVkLG89dGhpcy53cmFwcGVyLmNoaWxkcmVuKEwpLHM9by5maW5kKCIuay13aW5kb3ctYWN0aW9ucyIpLHI9WyJtYXhpbWl6ZSIsIm1pbmltaXplIl07ZT10Lm1hcChlLGZ1bmN0aW9uKHQpe3JldHVybiB0PW4mJiJwaW4iPT09dC50b0xvd2VyQ2FzZSgpPyJ1bnBpbiI6dCx7bmFtZTpyLmluZGV4T2YodC50b0xvd2VyQ2FzZSgpKT4tMT8id2luZG93LSIrdDp0fX0pLHMuaHRtbChkLnJlbmRlcihodC5hY3Rpb24sZSkpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbz10aGlzLHM9by5vcHRpb25zLnNpemUscj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKTtfKHQucG9zaXRpb24sby5vcHRpb25zLnBvc2l0aW9uKSxfKHQucG9zaXRpb24sci5wb3NpdGlvbikscC5mbi5zZXRPcHRpb25zLmNhbGwobyx0KSxlPW8ub3B0aW9ucy5zY3JvbGxhYmxlIT09ITEsby5yZXN0b3JlKCksaSE9PXQudGl0bGUmJm8udGl0bGUodC50aXRsZSksby53cmFwcGVyLnJlbW92ZUNsYXNzKHB0W3NdKSxvLl9kaW1lbnNpb25zKCksby5fcG9zaXRpb24oKSxvLl9yZXNpemFibGUoKSxvLl9kcmFnZ2FibGUoKSxvLl9hY3Rpb25zKCksaSE9PXQubW9kYWwmJihuPW8ub3B0aW9ucy52aXNpYmxlIT09ITEsby5fZW5hYmxlRG9jdW1lbnRTY3JvbGxpbmcoKSxvLl9vdmVybGF5KHQubW9kYWwmJm4pKSxvLmVsZW1lbnQuY3NzKCQsZT8iIjoiaGlkZGVuIil9LGV2ZW50czpbaixBLE4sSyxxLFUsQixHLEosVixRLFgsWV0sb3B0aW9uczp7bmFtZToiV2luZG93IixhbmltYXRpb246e29wZW46e2VmZmVjdHM6e3pvb206e2RpcmVjdGlvbjoiaW4ifSxmYWRlOntkaXJlY3Rpb246ImluIn19LGR1cmF0aW9uOjM1MH0sY2xvc2U6e2VmZmVjdHM6e3pvb206e2RpcmVjdGlvbjoib3V0Iixwcm9wZXJ0aWVzOntzY2FsZTouN319LGZhZGU6e2RpcmVjdGlvbjoib3V0In19LGR1cmF0aW9uOjM1MCxoaWRlOiEwfX0sdGl0bGU6IiIsYWN0aW9uczpbIkNsb3NlIl0sYXV0b0ZvY3VzOiEwLG1vZGFsOiExLHNpemU6ImF1dG8iLHJlc2l6YWJsZTohMCxkcmFnZ2FibGU6ITAsbWluV2lkdGg6OTAsbWluSGVpZ2h0OjUwLG1heFdpZHRoOjEvMCxtYXhIZWlnaHQ6MS8wLHBpbm5lZDohMSxzY3JvbGxhYmxlOiEwLHBvc2l0aW9uOnt9LGNvbnRlbnQ6bnVsbCx2aXNpYmxlOm51bGwsaGVpZ2h0Om51bGwsd2lkdGg6bnVsbCxhcHBlbmRUbzoiYm9keSIsaXNNYXhpbWl6ZWQ6ITEsaXNNaW5pbWl6ZWQ6ITF9LF9jbG9zYWJsZTpmdW5jdGlvbigpe3JldHVybiB0LmluQXJyYXkoImNsb3NlIix0Lm1hcCh0aGlzLm9wdGlvbnMuYWN0aW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpfSkpPi0xfSxfa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaSxlLHMscixhLGwscD10aGlzLGM9cC5vcHRpb25zLGg9ZC5rZXlzLGY9dC5rZXlDb2RlLG09cC53cmFwcGVyLGc9MTAsdT1jLmlzTWF4aW1pemVkLHc9Yy5pc01pbmltaXplZDtmPT1oLkVTQyYmcC5fY2xvc2FibGUoKSYmKHQuc3RvcFByb3BhZ2F0aW9uKCkscC5fY2xvc2UoITEpKSx0LnRhcmdldCE9dC5jdXJyZW50VGFyZ2V0fHxwLl9jbG9zaW5nfHwodC5hbHRLZXkmJjgyPT1mJiZwLnJlZnJlc2goKSx0LmFsdEtleSYmODA9PWYmJihwLm9wdGlvbnMucGlubmVkP3AudW5waW4oKTpwLnBpbigpKSx0LmFsdEtleSYmZj09aC5VUD93PyhwLnJlc3RvcmUoKSxwLmVsZW1lbnQuZm9jdXMoKSk6dXx8KHAubWF4aW1pemUoKSxwLmVsZW1lbnQuZm9jdXMoKSk6dC5hbHRLZXkmJmY9PWguRE9XTiYmKHd8fHU/dSYmKHAucmVzdG9yZSgpLHAuZWxlbWVudC5mb2N1cygpKToocC5taW5pbWl6ZSgpLHAud3JhcHBlci5mb2N1cygpKSksaT1kLmdldE9mZnNldChtKSxwLmNvbnRhaW5tZW50JiYhcC5faXNQaW5uZWQmJihpPXAub3B0aW9ucy5wb3NpdGlvbiksIWMuZHJhZ2dhYmxlfHx0LmN0cmxLZXl8fHQuYWx0S2V5fHx1fHwocC5fdXBkYXRlQm91bmRhcmllcygpLGY9PWguVVA/KGkudG9wPW8oaS50b3AtZyxwLm1pblRvcCxwLm1heFRvcCksZT1tLmNzcygidG9wIixpLnRvcCkpOmY9PWguRE9XTj8oaS50b3A9byhpLnRvcCtnLHAubWluVG9wLHAubWF4VG9wKSxlPW0uY3NzKCJ0b3AiLGkudG9wKSk6Zj09aC5MRUZUPyhpLmxlZnQ9byhpLmxlZnQtZyxwLm1pbkxlZnQscC5tYXhMZWZ0KSxlPW0uY3NzKCJsZWZ0IixpLmxlZnQpKTpmPT1oLlJJR0hUJiYoaS5sZWZ0PW8oaS5sZWZ0K2cscC5taW5MZWZ0LHAubWF4TGVmdCksZT1tLmNzcygibGVmdCIsaS5sZWZ0KSkpLGMucmVzaXphYmxlJiZ0LmN0cmxLZXkmJiF1JiYhdyYmKGY9PWguVVA/KGU9ITAscj1tLmhlaWdodCgpLWcpOmY9PWguRE9XTiYmKGU9ITAscj1wLmNvbnRhaW5tZW50JiYhcC5faXNQaW5uZWQ/TWF0aC5taW4obS5oZWlnaHQoKStnLHAuY29udGFpbm1lbnQuaGVpZ2h0LWkudG9wLW4obSwicGFkZGluZy10b3AiKS1uKG0sImJvcmRlckJvdHRvbVdpZHRoIiktbihtLCJib3JkZXJUb3BXaWR0aCIpKTptLmhlaWdodCgpK2cpLGY9PWguTEVGVD8oZT0hMCxzPW0ud2lkdGgoKS1nKTpmPT1oLlJJR0hUJiYoZT0hMCxzPXAuY29udGFpbm1lbnQmJiFwLl9pc1Bpbm5lZD9NYXRoLm1pbihtLndpZHRoKCkrZyxwLmNvbnRhaW5tZW50LndpZHRoLWkubGVmdC1uKG0sImJvcmRlckxlZnRXaWR0aCIpLW4obSwiYm9yZGVyUmlnaHRXaWR0aCIpKTptLndpZHRoKCkrZyksZSYmKGE9byhzLGMubWluV2lkdGgsYy5tYXhXaWR0aCksbD1vKHIsYy5taW5IZWlnaHQsYy5tYXhIZWlnaHQpLGlzTmFOKGEpfHwobS53aWR0aChhKSxwLm9wdGlvbnMud2lkdGg9YSsicHgiKSxpc05hTihsKXx8KG0uaGVpZ2h0KGwpLHAub3B0aW9ucy5oZWlnaHQ9bCsicHgiKSxwLnJlc2l6ZSgpKSksZSYmdC5wcmV2ZW50RGVmYXVsdCgpKX0sX292ZXJsYXk6ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcy5jb250YWlubWVudD90aGlzLmNvbnRhaW5tZW50LmNoaWxkcmVuKFcpOnRoaXMuYXBwZW5kVG8uY2hpbGRyZW4oVyksbj10aGlzLndyYXBwZXI7cmV0dXJuIGUubGVuZ3RofHwoZT10KCI8ZGl2IGNsYXNzPSdrLW92ZXJsYXknIC8+IikpLGUuaW5zZXJ0QmVmb3JlKG5bMF0pLnRvZ2dsZShpKS5jc3ModHQscGFyc2VJbnQobi5jc3ModHQpLDEwKS0xKSx0aGlzLm9wdGlvbnMubW9kYWwucHJldmVudFNjcm9sbCYmIXRoaXMuY29udGFpbm1lbnQmJnRoaXMuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpLGV9LF9hY3Rpb25Gb3JJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPS9cYmstaSgtXHcrKStcYi8uZXhlYyh0WzBdLmNsYXNzTmFtZSlbMF07cmV0dXJueyJrLWktY2xvc2UiOiJfY2xvc2UiLCJrLWktd2luZG93LW1heGltaXplIjoibWF4aW1pemUiLCJrLWktd2luZG93LW1pbmltaXplIjoibWluaW1pemUiLCJrLWktd2luZG93LXJlc3RvcmUiOiJyZXN0b3JlIiwiay1pLXJlZnJlc2giOiJyZWZyZXNoIiwiay1pLXBpbiI6InBpbiIsImstaS11bnBpbiI6InVucGluIn1baV19LF93aW5kb3dBY3Rpb25IYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciBuLG87aWYoIXRoaXMuX2Nsb3NpbmcpcmV0dXJuIG49dChlLnRhcmdldCkuY2xvc2VzdCgiLmstd2luZG93LWFjdGlvbiIpLmZpbmQoIi5rLWljb24iKSxvPXRoaXMuX2FjdGlvbkZvckljb24obiksbz8oZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXNbb10oKSwhMSk6aX0sX21vZGFsczpmdW5jdGlvbigpe3ZhciBpPXRoaXMsZT10KFQpLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksbj1pLl9vYmplY3QoZSksbz1uJiZuLm9wdGlvbnM7cmV0dXJuIG8mJm8ubW9kYWwmJm8udmlzaWJsZSYmby5hcHBlbmRUbz09PWkub3B0aW9ucy5hcHBlbmRUbyYmZS5pcyhFKX0pLnNvcnQoZnVuY3Rpb24oaSxlKXtyZXR1cm4rdChpKS5jc3MoInpJbmRleCIpLSt0KGUpLmNzcygiekluZGV4Iil9KTtyZXR1cm4gaT1udWxsLGV9LF9vYmplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGlsZHJlbihNKSxuPWQud2lkZ2V0SW5zdGFuY2UoZSk7cmV0dXJuIG4/bjppfSxjZW50ZXI6ZnVuY3Rpb24oKXt2YXIgaSxlLG89dGhpcyxzPW8ub3B0aW9ucy5wb3NpdGlvbixyPW8ud3JhcHBlcixhPXQod2luZG93KSxsPTAsZD0wO3JldHVybiBvLm9wdGlvbnMuaXNNYXhpbWl6ZWQ/bzooby5vcHRpb25zLnBpbm5lZCYmIW8uX2lzUGlubmVkJiZvLnBpbigpLG8ub3B0aW9ucy5waW5uZWR8fChsPWEuc2Nyb2xsVG9wKCksZD1hLnNjcm9sbExlZnQoKSksdGhpcy5jb250YWlubWVudCYmIW8ub3B0aW9ucy5waW5uZWQ/KGk9dGhpcy5taW5Ub3ArKHRoaXMubWF4VG9wLXRoaXMubWluVG9wKS8yLGU9dGhpcy5taW5MZWZ0Kyh0aGlzLm1heExlZnQtdGhpcy5taW5MZWZ0KS8yKTooby5fc2Nyb2xsSXNBcHBlbmRlZD0hMCxlPWQrTWF0aC5tYXgoMCwoYS53aWR0aCgpLXIud2lkdGgoKSkvMiksaT1sK01hdGgubWF4KDAsKGEuaGVpZ2h0KCktci5oZWlnaHQoKS1uKHIsInBhZGRpbmdUb3AiKSkvMikpLHIuY3NzKHtsZWZ0OmUsdG9wOml9KSxzLnRvcD1pLHMubGVmdD1lLG8pfSx0aXRsZTpmdW5jdGlvbihlKXt2YXIgbixvLHMscixhPXRoaXMsbD0hMCxwPWEud3JhcHBlcixjPXAuY2hpbGRyZW4oTCksaD1jLmNoaWxkcmVuKHkpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0LmlzUGxhaW5PYmplY3QoZSk/KG49aSE9PWUudGV4dD9lLnRleHQ6IiIsbD1lLmVuY29kZWQhPT0hMSk6bj1lLG49PT0hMT8ocC5hZGRDbGFzcygiay13aW5kb3ctdGl0bGVsZXNzIikscC5jc3MoInBhZGRpbmctdG9wIiwwKSxjLnJlbW92ZSgpKTooYy5sZW5ndGg/aC5odG1sKGw/ZC5odG1sRW5jb2RlKG4pOm4pOihwLnByZXBlbmQoaHQudGl0bGViYXIoe3RpdGxlOmw/ZC5odG1sRW5jb2RlKG4pOm59KSksYS5fYWN0aW9ucygpLGM9cC5jaGlsZHJlbihMKSkscj1wLmNzcygidmlzaWJpbGl0eSIpLHM9cC5jc3MoImRpc3BsYXkiKSxyPT09Rj8ocC5jc3Moe2Rpc3BsYXk6IiJ9KSxvPXBhcnNlSW50KHUoYyksMTApLHAuY3NzKHtkaXNwbGF5OnN9KSk6KHAuY3NzKHt2aXNpYmlsaXR5OkYsZGlzcGxheToiIn0pLG89cGFyc2VJbnQodShjKSwxMCkscC5jc3Moe3Zpc2liaWxpdHk6cixkaXNwbGF5OnN9KSkscC5jc3MoInBhZGRpbmctdG9wIixvKSxjLmNzcygibWFyZ2luLXRvcCIsLW8pKSxhLm9wdGlvbnMudGl0bGU9bixhKTpoLmh0bWwoKX0sY29udGVudDpmdW5jdGlvbih0LGkpe3ZhciBuPXRoaXMud3JhcHBlci5jaGlsZHJlbihNKSxvPW4uY2hpbGRyZW4oIi5rbS1zY3JvbGwtY29udGFpbmVyIik7cmV0dXJuIG49b1swXT9vOm4sZSh0KT8odGhpcy5hbmd1bGFyKCJjbGVhbnVwIixmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpuLmNoaWxkcmVuKCl9fSksZC5kZXN0cm95KHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKSxuLmVtcHR5KCkuaHRtbCh0KSx0aGlzLmFuZ3VsYXIoImNvbXBpbGUiLGZ1bmN0aW9uKCl7dmFyIHQsZT1bXTtmb3IodD1uLmxlbmd0aDstLXQ+PTA7KWUucHVzaCh7ZGF0YUl0ZW06aX0pO3JldHVybntlbGVtZW50czpuLmNoaWxkcmVuKCksZGF0YTplfX0pLHRoaXMpOm4uaHRtbCgpfSxvcGVuOmZ1bmN0aW9uKCl7dmFyIGksZSxuLG89dGhpcyxzPW8ud3JhcHBlcixyPW8ub3B0aW9ucyxhPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoIm9wZW4iKSxsPXMuY2hpbGRyZW4oTSkscD10aGlzLmNvbnRhaW5tZW50JiYhby5faXNQaW5uZWQsYz1wP3RoaXMuY29udGFpbm1lbnQ6dChkb2N1bWVudCk7cmV0dXJuIG8udHJpZ2dlcihqKXx8KG8uX2Nsb3NpbmcmJnMua2VuZG9TdG9wKCEwLCEwKSxvLl9jbG9zaW5nPSExLG8udG9Gcm9udCgpLHIuYXV0b0ZvY3VzJiZvLmVsZW1lbnQuZm9jdXMoKSxyLnZpc2libGU9ITAsci5tb2RhbCYmKGU9ISFvLl9tb2RhbHMoKS5sZW5ndGgsaT1vLl9vdmVybGF5KGUpLGkua2VuZG9TdG9wKCEwLCEwKSxhLmR1cmF0aW9uJiZkLmVmZmVjdHMuRmFkZSYmIWU/KG49ZC5meChpKS5mYWRlSW4oKSxuLmR1cmF0aW9uKGEuZHVyYXRpb258fDApLG4uZW5kVmFsdWUoLjUpLG4ucGxheSgpKTppLmNzcygib3BhY2l0eSIsLjUpLGkuc2hvdygpLHQod2luZG93KS5vbigiZm9jdXMiK2ssZnVuY3Rpb24oKXtsLmRhdGEoImlzRnJvbnQiKSYmIXQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuY2xvc2VzdChsKS5sZW5ndGgmJm8uZWxlbWVudC5mb2N1cygpfSkpLHMuaXMoRSl8fChsLmNzcygkLEYpLG8ud3JhcHBlci5maW5kKHN0KS5hZGRDbGFzcygiay1iYXJlIikscy5zaG93KCkua2VuZG9TdG9wKCkua2VuZG9BbmltYXRlKHtlZmZlY3RzOmEuZWZmZWN0cyxkdXJhdGlvbjphLmR1cmF0aW9uLGNvbXBsZXRlOncodGhpcy5fYWN0aXZhdGUsdGhpcyl9KSkpLHIuaXNNYXhpbWl6ZWQmJihvLl9jb250YWluZXJTY3JvbGxUb3A9Yy5zY3JvbGxUb3AoKSxvLl9jb250YWluZXJTY3JvbGxMZWZ0PWMuc2Nyb2xsTGVmdCgpLG8uX3N0b3BEb2N1bWVudFNjcm9sbGluZygpKSx0aGlzLm9wdGlvbnMucGlubmVkJiYhdGhpcy5faXNQaW5uZWQmJnRoaXMucGluKCksb30sX2FjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnNjcm9sbGFibGUhPT0hMTt0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLmVsZW1lbnQuZm9jdXMoKSx0aGlzLmVsZW1lbnQuY3NzKCQsdD8iIjoiaGlkZGVuIiksZC5yZXNpemUodGhpcy5lbGVtZW50LmNoaWxkcmVuKCkpLHRoaXMudHJpZ2dlcihBKX0sX3JlbW92ZU92ZXJsYXk6ZnVuY3Rpb24oZSl7dmFyIG4sbz10aGlzLl9tb2RhbHMoKSxzPXRoaXMub3B0aW9ucyxyPXMubW9kYWwmJiFvLmxlbmd0aCxhPXMubW9kYWw/dGhpcy5fb3ZlcmxheSghMCk6dChpKSxsPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoImNsb3NlIik7cj8oIWUmJmwuZHVyYXRpb24mJmQuZWZmZWN0cy5GYWRlPyhuPWQuZngoYSkuZmFkZU91dCgpLG4uZHVyYXRpb24obC5kdXJhdGlvbnx8MCksbi5zdGFydFZhbHVlKC41KSxuLnBsYXkoKSk6dGhpcy5fb3ZlcmxheSghMSkucmVtb3ZlKCkscy5tb2RhbC5wcmV2ZW50U2Nyb2xsJiZ0aGlzLl9lbmFibGVEb2N1bWVudFNjcm9sbGluZygpKTpvLmxlbmd0aCYmKHRoaXMuX29iamVjdChvLmxhc3QoKSkuX292ZXJsYXkoITApLHMubW9kYWwucHJldmVudFNjcm9sbCYmdGhpcy5fc3RvcERvY3VtZW50U2Nyb2xsaW5nKCkpfSxfY2xvc2U6ZnVuY3Rpb24oaSl7dmFyIGUsbj10aGlzLG89bi53cmFwcGVyLHM9bi5vcHRpb25zLHI9dGhpcy5fYW5pbWF0aW9uT3B0aW9ucygib3BlbiIpLGE9dGhpcy5fYW5pbWF0aW9uT3B0aW9ucygiY2xvc2UiKSxsPXRoaXMuY29udGFpbm1lbnQmJiFuLl9pc1Bpbm5lZCxkPWw/dGhpcy5jb250YWlubWVudDp0KGRvY3VtZW50KTtuLl9jbG9zaW5nfHwoZT1uLnRyaWdnZXIoSyx7dXNlclRyaWdnZXJlZDohaX0pLG4uX2Nsb3Npbmc9IWUsby5pcyhFKSYmIWUmJihzLnZpc2libGU9ITEsdChUKS5lYWNoKGZ1bmN0aW9uKGksZSl7dmFyIG49dChlKS5jaGlsZHJlbihNKTtlIT1vJiZuLmZpbmQoIj4gLiIrUykubGVuZ3RoPjAmJm4uY2hpbGRyZW4oVykucmVtb3ZlKCl9KSx0aGlzLl9yZW1vdmVPdmVybGF5KCksbi53cmFwcGVyLmZpbmQoc3QpLnJlbW92ZUNsYXNzKCJrLWJhcmUiKSxvLmtlbmRvU3RvcCgpLmtlbmRvQW5pbWF0ZSh7ZWZmZWN0czphLmVmZmVjdHN8fHIuZWZmZWN0cyxyZXZlcnNlOmEucmV2ZXJzZT09PSEwLGR1cmF0aW9uOmEuZHVyYXRpb24sY29tcGxldGU6dyh0aGlzLl9kZWFjdGl2YXRlLHRoaXMpfSksdCh3aW5kb3cpLm9mZihrKSksbi5vcHRpb25zLmlzTWF4aW1pemVkJiYobi5fZW5hYmxlRG9jdW1lbnRTY3JvbGxpbmcoKSxuLl9jb250YWluZXJTY3JvbGxUb3AmJm4uX2NvbnRhaW5lclNjcm9sbFRvcD4wJiZkLnNjcm9sbFRvcChuLl9jb250YWluZXJTY3JvbGxUb3ApLG4uX2NvbnRhaW5lclNjcm9sbExlZnQmJm4uX2NvbnRhaW5lclNjcm9sbExlZnQ+MCYmZC5zY3JvbGxMZWZ0KG4uX2NvbnRhaW5lclNjcm9sbExlZnQpKSl9LF9kZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzO2kud3JhcHBlci5oaWRlKCkuY3NzKCJvcGFjaXR5IiwiIiksaS50cmlnZ2VyKE4pLGkub3B0aW9ucy5tb2RhbCYmKHQ9aS5fb2JqZWN0KGkuX21vZGFscygpLmxhc3QoKSksdCYmdC50b0Zyb250KCkpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9zZSghMCksdGhpc30sX2FjdGlvbmFibGU6ZnVuY3Rpb24oaSl7cmV0dXJuIHQoaSkuaXMoc3QrIiwiK3N0KyIgLmstaWNvbiw6aW5wdXQsYSIpfSxfc2hvdWxkRm9jdXM6ZnVuY3Rpb24oaSl7dmFyIGU9bSgpLG49dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiYhdChlKS5pcyhuKSYmIXRoaXMuX2FjdGlvbmFibGUoaSkmJighbi5maW5kKGUpLmxlbmd0aHx8IW4uZmluZChpKS5sZW5ndGgpfSx0b0Zyb250OmZ1bmN0aW9uKGkpe3ZhciBlLG4sbz10aGlzLHM9by53cmFwcGVyLHI9c1swXSxhPW8uY29udGFpbm1lbnQmJiFvLl9pc1Bpbm5lZCxsPStzLmNzcyh0dCksZD1sLHA9aSYmaS50YXJnZXR8fG51bGw7cmV0dXJuIHQoVCkuZWFjaChmdW5jdGlvbihpLGUpe3ZhciBuPXQoZSksbz1uLmNzcyh0dCkscz1uLmNoaWxkcmVuKE0pO2lzTmFOKG8pfHwobD1NYXRoLm1heCgrbyxsKSkscy5kYXRhKCJpc0Zyb250IixlPT1yKSxlIT1yJiZzLmZpbmQoIj4gLiIrUykubGVuZ3RoPjAmJnMuYXBwZW5kKGh0Lm92ZXJsYXkpfSksKCFzWzBdLnN0eWxlLnpJbmRleHx8ZDxsKSYmcy5jc3ModHQsbCsyKSxvLmVsZW1lbnQuZmluZCgiPiAuay1vdmVybGF5IikucmVtb3ZlKCksby5fc2hvdWxkRm9jdXMocCkmJihvLmlzTWluaW1pemVkKCk/by53cmFwcGVyLmZvY3VzKCk6dChwKS5pcyhXKT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5lbGVtZW50LmZvY3VzKCl9KTpvLmVsZW1lbnQuZm9jdXMoKSxlPWE/by5jb250YWlubWVudC5zY3JvbGxUb3AoKTp0KHdpbmRvdykuc2Nyb2xsVG9wKCksbj1wYXJzZUludChzLnBvc2l0aW9uKCkudG9wLDEwKSwhby5vcHRpb25zLnBpbm5lZCYmbj4wJiZuPGUmJihlPjA/dCh3aW5kb3cpLnNjcm9sbFRvcChuKTpzLmNzcygidG9wIixlKSkpLHM9bnVsbCxvfSx0b2dnbGVNYXhpbWl6YXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2luZz90aGlzOnRoaXNbdGhpcy5vcHRpb25zLmlzTWF4aW1pemVkPyJyZXN0b3JlIjoibWF4aW1pemUiXSgpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7dmFyIGksZT10aGlzLG49ZS5vcHRpb25zLHM9bi5taW5IZWlnaHQscj1lLnJlc3RvcmVPcHRpb25zLGE9ZS5jb250YWlubWVudCYmIWUuX2lzUGlubmVkP2UuY29udGFpbm1lbnQ6dChkb2N1bWVudCk7cmV0dXJuIG4uaXNNYXhpbWl6ZWR8fG4uaXNNaW5pbWl6ZWQ/KHMmJnMhPTEvMCYmZS53cmFwcGVyLmNzcygibWluLWhlaWdodCIscyksciYmIW4uaXNNYXhpbWl6ZWQmJihyLmhlaWdodD1vKHIuaGVpZ2h0LGUub3B0aW9ucy5taW5IZWlnaHQsZS5vcHRpb25zLm1heEhlaWdodCksaT1uLnBvc2l0aW9uLnRvcCtwYXJzZUludChyLmhlaWdodCwxMCk+ZS5tYXhUb3AsaSYmKG4ucG9zaXRpb24udG9wPW8obi5wb3NpdGlvbi50b3AsZS5taW5Ub3AsZS5tYXhUb3AtcGFyc2VJbnQoci5oZWlnaHQsMTApKSxfKHIse2xlZnQ6bi5wb3NpdGlvbi5sZWZ0LHRvcDpuLnBvc2l0aW9uLnRvcH0pKSksZS53cmFwcGVyLmNzcyh7cG9zaXRpb246bi5waW5uZWQ/ImZpeGVkIjoiYWJzb2x1dGUiLGxlZnQ6ci5sZWZ0LHRvcDpyLnRvcCx3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH0pLnJlbW92ZUNsYXNzKEMpLmZpbmQoIi5rLXdpbmRvdy1jb250ZW50LC5rLXJlc2l6ZS1oYW5kbGUiKS5zaG93KCkuZW5kKCkuZmluZCgiLmstd2luZG93LXRpdGxlYmFyIC5rLWktd2luZG93LXJlc3RvcmUiKS5wYXJlbnQoKS5yZW1vdmUoKS5lbmQoKS5lbmQoKS5maW5kKGl0KS5wYXJlbnQoKS5zaG93KCkuZW5kKCkuZW5kKCkuZmluZChvdCkucGFyZW50KCkuc2hvdygpLG4uaXNNYXhpbWl6ZWQ/ZS53cmFwcGVyLmZpbmQoIi5rLWktd2luZG93LW1heGltaXplIikucGFyZW50KCkuZm9jdXMoKTpuLmlzTWluaW1pemVkJiZlLndyYXBwZXIuZmluZCgiLmstaS13aW5kb3ctbWluaW1pemUiKS5wYXJlbnQoKS5mb2N1cygpLGUub3B0aW9ucy53aWR0aD1yLndpZHRoLGUub3B0aW9ucy5oZWlnaHQ9ci5oZWlnaHQsZS5vcHRpb25zLm1vZGFsLnByZXZlbnRTY3JvbGx8fGUuX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nKCksZS5fY29udGFpbmVyU2Nyb2xsVG9wJiZlLl9jb250YWluZXJTY3JvbGxUb3A+MCYmYS5zY3JvbGxUb3AoZS5fY29udGFpbmVyU2Nyb2xsVG9wKSxlLl9jb250YWluZXJTY3JvbGxMZWZ0JiZlLl9jb250YWluZXJTY3JvbGxMZWZ0PjAmJmEuc2Nyb2xsTGVmdChlLl9jb250YWluZXJTY3JvbGxMZWZ0KSxuLmlzTWF4aW1pemVkPW4uaXNNaW5pbWl6ZWQ9ITEsZS53cmFwcGVyLnJlbW92ZUF0dHIoInRhYmluZGV4IiksZS53cmFwcGVyLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWQtYnkiKSxlLnJlc2l6ZSgpLGUpOmV9LF9zaXppbmdBY3Rpb246ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzLG49ZS53cmFwcGVyLG89blswXS5zdHlsZSxzPWUub3B0aW9ucztyZXR1cm4gcy5pc01heGltaXplZHx8cy5pc01pbmltaXplZD9lOihlLnJlc3RvcmVPcHRpb25zPXt3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH0sbi5jaGlsZHJlbihPKS5oaWRlKCkuZW5kKCkuY2hpbGRyZW4oTCkuZmluZChpdCkucGFyZW50KCkuaGlkZSgpLmVxKDApLmJlZm9yZShodC5hY3Rpb24oe25hbWU6IndpbmRvdy1yZXN0b3JlIn0pKSxpLmNhbGwoZSksZS53cmFwcGVyLmNoaWxkcmVuKEwpLmZpbmQob3QpLnBhcmVudCgpLnRvZ2dsZSgibWF4aW1pemUiIT09dCksZS50cmlnZ2VyKHQpLG4uZmluZCgiLmstaS13aW5kb3ctcmVzdG9yZSIpLnBhcmVudCgpLmZvY3VzKCksZSl9LG1heGltaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemluZ0FjdGlvbigibWF4aW1pemUiLGZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWkud3JhcHBlcixuPXRoaXMuY29udGFpbm1lbnQmJiFpLl9pc1Bpbm5lZCxvPWUucG9zaXRpb24oKSxzPXQoZG9jdW1lbnQpO18oaS5yZXN0b3JlT3B0aW9ucyx7bGVmdDpvLmxlZnQrKG4/dGhpcy5jb250YWlubWVudC5zY3JvbGxMZWZ0KCk6MCksdG9wOm8udG9wKyhuP3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsVG9wKCk6MCl9KSx0aGlzLl9jb250YWluZXJTY3JvbGxUb3A9bj90aGlzLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpOnMuc2Nyb2xsVG9wKCksdGhpcy5fY29udGFpbmVyU2Nyb2xsTGVmdD1uP3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpOnMuc2Nyb2xsTGVmdCgpLGkuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpLGUuY3NzKHt0b3A6bj90aGlzLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpOjAsbGVmdDpuP3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpOjAscG9zaXRpb246bj8iYWJzb2x1dGUiOiJmaXhlZCJ9KS5hZGRDbGFzcyhDKSxpLm9wdGlvbnMuaXNNYXhpbWl6ZWQ9ITAsaS5fb25Eb2N1bWVudFJlc2l6ZSgpfSksdGhpc30sX3N0b3BEb2N1bWVudFNjcm9sbGluZzpmdW5jdGlvbigpe3ZhciBlLG4sbz10aGlzLHM9by5jb250YWlubWVudDtyZXR1cm4gcyYmIW8uX2lzUGlubmVkPyhvLl9zdG9yZU92ZXJmbG93UnVsZShzKSxzLmNzcygkLEYpLG8ud3JhcHBlci5jc3Moe21heFdpZHRoOnMuaW5uZXJXaWR0aCgpLG1heEhlaWdodDpzLmlubmVySGVpZ2h0KCl9KSxpKTooZT10KCJib2R5Iiksby5fc3RvcmVPdmVyZmxvd1J1bGUoZSksZS5jc3MoJCxGKSxuPXQoImh0bWwiKSxvLl9zdG9yZU92ZXJmbG93UnVsZShuKSxuLmNzcygkLEYpLGkpfSxfZW5hYmxlRG9jdW1lbnRTY3JvbGxpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49ZS5jb250YWlubWVudDtyZXR1cm4gbiYmIWUuX2lzUGlubmVkPyhlLl9yZXN0b3JlT3ZlcmZsb3dSdWxlKG4pLGUud3JhcHBlci5jc3Moe21heFdpZHRoOm4ud2lkdGgsbWF4SGVpZ2h0Om4uaGVpZ2h0fSksaSk6KGUuX3Jlc3RvcmVPdmVyZmxvd1J1bGUodChkb2N1bWVudC5ib2R5KSksZS5fcmVzdG9yZU92ZXJmbG93UnVsZSh0KCJodG1sIikpLGkpfSxfc3RvcmVPdmVyZmxvd1J1bGU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2lzT3ZlcmZsb3dTdG9yZWQodCkpe3ZhciBpPXQuZ2V0KDApLnN0eWxlLm92ZXJmbG93OyJzdHJpbmciPT10eXBlb2YgaSYmdC5kYXRhKFosaSl9fSxfaXNPdmVyZmxvd1N0b3JlZDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQuZGF0YShaKX0sX3Jlc3RvcmVPdmVyZmxvd1J1bGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhKFopO251bGwhPT1lJiZlIT09aT8odC5jc3MoJCxlKSx0LnJlbW92ZURhdGEoWikpOnQuY3NzKCQsIiIpfSxpc01heGltaXplZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuaXNNYXhpbWl6ZWR9LG1pbmltaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemluZ0FjdGlvbigibWluaW1pemUiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LndyYXBwZXIuY3NzKHtoZWlnaHQ6IiIsbWluSGVpZ2h0OiIifSksdC5lbGVtZW50LmhpZGUoKSx0Lm9wdGlvbnMuaXNNaW5pbWl6ZWQ9ITB9KSx0aGlzLndyYXBwZXIuYXR0cigidGFiaW5kZXgiLDApLHRoaXMud3JhcHBlci5hdHRyKCJhcmlhLWxhYmVsbGVkLWJ5Iix0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1sYWJlbGxlZC1ieSIpKSx0aGlzLl91cGRhdGVCb3VuZGFyaWVzKCksdGhpc30saXNNaW5pbWl6ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzTWluaW1pemVkfSxwaW46ZnVuY3Rpb24oKXt2YXIgaT10aGlzLGU9dCh3aW5kb3cpLG89aS53cmFwcGVyLHM9aS5vcHRpb25zLGE9cy5wb3NpdGlvbixsPXRoaXMuY29udGFpbm1lbnQ/cihvWzBdKS50b3Arbih0aGlzLmNvbnRhaW5tZW50LCJib3JkZXJUb3BXaWR0aCIpOm4obywidG9wIiksZD10aGlzLmNvbnRhaW5tZW50P3Iob1swXSkubGVmdCtuKHRoaXMuY29udGFpbm1lbnQsImJvcmRlckxlZnRXaWR0aCIpOm4obywibGVmdCIpO2kub3B0aW9ucy5pc01heGltaXplZHx8KGEudG9wPWwsYS5sZWZ0PWQsIWkuX3Njcm9sbElzQXBwZW5kZWR8fHRoaXMuY29udGFpbm1lbnQmJiJmaXhlZCI9PT10aGlzLmNvbnRhaW5tZW50LmNzcygicG9zaXRpb24iKXx8KGEudG9wLT1lLnNjcm9sbFRvcCgpLGEubGVmdC09ZS5zY3JvbGxMZWZ0KCksaS5fc2Nyb2xsSXNBcHBlbmRlZD0hMSksby5jc3MoXyhhLHtwb3NpdGlvbjoiZml4ZWQifSkpLG8uY2hpbGRyZW4oTCkuZmluZChldCkuYWRkQ2xhc3MoImstaS11bnBpbiIpLnJlbW92ZUNsYXNzKCJrLWktcGluIiksaS5faXNQaW5uZWQ9ITAsaS5vcHRpb25zLnBpbm5lZD0hMCx0aGlzLmNvbnRhaW5tZW50JiYocy5tYXhXaWR0aD1zLm1heEhlaWdodD0xLzAsby5jc3Moe21heFdpZHRoOiIiLG1heEhlaWdodDoiIn0pKSl9LHVucGluOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPXQod2luZG93KSxzPWkud3JhcHBlcixyPWkub3B0aW9ucyxhPWkub3B0aW9ucy5wb3NpdGlvbixsPWkuY29udGFpbm1lbnQsZD1wYXJzZUludChzLmNzcygidG9wIiksMTApK2Uuc2Nyb2xsVG9wKCkscD1wYXJzZUludChzLmNzcygibGVmdCIpLDEwKStlLnNjcm9sbExlZnQoKTtpLm9wdGlvbnMuaXNNYXhpbWl6ZWR8fChpLl9pc1Bpbm5lZD0hMSxpLl9zY3JvbGxJc0FwcGVuZGVkPSEwLGkub3B0aW9ucy5waW5uZWQ9ITEsbCYmKGkuX3VwZGF0ZUJvdW5kYXJpZXMoKSxyLm1heFdpZHRoPU1hdGgubWluKGwud2lkdGgsci5tYXhXaWR0aCksci5tYXhIZWlnaHQ9TWF0aC5taW4obC5oZWlnaHQtbihzLCJwYWRkaW5nLXRvcCIpLHIubWF4SGVpZ2h0KSxzLmNzcyh7bWF4V2lkdGg6ci5tYXhXaWR0aCxtYXhIZWlnaHQ6ci5tYXhIZWlnaHR9KSxkPWQ8bC5wb3NpdGlvbi50b3A/aS5taW5Ub3A6ZD5sLnBvc2l0aW9uLnRvcCtsLmhlaWdodD9pLm1heFRvcDpkK2wuc2Nyb2xsVG9wKCktKGwucG9zaXRpb24udG9wK24obCwiYm9yZGVyLXRvcC13aWR0aCIpKSxwPXA8bC5wb3NpdGlvbi5sZWZ0P2kubWluTGVmdDpwPmwucG9zaXRpb24ubGVmdCtsLndpZHRoP2kubWF4TGVmdDpwK2wuc2Nyb2xsTGVmdCgpLShsLnBvc2l0aW9uLmxlZnQrbihsLCJib3JkZXItbGVmdC13aWR0aCIpKSksYS50b3A9byhkLGkubWluVG9wLGkubWF4VG9wKSxhLmxlZnQ9byhwLGkubWluTGVmdCxpLm1heExlZnQpLHMuY3NzKF8oYSx7cG9zaXRpb246IiJ9KSkscy5jaGlsZHJlbihMKS5maW5kKG50KS5hZGRDbGFzcygiay1pLXBpbiIpLnJlbW92ZUNsYXNzKCJrLWktdW5waW4iKSl9LF9vbkRvY3VtZW50UmVzaXplOmZ1bmN0aW9uKCl7dmFyIGksZSxvLHMscixhPXRoaXMsbD1hLndyYXBwZXIscD10KHdpbmRvdyksYz1kLnN1cHBvcnQuem9vbUxldmVsKCksaD0iY29udGVudC1ib3giPT1sLmNzcygiYm94LXNpemluZyIpO2Eub3B0aW9ucy5pc01heGltaXplZCYmKG89aD9uKGwsImJvcmRlci1sZWZ0LXdpZHRoIikrbihsLCJib3JkZXItcmlnaHQtd2lkdGgiKTowLHM9aD9uKGwsImJvcmRlci10b3Atd2lkdGgiKStuKGwsImJvcmRlci1ib3R0b20td2lkdGgiKTowLHI9aD9uKGwsInBhZGRpbmctdG9wIik6MCxhLmNvbnRhaW5tZW50JiYhYS5faXNQaW5uZWQ/KGk9YS5jb250YWlubWVudC5pbm5lcldpZHRoKCktbyxlPWEuY29udGFpbm1lbnQuaW5uZXJIZWlnaHQoKS0ocytyKSk6KGk9cC53aWR0aCgpL2MtbyxlPXAuaGVpZ2h0KCkvYy0ocytyKSksbC5jc3Moe3dpZHRoOmksaGVpZ2h0OmV9KSxhLm9wdGlvbnMud2lkdGg9aSxhLm9wdGlvbnMuaGVpZ2h0PWUsYS5yZXNpemUoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oaSl7dmFyIG4sbyxzLHI9dGhpcyxhPXIub3B0aW9ucyxsPXQoci5lbGVtZW50KTtyZXR1cm4gZihpKXx8KGk9e3VybDppfSksaT1fKHt9LGEuY29udGVudCxpKSxvPWUoYS5pZnJhbWUpP2EuaWZyYW1lOmkuaWZyYW1lLHM9aS51cmwscz8oZShvKXx8KG89IWR0KHMpKSxvPyhuPWwuZmluZCgiLiIrUylbMF0sbj9uLnNyYz1zfHxuLnNyYzpsLmh0bWwoaHQuY29udGVudEZyYW1lKF8oe30sYSx7Y29udGVudDppfSkpKSxsLmZpbmQoIi4iK1MpLnVuYmluZCgibG9hZCIreikub24oImxvYWQiK3osdyh0aGlzLl90cmlnZ2VyUmVmcmVzaCx0aGlzKSkpOnIuX2FqYXhSZXF1ZXN0KGkpKTooaS50ZW1wbGF0ZSYmci5jb250ZW50KHgoaS50ZW1wbGF0ZSkoe30pKSxyLnRyaWdnZXIoQikpLGwudG9nZ2xlQ2xhc3MoImstd2luZG93LWlmcmFtZWNvbnRlbnQiLCEhbykscn0sX3RyaWdnZXJSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKEIpfSxfYWpheENvbXBsZXRlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRpbmdJY29uVGltZW91dCksdGhpcy53cmFwcGVyLmZpbmQocnQpLnJlbW92ZUNsYXNzKEgpfSxfYWpheEVycm9yOmZ1bmN0aW9uKHQsaSl7dGhpcy50cmlnZ2VyKFkse3N0YXR1czppLHhocjp0fSl9LF9hamF4U3VjY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIGU9aTt0JiYoZT14KHQpKGl8fHt9KSksdGhpcy5jb250ZW50KGUsaSksdGhpcy5lbGVtZW50LnByb3AoInNjcm9sbFRvcCIsMCksdGhpcy50cmlnZ2VyKEIpfX0sX3Nob3dMb2FkaW5nOmZ1bmN0aW9uKCl7dGhpcy53cmFwcGVyLmZpbmQocnQpLmFkZENsYXNzKEgpfSxfYWpheFJlcXVlc3Q6ZnVuY3Rpb24oaSl7dGhpcy5fbG9hZGluZ0ljb25UaW1lb3V0PXNldFRpbWVvdXQodyh0aGlzLl9zaG93TG9hZGluZyx0aGlzKSwxMDApLHQuYWpheChfKHt0eXBlOiJHRVQiLGRhdGFUeXBlOiJodG1sIixjYWNoZTohMSxlcnJvcjp3KHRoaXMuX2FqYXhFcnJvcix0aGlzKSxjb21wbGV0ZTp3KHRoaXMuX2FqYXhDb21wbGV0ZSx0aGlzKSxzdWNjZXNzOncodGhpcy5fYWpheFN1Y2Nlc3MoaS50ZW1wbGF0ZSksdGhpcyl9LGkpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6aW5nJiZ0aGlzLnJlc2l6aW5nLmRlc3Ryb3koKSx0aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLmRlc3Ryb3koKSx0aGlzLndyYXBwZXIub2ZmKHopLmNoaWxkcmVuKE0pLm9mZih6KS5lbmQoKS5maW5kKCIuay1yZXNpemUtaGFuZGxlLC5rLXdpbmRvdy10aXRsZWJhciIpLm9mZih6KSx0KHdpbmRvdykub2ZmKCJyZXNpemUiK3ordGhpcy5fbWFya2VyKSx0KHdpbmRvdykub2ZmKGspLHQod2luZG93KS5vZmYoeiksY2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRpbmdJY29uVGltZW91dCkscC5mbi5kZXN0cm95LmNhbGwodGhpcyksdGhpcy51bmJpbmQoaSksZC5kZXN0cm95KHRoaXMud3JhcHBlciksdGhpcy5fcmVtb3ZlT3ZlcmxheSghMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy53cmFwcGVyLmVtcHR5KCkucmVtb3ZlKCksdGhpcy53cmFwcGVyPXRoaXMuYXBwZW5kVG89dGhpcy5lbGVtZW50PXQoKX0sX2NyZWF0ZVdpbmRvdzpmdW5jdGlvbigpe3ZhciBpLGUsbj10aGlzLmVsZW1lbnQsbz10aGlzLm9wdGlvbnMscz1kLnN1cHBvcnQuaXNSdGwobik7by5zY3JvbGxhYmxlPT09ITEmJm4uY3NzKCJvdmVyZmxvdyIsImhpZGRlbiIpLGU9dChodC53cmFwcGVyKG8pKSxpPW4uZmluZCgiaWZyYW1lOm5vdCguay1jb250ZW50KSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QXR0cmlidXRlKCJzcmMiKTtyZXR1cm4gdGhpcy5zcmM9IiIsdH0pLGUudG9nZ2xlQ2xhc3MoImstcnRsIixzKS5hcHBlbmQobikuZmluZCgiaWZyYW1lOm5vdCguay1jb250ZW50KSIpLmVhY2goZnVuY3Rpb24odCl7dGhpcy5zcmM9aVt0XX0pLHRoaXMuY29udGFpbm1lbnQ/dGhpcy5jb250YWlubWVudC5wcmVwZW5kKGUpOnRoaXMuYXBwZW5kVG8mJmUuYXBwZW5kVG8odGhpcy5hcHBlbmRUbyksZS5maW5kKCIuay13aW5kb3ctdGl0bGUiKS5jc3Mocz8ibGVmdCI6InJpZ2h0IixnKGUuZmluZCgiLmstd2luZG93LWFjdGlvbnMiKSkrMTApLG4uY3NzKCJ2aXNpYmlsaXR5IiwiIikuc2hvdygpLG4uZmluZCgiW2RhdGEtcm9sZT1lZGl0b3JdIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcykuZGF0YSgia2VuZG9FZGl0b3IiKTtpJiZpLnJlZnJlc2goKX0pLGU9bj1udWxsfX0pLGh0PXt3cmFwcGVyOngoIjxkaXYgY2xhc3M9J2std2lkZ2V0IGstd2luZG93JyAvPiIpLGFjdGlvbjp4KCI8YSByb2xlPSdidXR0b24nIGhyZWY9J1xcIycgY2xhc3M9J2stYnV0dG9uIGstYmFyZSBrLWJ1dHRvbi1pY29uIGstd2luZG93LWFjdGlvbicgYXJpYS1sYWJlbD0nIz0gbmFtZSAjJz48c3BhbiBjbGFzcz0nay1pY29uIGstaS0jPSBuYW1lLnRvTG93ZXJDYXNlKCkgIyc+PC9zcGFuPjwvYT4iKSx0aXRsZWJhcjp4KCI8ZGl2IGNsYXNzPSdrLXdpbmRvdy10aXRsZWJhciBrLWhlYWRlcic+PHNwYW4gY2xhc3M9J2std2luZG93LXRpdGxlJz4jPSB0aXRsZSAjPC9zcGFuPjxkaXYgY2xhc3M9J2std2luZG93LWFjdGlvbnMnIC8+PC9kaXY+Iiksb3ZlcmxheToiPGRpdiBjbGFzcz0nay1vdmVybGF5JyAvPiIsY29udGVudEZyYW1lOngoIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHRpdGxlPScjPSB0aXRsZSAjJyBjbGFzcz0nIitTKyInIHNyYz0nIz0gY29udGVudC51cmwgIyc+VGhpcyBwYWdlIHJlcXVpcmVzIGZyYW1lcyBpbiBvcmRlciB0byBzaG93IGNvbnRlbnQ8L2lmcmFtZT4iKSxyZXNpemVIYW5kbGU6eCgiPGRpdiBjbGFzcz0nay1yZXNpemUtaGFuZGxlIGstcmVzaXplLSM9IGRhdGEgIyc+PC9kaXY+Iil9O2EucHJvdG90eXBlPXthZGRPdmVybGF5OmZ1bmN0aW9uKCl7dGhpcy5vd25lci53cmFwcGVyLmFwcGVuZChodC5vdmVybGF5KX0scmVtb3ZlT3ZlcmxheTpmdW5jdGlvbigpe3RoaXMub3duZXIud3JhcHBlci5maW5kKFcpLnJlbW92ZSgpfSxkcmFnc3RhcnQ6ZnVuY3Rpb24oaSl7dmFyIGUsbixvLHMsYSxsLHAsYz10aGlzLGg9Yy5vd25lcixmPWgud3JhcHBlcjtjLl9wcmV2ZW50RHJhZ2dpbmc9aC50cmlnZ2VyKEcpLGMuX3ByZXZlbnREcmFnZ2luZ3x8KGMuZWxlbWVudFBhZGRpbmc9cGFyc2VJbnQoZi5jc3MoInBhZGRpbmctdG9wIiksMTApLGMuaW5pdGlhbFBvc2l0aW9uPWQuZ2V0T2Zmc2V0KGYsInBvc2l0aW9uIiksYy5yZXNpemVEaXJlY3Rpb249aS5jdXJyZW50VGFyZ2V0LnByb3AoImNsYXNzTmFtZSIpLnJlcGxhY2UoImstcmVzaXplLWhhbmRsZSBrLXJlc2l6ZS0iLCIiKSxjLmluaXRpYWxTaXplPXt3aWR0aDpmLndpZHRoKCksaGVpZ2h0OmYuaGVpZ2h0KCl9LGguX3VwZGF0ZUJvdW5kYXJpZXMoKSxjLmNvbnRhaW5lck9mZnNldD1oLmNvbnRhaW5tZW50P2guY29udGFpbm1lbnQucG9zaXRpb246ZC5nZXRPZmZzZXQoaC5hcHBlbmRUbywicG9zaXRpb24iKSxlPWYub2Zmc2V0UGFyZW50KCksZS5pcygiaHRtbCIpP2MuY29udGFpbmVyT2Zmc2V0LnRvcD1jLmNvbnRhaW5lck9mZnNldC5sZWZ0PTA6KG49ZS5jc3MoIm1hcmdpbi10b3AiKSxvPWUuY3NzKCJtYXJnaW4tbGVmdCIpLHM9IWx0LnRlc3Qobil8fCFsdC50ZXN0KG8pLHMmJihhPXIoZlswXSksbD1hLmxlZnQtYy5jb250YWluZXJPZmZzZXQubGVmdC1jLmluaXRpYWxQb3NpdGlvbi5sZWZ0LHA9YS50b3AtYy5jb250YWluZXJPZmZzZXQudG9wLWMuaW5pdGlhbFBvc2l0aW9uLnRvcCxjLl9yZWxhdGl2ZUVsTWFyZ2luTGVmdD1sPjE/bDowLGMuX3JlbGF0aXZlRWxNYXJnaW5Ub3A9cD4xP3A6MCxjLmluaXRpYWxQb3NpdGlvbi5sZWZ0Kz1jLl9yZWxhdGl2ZUVsTWFyZ2luTGVmdCxjLmluaXRpYWxQb3NpdGlvbi50b3ArPWMuX3JlbGF0aXZlRWxNYXJnaW5Ub3ApKSxmLmNoaWxkcmVuKE8pLm5vdChpLmN1cnJlbnRUYXJnZXQpLmhpZGUoKSx0KGIpLmNzcyhSLGkuY3VycmVudFRhcmdldC5jc3MoUikpKX0sZHJhZzpmdW5jdGlvbihpKXt2YXIgZSxuLHMscixhLGwscCxjLGgsZixtLGcsdSx3LF8sdix4LGIseixrO3RoaXMuX3ByZXZlbnREcmFnZ2luZ3x8KGU9dGhpcyxuPWUub3duZXIscz1uLndyYXBwZXIscj1uLm9wdGlvbnMsYT1yLnBvc2l0aW9uLGw9ZS5yZXNpemVEaXJlY3Rpb24scD1lLmNvbnRhaW5lck9mZnNldCxjPWUuaW5pdGlhbFBvc2l0aW9uLGg9ZS5pbml0aWFsU2l6ZSxmPW4uY29udGFpbm1lbnQmJiFuLl9pc1Bpbm5lZCxtPWQuc3VwcG9ydC5pc1J0bChuLmNvbnRhaW5tZW50KSxnPWYmJm0mJm4uY29udGFpbm1lbnQuaW5uZXJXaWR0aCgpPm4uY29udGFpbm1lbnQud2lkdGg/ZC5zdXBwb3J0LnNjcm9sbGJhcigpOjAsdT1mP3t0b3A6bi5jb250YWlubWVudC5zY3JvbGxUb3AoKSxsZWZ0Om4uY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpfTp7dG9wOjAsbGVmdDowfSxiPU1hdGgubWF4KGkueC5sb2NhdGlvbiwwKSx6PU1hdGgubWF4KGkueS5sb2NhdGlvbiwwKSxsLmluZGV4T2YoImUiKT49MD8odz1uLmNvbnRhaW5tZW50JiZiLWgud2lkdGg+PW4ubWF4TGVmdC11LmxlZnQrcC5sZWZ0K2c/bi5tYXhMZWZ0K2ctYy5sZWZ0K2gud2lkdGgtdS5sZWZ0OmItYy5sZWZ0LXAubGVmdCxzLndpZHRoKG8odyxyLm1pbldpZHRoLHIubWF4V2lkdGgpKSk6bC5pbmRleE9mKCJ3Iik+PTAmJih4PWMubGVmdCtoLndpZHRoK3AubGVmdCx3PW8oeC1iLHIubWluV2lkdGgsci5tYXhXaWR0aCksYS5sZWZ0PXgtdy1wLmxlZnQtZy0oZS5fcmVsYXRpdmVFbE1hcmdpbkxlZnR8fDApK3UubGVmdCxuLmNvbnRhaW5tZW50JiZhLmxlZnQ8PW4ubWluTGVmdCYmKGEubGVmdD1uLm1pbkxlZnQsdz1vKHgtZy1hLmxlZnQtcC5sZWZ0K3UubGVmdCxyLm1pbldpZHRoLHIubWF4V2lkdGgpKSxzLmNzcyh7bGVmdDphLmxlZnQsd2lkdGg6d30pKSxrPXosbi5vcHRpb25zLnBpbm5lZCYmKGstPXQod2luZG93KS5zY3JvbGxUb3AoKSksbC5pbmRleE9mKCJzIik+PTA/KF89ay1jLnRvcC1lLmVsZW1lbnRQYWRkaW5nLXAudG9wLGstaC5oZWlnaHQtZS5lbGVtZW50UGFkZGluZz49bi5tYXhUb3ArcC50b3AtdS50b3AmJihfPW4ubWF4VG9wLWMudG9wK2guaGVpZ2h0LXUudG9wKSxzLmhlaWdodChvKF8sci5taW5IZWlnaHQsci5tYXhIZWlnaHQpKSk6bC5pbmRleE9mKCJuIik+PTAmJih2PWMudG9wK2guaGVpZ2h0K3AudG9wLF89byh2LWssci5taW5IZWlnaHQsci5tYXhIZWlnaHQpLGEudG9wPXYtXy1wLnRvcC0oZS5fcmVsYXRpdmVFbE1hcmdpblRvcHx8MCkrdS50b3AsYS50b3A8PW4ubWluVG9wJiZuLmNvbnRhaW5tZW50JiYoYS50b3A9bi5taW5Ub3AsXz1vKHYtYS50b3AtcC50b3ArdS50b3Asci5taW5IZWlnaHQsci5tYXhIZWlnaHQpKSxzLmNzcyh7dG9wOmEudG9wLGhlaWdodDpffSkpLHcmJihuLm9wdGlvbnMud2lkdGg9dysicHgiKSxfJiYobi5vcHRpb25zLmhlaWdodD1fKyJweCIpLG4ucmVzaXplKCkpfSxkcmFnZW5kOmZ1bmN0aW9uKGkpe2lmKCF0aGlzLl9wcmV2ZW50RHJhZ2dpbmcpe3ZhciBlPXRoaXMsbj1lLm93bmVyLG89bi53cmFwcGVyO3JldHVybiBvLmNoaWxkcmVuKE8pLm5vdChpLmN1cnJlbnRUYXJnZXQpLnNob3coKSx0KGIpLmNzcyhSLCIiKSxuLnRvdWNoU2Nyb2xsZXImJm4udG91Y2hTY3JvbGxlci5yZXNldCgpLDI3PT1pLmtleUNvZGUmJm8uY3NzKGUuaW5pdGlhbFBvc2l0aW9uKS5jc3MoZS5pbml0aWFsU2l6ZSksbi50cmlnZ2VyKFYpLCExfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2RyYWdnYWJsZSYmdGhpcy5fZHJhZ2dhYmxlLmRlc3Ryb3koKSx0aGlzLl9kcmFnZ2FibGU9dGhpcy5vd25lcj1udWxsfX0sbC5wcm90b3R5cGU9e2RyYWdzdGFydDpmdW5jdGlvbihpKXt2YXIgZT10aGlzLm93bmVyLG49ZS5vcHRpb25zLmRyYWdnYWJsZSxvPWUuZWxlbWVudCxzPW8uZmluZCgiLmstd2luZG93LWFjdGlvbnMiKSxyPWQuZ2V0T2Zmc2V0KGUuYXBwZW5kVG8pO3RoaXMuX3ByZXZlbnREcmFnZ2luZz1lLnRyaWdnZXIoUSl8fCFuLHRoaXMuX3ByZXZlbnREcmFnZ2luZ3x8ZS5pc01heGltaXplZCgpfHwoZS5pbml0aWFsV2luZG93UG9zaXRpb249ZC5nZXRPZmZzZXQoZS53cmFwcGVyLCJwb3NpdGlvbiIpLGUuaW5pdGlhbFBvaW50ZXJQb3NpdGlvbj17bGVmdDplLm9wdGlvbnMucG9zaXRpb24ubGVmdCx0b3A6ZS5vcHRpb25zLnBvc2l0aW9uLnRvcH0sZS5zdGFydFBvc2l0aW9uPXtsZWZ0OmkueC5jbGllbnQtZS5pbml0aWFsV2luZG93UG9zaXRpb24ubGVmdCx0b3A6aS55LmNsaWVudC1lLmluaXRpYWxXaW5kb3dQb3NpdGlvbi50b3B9LGUuX3VwZGF0ZUJvdW5kYXJpZXMoKSxlLmNvbnRhaW5tZW50fHwoZS5taW5MZWZ0PXMubGVuZ3RoPjA/ZyhzKStwYXJzZUludChzLmNzcygicmlnaHQiKSwxMCktZyhvKToyMC1nKG8pLGUubWluTGVmdC09ci5sZWZ0LGUubWluVG9wPS1yLnRvcCksZS53cmFwcGVyLmFwcGVuZChodC5vdmVybGF5KS5jaGlsZHJlbihPKS5oaWRlKCksdChiKS5jc3MoUixpLmN1cnJlbnRUYXJnZXQuY3NzKFIpKSl9LGRyYWc6ZnVuY3Rpb24oaSl7dmFyIGUsbixzPXRoaXMub3duZXIscj1zLm9wdGlvbnMucG9zaXRpb24sYT1zLm9wdGlvbnMuZHJhZ2dhYmxlLmF4aXM7dGhpcy5fcHJldmVudERyYWdnaW5nfHxzLmlzTWF4aW1pemVkKCl8fChhJiYieCIhPT1hLnRvTG93ZXJDYXNlKCl8fChlPWkueC5jbGllbnQtcy5zdGFydFBvc2l0aW9uLmxlZnQscy5jb250YWlubWVudCYmIXMuX2lzUGlubmVkJiYoZSs9cy5jb250YWlubWVudC5zY3JvbGxMZWZ0KCkpLHIubGVmdD1vKGUscy5taW5MZWZ0LHMubWF4TGVmdCkpLGEmJiJ5IiE9PWEudG9Mb3dlckNhc2UoKXx8KG49aS55LmNsaWVudC1zLnN0YXJ0UG9zaXRpb24udG9wLHMuY29udGFpbm1lbnQmJiFzLl9pc1Bpbm5lZCYmKG4rPXMuY29udGFpbm1lbnQuc2Nyb2xsVG9wKCkpLHIudG9wPW8obixzLm1pblRvcCxzLm1heFRvcCkpLGQuc3VwcG9ydC50cmFuc2Zvcm1zP3Qocy53cmFwcGVyKS5jc3MoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiKyhyLmxlZnQtcy5pbml0aWFsUG9pbnRlclBvc2l0aW9uLmxlZnQpKyJweCwgIisoci50b3Atcy5pbml0aWFsUG9pbnRlclBvc2l0aW9uLnRvcCkrInB4KSIpOnQocy53cmFwcGVyKS5jc3MocikpfSxfZmluaXNoRHJhZzpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3duZXI7aS53cmFwcGVyLmNoaWxkcmVuKE8pLnRvZ2dsZSghaS5vcHRpb25zLmlzTWluaW1pemVkKS5lbmQoKS5maW5kKFcpLnJlbW92ZSgpLHQoYikuY3NzKFIsIiIpfSxkcmFnY2FuY2VsOmZ1bmN0aW9uKHQpe3RoaXMuX3ByZXZlbnREcmFnZ2luZ3x8KHRoaXMuX2ZpbmlzaERyYWcoKSx0LmN1cnJlbnRUYXJnZXQuY2xvc2VzdChUKS5jc3ModGhpcy5vd25lci5pbml0aWFsV2luZG93UG9zaXRpb24pKX0sZHJhZ2VuZDpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3duZXI7aWYoIXRoaXMuX3ByZXZlbnREcmFnZ2luZyYmIWkuaXNNYXhpbWl6ZWQoKSlyZXR1cm4gdChpLndyYXBwZXIpLmNzcyhpLm9wdGlvbnMucG9zaXRpb24pLmNzcygidHJhbnNmb3JtIiwiIiksdGhpcy5fZmluaXNoRHJhZygpLGkudHJpZ2dlcihYKSwhMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2RyYWdnYWJsZSYmdGhpcy5fZHJhZ2dhYmxlLmRlc3Ryb3koKSx0aGlzLl9kcmFnZ2FibGU9dGhpcy5vd25lcj1udWxsfX0sZC51aS5wbHVnaW4oY3QpfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKHQsaSxlKXsoZXx8aSkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8ud2luZG93Lm1pbi5qcy5tYXANCg0KZnVuY3Rpb24gY3JlYXRlQ29tYmluYXRpb25zQmVoYXZpb3Iobil7cmV0dXJue3NldHRpbmdzOiQuZXh0ZW5kKHt9LHtjb250ZW50RWw6ITEsZmV0Y2hVcmw6ITF9LG4pLHBhcmFtczp7YXZhaWxhYmxlQ29tYmluYXRpb25zOltdLGF2YWlsYWJsZUF0dHJpYnV0ZUlkczpbXX0saW5pdDpmdW5jdGlvbigpe3ZhciBpPSQodGhpcy5zZXR0aW5ncy5jb250ZW50RWwpLG49JCgiW2RhdGEtYXR0cl0iLGkpLHQ7aWYobiYmbi5sZW5ndGg+MCl7dD10aGlzOyQuZWFjaChuLGZ1bmN0aW9uKG4saSl7dmFyIHI9cGFyc2VJbnQoJChpKS5kYXRhKCJhdHRyIikpO3QucGFyYW1zLmF2YWlsYWJsZUF0dHJpYnV0ZUlkcy5wdXNoKHIpfSk7bi5vbigiY2hhbmdlIixmdW5jdGlvbigpe3QucHJvY2Vzc0NvbWJpbmF0aW9ucygpfSl9dGhpcy5sb2FkQ29tYmluYXRpb25zKCl9LGxvYWRDb21iaW5hdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzOyQuYWpheCh7Y2FjaGU6ITEsdXJsOm4uc2V0dGluZ3MuZmV0Y2hVcmwsdHlwZToiR0VUIixzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBpLHI7bi5wYXJhbXMuYXZhaWxhYmxlQ29tYmluYXRpb25zPXQ7aT1uLmdldFNlbGVjdGVkQXR0cmlidXRlcygpO2kmJmkubGVuZ3RoPjAmJihyPSQuZ3JlcChpLGZ1bmN0aW9uKG4pe3JldHVybiBuLnZhbHVlcy5sZW5ndGg+MH0pLCQuZWFjaChyLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bi5nZXRDb21iaW5hdGlvbnNCeUF0dHJpYnV0ZUlkKGkuaWQsW2ldKTtyJiZyLmxlbmd0aD4wP24uaXNBdmFpbGFibGVDb21iaW5hdGlvbihyLFtpXSl8fG4udW5zZWxlY3RWYWx1ZXMoaS52YWx1ZXMpOm4udW5zZWxlY3RWYWx1ZXMoaS52YWx1ZXMpfSkpO24ucHJvY2Vzc0NvbWJpbmF0aW9ucygpfSxlcnJvcjpmdW5jdGlvbigpe24ucGFyYW1zLmF2YWlsYWJsZUNvbWJpbmF0aW9ucz1bXX19KX0scHJvY2Vzc0NvbWJpbmF0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyYW1zLmF2YWlsYWJsZUF0dHJpYnV0ZUlkcyxuLGkscix1O2lmKHQubGVuZ3RoIT09MCl7aWYobj10aGlzLGk9dGhpcy5wYXJhbXMuYXZhaWxhYmxlQ29tYmluYXRpb25zLGkubGVuZ3RoPT09MCl7cj10aGlzLmdldEF0dHJpYnV0ZVZhbHVlSWRzKCk7JC5lYWNoKHIsZnVuY3Rpb24odCxpKXtuLnRvZ2dsZUF0dHJpYnV0ZVZhbHVlKGksITEpfSk7cmV0dXJufXU9bi5nZXRTZWxlY3RlZEF0dHJpYnV0ZXMoKTskLmVhY2godCxmdW5jdGlvbih0LGkpe3ZhciByPW4uZ2V0QXR0cmlidXRlVmFsdWVJZHMoaSk7JC5lYWNoKHIsZnVuY3Rpb24ocixmKXt2YXIgbz0kLmdyZXAodSxmdW5jdGlvbihuLHIpe3JldHVybiB0PnImJm4uaWQhPT1pJiZuLnZhbHVlcy5sZW5ndGg+MH0pLGU7by5wdXNoKHtpZDppLHZhbHVlczpbZl19KTtlPW4uZ2V0Q29tYmluYXRpb25zQnlBdHRyaWJ1dGVJZChpLG8pO2UmJmUubGVuZ3RoPjA/bi50b2dnbGVBdHRyaWJ1dGVWYWx1ZShmLG4uaXNBdmFpbGFibGVDb21iaW5hdGlvbihlLG8pKTpuLnRvZ2dsZUF0dHJpYnV0ZVZhbHVlKGYsITEpfSl9KTskKHRoaXMpLnRyaWdnZXIoe3R5cGU6InByb2Nlc3NlZCJ9KX19LGdldENvbWJpbmF0aW9uc0J5QXR0cmlidXRlSWQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLnBhcmFtcy5hdmFpbGFibGVDb21iaW5hdGlvbnM7aWYoaS5sZW5ndGghPT0wKXJldHVybiAkLmdyZXAoaSxmdW5jdGlvbihpKXt2YXIgcj0kLmdyZXAoaS5BdHRyaWJ1dGVzLGZ1bmN0aW9uKHQpe3JldHVybiB0LklkPT09bn0pWzBdO3JldHVybiB0JiZ0Lmxlbmd0aD4wJiYkLmVhY2godCxmdW5jdGlvbihuLHQpe3I9ciYmJC5ncmVwKGkuQXR0cmlidXRlcyxmdW5jdGlvbihuKXt2YXIgaT1uLklkPT09dC5pZDtyZXR1cm4gdC52YWx1ZXMubGVuZ3RoPjAmJiQuZWFjaCh0LnZhbHVlcyxmdW5jdGlvbih0LHIpe2k9aSYmJC5pbkFycmF5KHIsbi5WYWx1ZUlkcykhPT0tMX0pLGl9KVswXX0pLHJ9KX0saXNBdmFpbGFibGVDb21iaW5hdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPSQuZ3JlcChuLGZ1bmN0aW9uKG4pe3ZhciBpPSQubWFwKG4uQXR0cmlidXRlcyxmdW5jdGlvbihuKXtyZXR1cm4gbi5WYWx1ZUlkc30pLHI9JC5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuICQuZ3JlcChuLnZhbHVlcyxmdW5jdGlvbihuKXtyZXR1cm4gJC5pbkFycmF5KG4saSkhPT0tMX0pfSk7cmV0dXJuIG4uSW5TdG9jayYmci5sZW5ndGg9PT10Lmxlbmd0aH0pO3JldHVybiBpLmxlbmd0aD4wfSxnZXRBdHRyaWJ1dGVWYWx1ZUlkczpmdW5jdGlvbihuKXt2YXIgdD0kKHRoaXMuc2V0dGluZ3MuY29udGVudEVsKSxyPW4/JCgiW2RhdGEtYXR0cj0iK24rIl0iLHQpOnQsaT0kKCJbZGF0YS1hdHRyLXZhbHVlXSIscik7aWYoaSlyZXR1cm4gJC5tYXAoaSxmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VJbnQoJChuKS5kYXRhKCJhdHRyLXZhbHVlIikpfSl9LHRvZ2dsZUF0dHJpYnV0ZVZhbHVlOmZ1bmN0aW9uKG4sdCl7dmFyIHI9JCh0aGlzLnNldHRpbmdzLmNvbnRlbnRFbCksaT0kKCJbZGF0YS1hdHRyLXZhbHVlPSIrbisiXSIscik7dD9pLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpOmkuYWRkQ2xhc3MoImRpc2FibGVkIil9LHVuc2VsZWN0VmFsdWVzOmZ1bmN0aW9uKG4pe3ZhciB0PSQodGhpcy5zZXR0aW5ncy5jb250ZW50RWwpOyQuZWFjaChuLGZ1bmN0aW9uKG4saSl7dmFyIHI9JCgiW2RhdGEtYXR0ci12YWx1ZT0iK2krIl0iLHQpO3IucHJvcCgic2VsZWN0ZWQiLCExKTskKCJpbnB1dCIscikucHJvcCgiY2hlY2tlZCIsITEpO3IucmVtb3ZlQ2xhc3MoInNlbGVjdGVkLXZhbHVlIil9KX0sZ2V0U2VsZWN0ZWRBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wYXJhbXMuYXZhaWxhYmxlQXR0cmlidXRlSWRzLHQ7aWYobi5sZW5ndGg+MClyZXR1cm4gdD0kKHRoaXMuc2V0dGluZ3MuY29udGVudEVsKSwkLm1hcChuLGZ1bmN0aW9uKG4pe3ZhciByPVtdLHU9JCgiW2RhdGEtYXR0cj0iK24rIl0iLHQpLGk9JCgiW2RhdGEtYXR0ci12YWx1ZV0iLHUpO3JldHVybiBpJiZpLmxlbmd0aD4wJiYkLmVhY2goaSxmdW5jdGlvbihuLHQpe3ZhciBpPSQodCksdTsoaS5pcygiOnNlbGVjdGVkIil8fCQoImlucHV0IixpKS5pcygiOmNoZWNrZWQiKSkmJih1PXBhcnNlSW50KGkuZGF0YSgiYXR0ci12YWx1ZSIpKSxyLnB1c2godSkpfSkse2lkOm4sdmFsdWVzOnJ9fSl9fX0NCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbihlLGRlZmluZSl7ZGVmaW5lKCJrZW5kby5kYXRhLm1pbiIsWyJrZW5kby5jb3JlLm1pbiIsImtlbmRvLmRhdGEub2RhdGEubWluIiwia2VuZG8uZGF0YS54bWwubWluIl0sZSl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQscixpKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGEscz17fTtmb3IoYSBpbiBuKXNbYV09blthXTtzLmZpZWxkPWk/cisiLiIrbi5maWVsZDpyLHQ9PUllJiZlLl9ub3RpZnlDaGFuZ2UmJmUuX25vdGlmeUNoYW5nZShzKSxlLnRyaWdnZXIodCxzKX19ZnVuY3Rpb24gaSh0LHIpe2lmKHQ9PT1yKXJldHVybiEwO3ZhciBuLGE9ZS50eXBlKHQpLHM9ZS50eXBlKHIpO2lmKGEhPT1zKXJldHVybiExO2lmKCJkYXRlIj09PWEpcmV0dXJuIHQuZ2V0VGltZSgpPT09ci5nZXRUaW1lKCk7aWYoIm9iamVjdCIhPT1hJiYiYXJyYXkiIT09YSlyZXR1cm4hMTtmb3IobiBpbiB0KWlmKCFpKHRbbl0scltuXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbihlLHQpe3ZhciByLGk7Zm9yKGkgaW4gZSl7aWYocj1lW2ldLHZlKHIpJiZyLmZpZWxkJiZyLmZpZWxkPT09dClyZXR1cm4gcjtpZihyPT09dClyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBhKGUpe3RoaXMuZGF0YT1lfHxbXX1mdW5jdGlvbiBzKGUscil7aWYoZSl7dmFyIGk9dHlwZW9mIGU9PT1EZT97ZmllbGQ6ZSxkaXI6cn06ZSxuPXllKGkpP2k6aSE9PXQ/W2ldOltdO3JldHVybiBTZShuLGZ1bmN0aW9uKGUpe3JldHVybiEhZS5kaXJ9KX19ZnVuY3Rpb24gbyhlLHIpe3ZhciBpLG4sYSxzPXt9O2lmKGUpZm9yKGk9dHlwZW9mIGU9PT1EZT97ZmllbGQ6ZSxkaXI6cn06ZSxuPXllKGkpP2k6aSE9PXQ/W2ldOltdLGE9MDthPG4ubGVuZ3RoO2ErKylzW25bYV0uZmllbGRdPXtkaXI6blthXS5kaXIsaW5kZXg6YSsxfTtyZXR1cm4gc31mdW5jdGlvbiB1KGUpe3ZhciB0LHIsaSxuLGE9ZS5maWx0ZXJzO2lmKGEpZm9yKHQ9MCxyPWEubGVuZ3RoO3Q8cjt0KyspaT1hW3RdLG49aS5vcGVyYXRvcixuJiZ0eXBlb2Ygbj09PURlJiYoaS5vcGVyYXRvcj1pZVtuLnRvTG93ZXJDYXNlKCldfHxuKSx1KGkpfWZ1bmN0aW9uIGwoZSl7aWYoZSYmIW1lKGUpKXJldHVybiF5ZShlKSYmZS5maWx0ZXJzfHwoZT17bG9naWM6ImFuZCIsZmlsdGVyczp5ZShlKT9lOltlXX0pLHUoZSksZX1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIWUubG9naWMmJiF0LmxvZ2ljJiYoZS5maWVsZD09PXQuZmllbGQmJmUudmFsdWU9PT10LnZhbHVlJiZlLm9wZXJhdG9yPT09dC5vcGVyYXRvcil9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZT1lfHx7fSxtZShlKT97bG9naWM6ImFuZCIsZmlsdGVyczpbXX06bChlKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIHQubG9naWN8fGUuZmllbGQ+dC5maWVsZD8xOmUuZmllbGQ8dC5maWVsZD8tMTowfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcixpLG4sYSxzO2lmKGU9ZChlKSx0PWQodCksZS5sb2dpYyE9PXQubG9naWMpcmV0dXJuITE7aWYobj0oZS5maWx0ZXJzfHxbXSkuc2xpY2UoKSxhPSh0LmZpbHRlcnN8fFtdKS5zbGljZSgpLG4ubGVuZ3RoIT09YS5sZW5ndGgpcmV0dXJuITE7Zm9yKG49bi5zb3J0KGYpLGE9YS5zb3J0KGYpLHM9MDtzPG4ubGVuZ3RoO3MrKylpZihyPW5bc10saT1hW3NdLHIubG9naWMmJmkubG9naWMpe2lmKCFjKHIsaSkpcmV0dXJuITF9ZWxzZSBpZighaChyLGkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIHllKGUpP2U6W2VdfWZ1bmN0aW9uIHAoZSxyLGksbil7dmFyIGE9dHlwZW9mIGU9PT1EZT97ZmllbGQ6ZSxkaXI6cixjb21wYXJlOmksc2tpcEl0ZW1Tb3J0aW5nOm59OmUscz15ZShhKT9hOmEhPT10P1thXTpbXTtyZXR1cm4gVyhzLGZ1bmN0aW9uKGUpe3JldHVybntmaWVsZDplLmZpZWxkLGRpcjplLmRpcnx8ImFzYyIsYWdncmVnYXRlczplLmFnZ3JlZ2F0ZXMsY29tcGFyZTplLmNvbXBhcmUsc2tpcEl0ZW1Tb3J0aW5nOmUuc2tpcEl0ZW1Tb3J0aW5nfX0pfWZ1bmN0aW9uIF8oZSx0LHIpe3ZhciBpLG49cChlLHQscik7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylkZWxldGUgbltpXS5jb21wYXJlO3JldHVybiBufWZ1bmN0aW9uIHYoZSl7dmFyIHQscj15ZShlKT9lOltlXTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKWlmKHJbdF0mJnhlKHJbdF0uY29tcGFyZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbShlLHQpe3JldHVybiBlJiZlLmdldFRpbWUmJnQmJnQuZ2V0VGltZT9lLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpOmU9PT10fWZ1bmN0aW9uIHkoZSx0LHIsaSxuLGEpe3ZhciBzLG8sdSxsLGg7Zm9yKHQ9dHx8W10sbD10Lmxlbmd0aCxzPTA7czxsO3MrKylvPXRbc10sdT1vLmFnZ3JlZ2F0ZSxoPW8uZmllbGQsZVtoXT1lW2hdfHx7fSxhW2hdPWFbaF18fHt9LGFbaF1bdV09YVtoXVt1XXx8e30sZVtoXVt1XT1uZVt1LnRvTG93ZXJDYXNlKCldKGVbaF1bdV0scixGZS5hY2Nlc3NvcihoKSxpLG4sYVtoXVt1XSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJiFpc05hTihlKX1mdW5jdGlvbiBiKGUpe3JldHVybiBlJiZlLmdldFRpbWV9ZnVuY3Rpb24gdyhlKXt2YXIgdCxyPWUubGVuZ3RoLGk9QXJyYXkocik7Zm9yKHQ9MDt0PHI7dCsrKWlbdF09ZVt0XS50b0pTT04oKTtyZXR1cm4gaX1mdW5jdGlvbiBrKGUsdCxyLGksbil7dmFyIGEscyxvLHUsbCxoPXt9O2Zvcih1PTAsbD1lLmxlbmd0aDt1PGw7dSsrKXthPWVbdV07Zm9yKHMgaW4gdClvPW5bc10sbyYmbyE9PXMmJihoW29dfHwoaFtvXT1GZS5zZXR0ZXIobykpLGhbb10oYSx0W3NdKGEpKSxkZWxldGUgYVtzXSl9fWZ1bmN0aW9uIEYoZSx0LHIsaSxuKXt2YXIgYSxzLG8sdSxsO2Zvcih1PTAsbD1lLmxlbmd0aDt1PGw7dSsrKXthPWVbdV07Zm9yKHMgaW4gdClhW3NdPXIuX3BhcnNlKHMsdFtzXShhKSksbz1uW3NdLG8mJm8hPT1zJiZkZWxldGUgYVtvXX19ZnVuY3Rpb24geChlLHQscixpLG4pe3ZhciBhLHMsbyx1O2ZvcihzPTAsdT1lLmxlbmd0aDtzPHU7cysrKWE9ZVtzXSxvPWlbYS5maWVsZF0sbyYmbyE9YS5maWVsZCYmKGEuZmllbGQ9byksYS52YWx1ZT1yLl9wYXJzZShhLmZpZWxkLGEudmFsdWUpLGEuaGFzU3ViZ3JvdXBzP3goYS5pdGVtcyx0LHIsaSxuKTpGKGEuaXRlbXMsdCxyLGksbil9ZnVuY3Rpb24gUihlLHQscixpLG4sYSl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBzPWUocykscSh0LHIsaSxuLGEpKHMpfX1mdW5jdGlvbiBxKGUsdCxyLGksbil7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhJiYhbWUocikmJigiW29iamVjdCBBcnJheV0iPT09ZXQuY2FsbChhKXx8YSBpbnN0YW5jZW9mIGl0fHwoYT1bYV0pLHQoYSxyLG5ldyBlLGksbikpLGF8fFtdfX1mdW5jdGlvbiBEKGUsdCl7dmFyIHIsaSxuO2lmKHQuaXRlbXMmJnQuaXRlbXMubGVuZ3RoKWZvcihuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspcj1lLml0ZW1zW25dLGk9dC5pdGVtc1tuXSxyJiZpP3IuaGFzU3ViZ3JvdXBzP0QocixpKTpyLmZpZWxkJiZyLnZhbHVlPT1pLnZhbHVlP3IuaXRlbXMucHVzaC5hcHBseShyLml0ZW1zLGkuaXRlbXMpOmUuaXRlbXMucHVzaC5hcHBseShlLml0ZW1zLFtpXSk6aSYmZS5pdGVtcy5wdXNoLmFwcGx5KGUuaXRlbXMsW2ldKX1mdW5jdGlvbiB6KGUsdCxyLGkpe2Zvcih2YXIgbixhLHMsbz0wO3QubGVuZ3RoJiZpJiYobj10W29dLGE9bi5pdGVtcyxzPWEubGVuZ3RoLGUmJmUuZmllbGQ9PT1uLmZpZWxkJiZlLnZhbHVlPT09bi52YWx1ZT8oZS5oYXNTdWJncm91cHMmJmUuaXRlbXMubGVuZ3RoP3ooZS5pdGVtc1tlLml0ZW1zLmxlbmd0aC0xXSxuLml0ZW1zLHIsaSk6KGE9YS5zbGljZShyLHIraSksZS5pdGVtcz1lLml0ZW1zLmNvbmNhdChhKSksdC5zcGxpY2Uoby0tLDEpKTpuLmhhc1N1Ymdyb3VwcyYmYS5sZW5ndGg/KHoobixhLHIsaSksbi5pdGVtcy5sZW5ndGh8fHQuc3BsaWNlKG8tLSwxKSk6KGE9YS5zbGljZShyLHIraSksbi5pdGVtcz1hLG4uaXRlbXMubGVuZ3RofHx0LnNwbGljZShvLS0sMSkpLDA9PT1hLmxlbmd0aD9yLT1zOihyPTAsaS09YS5sZW5ndGgpLCEoKytvPj10Lmxlbmd0aCkpOyk7bzx0Lmxlbmd0aCYmdC5zcGxpY2Uobyx0Lmxlbmd0aC1vKX1mdW5jdGlvbiBDKGUsdCl7dmFyIHIsaSxuLGEscz1bXSxvPShlfHxbXSkubGVuZ3RoLHU9eGUodCk/dDpmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdfTtmb3Iobj0wO248bztuKyspaWYocj11KGUsbiksci5oYXNTdWJncm91cHMpcz1zLmNvbmNhdChDKHIuaXRlbXMpKTtlbHNlIGZvcihpPXIuaXRlbXMsYT0wO2E8aS5sZW5ndGg7YSsrKXMucHVzaCh1KGksYSkpO3JldHVybiBzfWZ1bmN0aW9uIE8oZSl7dmFyIHQscixpLG4sYSxzPVtdO2Zvcih0PTAscj1lLmxlbmd0aDt0PHI7dCsrKWlmKGE9ZS5hdCh0KSxhLmhhc1N1Ymdyb3VwcylzPXMuY29uY2F0KE8oYS5pdGVtcykpO2Vsc2UgZm9yKGk9YS5pdGVtcyxuPTA7bjxpLmxlbmd0aDtuKyspcy5wdXNoKGkuYXQobikpO3JldHVybiBzfWZ1bmN0aW9uIFAoZSx0KXt2YXIgcixpLG47aWYodClmb3Iocj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWUuYXQociksbi5oYXNTdWJncm91cHM/UChuLml0ZW1zLHQpOm4uaXRlbXM9bmV3ICQobi5pdGVtcyx0LG4uaXRlbXMuX2V2ZW50cyl9ZnVuY3Rpb24gVChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaGFzU3ViZ3JvdXBzKXtpZihUKGVbcl0uaXRlbXMsdCkpcmV0dXJuITB9ZWxzZSBpZih0KGVbcl0uaXRlbXMsZVtyXSkpcmV0dXJuITB9ZnVuY3Rpb24gQShlLHQscixpKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoJiZlW25dLmRhdGEhPT10JiYhSShlW25dLmRhdGEscixpKTtuKyspO31mdW5jdGlvbiBJKGUsdCxyKXtmb3IodmFyIGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspe2lmKGVbaV0mJmVbaV0uaGFzU3ViZ3JvdXBzKXJldHVybiBJKGVbaV0uaXRlbXMsdCxyKTtpZihlW2ldPT09dHx8ZVtpXT09PXIpcmV0dXJuIGVbaV09ciwhMH19ZnVuY3Rpb24gTShlLHIsaSxuLGEpe3ZhciBzLG8sdSxsO2ZvcihzPTAsbz1lLmxlbmd0aDtzPG87cysrKWlmKHU9ZVtzXSx1JiYhKHUgaW5zdGFuY2VvZiBuKSlpZih1Lmhhc1N1Ymdyb3Vwcz09PXR8fGEpe2ZvcihsPTA7bDxyLmxlbmd0aDtsKyspaWYocltsXT09PXUpe2Vbc109ci5hdChsKSxBKGkscix1LGVbc10pO2JyZWFrfX1lbHNlIE0odS5pdGVtcyxyLGksbixhKX1mdW5jdGlvbiBOKGUsdCl7dmFyIHIsaSxuPWUubGVuZ3RoO2ZvcihpPTA7aTxuO2krKylpZihyPWVbaV0sci51aWQmJnIudWlkPT10LnVpZClyZXR1cm4gZS5zcGxpY2UoaSwxKSxyfWZ1bmN0aW9uIEcoZSx0KXtyZXR1cm4gdD9qKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkJiZlLnVpZD09dC51aWR8fGVbdC5pZEZpZWxkXT09PXQuaWQmJnQuaWQhPT10Ll9kZWZhdWx0SWR9KTotMX1mdW5jdGlvbiBMKGUsdCl7cmV0dXJuIHQ/aihlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZD09dC51aWR9KTotMX1mdW5jdGlvbiBqKGUsdCl7dmFyIHIsaTtmb3Iocj0wLGk9ZS5sZW5ndGg7cjxpO3IrKylpZih0KGVbcl0pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIEUoZSx0KXt2YXIgcixpO3JldHVybiBlJiYhbWUoZSk/KHI9ZVt0XSxpPXZlKHIpP3IuZnJvbXx8ci5maWVsZHx8dDplW3RdfHx0LHhlKGkpP3Q6aSk6dH1mdW5jdGlvbiBCKGUsdCl7dmFyIHIsaSxuLGE9e307Zm9yKG4gaW4gZSkiZmlsdGVycyIhPT1uJiYoYVtuXT1lW25dKTtpZihlLmZpbHRlcnMpZm9yKGEuZmlsdGVycz1bXSxyPTAsaT1lLmZpbHRlcnMubGVuZ3RoO3I8aTtyKyspYS5maWx0ZXJzW3JdPUIoZS5maWx0ZXJzW3JdLHQpO2Vsc2UgYS5maWVsZD1FKHQuZmllbGRzLGEuZmllbGQpO3JldHVybiBhfWZ1bmN0aW9uIEgoZSx0KXt2YXIgcixpLG4sYSxzLG89W107Zm9yKHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe249e30sYT1lW3JdO2ZvcihzIGluIGEpbltzXT1hW3NdO24uZmllbGQ9RSh0LmZpZWxkcyxuLmZpZWxkKSxuLmFnZ3JlZ2F0ZXMmJnllKG4uYWdncmVnYXRlcykmJihuLmFnZ3JlZ2F0ZXM9SChuLmFnZ3JlZ2F0ZXMsdCkpLG8ucHVzaChuKX1yZXR1cm4gb31mdW5jdGlvbiBVKHQscil7dmFyIGksbixhLHMsbyx1LGwsaCxkLGY7Zm9yKHQ9ZSh0KVswXSxpPXQub3B0aW9ucyxuPXJbMF0sYT1yWzFdLHM9W10sbz0wLHU9aS5sZW5ndGg7bzx1O28rKylkPXt9LGg9aVtvXSxsPWgucGFyZW50Tm9kZSxsPT09dCYmKGw9bnVsbCksaC5kaXNhYmxlZHx8bCYmbC5kaXNhYmxlZHx8KGwmJihkLm9wdGdyb3VwPWwubGFiZWwpLGRbbi5maWVsZF09aC50ZXh0LGY9aC5hdHRyaWJ1dGVzLnZhbHVlLGY9ZiYmZi5zcGVjaWZpZWQ/aC52YWx1ZTpoLnRleHQsZFthLmZpZWxkXT1mLHMucHVzaChkKSk7cmV0dXJuIHN9ZnVuY3Rpb24gSih0LHIpe3ZhciBpLG4sYSxzLG8sdSxsLGg9ZSh0KVswXS50Qm9kaWVzWzBdLGQ9aD9oLnJvd3M6W10sZj1yLmxlbmd0aCxjPVtdO2ZvcihpPTAsbj1kLmxlbmd0aDtpPG47aSsrKXtmb3Iobz17fSxsPSEwLHM9ZFtpXS5jZWxscyxhPTA7YTxmO2ErKyl1PXNbYV0sInRoIiE9PXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGw9ITEsb1tyW2FdLmZpZWxkXT11LmlubmVySFRNTCk7bHx8Yy5wdXNoKG8pfXJldHVybiBjfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxyPWxlLmZuW2VdLmFwcGx5KHRoaXMsWWUuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcy5fZGF0YSE9dCYmdGhpcy5fYXR0YWNoQnViYmxlSGFuZGxlcnMoKSxyfX1mdW5jdGlvbiBRKHQscil7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlLmZpbHRlcih0KS5hZGQoZS5maW5kKHQpKX12YXIgbixhLHMsbyx1LGwsaCxkLGY9ZSh0KS5jaGlsZHJlbigpLGM9W10sZz1yWzBdLmZpZWxkLHA9clsxXSYmclsxXS5maWVsZCxfPXJbMl0mJnJbMl0uZmllbGQsdj1yWzNdJiZyWzNdLmZpZWxkO2ZvcihuPTAsYT1mLmxlbmd0aDtuPGE7bisrKXM9e19sb2FkZWQ6ITB9LG89Zi5lcShuKSxsPW9bMF0uZmlyc3RDaGlsZCxkPW8uY2hpbGRyZW4oKSx0PWQuZmlsdGVyKCJ1bCIpLGQ9ZC5maWx0ZXIoIjpub3QodWwpIiksdT1vLmF0dHIoImRhdGEtaWQiKSx1JiYocy5pZD11KSxsJiYoc1tnXT0zPT1sLm5vZGVUeXBlP2wubm9kZVZhbHVlOmQudGV4dCgpKSxwJiYoc1twXT1pKGQsImEiKS5hdHRyKCJocmVmIikpLHYmJihzW3ZdPWkoZCwiaW1nIikuYXR0cigic3JjIikpLF8mJihoPWkoZCwiLmstc3ByaXRlIikucHJvcCgiY2xhc3NOYW1lIiksc1tfXT1oJiZlLnRyaW0oaC5yZXBsYWNlKCJrLXNwcml0ZSIsIiIpKSksdC5sZW5ndGgmJihzLml0ZW1zPVEodC5lcSgwKSxyKSksInRydWUiPT1vLmF0dHIoImRhdGEtaGFzQ2hpbGRyZW4iKSYmKHMuaGFzQ2hpbGRyZW49ITApLGMucHVzaChzKTtyZXR1cm4gY312YXIgVywkLEssWCxZLFosZWUsdGUscmUsaWUsbmUsYWUsc2Usb2UsdWUsbGUsaGUsZGUsZmUsY2UsZ2UscGU9ZS5leHRlbmQsX2U9ZS5wcm94eSx2ZT1lLmlzUGxhaW5PYmplY3QsbWU9ZS5pc0VtcHR5T2JqZWN0LHllPWUuaXNBcnJheSxTZT1lLmdyZXAsYmU9ZS5hamF4LHdlPWUuZWFjaCxrZT1lLm5vb3AsRmU9d2luZG93LmtlbmRvLHhlPUZlLmlzRnVuY3Rpb24sUmU9RmUuT2JzZXJ2YWJsZSxxZT1GZS5DbGFzcyxEZT0ic3RyaW5nIix6ZT0iZnVuY3Rpb24iLENlPSJhc2MiLE9lPSJjcmVhdGUiLFBlPSJyZWFkIixUZT0idXBkYXRlIixBZT0iZGVzdHJveSIsSWU9ImNoYW5nZSIsTWU9InN5bmMiLE5lPSJnZXQiLEdlPSJlcnJvciIsTGU9InJlcXVlc3RTdGFydCIsamU9InByb2dyZXNzIixFZT0icmVxdWVzdEVuZCIsQmU9W09lLFBlLFRlLEFlXSxIZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sVWU9RmUuZ2V0dGVyLEplPUZlLnN0cmluZ2lmeSxWZT1NYXRoLFFlPVtdLnB1c2gsV2U9W10uam9pbiwkZT1bXS5wb3AsS2U9W10uc3BsaWNlLFhlPVtdLnNoaWZ0LFllPVtdLnNsaWNlLFplPVtdLnVuc2hpZnQsZXQ9e30udG9TdHJpbmcsdHQ9RmUuc3VwcG9ydC5zdGFibGVTb3J0LHJ0PS9eXC9EYXRlXCgoLio/KVwpXC8kLyxpdD1SZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IudHlwZT10fHxLLFJlLmZuLmluaXQuY2FsbChyKSxyLmxlbmd0aD1lLmxlbmd0aCxyLndyYXBBbGwoZSxyKX0sYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV19LHRvSlNPTjpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5sZW5ndGgsbj1BcnJheShpKTtmb3IodD0wO3Q8aTt0Kyspcj10aGlzW3RdLHIgaW5zdGFuY2VvZiBLJiYocj1yLnRvSlNPTihlKSksblt0XT1yO3JldHVybiBufSxwYXJlbnQ6a2Usd3JhcEFsbDpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLGE9ZnVuY3Rpb24oKXtyZXR1cm4gbn07Zm9yKHQ9dHx8W10scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyl0W3JdPW4ud3JhcChlW3JdLGEpO3JldHVybiB0fSx3cmFwOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaT10aGlzO3JldHVybiBudWxsIT09ZSYmIltvYmplY3QgT2JqZWN0XSI9PT1ldC5jYWxsKGUpJiYocj1lIGluc3RhbmNlb2YgaS50eXBlfHxlIGluc3RhbmNlb2YgWixyfHwoZT1lIGluc3RhbmNlb2YgSz9lLnRvSlNPTigpOmUsZT1uZXcgaS50eXBlKGUpKSxlLnBhcmVudD10LGUuYmluZChJZSxmdW5jdGlvbihlKXtpLnRyaWdnZXIoSWUse2ZpZWxkOmUuZmllbGQsbm9kZTplLm5vZGUsaW5kZXg6ZS5pbmRleCxpdGVtczplLml0ZW1zfHxbdGhpc10sYWN0aW9uOmUubm9kZT9lLmFjdGlvbnx8Iml0ZW1sb2FkZWQiOiJpdGVtY2hhbmdlIn0pfSkpLGV9LHB1c2g6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMubGVuZ3RoLHI9dGhpcy53cmFwQWxsKGFyZ3VtZW50cyk7cmV0dXJuIGU9UWUuYXBwbHkodGhpcyxyKSx0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoiYWRkIixpbmRleDp0LGl0ZW1zOnJ9KSxlfSxzbGljZTpZZSxzb3J0OltdLnNvcnQsam9pbjpXZSxwb3A6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCx0PSRlLmFwcGx5KHRoaXMpO3JldHVybiBlJiZ0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoicmVtb3ZlIixpbmRleDplLTEsaXRlbXM6W3RdfSksdH0sc3BsaWNlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLGEscz10aGlzLndyYXBBbGwoWWUuY2FsbChhcmd1bWVudHMsMikpO2lmKGk9S2UuYXBwbHkodGhpcyxbZSx0XS5jb25jYXQocykpLGkubGVuZ3RoKWZvcih0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoicmVtb3ZlIixpbmRleDplLGl0ZW1zOml9KSxuPTAsYT1pLmxlbmd0aDtuPGE7bisrKWlbbl0mJmlbbl0uY2hpbGRyZW4mJmlbbl0udW5iaW5kKEllKTtyZXR1cm4gciYmdGhpcy50cmlnZ2VyKEllLHthY3Rpb246ImFkZCIsaW5kZXg6ZSxpdGVtczpzfSksaX0sc2hpZnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCx0PVhlLmFwcGx5KHRoaXMpO3JldHVybiBlJiZ0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoicmVtb3ZlIixpbmRleDowLGl0ZW1zOlt0XX0pLHR9LHVuc2hpZnQ6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMud3JhcEFsbChhcmd1bWVudHMpO3JldHVybiBlPVplLmFwcGx5KHRoaXMsdCksdGhpcy50cmlnZ2VyKEllLHthY3Rpb246ImFkZCIsaW5kZXg6MCxpdGVtczp0fSksZX0saW5kZXhPZjpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcztmb3IodD0wLHI9aS5sZW5ndGg7dDxyO3QrKylpZihpW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sZm9yRWFjaDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLGk9dGhpcy5sZW5ndGgsbj10fHx3aW5kb3c7cjxpO3IrKyllLmNhbGwobix0aGlzW3JdLHIsdGhpcyl9LG1hcDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLGk9W10sbj10aGlzLmxlbmd0aCxhPXR8fHdpbmRvdztyPG47cisrKWlbcl09ZS5jYWxsKGEsdGhpc1tyXSxyLHRoaXMpO3JldHVybiBpfSxyZWR1Y2U6ZnVuY3Rpb24oZSl7dmFyIHQscj0wLGk9dGhpcy5sZW5ndGg7Zm9yKDI9PWFyZ3VtZW50cy5sZW5ndGg/dD1hcmd1bWVudHNbMV06cjxpJiYodD10aGlzW3IrK10pO3I8aTtyKyspdD1lKHQsdGhpc1tyXSxyLHRoaXMpO3JldHVybiB0fSxyZWR1Y2VSaWdodDpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMubGVuZ3RoLTE7Zm9yKDI9PWFyZ3VtZW50cy5sZW5ndGg/dD1hcmd1bWVudHNbMV06cj4wJiYodD10aGlzW3ItLV0pO3I+PTA7ci0tKXQ9ZSh0LHRoaXNbcl0scix0aGlzKTtyZXR1cm4gdH0sZmlsdGVyOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9MCxuPVtdLGE9dGhpcy5sZW5ndGgscz10fHx3aW5kb3c7aTxhO2krKylyPXRoaXNbaV0sZS5jYWxsKHMscixpLHRoaXMpJiYobltuLmxlbmd0aF09cik7cmV0dXJuIG59LGZpbmQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT0wLG49dGhpcy5sZW5ndGgsYT10fHx3aW5kb3c7aTxuO2krKylpZihyPXRoaXNbaV0sZS5jYWxsKGEscixpLHRoaXMpKXJldHVybiByfSxldmVyeTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPTAsbj10aGlzLmxlbmd0aCxhPXR8fHdpbmRvdztpPG47aSsrKWlmKHI9dGhpc1tpXSwhZS5jYWxsKGEscixpLHRoaXMpKXJldHVybiExO3JldHVybiEwfSxzb21lOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9MCxuPXRoaXMubGVuZ3RoLGE9dHx8d2luZG93O2k8bjtpKyspaWYocj10aGlzW2ldLGUuY2FsbChhLHIsaSx0aGlzKSlyZXR1cm4hMDtyZXR1cm4hMX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuc3BsaWNlKHQsMSl9LGVtcHR5OmZ1bmN0aW9uKCl7dGhpcy5zcGxpY2UoMCx0aGlzLmxlbmd0aCl9fSk7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmIWl0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdJiYoaXQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09W11bU3ltYm9sLml0ZXJhdG9yXSksJD1pdC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0LHIpe1JlLmZuLmluaXQuY2FsbCh0aGlzKSx0aGlzLnR5cGU9dHx8SyxyJiYodGhpcy5fZXZlbnRzPXIpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXRoaXNbaV09ZVtpXTt0aGlzLmxlbmd0aD1pLHRoaXMuX3BhcmVudD1fZShmdW5jdGlvbigpe3JldHVybiB0aGlzfSx0aGlzKX0sYXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1tlXTtyZXR1cm4gdCBpbnN0YW5jZW9mIHRoaXMudHlwZT90LnBhcmVudD10aGlzLl9wYXJlbnQ6dD10aGlzW2VdPXRoaXMud3JhcCh0LHRoaXMuX3BhcmVudCksdH19KSxLPVJlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcyxuPWZ1bmN0aW9uKCl7cmV0dXJuIGl9O1JlLmZuLmluaXQuY2FsbCh0aGlzKSx0aGlzLl9oYW5kbGVycz17fTtmb3IociBpbiBlKXQ9ZVtyXSwib2JqZWN0Ij09dHlwZW9mIHQmJnQmJiF0LmdldFRpbWUmJiJfIiE9ci5jaGFyQXQoMCkmJih0PWkud3JhcCh0LHIsbikpLGlbcl09dDtpLnVpZD1GZS5ndWlkKCl9LHNob3VsZFNlcmlhbGl6ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KGUpJiYiX2hhbmRsZXJzIiE9PWUmJiJfZXZlbnRzIiE9PWUmJih0JiZ0W2VdfHx0eXBlb2YgdGhpc1tlXSE9PXplKSYmInVpZCIhPT1lfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzKXRoaXMuc2hvdWxkU2VyaWFsaXplKHQpJiZlKHRoaXNbdF0sdCl9LHRvSlNPTjpmdW5jdGlvbihlKXt2YXIgdCxyLGk9e307Zm9yKHIgaW4gdGhpcyl0aGlzLnNob3VsZFNlcmlhbGl6ZShyLGUpJiYodD10aGlzW3JdLCh0IGluc3RhbmNlb2YgS3x8dCBpbnN0YW5jZW9mIGl0KSYmKHQ9dC50b0pTT04oZSkpLGlbcl09dCk7cmV0dXJuIGl9LGdldDpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7cmV0dXJuIHIudHJpZ2dlcihOZSx7ZmllbGQ6ZX0pLHQ9InRoaXMiPT09ZT9yOkZlLmdldHRlcihlLCEwKShyKX0sX3NldDpmdW5jdGlvbihlLHQpe3ZhciByLGksbixhPXRoaXMscz1lLmluZGV4T2YoIi4iKT49MDtpZihzKWZvcihyPWUuc3BsaXQoIi4iKSxpPSIiO3IubGVuZ3RoPjE7KXtpZihpKz1yLnNoaWZ0KCksbj1GZS5nZXR0ZXIoaSwhMCkoYSksbiBpbnN0YW5jZW9mIEspcmV0dXJuIG4uc2V0KHIuam9pbigiLiIpLHQpLHM7aSs9Ii4ifXJldHVybiBGZS5zZXR0ZXIoZSkoYSx0KSxzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9ITEsbj1lLmluZGV4T2YoIi4iKT49MCxhPUZlLmdldHRlcihlLCEwKShyKTtyZXR1cm4gYSE9PXQmJihhIGluc3RhbmNlb2YgUmUmJnRoaXMuX2hhbmRsZXJzW2VdJiYodGhpcy5faGFuZGxlcnNbZV0uZ2V0JiZhLnVuYmluZChOZSx0aGlzLl9oYW5kbGVyc1tlXS5nZXQpLGEudW5iaW5kKEllLHRoaXMuX2hhbmRsZXJzW2VdLmNoYW5nZSkpLGk9ci50cmlnZ2VyKCJzZXQiLHtmaWVsZDplLHZhbHVlOnR9KSxpfHwobnx8KHQ9ci53cmFwKHQsZSxmdW5jdGlvbigpe3JldHVybiByfSkpLCghci5fc2V0KGUsdCl8fGUuaW5kZXhPZigiKCIpPj0wfHxlLmluZGV4T2YoIlsiKT49MCkmJnIudHJpZ2dlcihJZSx7ZmllbGQ6ZX0pKSksaX0scGFyZW50OmtlLHdyYXA6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLGEscyxvLHU9dGhpcyxsPWV0LmNhbGwoZSk7cmV0dXJuIG51bGw9PWV8fCJbb2JqZWN0IE9iamVjdF0iIT09bCYmIltvYmplY3QgQXJyYXldIiE9PWx8fChzPWUgaW5zdGFuY2VvZiBpdCxvPWUgaW5zdGFuY2VvZiBsZSwiW29iamVjdCBPYmplY3RdIiE9PWx8fG98fHM/KCJbb2JqZWN0IEFycmF5XSI9PT1sfHxzfHxvKSYmKHN8fG98fChlPW5ldyBpdChlKSksYT1yKHUsSWUsdCwhMSksZS5iaW5kKEllLGEpLHUuX2hhbmRsZXJzW3RdPXtjaGFuZ2U6YX0pOihlIGluc3RhbmNlb2YgS3x8KGU9bmV3IEsoZSkpLG49cih1LE5lLHQsITApLGUuYmluZChOZSxuKSxhPXIodSxJZSx0LCEwKSxlLmJpbmQoSWUsYSksdS5faGFuZGxlcnNbdF09e2dldDpuLGNoYW5nZTphfSksZS5wYXJlbnQ9aSksZX19KSxYPXtudW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09RGUmJiJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOkZlLnBhcnNlRmxvYXQoZSl9LGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09RGUmJiJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOkZlLnBhcnNlRGF0ZShlKX0sImJvb2xlYW4iOmZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09PURlPyJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOiJ0cnVlIj09PWUudG9Mb3dlckNhc2UoKTpudWxsIT1lPyEhZTplfSxzdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09RGUmJiJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOm51bGwhPWU/ZSsiIjplfSwiZGVmYXVsdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxZPXtzdHJpbmc6IiIsbnVtYmVyOjAsZGF0ZTpuZXcgRGF0ZSwiYm9vbGVhbiI6ITEsImRlZmF1bHQiOiIifSxaPUsuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHIpe3ZhciBpLG4sYT10aGlzO2lmKCghcnx8ZS5pc0VtcHR5T2JqZWN0KHIpKSYmKHI9ZS5leHRlbmQoe30sYS5kZWZhdWx0cyxyKSxhLl9pbml0aWFsaXplcnMpKWZvcihpPTA7aTxhLl9pbml0aWFsaXplcnMubGVuZ3RoO2krKyluPWEuX2luaXRpYWxpemVyc1tpXSxyW25dPWEuZGVmYXVsdHNbbl0oKTtLLmZuLmluaXQuY2FsbChhLHIpLGEuZGlydHk9ITEsYS5kaXJ0eUZpZWxkcz17fSxhLmlkRmllbGQmJihhLmlkPWEuZ2V0KGEuaWRGaWVsZCksYS5pZD09PXQmJihhLmlkPWEuX2RlZmF1bHRJZCkpfSxzaG91bGRTZXJpYWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIEsuZm4uc2hvdWxkU2VyaWFsaXplLmNhbGwodGhpcyxlKSYmInVpZCIhPT1lJiYhKCJpZCIhPT10aGlzLmlkRmllbGQmJiJpZCI9PT1lKSYmImRpcnR5IiE9PWUmJiJkaXJ0eUZpZWxkcyIhPT1lJiYiX2FjY2Vzc29ycyIhPT1lfSxfcGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixpPXRoaXMsYT1lLHM9aS5maWVsZHN8fHt9O3JldHVybiBlPXNbZV0sZXx8KGU9bihzLGEpKSxlJiYocj1lLnBhcnNlLCFyJiZlLnR5cGUmJihyPVhbZS50eXBlLnRvTG93ZXJDYXNlKCldKSkscj9yKHQpOnR9LF9ub3RpZnlDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hY3Rpb247ImFkZCIhPXQmJiJyZW1vdmUiIT10fHwodGhpcy5kaXJ0eT0hMCx0aGlzLmRpcnR5RmllbGRzW2UuZmllbGRdPSEwKX0sZWRpdGFibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9KHRoaXMuZmllbGRzfHx7fSlbZV0sIWV8fGUuZWRpdGFibGUhPT0hMX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuZGlydHk7ci5lZGl0YWJsZShlKSYmKHQ9ci5fcGFyc2UoZSx0KSxpKHQsci5nZXQoZSkpP3IudHJpZ2dlcigiZXF1YWxTZXQiLHtmaWVsZDplLHZhbHVlOnR9KTooci5kaXJ0eT0hMCxyLmRpcnR5RmllbGRzW2VdPSEwLEsuZm4uc2V0LmNhbGwocixlLHQpJiYhbiYmKHIuZGlydHk9bixyLmRpcnR5fHwoci5kaXJ0eUZpZWxkc1tlXT0hMSkpKSl9LGFjY2VwdDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcyxuPWZ1bmN0aW9uKCl7cmV0dXJuIGl9O2Zvcih0IGluIGUpcj1lW3RdLCJfIiE9dC5jaGFyQXQoMCkmJihyPWkud3JhcChlW3RdLHQsbikpLGkuX3NldCh0LHIpO2kuaWRGaWVsZCYmKGkuaWQ9aS5nZXQoaS5pZEZpZWxkKSksaS5kaXJ0eT0hMSxpLmRpcnR5RmllbGRzPXt9fSxpc05ldzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkPT09dGhpcy5fZGVmYXVsdElkfX0pLFouZGVmaW5lPWZ1bmN0aW9uKGUscil7cj09PXQmJihyPWUsZT1aKTt2YXIgaSxuLGEscyxvLHUsbCxoLGQ9cGUoe2RlZmF1bHRzOnt9fSxyKSxmPXt9LGM9ZC5pZCxnPVtdO2lmKGMmJihkLmlkRmllbGQ9YyksZC5pZCYmZGVsZXRlIGQuaWQsYyYmKGQuZGVmYXVsdHNbY109ZC5fZGVmYXVsdElkPSIiKSwiW29iamVjdCBBcnJheV0iPT09ZXQuY2FsbChkLmZpZWxkcykpe2Zvcih1PTAsbD1kLmZpZWxkcy5sZW5ndGg7dTxsO3UrKylhPWQuZmllbGRzW3VdLHR5cGVvZiBhPT09RGU/ZlthXT17fTphLmZpZWxkJiYoZlthLmZpZWxkXT1hKTtkLmZpZWxkcz1mfWZvcihuIGluIGQuZmllbGRzKWE9ZC5maWVsZHNbbl0scz1hLnR5cGV8fCJkZWZhdWx0IixvPW51bGwsaD1uLG49dHlwZW9mIGEuZmllbGQ9PT1EZT9hLmZpZWxkOm4sYS5udWxsYWJsZXx8KG89ZC5kZWZhdWx0c1toIT09bj9oOm5dPWEuZGVmYXVsdFZhbHVlIT09dD9hLmRlZmF1bHRWYWx1ZTpZW3MudG9Mb3dlckNhc2UoKV0sImZ1bmN0aW9uIj09dHlwZW9mIG8mJmcucHVzaChuKSksci5pZD09PW4mJihkLl9kZWZhdWx0SWQ9byksZC5kZWZhdWx0c1toIT09bj9oOm5dPW8sYS5wYXJzZT1hLnBhcnNlfHxYW3NdO3JldHVybiBnLmxlbmd0aD4wJiYoZC5faW5pdGlhbGl6ZXJzPWcpLGk9ZS5leHRlbmQoZCksaS5kZWZpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIFouZGVmaW5lKGksZSl9LGQuZmllbGRzJiYoaS5maWVsZHM9ZC5maWVsZHMsaS5pZEZpZWxkPWQuaWRGaWVsZCksaX0sZWU9e3NlbGVjdG9yOmZ1bmN0aW9uKGUpe3JldHVybiB4ZShlKT9lOlVlKGUpfSxjb21wYXJlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0b3IoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIGU9dChlKSxyPXQociksbnVsbD09ZSYmbnVsbD09cj8wOm51bGw9PWU/LTE6bnVsbD09cj8xOmUubG9jYWxlQ29tcGFyZT9lLmxvY2FsZUNvbXBhcmUocik6ZT5yPzE6ZTxyPy0xOjB9fSxjcmVhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21wYXJlfHx0aGlzLmNvbXBhcmUoZS5maWVsZCk7cmV0dXJuImRlc2MiPT1lLmRpcj9mdW5jdGlvbihlLHIpe3JldHVybiB0KHIsZSwhMCl9OnR9LGNvbWJpbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGksbixhPWVbMF0odCxyKTtmb3IoaT0xLG49ZS5sZW5ndGg7aTxuO2krKylhPWF8fGVbaV0odCxyKTtyZXR1cm4gYX19fSx0ZT1wZSh7fSxlZSx7YXNjOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0b3IoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIGk9dChlKSxuPXQocik7cmV0dXJuIGkmJmkuZ2V0VGltZSYmbiYmbi5nZXRUaW1lJiYoaT1pLmdldFRpbWUoKSxuPW4uZ2V0VGltZSgpKSxpPT09bj9lLl9fcG9zaXRpb24tci5fX3Bvc2l0aW9uOm51bGw9PWk/LTE6bnVsbD09bj8xOmkubG9jYWxlQ29tcGFyZT9pLmxvY2FsZUNvbXBhcmUobik6aT5uPzE6LTF9fSxkZXNjOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0b3IoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIGk9dChlKSxuPXQocik7cmV0dXJuIGkmJmkuZ2V0VGltZSYmbiYmbi5nZXRUaW1lJiYoaT1pLmdldFRpbWUoKSxuPW4uZ2V0VGltZSgpKSxpPT09bj9lLl9fcG9zaXRpb24tci5fX3Bvc2l0aW9uOm51bGw9PWk/MTpudWxsPT1uPy0xOm4ubG9jYWxlQ29tcGFyZT9uLmxvY2FsZUNvbXBhcmUoaSk6aTxuPzE6LTF9fSxjcmVhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZS5kaXJdKGUuZmllbGQpfX0pLFc9ZnVuY3Rpb24oZSx0KXt2YXIgcixpPWUubGVuZ3RoLG49QXJyYXkoaSk7Zm9yKHI9MDtyPGk7cisrKW5bcl09dChlW3JdLHIsZSk7cmV0dXJuIG59LHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlPWUucmVwbGFjZSgvW1xyXG5dKy9nLCIiKSksSlNPTi5zdHJpbmdpZnkoZSl9ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZnVuY3Rpb24ocixpLG4sYSl7cmV0dXJuIGkrPSIiLG4mJihyPSIoIityKyIgKyAnJykudG9TdHJpbmcoKSIrKGE/Ii50b0xvY2FsZUxvd2VyQ2FzZSgnIithKyInKSI6Ii50b0xvd2VyQ2FzZSgpIiksaT1hP2kudG9Mb2NhbGVMb3dlckNhc2UoYSk6aS50b0xvd2VyQ2FzZSgpKSx0KHIsZShpKSxuKX19ZnVuY3Rpb24gcih0LHIsaSxuLGEpe2lmKG51bGwhPWkpe2lmKHR5cGVvZiBpPT09RGUpe3ZhciBzPXJ0LmV4ZWMoaSk7cz9pPW5ldyBEYXRlKCgrc1sxXSkpOm4/KGk9ZShhP2kudG9Mb2NhbGVMb3dlckNhc2UoYSk6aS50b0xvd2VyQ2FzZSgpKSxyPSIoKCIrcisiIHx8ICcnKSsnJykiKyhhPyIudG9Mb2NhbGVMb3dlckNhc2UoJyIrYSsiJykiOiIudG9Mb3dlckNhc2UoKSIpKTppPWUoaSl9aS5nZXRUaW1lJiYocj0iKCIrcisiJiYiK3IrIi5nZXRUaW1lPyIrcisiLmdldFRpbWUoKToiK3IrIikiLGk9aS5nZXRUaW1lKCkpfXJldHVybiByKyIgIit0KyIgIitpfWZ1bmN0aW9uIGkoZSl7dmFyIHQscixpLG47Zm9yKHQ9Ii9eIixyPSExLGk9MDtpPGUubGVuZ3RoOysraSl7aWYobj1lLmNoYXJBdChpKSxyKXQrPSJcXCIrbjtlbHNle2lmKCJ+Ij09bil7cj0hMDtjb250aW51ZX10Kz0iKiI9PW4/Ii4qIjoiPyI9PW4/Ii4iOiIuK14kKClbXXt9fFxcL1xuXHJcdTIwMjhcdTIwMjnCoCIuaW5kZXhPZihuKT49MD8iXFwiK246bn1yPSExfXJldHVybiB0KyIkLyJ9cmV0dXJue3F1b3RlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmdldFRpbWU/Im5ldyBEYXRlKCIrdC5nZXRUaW1lKCkrIikiOmUodCl9LGVxOmZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiByKCI9PSIsZSx0LGksbil9LG5lcTpmdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gcigiIT0iLGUsdCxpLG4pfSxndDpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHIoIj4iLGUsdCxpKX0sZ3RlOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gcigiPj0iLGUsdCxpKX0sbHQ6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiByKCI8IixlLHQsaSl9LGx0ZTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHIoIjw9IixlLHQsaSl9LHN0YXJ0c3dpdGg6dChmdW5jdGlvbihlLHQpe3JldHVybiBlKyIubGFzdEluZGV4T2YoIit0KyIsIDApID09IDAifSksZG9lc25vdHN0YXJ0d2l0aDp0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIi5sYXN0SW5kZXhPZigiK3QrIiwgMCkgPT0gLTEifSksZW5kc3dpdGg6dChmdW5jdGlvbihlLHQpe3ZhciByPXQ/dC5sZW5ndGgtMjowO3JldHVybiBlKyIuaW5kZXhPZigiK3QrIiwgIitlKyIubGVuZ3RoIC0gIityKyIpID49IDAifSksZG9lc25vdGVuZHdpdGg6dChmdW5jdGlvbihlLHQpe3ZhciByPXQ/dC5sZW5ndGgtMjowO3JldHVybiBlKyIuaW5kZXhPZigiK3QrIiwgIitlKyIubGVuZ3RoIC0gIityKyIpIDwgMCJ9KSxjb250YWluczp0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIi5pbmRleE9mKCIrdCsiKSA+PSAwIn0pLGRvZXNub3Rjb250YWluOnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiLmluZGV4T2YoIit0KyIpID09IC0xIn0pLG1hdGNoZXM6dChmdW5jdGlvbihlLHQpe3JldHVybiB0PXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSksaSh0KSsiLnRlc3QoIitlKyIpIn0pLGRvZXNub3RtYXRjaDp0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dC5zdWJzdHJpbmcoMSx0Lmxlbmd0aC0xKSwiISIraSh0KSsiLnRlc3QoIitlKyIpIn0pLGlzZW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrIiA9PT0gJycifSxpc25vdGVtcHR5OmZ1bmN0aW9uKGUpe3JldHVybiBlKyIgIT09ICcnIn0saXNudWxsOmZ1bmN0aW9uKGUpe3JldHVybiIoIitlKyIgPT0gbnVsbCkifSxpc25vdG51bGw6ZnVuY3Rpb24oZSl7cmV0dXJuIigiK2UrIiAhPSBudWxsKSJ9LGlzbnVsbG9yZW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIigiK2UrIiA9PT0gbnVsbCkgfHwgKCIrZSsiID09PSAnJykifSxpc25vdG51bGxvcmVtcHR5OmZ1bmN0aW9uKGUpe3JldHVybiIoIitlKyIgIT09IG51bGwpICYmICgiK2UrIiAhPT0gJycpIn19fSgpLGEuZmlsdGVyRXhwcj1mdW5jdGlvbihlKXt2YXIgcixpLG4scyxvLHUsbD1bXSxoPXthbmQ6IiAmJiAiLG9yOiIgfHwgIn0sZD1bXSxmPVtdLGM9ZS5maWx0ZXJzO2ZvcihyPTAsaT1jLmxlbmd0aDtyPGk7cisrKW49Y1tyXSxvPW4uZmllbGQsdT1uLm9wZXJhdG9yLG4uZmlsdGVycz8ocz1hLmZpbHRlckV4cHIobiksbj1zLmV4cHJlc3Npb24ucmVwbGFjZSgvX19vXFsoXGQrKVxdL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD0rdCwiX19vWyIrKGYubGVuZ3RoK3QpKyJdIn0pLnJlcGxhY2UoL19fZlxbKFxkKylcXS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9K3QsIl9fZlsiKyhkLmxlbmd0aCt0KSsiXSJ9KSxmLnB1c2guYXBwbHkoZixzLm9wZXJhdG9ycyksZC5wdXNoLmFwcGx5KGQscy5maWVsZHMpKToodHlwZW9mIG89PT16ZT8ocz0iX19mWyIrZC5sZW5ndGgrIl0oZCkiLGQucHVzaChvKSk6cz1GZS5leHByKG8pLHR5cGVvZiB1PT09emU/KG49Il9fb1siK2YubGVuZ3RoKyJdKCIrcysiLCAiK3JlLnF1b3RlKG4udmFsdWUpKyIpIixmLnB1c2godSkpOm49cmVbKHV8fCJlcSIpLnRvTG93ZXJDYXNlKCldKHMsbi52YWx1ZSxuLmlnbm9yZUNhc2U9PT10fHxuLmlnbm9yZUNhc2UsZS5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nKSksbC5wdXNoKG4pO3JldHVybntleHByZXNzaW9uOiIoIitsLmpvaW4oaFtlLmxvZ2ljXSkrIikiLGZpZWxkczpkLG9wZXJhdG9yczpmfX0saWU9eyI9PSI6ImVxIixlcXVhbHM6ImVxIixpc2VxdWFsdG86ImVxIixlcXVhbHRvOiJlcSIsZXF1YWw6ImVxIiwiIT0iOiJuZXEiLG5lOiJuZXEiLG5vdGVxdWFsczoibmVxIixpc25vdGVxdWFsdG86Im5lcSIsbm90ZXF1YWx0bzoibmVxIixub3RlcXVhbDoibmVxIiwiPCI6Imx0Iixpc2xlc3N0aGFuOiJsdCIsbGVzc3RoYW46Imx0IixsZXNzOiJsdCIsIjw9IjoibHRlIixsZToibHRlIixpc2xlc3N0aGFub3JlcXVhbHRvOiJsdGUiLGxlc3N0aGFuZXF1YWw6Imx0ZSIsIj4iOiJndCIsaXNncmVhdGVydGhhbjoiZ3QiLGdyZWF0ZXJ0aGFuOiJndCIsZ3JlYXRlcjoiZ3QiLCI+PSI6Imd0ZSIsaXNncmVhdGVydGhhbm9yZXF1YWx0bzoiZ3RlIixncmVhdGVydGhhbmVxdWFsOiJndGUiLGdlOiJndGUiLG5vdHN1YnN0cmluZ29mOiJkb2Vzbm90Y29udGFpbiIsaXNudWxsOiJpc251bGwiLGlzZW1wdHk6ImlzZW1wdHkiLGlzbm90ZW1wdHk6Imlzbm90ZW1wdHkifSxhLm5vcm1hbGl6ZUZpbHRlcj1sLGEuY29tcGFyZUZpbHRlcnM9YyxhLnByb3RvdHlwZT17dG9BcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHJhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBhKHRoaXMuZGF0YS5zbGljZShlLGUrdCkpfSxza2lwOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYSh0aGlzLmRhdGEuc2xpY2UoZSkpfSx0YWtlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYSh0aGlzLmRhdGEuc2xpY2UoMCxlKSl9LHNlbGVjdDpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoVyh0aGlzLmRhdGEsZSkpfSxvcmRlcjpmdW5jdGlvbihlLHQscil7dmFyIGk9e2Rpcjp0fTtyZXR1cm4gZSYmKGUuY29tcGFyZT9pLmNvbXBhcmU9ZS5jb21wYXJlOmkuZmllbGQ9ZSksbmV3IGEocj90aGlzLmRhdGEuc29ydChlZS5jcmVhdGUoaSkpOnRoaXMuZGF0YS5zbGljZSgwKS5zb3J0KGVlLmNyZWF0ZShpKSkpfSxvcmRlckJ5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3JkZXIoZSwiYXNjIix0KX0sb3JkZXJCeURlc2NlbmRpbmc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcmRlcihlLCJkZXNjIix0KX0sc29ydDpmdW5jdGlvbihlLHQscixpKXt2YXIgbixhLG89cyhlLHQpLHU9W107aWYocj1yfHxlZSxvLmxlbmd0aCl7Zm9yKG49MCxhPW8ubGVuZ3RoO248YTtuKyspdS5wdXNoKHIuY3JlYXRlKG9bbl0pKTtyZXR1cm4gdGhpcy5vcmRlckJ5KHtjb21wYXJlOnIuY29tYmluZSh1KX0saSl9cmV0dXJuIHRoaXN9LGZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdCxyLGksbixzLG8sdSxoLGQ9dGhpcy5kYXRhLGY9W107aWYoZT1sKGUpLCFlfHwwPT09ZS5maWx0ZXJzLmxlbmd0aClyZXR1cm4gdGhpcztmb3Iobj1hLmZpbHRlckV4cHIoZSksbz1uLmZpZWxkcyx1PW4ub3BlcmF0b3JzLHM9aD1GdW5jdGlvbigiZCwgX19mLCBfX28iLCJyZXR1cm4gIituLmV4cHJlc3Npb24pLChvLmxlbmd0aHx8dS5sZW5ndGgpJiYoaD1mdW5jdGlvbihlKXtyZXR1cm4gcyhlLG8sdSl9KSx0PTAsaT1kLmxlbmd0aDt0PGk7dCsrKXI9ZFt0XSxoKHIpJiZmLnB1c2gocik7cmV0dXJuIG5ldyBhKGYpfSxncm91cDpmdW5jdGlvbihlLHQpe2U9cChlfHxbXSksdD10fHx0aGlzLmRhdGE7dmFyIHIsaT10aGlzLG49bmV3IGEoaS5kYXRhKTtyZXR1cm4gZS5sZW5ndGg+MCYmKHI9ZVswXSxuPW4uZ3JvdXBCeShyKS5zZWxlY3QoZnVuY3Rpb24oaSl7dmFyIG49bmV3IGEodCkuZmlsdGVyKFt7ZmllbGQ6aS5maWVsZCxvcGVyYXRvcjoiZXEiLHZhbHVlOmkudmFsdWUsaWdub3JlQ2FzZTohMX1dKTtyZXR1cm57ZmllbGQ6aS5maWVsZCx2YWx1ZTppLnZhbHVlLGl0ZW1zOmUubGVuZ3RoPjE/bmV3IGEoaS5pdGVtcykuZ3JvdXAoZS5zbGljZSgxKSxuLnRvQXJyYXkoKSkudG9BcnJheSgpOmkuaXRlbXMsaGFzU3ViZ3JvdXBzOmUubGVuZ3RoPjEsYWdncmVnYXRlczpuLmFnZ3JlZ2F0ZShyLmFnZ3JlZ2F0ZXMpfX0pKSxufSxncm91cEJ5OmZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxuLHMsbyx1LGwsaCxkLGY9dGhpcztpZihtZShlKXx8IXRoaXMuZGF0YS5sZW5ndGgpcmV0dXJuIG5ldyBhKFtdKTtmb3IodD1lLmZpZWxkLHI9ZS5za2lwSXRlbVNvcnRpbmc/dGhpcy5kYXRhOnRoaXMuX3NvcnRGb3JHcm91cGluZyh0LGUuZGlyfHwiYXNjIiksaT1GZS5hY2Nlc3Nvcih0KSxzPWkuZ2V0KHJbMF0sdCksbz17ZmllbGQ6dCx2YWx1ZTpzLGl0ZW1zOltdfSxkPVtvXSxsPTAsaD1yLmxlbmd0aDtsPGg7bCsrKW49cltsXSx1PWkuZ2V0KG4sdCksbShzLHUpfHwocz11LG89e2ZpZWxkOnQsdmFsdWU6cyxpdGVtczpbXX0sZC5wdXNoKG8pKSxvLml0ZW1zLnB1c2gobik7cmV0dXJuIGQ9Zi5fc29ydEdyb3VwcyhkLGUpLG5ldyBhKGQpfSxfc29ydEZvckdyb3VwaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuPXRoaXMuZGF0YTtpZighdHQpe2ZvcihyPTAsaT1uLmxlbmd0aDtyPGk7cisrKW5bcl0uX19wb3NpdGlvbj1yO2ZvcihuPW5ldyBhKG4pLnNvcnQoZSx0LHRlKS50b0FycmF5KCkscj0wLGk9bi5sZW5ndGg7cjxpO3IrKylkZWxldGUgbltyXS5fX3Bvc2l0aW9uO3JldHVybiBufXJldHVybiB0aGlzLnNvcnQoZSx0KS50b0FycmF5KCl9LF9zb3J0R3JvdXBzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtyZXR1cm4gdCYmeGUodC5jb21wYXJlKSYmKHI9bmV3IGEocikub3JkZXIoe2NvbXBhcmU6dC5jb21wYXJlfSx0LmRpcnx8Q2UpLnRvQXJyYXkoKSkscn0sYWdncmVnYXRlOmZ1bmN0aW9uKGUpe3ZhciB0LHIsaT17fSxuPXt9O2lmKGUmJmUubGVuZ3RoKWZvcih0PTAscj10aGlzLmRhdGEubGVuZ3RoO3Q8cjt0KyspeShpLGUsdGhpcy5kYXRhW3RdLHQscixuKTtyZXR1cm4gaX19LG5lPXtzdW06ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuZ2V0KHQpO3JldHVybiBTKGUpP1MoaSkmJihlKz1pKTplPWksZX0sY291bnQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fDApKzF9LGF2ZXJhZ2U6ZnVuY3Rpb24oZSxyLGksbixhLHMpe3ZhciBvPWkuZ2V0KHIpO3JldHVybiBzLmNvdW50PT09dCYmKHMuY291bnQ9MCksUyhlKT9TKG8pJiYoZSs9byk6ZT1vLFMobykmJnMuY291bnQrKyxuPT1hLTEmJlMoZSkmJihlLz1zLmNvdW50KSxlfSxtYXg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuZ2V0KHQpO3JldHVybiBTKGUpfHxiKGUpfHwoZT1pKSxlPGkmJihTKGkpfHxiKGkpKSYmKGU9aSksZX0sbWluOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yLmdldCh0KTtyZXR1cm4gUyhlKXx8YihlKXx8KGU9aSksZT5pJiYoUyhpKXx8YihpKSkmJihlPWkpLGV9fSxhLm5vcm1hbGl6ZUdyb3VwPXAsYS5ub3JtYWxpemVTb3J0PXMsYS5wcm9jZXNzPWZ1bmN0aW9uKGUscixpKXt2YXIgbixvLHUsbCxoLGQsZixjLGcsbSx5LFM7cmV0dXJuIHI9cnx8e30sbj1yLmdyb3VwLG89dihwKG58fFtdKSksdT1uZXcgYShlKSxsPV8obnx8W10pLGg9cyhyLnNvcnR8fFtdKSxkPW8/aDpsLmNvbmNhdChoKSxnPXIuZmlsdGVyQ2FsbGJhY2ssbT1yLmZpbHRlcix5PXIuc2tpcCxTPXIudGFrZSxkJiZpJiYodT11LnNvcnQoZCx0LHQsaSkpLG0mJih1PXUuZmlsdGVyKG0pLGcmJih1PWcodSkpLGM9dS50b0FycmF5KCkubGVuZ3RoKSxkJiYoaXx8KHU9dS5zb3J0KGQpKSxuJiYoZT11LnRvQXJyYXkoKSkpLG8/KHU9dS5ncm91cChuLGUpLHkhPT10JiZTIT09dCYmKHU9bmV3IGEoQyh1LnRvQXJyYXkoKSkpLnJhbmdlKHksUyksZj1XKGwsZnVuY3Rpb24oZSl7cmV0dXJuIHBlKHt9LGUse3NraXBJdGVtU29ydGluZzohMH0pfSksdT11Lmdyb3VwKGYsZSkpKTooeSE9PXQmJlMhPT10JiYodT11LnJhbmdlKHksUykpLG4mJih1PXUuZ3JvdXAobixlKSkpLHt0b3RhbDpjLGRhdGE6dS50b0FycmF5KCl9fSxhZT1xZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhPWUuZGF0YX0scmVhZDpmdW5jdGlvbihlKXtlLnN1Y2Nlc3ModGhpcy5kYXRhKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2Uuc3VjY2VzcyhlLmRhdGEpfSxjcmVhdGU6ZnVuY3Rpb24oZSl7ZS5zdWNjZXNzKGUuZGF0YSl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7ZS5zdWNjZXNzKGUuZGF0YSl9fSksc2U9cWUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztlPXIub3B0aW9ucz1wZSh7fSxyLm9wdGlvbnMsZSksd2UoQmUsZnVuY3Rpb24odCxyKXt0eXBlb2YgZVtyXT09PURlJiYoZVtyXT17dXJsOmVbcl19KX0pLHIuY2FjaGU9ZS5jYWNoZT9vZS5jcmVhdGUoZS5jYWNoZSk6e2ZpbmQ6a2UsYWRkOmtlfSx0PWUucGFyYW1ldGVyTWFwLGUuc3VibWl0JiYoci5zdWJtaXQ9ZS5zdWJtaXQpLHhlKGUucHVzaCkmJihyLnB1c2g9ZS5wdXNoKSxyLnB1c2h8fChyLnB1c2g9SGUpLHIucGFyYW1ldGVyTWFwPXhlKHQpP3Q6ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHdlKGUsZnVuY3Rpb24oZSxpKXtlIGluIHQmJihlPXRbZV0sdmUoZSkmJihpPWUudmFsdWUoaSksZT1lLmtleSkpLHJbZV09aX0pLHJ9fSxvcHRpb25zOntwYXJhbWV0ZXJNYXA6SGV9LGNyZWF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gYmUodGhpcy5zZXR1cChlLE9lKSl9LHJlYWQ6ZnVuY3Rpb24ocil7dmFyIGksbixhLHM9dGhpcyxvPXMuY2FjaGU7cj1zLnNldHVwKHIsUGUpLGk9ci5zdWNjZXNzfHxrZSxuPXIuZXJyb3J8fGtlLGE9by5maW5kKHIuZGF0YSksYSE9PXQ/aShhKTooci5zdWNjZXNzPWZ1bmN0aW9uKGUpe28uYWRkKHIuZGF0YSxlKSxpKGUpfSxlLmFqYXgocikpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGJlKHRoaXMuc2V0dXAoZSxUZSkpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3JldHVybiBiZSh0aGlzLnNldHVwKGUsQWUpKX0sc2V0dXA6ZnVuY3Rpb24oZSx0KXtlPWV8fHt9O3ZhciByLGk9dGhpcyxuPWkub3B0aW9uc1t0XSxhPXhlKG4uZGF0YSk/bi5kYXRhKGUuZGF0YSk6bi5kYXRhO3JldHVybiBlPXBlKCEwLHt9LG4sZSkscj1wZSghMCx7fSxhLGUuZGF0YSksZS5kYXRhPWkucGFyYW1ldGVyTWFwKHIsdCkseGUoZS51cmwpJiYoZS51cmw9ZS51cmwocikpLGV9fSksb2U9cWUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5fc3RvcmU9e319LGFkZDpmdW5jdGlvbihlLHIpe2UhPT10JiYodGhpcy5fc3RvcmVbSmUoZSldPXIpfSxmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdG9yZVtKZShlKV19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fc3RvcmU9e319LHJlbW92ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fc3RvcmVbSmUoZSldfX0pLG9lLmNyZWF0ZT1mdW5jdGlvbihlKXt2YXIgdD17aW5tZW1vcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG9lfX07cmV0dXJuIHZlKGUpJiZ4ZShlLmZpbmQpP2U6ZT09PSEwP25ldyBvZTp0W2VdKCl9LHVlPXFlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgdCxyLGksbixhLHMsbyx1LGwsaCxkLGYsYyxnLHA9dGhpcztlPWV8fHt9O2Zvcih0IGluIGUpcj1lW3RdLHBbdF09dHlwZW9mIHI9PT1EZT9VZShyKTpyO249ZS5tb2RlbEJhc2V8fFosdmUocC5tb2RlbCkmJihwLm1vZGVsPWk9bi5kZWZpbmUocC5tb2RlbCkpLGE9X2UocC5kYXRhLHApLHAuX2RhdGFBY2Nlc3NGdW5jdGlvbj1hLHAubW9kZWwmJihzPV9lKHAuZ3JvdXBzLHApLG89X2UocC5zZXJpYWxpemUscCksdT17fSxsPXt9LGg9e30sZD17fSxmPSExLGk9cC5tb2RlbCxpLmZpZWxkcyYmKHdlKGkuZmllbGRzLGZ1bmN0aW9uKGUsdCl7dmFyIHI7Yz1lLHZlKHQpJiZ0LmZpZWxkP2M9dC5maWVsZDp0eXBlb2YgdD09PURlJiYoYz10KSx2ZSh0KSYmdC5mcm9tJiYocj10LmZyb20pLGY9Znx8ciYmciE9PWV8fGMhPT1lLGc9cnx8YyxsW2VdPWcuaW5kZXhPZigiLiIpIT09LTE/VWUoZywhMCk6VWUoZyksaFtlXT1VZShlKSx1W3J8fGNdPWUsZFtlXT1yfHxjfSksIWUuc2VyaWFsaXplJiZmJiYocC5zZXJpYWxpemU9UihvLGksayxoLHUsZCkpKSxwLl9kYXRhQWNjZXNzRnVuY3Rpb249YSxwLl93cmFwRGF0YUFjY2Vzc0Jhc2U9cShpLEYsbCx1LGQpLHAuZGF0YT1SKGEsaSxGLGwsdSxkKSxwLmdyb3Vwcz1SKHMsaSx4LGwsdSxkKSl9LGVycm9yczpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLmVycm9yczpudWxsfSxwYXJzZTpIZSxkYXRhOkhlLHRvdGFsOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH0sZ3JvdXBzOkhlLGFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oKXtyZXR1cm57fX0sc2VyaWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0pLGxlPVJlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgcixpLG4sYT10aGlzO2UmJihpPWUuZGF0YSksZT1hLm9wdGlvbnM9cGUoe30sYS5vcHRpb25zLGUpLGEuX21hcD17fSxhLl9wcmVmZXRjaD17fSxhLl9kYXRhPVtdLGEuX3ByaXN0aW5lRGF0YT1bXSxhLl9yYW5nZXM9W10sYS5fdmlldz1bXSxhLl9wcmlzdGluZVRvdGFsPTAsYS5fZGVzdHJveWVkPVtdLGEuX3BhZ2VTaXplPWUucGFnZVNpemUsYS5fcGFnZT1lLnBhZ2V8fChlLnBhZ2VTaXplPzE6dCksYS5fc29ydD1zKGUuc29ydCksYS5fZmlsdGVyPWwoZS5maWx0ZXIpLGEuX2dyb3VwPXAoZS5ncm91cCksYS5fYWdncmVnYXRlPWUuYWdncmVnYXRlLGEuX3RvdGFsPWUudG90YWwsYS5fc2hvdWxkRGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM9ITAsUmUuZm4uaW5pdC5jYWxsKGEpLGEudHJhbnNwb3J0PWhlLmNyZWF0ZShlLGksYSkseGUoYS50cmFuc3BvcnQucHVzaCkmJmEudHJhbnNwb3J0LnB1c2goe3B1c2hDcmVhdGU6X2UoYS5fcHVzaENyZWF0ZSxhKSxwdXNoVXBkYXRlOl9lKGEuX3B1c2hVcGRhdGUsYSkscHVzaERlc3Ryb3k6X2UoYS5fcHVzaERlc3Ryb3ksYSl9KSxudWxsIT1lLm9mZmxpbmVTdG9yYWdlJiYoInN0cmluZyI9PXR5cGVvZiBlLm9mZmxpbmVTdG9yYWdlPyhuPWUub2ZmbGluZVN0b3JhZ2UsYS5fc3RvcmFnZT17Z2V0SXRlbTpmdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pKX0sc2V0SXRlbTpmdW5jdGlvbihlKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuLEplKGEucmVhZGVyLnNlcmlhbGl6ZShlKSkpfX0pOmEuX3N0b3JhZ2U9ZS5vZmZsaW5lU3RvcmFnZSksYS5yZWFkZXI9bmV3IEZlLmRhdGEucmVhZGVyc1tlLnNjaGVtYS50eXBlfHwianNvbiJdKGUuc2NoZW1hKSxyPWEucmVhZGVyLm1vZGVsfHx7fSxhLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpLGEuX2RhdGE9YS5fb2JzZXJ2ZShhLl9kYXRhKSxhLl9vbmxpbmU9ITAsYS5iaW5kKFsicHVzaCIsR2UsSWUsTGUsTWUsRWUsamVdLGUpfSxvcHRpb25zOntkYXRhOm51bGwsc2NoZW1hOnttb2RlbEJhc2U6Wn0sb2ZmbGluZVN0b3JhZ2U6bnVsbCxzZXJ2ZXJTb3J0aW5nOiExLHNlcnZlclBhZ2luZzohMSxzZXJ2ZXJGaWx0ZXJpbmc6ITEsc2VydmVyR3JvdXBpbmc6ITEsc2VydmVyQWdncmVnYXRlczohMSxiYXRjaDohMSxpblBsYWNlU29ydDohMX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sb25saW5lOmZ1bmN0aW9uKHIpe3JldHVybiByIT09dD90aGlzLl9vbmxpbmUhPXImJih0aGlzLl9vbmxpbmU9cixyKT90aGlzLnN5bmMoKTplLkRlZmVycmVkKCkucmVzb2x2ZSgpLnByb21pc2UoKTp0aGlzLl9vbmxpbmV9LG9mZmxpbmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10aGlzLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2U/bnVsbDplIT09dD90aGlzLl9zdG9yYWdlLnNldEl0ZW0oZSk6dGhpcy5fc3RvcmFnZS5nZXRJdGVtKCl8fFtdfSxfaXNTZXJ2ZXJHcm91cGVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ncm91cCgpfHxbXTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlcnZlckdyb3VwaW5nJiZlLmxlbmd0aH0sX3B1c2hDcmVhdGU6ZnVuY3Rpb24oZSl7dGhpcy5fcHVzaChlLCJwdXNoQ3JlYXRlIil9LF9wdXNoVXBkYXRlOmZ1bmN0aW9uKGUpe3RoaXMuX3B1c2goZSwicHVzaFVwZGF0ZSIpfSxfcHVzaERlc3Ryb3k6ZnVuY3Rpb24oZSl7dGhpcy5fcHVzaChlLCJwdXNoRGVzdHJveSIpfSxfcHVzaDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3JlYWREYXRhKGUpO3J8fChyPWUpLHRoaXNbdF0ocil9LF9mbGF0RGF0YTpmdW5jdGlvbihlLHQpe2lmKGUpe2lmKHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpKXJldHVybiBPKGUpO2lmKCF0KWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWUuYXQocil9cmV0dXJuIGV9LHBhcmVudDprZSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQscixpPXRoaXMuX2ZsYXREYXRhKHRoaXMuX2RhdGEsdGhpcy5vcHRpb25zLnVzZVJhbmdlcyk7Zm9yKHQ9MCxyPWkubGVuZ3RoO3Q8cjt0KyspaWYoaVt0XS5pZD09ZSlyZXR1cm4gaVt0XX0sZ2V0QnlVaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldEJ5VWlkKGUsdGhpcy5fZGF0YSl9LF9nZXRCeVVpZDpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLl9mbGF0RGF0YSh0LHRoaXMub3B0aW9ucy51c2VSYW5nZXMpO2lmKG4pZm9yKHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspaWYobltyXS51aWQ9PWUpcmV0dXJuIG5bcl19LGluZGV4T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIEwodGhpcy5fZGF0YSxlKX0sYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGEuYXQoZSl9LGRhdGE6ZnVuY3Rpb24oZSl7dmFyIHIsaT10aGlzO2lmKGU9PT10KXtpZihpLl9kYXRhKWZvcihyPTA7cjxpLl9kYXRhLmxlbmd0aDtyKyspaS5fZGF0YS5hdChyKTtyZXR1cm4gaS5fZGF0YX1pLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpLGkuX2RhdGE9dGhpcy5fb2JzZXJ2ZShlKSxpLl9wcmlzdGluZURhdGE9ZS5zbGljZSgwKSxpLl9zdG9yZURhdGEoKSxpLl9yYW5nZXM9W10saS50cmlnZ2VyKCJyZXNldCIpLGkuX2FkZFJhbmdlKGkuX2RhdGEpLGkuX3RvdGFsPWkuX2RhdGEubGVuZ3RoLGkuX3ByaXN0aW5lVG90YWw9aS5fdG90YWwsaS5fcHJvY2VzcyhpLl9kYXRhKX0sdmlldzpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fdmlldzoodGhpcy5fdmlldz10aGlzLl9vYnNlcnZlVmlldyhlKSx0KX0sX29ic2VydmVWaWV3OmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztyZXR1cm4gTShlLHIuX2RhdGEsci5fcmFuZ2VzLHIucmVhZGVyLm1vZGVsfHxLLHIuX2lzU2VydmVyR3JvdXBlZCgpKSx0PW5ldyAkKGUsci5yZWFkZXIubW9kZWwpLHQucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHIucGFyZW50KCl9LHR9LGZsYXRWaWV3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ncm91cCgpfHxbXTtyZXR1cm4gZS5sZW5ndGg/Tyh0aGlzLl92aWV3KTp0aGlzLl92aWV3fSxhZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5zZXJ0KHRoaXMuX2RhdGEubGVuZ3RoLGUpfSxfY3JlYXRlTmV3TW9kZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVhZGVyLm1vZGVsP25ldyB0aGlzLnJlYWRlci5tb2RlbChlKTplIGluc3RhbmNlb2YgSz9lOm5ldyBLKGUpfSxpbnNlcnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9ZSxlPTApLHQgaW5zdGFuY2VvZiBafHwodD10aGlzLl9jcmVhdGVOZXdNb2RlbCh0KSksdGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/dGhpcy5fZGF0YS5zcGxpY2UoZSwwLHRoaXMuX3dyYXBJbkVtcHR5R3JvdXAodCkpOnRoaXMuX2RhdGEuc3BsaWNlKGUsMCx0KSx0aGlzLl9pbnNlcnRNb2RlbEluUmFuZ2UoZSx0KSx0fSxwdXNoSW5zZXJ0OmZ1bmN0aW9uKHQscil7dmFyIGksbixhLHMsbyx1LGw9dGhpcyxoPWwuX2dldEN1cnJlbnRSYW5nZVNwYW4oKTtyfHwocj10LHQ9MCkseWUocil8fChyPVtyXSksaT1bXSxuPXRoaXMub3B0aW9ucy5hdXRvU3luYyx0aGlzLm9wdGlvbnMuYXV0b1N5bmM9ITE7dHJ5e2ZvcihhPTA7YTxyLmxlbmd0aDthKyspcz1yW2FdLG89dGhpcy5pbnNlcnQodCxzKSxpLnB1c2gobyksdT1vLnRvSlNPTigpLHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpJiYodT10aGlzLl93cmFwSW5FbXB0eUdyb3VwKHUpKSx0aGlzLl9wcmlzdGluZURhdGEucHVzaCh1KSxoJiZoLmxlbmd0aCYmZShoKS5sYXN0KClbMF0ucHJpc3RpbmVEYXRhLnB1c2godSksdCsrfWZpbmFsbHl7dGhpcy5vcHRpb25zLmF1dG9TeW5jPW59aS5sZW5ndGgmJnRoaXMudHJpZ2dlcigicHVzaCIse3R5cGU6ImNyZWF0ZSIsaXRlbXM6aX0pfSxwdXNoQ3JlYXRlOmZ1bmN0aW9uKGUpe3RoaXMucHVzaEluc2VydCh0aGlzLl9kYXRhLmxlbmd0aCxlKX0scHVzaFVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxyLGksbixhO2Zvcih5ZShlKXx8KGU9W2VdKSx0PVtdLHI9MDtyPGUubGVuZ3RoO3IrKylpPWVbcl0sbj10aGlzLl9jcmVhdGVOZXdNb2RlbChpKSxhPXRoaXMuZ2V0KG4uaWQpLGE/KHQucHVzaChhKSxhLmFjY2VwdChpKSxhLnRyaWdnZXIoSWUpLHRoaXMuX3VwZGF0ZVByaXN0aW5lRm9yTW9kZWwoYSxpKSk6dGhpcy5wdXNoQ3JlYXRlKGkpO3QubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoInB1c2giLHt0eXBlOiJ1cGRhdGUiLGl0ZW1zOnR9KX0scHVzaERlc3Ryb3k6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVtb3ZlSXRlbXMoZSk7dC5sZW5ndGgmJnRoaXMudHJpZ2dlcigicHVzaCIse3R5cGU6ImRlc3Ryb3kiLGl0ZW1zOnR9KX0sX3JlbW92ZUl0ZW1zOmZ1bmN0aW9uKGUscil7dmFyIGksbixhLHMsbyx1LGw7eWUoZSl8fChlPVtlXSksaT10PT09cnx8cixuPVtdLGE9dGhpcy5vcHRpb25zLmF1dG9TeW5jLHRoaXMub3B0aW9ucy5hdXRvU3luYz0hMTt0cnl7Zm9yKHM9MDtzPGUubGVuZ3RoO3MrKylvPWVbc10sdT10aGlzLl9jcmVhdGVOZXdNb2RlbChvKSxsPSExLHRoaXMuX2VhY2hJdGVtKHRoaXMuX2RhdGEsZnVuY3Rpb24oZSl7dmFyIHQscjtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKHI9ZS5hdCh0KSxyLmlkPT09dS5pZCl7bi5wdXNoKHIpLGUuc3BsaWNlKHQsMSksbD0hMDticmVha319KSxsJiZpJiYodGhpcy5fcmVtb3ZlUHJpc3RpbmVGb3JNb2RlbCh1KSx0aGlzLl9kZXN0cm95ZWQucG9wKCkpfWZpbmFsbHl7dGhpcy5vcHRpb25zLmF1dG9TeW5jPWF9cmV0dXJuIG59LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMsaT1yLl9pc1NlcnZlckdyb3VwZWQoKTtyZXR1cm4gdGhpcy5fZWFjaEl0ZW0oci5fZGF0YSxmdW5jdGlvbihuKXtpZih0PU4obixlKSx0JiZpKXJldHVybiB0LmlzTmV3JiZ0LmlzTmV3KCl8fHIuX2Rlc3Ryb3llZC5wdXNoKHQpLCEwfSksdGhpcy5fcmVtb3ZlTW9kZWxGcm9tUmFuZ2VzKGUpLGV9LGRlc3Ryb3llZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9LGNyZWF0ZWQ6ZnVuY3Rpb24oKXt2YXIgZSx0LHI9W10saT10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhLHRoaXMub3B0aW9ucy51c2VSYW5nZXMpO2ZvcihlPTAsdD1pLmxlbmd0aDtlPHQ7ZSsrKWlbZV0uaXNOZXcmJmlbZV0uaXNOZXcoKSYmci5wdXNoKGlbZV0pO3JldHVybiByfSx1cGRhdGVkOmZ1bmN0aW9uKCl7dmFyIGUsdCxyPVtdLGk9dGhpcy5fZmxhdERhdGEodGhpcy5fZGF0YSx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKTtmb3IoZT0wLHQ9aS5sZW5ndGg7ZTx0O2UrKylpW2VdLmlzTmV3JiYhaVtlXS5pc05ldygpJiZpW2VdLmRpcnR5JiZyLnB1c2goaVtlXSk7cmV0dXJuIHJ9LHN5bmM6ZnVuY3Rpb24oKXt2YXIgdCxyPXRoaXMsaT1bXSxuPVtdLGE9ci5fZGVzdHJveWVkLHM9ZS5EZWZlcnJlZCgpLnJlc29sdmUoKS5wcm9taXNlKCk7aWYoci5vbmxpbmUoKSl7aWYoIXIucmVhZGVyLm1vZGVsKXJldHVybiBzO2k9ci5jcmVhdGVkKCksbj1yLnVwZGF0ZWQoKSx0PVtdLHIub3B0aW9ucy5iYXRjaCYmci50cmFuc3BvcnQuc3VibWl0P3Q9ci5fc2VuZFN1Ym1pdChpLG4sYSk6KHQucHVzaC5hcHBseSh0LHIuX3NlbmQoImNyZWF0ZSIsaSkpLHQucHVzaC5hcHBseSh0LHIuX3NlbmQoInVwZGF0ZSIsbikpLHQucHVzaC5hcHBseSh0LHIuX3NlbmQoImRlc3Ryb3kiLGEpKSkscz1lLndoZW4uYXBwbHkobnVsbCx0KS50aGVuKGZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IoZT0wLHQ9YXJndW1lbnRzLmxlbmd0aDtlPHQ7ZSsrKWFyZ3VtZW50c1tlXSYmci5fYWNjZXB0KGFyZ3VtZW50c1tlXSk7ci5fc3RvcmVEYXRhKCEwKSxyLl9zeW5jRW5kKCksci5fY2hhbmdlKHthY3Rpb246InN5bmMifSksci50cmlnZ2VyKE1lKX0pfWVsc2Ugci5fc3RvcmVEYXRhKCEwKSxyLl9zeW5jRW5kKCksci5fY2hhbmdlKHthY3Rpb246InN5bmMifSk7cmV0dXJuIHN9LF9zeW5jRW5kOmtlLGNhbmNlbENoYW5nZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlIGluc3RhbmNlb2YgRmUuZGF0YS5Nb2RlbD90Ll9jYW5jZWxNb2RlbChlKToodC5fZGVzdHJveWVkPVtdLHQuX2RldGFjaE9ic2VydmFibGVQYXJlbnRzKCksdC5fZGF0YT10Ll9vYnNlcnZlKHQuX3ByaXN0aW5lRGF0YSksdC5vcHRpb25zLnNlcnZlclBhZ2luZyYmKHQuX3RvdGFsPXQuX3ByaXN0aW5lVG90YWwpLHQuX3Jhbmdlcz1bXSx0Ll9hZGRSYW5nZSh0Ll9kYXRhLDApLHQuX2NoYW5nZXNDYW5jZWxlZCgpLHQuX2NoYW5nZSgpLHQuX21hcmtPZmZsaW5lVXBkYXRlc0FzRGlydHkoKSl9LF9jaGFuZ2VzQ2FuY2VsZWQ6a2UsX21hcmtPZmZsaW5lVXBkYXRlc0FzRGlydHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO251bGwhPWUub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSYmZS5fZWFjaEl0ZW0oZS5fZGF0YSxmdW5jdGlvbihlKXt2YXIgdCxyO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kyspcj1lLmF0KHQpLCJ1cGRhdGUiIT1yLl9fc3RhdGVfXyYmImNyZWF0ZSIhPXIuX19zdGF0ZV9ffHwoci5kaXJ0eT0hMCk7DQp9KX0saGFzQ2hhbmdlczpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhLHRoaXMub3B0aW9ucy51c2VSYW5nZXMpO2lmKHRoaXMuX2Rlc3Ryb3llZC5sZW5ndGgpcmV0dXJuITA7Zm9yKGU9MCx0PXIubGVuZ3RoO2U8dDtlKyspaWYocltlXS5pc05ldyYmcltlXS5pc05ldygpfHxyW2VdLmRpcnR5KXJldHVybiEwO3JldHVybiExfSxfYWNjZXB0OmZ1bmN0aW9uKHQpe3ZhciByLGk9dGhpcyxuPXQubW9kZWxzLGE9dC5yZXNwb25zZSxzPTAsbz1pLl9pc1NlcnZlckdyb3VwZWQoKSx1PWkuX3ByaXN0aW5lRGF0YSxsPXQudHlwZTtpZihpLnRyaWdnZXIoRWUse3Jlc3BvbnNlOmEsdHlwZTpsfSksYSYmIW1lKGEpKXtpZihhPWkucmVhZGVyLnBhcnNlKGEpLGkuX2hhbmRsZUN1c3RvbUVycm9ycyhhKSlyZXR1cm47YT1pLnJlYWRlci5kYXRhKGEpLHllKGEpfHwoYT1bYV0pfWVsc2UgYT1lLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSk7Zm9yKCJkZXN0cm95Ij09PWwmJihpLl9kZXN0cm95ZWQ9W10pLHM9MCxyPW4ubGVuZ3RoO3M8cjtzKyspImRlc3Ryb3kiIT09bD8obltzXS5hY2NlcHQoYVtzXSksImNyZWF0ZSI9PT1sP3UucHVzaChvP2kuX3dyYXBJbkVtcHR5R3JvdXAobltzXS50b0pTT04oKSk6YVtzXSk6InVwZGF0ZSI9PT1sJiZpLl91cGRhdGVQcmlzdGluZUZvck1vZGVsKG5bc10sYVtzXSkpOmkuX3JlbW92ZVByaXN0aW5lRm9yTW9kZWwobltzXSl9LF91cGRhdGVQcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZXhlY3V0ZU9uUHJpc3RpbmVGb3JNb2RlbChlLGZ1bmN0aW9uKGUscil7RmUuZGVlcEV4dGVuZChyW2VdLHQpfSl9LF9leGVjdXRlT25QcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZWFjaFByaXN0aW5lSXRlbShmdW5jdGlvbihyKXt2YXIgaT1HKHIsZSk7aWYoaT4tMSlyZXR1cm4gdChpLHIpLCEwfSl9LF9yZW1vdmVQcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKGUpe3RoaXMuX2V4ZWN1dGVPblByaXN0aW5lRm9yTW9kZWwoZSxmdW5jdGlvbihlLHQpe3Quc3BsaWNlKGUsMSl9KX0sX3JlYWREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2lzU2VydmVyR3JvdXBlZCgpP3RoaXMucmVhZGVyLmdyb3Vwczp0aGlzLnJlYWRlci5kYXRhO3JldHVybiB0LmNhbGwodGhpcy5yZWFkZXIsZSl9LF9lYWNoUHJpc3RpbmVJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Lm9wdGlvbnMsaT10Ll9nZXRDdXJyZW50UmFuZ2VTcGFuKCk7dC5fZWFjaEl0ZW0odC5fcHJpc3RpbmVEYXRhLGUpLHIuc2VydmVyUGFnaW5nJiZyLnVzZVJhbmdlcyYmd2UoaSxmdW5jdGlvbihyLGkpe3QuX2VhY2hJdGVtKGkucHJpc3RpbmVEYXRhLGUpfSl9LF9lYWNoSXRlbTpmdW5jdGlvbihlLHQpe2UmJmUubGVuZ3RoJiYodGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/VChlLHQpOnQoZSkpfSxfcHJpc3RpbmVGb3JNb2RlbDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9ZnVuY3Rpb24oaSl7aWYocj1HKGksZSkscj4tMSlyZXR1cm4gdD1pW3JdLCEwfTtyZXR1cm4gdGhpcy5fZWFjaFByaXN0aW5lSXRlbShpKSx0fSxfY2FuY2VsTW9kZWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuX3ByaXN0aW5lRm9yTW9kZWwoZSk7dGhpcy5fZWFjaEl0ZW0odGhpcy5fZGF0YSxmdW5jdGlvbihpKXt2YXIgbj1MKGksZSk7bj49MCYmKCFyfHxlLmlzTmV3KCkmJiFyLl9fc3RhdGVfXz8odC5fbW9kZWxDYW5jZWxlZChlKSxpLnNwbGljZShuLDEpLHQuX3JlbW92ZU1vZGVsRnJvbVJhbmdlcyhlKSk6KGlbbl0uYWNjZXB0KHIpLCJ1cGRhdGUiPT1yLl9fc3RhdGVfXyYmKGlbbl0uZGlydHk9ITApKSl9KX0sX21vZGVsQ2FuY2VsZWQ6a2UsX3N1Ym1pdDpmdW5jdGlvbih0LHIpe3ZhciBpPXRoaXM7aS50cmlnZ2VyKExlLHt0eXBlOiJzdWJtaXQifSksaS50cmlnZ2VyKGplKSxpLnRyYW5zcG9ydC5zdWJtaXQocGUoe3N1Y2Nlc3M6ZnVuY3Rpb24ocixpKXt2YXIgbj1lLmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT1pfSlbMF07biYmbi5yZXNvbHZlKHtyZXNwb25zZTpyLG1vZGVsczpuLm1vZGVscyx0eXBlOml9KX0sZXJyb3I6ZnVuY3Rpb24oZSxyLG4pe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0ucmVqZWN0KGUpO2kuZXJyb3IoZSxyLG4pfX0scikpfSxfc2VuZFN1Ym1pdDpmdW5jdGlvbih0LHIsaSl7dmFyIG49dGhpcyxhPVtdO3JldHVybiBuLm9wdGlvbnMuYmF0Y2gmJih0Lmxlbmd0aCYmYS5wdXNoKGUuRGVmZXJyZWQoZnVuY3Rpb24oZSl7ZS50eXBlPSJjcmVhdGUiLGUubW9kZWxzPXR9KSksci5sZW5ndGgmJmEucHVzaChlLkRlZmVycmVkKGZ1bmN0aW9uKGUpe2UudHlwZT0idXBkYXRlIixlLm1vZGVscz1yfSkpLGkubGVuZ3RoJiZhLnB1c2goZS5EZWZlcnJlZChmdW5jdGlvbihlKXtlLnR5cGU9ImRlc3Ryb3kiLGUubW9kZWxzPWl9KSksbi5fc3VibWl0KGEse2RhdGE6e2NyZWF0ZWQ6bi5yZWFkZXIuc2VyaWFsaXplKHcodCkpLHVwZGF0ZWQ6bi5yZWFkZXIuc2VyaWFsaXplKHcocikpLGRlc3Ryb3llZDpuLnJlYWRlci5zZXJpYWxpemUodyhpKSl9fSkpLGF9LF9wcm9taXNlOmZ1bmN0aW9uKHQscixpKXt2YXIgbj10aGlzO3JldHVybiBlLkRlZmVycmVkKGZ1bmN0aW9uKGUpe24udHJpZ2dlcihMZSx7dHlwZTppfSksbi50cmlnZ2VyKGplKSxuLnRyYW5zcG9ydFtpXS5jYWxsKG4udHJhbnNwb3J0LHBlKHtzdWNjZXNzOmZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh7cmVzcG9uc2U6dCxtb2RlbHM6cix0eXBlOml9KX0sZXJyb3I6ZnVuY3Rpb24odCxyLGkpe2UucmVqZWN0KHQpLG4uZXJyb3IodCxyLGkpfX0sdCkpfSkucHJvbWlzZSgpfSxfc2VuZDpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLGE9W10scz1uLnJlYWRlci5zZXJpYWxpemUodyh0KSk7aWYobi5vcHRpb25zLmJhdGNoKXQubGVuZ3RoJiZhLnB1c2gobi5fcHJvbWlzZSh7ZGF0YTp7bW9kZWxzOnN9fSx0LGUpKTtlbHNlIGZvcihyPTAsaT10Lmxlbmd0aDtyPGk7cisrKWEucHVzaChuLl9wcm9taXNlKHtkYXRhOnNbcl19LFt0W3JdXSxlKSk7cmV0dXJuIGF9LHJlYWQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPXIuX3BhcmFtcyh0KSxuPWUuRGVmZXJyZWQoKTtyZXR1cm4gci5fcXVldWVSZXF1ZXN0KGksZnVuY3Rpb24oKXt2YXIgZT1yLnRyaWdnZXIoTGUse3R5cGU6InJlYWQifSk7ZT8oci5fZGVxdWV1ZVJlcXVlc3QoKSxuLnJlc29sdmUoZSkpOihyLnRyaWdnZXIoamUpLHIuX3Jhbmdlcz1bXSxyLnRyaWdnZXIoInJlc2V0Iiksci5vbmxpbmUoKT9yLnRyYW5zcG9ydC5yZWFkKHtkYXRhOmksc3VjY2VzczpmdW5jdGlvbihlKXtyLl9yYW5nZXM9W10sci5zdWNjZXNzKGUsaSksbi5yZXNvbHZlKCl9LGVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9WWUuY2FsbChhcmd1bWVudHMpO3IuZXJyb3IuYXBwbHkocixlKSxuLnJlamVjdC5hcHBseShuLGUpfX0pOm51bGwhPXIub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSYmKHIuc3VjY2VzcyhyLm9mZmxpbmVEYXRhKCksaSksbi5yZXNvbHZlKCkpKX0pLG4ucHJvbWlzZSgpfSxfcmVhZEFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVhZGVyLmFnZ3JlZ2F0ZXMoZSl9LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHIsaSxuLGEscyxvLHUsbCxoLGQsZixjPXRoaXMsZz1jLm9wdGlvbnM7aWYoYy50cmlnZ2VyKEVlLHtyZXNwb25zZTplLHR5cGU6InJlYWQifSksYy5vbmxpbmUoKSl7aWYoZT1jLnJlYWRlci5wYXJzZShlKSxjLl9oYW5kbGVDdXN0b21FcnJvcnMoZSkpcmV0dXJuIGMuX2RlcXVldWVSZXF1ZXN0KCksdDtjLl90b3RhbD1jLnJlYWRlci50b3RhbChlKSxjLl9wYWdlU2l6ZT5jLl90b3RhbCYmKGMuX3BhZ2VTaXplPWMuX3RvdGFsLGMub3B0aW9ucy5wYWdlU2l6ZSYmYy5vcHRpb25zLnBhZ2VTaXplPmMuX3BhZ2VTaXplJiYoYy5fcGFnZVNpemU9Yy5vcHRpb25zLnBhZ2VTaXplKSksYy5fYWdncmVnYXRlJiZnLnNlcnZlckFnZ3JlZ2F0ZXMmJihjLl9hZ2dyZWdhdGVSZXN1bHQ9Yy5fcmVhZEFnZ3JlZ2F0ZXMoZSkpLGU9Yy5fcmVhZERhdGEoZSksYy5fZGVzdHJveWVkPVtdfWVsc2V7Zm9yKGU9Yy5fcmVhZERhdGEoZSkscj1bXSxuPXt9LGE9Yy5yZWFkZXIubW9kZWwscz1hP2EuaWRGaWVsZDoiaWQiLG89MDtvPHRoaXMuX2Rlc3Ryb3llZC5sZW5ndGg7bysrKXU9dGhpcy5fZGVzdHJveWVkW29dW3NdLG5bdV09dTtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWw9ZVtvXSxoPWwuX19zdGF0ZV9fLCJkZXN0cm95Ij09aD9uW2xbc11dfHx0aGlzLl9kZXN0cm95ZWQucHVzaCh0aGlzLl9jcmVhdGVOZXdNb2RlbChsKSk6ci5wdXNoKGwpO2U9cixjLl90b3RhbD1lLmxlbmd0aH1pZihjLl9wcmlzdGluZVRvdGFsPWMuX3RvdGFsLGk9Yy5fc2tpcCYmYy5fZGF0YS5sZW5ndGgmJmMuX3NraXA8Yy5fZGF0YS5sZW5ndGgsYy5vcHRpb25zLmVuZGxlc3MpZm9yKGkmJmMuX3ByaXN0aW5lRGF0YS5zcGxpY2UoYy5fc2tpcCxjLl9wcmlzdGluZURhdGEubGVuZ3RoKSxyPWUuc2xpY2UoMCksZD0wO2Q8ci5sZW5ndGg7ZCsrKWMuX3ByaXN0aW5lRGF0YS5wdXNoKHJbZF0pO2Vsc2UgYy5fcHJpc3RpbmVEYXRhPWUuc2xpY2UoMCk7aWYoYy5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSxjLm9wdGlvbnMuZW5kbGVzcyl7Zm9yKGMuX2RhdGEudW5iaW5kKEllLGMuX2NoYW5nZUhhbmRsZXIpLGMuX2lzU2VydmVyR3JvdXBlZCgpJiZjLl9kYXRhW2MuX2RhdGEubGVuZ3RoLTFdLnZhbHVlPT09ZVswXS52YWx1ZSYmKEQoYy5fZGF0YVtjLl9kYXRhLmxlbmd0aC0xXSxlWzBdKSxlLnNoaWZ0KCkpLGU9Yy5fb2JzZXJ2ZShlKSxpJiZjLl9kYXRhLnNwbGljZShjLl9za2lwLGMuX2RhdGEubGVuZ3RoKSxmPTA7ZjxlLmxlbmd0aDtmKyspYy5fZGF0YS5wdXNoKGVbZl0pO2MuX2RhdGEuYmluZChJZSxjLl9jaGFuZ2VIYW5kbGVyKX1lbHNlIGMuX2RhdGE9Yy5fb2JzZXJ2ZShlKTtjLl9tYXJrT2ZmbGluZVVwZGF0ZXNBc0RpcnR5KCksYy5fc3RvcmVEYXRhKCksYy5fYWRkUmFuZ2UoYy5fZGF0YSksYy5fcHJvY2VzcyhjLl9kYXRhKSxjLl9kZXF1ZXVlUmVxdWVzdCgpfSxfZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhJiZ0aGlzLl9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cylmb3IodmFyIGU9MDtlPHRoaXMuX2RhdGEubGVuZ3RoO2UrKyl0aGlzLl9kYXRhW2VdLnBhcmVudCYmKHRoaXMuX2RhdGFbZV0ucGFyZW50PWtlKX0sX3N0b3JlRGF0YTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByLGksbixhPVtdO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspaT1lLmF0KHIpLG49aS50b0pTT04oKSxzJiZpLml0ZW1zP24uaXRlbXM9dChpLml0ZW1zKToobi51aWQ9aS51aWQsbyYmKGkuaXNOZXcoKT9uLl9fc3RhdGVfXz0iY3JlYXRlIjppLmRpcnR5JiYobi5fX3N0YXRlX189InVwZGF0ZSIpKSksYS5wdXNoKG4pO3JldHVybiBhfXZhciByLGksbixhLHM9dGhpcy5faXNTZXJ2ZXJHcm91cGVkKCksbz10aGlzLnJlYWRlci5tb2RlbDtpZihudWxsIT10aGlzLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2Upe2ZvcihyPXQodGhpcy5fZGF0YSksaT1bXSxuPTA7bjx0aGlzLl9kZXN0cm95ZWQubGVuZ3RoO24rKylhPXRoaXMuX2Rlc3Ryb3llZFtuXS50b0pTT04oKSxhLl9fc3RhdGVfXz0iZGVzdHJveSIsaS5wdXNoKGEpO3RoaXMub2ZmbGluZURhdGEoci5jb25jYXQoaSkpLGUmJih0aGlzLl9wcmlzdGluZURhdGE9dGhpcy5yZWFkZXIucmVhZGVyP3RoaXMucmVhZGVyLnJlYWRlci5fd3JhcERhdGFBY2Nlc3NCYXNlKHIpOnRoaXMucmVhZGVyLl93cmFwRGF0YUFjY2Vzc0Jhc2UocikpfX0sX2FkZFJhbmdlOmZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcyxuPXQhPT1yP3I6aS5fc2tpcHx8MCxhPW4raS5fZmxhdERhdGEoZSwhMCkubGVuZ3RoO2kuX3Jhbmdlcy5wdXNoKHtzdGFydDpuLGVuZDphLGRhdGE6ZSxwcmlzdGluZURhdGE6ZS50b0pTT04oKSx0aW1lc3RhbXA6aS5fdGltZVN0YW1wKCl9KSxpLl9zb3J0UmFuZ2VzKCl9LF9zb3J0UmFuZ2VzOmZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGFydC10LnN0YXJ0fSl9LGVycm9yOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9kZXF1ZXVlUmVxdWVzdCgpLHRoaXMudHJpZ2dlcihFZSx7fSksdGhpcy50cmlnZ2VyKEdlLHt4aHI6ZSxzdGF0dXM6dCxlcnJvclRocm93bjpyfSl9LF9wYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXBlKHt0YWtlOnQudGFrZSgpLHNraXA6dC5za2lwKCkscGFnZTp0LnBhZ2UoKSxwYWdlU2l6ZTp0LnBhZ2VTaXplKCksc29ydDp0Ll9zb3J0LGZpbHRlcjp0Ll9maWx0ZXIsZ3JvdXA6dC5fZ3JvdXAsYWdncmVnYXRlOnQuX2FnZ3JlZ2F0ZX0sZSk7cmV0dXJuIHQub3B0aW9ucy5zZXJ2ZXJQYWdpbmd8fChkZWxldGUgci50YWtlLGRlbGV0ZSByLnNraXAsZGVsZXRlIHIucGFnZSxkZWxldGUgci5wYWdlU2l6ZSksdC5vcHRpb25zLnNlcnZlckdyb3VwaW5nP3QucmVhZGVyLm1vZGVsJiZyLmdyb3VwJiYoci5ncm91cD1IKHIuZ3JvdXAsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgci5ncm91cCx0Lm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nP3QucmVhZGVyLm1vZGVsJiZyLmZpbHRlciYmKHIuZmlsdGVyPUIoci5maWx0ZXIsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgci5maWx0ZXIsdC5vcHRpb25zLnNlcnZlclNvcnRpbmc/dC5yZWFkZXIubW9kZWwmJnIuc29ydCYmKHIuc29ydD1IKHIuc29ydCx0LnJlYWRlci5tb2RlbCkpOmRlbGV0ZSByLnNvcnQsdC5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXM/dC5yZWFkZXIubW9kZWwmJnIuYWdncmVnYXRlJiYoci5hZ2dyZWdhdGU9SChyLmFnZ3JlZ2F0ZSx0LnJlYWRlci5tb2RlbCkpOmRlbGV0ZSByLmFnZ3JlZ2F0ZSxyfSxfcXVldWVSZXF1ZXN0OmZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcztpLl9yZXF1ZXN0SW5Qcm9ncmVzcz9pLl9wZW5kaW5nPXtjYWxsYmFjazpfZShyLGkpLG9wdGlvbnM6ZX06KGkuX3JlcXVlc3RJblByb2dyZXNzPSEwLGkuX3BlbmRpbmc9dCxyKCkpfSxfZGVxdWV1ZVJlcXVlc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlcXVlc3RJblByb2dyZXNzPSExLGUuX3BlbmRpbmcmJmUuX3F1ZXVlUmVxdWVzdChlLl9wZW5kaW5nLm9wdGlvbnMsZS5fcGVuZGluZy5jYWxsYmFjayl9LF9oYW5kbGVDdXN0b21FcnJvcnM6ZnVuY3Rpb24oZSl7aWYodGhpcy5yZWFkZXIuZXJyb3JzKXt2YXIgdD10aGlzLnJlYWRlci5lcnJvcnMoZSk7aWYodClyZXR1cm4gdGhpcy50cmlnZ2VyKEdlLHt4aHI6bnVsbCxzdGF0dXM6ImN1c3RvbWVycm9yIixlcnJvclRocm93bjoiY3VzdG9tIGVycm9yIixlcnJvcnM6dH0pLCEwfXJldHVybiExfSxfc2hvdWxkV3JhcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlYWRlci5tb2RlbDtyZXR1cm4hKCF0fHwhZS5sZW5ndGgpJiYhKGVbMF1pbnN0YW5jZW9mIHQpfSxfb2JzZXJ2ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMsaT1yLnJlYWRlci5tb2RlbDtyZXR1cm4gci5fc2hvdWxkRGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM9ITAsZSBpbnN0YW5jZW9mIGl0PyhyLl9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cz0hMSxyLl9zaG91bGRXcmFwKGUpJiYoZS50eXBlPXIucmVhZGVyLm1vZGVsLGUud3JhcEFsbChlLGUpKSk6KHQ9ci5wYWdlU2l6ZSgpJiYhci5vcHRpb25zLnNlcnZlclBhZ2luZz8kOml0LGU9bmV3IHQoZSxyLnJlYWRlci5tb2RlbCksZS5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gci5wYXJlbnQoKX0pLHIuX2lzU2VydmVyR3JvdXBlZCgpJiZQKGUsaSksIShyLl9jaGFuZ2VIYW5kbGVyJiZyLl9kYXRhJiZyLl9kYXRhIGluc3RhbmNlb2YgaXQpfHxyLm9wdGlvbnMudXNlUmFuZ2VzJiZyLm9wdGlvbnMuc2VydmVyUGFnaW5nP3IuX2NoYW5nZUhhbmRsZXI9X2Uoci5fY2hhbmdlLHIpOnIuX2RhdGEudW5iaW5kKEllLHIuX2NoYW5nZUhhbmRsZXIpLGUuYmluZChJZSxyLl9jaGFuZ2VIYW5kbGVyKX0sX3VwZGF0ZVRvdGFsRm9yQWN0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXBhcnNlSW50KHIuX3RvdGFsLDEwKTtTKHIuX3RvdGFsKXx8KGk9cGFyc2VJbnQoci5fcHJpc3RpbmVUb3RhbCwxMCkpLCJhZGQiPT09ZT9pKz10Lmxlbmd0aDoicmVtb3ZlIj09PWU/aS09dC5sZW5ndGg6Iml0ZW1jaGFuZ2UiPT09ZXx8InN5bmMiPT09ZXx8ci5vcHRpb25zLnNlcnZlclBhZ2luZz8ic3luYyI9PT1lJiYoaT1yLl9wcmlzdGluZVRvdGFsPXBhcnNlSW50KHIuX3RvdGFsLDEwKSk6aT1yLl9wcmlzdGluZVRvdGFsLHIuX3RvdGFsPWl9LF9jaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQscixpLG49dGhpcyxhPWU/ZS5hY3Rpb246IiI7aWYoInJlbW92ZSI9PT1hKWZvcih0PTAscj1lLml0ZW1zLmxlbmd0aDt0PHI7dCsrKWUuaXRlbXNbdF0uaXNOZXcmJmUuaXRlbXNbdF0uaXNOZXcoKXx8bi5fZGVzdHJveWVkLnB1c2goZS5pdGVtc1t0XSk7IW4ub3B0aW9ucy5hdXRvU3luY3x8ImFkZCIhPT1hJiYicmVtb3ZlIiE9PWEmJiJpdGVtY2hhbmdlIiE9PWE/KG4uX3VwZGF0ZVRvdGFsRm9yQWN0aW9uKGEsZT9lLml0ZW1zOltdKSxuLl9wcm9jZXNzKG4uX2RhdGEsZSkpOihpPWZ1bmN0aW9uKHQpeyJzeW5jIj09PXQuYWN0aW9uJiYobi51bmJpbmQoImNoYW5nZSIsaSksbi5fdXBkYXRlVG90YWxGb3JBY3Rpb24oYSxlLml0ZW1zKSl9LG4uZmlyc3QoImNoYW5nZSIsaSksbi5zeW5jKCkpfSxfY2FsY3VsYXRlQWdncmVnYXRlczpmdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHI9bmV3IGEoZSksaT10LmFnZ3JlZ2F0ZSxuPXQuZmlsdGVyO3JldHVybiBuJiYocj1yLmZpbHRlcihuKSksci5hZ2dyZWdhdGUoaSl9LF9wcm9jZXNzOmZ1bmN0aW9uKGUscil7dmFyIGksbj10aGlzLGE9e307bi5vcHRpb25zLnNlcnZlclBhZ2luZyE9PSEwJiYoYS5za2lwPW4uX3NraXAsYS50YWtlPW4uX3Rha2V8fG4uX3BhZ2VTaXplLGEuc2tpcD09PXQmJm4uX3BhZ2UhPT10JiZuLl9wYWdlU2l6ZSE9PXQmJihhLnNraXA9KG4uX3BhZ2UtMSkqbi5fcGFnZVNpemUpLG4ub3B0aW9ucy51c2VSYW5nZXMmJihhLnNraXA9bi5jdXJyZW50UmFuZ2VTdGFydCgpKSksbi5vcHRpb25zLnNlcnZlclNvcnRpbmchPT0hMCYmKGEuc29ydD1uLl9zb3J0KSxuLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nIT09ITAmJihhLmZpbHRlcj1uLl9maWx0ZXIpLG4ub3B0aW9ucy5zZXJ2ZXJHcm91cGluZyE9PSEwJiYoYS5ncm91cD1uLl9ncm91cCksbi5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXMhPT0hMCYmKGEuYWdncmVnYXRlPW4uX2FnZ3JlZ2F0ZSksbi5vcHRpb25zLnNlcnZlckdyb3VwaW5nJiZuLl9jbGVhckVtcHR5R3JvdXBzKGUpLGk9bi5fcXVlcnlQcm9jZXNzKGUsYSksbi5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXMhPT0hMCYmKG4uX2FnZ3JlZ2F0ZVJlc3VsdD1uLl9jYWxjdWxhdGVBZ2dyZWdhdGVzKGkuZGF0YVRvQWdncmVnYXRlfHxlLGEpKSxuLnZpZXcoaS5kYXRhKSxuLl9zZXRGaWx0ZXJUb3RhbChpLnRvdGFsLCExKSxyPXJ8fHt9LHIuaXRlbXM9ci5pdGVtc3x8bi5fdmlldyxuLnRyaWdnZXIoSWUscil9LF9jbGVhckVtcHR5R3JvdXBzOmZ1bmN0aW9uKGUpe3ZhciB0LHI7Zm9yKHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSlyPWVbdF0sci5oYXNTdWJncm91cHM/dGhpcy5fY2xlYXJFbXB0eUdyb3VwcyhyLml0ZW1zKTpyLml0ZW1zJiYhci5pdGVtcy5sZW5ndGgmJktlLmFwcGx5KHIucGFyZW50KCksW3QsMV0pfSxfcXVlcnlQcm9jZXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3B0aW9ucy5pblBsYWNlU29ydD9hLnByb2Nlc3MoZSx0LHRoaXMub3B0aW9ucy5pblBsYWNlU29ydCk6YS5wcm9jZXNzKGUsdCl9LF9tZXJnZVN0YXRlOmZ1bmN0aW9uKHIpe3ZhciBpPXRoaXM7cmV0dXJuIHIhPT10JiYoaS5fcGFnZVNpemU9ci5wYWdlU2l6ZSxpLl9wYWdlPXIucGFnZSxpLl9zb3J0PXIuc29ydCxpLl9maWx0ZXI9ci5maWx0ZXIsaS5fZ3JvdXA9ci5ncm91cCxpLl9hZ2dyZWdhdGU9ci5hZ2dyZWdhdGUsaS5fc2tpcD1pLl9jdXJyZW50UmFuZ2VTdGFydD1yLnNraXAsaS5fdGFrZT1yLnRha2UsaS5fc2tpcD09PXQmJihpLl9za2lwPWkuX2N1cnJlbnRSYW5nZVN0YXJ0PWkuc2tpcCgpLHIuc2tpcD1pLnNraXAoKSksaS5fdGFrZT09PXQmJmkuX3BhZ2VTaXplIT09dCYmKGkuX3Rha2U9aS5fcGFnZVNpemUsci50YWtlPWkuX3Rha2UpLHIuc29ydCYmKGkuX3NvcnQ9ci5zb3J0PXMoci5zb3J0KSxpLl9zb3J0RmllbGRzPW8oci5zb3J0KSksci5maWx0ZXImJihpLl9maWx0ZXI9ci5maWx0ZXI9aS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmcmJiFlLmlzRW1wdHlPYmplY3Qoci5maWx0ZXIpP2UuZXh0ZW5kKHt9LGwoci5maWx0ZXIpLHthY2NlbnRGb2xkaW5nRmlsdGVyaW5nOmkub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nfSk6bChyLmZpbHRlcikpLHIuZ3JvdXAmJihpLl9ncm91cD1yLmdyb3VwPXAoci5ncm91cCkpLHIuYWdncmVnYXRlJiYoaS5fYWdncmVnYXRlPXIuYWdncmVnYXRlPWcoci5hZ2dyZWdhdGUpKSkscn0scXVlcnk6ZnVuY3Rpb24ocil7dmFyIGksbixhLHM9dGhpcy5vcHRpb25zLnNlcnZlclNvcnRpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJQYWdpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJHcm91cGluZ3x8dGhpcy5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXM7cmV0dXJuIHN8fCh0aGlzLl9kYXRhPT09dHx8MD09PXRoaXMuX2RhdGEubGVuZ3RoKSYmIXRoaXMuX2Rlc3Ryb3llZC5sZW5ndGg/KHRoaXMub3B0aW9ucy5lbmRsZXNzJiYobj1yLnBhZ2VTaXplLXRoaXMucGFnZVNpemUoKSxuPjA/KG49dGhpcy5wYWdlU2l6ZSgpLHIucGFnZT1yLnBhZ2VTaXplL24sci5wYWdlU2l6ZT1uKTooci5wYWdlPTEsdGhpcy5vcHRpb25zLmVuZGxlc3M9ITEpKSx0aGlzLnJlYWQodGhpcy5fbWVyZ2VTdGF0ZShyKSkpOihhPXRoaXMudHJpZ2dlcihMZSx7dHlwZToicmVhZCJ9KSxhfHwodGhpcy50cmlnZ2VyKGplKSxpPXRoaXMuX3F1ZXJ5UHJvY2Vzcyh0aGlzLl9kYXRhLHRoaXMuX21lcmdlU3RhdGUocikpLHRoaXMuX3NldEZpbHRlclRvdGFsKGkudG90YWwsITApLHRoaXMuX2FnZ3JlZ2F0ZVJlc3VsdD10aGlzLl9jYWxjdWxhdGVBZ2dyZWdhdGVzKGkuZGF0YVRvQWdncmVnYXRlfHx0aGlzLl9kYXRhLHIpLHRoaXMudmlldyhpLmRhdGEpLHRoaXMudHJpZ2dlcihFZSx7dHlwZToicmVhZCJ9KSx0aGlzLnRyaWdnZXIoSWUse2l0ZW1zOmkuZGF0YX0pKSxlLkRlZmVycmVkKCkucmVzb2x2ZShhKS5wcm9taXNlKCkpfSxfc2V0RmlsdGVyVG90YWw6ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzO2kub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmd8fChlIT09dD9pLl90b3RhbD1lOnImJihpLl90b3RhbD1pLl9kYXRhLmxlbmd0aCkpfSxmZXRjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZnVuY3Rpb24ocil7ciE9PSEwJiZ4ZShlKSYmZS5jYWxsKHQpfTtyZXR1cm4gdGhpcy5fcXVlcnkoKS5kb25lKHIpfSxfcXVlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdC5xdWVyeShwZSh7fSx7cGFnZTp0LnBhZ2UoKSxwYWdlU2l6ZTp0LnBhZ2VTaXplKCksc29ydDp0LnNvcnQoKSxmaWx0ZXI6dC5maWx0ZXIoKSxncm91cDp0Lmdyb3VwKCksYWdncmVnYXRlOnQuYWdncmVnYXRlKCl9LGUpKX0sbmV4dDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5wYWdlKCksaT10LnRvdGFsKCk7aWYoZT1lfHx7fSxyJiYhKGkmJnIrMT50LnRvdGFsUGFnZXMoKSkpcmV0dXJuIHQuX3NraXA9dC5fY3VycmVudFJhbmdlU3RhcnQ9cip0LnRha2UoKSxyKz0xLGUucGFnZT1yLHQuX3F1ZXJ5KGUpLHJ9LHByZXY6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQucGFnZSgpO2lmKGU9ZXx8e30sciYmMSE9PXIpcmV0dXJuIHQuX3NraXA9dC5fY3VycmVudFJhbmdlU3RhcnQ9dC5fc2tpcC10LnRha2UoKSxyLT0xLGUucGFnZT1yLHQuX3F1ZXJ5KGUpLHJ9LHBhZ2U6ZnVuY3Rpb24oZSl7dmFyIHIsaT10aGlzO3JldHVybiBlIT09dD8oZT1WZS5tYXgoVmUubWluKFZlLm1heChlLDEpLGkudG90YWxQYWdlcygpKSwxKSxpLl9xdWVyeShpLl9wYWdlYWJsZVF1ZXJ5T3B0aW9ucyh7cGFnZTplfSkpLHQpOihyPWkuc2tpcCgpLHIhPT10P1ZlLnJvdW5kKChyfHwwKS8oaS50YWtlKCl8fDEpKSsxOnQpfSxwYWdlU2l6ZTpmdW5jdGlvbihlKXt2YXIgcj10aGlzO3JldHVybiBlIT09dD8oci5fcXVlcnkoci5fcGFnZWFibGVRdWVyeU9wdGlvbnMoe3BhZ2VTaXplOmUscGFnZToxfSkpLHQpOnIudGFrZSgpfSxzb3J0OmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGUhPT10PyhyLnRyaWdnZXIoInNvcnQiKSxyLl9xdWVyeSh7c29ydDplfSksdCk6ci5fc29ydH0sZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGU9PT10P3IuX2ZpbHRlcjooci50cmlnZ2VyKCJyZXNldCIpLHIuX3F1ZXJ5KHtmaWx0ZXI6ZSxwYWdlOjF9KSx0KX0sZ3JvdXA6ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztyZXR1cm4gZSE9PXQ/KHIuX3F1ZXJ5KHtncm91cDplfSksdCk6ci5fZ3JvdXB9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuX3RvdGFsfHwwLDEwKX0sYWdncmVnYXRlOmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGUhPT10PyhyLl9xdWVyeSh7YWdncmVnYXRlOmV9KSx0KTpyLl9hZ2dyZWdhdGV9LGFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9hZ2dyZWdhdGVSZXN1bHQ7cmV0dXJuIG1lKGUpJiYoZT10aGlzLl9lbXB0eUFnZ3JlZ2F0ZXModGhpcy5hZ2dyZWdhdGUoKSkpLGV9LF9lbXB0eUFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oZSl7dmFyIHQscixpPXt9O2lmKCFtZShlKSlmb3IodD17fSx5ZShlKXx8KGU9W2VdKSxyPTA7cjxlLmxlbmd0aDtyKyspdFtlW3JdLmFnZ3JlZ2F0ZV09MCxpW2Vbcl0uZmllbGRdPXQ7cmV0dXJuIGl9LF9wYWdlYWJsZVF1ZXJ5T3B0aW9uczpmdW5jdGlvbihlKXtyZXR1cm4gZX0sX3dyYXBJbkVtcHR5R3JvdXA6ZnVuY3Rpb24oZSl7dmFyIHQscixpLG4sYT10aGlzLmdyb3VwKCk7Zm9yKGk9YS5sZW5ndGgtMSxuPTA7aT49bjtpLS0pcj1hW2ldLHQ9e3ZhbHVlOmUuZ2V0P2UuZ2V0KHIuZmllbGQpOmVbci5maWVsZF0sZmllbGQ6ci5maWVsZCxpdGVtczp0P1t0XTpbZV0saGFzU3ViZ3JvdXBzOiEhdCxhZ2dyZWdhdGVzOnRoaXMuX2VtcHR5QWdncmVnYXRlcyhyLmFnZ3JlZ2F0ZXMpfTtyZXR1cm4gdH0sdG90YWxQYWdlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLnBhZ2VTaXplKCl8fGUudG90YWwoKTtyZXR1cm4gVmUuY2VpbCgoZS50b3RhbCgpfHwwKS90KX0saW5SYW5nZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1WZS5taW4oZSt0LHIudG90YWwoKSk7cmV0dXJuIXIub3B0aW9ucy5zZXJ2ZXJQYWdpbmcmJnIuX2RhdGEubGVuZ3RoPjB8fHIuX2ZpbmRSYW5nZShlLGkpLmxlbmd0aD4wfSxsYXN0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yYW5nZXM7cmV0dXJuIGVbZS5sZW5ndGgtMV18fHtzdGFydDowLGVuZDowLGRhdGE6W119fSxmaXJzdEl0ZW1VaWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yYW5nZXM7cmV0dXJuIGUubGVuZ3RoJiZlWzBdLmRhdGEubGVuZ3RoJiZlWzBdLmRhdGFbMF0udWlkfSxlbmFibGVSZXF1ZXN0c0luUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLl9za2lwUmVxdWVzdHNJblByb2dyZXNzPSExfSxfdGltZVN0YW1wOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHJhbmdlOmZ1bmN0aW9uKGUscixpKXt0aGlzLl9jdXJyZW50UmVxdWVzdFRpbWVTdGFtcD10aGlzLl90aW1lU3RhbXAoKSx0aGlzLl9za2lwUmVxdWVzdHNJblByb2dyZXNzPSEwLGU9VmUubWluKGV8fDAsdGhpcy50b3RhbCgpKSxpPXhlKGkpP2k6a2U7dmFyIG4sYT10aGlzLHM9VmUubWF4KFZlLmZsb29yKGUvciksMCkqcixvPVZlLm1pbihzK3IsYS50b3RhbCgpKTtyZXR1cm4gbj1hLl9maW5kUmFuZ2UoZSxWZS5taW4oZStyLGEudG90YWwoKSkpLG4ubGVuZ3RofHwwPT09YS50b3RhbCgpPyhhLl9wcm9jZXNzUmFuZ2VEYXRhKG4sZSxyLHMsbyksaSgpLHQpOihyIT09dCYmKGEuX3JhbmdlRXhpc3RzKHMsbyk/czxlJiZhLnByZWZldGNoKG8scixmdW5jdGlvbigpe2EucmFuZ2UoZSxyLGkpfSk6YS5wcmVmZXRjaChzLHIsZnVuY3Rpb24oKXtlPnMmJm88YS50b3RhbCgpJiYhYS5fcmFuZ2VFeGlzdHMobyxWZS5taW4obytyLGEudG90YWwoKSkpP2EucHJlZmV0Y2gobyxyLGZ1bmN0aW9uKCl7YS5yYW5nZShlLHIsaSl9KTphLnJhbmdlKGUscixpKX0pKSx0KX0sX2ZpbmRSYW5nZTpmdW5jdGlvbihlLHIpe3ZhciBpLG4sYSxvLHUsbCxoLGQsZixjLGcscCx2PXRoaXMsbT12Ll9yYW5nZXMseT1bXSxTPXYub3B0aW9ucyxiPVMuc2VydmVyU29ydGluZ3x8Uy5zZXJ2ZXJQYWdpbmd8fFMuc2VydmVyRmlsdGVyaW5nfHxTLnNlcnZlckdyb3VwaW5nfHxTLnNlcnZlckFnZ3JlZ2F0ZXM7Zm9yKG49MCxnPW0ubGVuZ3RoO248ZztuKyspaWYoaT1tW25dLGU+PWkuc3RhcnQmJmU8PWkuZW5kKXtmb3IoYz0wLGE9bjthPGc7YSsrKWlmKGk9bVthXSxmPXYuX2ZsYXREYXRhKGkuZGF0YSwhMCksZi5sZW5ndGgmJmUrYz49aS5zdGFydCYmKGw9aS5kYXRhLGg9aS5lbmQsYnx8KFMuaW5QbGFjZVNvcnQ/ZD12Ll9xdWVyeVByb2Nlc3MoaS5kYXRhLHtmaWx0ZXI6di5maWx0ZXIoKX0pOihwPV8odi5ncm91cCgpfHxbXSkuY29uY2F0KHModi5zb3J0KCl8fFtdKSksZD12Ll9xdWVyeVByb2Nlc3MoaS5kYXRhLHtzb3J0OnAsZmlsdGVyOnYuZmlsdGVyKCl9KSksZj1sPWQuZGF0YSxkLnRvdGFsIT09dCYmKGg9ZC50b3RhbCkpLG89MCxlK2M+aS5zdGFydCYmKG89ZStjLWkuc3RhcnQpLHU9Zi5sZW5ndGgsaD5yJiYodS09aC1yKSxjKz11LW8seT12Ll9tZXJnZUdyb3Vwcyh5LGwsbyx1KSxyPD1pLmVuZCYmYz09ci1lKSlyZXR1cm4geTticmVha31yZXR1cm5bXX0sX21lcmdlR3JvdXBzOmZ1bmN0aW9uKGUsdCxyLGkpe2lmKHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpKXt2YXIgbixhPXQudG9KU09OKCk7cmV0dXJuIGUubGVuZ3RoJiYobj1lW2UubGVuZ3RoLTFdKSx6KG4sYSxyLGkpLGUuY29uY2F0KGEpfXJldHVybiBlLmNvbmNhdCh0LnNsaWNlKHIsaSkpfSxfcHJvY2Vzc1JhbmdlRGF0YTpmdW5jdGlvbihlLHIsaSxuLGEpe3ZhciBzLG8sdSxsLGg9dGhpcztoLl9wZW5kaW5nPXQsaC5fc2tpcD1yPmguc2tpcCgpP1ZlLm1pbihhLChoLnRvdGFsUGFnZXMoKS0xKSpoLnRha2UoKSk6bixoLl9jdXJyZW50UmFuZ2VTdGFydD1yLGguX3Rha2U9aSxzPWgub3B0aW9ucy5zZXJ2ZXJQYWdpbmcsbz1oLm9wdGlvbnMuc2VydmVyU29ydGluZyx1PWgub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmcsbD1oLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlczt0cnl7aC5vcHRpb25zLnNlcnZlclBhZ2luZz0hMCxoLl9pc1NlcnZlckdyb3VwZWQoKXx8aC5ncm91cCgpJiZoLmdyb3VwKCkubGVuZ3RofHwoaC5vcHRpb25zLnNlcnZlclNvcnRpbmc9ITApLGgub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc9ITAsaC5vcHRpb25zLnNlcnZlclBhZ2luZz0hMCxoLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz0hMCxzJiYoaC5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSxoLl9kYXRhPWU9aC5fb2JzZXJ2ZShlKSksaC5fcHJvY2VzcyhlKX1maW5hbGx5e2gub3B0aW9ucy5zZXJ2ZXJQYWdpbmc9cyxoLm9wdGlvbnMuc2VydmVyU29ydGluZz1vLGgub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc9dSxoLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz1sfX0sc2tpcDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUuX3NraXA9PT10P2UuX3BhZ2UhPT10PyhlLl9wYWdlLTEpKihlLnRha2UoKXx8MSk6dDplLl9za2lwfSxjdXJyZW50UmFuZ2VTdGFydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmFuZ2VTdGFydHx8MH0sdGFrZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YWtlfHx0aGlzLl9wYWdlU2l6ZX0sX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXI6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcyxhPW4uX3RpbWVTdGFtcCgpO3JldHVybiBmdW5jdGlvbihzKXt2YXIgbyx1LGwsaD0hMSxkPXtzdGFydDplLGVuZDp0LGRhdGE6W10sdGltZXN0YW1wOm4uX3RpbWVTdGFtcCgpfTtpZihuLl9kZXF1ZXVlUmVxdWVzdCgpLG4udHJpZ2dlcihFZSx7cmVzcG9uc2U6cyx0eXBlOiJyZWFkIn0pLHM9bi5yZWFkZXIucGFyc2UocyksbD1uLl9yZWFkRGF0YShzKSxsLmxlbmd0aCl7Zm9yKG89MCx1PW4uX3Jhbmdlcy5sZW5ndGg7bzx1O28rKylpZihuLl9yYW5nZXNbb10uc3RhcnQ9PT1lKXtoPSEwLGQ9bi5fcmFuZ2VzW29dLGQucHJpc3RpbmVEYXRhPWwsZC5kYXRhPW4uX29ic2VydmUobCksZC5lbmQ9ZC5zdGFydCtuLl9mbGF0RGF0YShkLmRhdGEsITApLmxlbmd0aCxuLl9zb3J0UmFuZ2VzKCk7YnJlYWt9aHx8bi5fYWRkUmFuZ2Uobi5fb2JzZXJ2ZShsKSxlKX1uLl90b3RhbD1uLnJlYWRlci50b3RhbChzKSwoaXx8YT49bi5fY3VycmVudFJlcXVlc3RUaW1lU3RhbXB8fCFuLl9za2lwUmVxdWVzdHNJblByb2dyZXNzKSYmKHImJmwubGVuZ3RoP3IoKTpuLnRyaWdnZXIoSWUse30pKX19LHByZWZldGNoOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLG49VmUubWluKGUrdCxpLnRvdGFsKCkpLGE9e3Rha2U6dCxza2lwOmUscGFnZTplL3QrMSxwYWdlU2l6ZTp0LHNvcnQ6aS5fc29ydCxmaWx0ZXI6aS5fZmlsdGVyLGdyb3VwOmkuX2dyb3VwLGFnZ3JlZ2F0ZTppLl9hZ2dyZWdhdGV9O2kuX3JhbmdlRXhpc3RzKGUsbik/ciYmcigpOihjbGVhclRpbWVvdXQoaS5fdGltZW91dCksaS5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5fcXVldWVSZXF1ZXN0KGEsZnVuY3Rpb24oKXtpLnRyaWdnZXIoTGUse3R5cGU6InJlYWQifSk/aS5fZGVxdWV1ZVJlcXVlc3QoKTppLnRyYW5zcG9ydC5yZWFkKHtkYXRhOmkuX3BhcmFtcyhhKSxzdWNjZXNzOmkuX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXIoZSxuLHIpLGVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9WWUuY2FsbChhcmd1bWVudHMpO2kuZXJyb3IuYXBwbHkoaSxlKX19KX0pfSwxMDApKX0sX211bHRpcGxlUHJlZmV0Y2g6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMsbj1WZS5taW4oZSt0LGkudG90YWwoKSksYT17dGFrZTp0LHNraXA6ZSxwYWdlOmUvdCsxLHBhZ2VTaXplOnQsc29ydDppLl9zb3J0LGZpbHRlcjppLl9maWx0ZXIsZ3JvdXA6aS5fZ3JvdXAsYWdncmVnYXRlOmkuX2FnZ3JlZ2F0ZX07aS5fcmFuZ2VFeGlzdHMoZSxuKT9yJiZyKCk6aS50cmlnZ2VyKExlLHt0eXBlOiJyZWFkIn0pfHxpLnRyYW5zcG9ydC5yZWFkKHtkYXRhOmkuX3BhcmFtcyhhKSxzdWNjZXNzOmkuX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXIoZSxuLHIsITApfSl9LF9yYW5nZUV4aXN0czpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLGE9bi5fcmFuZ2VzO2ZvcihyPTAsaT1hLmxlbmd0aDtyPGk7cisrKWlmKGFbcl0uc3RhcnQ8PWUmJmFbcl0uZW5kPj10KXJldHVybiEwO3JldHVybiExfSxfZ2V0Q3VycmVudFJhbmdlU3BhbjpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLGk9ci5fcmFuZ2VzLG49ci5jdXJyZW50UmFuZ2VTdGFydCgpLGE9bisoci50YWtlKCl8fDApLHM9W10sbz1pLmxlbmd0aDtmb3IodD0wO3Q8bzt0KyspZT1pW3RdLChlLnN0YXJ0PD1uJiZlLmVuZD49bnx8ZS5zdGFydD49biYmZS5zdGFydDw9YSkmJnMucHVzaChlKTtyZXR1cm4gc30sX3JlbW92ZU1vZGVsRnJvbVJhbmdlczpmdW5jdGlvbihlKXt2YXIgdCxyLGksbj10aGlzO2ZvcihyPTAsaT10aGlzLl9yYW5nZXMubGVuZ3RoO3I8aTtyKyspdD10aGlzLl9yYW5nZXNbcl0sbi5fcmVtb3ZlTW9kZWxGcm9tUmFuZ2UodCxlKTtuLl91cGRhdGVSYW5nZXNMZW5ndGgoKX0sX3JlbW92ZU1vZGVsRnJvbVJhbmdlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZWFjaEl0ZW0oZS5kYXRhLGZ1bmN0aW9uKGUpe3ZhciByLGk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpZihpPWVbcl0saS51aWQmJmkudWlkPT10LnVpZCl7W10uc3BsaWNlLmNhbGwoZSxyLDEpO2JyZWFrfX0pfSxfaW5zZXJ0TW9kZWxJblJhbmdlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuPXRoaXMsYT1uLl9yYW5nZXN8fFtdLHM9YS5sZW5ndGg7Zm9yKGk9MDtpPHM7aSsrKWlmKHI9YVtpXSxyLnN0YXJ0PD1lJiZyLmVuZD49ZSl7bi5fZ2V0QnlVaWQodC51aWQsci5kYXRhKXx8KG4uX2lzU2VydmVyR3JvdXBlZCgpP3IuZGF0YS5zcGxpY2UoZSwwLG4uX3dyYXBJbkVtcHR5R3JvdXAodCkpOnIuZGF0YS5zcGxpY2UoZSwwLHQpKTticmVha31uLl91cGRhdGVSYW5nZXNMZW5ndGgoKX0sX3VwZGF0ZVJhbmdlc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLGk9ci5fcmFuZ2VzfHxbXSxuPWkubGVuZ3RoLGE9ITEscz0wLG89MDtmb3IodD0wO3Q8bjt0KyspZT1pW3RdLG89ci5fZmxhdERhdGEoZS5kYXRhLCEwKS5sZW5ndGgtVmUuYWJzKGUuZW5kLWUuc3RhcnQpLGF8fDA9PT1vP2EmJihlLnN0YXJ0Kz1zLGUuZW5kKz1zKTooYT0hMCxzPW8sZS5lbmQrPXMpfX0pLGhlPXt9LGhlLmNyZWF0ZT1mdW5jdGlvbih0LHIsaSl7dmFyIG4sYT10LnRyYW5zcG9ydD9lLmV4dGVuZCh7fSx0LnRyYW5zcG9ydCk6bnVsbDtyZXR1cm4gYT8oYS5yZWFkPXR5cGVvZiBhLnJlYWQ9PT1EZT97dXJsOmEucmVhZH06YS5yZWFkLCJqc2RvIj09PXQudHlwZSYmKGEuZGF0YVNvdXJjZT1pKSx0LnR5cGUmJihGZS5kYXRhLnRyYW5zcG9ydHM9RmUuZGF0YS50cmFuc3BvcnRzfHx7fSxGZS5kYXRhLnNjaGVtYXM9RmUuZGF0YS5zY2hlbWFzfHx7fSxGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXT92ZShGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXSk/YT1wZSghMCx7fSxGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXSxhKTpuPW5ldyBGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXShwZShhLHtkYXRhOnJ9KSk6RmUubG9nVG9Db25zb2xlKCJVbmtub3duIERhdGFTb3VyY2UgdHJhbnNwb3J0IHR5cGUgJyIrdC50eXBlKyInLlxuVmVyaWZ5IHRoYXQgcmVnaXN0cmF0aW9uIHNjcmlwdHMgZm9yIHRoaXMgdHlwZSBhcmUgaW5jbHVkZWQgYWZ0ZXIgS2VuZG8gVUkgb24gdGhlIHBhZ2UuIiwid2FybiIpLHQuc2NoZW1hPXBlKCEwLHt9LEZlLmRhdGEuc2NoZW1hc1t0LnR5cGVdLHQuc2NoZW1hKSksbnx8KG49eGUoYS5yZWFkKT9hOm5ldyBzZShhKSkpOm49bmV3IGFlKHtkYXRhOnQuZGF0YXx8W119KSxufSxsZS5jcmVhdGU9ZnVuY3Rpb24oZSl7KHllKGUpfHxlIGluc3RhbmNlb2YgaXQpJiYoZT17ZGF0YTplfSk7dmFyIHIsaSxuLGE9ZXx8e30scz1hLmRhdGEsbz1hLmZpZWxkcyx1PWEudGFibGUsbD1hLnNlbGVjdCxoPXt9O2lmKHN8fCFvfHxhLnRyYW5zcG9ydHx8KHU/cz1KKHUsbyk6bCYmKHM9VShsLG8pLGEuZ3JvdXA9PT10JiZzWzBdJiZzWzBdLm9wdGdyb3VwIT09dCYmKGEuZ3JvdXA9Im9wdGdyb3VwIikpKSxGZS5kYXRhLk1vZGVsJiZvJiYoIWEuc2NoZW1hfHwhYS5zY2hlbWEubW9kZWwpKXtmb3Iocj0wLGk9by5sZW5ndGg7cjxpO3IrKyluPW9bcl0sbi50eXBlJiYoaFtuLmZpZWxkXT1uKTttZShoKXx8KGEuc2NoZW1hPXBlKCEwLGEuc2NoZW1hLHttb2RlbDp7ZmllbGRzOmh9fSkpfXJldHVybiBhLmRhdGE9cyxsPW51bGwsYS5zZWxlY3Q9bnVsbCx1PW51bGwsYS50YWJsZT1udWxsLGEgaW5zdGFuY2VvZiBsZT9hOm5ldyBsZShhKX0sZGU9Wi5kZWZpbmUoe2lkRmllbGQ6ImlkIixpbml0OmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcyxpPXIuaGFzQ2hpbGRyZW58fGUmJmUuaGFzQ2hpbGRyZW4sbj0iaXRlbXMiLGE9e307RmUuZGF0YS5Nb2RlbC5mbi5pbml0LmNhbGwocixlKSx0eXBlb2Ygci5jaGlsZHJlbj09PURlJiYobj1yLmNoaWxkcmVuKSxhPXtzY2hlbWE6e2RhdGE6bixtb2RlbDp7aGFzQ2hpbGRyZW46aSxpZDpyLmlkRmllbGQsZmllbGRzOnIuZmllbGRzfX19LHR5cGVvZiByLmNoaWxkcmVuIT09RGUmJnBlKGEsci5jaGlsZHJlbiksYS5kYXRhPWUsaXx8KGk9YS5zY2hlbWEuZGF0YSksdHlwZW9mIGk9PT1EZSYmKGk9RmUuZ2V0dGVyKGkpKSx4ZShpKSYmKHQ9aS5jYWxsKHIsciksci5oYXNDaGlsZHJlbj0oIXR8fDAhPT10Lmxlbmd0aCkmJiEhdCksci5fY2hpbGRyZW5PcHRpb25zPWEsci5oYXNDaGlsZHJlbiYmci5faW5pdENoaWxkcmVuKCksci5fbG9hZGVkPSEoIWV8fCFlLl9sb2FkZWQpfSxfaW5pdENoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGUsdCxyLGk9dGhpcztpLmNoaWxkcmVuIGluc3RhbmNlb2YgZmV8fChlPWkuY2hpbGRyZW49bmV3IGZlKGkuX2NoaWxkcmVuT3B0aW9ucyksdD1lLnRyYW5zcG9ydCxyPXQucGFyYW1ldGVyTWFwLHQucGFyYW1ldGVyTWFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbaS5pZEZpZWxkfHwiaWQiXT1pLmlkLHImJihlPXIoZSx0KSksZX0sZS5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sZS5iaW5kKEllLGZ1bmN0aW9uKGUpe2Uubm9kZT1lLm5vZGV8fGksaS50cmlnZ2VyKEllLGUpfSksZS5iaW5kKEdlLGZ1bmN0aW9uKGUpe3ZhciB0PWkucGFyZW50KCk7dCYmKGUubm9kZT1lLm5vZGV8fGksdC50cmlnZ2VyKEdlLGUpKX0pLGkuX3VwZGF0ZUNoaWxkcmVuRmllbGQoKSl9LGFwcGVuZDpmdW5jdGlvbihlKXt0aGlzLl9pbml0Q2hpbGRyZW4oKSx0aGlzLmxvYWRlZCghMCksdGhpcy5jaGlsZHJlbi5hZGQoZSl9LGhhc0NoaWxkcmVuOiExLGxldmVsOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucGFyZW50Tm9kZSgpLHQ9MDtlJiZlLnBhcmVudE5vZGU7KXQrKyxlPWUucGFyZW50Tm9kZT9lLnBhcmVudE5vZGUoKTpudWxsO3JldHVybiB0fSxfdXBkYXRlQ2hpbGRyZW5GaWVsZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NoaWxkcmVuT3B0aW9ucy5zY2hlbWEuZGF0YTt0aGlzW2V8fCJpdGVtcyJdPXRoaXMuY2hpbGRyZW4uZGF0YSgpfSxfY2hpbGRyZW5Mb2FkZWQ6ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5fdXBkYXRlQ2hpbGRyZW5GaWVsZCgpfSxsb2FkOmZ1bmN0aW9uKCl7dmFyIHIsaSxuPXt9LGE9Il9xdWVyeSI7cmV0dXJuIHRoaXMuaGFzQ2hpbGRyZW4/KHRoaXMuX2luaXRDaGlsZHJlbigpLHI9dGhpcy5jaGlsZHJlbixuW3RoaXMuaWRGaWVsZHx8ImlkIl09dGhpcy5pZCx0aGlzLl9sb2FkZWR8fChyLl9kYXRhPXQsYT0icmVhZCIpLHIub25lKEllLF9lKHRoaXMuX2NoaWxkcmVuTG9hZGVkLHRoaXMpKSx0aGlzLl9tYXRjaEZpbHRlciYmKG4uZmlsdGVyPXtmaWVsZDoiX21hdGNoRmlsdGVyIixvcGVyYXRvcjoiZXEiLHZhbHVlOiEwfSksaT1yW2FdKG4pKTp0aGlzLmxvYWRlZCghMCksaXx8ZS5EZWZlcnJlZCgpLnJlc29sdmUoKS5wcm9taXNlKCl9LHBhcmVudE5vZGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmVudCgpO3JldHVybiBlLnBhcmVudCgpfSxsb2FkZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P3RoaXMuX2xvYWRlZDoodGhpcy5fbG9hZGVkPWUsdCl9LHNob3VsZFNlcmlhbGl6ZTpmdW5jdGlvbihlKXtyZXR1cm4gWi5mbi5zaG91bGRTZXJpYWxpemUuY2FsbCh0aGlzLGUpJiYiY2hpbGRyZW4iIT09ZSYmIl9sb2FkZWQiIT09ZSYmImhhc0NoaWxkcmVuIiE9PWUmJiJfY2hpbGRyZW5PcHRpb25zIiE9PWV9fSksZmU9bGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciB0PWRlLmRlZmluZSh7Y2hpbGRyZW46ZX0pO2UuZmlsdGVyJiYhZS5zZXJ2ZXJGaWx0ZXJpbmcmJih0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXI9ZS5maWx0ZXIsZS5maWx0ZXI9bnVsbCksbGUuZm4uaW5pdC5jYWxsKHRoaXMscGUoITAse30se3NjaGVtYTp7bW9kZWxCYXNlOnQsbW9kZWw6dH19LGUpKSx0aGlzLl9hdHRhY2hCdWJibGVIYW5kbGVycygpfSxfYXR0YWNoQnViYmxlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2RhdGEuYmluZChHZSxmdW5jdGlvbih0KXtlLnRyaWdnZXIoR2UsdCl9KX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD1sZS5mbi5yZWFkLmNhbGwodGhpcyxlKTtyZXR1cm4gdGhpcy5faGllcmFyY2hpY2FsRmlsdGVyJiYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5sZW5ndGg+MD90aGlzLmZpbHRlcih0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXIpOih0aGlzLm9wdGlvbnMuZmlsdGVyPXRoaXMuX2hpZXJhcmNoaWNhbEZpbHRlcix0aGlzLl9maWx0ZXI9bCh0aGlzLm9wdGlvbnMuZmlsdGVyKSx0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXI9bnVsbCkpLHR9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxyPWUucGFyZW50Tm9kZSgpLGk9dGhpcztyZXR1cm4gciYmci5faW5pdENoaWxkcmVuJiYoaT1yLmNoaWxkcmVuKSx0PWxlLmZuLnJlbW92ZS5jYWxsKGksZSksciYmIWkuZGF0YSgpLmxlbmd0aCYmKHIuaGFzQ2hpbGRyZW49ITEpLHR9LHN1Y2Nlc3M6Vigic3VjY2VzcyIpLGRhdGE6VigiZGF0YSIpLGluc2VydDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucGFyZW50KCk7cmV0dXJuIHImJnIuX2luaXRDaGlsZHJlbiYmKHIuaGFzQ2hpbGRyZW49ITAsci5faW5pdENoaWxkcmVuKCkpLGxlLmZuLmluc2VydC5jYWxsKHRoaXMsZSx0KX0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD90aGlzLl9maWx0ZXI6KCF0aGlzLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nJiZ0aGlzLl9tYXJrSGllcmFyY2hpY2FsUXVlcnkoZSkmJihlPXtsb2dpYzoib3IiLGZpbHRlcnM6W2Use2ZpZWxkOiJfbWF0Y2hGaWx0ZXIiLG9wZXJhdG9yOiJlcXVhbHMiLHZhbHVlOiEwfV19KSx0aGlzLnRyaWdnZXIoInJlc2V0IiksdGhpcy5fcXVlcnkoe2ZpbHRlcjplLHBhZ2U6MX0pLHQpfSxfbWFya0hpZXJhcmNoaWNhbFF1ZXJ5OmZ1bmN0aW9uKHQpe3ZhciByLGksbixzLG8sdT10aGlzLm9wdGlvbnMuYWNjZW50Rm9sZGluZ0ZpbHRlcmluZztyZXR1cm4gdD11P2UuZXh0ZW5kKHt9LGwodCkse2FjY2VudEZvbGRpbmdGaWx0ZXJpbmc6dX0pOmwodCksdCYmMCE9PXQuZmlsdGVycy5sZW5ndGg/KHI9YS5maWx0ZXJFeHByKHQpLG49ci5maWVsZHMscz1yLm9wZXJhdG9ycyxpPW89RnVuY3Rpb24oImQsIF9fZiwgX19vIiwicmV0dXJuICIrci5leHByZXNzaW9uKSwobi5sZW5ndGh8fHMubGVuZ3RoKSYmKG89ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxuLHMpfSksdGhpcy5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKG8pLCEwKToodGhpcy5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuITB9KSwhMSl9LF91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQscixpPXRoaXMuX2RhdGEsbj0hMTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXQ9aVtyXSx0Lmhhc0NoaWxkcmVuPyh0Ll9tYXRjaEZpbHRlcj10LmNoaWxkcmVuLl91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXIoZSksdC5fbWF0Y2hGaWx0ZXJ8fCh0Ll9tYXRjaEZpbHRlcj1lKHQpKSk6dC5fbWF0Y2hGaWx0ZXI9ZSh0KSx0Ll9tYXRjaEZpbHRlciYmKG49ITApO3JldHVybiBufSxfZmluZDpmdW5jdGlvbihlLHQpe3ZhciByLGksbixhLHM9dGhpcy5fZGF0YTtpZihzKXtpZihuPWxlLmZuW2VdLmNhbGwodGhpcyx0KSlyZXR1cm4gbjtmb3Iocz10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhKSxyPTAsaT1zLmxlbmd0aDtyPGk7cisrKWlmKGE9c1tyXS5jaGlsZHJlbixhIGluc3RhbmNlb2YgZmUmJihuPWFbZV0odCkpKXJldHVybiBufX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maW5kKCJnZXQiLGUpfSxnZXRCeVVpZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZmluZCgiZ2V0QnlVaWQiLGUpfX0pLGZlLmNyZWF0ZT1mdW5jdGlvbihlKXtlPWUmJmUucHVzaD97ZGF0YTplfTplO3ZhciB0PWV8fHt9LHI9dC5kYXRhLGk9dC5maWVsZHMsbj10Lmxpc3Q7cmV0dXJuIHImJnIuX2RhdGFTb3VyY2U/ci5fZGF0YVNvdXJjZToocnx8IWl8fHQudHJhbnNwb3J0fHxuJiYocj1RKG4saSkpLHQuZGF0YT1yLHQgaW5zdGFuY2VvZiBmZT90Om5ldyBmZSh0KSl9LGNlPUZlLk9ic2VydmFibGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCxyKXtGZS5PYnNlcnZhYmxlLmZuLmluaXQuY2FsbCh0aGlzKSx0aGlzLl9wcmVmZXRjaGluZz0hMSx0aGlzLmRhdGFTb3VyY2U9ZSx0aGlzLnByZWZldGNoPSFyO3ZhciBpPXRoaXM7ZS5iaW5kKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7aS5fY2hhbmdlKCl9KSxlLmJpbmQoInJlc2V0IixmdW5jdGlvbigpe2kuX3Jlc2V0KCl9KSx0aGlzLl9zeW5jV2l0aERhdGFTb3VyY2UoKSx0aGlzLnNldFZpZXdTaXplKHQpfSxzZXRWaWV3U2l6ZTpmdW5jdGlvbihlKXt0aGlzLnZpZXdTaXplPWUsdGhpcy5fcmVjYWxjdWxhdGUoKX0sYXQ6ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5wYWdlU2l6ZSxpPSEwO3JldHVybiBlPj10aGlzLnRvdGFsKCk/KHRoaXMudHJpZ2dlcigiZW5kcmVhY2hlZCIse2luZGV4OmV9KSxudWxsKTp0aGlzLnVzZVJhbmdlcz90aGlzLnVzZVJhbmdlcz8oKGU8dGhpcy5kYXRhT2Zmc2V0fHxlPj10aGlzLnNraXArcikmJihpPXRoaXMucmFuZ2UoTWF0aC5mbG9vcihlL3IpKnIpKSxlPT09dGhpcy5wcmVmZXRjaFRocmVzaG9sZCYmdGhpcy5fcHJlZmV0Y2goKSxlPT09dGhpcy5taWRQYWdlVGhyZXNob2xkP3RoaXMucmFuZ2UodGhpcy5uZXh0TWlkUmFuZ2UsITApOmU9PT10aGlzLm5leHRQYWdlVGhyZXNob2xkP3RoaXMucmFuZ2UodGhpcy5uZXh0RnVsbFJhbmdlKTplPT09dGhpcy5wdWxsQmFja1RocmVzaG9sZCYmdGhpcy5yYW5nZSh0aGlzLm9mZnNldD09PXRoaXMuc2tpcD90aGlzLnByZXZpb3VzTWlkUmFuZ2U6dGhpcy5wcmV2aW91c0Z1bGxSYW5nZSksaT90aGlzLmRhdGFTb3VyY2UuYXQoZS10aGlzLmRhdGFPZmZzZXQpOih0aGlzLnRyaWdnZXIoImVuZHJlYWNoZWQiLHtpbmRleDplfSksbnVsbCkpOnQ6dGhpcy5kYXRhU291cmNlLnZpZXcoKVtlXX0saW5kZXhPZjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLmRhdGEoKS5pbmRleE9mKGUpK3RoaXMuZGF0YU9mZnNldH0sdG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5kYXRhU291cmNlLnRvdGFsKCksMTApfSxuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUucGFnZVNpemUscj1lLnNraXAtZS52aWV3U2l6ZSt0LGk9VmUubWF4KFZlLmZsb29yKHIvdCksMCkqdDt0aGlzLm9mZnNldD1yLHRoaXMuZGF0YVNvdXJjZS5wcmVmZXRjaChpLHQsZnVuY3Rpb24oKXtlLl9nb1RvUmFuZ2UociwhMCl9KX0scmFuZ2U6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9mZnNldD09PWUpcmV0dXJuITA7dmFyIHI9dGhpcyxpPXRoaXMucGFnZVNpemUsbj1WZS5tYXgoVmUuZmxvb3IoZS9pKSwwKSppLGE9dGhpcy5kYXRhU291cmNlO3JldHVybiB0JiYobis9aSksYS5pblJhbmdlKGUsaSk/KHRoaXMub2Zmc2V0PWUsdGhpcy5fcmVjYWxjdWxhdGUoKSx0aGlzLl9nb1RvUmFuZ2UoZSksITApOiF0aGlzLnByZWZldGNofHwoYS5wcmVmZXRjaChuLGksZnVuY3Rpb24oKXtyLm9mZnNldD1lLHIuX3JlY2FsY3VsYXRlKCksci5fZ29Ub1JhbmdlKGUsITApfSksITEpfSxzeW5jRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0O3RoaXMub2Zmc2V0PW51bGwsdGhpcy5yYW5nZShlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5iaW5kKCl9LF9wcmVmZXRjaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnBhZ2VTaXplLHI9dGhpcy5za2lwK3QsaT10aGlzLmRhdGFTb3VyY2U7aS5pblJhbmdlKHIsdCl8fHRoaXMuX3ByZWZldGNoaW5nfHwhdGhpcy5wcmVmZXRjaHx8KHRoaXMuX3ByZWZldGNoaW5nPSEwLHRoaXMudHJpZ2dlcigicHJlZmV0Y2hpbmciLHtza2lwOnIsdGFrZTp0fSksaS5wcmVmZXRjaChyLHQsZnVuY3Rpb24oKXtlLl9wcmVmZXRjaGluZz0hMSxlLnRyaWdnZXIoInByZWZldGNoZWQiLHtza2lwOnIsdGFrZTp0fSl9KSl9LF9nb1RvUmFuZ2U6ZnVuY3Rpb24oZSx0KXt0aGlzLm9mZnNldD09PWUmJih0aGlzLmRhdGFPZmZzZXQ9ZSx0aGlzLl9leHBhbmRpbmc9dCx0aGlzLmRhdGFTb3VyY2UucmFuZ2UoZSx0aGlzLnBhZ2VTaXplKSx0aGlzLmRhdGFTb3VyY2UuZW5hYmxlUmVxdWVzdHNJblByb2dyZXNzKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9zeW5jUGVuZGluZz0hMH0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YVNvdXJjZTt0aGlzLmxlbmd0aD10aGlzLnVzZVJhbmdlcz9lLmxhc3RSYW5nZSgpLmVuZDplLnZpZXcoKS5sZW5ndGgsdGhpcy5fc3luY1BlbmRpbmcmJih0aGlzLl9zeW5jV2l0aERhdGFTb3VyY2UoKSx0aGlzLl9yZWNhbGN1bGF0ZSgpLHRoaXMuX3N5bmNQZW5kaW5nPSExLHRoaXMudHJpZ2dlcigicmVzZXQiLHtvZmZzZXQ6dGhpcy5vZmZzZXR9KSksdGhpcy50cmlnZ2VyKCJyZXNpemUiKSx0aGlzLl9leHBhbmRpbmcmJnRoaXMudHJpZ2dlcigiZXhwYW5kIiksZGVsZXRlIHRoaXMuX2V4cGFuZGluZ30sX3N5bmNXaXRoRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YVNvdXJjZTt0aGlzLl9maXJzdEl0ZW1VaWQ9ZS5maXJzdEl0ZW1VaWQoKSx0aGlzLmRhdGFPZmZzZXQ9dGhpcy5vZmZzZXQ9ZS5za2lwKCl8fDAsdGhpcy5wYWdlU2l6ZT1lLnBhZ2VTaXplKCksdGhpcy51c2VSYW5nZXM9ZS5vcHRpb25zLnNlcnZlclBhZ2luZ30sX3JlY2FsY3VsYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYWdlU2l6ZSx0PXRoaXMub2Zmc2V0LHI9dGhpcy52aWV3U2l6ZSxpPU1hdGguY2VpbCh0L2UpKmU7dGhpcy5za2lwPWksdGhpcy5taWRQYWdlVGhyZXNob2xkPWkrZS0xLHRoaXMubmV4dFBhZ2VUaHJlc2hvbGQ9aStyLTEsdGhpcy5wcmVmZXRjaFRocmVzaG9sZD1pK01hdGguZmxvb3IoZS8zKjIpLHRoaXMucHVsbEJhY2tUaHJlc2hvbGQ9dGhpcy5vZmZzZXQtMSx0aGlzLm5leHRNaWRSYW5nZT1pK2Utcix0aGlzLm5leHRGdWxsUmFuZ2U9aSx0aGlzLnByZXZpb3VzTWlkUmFuZ2U9dC1yLHRoaXMucHJldmlvdXNGdWxsUmFuZ2U9aS1lfX0pLGdlPUZlLk9ic2VydmFibGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztGZS5PYnNlcnZhYmxlLmZuLmluaXQuY2FsbChyKSx0aGlzLmRhdGFTb3VyY2U9ZSx0aGlzLmJhdGNoU2l6ZT10LHRoaXMuX3RvdGFsPTAsdGhpcy5idWZmZXI9bmV3IGNlKGUsMyp0KSx0aGlzLmJ1ZmZlci5iaW5kKHtlbmRyZWFjaGVkOmZ1bmN0aW9uKGUpe3IudHJpZ2dlcigiZW5kcmVhY2hlZCIse2luZGV4OmUuaW5kZXh9KX0scHJlZmV0Y2hpbmc6ZnVuY3Rpb24oZSl7ci50cmlnZ2VyKCJwcmVmZXRjaGluZyIse3NraXA6ZS5za2lwLHRha2U6ZS50YWtlfSl9LHByZWZldGNoZWQ6ZnVuY3Rpb24oZSl7ci50cmlnZ2VyKCJwcmVmZXRjaGVkIix7c2tpcDplLnNraXAsdGFrZTplLnRha2V9KX0scmVzZXQ6ZnVuY3Rpb24oKXtyLl90b3RhbD0wLHIudHJpZ2dlcigicmVzZXQiKX0scmVzaXplOmZ1bmN0aW9uKCl7ci5fdG90YWw9TWF0aC5jZWlsKHRoaXMubGVuZ3RoL3IuYmF0Y2hTaXplKSxyLnRyaWdnZXIoInJlc2l6ZSIse3RvdGFsOnIudG90YWwoKSxvZmZzZXQ6dGhpcy5vZmZzZXR9KX19KX0sc3luY0RhdGFTb3VyY2U6ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlci5zeW5jRGF0YVNvdXJjZSgpfSxhdDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5idWZmZXIsbj1lKnRoaXMuYmF0Y2hTaXplLGE9dGhpcy5iYXRjaFNpemUscz1bXTtmb3IoaS5vZmZzZXQ+biYmaS5hdChpLm9mZnNldC0xKSxyPTA7cjxhJiYodD1pLmF0KG4rciksbnVsbCE9PXQpO3IrKylzLnB1c2godCk7cmV0dXJuIHN9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5idWZmZXIuZGVzdHJveSgpLHRoaXMudW5iaW5kKCl9fSkscGUoITAsRmUuZGF0YSx7cmVhZGVyczp7anNvbjp1ZX0sUXVlcnk6YSxEYXRhU291cmNlOmxlLEhpZXJhcmNoaWNhbERhdGFTb3VyY2U6ZmUsTm9kZTpkZSxPYnNlcnZhYmxlT2JqZWN0OkssT2JzZXJ2YWJsZUFycmF5Oml0LExhenlPYnNlcnZhYmxlQXJyYXk6JCxMb2NhbFRyYW5zcG9ydDphZSxSZW1vdGVUcmFuc3BvcnQ6c2UsQ2FjaGU6b2UsRGF0YVJlYWRlcjp1ZSxNb2RlbDpaLEJ1ZmZlcjpjZSxCYXRjaEJ1ZmZlcjpnZX0pfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKGUsdCxyKXsocnx8dCkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8uZGF0YS5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbihlLGRlZmluZSl7ZGVmaW5lKCJrZW5kby5saXN0Lm1pbiIsWyJrZW5kby5kYXRhLm1pbiIsImtlbmRvLnBvcHVwLm1pbiJdLGUpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSxpKXtyZXR1cm4gZSE9PXQmJiIiIT09ZSYmbnVsbCE9PWUmJigiYm9vbGVhbiI9PT1pPygiYm9vbGVhbiIhPXR5cGVvZiBlJiYoZT0idHJ1ZSI9PT1lLnRvTG93ZXJDYXNlKCkpLGU9ISFlKToibnVtYmVyIj09PWk/ZT0rZToic3RyaW5nIj09PWkmJihlPSIiK2UpKSxlfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnNlbGVjdGVkSW5kZXg7cmV0dXJuIHQ+LTE/ZS5vcHRpb25zW3RdOnt9fWZ1bmN0aW9uIHMoZSx0KXt2YXIgaSxuLGEscyxyPXQubGVuZ3RoLGw9ZS5sZW5ndGgsbz1bXSx1PVtdO2lmKGwpZm9yKGE9MDthPGw7YSsrKXtmb3IoaT1lW2FdLG49ITEscz0wO3M8cjtzKyspaWYoaT09PXRbc10pe249ITAsby5wdXNoKHtpbmRleDphLGl0ZW06aX0pO2JyZWFrfW58fHUucHVzaChpKX1yZXR1cm57Y2hhbmdlZDpvLHVuY2hhbmdlZDp1fX1mdW5jdGlvbiByKHQpe3JldHVybiEoIXR8fGUuaXNFbXB0eU9iamVjdCh0KSkmJiEodC5maWx0ZXJzJiYhdC5maWx0ZXJzLmxlbmd0aCl9ZnVuY3Rpb24gbCh0LGkpe3ZhciBuLGE9ITE7cmV0dXJuIHQuZmlsdGVycyYmKG49ZS5ncmVwKHQuZmlsdGVycyxmdW5jdGlvbihlKXtyZXR1cm4gYT1sKGUsaSksZS5maWx0ZXJzP2UuZmlsdGVycy5sZW5ndGg6ZS5maWVsZCE9aX0pLGF8fHQuZmlsdGVycy5sZW5ndGg9PT1uLmxlbmd0aHx8KGE9ITApLHQuZmlsdGVycz1uKSxhfXZhciBvLHUsYz13aW5kb3cua2VuZG8sZD1jLnVpLGg9Yy5fb3V0ZXJIZWlnaHQsZj0vXlxkKyhcLlxkKyk/JSQvaSxwPWQuV2lkZ2V0LF89Yy5rZXlzLGc9Yy5zdXBwb3J0LG09Yy5odG1sRW5jb2RlLHY9Yy5fYWN0aXZlRWxlbWVudCxiPWMuX291dGVyV2lkdGgseD1jLmRhdGEuT2JzZXJ2YWJsZUFycmF5LEk9ImlkIix3PSJjaGFuZ2UiLFM9Imstc3RhdGUtZm9jdXNlZCIseT0iay1zdGF0ZS1ob3ZlciIsVD0iay1pLWxvYWRpbmciLEY9Ii5rLWdyb3VwLWhlYWRlciIsaz0iLmstaXRlbSIsVj0iX2xhYmVsIixDPSJvcGVuIixEPSJjbG9zZSIsSD0iY2FzY2FkZSIsQj0ic2VsZWN0IixFPSJzZWxlY3RlZCIsTD0icmVxdWVzdFN0YXJ0IixQPSJyZXF1ZXN0RW5kIixHPSJibHVyIixXPSJmb2N1cyIsQT0iZm9jdXNvdXQiLHE9ZS5leHRlbmQsTj1lLnByb3h5LE89ZS5pc0FycmF5LE09Zy5icm93c2VyLHo9ImstaGlkZGVuIixSPSJ3aWR0aCIsVT1NLm1zaWUsaj1VJiZNLnZlcnNpb248OSwkPS8iL2csUT17Q29tYm9Cb3g6WyJEcm9wRG93bkxpc3QiLCJNdWx0aUNvbHVtbkNvbWJvQm94Il0sRHJvcERvd25MaXN0OlsiQ29tYm9Cb3giLCJNdWx0aUNvbHVtbkNvbWJvQm94Il0sTXVsdGlDb2x1bW5Db21ib0JveDpbIkNvbWJvQm94IiwiRHJvcERvd25MaXN0Il19LFk9Yy51aS5EYXRhQm91bmRXaWRnZXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsaSl7dmFyIG4sYT10aGlzLHM9YS5ucztwLmZuLmluaXQuY2FsbChhLHQsaSksdD1hLmVsZW1lbnQsaT1hLm9wdGlvbnMsYS5faXNTZWxlY3Q9dC5pcyhCKSxhLl9pc1NlbGVjdCYmYS5lbGVtZW50WzBdLmxlbmd0aCYmKGkuZGF0YVNvdXJjZXx8KGkuZGF0YVRleHRGaWVsZD1pLmRhdGFUZXh0RmllbGR8fCJ0ZXh0IixpLmRhdGFWYWx1ZUZpZWxkPWkuZGF0YVZhbHVlRmllbGR8fCJ2YWx1ZSIpKSxhLnVsPWUoJzx1bCB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iay1saXN0IGstcmVzZXQiLz4nKS5hdHRyKHt0YWJJbmRleDotMSwiYXJpYS1oaWRkZW4iOiEwfSksYS5saXN0PWUoIjxkaXYgY2xhc3M9J2stbGlzdC1jb250YWluZXInLz4iKS5hcHBlbmQoYS51bCkub24oIm1vdXNlZG93biIrcyxOKGEuX2xpc3RNb3VzZWRvd24sYSkpLG49dC5hdHRyKEkpLG58fChuPWMuZ3VpZCgpKSxhLmxpc3QuYXR0cihJLG4rIi1saXN0IiksYS51bC5hdHRyKEksbisiX2xpc3Rib3giKSxpLmNvbHVtbnMmJmkuY29sdW1ucy5sZW5ndGgmJihhLnVsLnJlbW92ZUNsYXNzKCJrLWxpc3QiKS5hZGRDbGFzcygiay1ncmlkLWxpc3QiKSxhLl9jb2x1bW5zSGVhZGVyKCkpLGEuX2hlYWRlcigpLGEuX25vRGF0YSgpLGEuX2Zvb3RlcigpLGEuX2FjY2Vzc29ycygpLGEuX2luaXRWYWx1ZSgpfSxvcHRpb25zOnt2YWx1ZVByaW1pdGl2ZTohMSxmb290ZXJUZW1wbGF0ZToiIixoZWFkZXJUZW1wbGF0ZToiIixub0RhdGFUZW1wbGF0ZTohMCxtZXNzYWdlczp7bm9EYXRhOiJObyBkYXRhIGZvdW5kLiIsY2xlYXI6ImNsZWFyIn19LHNldE9wdGlvbnM6ZnVuY3Rpb24oZSl7cC5mbi5zZXRPcHRpb25zLmNhbGwodGhpcyxlKSxlJiZlLmVuYWJsZSE9PXQmJihlLmVuYWJsZWQ9ZS5lbmFibGUpLGUuY29sdW1ucyYmZS5jb2x1bW5zLmxlbmd0aCYmdGhpcy5fY29sdW1uc0hlYWRlcigpLHRoaXMuX2hlYWRlcigpLHRoaXMuX25vRGF0YSgpLHRoaXMuX2Zvb3RlcigpLHRoaXMuX3JlbmRlckZvb3RlcigpLHRoaXMuX3JlbmRlck5vRGF0YSgpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQuZm9jdXMoKX0scmVhZG9ubHk6ZnVuY3Rpb24oZSl7dGhpcy5fZWRpdGFibGUoe3JlYWRvbmx5OmU9PT10fHxlLGRpc2FibGU6ITF9KX0sZW5hYmxlOmZ1bmN0aW9uKGUpe3RoaXMuX2VkaXRhYmxlKHtyZWFkb25seTohMSxkaXNhYmxlOiEoZT1lPT09dHx8ZSl9KX0sX2hlYWRlcjpmdW5jdGlvbigpe3ZhciBpLG49dGhpcyxhPWUobi5oZWFkZXIpLHM9bi5vcHRpb25zLmhlYWRlclRlbXBsYXRlO3JldHVybiB0aGlzLl9hbmd1bGFyRWxlbWVudChhLCJjbGVhbnVwIiksYy5kZXN0cm95KGEpLGEucmVtb3ZlKCkscz8oaT0iZnVuY3Rpb24iIT10eXBlb2Ygcz9jLnRlbXBsYXRlKHMpOnMsYT1lKGkoe30pKSxuLmhlYWRlcj1hWzBdP2E6bnVsbCxuLmxpc3QucHJlcGVuZChhKSx0aGlzLl9hbmd1bGFyRWxlbWVudChuLmhlYWRlciwiY29tcGlsZSIpLHQpOihuLmhlYWRlcj1udWxsLHQpfSxfY29sdW1uc0hlYWRlcjpmdW5jdGlvbigpe3ZhciB0LGksbixhLHMscixsLG8sdSxkLGgscD10aGlzLF89ZShwLmNvbHVtbnNIZWFkZXIpO2Zvcih0aGlzLl9hbmd1bGFyRWxlbWVudChfLCJjbGVhbnVwIiksYy5kZXN0cm95KF8pLF8ucmVtb3ZlKCksdD0iPGRpdiBjbGFzcz0nay1ncmlkLWhlYWRlcic+PGRpdiBjbGFzcz0nay1ncmlkLWhlYWRlci13cmFwJz48dGFibGUgcm9sZT0ncHJlc2VudGF0aW9uJz4iLGk9Ijxjb2xncm91cD4iLG49Ijx0cj4iLGE9MDthPHRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDthKyspcz10aGlzLm9wdGlvbnMuY29sdW1uc1thXSxyPXMudGl0bGV8fHMuZmllbGR8fCIiLGw9cy5oZWFkZXJUZW1wbGF0ZXx8cixvPSJmdW5jdGlvbiIhPXR5cGVvZiBsP2MudGVtcGxhdGUobCk6bCx1PXMud2lkdGgsZD1wYXJzZUludCh1LDEwKSxoPSIiLHUmJiFpc05hTihkKSYmKGgrPSJzdHlsZT0nd2lkdGg6IixoKz1kLGgrPWYudGVzdCh1KT8iJSI6InB4IixoKz0iOyciKSxpKz0iPGNvbCAiK2grIi8+IixuKz0iPHRoIGNsYXNzPSdrLWhlYWRlcic+IixuKz1vKHMpLG4rPSI8L3RoPiI7aSs9IjwvY29sZ3JvdXA+IixuKz0iPC90cj4iLHQrPWksdCs9bix0Kz0iPC90YWJsZT48L2Rpdj48L2Rpdj4iLHAuY29sdW1uc0hlYWRlcj1fPWUodCkscC5saXN0LnByZXBlbmQoXyksdGhpcy5fYW5ndWxhckVsZW1lbnQocC5jb2x1bW5zSGVhZGVyLCJjb21waWxlIil9LF9ub0RhdGE6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49ZShpLm5vRGF0YSksYT1pLm9wdGlvbnMubm9EYXRhVGVtcGxhdGU9PT0hMD9pLm9wdGlvbnMubWVzc2FnZXMubm9EYXRhOmkub3B0aW9ucy5ub0RhdGFUZW1wbGF0ZTtyZXR1cm4gaS5hbmd1bGFyKCJjbGVhbnVwIixmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpufX0pLGMuZGVzdHJveShuKSxuLnJlbW92ZSgpLGE/KGkubm9EYXRhPWUoJzxkaXYgY2xhc3M9Imstbm9kYXRhIiBzdHlsZT0iZGlzcGxheTpub25lIj48ZGl2PjwvZGl2PjwvZGl2PicpLmFwcGVuZFRvKGkubGlzdCksaS5ub0RhdGFUZW1wbGF0ZT0iZnVuY3Rpb24iIT10eXBlb2YgYT9jLnRlbXBsYXRlKGEpOmEsdCk6KGkubm9EYXRhPW51bGwsdCl9LF9mb290ZXI6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49ZShpLmZvb3RlciksYT1pLm9wdGlvbnMuZm9vdGVyVGVtcGxhdGU7cmV0dXJuIHRoaXMuX2FuZ3VsYXJFbGVtZW50KG4sImNsZWFudXAiKSxjLmRlc3Ryb3kobiksbi5yZW1vdmUoKSxhPyhpLmZvb3Rlcj1lKCc8ZGl2IGNsYXNzPSJrLWZvb3RlciI+PC9kaXY+JykuYXBwZW5kVG8oaS5saXN0KSxpLmZvb3RlclRlbXBsYXRlPSJmdW5jdGlvbiIhPXR5cGVvZiBhP2MudGVtcGxhdGUoYSk6YSx0KTooaS5mb290ZXI9bnVsbCx0KX0sX2xpc3RPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1uLnZpcnR1YWwscz17Y2hhbmdlOk4oaS5fbGlzdENoYW5nZSxpKX0scj1OKGkuX2xpc3RCb3VuZCxpKTtyZXR1cm4gYT0ib2JqZWN0Ij09dHlwZW9mIGE/YTp7fSx0PWUuZXh0ZW5kKHthdXRvQmluZDohMSxzZWxlY3RhYmxlOiEwLGRhdGFTb3VyY2U6aS5kYXRhU291cmNlLGNsaWNrOk4oaS5fY2xpY2ssaSksYWN0aXZhdGU6TihpLl9hY3RpdmF0ZUl0ZW0saSksY29sdW1uczpuLmNvbHVtbnMsZGVhY3RpdmF0ZTpOKGkuX2RlYWN0aXZhdGVJdGVtLGkpLGRhdGFCaW5kaW5nOmZ1bmN0aW9uKCl7aS50cmlnZ2VyKCJkYXRhQmluZGluZyIpfSxkYXRhQm91bmQ6cixoZWlnaHQ6bi5oZWlnaHQsZGF0YVZhbHVlRmllbGQ6bi5kYXRhVmFsdWVGaWVsZCxkYXRhVGV4dEZpZWxkOm4uZGF0YVRleHRGaWVsZCxncm91cFRlbXBsYXRlOm4uZ3JvdXBUZW1wbGF0ZSxmaXhlZEdyb3VwVGVtcGxhdGU6bi5maXhlZEdyb3VwVGVtcGxhdGUsdGVtcGxhdGU6bi50ZW1wbGF0ZX0sdCxhLHMpLHQudGVtcGxhdGV8fCh0LnRlbXBsYXRlPSIjOiIrYy5leHByKHQuZGF0YVRleHRGaWVsZCwiZGF0YSIpKyIjIiksbi4kYW5ndWxhciYmKHQuJGFuZ3VsYXI9bi4kYW5ndWxhciksdH0sX2luaXRMaXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuX2xpc3RPcHRpb25zKHtzZWxlY3RlZEl0ZW1DaGFuZ2U6TihlLl9saXN0Q2hhbmdlLGUpfSk7ZS5saXN0Vmlldz1lLm9wdGlvbnMudmlydHVhbD9uZXcgYy51aS5WaXJ0dWFsTGlzdChlLnVsLHQpOm5ldyBjLnVpLlN0YXRpY0xpc3QoZS51bCx0KSxlLmxpc3RWaWV3LmJpbmQoImxpc3RCb3VuZCIsTihlLl9saXN0Qm91bmQsZSkpLGUuX3NldExpc3RWYWx1ZSgpfSxfc2V0TGlzdFZhbHVlOmZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5vcHRpb25zLnZhbHVlLGUhPT10JiZ0aGlzLmxpc3RWaWV3LnZhbHVlKGUpLmRvbmUoTih0aGlzLl91cGRhdGVTZWxlY3Rpb25TdGF0ZSx0aGlzKSl9LF91cGRhdGVTZWxlY3Rpb25TdGF0ZTplLm5vb3AsX2xpc3RNb3VzZWRvd246ZnVuY3Rpb24oZSl7dGhpcy5maWx0ZXJJbnB1dCYmdGhpcy5maWx0ZXJJbnB1dFswXT09PWUudGFyZ2V0fHxlLnByZXZlbnREZWZhdWx0KCl9LF9pc0ZpbHRlckVuYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuZmlsdGVyO3JldHVybiBlJiYibm9uZSIhPT1lfSxfaGlkZUNsZWFyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jbGVhciYmZS5fY2xlYXIuYWRkQ2xhc3Moeil9LF9zaG93Q2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhciYmdGhpcy5fY2xlYXIucmVtb3ZlQ2xhc3Moeil9LF9jbGVhclZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUZXh0KCksdGhpcy5fYWNjZXNzb3IoIiIpLHRoaXMubGlzdFZpZXcudmFsdWUoW10pLHRoaXMuX2lzU2VsZWN0JiYodGhpcy5fY3VzdG9tT3B0aW9uPXQpLHRoaXMuX2lzRmlsdGVyRW5hYmxlZCgpJiYhdGhpcy5vcHRpb25zLmVuZm9yY2VNaW5MZW5ndGgmJih0aGlzLl9maWx0ZXIoe3dvcmQ6IiIsb3BlbjohMX0pLHRoaXMub3B0aW9ucy5oaWdobGlnaHRGaXJzdCYmdGhpcy5saXN0Vmlldy5mb2N1cygwKSksdGhpcy5fY2hhbmdlKCl9LF9jbGVhclRleHQ6ZnVuY3Rpb24oKXt0aGlzLnRleHQoIiIpfSxfY2xlYXJGaWx0ZXI6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudmlydHVhbHx8dGhpcy5saXN0Vmlldy5ib3VuZCghMSksdGhpcy5fZmlsdGVyU291cmNlKCl9LF9maWx0ZXJTb3VyY2U6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLGE9dGhpcyxzPWEub3B0aW9ucyxvPXMuZmlsdGVyRmllbGRzJiZlJiZlLmxvZ2ljJiZlLmZpbHRlcnMmJmUuZmlsdGVycy5sZW5ndGgsdT1hLmRhdGFTb3VyY2UsYz1xKHt9LHUuZmlsdGVyKCl8fHt9KSxkPWV8fGMuZmlsdGVycyYmYy5maWx0ZXJzLmxlbmd0aCYmIWUsaD1sKGMscy5kYXRhVGV4dEZpZWxkKTtpZih0aGlzLl9jbGVhckZpbHRlckV4cHJlc3Npb25zKGMpLCFlJiYhaHx8IWEudHJpZ2dlcigiZmlsdGVyaW5nIix7ZmlsdGVyOmV9KSlyZXR1cm4gaT17ZmlsdGVyczpbXSxsb2dpYzoiYW5kIn0sbz9pLmZpbHRlcnMucHVzaChlKTp0aGlzLl9wdXNoRmlsdGVyRXhwcmVzc2lvbihpLGUpLHIoYykmJihpLmxvZ2ljPT09Yy5sb2dpYz9pLmZpbHRlcnM9aS5maWx0ZXJzLmNvbmNhdChjLmZpbHRlcnMpOmkuZmlsdGVycy5wdXNoKGMpKSxhLl9jYXNjYWRpbmcmJnRoaXMubGlzdFZpZXcuc2V0RFNGaWx0ZXIoaSksbj1xKHt9LHtwYWdlOmQ/MTp1LnBhZ2UoKSxwYWdlU2l6ZTpkP3Uub3B0aW9ucy5wYWdlU2l6ZTp1LnBhZ2VTaXplKCksc29ydDp1LnNvcnQoKSxmaWx0ZXI6dS5maWx0ZXIoKSxncm91cDp1Lmdyb3VwKCksYWdncmVnYXRlOnUuYWdncmVnYXRlKCl9LHtmaWx0ZXI6aX0pLHVbdD8icmVhZCI6InF1ZXJ5Il0odS5fbWVyZ2VTdGF0ZShuKSl9LF9wdXNoRmlsdGVyRXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3IodCkmJiIiIT09dC52YWx1ZSYmZS5maWx0ZXJzLnB1c2godCl9LF9jbGVhckZpbHRlckV4cHJlc3Npb25zOmZ1bmN0aW9uKGUpe3ZhciB0LGk7aWYoZS5maWx0ZXJzKXtmb3IoaT0wO2k8ZS5maWx0ZXJzLmxlbmd0aDtpKyspImZyb21GaWx0ZXIiaW4gZS5maWx0ZXJzW2ldJiYodD1pKTtpc05hTih0KXx8ZS5maWx0ZXJzLnNwbGljZSh0LDEpfX0sX2FuZ3VsYXJFbGVtZW50OmZ1bmN0aW9uKGUsdCl7ZSYmdGhpcy5hbmd1bGFyKHQsZnVuY3Rpb24oKXtyZXR1cm57ZWxlbWVudHM6ZX19KX0sX3JlbmRlck5vRGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLm5vRGF0YTt0JiYodGhpcy5fYW5ndWxhckVsZW1lbnQodCwiY2xlYW51cCIpLHQuY2hpbGRyZW4oIjpmaXJzdCIpLmh0bWwoZS5ub0RhdGFUZW1wbGF0ZSh7aW5zdGFuY2U6ZX0pKSx0aGlzLl9hbmd1bGFyRWxlbWVudCh0LCJjb21waWxlIikpfSxfdG9nZ2xlTm9EYXRhOmZ1bmN0aW9uKHQpe2UodGhpcy5ub0RhdGEpLnRvZ2dsZSh0KX0sX3RvZ2dsZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxpc3RWaWV3LmNvbnRlbnQucHJldihGKTt0LnRvZ2dsZShlKX0sX3JlbmRlckZvb3RlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLmZvb3Rlcjt0JiYodGhpcy5fYW5ndWxhckVsZW1lbnQodCwiY2xlYW51cCIpLHQuaHRtbChlLmZvb3RlclRlbXBsYXRlKHtpbnN0YW5jZTplfSkpLHRoaXMuX2FuZ3VsYXJFbGVtZW50KHQsImNvbXBpbGUiKSl9LF9hbGxvd09wZW5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5vRGF0YVRlbXBsYXRlfHx0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKS5sZW5ndGh9LF9pbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5vcHRpb25zLnZhbHVlO251bGwhPT10P2UuZWxlbWVudC52YWwodCk6KHQ9ZS5fYWNjZXNzb3IoKSxlLm9wdGlvbnMudmFsdWU9dCksZS5fb2xkPXR9LF9pZ25vcmVDYXNlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLGk9dC5kYXRhU291cmNlLnJlYWRlci5tb2RlbDtpJiZpLmZpZWxkcyYmKGU9aS5maWVsZHNbdC5vcHRpb25zLmRhdGFUZXh0RmllbGRdLGUmJmUudHlwZSYmInN0cmluZyIhPT1lLnR5cGUmJih0Lm9wdGlvbnMuaWdub3JlQ2FzZT0hMSkpfSxfZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGlzdFZpZXcuZm9jdXMoZSl9LF9maWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPXRoaXMsYT1uLm9wdGlvbnMscz1lLndvcmQscj1hLmZpbHRlckZpZWxkcyxsPWEuZGF0YVRleHRGaWVsZDtpZihyJiZyLmxlbmd0aClmb3IodD17bG9naWM6Im9yIixmaWx0ZXJzOltdLGZyb21GaWx0ZXI6ITB9LGk9MDtpPHIubGVuZ3RoO2krKyl0aGlzLl9wdXNoRmlsdGVyRXhwcmVzc2lvbih0LG4uX2J1aWxkRXhwcmVzc2lvbihzLHJbaV0pKTtlbHNlIHQ9bi5fYnVpbGRFeHByZXNzaW9uKHMsbCk7bi5fb3Blbj1lLm9wZW4sbi5fZmlsdGVyU291cmNlKHQpfSxfYnVpbGRFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcyxuPWkub3B0aW9ucyxhPW4uaWdub3JlQ2FzZSxzPWkuZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7cmV0dXJue3ZhbHVlOmE/cz9lLnRvTG9jYWxlTG93ZXJDYXNlKHMpOmUudG9Mb3dlckNhc2UoKTplLGZpZWxkOnQsb3BlcmF0b3I6bi5maWx0ZXIsaWdub3JlQ2FzZTphfX0sX2NsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXQub3B0aW9ucy5tZXNzYWdlcy5jbGVhcjt0Ll9jbGVhcnx8KHQuX2NsZWFyPWUoJzxzcGFuIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWljb24gay1jbGVhci12YWx1ZSBrLWktY2xvc2UiIHRpdGxlPSInK2krJyI+PC9zcGFuPicpLmF0dHIoe3JvbGU6ImJ1dHRvbiIsdGFiSW5kZXg6LTF9KSksdC5vcHRpb25zLmNsZWFyQnV0dG9ufHx0Ll9jbGVhci5yZW1vdmUoKSx0aGlzLl9oaWRlQ2xlYXIoKX0sc2VhcmNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9uczt0PSJzdHJpbmciPT10eXBlb2YgdD90OnRoaXMuX2lucHV0VmFsdWUoKSxjbGVhclRpbWVvdXQodGhpcy5fdHlwaW5nVGltZW91dCksKCFpLmVuZm9yY2VNaW5MZW5ndGgmJiF0Lmxlbmd0aHx8dC5sZW5ndGg+PWkubWluTGVuZ3RoKSYmKHRoaXMuX3N0YXRlPSJmaWx0ZXIiLHRoaXMubGlzdFZpZXcmJih0aGlzLmxpc3RWaWV3Ll9lbXB0eVNlYXJjaD0hZS50cmltKHQpLmxlbmd0aCksdGhpcy5faXNGaWx0ZXJFbmFibGVkKCk/dGhpcy5fZmlsdGVyKHt3b3JkOnQsb3BlbjohMH0pOnRoaXMuX3NlYXJjaEJ5V29yZCh0KSl9LGN1cnJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ZvY3VzKGUpfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVsWzBdLmNoaWxkcmVufSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUubnM7cC5mbi5kZXN0cm95LmNhbGwoZSksZS5fdW5iaW5kRGF0YVNvdXJjZSgpLGUubGlzdFZpZXcuZGVzdHJveSgpLGUubGlzdC5vZmYodCksZS5wb3B1cC5kZXN0cm95KCksZS5fZm9ybSYmZS5fZm9ybS5vZmYoInJlc2V0IixlLl9yZXNldEhhbmRsZXIpfSxkYXRhSXRlbTpmdW5jdGlvbihpKXt2YXIgbj10aGlzO2lmKGk9PT10KXJldHVybiBuLmxpc3RWaWV3LnNlbGVjdGVkRGF0YUl0ZW1zKClbMF07aWYoIm51bWJlciIhPXR5cGVvZiBpKXtpZihuLm9wdGlvbnMudmlydHVhbClyZXR1cm4gbi5kYXRhU291cmNlLmdldEJ5VWlkKGUoaSkuZGF0YSgidWlkIikpO2k9ZShuLml0ZW1zKCkpLmluZGV4KGkpfXJldHVybiBuLmRhdGFTb3VyY2UuZmxhdFZpZXcoKVtpXX0sX2FjdGl2YXRlSXRlbTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGlzdFZpZXcuZm9jdXMoKTtlJiZ0aGlzLl9mb2N1c2VkLmFkZCh0aGlzLmZpbHRlcklucHV0KS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGUuYXR0cigiaWQiKSl9LF9kZWFjdGl2YXRlSXRlbTpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQuYWRkKHRoaXMuZmlsdGVySW5wdXQpLnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpfSxfYWNjZXNzb3JzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuZWxlbWVudCxpPWUub3B0aW9ucyxuPWMuZ2V0dGVyLGE9dC5hdHRyKGMuYXR0cigidGV4dC1maWVsZCIpKSxzPXQuYXR0cihjLmF0dHIoInZhbHVlLWZpZWxkIikpOyFpLmRhdGFUZXh0RmllbGQmJmEmJihpLmRhdGFUZXh0RmllbGQ9YSksIWkuZGF0YVZhbHVlRmllbGQmJnMmJihpLmRhdGFWYWx1ZUZpZWxkPXMpLGUuX3RleHQ9bihpLmRhdGFUZXh0RmllbGQpLGUuX3ZhbHVlPW4oaS5kYXRhVmFsdWVGaWVsZCl9LF9hcmlhOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1pLl9mb2N1c2VkLmFkZChpLmZpbHRlcklucHV0KTtuLnN1Z2dlc3QhPT10JiZhLmF0dHIoImFyaWEtYXV0b2NvbXBsZXRlIixuLnN1Z2dlc3Q/ImJvdGgiOiJsaXN0IiksZT1lP2UrIiAiK2kudWxbMF0uaWQ6aS51bFswXS5pZCxhLmF0dHIoImFyaWEtb3ducyIsZSksaS51bC5hdHRyKCJhcmlhLWxpdmUiLGkuX2lzRmlsdGVyRW5hYmxlZCgpPyJwb2xpdGUiOiJvZmYiKSxpLl9hcmlhTGFiZWwoKX0sX2FyaWFMYWJlbDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcyxuPWkuX2ZvY3VzZWQsYT1pLmVsZW1lbnQscz1hLmF0dHIoImlkIikscj1lKCdsYWJlbFtmb3I9IicrcysnIl0nKSxsPWEuYXR0cigiYXJpYS1sYWJlbCIpLG89YS5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiKTtuIT09YSYmKGw/bi5hdHRyKCJhcmlhLWxhYmVsIixsKTpvP24uYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixvKTpyLmxlbmd0aCYmKHQ9ci5hdHRyKCJpZCIpfHxpLl9nZW5lcmF0ZUxhYmVsSWQocixzfHxjLmd1aWQoKSksbi5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLHQpKSl9LF9nZW5lcmF0ZUxhYmVsSWQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT10K1Y7cmV0dXJuIGUuYXR0cigiaWQiLGkpLGl9LF9ibHVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGFuZ2UoKSxlLmNsb3NlKCksZS5fdXNlclRyaWdnZXJlZD0hMX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlLG49dGhpcyxhPW4uc2VsZWN0ZWRJbmRleCxzPW4ub3B0aW9ucy52YWx1ZSxyPW4udmFsdWUoKTtuLl9pc1NlbGVjdCYmIW4ubGlzdFZpZXcuYm91bmQoKSYmcyYmKHI9cyksciE9PWkobi5fb2xkLHR5cGVvZiByKSYmciE9PWkobi5fb2xkVGV4dCx0eXBlb2Ygcik/ZT0hMDpuLl92YWx1ZUJlZm9yZUNhc2NhZGUhPT10JiZuLl92YWx1ZUJlZm9yZUNhc2NhZGUhPT1pKG4uX29sZCx0eXBlb2Ygbi5fdmFsdWVCZWZvcmVDYXNjYWRlKSYmbi5fdXNlclRyaWdnZXJlZD9lPSEwOmE9PT10fHxhPT09bi5fb2xkSW5kZXh8fG4ubGlzdFZpZXcuaXNGaWx0ZXJlZCgpfHwoZT0hMCksZSYmKG4uX3ZhbHVlQmVmb3JlQ2FzY2FkZT1uLl9vbGQ9bnVsbD09PW4uX29sZHx8IiI9PT1uLl9vbGR8fCIiPT09cj9yOm4uZGF0YUl0ZW0oKT9uLm9wdGlvbnMuZGF0YVZhbHVlRmllbGQ/bi5kYXRhSXRlbSgpW24ub3B0aW9ucy5kYXRhVmFsdWVGaWVsZF06bi5kYXRhSXRlbSgpOm51bGwsbi5fb2xkSW5kZXg9YSxuLl9vbGRUZXh0PW4udGV4dCYmbi50ZXh0KCksbi5fdHlwaW5nfHxuLmVsZW1lbnQudHJpZ2dlcih3KSxuLnRyaWdnZXIodykpLG4udHlwaW5nPSExfSxfZGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFTb3VyY2UudmlldygpfSxfZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPWUub3B0aW9ucyxuPWUuZWxlbWVudC5pcygiW2Rpc2FibGVkXSIpO2kuZW5hYmxlIT09dCYmKGkuZW5hYmxlZD1pLmVuYWJsZSksIWkuZW5hYmxlZHx8bj9lLmVuYWJsZSghMSk6ZS5yZWFkb25seShlLmVsZW1lbnQuaXMoIltyZWFkb25seV0iKSl9LF9kYXRhVmFsdWU6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fdmFsdWUoZSk7cmV0dXJuIGk9PT10JiYoaT10aGlzLl90ZXh0KGUpKSxpfSxfb2Zmc2V0SGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9MCxpPXRoaXMubGlzdFZpZXcuY29udGVudC5wcmV2QWxsKCI6dmlzaWJsZSIpO3JldHVybiBpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpO3QrPWgoaSwhMCl9KSx0fSxfaGVpZ2h0OmZ1bmN0aW9uKGkpe3ZhciBuLGEscyxyPXRoaXMsbD1yLmxpc3Qsbz1yLm9wdGlvbnMuaGVpZ2h0LHU9ci5wb3B1cC52aXNpYmxlKCk7aWYoaXx8ci5vcHRpb25zLm5vRGF0YVRlbXBsYXRlKXtpZihhPWwuYWRkKGwucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyIikpLnNob3coKSwhbC5pcygiOnZpc2libGUiKSlyZXR1cm4gYS5oaWRlKCksdDtvPXIubGlzdFZpZXcuY29udGVudFswXS5zY3JvbGxIZWlnaHQ+bz9vOiJhdXRvIixhLmhlaWdodChvKSwiYXV0byIhPT1vJiYobj1yLl9vZmZzZXRIZWlnaHQoKSxzPWgoZShyLmZvb3RlcikpfHwwLG89by1uLXMpLHIubGlzdFZpZXcuY29udGVudC5oZWlnaHQobyksdXx8YS5oaWRlKCl9cmV0dXJuIG99LF9vcGVuSGFuZGxlcjpmdW5jdGlvbihlKXt0aGlzLl9hZGp1c3RMaXN0V2lkdGgoKSx0aGlzLnRyaWdnZXIoQyk/ZS5wcmV2ZW50RGVmYXVsdCgpOih0aGlzLl9mb2N1c2VkLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnVsLmF0dHIoImFyaWEtaGlkZGVuIiwhMSkpfSxfYWRqdXN0TGlzdFdpZHRoOmZ1bmN0aW9uKCl7dmFyIGUsdCxpPXRoaXMsbj1pLmxpc3QsYT1uWzBdLnN0eWxlLndpZHRoLHM9aS53cmFwcGVyO2lmKG4uZGF0YShSKXx8IWEpcmV0dXJuIGU9d2luZG93LmdldENvbXB1dGVkU3R5bGU/d2luZG93LmdldENvbXB1dGVkU3R5bGUoc1swXSxudWxsKTowLHQ9cGFyc2VGbG9hdChlJiZlLndpZHRoKXx8YihzKSxlJiZNLm1zaWUmJih0Kz1wYXJzZUZsb2F0KGUucGFkZGluZ0xlZnQpK3BhcnNlRmxvYXQoZS5wYWRkaW5nUmlnaHQpK3BhcnNlRmxvYXQoZS5ib3JkZXJMZWZ0V2lkdGgpK3BhcnNlRmxvYXQoZS5ib3JkZXJSaWdodFdpZHRoKSksYT0iYm9yZGVyLWJveCIhPT1uLmNzcygiYm94LXNpemluZyIpP3QtKGIobiktbi53aWR0aCgpKTp0LG4uY3NzKHtmb250RmFtaWx5OnMuY3NzKCJmb250LWZhbWlseSIpLHdpZHRoOmkub3B0aW9ucy5hdXRvV2lkdGg/ImF1dG8iOmEsbWluV2lkdGg6YSx3aGl0ZVNwYWNlOmkub3B0aW9ucy5hdXRvV2lkdGg/Im5vd3JhcCI6Im5vcm1hbCJ9KS5kYXRhKFIsYSksITB9LF9jbG9zZUhhbmRsZXI6ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKEQpP2UucHJldmVudERlZmF1bHQoKToodGhpcy5fZm9jdXNlZC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy51bC5hdHRyKCJhcmlhLWhpZGRlbiIsITApKX0sX2ZvY3VzSXRlbTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGlzdFZpZXcsaT0hZS5mb2N1cygpLGE9bihlLnNlbGVjdCgpKTthPT09dCYmdGhpcy5vcHRpb25zLmhpZ2hsaWdodEZpcnN0JiZpJiYoYT0wKSxhIT09dD9lLmZvY3VzKGEpOmkmJmUuc2Nyb2xsVG9JbmRleCgwKX0sX2NhbGN1bGF0ZUdyb3VwUGFkZGluZzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnVsLmNoaWxkcmVuKCIuay1maXJzdDpmaXJzdCIpLGk9dGhpcy5saXN0Vmlldy5jb250ZW50LnByZXYoRiksbj0wLGE9InJpZ2h0IjtpWzBdJiYibm9uZSIhPT1pWzBdLnN0eWxlLmRpc3BsYXkmJigiYXV0byIhPT1lJiYobj1jLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLHRoaXMuZWxlbWVudC5wYXJlbnRzKCIuay1ydGwiKS5sZW5ndGgmJihhPSJsZWZ0Iiksbis9cGFyc2VGbG9hdCh0LmNzcygiYm9yZGVyLSIrYSsiLXdpZHRoIiksMTApK3BhcnNlRmxvYXQodC5jaGlsZHJlbigiLmstZ3JvdXAiKS5jc3MoInBhZGRpbmctIithKSwxMCksaS5jc3MoInBhZGRpbmctIithLG4pKX0sX2NhbGN1bGF0ZVBvcHVwSGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2hlaWdodCh0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKS5sZW5ndGh8fGUpO3RoaXMuX2NhbGN1bGF0ZUdyb3VwUGFkZGluZyh0KSx0aGlzLl9jYWxjdWxhdGVDb2x1bW5zSGVhZGVyUGFkZGluZyh0KX0sX2NhbGN1bGF0ZUNvbHVtbnNIZWFkZXJQYWRkaW5nOmZ1bmN0aW9uKGUpe3ZhciB0LGksbjt0aGlzLm9wdGlvbnMuY29sdW1ucyYmdGhpcy5vcHRpb25zLmNvbHVtbnMubGVuZ3RoJiYodD10aGlzLGk9Zy5pc1J0bCh0LndyYXBwZXIpLG49Yy5zdXBwb3J0LnNjcm9sbGJhcigpLHQuY29sdW1uc0hlYWRlci5jc3MoaT8icGFkZGluZy1sZWZ0IjoicGFkZGluZy1yaWdodCIsImF1dG8iIT09ZT9uOjApKX0sX3JlZnJlc2hTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxpc3RWaWV3LHQ9ZS5lbGVtZW50LmhlaWdodCgpPmUuY29udGVudC5oZWlnaHQoKTt0aGlzLm9wdGlvbnMuYXV0b1dpZHRoJiZlLmNvbnRlbnQuY3NzKHtvdmVyZmxvd1g6ImhpZGRlbiIsb3ZlcmZsb3dZOnQ/InNjcm9sbCI6ImF1dG8ifSl9LF9yZXNpemVQb3B1cDpmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMudmlydHVhbHx8KHRoaXMucG9wdXAuZWxlbWVudC5pcygiOnZpc2libGUiKT90aGlzLl9jYWxjdWxhdGVQb3B1cEhlaWdodChlKToodGhpcy5wb3B1cC5vbmUoIm9wZW4iLGZ1bmN0aW9uKGUpe3JldHVybiBOKGZ1bmN0aW9uKCl7dGhpcy5fY2FsY3VsYXRlUG9wdXBIZWlnaHQoZSl9LHRoaXMpfS5jYWxsKHRoaXMsZSkpLHRoaXMucG9wdXAub25lKCJhY3RpdmF0ZSIsTih0aGlzLl9yZWZyZXNoU2Nyb2xsLHRoaXMpKSkpfSxfcG9wdXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucG9wdXA9bmV3IGQuUG9wdXAoZS5saXN0LHEoe30sZS5vcHRpb25zLnBvcHVwLHthbmNob3I6ZS53cmFwcGVyLG9wZW46TihlLl9vcGVuSGFuZGxlcixlKSxjbG9zZTpOKGUuX2Nsb3NlSGFuZGxlcixlKSxhbmltYXRpb246ZS5vcHRpb25zLmFuaW1hdGlvbixpc1J0bDpnLmlzUnRsKGUud3JhcHBlciksYXV0b3NpemU6ZS5vcHRpb25zLmF1dG9XaWR0aH0pKX0sX21ha2VVbnNlbGVjdGFibGU6ZnVuY3Rpb24oKXtqJiZ0aGlzLmxpc3QuZmluZCgiKiIpLm5vdCgiLmstdGV4dGJveCIpLmF0dHIoInVuc2VsZWN0YWJsZSIsIm9uIil9LF90b2dnbGVIb3ZlcjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoeSwibW91c2VlbnRlciI9PT10LnR5cGUpfSxfdG9nZ2xlOmZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcyxhPWcubW9iaWxlT1MmJihnLnRvdWNofHxnLk1TUG9pbnRlcnN8fGcucG9pbnRlcnMpO2U9ZSE9PXQ/ZTohbi5wb3B1cC52aXNpYmxlKCksaXx8YXx8bi5fZm9jdXNlZFswXT09PXYoKXx8KG4uX3ByZXZlbnQ9ITAsbi5fZm9jdXNlZC5mb2N1cygpLG4uX3ByZXZlbnQ9ITEpLG5bZT9DOkRdKCl9LF90cmlnZ2VyQ2FzY2FkZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2FzY2FkZVRyaWdnZXJlZCYmZS52YWx1ZSgpPT09aShlLl9jYXNjYWRlZFZhbHVlLHR5cGVvZiBlLnZhbHVlKCkpfHwoZS5fY2FzY2FkZWRWYWx1ZT1lLnZhbHVlKCksZS5fY2FzY2FkZVRyaWdnZXJlZD0hMCxlLnRyaWdnZXIoSCx7dXNlclRyaWdnZXJlZDplLl91c2VyVHJpZ2dlcmVkfSkpfSxfdHJpZ2dlckNoYW5nZTpmdW5jdGlvbigpe3RoaXMuX3ZhbHVlQmVmb3JlQ2FzY2FkZSE9PXRoaXMudmFsdWUoKSYmdGhpcy50cmlnZ2VyKHcpfSxfdW5iaW5kRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5kYXRhU291cmNlLnVuYmluZChMLGUuX3JlcXVlc3RTdGFydEhhbmRsZXIpLnVuYmluZChQLGUuX3JlcXVlc3RFbmRIYW5kbGVyKS51bmJpbmQoImVycm9yIixlLl9lcnJvckhhbmRsZXIpfSxyZXF1aXJlVmFsdWVNYXBwZXI6ZnVuY3Rpb24oZSx0KXt2YXIgaT0oZS52YWx1ZSBpbnN0YW5jZW9mIEFycmF5P2UudmFsdWUubGVuZ3RoOmUudmFsdWUpfHwodCBpbnN0YW5jZW9mIEFycmF5P3QubGVuZ3RoOnQpO2lmKGkmJmUudmlydHVhbCYmImZ1bmN0aW9uIiE9dHlwZW9mIGUudmlydHVhbC52YWx1ZU1hcHBlcil0aHJvdyBFcnJvcigiVmFsdWVNYXBwZXIgaXMgbm90IHByb3ZpZGVkIHdoaWxlIHRoZSB2YWx1ZSBpcyBiZWluZyBzZXQuIFNlZSBodHRwOi8vZG9jcy50ZWxlcmlrLmNvbS9rZW5kby11aS9jb250cm9scy9lZGl0b3JzL2NvbWJvYm94L3ZpcnR1YWxpemF0aW9uI3RoZS12YWx1ZW1hcHBlci1mdW5jdGlvbiIpfX0pO3EoWSx7aW5BcnJheTpmdW5jdGlvbihlLHQpe3ZhciBpLG4sYT10LmNoaWxkcmVuO2lmKCFlfHxlLnBhcmVudE5vZGUhPT10KXJldHVybi0xO2ZvcihpPTAsbj1hLmxlbmd0aDtpPG47aSsrKWlmKGU9PT1hW2ldKXJldHVybiBpO3JldHVybi0xfSx1bmlmeVR5cGU6aX0pLGMudWkuTGlzdD1ZLGQuU2VsZWN0PVkuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7WS5mbi5pbml0LmNhbGwodGhpcyxlLHQpLHRoaXMuX2luaXRpYWw9dGhpcy5lbGVtZW50LnZhbCgpfSxzZXREYXRhU291cmNlOmZ1bmN0aW9uKGUpe3ZhciB0LGk9dGhpcztpLm9wdGlvbnMuZGF0YVNvdXJjZT1lLGkuX2RhdGFTb3VyY2UoKSxpLmxpc3RWaWV3LmJvdW5kKCkmJihpLl9pbml0aWFsSW5kZXg9bnVsbCxpLmxpc3RWaWV3Ll9jdXJyZW50PW51bGwpLGkubGlzdFZpZXcuc2V0RGF0YVNvdXJjZShpLmRhdGFTb3VyY2UpLGkub3B0aW9ucy5hdXRvQmluZCYmaS5kYXRhU291cmNlLmZldGNoKCksdD1pLl9wYXJlbnRXaWRnZXQoKSx0JiZpLl9jYXNjYWRlU2VsZWN0KHQpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMucG9wdXAuY2xvc2UoKX0sc2VsZWN0OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIGU9PT10P2kuc2VsZWN0ZWRJbmRleDppLl9zZWxlY3QoZSkuZG9uZShmdW5jdGlvbigpe2kuX2Nhc2NhZGVWYWx1ZT1pLl9vbGQ9aS5fYWNjZXNzb3IoKSxpLl9vbGRJbmRleD1pLnNlbGVjdGVkSW5kZXh9KX0sX2FjY2Vzc29yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXNbdGhpcy5faXNTZWxlY3Q/Il9hY2Nlc3NvclNlbGVjdCI6Il9hY2Nlc3NvcklucHV0Il0oZSx0KX0sX2FjY2Vzc29ySW5wdXQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5lbGVtZW50WzBdO3JldHVybiBlPT09dD9pLnZhbHVlOihudWxsPT09ZSYmKGU9IiIpLGkudmFsdWU9ZSx0KX0sX2FjY2Vzc29yU2VsZWN0OmZ1bmN0aW9uKGUsaSl7dmFyIG4scz10aGlzLmVsZW1lbnRbMF07cmV0dXJuIGU9PT10P2EocykudmFsdWV8fCIiOihhKHMpLnNlbGVjdGVkPSExLGk9PT10JiYoaT0tMSksbj1udWxsIT09ZSYmIiIhPT1lLG4mJmk9PS0xP3RoaXMuX2N1c3RvbShlKTplP3MudmFsdWU9ZTpzLnNlbGVjdGVkSW5kZXg9aSx0KX0sX3N5bmNWYWx1ZUFuZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX2N1c3RvbTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLG49aS5lbGVtZW50LGE9aS5fY3VzdG9tT3B0aW9uO2F8fChhPWUoIjxvcHRpb24vPiIpLGkuX2N1c3RvbU9wdGlvbj1hLG4uYXBwZW5kKGEpKSxhLnRleHQodCksYVswXS5zZWxlY3RlZD0hMH0sX2hpZGVCdXN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQoZS5fYnVzeSksZS5fYXJyb3dJY29uLnJlbW92ZUNsYXNzKFQpLGUuX2ZvY3VzZWQuYXR0cigiYXJpYS1idXN5IiwhMSksZS5fYnVzeT1udWxsLGUuX3Nob3dDbGVhcigpfSxfc2hvd0J1c3k6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodC5fcmVxdWVzdD0hMCx0Ll9idXN5fHwodC5fYnVzeT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYXJyb3dJY29uJiYodC5fZm9jdXNlZC5hdHRyKCJhcmlhLWJ1c3kiLCEwKSx0Ll9hcnJvd0ljb24uYWRkQ2xhc3MoVCksdC5faGlkZUNsZWFyKCkpfSwxMDApKSl9LF9yZXF1ZXN0RW5kOmZ1bmN0aW9uKCl7dGhpcy5fcmVxdWVzdD0hMSx0aGlzLl9oaWRlQnVzeSgpfSxfZGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcyxuPWkuZWxlbWVudCxhPWkub3B0aW9ucyxzPWEuZGF0YVNvdXJjZXx8e307cz1lLmlzQXJyYXkocyk/e2RhdGE6c306cyxpLl9pc1NlbGVjdCYmKHQ9blswXS5zZWxlY3RlZEluZGV4LHQ+LTEmJihhLmluZGV4PXQpLHMuc2VsZWN0PW4scy5maWVsZHM9W3tmaWVsZDphLmRhdGFUZXh0RmllbGR9LHtmaWVsZDphLmRhdGFWYWx1ZUZpZWxkfV0pLGkuZGF0YVNvdXJjZT9pLl91bmJpbmREYXRhU291cmNlKCk6KGkuX3JlcXVlc3RTdGFydEhhbmRsZXI9TihpLl9zaG93QnVzeSxpKSxpLl9yZXF1ZXN0RW5kSGFuZGxlcj1OKGkuX3JlcXVlc3RFbmQsaSksaS5fZXJyb3JIYW5kbGVyPU4oaS5faGlkZUJ1c3ksaSkpLGkuZGF0YVNvdXJjZT1jLmRhdGEuRGF0YVNvdXJjZS5jcmVhdGUocykuYmluZChMLGkuX3JlcXVlc3RTdGFydEhhbmRsZXIpLmJpbmQoUCxpLl9yZXF1ZXN0RW5kSGFuZGxlcikuYmluZCgiZXJyb3IiLGkuX2Vycm9ySGFuZGxlcil9LF9maXJzdEl0ZW06ZnVuY3Rpb24oKXt0aGlzLmxpc3RWaWV3LmZvY3VzRmlyc3QoKX0sX2xhc3RJdGVtOmZ1bmN0aW9uKCl7dGhpcy5saXN0Vmlldy5mb2N1c0xhc3QoKX0sX25leHRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdFZpZXcuZm9jdXNOZXh0KCl9LF9wcmV2SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3RWaWV3LmZvY3VzUHJldigpfSxfZ2V0Tm9ybWFsaXplZERhdGFJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0LGk9dGhpcyxuPWkubGlzdFZpZXcsYT0ibnVtYmVyIj09dHlwZW9mIGUscz1pLm9wdGlvbkxhYmVsJiZpLm9wdGlvbkxhYmVsLmxlbmd0aDtyZXR1cm4gdD1hP3M/LS1lOmU6bi5nZXRFbGVtZW50SW5kZXgoZSksbi5kYXRhSXRlbUJ5SW5kZXgodCl9LF9nZXROb3JtYWxpemVkU2VsZWN0Q2FuZGlkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT10Lm9wdGlvbkxhYmVsJiZ0Lm9wdGlvbkxhYmVsLmxlbmd0aCxuPSJudW1iZXIiPT10eXBlb2YgZSxhPWU7cmV0dXJuIGkmJm4mJmErKyxhfSxfbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxpLG4sYSxzLHIsbCxvLHUsYz10aGlzLGQ9Yy5saXN0VmlldyxoPWUua2V5Q29kZSxmPWg9PT1fLkRPV04scD1jLm9wdGlvbnMudmlydHVhbDtpZihoPT09Xy5VUHx8Zil7aWYoZS5hbHRLZXkpYy50b2dnbGUoZik7ZWxzZXtpZighZC5ib3VuZCgpJiYhYy51bFswXS5maXJzdENoaWxkKXJldHVybiBjLl9mZXRjaHx8KGMuZGF0YVNvdXJjZS5vbmUodyxmdW5jdGlvbigpe2MuX2ZldGNoPSExLGMuX21vdmUoZSl9KSxjLl9mZXRjaD0hMCxjLl9maWx0ZXJTb3VyY2UoKSksZS5wcmV2ZW50RGVmYXVsdCgpLCEwO249Yy5fZm9jdXMoKSxjLl9mZXRjaHx8biYmIW4uaGFzQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKXx8KGY/KGE9Yy5fbmV4dEl0ZW0oKSwocCYmYTw9MHx8IWMuX2ZvY3VzKCkmJiFhKSYmYy5fbGFzdEl0ZW0oKSk6KGE9Yy5fcHJldkl0ZW0oKSwocCYmYT49ZC5kYXRhU291cmNlLnRvdGFsKCktMXx8IWMuX2ZvY3VzKCkmJiFhKSYmYy5fZmlyc3RJdGVtKCkpKSxzPWMuX2dldE5vcm1hbGl6ZWRTZWxlY3RDYW5kaWRhdGUoYy5fZ2V0KGMuX2ZvY3VzKCkpfHxhfHwwKSxjLl9zZWxlY3QocywhMCkuZG9uZShmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7Yy5wb3B1cC52aXNpYmxlKCl8fGMuX2JsdXIoKSxjLl9jYXNjYWRlZFZhbHVlPW51bGw9PT1jLl9jYXNjYWRlZFZhbHVlP2MudmFsdWUoKTpjLmRhdGFJdGVtKCk/Yy5kYXRhSXRlbSgpW2Mub3B0aW9ucy5kYXRhVmFsdWVGaWVsZF18fGMuZGF0YUl0ZW0oKTpudWxsfTtjLnRyaWdnZXIoQix7ZGF0YUl0ZW06Yy5fZ2V0Tm9ybWFsaXplZERhdGFJdGVtKHMpLGl0ZW06Yy5fZm9jdXMoKX0pP2MuX3NlbGVjdChuKS5kb25lKGUpOmUoKX0pfWUucHJldmVudERlZmF1bHQoKSxpPSEwfWVsc2UgaWYoaD09PV8uRU5URVJ8fGg9PT1fLlRBQil7aWYoYy5wb3B1cC52aXNpYmxlKCkmJmUucHJldmVudERlZmF1bHQoKSxuPWMuX2ZvY3VzKCksdD1jLmRhdGFJdGVtKCksYy5wb3B1cC52aXNpYmxlKCl8fHQmJmMudGV4dCgpPT09Yy5fdGV4dCh0KXx8KG49bnVsbCkscj1jLmZpbHRlcklucHV0JiZjLmZpbHRlcklucHV0WzBdPT09digpLG4pe2lmKHQ9ZC5kYXRhSXRlbUJ5SW5kZXgoZC5nZXRFbGVtZW50SW5kZXgobikpLG89ITAsdCYmKG89Yy5fdmFsdWUodCkhPT1ZLnVuaWZ5VHlwZShjLnZhbHVlKCksdHlwZW9mIGMuX3ZhbHVlKHQpKSksbyYmYy50cmlnZ2VyKEIse2RhdGFJdGVtOnQsaXRlbTpufSkpcmV0dXJuO2w9Yy5fc2VsZWN0KG4pfWVsc2UgYy5pbnB1dCYmKChjLl9zeW5jVmFsdWVBbmRUZXh0KCl8fGMuX2lzU2VsZWN0KSYmYy5fYWNjZXNzb3IoYy5pbnB1dC52YWwoKSksYy5saXN0Vmlldy52YWx1ZShjLmlucHV0LnZhbCgpKSk7Yy5fZm9jdXNFbGVtZW50JiZjLl9mb2N1c0VsZW1lbnQoYy53cmFwcGVyKSxyJiZoPT09Xy5UQUI/Yy53cmFwcGVyLmZvY3Vzb3V0KCk6bCYmImZ1bmN0aW9uIj09dHlwZW9mIGwuZG9uZT9sLmRvbmUoZnVuY3Rpb24oKXtjLl9ibHVyKCl9KTpjLl9ibHVyKCksYy5jbG9zZSgpLGk9ITB9ZWxzZSBoPT09Xy5FU0M/KGMucG9wdXAudmlzaWJsZSgpJiZlLnByZXZlbnREZWZhdWx0KCksYy5jbG9zZSgpLGk9ITApOiFjLnBvcHVwLnZpc2libGUoKXx8aCE9PV8uUEFHRURPV04mJmghPT1fLlBBR0VVUHx8KGUucHJldmVudERlZmF1bHQoKSx1PWg9PT1fLlBBR0VET1dOPzE6LTEsZC5zY3JvbGxXaXRoKHUqZC5zY3JlZW5IZWlnaHQoKSksaT0hMCk7cmV0dXJuIGl9LF9mZXRjaERhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ISFlLmRhdGFTb3VyY2UudmlldygpLmxlbmd0aDtlLl9yZXF1ZXN0fHxlLm9wdGlvbnMuY2FzY2FkZUZyb218fGUubGlzdFZpZXcuYm91bmQoKXx8ZS5fZmV0Y2h8fHR8fChlLl9mZXRjaD0hMCxlLmRhdGFTb3VyY2UuZmV0Y2goKS5kb25lKGZ1bmN0aW9uKCl7ZS5fZmV0Y2g9ITF9KSl9LF9vcHRpb25zOmZ1bmN0aW9uKGUsaSxuKXt2YXIgcyxyLGwsbyx1PXRoaXMsYz11LmVsZW1lbnQsZD1jWzBdLGg9ZS5sZW5ndGgsZj0iIixwPTA7Zm9yKGkmJihmPWkpO3A8aDtwKyspcz0iPG9wdGlvbiIscj1lW3BdLGw9dS5fdGV4dChyKSxvPXUuX3ZhbHVlKHIpLG8hPT10JiYobys9IiIsby5pbmRleE9mKCciJykhPT0tMSYmKG89by5yZXBsYWNlKCQsIiZxdW90OyIpKSxzKz0nIHZhbHVlPSInK28rJyInKSxzKz0iPiIsbCE9PXQmJihzKz1tKGwpKSxzKz0iPC9vcHRpb24+IixmKz1zO2MuaHRtbChmKSxuIT09dCYmKGQudmFsdWU9bixkLnZhbHVlJiYhbiYmKGQuc2VsZWN0ZWRJbmRleD0tMSkpLGQuc2VsZWN0ZWRJbmRleCE9PS0xJiYocz1hKGQpLHMmJnMuc2V0QXR0cmlidXRlKEUsRSkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5lbGVtZW50LG49aS5hdHRyKCJmb3JtIiksYT1uP2UoIiMiK24pOmkuY2xvc2VzdCgiZm9ybSIpO2FbMF0mJih0Ll9yZXNldEhhbmRsZXI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC52YWx1ZSh0Ll9pbml0aWFsKX0pfSx0Ll9mb3JtPWEub24oInJlc2V0Iix0Ll9yZXNldEhhbmRsZXIpKX0sX3BhcmVudFdpZGdldDpmdW5jdGlvbigpe3ZhciB0LGksbixhPXRoaXMub3B0aW9ucy5uYW1lO2lmKHRoaXMub3B0aW9ucy5jYXNjYWRlRnJvbSl7aWYodD1lKCIjIit0aGlzLm9wdGlvbnMuY2FzY2FkZUZyb20pLGk9dC5kYXRhKCJrZW5kbyIrYSksIWkpZm9yKG49MDtuPFFbYV0ubGVuZ3RoJiYhKGk9dC5kYXRhKCJrZW5kbyIrUVthXVtuXSkpO24rPTEpO3JldHVybiBpfX0sX2Nhc2NhZGU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsaT10Lm9wdGlvbnMsbj1pLmNhc2NhZGVGcm9tO2lmKG4pe2lmKGU9dC5fcGFyZW50V2lkZ2V0KCksIWUpcmV0dXJuO3QuX2Nhc2NhZGVIYW5kbGVyUHJveHk9Tih0Ll9jYXNjYWRlSGFuZGxlcix0KSx0Ll9jYXNjYWRlRmlsdGVyUmVxdWVzdHM9W10saS5hdXRvQmluZD0hMSxlLmJpbmQoInNldCIsZnVuY3Rpb24oKXt0Lm9uZSgic2V0IixmdW5jdGlvbihlKXt0Ll9zZWxlY3RlZFZhbHVlPWUudmFsdWV8fHQuX2FjY2Vzc29yKCl9KX0pLGUuZmlyc3QoSCx0Ll9jYXNjYWRlSGFuZGxlclByb3h5KSxlLmxpc3RWaWV3LmJvdW5kKCk/KHQuX3RvZ2dsZUNhc2NhZGVPbkZvY3VzKCksdC5fY2FzY2FkZVNlbGVjdChlKSk6KGUub25lKCJkYXRhQm91bmQiLGZ1bmN0aW9uKCl7dC5fdG9nZ2xlQ2FzY2FkZU9uRm9jdXMoKSxlLnBvcHVwLnZpc2libGUoKSYmZS5fZm9jdXNlZC5mb2N1cygpfSksZS52YWx1ZSgpfHx0LmVuYWJsZSghMSkpfX0sX3RvZ2dsZUNhc2NhZGVPbkZvY3VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuX3BhcmVudFdpZGdldCgpLGk9VSYmdCBpbnN0YW5jZW9mIGQuRHJvcERvd25MaXN0P0c6QTt0Ll9mb2N1c2VkLmFkZCh0LmZpbHRlcklucHV0KS5iaW5kKFcsZnVuY3Rpb24oKXt0LnVuYmluZChILGUuX2Nhc2NhZGVIYW5kbGVyUHJveHkpLHQuZmlyc3QodyxlLl9jYXNjYWRlSGFuZGxlclByb3h5KX0pLHQuX2ZvY3VzZWQuYWRkKHQuZmlsdGVySW5wdXQpLmJpbmQoaSxmdW5jdGlvbigpe3QudW5iaW5kKHcsZS5fY2FzY2FkZUhhbmRsZXJQcm94eSksdC5maXJzdChILGUuX2Nhc2NhZGVIYW5kbGVyUHJveHkpfSl9LF9jYXNjYWRlSGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9wYXJlbnRXaWRnZXQoKSxpPXRoaXMudmFsdWUoKTt0aGlzLl91c2VyVHJpZ2dlcmVkPWUudXNlclRyaWdnZXJlZHx8dC5fdXNlclRyaWdnZXJlZCx0aGlzLmxpc3RWaWV3LmJvdW5kKCkmJnRoaXMuX2NsZWFyU2VsZWN0aW9uKHQsITApLHRoaXMuX2Nhc2NhZGVTZWxlY3QodCxpKX0sX2Nhc2NhZGVDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQuX2FjY2Vzc29yKCl8fHQuX3NlbGVjdGVkVmFsdWU7dC5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLmxlbmd0aHx8KHQuX3NlbGVjdGVkVmFsdWU9bnVsbCksdC5fdXNlclRyaWdnZXJlZD90Ll9jbGVhclNlbGVjdGlvbihlLCEwKTpuPyhuIT09aSh0Lmxpc3RWaWV3LnZhbHVlKClbMF0sdHlwZW9mIG4pJiZ0LnZhbHVlKG4pLHQuZGF0YVNvdXJjZS52aWV3KClbMF0mJnQuc2VsZWN0ZWRJbmRleCE9PS0xfHx0Ll9jbGVhclNlbGVjdGlvbihlLCEwKSk6dC5kYXRhU291cmNlLmZsYXRWaWV3KCkubGVuZ3RoJiZ0LnNlbGVjdCh0Lm9wdGlvbnMuaW5kZXgpLHQuZW5hYmxlKCksdC5fdHJpZ2dlckNhc2NhZGUoKSx0Ll90cmlnZ2VyQ2hhbmdlKCksdC5fdXNlclRyaWdnZXJlZD0hMX0sX2Nhc2NhZGVTZWxlY3Q6ZnVuY3Rpb24oZSxpKXt2YXIgbixhLHM9dGhpcyxyPWUuZGF0YUl0ZW0oKSxvPXI/cltzLm9wdGlvbnMuY2FzY2FkZUZyb21QYXJlbnRGaWVsZF18fGUuX3ZhbHVlKHIpOm51bGwsdT1zLm9wdGlvbnMuY2FzY2FkZUZyb21GaWVsZHx8ZS5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkO3MuX3ZhbHVlQmVmb3JlQ2FzY2FkZT1pIT09dD9pOnMudmFsdWUoKSxvfHwwPT09bz8obj1zLmRhdGFTb3VyY2UuZmlsdGVyKCl8fHt9LGwobix1KSxhPWZ1bmN0aW9uKCl7dmFyIHQ9cy5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLnNoaWZ0KCk7dCYmcy51bmJpbmQoImRhdGFCb3VuZCIsdCksdD1zLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHNbMF0sdCYmcy5maXJzdCgiZGF0YUJvdW5kIix0KSxzLl9jYXNjYWRlQ2hhbmdlKGUpfSxzLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHMucHVzaChhKSwxPT09cy5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLmxlbmd0aCYmcy5maXJzdCgiZGF0YUJvdW5kIixhKSxzLl9jYXNjYWRpbmc9ITAscy5fZmlsdGVyU291cmNlKHtmaWVsZDp1LG9wZXJhdG9yOiJlcSIsdmFsdWU6b30pLHMuX2Nhc2NhZGluZz0hMSk6KHMuZW5hYmxlKCExKSxzLl9jbGVhclNlbGVjdGlvbihlKSxzLl90cmlnZ2VyQ2FzY2FkZSgpLHMuX3RyaWdnZXJDaGFuZ2UoKSxzLl91c2VyVHJpZ2dlcmVkPSExKX19KSxvPSIuU3RhdGljTGlzdCIsdT1jLnVpLkRhdGFCb3VuZFdpZGdldC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxpKXtwLmZuLmluaXQuY2FsbCh0aGlzLHQsaSksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJsaXN0Ym94Iikub24oImNsaWNrIitvLCJsaSIsTih0aGlzLl9jbGljayx0aGlzKSkub24oIm1vdXNlZW50ZXIiK28sImxpIixmdW5jdGlvbigpe2UodGhpcykuYWRkQ2xhc3MoeSl9KS5vbigibW91c2VsZWF2ZSIrbywibGkiLGZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmVDbGFzcyh5KX0pLGcudG91Y2gmJnRoaXMuX3RvdWNoSGFuZGxlcnMoKSwibXVsdGlwbGUiPT09dGhpcy5vcHRpb25zLnNlbGVjdGFibGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLW11bHRpc2VsZWN0YWJsZSIsITApLHRoaXMuY29udGVudD10aGlzLmVsZW1lbnQud3JhcCgiPGRpdiBjbGFzcz0nay1saXN0LXNjcm9sbGVyJyB1bnNlbGVjdGFibGU9J29uJz48L2Rpdj4iKS5wYXJlbnQoKSx0aGlzLmhlYWRlcj10aGlzLmNvbnRlbnQuYmVmb3JlKCc8ZGl2IGNsYXNzPSJrLWdyb3VwLWhlYWRlciIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9kaXY+JykucHJldigpLHRoaXMuYm91bmQoITEpLHRoaXMuX29wdGlvbklEPWMuZ3VpZCgpLHRoaXMuX3NlbGVjdGVkSW5kaWNlcz1bXSx0aGlzLl92aWV3PVtdLHRoaXMuX2RhdGFJdGVtcz1bXSx0aGlzLl92YWx1ZXM9W107dmFyIG49dGhpcy5vcHRpb25zLnZhbHVlO24mJih0aGlzLl92YWx1ZXM9ZS5pc0FycmF5KG4pP24uc2xpY2UoMCk6W25dKSx0aGlzLl9nZXR0ZXIoKSx0aGlzLl90ZW1wbGF0ZXMoKSx0aGlzLnNldERhdGFTb3VyY2UodGhpcy5vcHRpb25zLmRhdGFTb3VyY2UpLHRoaXMuX29uU2Nyb2xsPU4oZnVuY3Rpb24oKXt2YXIgZT10aGlzO2NsZWFyVGltZW91dChlLl9zY3JvbGxJZCksZS5fc2Nyb2xsSWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX3JlbmRlckhlYWRlcigpfSw1MCl9LHRoaXMpfSxvcHRpb25zOntuYW1lOiJTdGF0aWNMaXN0IixkYXRhVmFsdWVGaWVsZDpudWxsLHZhbHVlUHJpbWl0aXZlOiExLHNlbGVjdGFibGU6ITAsdGVtcGxhdGU6bnVsbCxncm91cFRlbXBsYXRlOm51bGwsZml4ZWRHcm91cFRlbXBsYXRlOm51bGx9LGV2ZW50czpbImNsaWNrIix3LCJhY3RpdmF0ZSIsImRlYWN0aXZhdGUiLCJkYXRhQmluZGluZyIsImRhdGFCb3VuZCIsInNlbGVjdGVkSXRlbUNoYW5nZSJdLHNldERhdGFTb3VyY2U6ZnVuY3Rpb24odCl7dmFyIGksbj10aGlzLGE9dHx8e307YT1lLmlzQXJyYXkoYSk/e2RhdGE6YX06YSxhPWMuZGF0YS5EYXRhU291cmNlLmNyZWF0ZShhKSxuLmRhdGFTb3VyY2U/KG4uZGF0YVNvdXJjZS51bmJpbmQodyxuLl9yZWZyZXNoSGFuZGxlciksaT1uLnZhbHVlKCksbi52YWx1ZShbXSksbi5ib3VuZCghMSksbi52YWx1ZShpKSk6bi5fcmVmcmVzaEhhbmRsZXI9TihuLnJlZnJlc2gsbiksbi5zZXREU0ZpbHRlcihhLmZpbHRlcigpKSxuLmRhdGFTb3VyY2U9YS5iaW5kKHcsbi5fcmVmcmVzaEhhbmRsZXIpLG4uX2ZpeGVkSGVhZGVyKCl9LF90b3VjaEhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIHQsaSxuPXRoaXMsYT1mdW5jdGlvbihlKXtyZXR1cm4oZS5vcmlnaW5hbEV2ZW50fHxlKS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWX07bi5lbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IitvLGZ1bmN0aW9uKGUpe3Q9YShlKX0pLG4uZWxlbWVudC5vbigidG91Y2hlbmQiK28sZnVuY3Rpb24ocyl7cy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGk9YShzKSxNYXRoLmFicyhpLXQpPDEwJiYobi5fdG91Y2hUcmlnZ2VyZWQ9ITAsbi5fdHJpZ2dlckNsaWNrKGUocy50YXJnZXQpLmNsb3Nlc3QoaykuZ2V0KDApKSkpfSl9LHNraXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLnNraXAoKX0sc2V0T3B0aW9uczpmdW5jdGlvbihlKXtwLmZuLnNldE9wdGlvbnMuY2FsbCh0aGlzLGUpLHRoaXMuX2dldHRlcigpLHRoaXMuX3RlbXBsYXRlcygpLHRoaXMuX3JlbmRlcigpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9mZihvKSx0aGlzLl9yZWZyZXNoSGFuZGxlciYmdGhpcy5kYXRhU291cmNlLnVuYmluZCh3LHRoaXMuX3JlZnJlc2hIYW5kbGVyKSxjbGVhclRpbWVvdXQodGhpcy5fc2Nyb2xsSWQpLHAuZm4uZGVzdHJveS5jYWxsKHRoaXMpfSxkYXRhSXRlbUJ5SW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5mbGF0VmlldygpW2VdfSxzY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50WzBdLmNsaWVudEhlaWdodH0sc2Nyb2xsVG9JbmRleDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW5bZV07dCYmdGhpcy5zY3JvbGwodCl9LHNjcm9sbFdpdGg6ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50LnNjcm9sbFRvcCh0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wKCkrZSl9LHNjcm9sbDpmdW5jdGlvbihlKXtpZihlKXtlWzBdJiYoZT1lWzBdKTt2YXIgdD10aGlzLmNvbnRlbnRbMF0saT1lLm9mZnNldFRvcCxuPWUub2Zmc2V0SGVpZ2h0LGE9dC5zY3JvbGxUb3Ascz10LmNsaWVudEhlaWdodCxyPWkrbjthPmk/YT1pOnI+YStzJiYoYT1yLXMpLHQuc2Nyb2xsVG9wPWF9fSxzZWxlY3RlZERhdGFJdGVtczpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fZGF0YUl0ZW1zLnNsaWNlKCk6KHRoaXMuX2RhdGFJdGVtcz1lLHRoaXMuX3ZhbHVlcz10aGlzLl9nZXRWYWx1ZXMoZSksdCl9LF9nZXRWYWx1ZXM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fdmFsdWVHZXR0ZXI7cmV0dXJuIGUubWFwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KX0sZm9jdXNOZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5mb2N1cygpO2U9ZT9lLm5leHQoKTowLHRoaXMuZm9jdXMoZSl9LGZvY3VzUHJldjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZm9jdXMoKTtlPWU/ZS5wcmV2KCk6dGhpcy5lbGVtZW50WzBdLmNoaWxkcmVuLmxlbmd0aC0xLHRoaXMuZm9jdXMoZSl9LGZvY3VzRmlyc3Q6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKHRoaXMuZWxlbWVudFswXS5jaGlsZHJlblswXSl9LGZvY3VzTGFzdDpmdW5jdGlvbigpe3RoaXMuZm9jdXMobih0aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW4pKX0sZm9jdXM6ZnVuY3Rpb24oaSl7dmFyIGEscz10aGlzLHI9cy5fb3B0aW9uSUQ7cmV0dXJuIGk9PT10P3MuX2N1cnJlbnQ6KGk9bihzLl9nZXQoaSkpLGk9ZSh0aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW5baV0pLHMuX2N1cnJlbnQmJihzLl9jdXJyZW50LnJlbW92ZUNsYXNzKFMpLnJlbW92ZUF0dHIoSSkscy50cmlnZ2VyKCJkZWFjdGl2YXRlIikpLGE9ISFpWzBdLGEmJihpLmFkZENsYXNzKFMpLHMuc2Nyb2xsKGkpLGkuYXR0cigiaWQiLHIpKSxzLl9jdXJyZW50PWE/aTpudWxsLHMudHJpZ2dlcigiYWN0aXZhdGUiKSx0KX0sZm9jdXNJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvY3VzKCk/dGhpcy5mb2N1cygpLmluZGV4KCk6dH0sc2tpcFVwZGF0ZTpmdW5jdGlvbihlKXt0aGlzLl9za2lwVXBkYXRlPWV9LHNlbGVjdDpmdW5jdGlvbihpKXt2YXIgYSxzLHIsbD10aGlzLG89bC5vcHRpb25zLnNlbGVjdGFibGUsdT0ibXVsdGlwbGUiIT09byYmbyE9PSExLGM9bC5fc2VsZWN0ZWRJbmRpY2VzLGQ9W3RoaXMuZWxlbWVudC5maW5kKCIuay1zdGF0ZS1zZWxlY3RlZCIpLmluZGV4KCldLGg9W10sZj1bXTtyZXR1cm4gaT09PXQ/Yy5zbGljZSgpOihpPWwuX2dldChpKSwxPT09aS5sZW5ndGgmJmlbMF09PT0tMSYmKGk9W10pLHM9ZS5EZWZlcnJlZCgpLnJlc29sdmUoKSxyPWwuaXNGaWx0ZXJlZCgpLHImJiF1JiZsLl9kZXNlbGVjdEZpbHRlcmVkKGkpP3M6dSYmIXImJmUuaW5BcnJheShuKGkpLGMpIT09LTEmJmUuaW5BcnJheShuKGkpLGQpIT09LTE/KGwuX2RhdGFJdGVtcy5sZW5ndGgmJmwuX3ZpZXcubGVuZ3RoJiYobC5fZGF0YUl0ZW1zPVtsLl92aWV3W2NbMF1dLml0ZW1dKSxzKTooYT1sLl9kZXNlbGVjdChpKSxmPWEucmVtb3ZlZCxpPWEuaW5kaWNlcyxpLmxlbmd0aCYmKHUmJihpPVtuKGkpXSksaD1sLl9zZWxlY3QoaSkpLChoLmxlbmd0aHx8Zi5sZW5ndGgpJiYobC5fdmFsdWVDb21wYXJlcj1udWxsLGwudHJpZ2dlcih3LHthZGRlZDpoLHJlbW92ZWQ6Zn0pKSxzKSl9LHJlbW92ZUF0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZWxlY3RlZEluZGljZXMuc3BsaWNlKGUsMSksdGhpcy5fdmFsdWVzLnNwbGljZShlLDEpLHRoaXMuX3ZhbHVlQ29tcGFyZXI9bnVsbCx7cG9zaXRpb246ZSxkYXRhSXRlbTp0aGlzLl9kYXRhSXRlbXMuc3BsaWNlKGUsMSlbMF19fSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt0PWUuaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIHg/dC5zbGljZSgwKTpbdF0sdGhpcy5fdmFsdWVzPXQsdGhpcy5fdmFsdWVDb21wYXJlcj1udWxsfSx2YWx1ZTpmdW5jdGlvbihpKXt2YXIgbixhPXRoaXMscz1hLl92YWx1ZURlZmVycmVkO3JldHVybiBpPT09dD9hLl92YWx1ZXMuc2xpY2UoKTooYS5zZXRWYWx1ZShpKSxzJiYicmVzb2x2ZWQiIT09cy5zdGF0ZSgpfHwoYS5fdmFsdWVEZWZlcnJlZD1zPWUuRGVmZXJyZWQoKSksYS5ib3VuZCgpJiYobj1hLl92YWx1ZUluZGljZXMoYS5fdmFsdWVzKSwibXVsdGlwbGUiPT09YS5vcHRpb25zLnNlbGVjdGFibGUmJmEuc2VsZWN0KC0xKSxhLnNlbGVjdChuKSxzLnJlc29sdmUoKSksYS5fc2tpcFVwZGF0ZT0hMSxzKX0saXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNoaWxkcmVuKGspfSxfY2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RvdWNoVHJpZ2dlcmVkPyh0aGlzLl90b3VjaFRyaWdnZXJlZD0hMSx0KTooZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5fdHJpZ2dlckNsaWNrKGUuY3VycmVudFRhcmdldCksdCl9LF90cmlnZ2VyQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKCJjbGljayIse2l0ZW06ZSh0KX0pfHx0aGlzLnNlbGVjdCh0KX0sX3ZhbHVlRXhwcjpmdW5jdGlvbihlLHQpe3ZhciBuLGEscz10aGlzLHI9MCxsPVtdO2lmKCFzLl92YWx1ZUNvbXBhcmVyfHxzLl92YWx1ZVR5cGUhPT1lKXtmb3Iocy5fdmFsdWVUeXBlPWU7cjx0Lmxlbmd0aDtyKyspbC5wdXNoKGkodFtyXSxlKSk7bj0iZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgIitsLmxlbmd0aCsiOyBpZHgrKykgeyBpZiAoY3VycmVudCA9PT0gdmFsdWVzW2lkeF0pIHsgICByZXR1cm4gaWR4OyB9fSByZXR1cm4gLTE7IixhPUZ1bmN0aW9uKCJjdXJyZW50IiwidmFsdWVzIixuKSxzLl92YWx1ZUNvbXBhcmVyPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUsbCl9fXJldHVybiBzLl92YWx1ZUNvbXBhcmVyfSxfZGF0YUl0ZW1Qb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuX3ZhbHVlR2V0dGVyKGUpLG49dGhpcy5fdmFsdWVFeHByKHR5cGVvZiBpLHQpO3JldHVybiBuKGkpfSxfZ2V0dGVyOmZ1bmN0aW9uKCl7dGhpcy5fdmFsdWVHZXR0ZXI9Yy5nZXR0ZXIodGhpcy5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkKX0sX2Rlc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciBpLG4sYSxzPXRoaXMscj1zLmVsZW1lbnRbMF0uY2hpbGRyZW4sbD1zLm9wdGlvbnMuc2VsZWN0YWJsZSxvPXMuX3NlbGVjdGVkSW5kaWNlcyx1PXMuX2RhdGFJdGVtcyxjPXMuX3ZhbHVlcyxkPVtdLGg9MCxmPTA7aWYodD10LnNsaWNlKCksbCE9PSEwJiZ0Lmxlbmd0aCl7aWYoIm11bHRpcGxlIj09PWwpZm9yKDtoPHQubGVuZ3RoO2grKylpZihuPXRbaF0sZShyW25dKS5oYXNDbGFzcygiay1zdGF0ZS1zZWxlY3RlZCIpKWZvcihpPTA7aTxvLmxlbmd0aDtpKyspaWYoYT1vW2ldLGE9PT1uKXtlKHJbYV0pLnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLGQucHVzaCh7cG9zaXRpb246aStmLGRhdGFJdGVtOnUuc3BsaWNlKGksMSlbMF19KSxvLnNwbGljZShpLDEpLHQuc3BsaWNlKGgsMSksYy5zcGxpY2UoaSwxKSxmKz0xLGgtPTEsaS09MTticmVha319ZWxzZXtmb3IoO2g8by5sZW5ndGg7aCsrKWUocltvW2hdXSkucmVtb3ZlQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSksZC5wdXNoKHtwb3NpdGlvbjpoLGRhdGFJdGVtOnVbaF19KTtzLl92YWx1ZXM9W10scy5fZGF0YUl0ZW1zPVtdLHMuX3NlbGVjdGVkSW5kaWNlcz1bXX1yZXR1cm57aW5kaWNlczp0LHJlbW92ZWQ6ZH19LF9kZXNlbGVjdEZpbHRlcmVkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxuLGEscz10aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW4scj1bXSxsPTA7bDx0Lmxlbmd0aDtsKyspbj10W2xdLGk9dGhpcy5fdmlld1tuXS5pdGVtLGE9dGhpcy5fZGF0YUl0ZW1Qb3NpdGlvbihpLHRoaXMuX3ZhbHVlcyksYT4tMSYmKHIucHVzaCh0aGlzLnJlbW92ZUF0KGEpKSxlKHNbbl0pLnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikpO3JldHVybiEhci5sZW5ndGgmJih0aGlzLnRyaWdnZXIodyx7YWRkZWQ6W10scmVtb3ZlZDpyfSksITApfSxfc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciBpLGEscz10aGlzLHI9cy5lbGVtZW50WzBdLmNoaWxkcmVuLGw9cy5fdmlldyxvPVtdLHU9MDtmb3Iobih0KSE9PS0xJiZzLmZvY3VzKHQpO3U8dC5sZW5ndGg7dSsrKWE9dFt1XSxpPWxbYV0sYSE9PS0xJiZpJiYoaT1pLml0ZW0scy5fc2VsZWN0ZWRJbmRpY2VzLnB1c2goYSkscy5fZGF0YUl0ZW1zLnB1c2goaSkscy5fdmFsdWVzLnB1c2gocy5fdmFsdWVHZXR0ZXIoaSkpLGUoclthXSkuYWRkQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksby5wdXNoKHtkYXRhSXRlbTppfSkpO3JldHVybiBvfSxnZXRFbGVtZW50SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIGUodCkuZGF0YSgib2Zmc2V0LWluZGV4Iil9LF9nZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlP2U9W2VdOk8oZSl8fChlPXRoaXMuZ2V0RWxlbWVudEluZGV4KGUpLGU9W2UhPT10P2U6LTFdKSxlfSxfdGVtcGxhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5vcHRpb25zLGk9dC50ZW1wbGF0ZTtyZXR1cm4gaT8oaT1jLnRlbXBsYXRlKGkpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuJzxsaSB0YWJpbmRleD0iLTEiIHJvbGU9Im9wdGlvbiIgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImstaXRlbSI+JytpKGUpKyI8L2xpPiJ9KTppPWMudGVtcGxhdGUoJzxsaSB0YWJpbmRleD0iLTEiIHJvbGU9Im9wdGlvbiIgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImstaXRlbSI+JHsnK2MuZXhwcih0LmRhdGFUZXh0RmllbGQsImRhdGEiKSsifTwvbGk+Iix7dXNlV2l0aEJsb2NrOiExfSksaX0sX3RlbXBsYXRlczpmdW5jdGlvbigpe3ZhciBlLHQsaSxuLGEscz10aGlzLm9wdGlvbnMscj17dGVtcGxhdGU6cy50ZW1wbGF0ZSxncm91cFRlbXBsYXRlOnMuZ3JvdXBUZW1wbGF0ZSxmaXhlZEdyb3VwVGVtcGxhdGU6cy5maXhlZEdyb3VwVGVtcGxhdGV9O2lmKHMuY29sdW1ucylmb3IodD0wO3Q8cy5jb2x1bW5zLmxlbmd0aDt0KyspaT1zLmNvbHVtbnNbdF0sbj1pLmZpZWxkPyIiK2kuZmllbGQ6InRleHQiLHJbImNvbHVtbiIrdF09aS50ZW1wbGF0ZXx8IiM6ICIrbisiIyI7Zm9yKGEgaW4gcillPXJbYV0sZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUmJihyW2FdPWMudGVtcGxhdGUoZSkpO3RoaXMudGVtcGxhdGVzPXJ9LF9ub3JtYWxpemVJbmRpY2VzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1bXSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXSE9PXQmJmkucHVzaChlW25dKTtyZXR1cm4gaX0sX3ZhbHVlSW5kaWNlczpmdW5jdGlvbihlLHQpe3ZhciBpLG49dGhpcy5fdmlldyxhPTA7aWYodD10P3Quc2xpY2UoKTpbXSwhZS5sZW5ndGgpcmV0dXJuW107Zm9yKDthPG4ubGVuZ3RoO2ErKylpPXRoaXMuX2RhdGFJdGVtUG9zaXRpb24oblthXS5pdGVtLGUpLGkhPT0tMSYmKHRbaV09YSk7cmV0dXJuIHRoaXMuX25vcm1hbGl6ZUluZGljZXModCl9LF9maXJzdFZpc2libGVJdGVtOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZWxlbWVudFswXSxpPXRoaXMuY29udGVudFswXSxuPWkuc2Nyb2xsVG9wLGE9ZSh0LmNoaWxkcmVuWzBdKS5oZWlnaHQoKSxzPU1hdGguZmxvb3Iobi9hKXx8MCxyPXQuY2hpbGRyZW5bc118fHQubGFzdENoaWxkLGw9ci5vZmZzZXRUb3A8bjtyOylpZihsKXtpZihyLm9mZnNldFRvcCthPm58fCFyLm5leHRTaWJsaW5nKWJyZWFrO3I9ci5uZXh0U2libGluZ31lbHNle2lmKHIub2Zmc2V0VG9wPD1ufHwhci5wcmV2aW91c1NpYmxpbmcpYnJlYWs7cj1yLnByZXZpb3VzU2libGluZ31yZXR1cm4gdGhpcy5fdmlld1tlKHIpLmRhdGEoIm9mZnNldC1pbmRleCIpXX0sX2ZpeGVkSGVhZGVyOmZ1bmN0aW9uKCl7dGhpcy5pc0dyb3VwZWQoKSYmdGhpcy50ZW1wbGF0ZXMuZml4ZWRHcm91cFRlbXBsYXRlPyh0aGlzLmhlYWRlci5zaG93KCksDQp0aGlzLmNvbnRlbnQuc2Nyb2xsKHRoaXMuX29uU2Nyb2xsKSk6KHRoaXMuaGVhZGVyLmhpZGUoKSx0aGlzLmNvbnRlbnQub2ZmKCJzY3JvbGwiLHRoaXMuX29uU2Nyb2xsKSl9LF9yZW5kZXJIZWFkZXI6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMudGVtcGxhdGVzLmZpeGVkR3JvdXBUZW1wbGF0ZTt0JiYoZT10aGlzLl9maXJzdFZpc2libGVJdGVtKCksZSYmKCIiK2UuZ3JvdXApLmxlbmd0aCYmdGhpcy5oZWFkZXIuaHRtbCh0KGUuZ3JvdXApKSl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PSc8bGkgdGFiaW5kZXg9Ii0xIiByb2xlPSJvcHRpb24iIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWl0ZW0nLGk9ZS5pdGVtLG49MCE9PWUuaW5kZXgsYT1lLnNlbGVjdGVkLHM9dGhpcy5pc0dyb3VwZWQoKSxyPXRoaXMub3B0aW9ucy5jb2x1bW5zJiZ0aGlzLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7cmV0dXJuIG4mJmUubmV3R3JvdXAmJih0Kz0iIGstZmlyc3QiKSxlLmlzTGFzdEdyb3VwZWRJdGVtJiZyJiYodCs9IiBrLWxhc3QiKSxhJiYodCs9IiBrLXN0YXRlLXNlbGVjdGVkIiksdCs9JyIgYXJpYS1zZWxlY3RlZD0iJysoYT8idHJ1ZSI6ImZhbHNlIikrJyIgZGF0YS1vZmZzZXQtaW5kZXg9IicrZS5pbmRleCsnIj4nLHQrPXI/dGhpcy5fcmVuZGVyQ29sdW1ucyhpKTp0aGlzLnRlbXBsYXRlcy50ZW1wbGF0ZShpKSxuJiZlLm5ld0dyb3VwP3QrPXI/JzxkaXYgY2xhc3M9ImstY2VsbCBrLWdyb3VwLWNlbGwiPjxzcGFuPicrdGhpcy50ZW1wbGF0ZXMuZ3JvdXBUZW1wbGF0ZShlLmdyb3VwKSsiPC9zcGFuPjwvZGl2PiI6JzxkaXYgY2xhc3M9ImstZ3JvdXAiPicrdGhpcy50ZW1wbGF0ZXMuZ3JvdXBUZW1wbGF0ZShlLmdyb3VwKSsiPC9kaXY+IjpzJiZyJiYodCs9IjxkaXYgY2xhc3M9J2stY2VsbCBrLXNwYWNlci1jZWxsJz48L2Rpdj4iKSx0KyI8L2xpPiJ9LF9yZW5kZXJDb2x1bW5zOmZ1bmN0aW9uKGUpe3ZhciB0LGksbixhLHM9IiI7Zm9yKHQ9MDt0PHRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDt0KyspaT10aGlzLm9wdGlvbnMuY29sdW1uc1t0XS53aWR0aCxuPXBhcnNlSW50KGksMTApLGE9IiIsaSYmIWlzTmFOKG4pJiYoYSs9InN0eWxlPSd3aWR0aDoiLGErPW4sYSs9Zi50ZXN0KGkpPyIlIjoicHgiLGErPSI7JyIpLHMrPSI8c3BhbiBjbGFzcz0nay1jZWxsJyAiK2ErIj4iLHMrPXRoaXMudGVtcGxhdGVzWyJjb2x1bW4iK3RdKGUpLHMrPSI8L3NwYW4+IjtyZXR1cm4gc30sX3JlbmRlcjpmdW5jdGlvbigpe3ZhciBlLHQsaSxuLGE9IiIscz0wLHI9MCxsPVtdLG89dGhpcy5kYXRhU291cmNlLnZpZXcoKSx1PXRoaXMudmFsdWUoKSxjPXRoaXMuaXNHcm91cGVkKCk7aWYoYylmb3Iocz0wO3M8by5sZW5ndGg7cysrKWZvcih0PW9bc10saT0hMCxuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspZT17c2VsZWN0ZWQ6dGhpcy5fc2VsZWN0ZWQodC5pdGVtc1tuXSx1KSxpdGVtOnQuaXRlbXNbbl0sZ3JvdXA6dC52YWx1ZSxuZXdHcm91cDppLGlzTGFzdEdyb3VwZWRJdGVtOm49PT10Lml0ZW1zLmxlbmd0aC0xLGluZGV4OnJ9LGxbcl09ZSxyKz0xLGErPXRoaXMuX3JlbmRlckl0ZW0oZSksaT0hMTtlbHNlIGZvcihzPTA7czxvLmxlbmd0aDtzKyspZT17c2VsZWN0ZWQ6dGhpcy5fc2VsZWN0ZWQob1tzXSx1KSxpdGVtOm9bc10saW5kZXg6c30sbFtzXT1lLGErPXRoaXMuX3JlbmRlckl0ZW0oZSk7dGhpcy5fdmlldz1sLHRoaXMuZWxlbWVudFswXS5pbm5lckhUTUw9YSxjJiZsLmxlbmd0aCYmdGhpcy5fcmVuZGVySGVhZGVyKCl9LF9zZWxlY3RlZDpmdW5jdGlvbihlLHQpe3ZhciBpPSF0aGlzLmlzRmlsdGVyZWQoKXx8Im11bHRpcGxlIj09PXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlO3JldHVybiBpJiZ0aGlzLl9kYXRhSXRlbVBvc2l0aW9uKGUsdCkhPT0tMX0sc2V0RFNGaWx0ZXI6ZnVuY3Rpb24oZSl7dGhpcy5fbGFzdERTRmlsdGVyPXEoe30sZSl9LGlzRmlsdGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdERTRmlsdGVyfHx0aGlzLnNldERTRmlsdGVyKHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIoKSksIWMuZGF0YS5RdWVyeS5jb21wYXJlRmlsdGVycyh0aGlzLmRhdGFTb3VyY2UuZmlsdGVyKCksdGhpcy5fbGFzdERTRmlsdGVyKX0scmVmcmVzaDpmdW5jdGlvbihlKXt2YXIgdCxpPXRoaXMsbj1lJiZlLmFjdGlvbixhPWkub3B0aW9ucy5za2lwVXBkYXRlT25CaW5kLHI9Iml0ZW1jaGFuZ2UiPT09bjtpLnRyaWdnZXIoImRhdGFCaW5kaW5nIiksaS5fYW5ndWxhckl0ZW1zKCJjbGVhbnVwIiksaS5fZml4ZWRIZWFkZXIoKSxpLl9yZW5kZXIoKSxpLmJvdW5kKCEwKSxyfHwicmVtb3ZlIj09PW4/KHQ9cyhpLl9kYXRhSXRlbXMsZS5pdGVtcyksdC5jaGFuZ2VkLmxlbmd0aCYmKHI/aS50cmlnZ2VyKCJzZWxlY3RlZEl0ZW1DaGFuZ2UiLHtpdGVtczp0LmNoYW5nZWR9KTppLnZhbHVlKGkuX2dldFZhbHVlcyh0LnVuY2hhbmdlZCkpKSk6aS5pc0ZpbHRlcmVkKCl8fGkuX3NraXBVcGRhdGV8fGkuX2VtcHR5U2VhcmNoPyhpLmZvY3VzKDApLGkuX3NraXBVcGRhdGUmJihpLl9za2lwVXBkYXRlPSExLGkuX3NlbGVjdGVkSW5kaWNlcz1pLl92YWx1ZUluZGljZXMoaS5fdmFsdWVzLGkuX3NlbGVjdGVkSW5kaWNlcykpKTphfHxuJiYiYWRkIiE9PW58fGkudmFsdWUoaS5fdmFsdWVzKSxpLl92YWx1ZURlZmVycmVkJiZpLl92YWx1ZURlZmVycmVkLnJlc29sdmUoKSxpLl9hbmd1bGFySXRlbXMoImNvbXBpbGUiKSxpLnRyaWdnZXIoImRhdGFCb3VuZCIpfSxib3VuZDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fYm91bmQ6KHRoaXMuX2JvdW5kPWUsdCl9LGlzR3JvdXBlZDpmdW5jdGlvbigpe3JldHVybih0aGlzLmRhdGFTb3VyY2UuZ3JvdXAoKXx8W10pLmxlbmd0aH19KSxkLnBsdWdpbih1KX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihlLHQsaSl7KGl8fHQpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmxpc3QubWluLmpzLm1hcA0KDQovKiENCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQohZnVuY3Rpb24oZSxkZWZpbmUpe2RlZmluZSgia2VuZG8uYXV0b2NvbXBsZXRlLm1pbiIsWyJrZW5kby5saXN0Lm1pbiIsImtlbmRvLm1vYmlsZS5zY3JvbGxlci5taW4iLCJrZW5kby52aXJ0dWFsbGlzdC5taW4iXSxlKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBzKGUsdCxzKXtyZXR1cm4gcz90LnN1YnN0cmluZygwLGUpLnNwbGl0KHMpLmxlbmd0aC0xOjB9ZnVuY3Rpb24gaShlLHQsaSl7cmV0dXJuIHQuc3BsaXQoaSlbcyhlLHQsaSldfWZ1bmN0aW9uIG8oZSx0LGksbyxhKXt2YXIgbj10LnNwbGl0KG8pO3JldHVybiBuLnNwbGljZShzKGUsdCxvKSwxLGkpLG8mJiIiIT09bltuLmxlbmd0aC0xXSYmbi5wdXNoKCIiKSxuLmpvaW4oYSl9dmFyIGE9d2luZG93LmtlbmRvLG49YS5zdXBwb3J0LHI9YS5jYXJldCxsPWEuX2FjdGl2ZUVsZW1lbnQsYz1uLnBsYWNlaG9sZGVyLHU9YS51aSxwPXUuTGlzdCxkPWEua2V5cyxfPWEuZGF0YS5EYXRhU291cmNlLGg9ImFyaWEtZGlzYWJsZWQiLGY9ImFyaWEtcmVhZG9ubHkiLGc9ImNoYW5nZSIsdj0iay1zdGF0ZS1kZWZhdWx0IixtPSJkaXNhYmxlZCIseT0icmVhZG9ubHkiLHc9Imstc3RhdGUtZm9jdXNlZCIsQz0iay1zdGF0ZS1zZWxlY3RlZCIsYj0iay1zdGF0ZS1kaXNhYmxlZCIseD0ib2ZmIixrPSJrLXN0YXRlLWhvdmVyIixWPSIua2VuZG9BdXRvQ29tcGxldGUiLFQ9Im1vdXNlZW50ZXIiK1YrIiBtb3VzZWxlYXZlIitWLFM9ZS5wcm94eSxMPXAuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQscyl7dmFyIGksbyxuPXRoaXM7bi5ucz1WLHM9ZS5pc0FycmF5KHMpP3tkYXRhU291cmNlOnN9OnMscC5mbi5pbml0LmNhbGwobix0LHMpLHQ9bi5lbGVtZW50LHM9bi5vcHRpb25zLHMucGxhY2Vob2xkZXI9cy5wbGFjZWhvbGRlcnx8dC5hdHRyKCJwbGFjZWhvbGRlciIpLGMmJnQuYXR0cigicGxhY2Vob2xkZXIiLHMucGxhY2Vob2xkZXIpLG4uX3dyYXBwZXIoKSxuLl9sb2FkZXIoKSxuLl9jbGVhckJ1dHRvbigpLG4uX2RhdGFTb3VyY2UoKSxuLl9pZ25vcmVDYXNlKCksdFswXS50eXBlPSJ0ZXh0IixpPW4ud3JhcHBlcixuLl9wb3B1cCgpLHQuYWRkQ2xhc3MoImstaW5wdXQiKS5vbigia2V5ZG93biIrVixTKG4uX2tleWRvd24sbikpLm9uKCJrZXlwcmVzcyIrVixTKG4uX2tleXByZXNzLG4pKS5vbigiaW5wdXQiK1YsUyhuLl9zZWFyY2gsbikpLm9uKCJwYXN0ZSIrVixTKG4uX3NlYXJjaCxuKSkub24oImZvY3VzIitWLGZ1bmN0aW9uKCl7bi5fcHJldj1uLl9hY2Nlc3NvcigpLG4uX29sZFRleHQ9bi5fcHJldixuLl9wbGFjZWhvbGRlcighMSksaS5hZGRDbGFzcyh3KX0pLm9uKCJmb2N1c291dCIrVixmdW5jdGlvbigpe24uX2NoYW5nZSgpLG4uX3BsYWNlaG9sZGVyKCksbi5jbG9zZSgpLGkucmVtb3ZlQ2xhc3Modyl9KS5hdHRyKHthdXRvY29tcGxldGU6eCxyb2xlOiJ0ZXh0Ym94IiwiYXJpYS1oYXNwb3B1cCI6ITB9KSxuLl9jbGVhci5vbigiY2xpY2siK1YrIiB0b3VjaGVuZCIrVixTKG4uX2NsZWFyVmFsdWUsbikpLG4uX2VuYWJsZSgpLG4uX29sZD1uLl9hY2Nlc3NvcigpLHRbMF0uaWQmJnQuYXR0cigiYXJpYS1vd25zIixuLnVsWzBdLmlkKSxuLl9hcmlhKCksbi5fcGxhY2Vob2xkZXIoKSxuLl9pbml0TGlzdCgpLG89ZShuLmVsZW1lbnQpLnBhcmVudHMoImZpZWxkc2V0IikuaXMoIjpkaXNhYmxlZCIpLG8mJm4uZW5hYmxlKCExKSxuLmxpc3RWaWV3LmJpbmQoImNsaWNrIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9KSxuLl9yZXNldEZvY3VzSXRlbUhhbmRsZXI9ZS5wcm94eShuLl9yZXNldEZvY3VzSXRlbSxuKSxhLm5vdGlmeShuKSxuLl90b2dnbGVDbG9zZVZpc2liaWxpdHkoKX0sb3B0aW9uczp7bmFtZToiQXV0b0NvbXBsZXRlIixlbmFibGVkOiEwLHN1Z2dlc3Q6ITEsdGVtcGxhdGU6IiIsZ3JvdXBUZW1wbGF0ZToiIzpkYXRhIyIsZml4ZWRHcm91cFRlbXBsYXRlOiIjOmRhdGEjIixkYXRhVGV4dEZpZWxkOiIiLG1pbkxlbmd0aDoxLGVuZm9yY2VNaW5MZW5ndGg6ITEsZGVsYXk6MjAwLGhlaWdodDoyMDAsZmlsdGVyOiJzdGFydHN3aXRoIixpZ25vcmVDYXNlOiEwLGhpZ2hsaWdodEZpcnN0OiExLHNlcGFyYXRvcjpudWxsLHBsYWNlaG9sZGVyOiIiLGFuaW1hdGlvbjp7fSx2aXJ0dWFsOiExLHZhbHVlOm51bGwsY2xlYXJCdXR0b246ITAsYXV0b1dpZHRoOiExLHBvcHVwOm51bGx9LF9kYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmRhdGFTb3VyY2UmJmUuX3JlZnJlc2hIYW5kbGVyP2UuX3VuYmluZERhdGFTb3VyY2UoKTooZS5fcHJvZ3Jlc3NIYW5kbGVyPVMoZS5fc2hvd0J1c3ksZSksZS5fZXJyb3JIYW5kbGVyPVMoZS5faGlkZUJ1c3ksZSkpLGUuZGF0YVNvdXJjZT1fLmNyZWF0ZShlLm9wdGlvbnMuZGF0YVNvdXJjZSkuYmluZCgicHJvZ3Jlc3MiLGUuX3Byb2dyZXNzSGFuZGxlcikuYmluZCgiZXJyb3IiLGUuX2Vycm9ySGFuZGxlcil9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLmRhdGFTb3VyY2U9ZSx0aGlzLl9kYXRhU291cmNlKCksdGhpcy5saXN0Vmlldy5zZXREYXRhU291cmNlKHRoaXMuZGF0YVNvdXJjZSl9LGV2ZW50czpbIm9wZW4iLCJjbG9zZSIsZywic2VsZWN0IiwiZmlsdGVyaW5nIiwiZGF0YUJpbmRpbmciLCJkYXRhQm91bmQiXSxzZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xpc3RPcHRpb25zKGUpO3AuZm4uc2V0T3B0aW9ucy5jYWxsKHRoaXMsZSksdGhpcy5saXN0Vmlldy5zZXRPcHRpb25zKHQpLHRoaXMuX2FjY2Vzc29ycygpLHRoaXMuX2FyaWEoKSx0aGlzLl9jbGVhckJ1dHRvbigpfSxfbGlzdE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIHM9cC5mbi5fbGlzdE9wdGlvbnMuY2FsbCh0aGlzLGUuZXh0ZW5kKHQse3NraXBVcGRhdGVPbkJpbmQ6ITB9KSk7cmV0dXJuIHMuZGF0YVZhbHVlRmllbGQ9cy5kYXRhVGV4dEZpZWxkLHMuc2VsZWN0ZWRJdGVtQ2hhbmdlPW51bGwsc30sX2VkaXRhYmxlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscz10LmVsZW1lbnQsaT10LndyYXBwZXIub2ZmKFYpLG89ZS5yZWFkb25seSxhPWUuZGlzYWJsZTtvfHxhPyhpLmFkZENsYXNzKGE/Yjp2KS5yZW1vdmVDbGFzcyhhP3Y6Yikscy5hdHRyKG0sYSkuYXR0cih5LG8pLmF0dHIoaCxhKS5hdHRyKGYsbykpOihpLmFkZENsYXNzKHYpLnJlbW92ZUNsYXNzKGIpLm9uKFQsdC5fdG9nZ2xlSG92ZXIpLHMucmVtb3ZlQXR0cihtKS5yZW1vdmVBdHRyKHkpLmF0dHIoaCwhMSkuYXR0cihmLCExKSl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUubGlzdFZpZXcuZm9jdXMoKTt0JiZ0LnJlbW92ZUNsYXNzKEMpLGUucG9wdXAuY2xvc2UoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbGVtZW50Lm9mZihWKSxlLl9jbGVhci5vZmYoViksZS53cmFwcGVyLm9mZihWKSxwLmZuLmRlc3Ryb3kuY2FsbChlKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcucmVmcmVzaCgpfSxzZWxlY3Q6ZnVuY3Rpb24oZSl7dGhpcy5fc2VsZWN0KGUpfSxzZWFyY2g6ZnVuY3Rpb24odCl7dmFyIHMsbz10aGlzLGE9by5vcHRpb25zLG49YS5pZ25vcmVDYXNlLGw9by5fc2VwYXJhdG9yKCksYz1vLmRhdGFTb3VyY2Uub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nO3Q9dHx8by5fYWNjZXNzb3IoKSxjbGVhclRpbWVvdXQoby5fdHlwaW5nVGltZW91dCksbCYmKHQ9aShyKG8uZWxlbWVudClbMF0sdCxsKSkscz10Lmxlbmd0aCwoIWEuZW5mb3JjZU1pbkxlbmd0aCYmIXN8fHM+PWEubWluTGVuZ3RoKSYmKG8uX29wZW49ITAsby5fbXV0ZShmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcudmFsdWUoW10pfSksby5fZmlsdGVyU291cmNlKHt2YWx1ZTpuP2M/dC50b0xvY2FsZUxvd2VyQ2FzZShjKTp0LnRvTG93ZXJDYXNlKCk6dCxvcGVyYXRvcjphLmZpbHRlcixmaWVsZDphLmRhdGFUZXh0RmllbGQsaWdub3JlQ2FzZTpufSksby5vbmUoImNsb3NlIixlLnByb3h5KG8uX3VuaWZ5U2VwYXJhdG9ycyxvKSkpLG8uX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxzdWdnZXN0OmZ1bmN0aW9uKGUpe3ZhciBpLG89dGhpcyxhPW8uX2xhc3Qsbj1vLl9hY2Nlc3NvcigpLGM9by5lbGVtZW50WzBdLHU9cihjKVswXSxfPW8uX3NlcGFyYXRvcigpLGg9bi5zcGxpdChfKSxmPXModSxuLF8pLGc9dSx2PW8uZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7cmV0dXJuIGE9PWQuQkFDS1NQQUNFfHxhPT1kLkRFTEVURT8oby5fbGFzdD10LHQpOihlPWV8fCIiLCJzdHJpbmciIT10eXBlb2YgZSYmKGVbMF0mJihlPW8uZGF0YVNvdXJjZS52aWV3KClbcC5pbkFycmF5KGVbMF0sby51bFswXSldKSxlPWU/by5fdGV4dChlKToiIiksdTw9MCYmKHU9KHY/bi50b0xvY2FsZUxvd2VyQ2FzZSh2KTpuLnRvTG93ZXJDYXNlKCkpLmluZGV4T2Yodj9lLnRvTG9jYWxlTG93ZXJDYXNlKHYpOmUudG9Mb3dlckNhc2UoKSkrMSksaT1uLnN1YnN0cmluZygwLHUpLmxhc3RJbmRleE9mKF8pLGk9aT4tMT91LShpK18ubGVuZ3RoKTp1LG49aFtmXS5zdWJzdHJpbmcoMCxpKSxlJiYoZT0iIitlLGk9KHY/ZS50b0xvY2FsZUxvd2VyQ2FzZSh2KTplLnRvTG93ZXJDYXNlKCkpLmluZGV4T2Yodj9uLnRvTG9jYWxlTG93ZXJDYXNlKHYpOm4udG9Mb3dlckNhc2UoKSksaT4tMSYmKGU9ZS5zdWJzdHJpbmcoaStuLmxlbmd0aCksZz11K2UubGVuZ3RoLG4rPWUpLF8mJiIiIT09aFtoLmxlbmd0aC0xXSYmaC5wdXNoKCIiKSksaFtmXT1uLG8uX2FjY2Vzc29yKGguam9pbihffHwiIikpLGM9PT1sKCkmJnIoYyx1LGcpLHQpfSx2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fYWNjZXNzb3IoKToodGhpcy5saXN0Vmlldy52YWx1ZShlKSx0aGlzLl9hY2Nlc3NvcihlKSx0aGlzLl9vbGQ9dGhpcy5fYWNjZXNzb3IoKSx0aGlzLl9vbGRUZXh0PXRoaXMuX2FjY2Vzc29yKCksdGhpcy5fdG9nZ2xlQ2xvc2VWaXNpYmlsaXR5KCksdCl9LF9jbGljazpmdW5jdGlvbihlKXt2YXIgcz1lLml0ZW0saT10aGlzLG89aS5lbGVtZW50LGE9aS5saXN0Vmlldy5kYXRhSXRlbUJ5SW5kZXgoaS5saXN0Vmlldy5nZXRFbGVtZW50SW5kZXgocykpO3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksaS5fYWN0aXZlPSEwLGkudHJpZ2dlcigic2VsZWN0Iix7ZGF0YUl0ZW06YSxpdGVtOnN9KT8oaS5jbG9zZSgpLHQpOihpLl9vbGRUZXh0PW8udmFsKCksaS5fc2VsZWN0KHMpLmRvbmUoZnVuY3Rpb24oKXtpLl9ibHVyKCkscihvLG8udmFsKCkubGVuZ3RoKX0pLHQpfSxfY2xlYXJUZXh0OmUubm9vcCxfcmVzZXRGb2N1c0l0ZW06ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0Rmlyc3Q/MDotMTt0aGlzLm9wdGlvbnMudmlydHVhbCYmdGhpcy5saXN0Vmlldy5zY3JvbGxUbygwKSx0aGlzLmxpc3RWaWV3LmZvY3VzKGUpfSxfbGlzdEJvdW5kOmZ1bmN0aW9uKCl7dmFyIGUscz10aGlzLGk9cy5wb3B1cCxvPXMub3B0aW9ucyxhPXMuZGF0YVNvdXJjZS5mbGF0VmlldygpLG49YS5sZW5ndGgscj1zLmRhdGFTb3VyY2UuX2dyb3VwLmxlbmd0aCxjPXMuZWxlbWVudFswXT09PWwoKTtzLl9yZW5kZXJGb290ZXIoKSxzLl9yZW5kZXJOb0RhdGEoKSxzLl90b2dnbGVOb0RhdGEoIW4pLHMuX3RvZ2dsZUhlYWRlcighIXImJiEhbikscy5fcmVzaXplUG9wdXAoKSxpLnBvc2l0aW9uKCksbiYmby5zdWdnZXN0JiZjJiZzLl9pbnB1dFZhbHVlKCkmJnMuc3VnZ2VzdChhWzBdKSxzLl9vcGVuJiYocy5fb3Blbj0hMSxlPXMuX2FsbG93T3BlbmluZygpPyJvcGVuIjoiY2xvc2UiLHMuX3R5cGluZ1RpbWVvdXQmJiFjJiYoZT0iY2xvc2UiKSxuJiYocy5fcmVzZXRGb2N1c0l0ZW0oKSxvLnZpcnR1YWwmJnMucG9wdXAudW5iaW5kKCJhY3RpdmF0ZSIscy5fcmVzZXRGb2N1c0l0ZW1IYW5kbGVyKS5vbmUoImFjdGl2YXRlIixzLl9yZXNldEZvY3VzSXRlbUhhbmRsZXIpKSxpW2VdKCkscy5fdHlwaW5nVGltZW91dD10KSxzLl90b3VjaFNjcm9sbGVyJiZzLl90b3VjaFNjcm9sbGVyLnJlc2V0KCkscy5faGlkZUJ1c3koKSxzLl9tYWtlVW5zZWxlY3RhYmxlKCkscy50cmlnZ2VyKCJkYXRhQm91bmQiKX0sX211dGU6ZnVuY3Rpb24oZSl7dGhpcy5fbXV0ZWQ9ITAsZS5jYWxsKHRoaXMpLHRoaXMuX211dGVkPSExfSxfbGlzdENoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2FjdGl2ZXx8dGhpcy5lbGVtZW50WzBdPT09bCgpO2UmJiF0aGlzLl9tdXRlZCYmdGhpcy5fc2VsZWN0VmFsdWUodGhpcy5saXN0Vmlldy5zZWxlY3RlZERhdGFJdGVtcygpWzBdKX0sX3NlbGVjdFZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NlcGFyYXRvcigpLHM9IiI7ZSYmKHM9dGhpcy5fdGV4dChlKSksbnVsbD09PXMmJihzPSIiKSx0JiYocz1vKHIodGhpcy5lbGVtZW50KVswXSx0aGlzLl9hY2Nlc3NvcigpLHMsdCx0aGlzLl9kZWZhdWx0U2VwYXJhdG9yKCkpKSx0aGlzLl9wcmV2PXMsdGhpcy5fYWNjZXNzb3IocyksdGhpcy5fcGxhY2Vob2xkZXIoKX0sX3VuaWZ5U2VwYXJhdG9yczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY2Nlc3Nvcih0aGlzLnZhbHVlKCkuc3BsaXQodGhpcy5fc2VwYXJhdG9yKCkpLmpvaW4odGhpcy5fZGVmYXVsdFNlcGFyYXRvcigpKSksdGhpc30sX3ByZXNlbGVjdDpmdW5jdGlvbihlLHQpe3RoaXMuX2lucHV0VmFsdWUodCksdGhpcy5fYWNjZXNzb3IoZSksdGhpcy5fb2xkPXRoaXMub2xkVGV4dD10aGlzLl9hY2Nlc3NvcigpLHRoaXMubGlzdFZpZXcuc2V0VmFsdWUoZSksdGhpcy5fcGxhY2Vob2xkZXIoKX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLl91bmlmeVNlcGFyYXRvcnMoKS52YWx1ZSgpLHM9dCE9PXAudW5pZnlUeXBlKGUuX29sZCx0eXBlb2YgdCksaT1zJiYhZS5fdHlwaW5nLG89ZS5fb2xkVGV4dCE9PXQ7ZS5fb2xkPXQsZS5fb2xkVGV4dD10LChpfHxvKSYmZS5lbGVtZW50LnRyaWdnZXIoZykscyYmZS50cmlnZ2VyKGcpLGUudHlwaW5nPSExLGUuX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxfYWNjZXNzb3I6ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcyxpPXMuZWxlbWVudFswXTtyZXR1cm4gZT09PXQ/KGU9aS52YWx1ZSxpLmNsYXNzTmFtZS5pbmRleE9mKCJrLXJlYWRvbmx5Iik+LTEmJmU9PT1zLm9wdGlvbnMucGxhY2Vob2xkZXI/IiI6ZSk6KGkudmFsdWU9bnVsbD09PWU/IiI6ZSxzLl9wbGFjZWhvbGRlcigpLHQpfSxfa2V5ZG93bjpmdW5jdGlvbihlKXt2YXIgdCxzLGk9dGhpcyxvPWUua2V5Q29kZSxhPWkubGlzdFZpZXcsbj1pLnBvcHVwLnZpc2libGUoKSxyPWEuZm9jdXMoKTtpZihpLl9sYXN0PW8sbz09PWQuRE9XTiluP3RoaXMuX21vdmUocj8iZm9jdXNOZXh0IjoiZm9jdXNGaXJzdCIpOmkudmFsdWUoKSYmaS5fZmlsdGVyU291cmNlKHt2YWx1ZTppLmlnbm9yZUNhc2U/aS52YWx1ZSgpLnRvTG93ZXJDYXNlKCk6aS52YWx1ZSgpLG9wZXJhdG9yOmkub3B0aW9ucy5maWx0ZXIsZmllbGQ6aS5vcHRpb25zLmRhdGFUZXh0RmllbGQsaWdub3JlQ2FzZTppLmlnbm9yZUNhc2V9KS5kb25lKGZ1bmN0aW9uKCl7aS5fYWxsb3dPcGVuaW5nKCkmJihpLl9yZXNldEZvY3VzSXRlbSgpLGkucG9wdXAub3BlbigpKX0pLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKG89PT1kLlVQKW4mJnRoaXMuX21vdmUocj8iZm9jdXNQcmV2IjoiZm9jdXNMYXN0IiksZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYobz09PWQuSE9NRSl0aGlzLl9tb3ZlKCJmb2N1c0ZpcnN0Iik7ZWxzZSBpZihvPT09ZC5FTkQpdGhpcy5fbW92ZSgiZm9jdXNMYXN0Iik7ZWxzZSBpZihvPT09ZC5FTlRFUnx8bz09PWQuVEFCKXtpZihvPT09ZC5FTlRFUiYmbiYmZS5wcmV2ZW50RGVmYXVsdCgpLG4mJnIpe2lmKHQ9YS5kYXRhSXRlbUJ5SW5kZXgoYS5nZXRFbGVtZW50SW5kZXgocikpLGkudHJpZ2dlcigic2VsZWN0Iix7ZGF0YUl0ZW06dCxpdGVtOnJ9KSlyZXR1cm47dGhpcy5fc2VsZWN0KHIpfXRoaXMuX2JsdXIoKX1lbHNlIG89PT1kLkVTQz8obj9lLnByZXZlbnREZWZhdWx0KCk6aS5fY2xlYXJWYWx1ZSgpLGkuY2xvc2UoKSk6IWkucG9wdXAudmlzaWJsZSgpfHxvIT09ZC5QQUdFRE9XTiYmbyE9PWQuUEFHRVVQPyhpLnBvcHVwLl9ob3ZlcmVkPSEwLGkuX3NlYXJjaCgpKTooZS5wcmV2ZW50RGVmYXVsdCgpLHM9bz09PWQuUEFHRURPV04/MTotMSxhLnNjcm9sbFdpdGgocyphLnNjcmVlbkhlaWdodCgpKSl9LF9rZXlwcmVzczpmdW5jdGlvbigpe3RoaXMuX29sZFRleHQ9dGhpcy5lbGVtZW50LnZhbCgpLHRoaXMuX3R5cGluZz0hMH0sX21vdmU6ZnVuY3Rpb24oZSl7dGhpcy5saXN0Vmlld1tlXSgpLHRoaXMub3B0aW9ucy5zdWdnZXN0JiZ0aGlzLnN1Z2dlc3QodGhpcy5saXN0Vmlldy5mb2N1cygpKX0sX2hpZGVCdXN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQoZS5fYnVzeSksZS5fbG9hZGluZy5oaWRlKCksZS5lbGVtZW50LmF0dHIoImFyaWEtYnVzeSIsITEpLGUuX2J1c3k9bnVsbCxlLl9zaG93Q2xlYXIoKX0sX3Nob3dCdXN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9idXN5fHwoZS5fYnVzeT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5lbGVtZW50LmF0dHIoImFyaWEtYnVzeSIsITApLGUuX2xvYWRpbmcuc2hvdygpLGUuX2hpZGVDbGVhcigpfSwxMDApKX0sX3BsYWNlaG9sZGVyOmZ1bmN0aW9uKGUpe2lmKCFjKXt2YXIgcyxpPXRoaXMsbz1pLmVsZW1lbnQsYT1pLm9wdGlvbnMucGxhY2Vob2xkZXI7aWYoYSl7aWYocz1vLnZhbCgpLGU9PT10JiYoZT0hcyksZXx8KGE9cyE9PWE/czoiIikscz09PWkuX29sZCYmIWUpcmV0dXJuO28udG9nZ2xlQ2xhc3MoImstcmVhZG9ubHkiLGUpLnZhbChhKSxhfHxvWzBdIT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8cihvWzBdLDAsMCl9fX0sX3NlcGFyYXRvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5zZXBhcmF0b3I7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9SZWdFeHAoZS5qb2luKCJ8IiksImdpIik6ZX0sX2RlZmF1bHRTZXBhcmF0b3I6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuc2VwYXJhdG9yO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZVswXTplfSxfaW5wdXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQudmFsKCl9LF9zZWFyY2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2NsZWFyVGltZW91dChlLl90eXBpbmdUaW1lb3V0KSxlLl90eXBpbmdUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9wcmV2IT09ZS5fYWNjZXNzb3IoKSYmKGUuX3ByZXY9ZS5fYWNjZXNzb3IoKSxlLnNlYXJjaCgpKX0sZS5vcHRpb25zLmRlbGF5KX0sX3NlbGVjdDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0Ll9hY3RpdmU9ITAsdC5saXN0Vmlldy5zZWxlY3QoZSkuZG9uZShmdW5jdGlvbigpe3QuX2FjdGl2ZT0hMX0pfSxfbG9hZGVyOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZGluZz1lKCc8c3BhbiBjbGFzcz0iay1pY29uIGstaS1sb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lIj48L3NwYW4+JykuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KX0sX2NsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7cC5mbi5fY2xlYXJCdXR0b24uY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuY2xlYXJCdXR0b24mJih0aGlzLl9jbGVhci5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpLHRoaXMud3JhcHBlci5hZGRDbGFzcygiay1hdXRvY29tcGxldGUtY2xlYXJhYmxlIikpfSxfdG9nZ2xlSG92ZXI6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKGssIm1vdXNlZW50ZXIiPT09dC50eXBlKX0sX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eTpmdW5jdGlvbigpe3RoaXMudmFsdWUoKT90aGlzLl9zaG93Q2xlYXIoKTp0aGlzLl9oaWRlQ2xlYXIoKX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXt2YXIgdCxzPXRoaXMsaT1zLmVsZW1lbnQsbz1pWzBdO3Q9aS5wYXJlbnQoKSx0LmlzKCJzcGFuLmstd2lkZ2V0Iil8fCh0PWkud3JhcCgiPHNwYW4gLz4iKS5wYXJlbnQoKSksdC5hdHRyKCJ0YWJpbmRleCIsLTEpLHQuYXR0cigicm9sZSIsInByZXNlbnRhdGlvbiIpLHRbMF0uc3R5bGUuY3NzVGV4dD1vLnN0eWxlLmNzc1RleHQsaS5jc3Moe3dpZHRoOiIiLGhlaWdodDpvLnN0eWxlLmhlaWdodH0pLHMuX2ZvY3VzZWQ9cy5lbGVtZW50LHMud3JhcHBlcj10LmFkZENsYXNzKCJrLXdpZGdldCBrLWF1dG9jb21wbGV0ZSIpLmFkZENsYXNzKG8uY2xhc3NOYW1lKS5yZW1vdmVDbGFzcygiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIpLHMuX2lucHV0V3JhcHBlcj1lKHRbMF0pfSxfY2xlYXJWYWx1ZTpmdW5jdGlvbigpe3AuZm4uX2NsZWFyVmFsdWUuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQuZm9jdXMoKX19KTt1LnBsdWdpbihMKX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihlLHQscyl7KHN8fHQpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmF1dG9jb21wbGV0ZS5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbih0LGRlZmluZSl7ZGVmaW5lKCJrZW5kby5meC5taW4iLFsia2VuZG8uY29yZS5taW4iXSx0KX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIGkodC5jc3MoZSkpfWZ1bmN0aW9uIG4odCl7dmFyIGUsaT1bXTtmb3IoZSBpbiB0KWkucHVzaChlKTtyZXR1cm4gaX1mdW5jdGlvbiBzKHQpe2Zvcih2YXIgZSBpbiB0KUwuaW5kZXhPZihlKSE9LTEmJlEuaW5kZXhPZihlKT09LTEmJmRlbGV0ZSB0W2VdO3JldHVybiB0fWZ1bmN0aW9uIG8odCxlKXt2YXIgaSxyLG4scyxvPVtdLGE9e307Zm9yKHIgaW4gZSlpPXIudG9Mb3dlckNhc2UoKSxzPUgmJkwuaW5kZXhPZihpKSE9LTEsIUUuaGFzSFczRCYmcyYmUS5pbmRleE9mKGkpPT0tMT9kZWxldGUgZVtyXToobj1lW3JdLHM/by5wdXNoKHIrIigiK24rIikiKTphW3JdPW4pO3JldHVybiBvLmxlbmd0aCYmKGFbYXRdPW8uam9pbigiICIpKSxhfWZ1bmN0aW9uIGEodCxlKXt2YXIgcixuLHM7cmV0dXJuIEg/KHI9dC5jc3MoYXQpLHI9PUo/InNjYWxlIj09ZT8xOjA6KG49ci5tYXRjaChSZWdFeHAoZSsiXFxzKlxcKChbXFxkXFx3XFwuXSspIikpLHM9MCxuP3M9aShuWzFdKToobj1yLm1hdGNoKEkpfHxbMCwwLDAsMCwwXSxlPWUudG9Mb3dlckNhc2UoKSxBLnRlc3QoZSk/cz1wYXJzZUZsb2F0KG5bM10vblsyXSk6InRyYW5zbGF0ZXkiPT1lP3M9cGFyc2VGbG9hdChuWzRdL25bMl0pOiJzY2FsZSI9PWU/cz1wYXJzZUZsb2F0KG5bMl0pOiJyb3RhdGUiPT1lJiYocz1wYXJzZUZsb2F0KE1hdGguYXRhbjIoblsyXSxuWzFdKSkpKSxzKSk6cGFyc2VGbG9hdCh0LmNzcyhlKSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnN1YnN0cmluZygxKX1mdW5jdGlvbiBsKHQsZSl7dmFyIGk9aC5leHRlbmQoZSkscj1pLnByb3RvdHlwZS5kaXJlY3Rpb25zO1BbYyh0KV09aSxQLkVsZW1lbnQucHJvdG90eXBlW3RdPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuZXcgaSh0aGlzLmVsZW1lbnQsdCxlLHIsbil9LFQocixmdW5jdGlvbihlLHIpe1AuRWxlbWVudC5wcm90b3R5cGVbdCtjKHIpXT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBpKHRoaXMuZWxlbWVudCxyLHQsZSxuKX19KX1mdW5jdGlvbiBkKHQsaSxyLG4pe2wodCx7ZGlyZWN0aW9uczp2LHN0YXJ0VmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0YXJ0VmFsdWU9dCx0aGlzfSxlbmRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZW5kVmFsdWU9dCx0aGlzfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3VsZEhpZGV9LHByZXBhcmU6ZnVuY3Rpb24odCxzKXt2YXIgbyxhLGM9dGhpcyxsPSJvdXQiPT09dGhpcy5fZGlyZWN0aW9uLGQ9Yy5lbGVtZW50LmRhdGEoaSksdT0hKGlzTmFOKGQpfHxkPT1yKTtvPXU/ZDplIT09dGhpcy5fc3RhcnRWYWx1ZT90aGlzLl9zdGFydFZhbHVlOmw/cjpuLGE9ZSE9PXRoaXMuX2VuZFZhbHVlP3RoaXMuX2VuZFZhbHVlOmw/bjpyLHRoaXMuX3JldmVyc2U/KHRbaV09YSxzW2ldPW8pOih0W2ldPW8sc1tpXT1hKSxjLl9zaG91bGRIaWRlPXNbaV09PT1ufX0pfWZ1bmN0aW9uIHUodCxlKXt2YXIgaT1DLmRpcmVjdGlvbnNbZV0udmVydGljYWwscj10W2k/WTpYXSgpLzIrInB4IjtyZXR1cm4gX1tlXS5yZXBsYWNlKCIkc2l6ZSIscil9dmFyIGYscCxoLG0sdix4LF8sZyx5LGssYix3LEM9d2luZG93LmtlbmRvLFA9Qy5lZmZlY3RzLFQ9dC5lYWNoLE49dC5leHRlbmQsej10LnByb3h5LEU9Qy5zdXBwb3J0LFI9RS5icm93c2VyLEg9RS50cmFuc2Zvcm1zLEQ9RS50cmFuc2l0aW9ucyxPPXtzY2FsZTowLHNjYWxleDowLHNjYWxleTowLHNjYWxlM2Q6MH0sRj17dHJhbnNsYXRlOjAsdHJhbnNsYXRleDowLHRyYW5zbGF0ZXk6MCx0cmFuc2xhdGUzZDowfSxTPWUhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuem9vbSYmIUgsST0vbWF0cml4Mz9kP1xzKlwoLiosXHMqKFtcZFwuXC1dKylcdyo/LFxzKihbXGRcLlwtXSspXHcqPyxccyooW1xkXC5cLV0rKVx3Kj8sXHMqKFtcZFwuXC1dKylcdyo/L2kscT0vXigtP1tcZFwuXC1dKyk/W1x3XHNdKiw/XHMqKC0/W1xkXC5cLV0rKT9bXHdcc10qL2ksQT0vdHJhbnNsYXRleD8kL2ksVj0vKHpvb218ZmFkZXxleHBhbmQpKFx3KykvLE09Lyh6b29tfGZhZGV8ZXhwYW5kKS8sJD0vW3h5XSQvaSxMPVsicGVyc3BlY3RpdmUiLCJyb3RhdGUiLCJyb3RhdGV4Iiwicm90YXRleSIsInJvdGF0ZXoiLCJyb3RhdGUzZCIsInNjYWxlIiwic2NhbGV4Iiwic2NhbGV5Iiwic2NhbGV6Iiwic2NhbGUzZCIsInNrZXciLCJza2V3eCIsInNrZXd5IiwidHJhbnNsYXRlIiwidHJhbnNsYXRleCIsInRyYW5zbGF0ZXkiLCJ0cmFuc2xhdGV6IiwidHJhbnNsYXRlM2QiLCJtYXRyaXgiLCJtYXRyaXgzZCJdLFE9WyJyb3RhdGUiLCJzY2FsZSIsInNjYWxleCIsInNjYWxleSIsInNrZXciLCJza2V3eCIsInNrZXd5IiwidHJhbnNsYXRlIiwidHJhbnNsYXRleCIsInRyYW5zbGF0ZXkiLCJtYXRyaXgiXSxXPXtyb3RhdGU6ImRlZyIsc2NhbGU6IiIsc2tldzoicHgiLHRyYW5zbGF0ZToicHgifSxqPUguY3NzLEI9TWF0aC5yb3VuZCxVPSIiLEc9InB4IixKPSJub25lIixLPSJhdXRvIixYPSJ3aWR0aCIsWT0iaGVpZ2h0IixaPSJoaWRkZW4iLHR0PSJvcmlnaW4iLGV0PSJhYm9ydElkIixpdD0ib3ZlcmZsb3ciLHJ0PSJ0cmFuc2xhdGUiLG50PSJwb3NpdGlvbiIsc3Q9ImNvbXBsZXRlQ2FsbGJhY2siLG90PWorInRyYW5zaXRpb24iLGF0PWorInRyYW5zZm9ybSIsY3Q9aisiYmFja2ZhY2UtdmlzaWJpbGl0eSIsbHQ9aisicGVyc3BlY3RpdmUiLGR0PSIxNTAwcHgiLHV0PSJwZXJzcGVjdGl2ZSgiK2R0KyIpIixmdD17bGVmdDp7cmV2ZXJzZToicmlnaHQiLHByb3BlcnR5OiJsZWZ0Iix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV4Iix2ZXJ0aWNhbDohMSxtb2RpZmllcjotMX0scmlnaHQ6e3JldmVyc2U6ImxlZnQiLHByb3BlcnR5OiJsZWZ0Iix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV4Iix2ZXJ0aWNhbDohMSxtb2RpZmllcjoxfSxkb3duOntyZXZlcnNlOiJ1cCIscHJvcGVydHk6InRvcCIsdHJhbnNpdGlvbjoidHJhbnNsYXRleSIsdmVydGljYWw6ITAsbW9kaWZpZXI6MX0sdXA6e3JldmVyc2U6ImRvd24iLHByb3BlcnR5OiJ0b3AiLHRyYW5zaXRpb246InRyYW5zbGF0ZXkiLHZlcnRpY2FsOiEwLG1vZGlmaWVyOi0xfSx0b3A6e3JldmVyc2U6ImJvdHRvbSJ9LGJvdHRvbTp7cmV2ZXJzZToidG9wIn0sImluIjp7cmV2ZXJzZToib3V0Iixtb2RpZmllcjotMX0sb3V0OntyZXZlcnNlOiJpbiIsbW9kaWZpZXI6MX0sdmVydGljYWw6e3JldmVyc2U6InZlcnRpY2FsIn0saG9yaXpvbnRhbDp7cmV2ZXJzZToiaG9yaXpvbnRhbCJ9fTtDLmRpcmVjdGlvbnM9ZnQsTih0LmZuLHtrZW5kb1N0b3A6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRD9QLnN0b3BRdWV1ZSh0aGlzLHR8fCExLGV8fCExKTp0aGlzLnN0b3AodCxlKX19KSxIJiYhRCYmKFQoUSxmdW5jdGlvbihpLHIpe3QuZm5bcl09ZnVuY3Rpb24oaSl7aWYoZT09PWkpcmV0dXJuIGEodGhpcyxyKTt2YXIgbj10KHRoaXMpWzBdLHM9cisiKCIraStXW3IucmVwbGFjZSgkLCIiKV0rIikiO3JldHVybiBuLnN0eWxlLmNzc1RleHQuaW5kZXhPZihhdCk9PS0xP3QodGhpcykuY3NzKGF0LHMpOm4uc3R5bGUuY3NzVGV4dD1uLnN0eWxlLmNzc1RleHQucmVwbGFjZShSZWdFeHAocisiXFwoLio/XFwpIiwiaSIpLHMpLHRoaXN9LHQuZnguc3RlcFtyXT1mdW5jdGlvbihlKXt0KGUuZWxlbSlbcl0oZS5ub3cpfX0pLGY9dC5meC5wcm90b3R5cGUuY3VyLHQuZngucHJvdG90eXBlLmN1cj1mdW5jdGlvbigpe3JldHVybiBRLmluZGV4T2YodGhpcy5wcm9wKSE9LTE/cGFyc2VGbG9hdCh0KHRoaXMuZWxlbSlbdGhpcy5wcm9wXSgpKTpmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLEMudG9nZ2xlQ2xhc3M9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIGUmJihlPWUuc3BsaXQoIiAiKSxEJiYoaT1OKHtleGNsdXNpdmU6ImFsbCIsZHVyYXRpb246NDAwLGVhc2U6ImVhc2Utb3V0In0saSksdC5jc3Mob3QsaS5leGNsdXNpdmUrIiAiK2kuZHVyYXRpb24rIm1zICIraS5lYXNlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jc3Mob3QsIiIpLmNzcyhZKX0saS5kdXJhdGlvbikpLFQoZSxmdW5jdGlvbihlLGkpe3QudG9nZ2xlQ2xhc3MoaSxyKX0pKSx0fSxDLnBhcnNlRWZmZWN0cz1mdW5jdGlvbih0LGUpe3ZhciBpPXt9O3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9UKHQuc3BsaXQoIiAiKSxmdW5jdGlvbih0LHIpe3ZhciBuPSFNLnRlc3Qocikscz1yLnJlcGxhY2UoVixmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUrIjoiK2kudG9Mb3dlckNhc2UoKX0pLG89cy5zcGxpdCgiOiIpLGE9b1sxXSxjPXt9O28ubGVuZ3RoPjEmJihjLmRpcmVjdGlvbj1lJiZuP2Z0W2FdLnJldmVyc2U6YSksaVtvWzBdXT1jfSk6VCh0LGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZGlyZWN0aW9uO3ImJmUmJiFNLnRlc3QodCkmJih0aGlzLmRpcmVjdGlvbj1mdFtyXS5yZXZlcnNlKSxpW3RdPXRoaXN9KSxpfSxEJiZOKFAse3RyYW5zaXRpb246ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLGEsYyxsLGQ9MCx1PWUuZGF0YSgia2V5cyIpfHxbXTtyPU4oe2R1cmF0aW9uOjIwMCxlYXNlOiJlYXNlLW91dCIsY29tcGxldGU6bnVsbCxleGNsdXNpdmU6ImFsbCJ9LHIpLGM9ITEsbD1mdW5jdGlvbigpe2N8fChjPSEwLGEmJihjbGVhclRpbWVvdXQoYSksYT1udWxsKSxlLnJlbW92ZURhdGEoZXQpLmRlcXVldWUoKS5jc3Mob3QsIiIpLmNzcyhvdCksci5jb21wbGV0ZS5jYWxsKGUpKX0sci5kdXJhdGlvbj10LmZ4P3QuZnguc3BlZWRzW3IuZHVyYXRpb25dfHxyLmR1cmF0aW9uOnIuZHVyYXRpb24scz1vKGUsaSksdC5tZXJnZSh1LG4ocykpLHQuaGFzT3duUHJvcGVydHkoInVuaXF1ZVNvcnQiKT9lLmRhdGEoImtleXMiLHQudW5pcXVlU29ydCh1KSkuaGVpZ2h0KCk6ZS5kYXRhKCJrZXlzIix0LnVuaXF1ZSh1KSkuaGVpZ2h0KCksZS5jc3Mob3Qsci5leGNsdXNpdmUrIiAiK3IuZHVyYXRpb24rIm1zICIrci5lYXNlKS5jc3Mob3QpLGUuY3NzKHMpLmNzcyhhdCksRC5ldmVudCYmKGUub25lKEQuZXZlbnQsbCksMCE9PXIuZHVyYXRpb24mJihkPTUwMCkpLGE9c2V0VGltZW91dChsLHIuZHVyYXRpb24rZCksZS5kYXRhKGV0LGEpLGUuZGF0YShzdCxsKX0sc3RvcFF1ZXVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixuPXQuZGF0YSgia2V5cyIpLHM9IWkmJm4sbz10LmRhdGEoc3QpO3JldHVybiBzJiYocj1DLmdldENvbXB1dGVkU3R5bGVzKHRbMF0sbikpLG8mJm8oKSxzJiZ0LmNzcyhyKSx0LnJlbW92ZURhdGEoImtleXMiKS5zdG9wKGUpfX0pLHA9Qy5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2kuZWxlbWVudD10LGkuZWZmZWN0cz1bXSxpLm9wdGlvbnM9ZSxpLnJlc3RvcmU9W119LHJ1bjpmdW5jdGlvbihlKXt2YXIgaSxyLG4sYSxjLGwsZCx1PXRoaXMsZj1lLmxlbmd0aCxwPXUuZWxlbWVudCxoPXUub3B0aW9ucyxtPXQuRGVmZXJyZWQoKSx2PXt9LHg9e307Zm9yKHUuZWZmZWN0cz1lLG0uZG9uZSh0LnByb3h5KHUsImNvbXBsZXRlIikpLHAuZGF0YSgiYW5pbWF0aW5nIiwhMCkscj0wO3I8ZjtyKyspZm9yKGk9ZVtyXSxpLnNldFJldmVyc2UoaC5yZXZlcnNlKSxpLnNldE9wdGlvbnMoaCksdS5hZGRSZXN0b3JlUHJvcGVydGllcyhpLnJlc3RvcmUpLGkucHJlcGFyZSh2LHgpLGM9aS5jaGlsZHJlbigpLG49MCxsPWMubGVuZ3RoO248bDtuKyspY1tuXS5kdXJhdGlvbihoLmR1cmF0aW9uKS5ydW4oKTtmb3IoZCBpbiBoLmVmZmVjdHMpTih4LGguZWZmZWN0c1tkXS5wcm9wZXJ0aWVzKTtmb3IocC5pcygiOnZpc2libGUiKXx8Tih2LHtkaXNwbGF5OnAuZGF0YSgib2xkZGlzcGxheSIpfHwiYmxvY2sifSksSCYmIWgucmVzZXQmJihhPXAuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIiksYSYmKHY9TihhLHYpKSksdj1vKHAsdiksSCYmIUQmJih2PXModikpLHAuY3NzKHYpLmNzcyhhdCkscj0wO3I8ZjtyKyspZVtyXS5zZXR1cCgpO3JldHVybiBoLmluaXQmJmguaW5pdCgpLHAuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIix4KSxQLmFuaW1hdGUocCx4LE4oe30saCx7Y29tcGxldGU6bS5yZXNvbHZlfSkpLG0ucHJvbWlzZSgpfSxzdG9wOmZ1bmN0aW9uKCl7dCh0aGlzLmVsZW1lbnQpLmtlbmRvU3RvcCghMCwhMCl9LGFkZFJlc3RvcmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXRoaXMuZWxlbWVudCxyPTAsbj10Lmxlbmd0aDtyPG47cisrKWU9dFtyXSx0aGlzLnJlc3RvcmUucHVzaChlKSxpLmRhdGEoZSl8fGkuZGF0YShlLGkuY3NzKGUpKX0scmVzdG9yZUNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHI9dGhpcy5lbGVtZW50O2Zvcih0PTAsZT10aGlzLnJlc3RvcmUubGVuZ3RoO3Q8ZTt0KyspaT10aGlzLnJlc3RvcmVbdF0sci5jc3MoaSxyLmRhdGEoaSkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsaT0wLHI9ZS5lbGVtZW50LG49ZS5vcHRpb25zLHM9ZS5lZmZlY3RzLG89cy5sZW5ndGg7Zm9yKHIucmVtb3ZlRGF0YSgiYW5pbWF0aW5nIikuZGVxdWV1ZSgpLG4uaGlkZSYmci5kYXRhKCJvbGRkaXNwbGF5IixyLmNzcygiZGlzcGxheSIpKS5oaWRlKCksdGhpcy5yZXN0b3JlQ2FsbGJhY2soKSxTJiYhSCYmc2V0VGltZW91dCh0LnByb3h5KHRoaXMsInJlc3RvcmVDYWxsYmFjayIpLDApO2k8bztpKyspc1tpXS50ZWFyZG93bigpO24uY29tcGxldGVDYWxsYmFjayYmbi5jb21wbGV0ZUNhbGxiYWNrKHIpfX0pLFAucHJvbWlzZT1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbixzPVtdLG89bmV3IHAodCxlKSxhPUMucGFyc2VFZmZlY3RzKGUuZWZmZWN0cyk7ZS5lZmZlY3RzPWE7Zm9yKG4gaW4gYSlpPVBbYyhuKV0saSYmKHI9bmV3IGkodCxhW25dLmRpcmVjdGlvbikscy5wdXNoKHIpKTtzWzBdP28ucnVuKHMpOih0LmlzKCI6dmlzaWJsZSIpfHx0LmNzcyh7ZGlzcGxheTp0LmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLmNzcygiZGlzcGxheSIpLGUuaW5pdCYmZS5pbml0KCksdC5kZXF1ZXVlKCksby5jb21wbGV0ZSgpKX0sTihQLHthbmltYXRlOmZ1bmN0aW9uKGksbixvKXt2YXIgYT1vLnRyYW5zaXRpb24hPT0hMTtkZWxldGUgby50cmFuc2l0aW9uLEQmJiJ0cmFuc2l0aW9uImluIFAmJmE/UC50cmFuc2l0aW9uKGksbixvKTpIP2kuYW5pbWF0ZShzKG4pLHtxdWV1ZTohMSxzaG93OiExLGhpZGU6ITEsZHVyYXRpb246by5kdXJhdGlvbixjb21wbGV0ZTpvLmNvbXBsZXRlfSk6aS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxzPXt9O1QoTCxmdW5jdGlvbih0LG8pe3ZhciBhLGMsbCxkLHUsZixwLGg9bj9uW29dKyIgIjpudWxsO2gmJihjPW4sbyBpbiBPJiZuW29dIT09ZT8oYT1oLm1hdGNoKHEpLEgmJk4oYyx7c2NhbGU6K2FbMF19KSk6byBpbiBGJiZuW29dIT09ZSYmKGw9aS5jc3MobnQpLGQ9ImFic29sdXRlIj09bHx8ImZpeGVkIj09bCxpLmRhdGEocnQpfHwoZD9pLmRhdGEocnQse3RvcDpyKGksInRvcCIpfHwwLGxlZnQ6cihpLCJsZWZ0Iil8fDAsYm90dG9tOnIoaSwiYm90dG9tIikscmlnaHQ6cihpLCJyaWdodCIpfSk6aS5kYXRhKHJ0LHt0b3A6cihpLCJtYXJnaW5Ub3AiKXx8MCxsZWZ0OnIoaSwibWFyZ2luTGVmdCIpfHwwfSkpLHU9aS5kYXRhKHJ0KSxhPWgubWF0Y2gocSksYSYmKGY9bz09cnQrInkiPzA6K2FbMV0scD1vPT1ydCsieSI/K2FbMV06K2FbMl0sZD8oaXNOYU4odS5yaWdodCk/aXNOYU4oZil8fE4oYyx7bGVmdDp1LmxlZnQrZn0pOmlzTmFOKGYpfHxOKGMse3JpZ2h0OnUucmlnaHQtZn0pLGlzTmFOKHUuYm90dG9tKT9pc05hTihwKXx8TihjLHt0b3A6dS50b3ArcH0pOmlzTmFOKHApfHxOKGMse2JvdHRvbTp1LmJvdHRvbS1wfSkpOihpc05hTihmKXx8TihjLHttYXJnaW5MZWZ0OnUubGVmdCtmfSksaXNOYU4ocCl8fE4oYyx7bWFyZ2luVG9wOnUudG9wK3B9KSkpKSwhSCYmInNjYWxlIiE9byYmbyBpbiBjJiZkZWxldGUgY1tvXSxjJiZOKHMsYykpfSksUi5tc2llJiZkZWxldGUgcy5zY2FsZSxpLmFuaW1hdGUocyx7cXVldWU6ITEsc2hvdzohMSxoaWRlOiExLGR1cmF0aW9uOm8uZHVyYXRpb24sY29tcGxldGU6by5jb21wbGV0ZX0pfSl9fSksUC5hbmltYXRlZFByb21pc2U9UC5wcm9taXNlLGg9Qy5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2kuZWxlbWVudD10LGkuX2RpcmVjdGlvbj1lLGkub3B0aW9ucz17fSxpLl9hZGRpdGlvbmFsRWZmZWN0cz1bXSxpLnJlc3RvcmV8fChpLnJlc3RvcmU9W10pfSxyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2U9ITAsdGhpcy5ydW4oKX0scGxheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXZlcnNlPSExLHRoaXMucnVuKCl9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkaXRpb25hbEVmZmVjdHMucHVzaCh0KSx0aGlzfSxkaXJlY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RpcmVjdGlvbj10LHRoaXN9LGR1cmF0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kdXJhdGlvbj10LHRoaXN9LGNvbXBvc2l0ZVJ1bjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgcCh0LmVsZW1lbnQse3JldmVyc2U6dC5fcmV2ZXJzZSxkdXJhdGlvbjp0Ll9kdXJhdGlvbn0pLGk9dC5fYWRkaXRpb25hbEVmZmVjdHMuY29uY2F0KFt0XSk7cmV0dXJuIGUucnVuKGkpfSxydW46ZnVuY3Rpb24oKXtpZih0aGlzLl9hZGRpdGlvbmFsRWZmZWN0cyYmdGhpcy5fYWRkaXRpb25hbEVmZmVjdHNbMF0pcmV0dXJuIHRoaXMuY29tcG9zaXRlUnVuKCk7dmFyIGUsaSxyPXRoaXMsbj1yLmVsZW1lbnQsYT0wLGM9ci5yZXN0b3JlLGw9Yy5sZW5ndGgsZD10LkRlZmVycmVkKCksdT17fSxmPXt9LHA9ci5jaGlsZHJlbigpLGg9cC5sZW5ndGg7Zm9yKGQuZG9uZSh0LnByb3h5KHIsIl9jb21wbGV0ZSIpKSxuLmRhdGEoImFuaW1hdGluZyIsITApLGE9MDthPGw7YSsrKWU9Y1thXSxuLmRhdGEoZSl8fG4uZGF0YShlLG4uY3NzKGUpKTtmb3IoYT0wO2E8aDthKyspcFthXS5kdXJhdGlvbihyLl9kdXJhdGlvbikucnVuKCk7cmV0dXJuIHIucHJlcGFyZSh1LGYpLG4uaXMoIjp2aXNpYmxlIil8fE4odSx7ZGlzcGxheTpuLmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLEgmJihpPW4uZGF0YSgidGFyZ2V0VHJhbnNmb3JtIiksaSYmKHU9TihpLHUpKSksdT1vKG4sdSksSCYmIUQmJih1PXModSkpLG4uY3NzKHUpLmNzcyhhdCksci5zZXR1cCgpLG4uZGF0YSgidGFyZ2V0VHJhbnNmb3JtIixmKSxQLmFuaW1hdGUobixmLHtkdXJhdGlvbjpyLl9kdXJhdGlvbixjb21wbGV0ZTpkLnJlc29sdmV9KSxkLnByb21pc2UoKX0sc3RvcDpmdW5jdGlvbigpe3ZhciBlPTAsaT10aGlzLmNoaWxkcmVuKCkscj1pLmxlbmd0aDtmb3IoZT0wO2U8cjtlKyspaVtlXS5zdG9wKCk7cmV0dXJuIHQodGhpcy5lbGVtZW50KS5rZW5kb1N0b3AoITAsITApLHRoaXN9LHJlc3RvcmVDYWxsYmFjazpmdW5jdGlvbigpe3ZhciB0LGUsaSxyPXRoaXMuZWxlbWVudDtmb3IodD0wLGU9dGhpcy5yZXN0b3JlLmxlbmd0aDt0PGU7dCsrKWk9dGhpcy5yZXN0b3JlW3RdLHIuY3NzKGksci5kYXRhKGkpKX0sX2NvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPWUuZWxlbWVudDtpLnJlbW92ZURhdGEoImFuaW1hdGluZyIpLmRlcXVldWUoKSxlLnJlc3RvcmVDYWxsYmFjaygpLGUuc2hvdWxkSGlkZSgpJiZpLmRhdGEoIm9sZGRpc3BsYXkiLGkuY3NzKCJkaXNwbGF5IikpLmhpZGUoKSxTJiYhSCYmc2V0VGltZW91dCh0LnByb3h5KGUsInJlc3RvcmVDYWxsYmFjayIpLDApLGUudGVhcmRvd24oKX0sc2V0T3B0aW9uczpmdW5jdGlvbih0KXtOKCEwLHRoaXMub3B0aW9ucyx0KX0sY2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm5bXX0sc2hvdWxkSGlkZTp0Lm5vb3Asc2V0dXA6dC5ub29wLHByZXBhcmU6dC5ub29wLHRlYXJkb3duOnQubm9vcCxkaXJlY3Rpb25zOltdLHNldFJldmVyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JldmVyc2U9dCx0aGlzfX0pLG09WyJsZWZ0IiwicmlnaHQiLCJ1cCIsImRvd24iXSx2PVsiaW4iLCJvdXQiXSxsKCJzbGlkZUluIix7ZGlyZWN0aW9uczptLGRpdmlzb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXZpc29yPXQsdGhpc30scHJlcGFyZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dGhpcyxuPXIuZWxlbWVudCxzPUMuX291dGVyV2lkdGgsbz1DLl9vdXRlckhlaWdodCxhPWZ0W3IuX2RpcmVjdGlvbl0sYz0tYS5tb2RpZmllciooYS52ZXJ0aWNhbD9vKG4pOnMobikpLGw9Yy8oci5vcHRpb25zJiZyLm9wdGlvbnMuZGl2aXNvcnx8MSkrRyxkPSIwcHgiO3IuX3JldmVyc2UmJihpPXQsdD1lLGU9aSksSD8odFthLnRyYW5zaXRpb25dPWwsZVthLnRyYW5zaXRpb25dPWQpOih0W2EucHJvcGVydHldPWwsZVthLnByb3BlcnR5XT1kKX19KSxsKCJ0aWxlIix7ZGlyZWN0aW9uczptLGluaXQ6ZnVuY3Rpb24odCxlLGkpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLHQsZSksdGhpcy5vcHRpb25zPXtwcmV2aW91czppfX0scHJldmlvdXNEaXZpc29yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucHJldmlvdXNEaXZpc29yPXQsdGhpc30sY2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcmV2ZXJzZSxpPXQub3B0aW9ucy5wcmV2aW91cyxyPXQub3B0aW9ucy5wcmV2aW91c0Rpdmlzb3J8fDEsbj10Ll9kaXJlY3Rpb24scz1bQy5meCh0LmVsZW1lbnQpLnNsaWRlSW4obikuc2V0UmV2ZXJzZShlKV07cmV0dXJuIGkmJnMucHVzaChDLmZ4KGkpLnNsaWRlSW4oZnRbbl0ucmV2ZXJzZSkuZGl2aXNvcihyKS5zZXRSZXZlcnNlKCFlKSksc319KSxkKCJmYWRlIiwib3BhY2l0eSIsMSwwKSxkKCJ6b29tIiwic2NhbGUiLDEsLjAxKSxsKCJzbGlkZU1hcmdpbiIse3ByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXRoaXMsbj1yLmVsZW1lbnQscz1yLm9wdGlvbnMsbz1uLmRhdGEodHQpLGE9cy5vZmZzZXQsYz1yLl9yZXZlcnNlO2N8fG51bGwhPT1vfHxuLmRhdGEodHQscGFyc2VGbG9hdChuLmNzcygibWFyZ2luLSIrcy5heGlzKSkpLGk9bi5kYXRhKHR0KXx8MCxlWyJtYXJnaW4tIitzLmF4aXNdPWM/aTppK2F9fSksbCgic2xpZGVUbyIse3ByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9aS5lbGVtZW50LG49aS5vcHRpb25zLHM9bi5vZmZzZXQuc3BsaXQoIiwiKSxvPWkuX3JldmVyc2U7SD8oZS50cmFuc2xhdGV4PW8/MDpzWzBdLGUudHJhbnNsYXRleT1vPzA6c1sxXSk6KGUubGVmdD1vPzA6c1swXSxlLnRvcD1vPzA6c1sxXSksci5jc3MoImxlZnQiKX19KSxsKCJleHBhbmQiLHtkaXJlY3Rpb25zOlsiaG9yaXpvbnRhbCIsInZlcnRpY2FsIl0scmVzdG9yZTpbaXRdLHByZXBhcmU6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzLG49ci5lbGVtZW50LHM9ci5vcHRpb25zLG89ci5fcmV2ZXJzZSxhPSJ2ZXJ0aWNhbCI9PT1yLl9kaXJlY3Rpb24/WTpYLGM9blswXS5zdHlsZVthXSxsPW4uZGF0YShhKSxkPXBhcnNlRmxvYXQobHx8YyksdT1CKG4uY3NzKGEsSylbYV0oKSk7dC5vdmVyZmxvdz1aLGQ9cyYmcy5yZXNldD91fHxkOmR8fHUsaVthXT0obz8wOmQpK0csdFthXT0obz9kOjApK0csbD09PWUmJm4uZGF0YShhLGMpfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2V9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuZWxlbWVudCxpPSJ2ZXJ0aWNhbCI9PT10Ll9kaXJlY3Rpb24/WTpYLHI9ZS5kYXRhKGkpO3IhPUsmJnIhPT1VfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5jc3MoaSxLKS5jc3MoaSl9LDApfX0pLHg9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbWFyZ2luTGVmdDowLG1hcmdpblRvcDowLHNjYWxlOjF9LGwoInRyYW5zZmVyIix7aW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuZWxlbWVudD10LHRoaXMub3B0aW9ucz17dGFyZ2V0OmV9LHRoaXMucmVzdG9yZT1bXX0sc2V0dXA6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSl9LHByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9aS5lbGVtZW50LG49UC5ib3gocikscz1QLmJveChpLm9wdGlvbnMudGFyZ2V0KSxvPWEociwic2NhbGUiKSxjPVAuZmlsbFNjYWxlKHMsbiksbD1QLnRyYW5zZm9ybU9yaWdpbihzLG4pO04odCx4KSxlLnNjYWxlPTEsci5jc3MoYXQsInNjYWxlKDEpIikuY3NzKGF0KSxyLmNzcyhhdCwic2NhbGUoIitvKyIpIiksdC50b3A9bi50b3AsdC5sZWZ0PW4ubGVmdCx0LnRyYW5zZm9ybU9yaWdpbj1sLngrRysiICIrbC55K0csaS5fcmV2ZXJzZT90LnNjYWxlPWM6ZS5zY2FsZT1jfX0pLF89e3RvcDoicmVjdChhdXRvIGF1dG8gJHNpemUgYXV0bykiLGJvdHRvbToicmVjdCgkc2l6ZSBhdXRvIGF1dG8gYXV0bykiLGxlZnQ6InJlY3QoYXV0byAkc2l6ZSBhdXRvIGF1dG8pIixyaWdodDoicmVjdChhdXRvIGF1dG8gYXV0byAkc2l6ZSkifSxnPXt0b3A6e3N0YXJ0OiJyb3RhdGV4KDBkZWcpIixlbmQ6InJvdGF0ZXgoMTgwZGVnKSJ9LGJvdHRvbTp7c3RhcnQ6InJvdGF0ZXgoLTE4MGRlZykiLGVuZDoicm90YXRleCgwZGVnKSJ9LGxlZnQ6e3N0YXJ0OiJyb3RhdGV5KDBkZWcpIixlbmQ6InJvdGF0ZXkoLTE4MGRlZykifSxyaWdodDp7c3RhcnQ6InJvdGF0ZXkoMTgwZGVnKSIsZW5kOiJyb3RhdGV5KDBkZWcpIn19LGwoInR1cm5pbmdQYWdlIix7ZGlyZWN0aW9uczptLGluaXQ6ZnVuY3Rpb24odCxlLGkpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLHQsZSksdGhpcy5fY29udGFpbmVyPWl9LHByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9aS5fcmV2ZXJzZSxuPXI/ZnRbaS5fZGlyZWN0aW9uXS5yZXZlcnNlOmkuX2RpcmVjdGlvbixzPWdbbl07dC56SW5kZXg9MSxpLl9jbGlwSW5IYWxmJiYodC5jbGlwPXUoaS5fY29udGFpbmVyLEMuZGlyZWN0aW9uc1tuXS5yZXZlcnNlKSksdFtjdF09WixlW2F0XT11dCsocj9zLnN0YXJ0OnMuZW5kKSx0W2F0XT11dCsocj9zLmVuZDpzLnN0YXJ0KX0sc2V0dXA6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIuYXBwZW5kKHRoaXMuZWxlbWVudCl9LGZhY2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZhY2U9dCx0aGlzfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuX3JldmVyc2UsaT10Ll9mYWNlO3JldHVybiBlJiYhaXx8IWUmJml9LGNsaXBJbkhhbGY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NsaXBJbkhhbGY9dCx0aGlzfSx0ZW1wb3Jhcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ0ZW1wLXBhZ2UiKSx0aGlzfX0pLGwoInN0YXRpY1BhZ2UiLHtkaXJlY3Rpb25zOm0saW5pdDpmdW5jdGlvbih0LGUsaSl7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsdCxlKSx0aGlzLl9jb250YWluZXI9aX0scmVzdG9yZTpbImNsaXAiXSxwcmVwYXJlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPWkuX3JldmVyc2U/ZnRbaS5fZGlyZWN0aW9uXS5yZXZlcnNlOmkuX2RpcmVjdGlvbjt0LmNsaXA9dShpLl9jb250YWluZXIsciksdC5vcGFjaXR5PS45OTksZS5vcGFjaXR5PTF9LHNob3VsZEhpZGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcmV2ZXJzZSxpPXQuX2ZhY2U7cmV0dXJuIGUmJiFpfHwhZSYmaX0sZmFjZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmFjZT10LHRoaXN9fSksbCgicGFnZXR1cm4iLHtkaXJlY3Rpb25zOlsiaG9yaXpvbnRhbCIsInZlcnRpY2FsIl0saW5pdDpmdW5jdGlvbih0LGUsaSxyKXtoLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyx0LGUpLHRoaXMub3B0aW9ucz17fSx0aGlzLm9wdGlvbnMuZmFjZT1pLHRoaXMub3B0aW9ucy5iYWNrPXJ9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9ZS5vcHRpb25zLHI9Imhvcml6b250YWwiPT09ZS5fZGlyZWN0aW9uPyJsZWZ0IjoidG9wIixuPUMuZGlyZWN0aW9uc1tyXS5yZXZlcnNlLHM9ZS5fcmV2ZXJzZSxvPWkuZmFjZS5jbG9uZSghMCkucmVtb3ZlQXR0cigiaWQiKSxhPWkuYmFjay5jbG9uZSghMCkucmVtb3ZlQXR0cigiaWQiKSxjPWUuZWxlbWVudDtyZXR1cm4gcyYmKHQ9cixyPW4sbj10KSxbQy5meChpLmZhY2UpLnN0YXRpY1BhZ2UocixjKS5mYWNlKCEwKS5zZXRSZXZlcnNlKHMpLEMuZngoaS5iYWNrKS5zdGF0aWNQYWdlKG4sYykuc2V0UmV2ZXJzZShzKSxDLmZ4KG8pLnR1cm5pbmdQYWdlKHIsYykuZmFjZSghMCkuY2xpcEluSGFsZighMCkudGVtcG9yYXJ5KCkuc2V0UmV2ZXJzZShzKSxDLmZ4KGEpLnR1cm5pbmdQYWdlKG4sYykuY2xpcEluSGFsZighMCkudGVtcG9yYXJ5KCkuc2V0UmV2ZXJzZShzKV19LHByZXBhcmU6ZnVuY3Rpb24odCxlKXt0W2x0XT1kdCx0LnRyYW5zZm9ybVN0eWxlPSJwcmVzZXJ2ZS0zZCIsdC5vcGFjaXR5PS45OTksZS5vcGFjaXR5PTF9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmZpbmQoIi50ZW1wLXBhZ2UiKS5yZW1vdmUoKX19KSxsKCJmbGlwIix7ZGlyZWN0aW9uczpbImhvcml6b250YWwiLCJ2ZXJ0aWNhbCJdLGluaXQ6ZnVuY3Rpb24odCxlLGkscil7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsdCxlKSx0aGlzLm9wdGlvbnM9e30sdGhpcy5vcHRpb25zLmZhY2U9aSx0aGlzLm9wdGlvbnMuYmFjaz1yfSxjaGlsZHJlbjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPWUub3B0aW9ucyxyPSJob3Jpem9udGFsIj09PWUuX2RpcmVjdGlvbj8ibGVmdCI6InRvcCIsbj1DLmRpcmVjdGlvbnNbcl0ucmV2ZXJzZSxzPWUuX3JldmVyc2Usbz1lLmVsZW1lbnQ7cmV0dXJuIHMmJih0PXIscj1uLG49dCksW0MuZngoaS5mYWNlKS50dXJuaW5nUGFnZShyLG8pLmZhY2UoITApLnNldFJldmVyc2UocyksQy5meChpLmJhY2spLnR1cm5pbmdQYWdlKG4sbykuc2V0UmV2ZXJzZShzKV19LHByZXBhcmU6ZnVuY3Rpb24odCl7dFtsdF09ZHQsdC50cmFuc2Zvcm1TdHlsZT0icHJlc2VydmUtM2QifX0pLHk9IUUubW9iaWxlT1MuYW5kcm9pZCxrPSIua20tdG91Y2gtc2Nyb2xsYmFyLCAua20tYWN0aW9uc2hlZXQtd3JhcHBlciIsbCgicmVwbGFjZSIse19iZWZvcmU6dC5ub29wLF9hZnRlcjp0Lm5vb3AsaW5pdDpmdW5jdGlvbihlLGkscil7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsZSksdGhpcy5fcHJldmlvdXM9dChpKSx0aGlzLl90cmFuc2l0aW9uQ2xhc3M9cn0sZHVyYXRpb246ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiVGhlIHJlcGxhY2UgZWZmZWN0IGRvZXMgbm90IHN1cHBvcnQgZHVyYXRpb24gc2V0dGluZzsgdGhlIGVmZmVjdCBkdXJhdGlvbiBtYXkgYmUgY3VzdG9taXplZCB0aHJvdWdoIHRoZSB0cmFuc2l0aW9uIGNsYXNzIHJ1bGUiKX0sYmVmb3JlVHJhbnNpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYmVmb3JlPXQsdGhpc30sYWZ0ZXJUcmFuc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZnRlcj10LHRoaXN9LF9ib3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKS5hZGQodGhpcy5fZWxlbWVudCkuYWRkKHRoaXMuX3ByZXZpb3VzKX0sX2NvbnRhaW5lckNsYXNzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGlyZWN0aW9uLGU9ImstZnggay1meC1zdGFydCBrLWZ4LSIrdGhpcy5fdHJhbnNpdGlvbkNsYXNzO3JldHVybiB0JiYoZSs9IiBrLWZ4LSIrdCksdGhpcy5fcmV2ZXJzZSYmKGUrPSIgay1meC1yZXZlcnNlIiksZX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7aWYoISghdGhpcy5kZWZlcnJlZHx8ZSYmdChlLnRhcmdldCkuaXMoaykpKXt2YXIgaT10aGlzLmNvbnRhaW5lcjtpLnJlbW92ZUNsYXNzKCJrLWZ4LWVuZCIpLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lckNsYXNzKCkpLm9mZihELmV2ZW50LHRoaXMuY29tcGxldGVQcm94eSksdGhpcy5fcHJldmlvdXMuaGlkZSgpLnJlbW92ZUNsYXNzKCJrLWZ4LWN1cnJlbnQiKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoImstZngtbmV4dCIpLHkmJmkuY3NzKGl0LCIiKSx0aGlzLmlzQWJzb2x1dGV8fHRoaXMuX2JvdGgoKS5jc3MobnQsIiIpLHRoaXMuZGVmZXJyZWQucmVzb2x2ZSgpLGRlbGV0ZSB0aGlzLmRlZmVycmVkfX0scnVuOmZ1bmN0aW9uKCl7aWYodGhpcy5fYWRkaXRpb25hbEVmZmVjdHMmJnRoaXMuX2FkZGl0aW9uYWxFZmZlY3RzWzBdKXJldHVybiB0aGlzLmNvbXBvc2l0ZVJ1bigpO3ZhciBlLGk9dGhpcyxyPWkuZWxlbWVudCxuPWkuX3ByZXZpb3VzLHM9ci5wYXJlbnRzKCkuZmlsdGVyKG4ucGFyZW50cygpKS5maXJzdCgpLG89aS5fYm90aCgpLGE9dC5EZWZlcnJlZCgpLGM9ci5jc3MobnQpO3JldHVybiBzLmxlbmd0aHx8KHM9ci5wYXJlbnQoKSksdGhpcy5jb250YWluZXI9cyx0aGlzLmRlZmVycmVkPWEsdGhpcy5pc0Fic29sdXRlPSJhYnNvbHV0ZSI9PWMsdGhpcy5pc0Fic29sdXRlfHxvLmNzcyhudCwiYWJzb2x1dGUiKSx5JiYoZT1zLmNzcyhpdCkscy5jc3MoaXQsImhpZGRlbiIpKSxEPyhyLmFkZENsYXNzKCJrLWZ4LWhpZGRlbiIpLHMuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyQ2xhc3MoKSksdGhpcy5jb21wbGV0ZVByb3h5PXQucHJveHkodGhpcywiY29tcGxldGUiKSxzLm9uKEQuZXZlbnQsdGhpcy5jb21wbGV0ZVByb3h5KSxDLmFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7ci5yZW1vdmVDbGFzcygiay1meC1oaWRkZW4iKS5hZGRDbGFzcygiay1meC1uZXh0Iiksbi5jc3MoImRpc3BsYXkiLCIiKS5hZGRDbGFzcygiay1meC1jdXJyZW50IiksaS5fYmVmb3JlKG4sciksQy5hbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3MucmVtb3ZlQ2xhc3MoImstZngtc3RhcnQiKS5hZGRDbGFzcygiay1meC1lbmQiKSxpLl9hZnRlcihuLHIpfSl9KSk6dGhpcy5jb21wbGV0ZSgpLGEucHJvbWlzZSgpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5jb21wbGV0ZSgpfX0pLGI9Qy5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuX3RpY2tQcm94eT16KHQuX3RpY2ssdCksdC5fc3RhcnRlZD0hMX0sdGljazp0Lm5vb3AsZG9uZTp0Lm5vb3Asb25FbmQ6dC5ub29wLG9uQ2FuY2VsOnQubm9vcCxzdGFydDpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZCgpJiYodGhpcy5kb25lKCk/dGhpcy5vbkVuZCgpOih0aGlzLl9zdGFydGVkPSEwLEMuYW5pbWF0aW9uRnJhbWUodGhpcy5fdGlja1Byb3h5KSkpfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5vbkNhbmNlbCgpfSxfdGljazpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fc3RhcnRlZCYmKHQudGljaygpLHQuZG9uZSgpPyh0Ll9zdGFydGVkPSExLHQub25FbmQoKSk6Qy5hbmltYXRpb25GcmFtZSh0Ll90aWNrUHJveHkpKX19KSx3PWIuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7TihlLHQpLGIuZm4uaW5pdC5jYWxsKGUpfSxkb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZVBhc3NlZCgpPj10aGlzLmR1cmF0aW9ufSx0aW1lUGFzc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWluKHRoaXMuZHVyYXRpb24sbmV3IERhdGUtdGhpcy5zdGFydERhdGUpfSxtb3ZlVG86ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWUubW92YWJsZTtlLmluaXRpYWw9aVtlLmF4aXNdLGUuZGVsdGE9dC5sb2NhdGlvbi1lLmluaXRpYWwsZS5kdXJhdGlvbj0ibnVtYmVyIj09dHlwZW9mIHQuZHVyYXRpb24/dC5kdXJhdGlvbjozMDAsZS50aWNrPWUuX2Vhc2VQcm94eSh0LmVhc2UpLGUuc3RhcnREYXRlPW5ldyBEYXRlLGUuc3RhcnQoKX0sX2Vhc2VQcm94eTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe2UubW92YWJsZS5tb3ZlQXhpcyhlLmF4aXMsdChlLnRpbWVQYXNzZWQoKSxlLmluaXRpYWwsZS5kZWx0YSxlLmR1cmF0aW9uKSl9fX0pLE4odyx7ZWFzZU91dEV4cG86ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHQ9PXI/ZStpOmkqKC1NYXRoLnBvdygyLC0xMCp0L3IpKzEpK2V9LGVhc2VPdXRCYWNrOmZ1bmN0aW9uKHQsZSxpLHIsbil7cmV0dXJuIG49MS43MDE1OCxpKigodD10L3ItMSkqdCooKG4rMSkqdCtuKSsxKStlfX0pLFAuQW5pbWF0aW9uPWIsUC5UcmFuc2l0aW9uPXcsUC5jcmVhdGVFZmZlY3Q9bCxQLmJveD1mdW5jdGlvbihlKXtlPXQoZSk7dmFyIGk9ZS5vZmZzZXQoKTtyZXR1cm4gaS53aWR0aD1DLl9vdXRlcldpZHRoKGUpLGkuaGVpZ2h0PUMuX291dGVySGVpZ2h0KGUpLGl9LFAudHJhbnNmb3JtT3JpZ2luPWZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQubGVmdC1lLmxlZnQpKmUud2lkdGgvKGUud2lkdGgtdC53aWR0aCkscj0odC50b3AtZS50b3ApKmUuaGVpZ2h0LyhlLmhlaWdodC10LmhlaWdodCk7cmV0dXJue3g6aXNOYU4oaSk/MDppLHk6aXNOYU4ocik/MDpyfX0sUC5maWxsU2NhbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4odC53aWR0aC9lLndpZHRoLHQuaGVpZ2h0L2UuaGVpZ2h0KX0sUC5maXRTY2FsZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1heCh0LndpZHRoL2Uud2lkdGgsdC5oZWlnaHQvZS5oZWlnaHQpfX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbih0LGUsaSl7KGl8fGUpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmZ4Lm1pbi5qcy5tYXANCg0KZnVuY3Rpb24gY3JlYXRlUHJvZHVjdHNVUkxCdWlsZGVyKG4pe3JldHVybntwYXJhbXM6e2Jhc2VQYXRoOm4scXVlcnk6e319LGFkZEJhc2VQYXRoOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnBhcmFtcy5iYXNlUGF0aD1uLHRoaXN9LGFkZFBhcmFtZXRlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLnBhcmFtcy5xdWVyeVtuXT10LHRoaXN9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIHQ9JC5wYXJhbSh0aGlzLnBhcmFtcy5xdWVyeSksbj10aGlzLnBhcmFtcy5iYXNlUGF0aDtyZXR1cm4gbi5pbmRleE9mKCI/IikhPT0tMT9uKyImIit0Om4rIj8iK3R9fX12YXIgQ2F0YWxvZ1Byb2R1Y3RzPXtzZXR0aW5nczp7YWpheDohMSxmZXRjaFVybDohMSxicm93c2VyUGF0aDohMX0scGFyYW1zOntqcVhIUjohMX0saW5pdDpmdW5jdGlvbihuKXt0aGlzLnNldHRpbmdzPSQuZXh0ZW5kKHt9LHRoaXMuc2V0dGluZ3Msbil9LGdldFByb2R1Y3RzOmZ1bmN0aW9uKG4pe3ZhciB0LHIsaTt0aGlzLnBhcmFtcy5qcVhIUiYmdGhpcy5wYXJhbXMuanFYSFIucmVhZHlTdGF0ZSE9PTQmJnRoaXMucGFyYW1zLmpxWEhSLmFib3J0KCk7dD1jcmVhdGVQcm9kdWN0c1VSTEJ1aWxkZXIodGhpcy5zZXR0aW5ncy5icm93c2VyUGF0aCk7biYmdC5hZGRQYXJhbWV0ZXIoInBhZ2VudW1iZXIiLG4pO3I9e3VybEJ1aWxkZXI6dH07JCh0aGlzKS50cmlnZ2VyKHt0eXBlOiJiZWZvcmUiLHBheWxvYWQ6cn0pO3RoaXMuc2V0QnJvd3Nlckhpc3RvcnkodC5idWlsZCgpKTt0aGlzLnNldHRpbmdzLmFqYXg/KHRoaXMuc2V0TG9hZFdhaXRpbmcoMSksaT10aGlzLHRoaXMucGFyYW1zLmpxWEhSPSQuYWpheCh7Y2FjaGU6ITEsdXJsOnQuYWRkQmFzZVBhdGgodGhpcy5zZXR0aW5ncy5mZXRjaFVybCkuYnVpbGQoKSx0eXBlOiJHRVQiLHN1Y2Nlc3M6ZnVuY3Rpb24obil7JCgiLnByb2R1Y3RzLXdyYXBwZXIiKS5odG1sKG4pOyQoImh0bWwsIGJvZHkiKS5hbmltYXRlKHtzY3JvbGxUb3A6JCgiLmNlbnRlci0yIC5wYWdlIikub2Zmc2V0KCkudG9wfSwic2xvdyIpOyQoaSkudHJpZ2dlcih7dHlwZToibG9hZGVkIn0pfSxlcnJvcjpmdW5jdGlvbigpeyQoaSkudHJpZ2dlcih7dHlwZToiZXJyb3IifSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7aS5zZXRMb2FkV2FpdGluZygpfX0pKTpzZXRMb2NhdGlvbih0LmJ1aWxkKCkpfSxzZXRMb2FkV2FpdGluZyhuKXt2YXIgdD0kKCIuYWpheC1wcm9kdWN0cy1idXN5Iik7bj90LnNob3coKTp0LmhpZGUoKX0sc2V0QnJvd3Nlckhpc3Rvcnkobil7d2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHtwYXRoOm59LCIiLG4pfX07DQovKiEgalF1ZXJ5IEpTT04gcGx1Z2luIDIuNC4wIHwgY29kZS5nb29nbGUuY29tL3AvanF1ZXJ5LWpzb24gKi8KKGZ1bmN0aW9uKCQpeyd1c2Ugc3RyaWN0Jzt2YXIgZXNjYXBlPS9bIlxcXHgwMC1ceDFmXHg3Zi1ceDlmXS9nLG1ldGE9eydcYic6J1xcYicsJ1x0JzonXFx0JywnXG4nOidcXG4nLCdcZic6J1xcZicsJ1xyJzonXFxyJywnIic6J1xcIicsJ1xcJzonXFxcXCd9LGhhc093bj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OyQudG9KU09OPXR5cGVvZiBKU09OPT09J29iamVjdCcmJkpTT04uc3RyaW5naWZ5P0pTT04uc3RyaW5naWZ5OmZ1bmN0aW9uKG8pe2lmKG89PT1udWxsKXtyZXR1cm4nbnVsbCc7fQp2YXIgcGFpcnMsayxuYW1lLHZhbCx0eXBlPSQudHlwZShvKTtpZih0eXBlPT09J3VuZGVmaW5lZCcpe3JldHVybiB1bmRlZmluZWQ7fQppZih0eXBlPT09J251bWJlcid8fHR5cGU9PT0nYm9vbGVhbicpe3JldHVybiBTdHJpbmcobyk7fQppZih0eXBlPT09J3N0cmluZycpe3JldHVybiAkLnF1b3RlU3RyaW5nKG8pO30KaWYodHlwZW9mIG8udG9KU09OPT09J2Z1bmN0aW9uJyl7cmV0dXJuICQudG9KU09OKG8udG9KU09OKCkpO30KaWYodHlwZT09PSdkYXRlJyl7dmFyIG1vbnRoPW8uZ2V0VVRDTW9udGgoKSsxLGRheT1vLmdldFVUQ0RhdGUoKSx5ZWFyPW8uZ2V0VVRDRnVsbFllYXIoKSxob3Vycz1vLmdldFVUQ0hvdXJzKCksbWludXRlcz1vLmdldFVUQ01pbnV0ZXMoKSxzZWNvbmRzPW8uZ2V0VVRDU2Vjb25kcygpLG1pbGxpPW8uZ2V0VVRDTWlsbGlzZWNvbmRzKCk7aWYobW9udGg8MTApe21vbnRoPScwJyttb250aDt9CmlmKGRheTwxMCl7ZGF5PScwJytkYXk7fQppZihob3VyczwxMCl7aG91cnM9JzAnK2hvdXJzO30KaWYobWludXRlczwxMCl7bWludXRlcz0nMCcrbWludXRlczt9CmlmKHNlY29uZHM8MTApe3NlY29uZHM9JzAnK3NlY29uZHM7fQppZihtaWxsaTwxMDApe21pbGxpPScwJyttaWxsaTt9CmlmKG1pbGxpPDEwKXttaWxsaT0nMCcrbWlsbGk7fQpyZXR1cm4nIicreWVhcisnLScrbW9udGgrJy0nK2RheSsnVCcrCmhvdXJzKyc6JyttaW51dGVzKyc6JytzZWNvbmRzKycuJyttaWxsaSsnWiInO30KcGFpcnM9W107aWYoJC5pc0FycmF5KG8pKXtmb3Ioaz0wO2s8by5sZW5ndGg7aysrKXtwYWlycy5wdXNoKCQudG9KU09OKG9ba10pfHwnbnVsbCcpO30KcmV0dXJuJ1snK3BhaXJzLmpvaW4oJywnKSsnXSc7fQppZih0eXBlb2Ygbz09PSdvYmplY3QnKXtmb3IoayBpbiBvKXtpZihoYXNPd24uY2FsbChvLGspKXt0eXBlPXR5cGVvZiBrO2lmKHR5cGU9PT0nbnVtYmVyJyl7bmFtZT0nIicraysnIic7fWVsc2UgaWYodHlwZT09PSdzdHJpbmcnKXtuYW1lPSQucXVvdGVTdHJpbmcoayk7fWVsc2V7Y29udGludWU7fQp0eXBlPXR5cGVvZiBvW2tdO2lmKHR5cGUhPT0nZnVuY3Rpb24nJiZ0eXBlIT09J3VuZGVmaW5lZCcpe3ZhbD0kLnRvSlNPTihvW2tdKTtwYWlycy5wdXNoKG5hbWUrJzonK3ZhbCk7fX19CnJldHVybid7JytwYWlycy5qb2luKCcsJykrJ30nO319OyQuZXZhbEpTT049dHlwZW9mIEpTT049PT0nb2JqZWN0JyYmSlNPTi5wYXJzZT9KU09OLnBhcnNlOmZ1bmN0aW9uKHN0cil7cmV0dXJuIGV2YWwoJygnK3N0cisnKScpO307JC5zZWN1cmVFdmFsSlNPTj10eXBlb2YgSlNPTj09PSdvYmplY3QnJiZKU09OLnBhcnNlP0pTT04ucGFyc2U6ZnVuY3Rpb24oc3RyKXt2YXIgZmlsdGVyZWQ9c3RyLnJlcGxhY2UoL1xcWyJcXFwvYmZucnR1XS9nLCdAJykucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csJ10nKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csJycpO2lmKC9eW1xdLDp7fVxzXSokLy50ZXN0KGZpbHRlcmVkKSl7cmV0dXJuIGV2YWwoJygnK3N0cisnKScpO30KdGhyb3cgbmV3IFN5bnRheEVycm9yKCdFcnJvciBwYXJzaW5nIEpTT04sIHNvdXJjZSBpcyBub3QgdmFsaWQuJyk7fTskLnF1b3RlU3RyaW5nPWZ1bmN0aW9uKHN0cil7aWYoc3RyLm1hdGNoKGVzY2FwZSkpe3JldHVybiciJytzdHIucmVwbGFjZShlc2NhcGUsZnVuY3Rpb24oYSl7dmFyIGM9bWV0YVthXTtpZih0eXBlb2YgYz09PSdzdHJpbmcnKXtyZXR1cm4gYzt9CmM9YS5jaGFyQ29kZUF0KCk7cmV0dXJuJ1xcdTAwJytNYXRoLmZsb29yKGMvMTYpLnRvU3RyaW5nKDE2KSsoYyUxNikudG9TdHJpbmcoMTYpO30pKyciJzt9CnJldHVybiciJytzdHIrJyInO307fShqUXVlcnkpKTsNCiFmdW5jdGlvbihzLGksZSl7dmFyIHI9ITE7ZnVuY3Rpb24gdCgpe3JldHVybntBbmRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSl9LEJsYWNrQmVycnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKX0saU9TOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUGFkfGlQb2QvaSl9LE9wZXJhOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09wZXJhIE1pbmkvaSl9LFdpbmRvd3M6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvSUVNb2JpbGUvaSl9LGFueTpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuQW5kcm9pZCgpfHx0aGlzLkJsYWNrQmVycnkoKXx8dGhpcy5pT1MoKXx8dGhpcy5PcGVyYSgpfHx0aGlzLldpbmRvd3MoKSl9fS5hbnkoKX0iZnVuY3Rpb24iIT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50cmltJiYoU3RyaW5nLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSksImZ1bmN0aW9uIiE9dHlwZW9mIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCYmKFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD1mdW5jdGlvbihlKXtyZXR1cm4gMD09PXRoaXMuaW5kZXhPZihlKX0pLGkuaXNJblZpZXdQb3J0PWZ1bmN0aW9uKGUpe3ZhciB0PXMoZSkub2Zmc2V0KCkudG9wLG49dCtzKGUpLm91dGVySGVpZ2h0KCksbz1zKHdpbmRvdykuc2Nyb2xsVG9wKCksaT1vK3Mod2luZG93KS5oZWlnaHQoKSxpPW88biYmdDxpKzEwMDtyZXR1cm4gaSYmcyhlKS5pcygiOnZpc2libGUiKX0saS5sb2FkSW1hZ2VzT25TY3JvbGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cygiaW1nW2RhdGEtbGF6eWxvYWRzcmNdIikubm90KCJbbG9hZGVkaW1hZ2VdIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXModGhpcyk7MDxlLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzKS5oYXNDbGFzcygiakNhcm91c2VsTWFpbldyYXBwZXIiKX0pLmxlbmd0aHx8aS5pc0luVmlld1BvcnQoZSkmJihlLmF0dHIoInNyYyIsZS5hdHRyKCJkYXRhLWxhenlsb2Fkc3JjIikpLGUuYXR0cigibG9hZGVkaW1hZ2UiLCJ0cnVlIikpfSl9dmFyIHQ9cyh3aW5kb3cpO3MoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7ZSgpLHMoZG9jdW1lbnQpLm9uKCJTZXZlblNwaWtlc1NhbGVPZlRoZURheUluaXRpYWxpemVkRXZlbnQiLGUpLHQub24oInNjcm9sbC5sYXp5TG9hZEltYWdlcyIsZSl9KSxzKCJpbWciKS5vbigibG9hZCIsZSkscyhkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQgbm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCBub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCBuZXdQcm9kdWN0c0FkZGVkVG9QYWdlRXZlbnQgc2V2ZW5TcGlrZXNUcmFjdGlvbkhvbWVQYWdlUXVpY2tUYWJPcGVuZWQgQW55d2hlcmVTbGlkZXJMb2FkZWQiLGUpfSxzLmZuLmV4dGVuZCh7c2ltcGxlU2VsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXModGhpcyk7ZS5wYXJlbnQoKS5oYXNDbGFzcygic2VsZWN0LXdyYXAiKXx8KGUud3JhcCgnPGRpdiBjbGFzcz0ic2VsZWN0LXdyYXAiPjwvZGl2PicpLmFmdGVyKCc8c3BhbiBjbGFzcz0ic2VsZWN0LWJveCI+PHNwYW4gY2xhc3M9InNlbGVjdC1pbm5lciI+JytlLmZpbmQoIjpzZWxlY3RlZCIpLnRleHQoKSsiPC9zcGFuPjwvc3Bhbj4iKSxlLmNoYW5nZShmdW5jdGlvbigpe2UubmV4dCgpLmNoaWxkcmVuKCIuc2VsZWN0LWlubmVyIikudGV4dChlLmZpbmQoIjpzZWxlY3RlZCIpLnRleHQoKSl9KSl9KX19KSxpLmlzUnRsPSJ0cnVlIj09PXMoIiNpc1J0bEVuYWJsZWQiKS52YWwoKSxpLmlzTW9iaWxlRGV2aWNlPXQoKSxpLmlzTW9iaWxlPXQsaS5BbnRpU3BhbT1mdW5jdGlvbihlLHQpe3dpbmRvdy5sb2NhdGlvbi5ocmVmPSJtYWlsdG86IitlKyJAIit0fSxpLmdldEF0dHJWYWxGcm9tRG9tPWZ1bmN0aW9uKGUsdCxuKXt0PXMoZSkuYXR0cih0KTtyZXR1cm4gbnVsbCE9dCYmIiIhPT10fHwodD1udWxsIT1uP246IiIpLHR9LGkuZ2V0SGlkZGVuVmFsRnJvbURvbT1mdW5jdGlvbihlLHQpe2U9cyhlKS52YWwoKTtyZXR1cm4gbnVsbCE9ZSYmIiIhPT1lfHwoZT1udWxsIT10P3Q6IiIpLGV9LGkuZ2V0VXJsVmFyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVtdLG89d2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiPyIpKzEpLnNwbGl0KCImIiksaT0wO2k8by5sZW5ndGg7aSsrKWlmKHQ9b1tpXS5zcGxpdCgiPSIpLG4ucHVzaCh0WzBdKSxuW3RbMF1dPXRbMV0sbnVsbCE9ZSYmdFswXT09PWUpcmV0dXJuIHRbMV07cmV0dXJuIG51bGwhPWU/bnVsbDpufSxpLmdldFZpZXdQb3J0PWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LHQ9ImlubmVyIjtyZXR1cm4iaW5uZXJXaWR0aCJpbiB3aW5kb3d8fCh0PSJjbGllbnQiLGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5KSx7d2lkdGg6ZVt0KyJXaWR0aCJdLGhlaWdodDplW3QrIkhlaWdodCJdfX0saS5wcmVwYXJlVG9wTWVudT1mdW5jdGlvbigpe3ZhciBlPSIubWVnYS1tZW51IGxpLCAudG9wLW1lbnUgbGkiO3ImJihzKCIubWVudS10aXRsZSIpLm9mZigiY2xpY2suc3NDb3JlIikscygiLnBsdXMtYnV0dG9uIikub2ZmKCJjbGljay5zc0NvcmUiKSxzKGUpLm9mZigibW91c2VlbnRlci5zc0NvcmUgbW91c2VsZWF2ZS5zc0NvcmUiKSxzKCIudG9wLW1lbnUiKS5yZW1vdmVBdHRyKCJzdHlsZSIpLHMoIi5zdWJsaXN0LXdyYXAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLHMoIi5wbHVzLWJ1dHRvbi5jbG9zZSIpLnJlbW92ZUNsYXNzKCJjbG9zZSIpLHMoIi5tZW51LXRpdGxlLmNsb3NlIikucmVtb3ZlQ2xhc3MoImNsb3NlIikpLHI9ITA7dmFyIHQ9d2luZG93LnRoZW1lU2V0dGluZ3MmJndpbmRvdy50aGVtZVNldHRpbmdzLnRoZW1lQnJlYWtwb2ludHx8OTgwLG49d2luZG93LnRoZW1lU2V0dGluZ3MmJndpbmRvdy50aGVtZVNldHRpbmdzLmlzQWNjb3JkaW9uTWVudXx8ITEsbz1pLmdldFZpZXdQb3J0KCkud2lkdGg7cygiLm1lbnUtdGl0bGUiKS5vbigiY2xpY2suc3NDb3JlIixmdW5jdGlvbigpe3ModGhpcykudG9nZ2xlQ2xhc3MoImNsb3NlIiwhcyh0aGlzKS5oYXNDbGFzcygiY2xvc2UiKSkscyh0aGlzKS5zaWJsaW5ncygiLnRvcC1tZW51LCAubWVnYS1tZW51LXJlc3BvbnNpdmUiKS5zbGlkZVRvZ2dsZSgiZmFzdCIsZnVuY3Rpb24oKXtzKHRoaXMpLmNzcygib3ZlcmZsb3ciLCIiKX0pLG58fHMoIi5oZWFkZXItbWVudSwgLnN1Ymxpc3Qtd3JhcCIpLnBlcmZlY3RTY3JvbGxiYXIoe3N3aXBlUHJvcGFnYXRpb246ITEsd2hlZWxTcGVlZDoxLHN1cHByZXNzU2Nyb2xsWDohMH0pfSkscygiLnBsdXMtYnV0dG9uIikub24oImNsaWNrLnNzQ29yZSIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTtlPXModGhpcyk7ZS50b2dnbGVDbGFzcygiY2xvc2UiLCFlLmhhc0NsYXNzKCJjbG9zZSIpKTt2YXIgdD1lLnNpYmxpbmdzKCIuc3VibGlzdC13cmFwIik7dC5oYXNDbGFzcygiYWN0aXZlIik/dC5yZW1vdmVDbGFzcygiYWN0aXZlIik6bj90LmFkZENsYXNzKCJhY3RpdmUiKTplLnBhcmVudHMoKS5lcSgyKS5hbmltYXRlKHtzY3JvbGxUb3A6MH0sMTgwLGZ1bmN0aW9uKCl7dC5hZGRDbGFzcygiYWN0aXZlIil9KSxufHxlLnBhcmVudHMoKS5lcSgyKS5wZXJmZWN0U2Nyb2xsYmFyKCJkZXN0cm95Iil9KSx0PG8/KHMoIi5zdWJsaXN0LXdyYXAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLHMoIi5wbHVzLWJ1dHRvbi5jbG9zZSIpLnJlbW92ZUNsYXNzKCJjbG9zZSIpLHMoZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0LG47InRydWUiPT09cyh0aGlzKS5wYXJlbnRzKCJ1bCIpLmxhc3QoKS5hdHRyKCJkYXRhLWVuYWJsZUNsaWNrRm9yRHJvcERvd24iKXx8cyh0aGlzKS5vbigibW91c2VlbnRlci5zc0NvcmUiLGZ1bmN0aW9uKCl7dmFyIGU9cyh0aGlzKTtjbGVhclRpbWVvdXQobiksdD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cygiYSIsZSkuZmlyc3QoKS5hZGRDbGFzcygiaG92ZXIiKSxzKCIuc3VibGlzdC13cmFwLCAuZHJvcGRvd24iLGUpLmZpcnN0KCkuYWRkQ2xhc3MoImFjdGl2ZSIpLHMoZG9jdW1lbnQpLnRyaWdnZXIoInNldmVuU3Bpa2VzTWVnYU1lbnVNb3VzZU92ZXJFdmVudCIpfSwxODApfSkub24oIm1vdXNlbGVhdmUuc3NDb3JlIixmdW5jdGlvbigpe3ZhciBlPXModGhpcyk7Y2xlYXJUaW1lb3V0KHQpLG49c2V0VGltZW91dChmdW5jdGlvbigpe3MoImEiLGUpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoImhvdmVyIikscygiLnN1Ymxpc3Qtd3JhcCwgLmRyb3Bkb3duIixlKS5maXJzdCgpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX0sMTgwKX0pfSkpOihzKGUpLm9mZigibW91c2VlbnRlci5zc0NvcmUgbW91c2VsZWF2ZS5zc0NvcmUiKSxzKCIuc3VibGlzdC13cmFwLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxzKCIucGx1cy1idXR0b24uY2xvc2UiKS5yZW1vdmVDbGFzcygiY2xvc2UiKSl9LGkubG9hZEltYWdlc09uU2Nyb2xsKCkscyhkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtzKGUpLm9uKCJsb2FkZWQiLGZ1bmN0aW9uKGUpe3MuZXZlbnQudHJpZ2dlcih7dHlwZToibmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50In0pfSl9KX0oalF1ZXJ5LHdpbmRvdy5zZXZlblNwaWtlc0NvcmU9d2luZG93LnNldmVuU3Bpa2VzQ29yZXx8e30sd2luZG93LkNhdGFsb2dQcm9kdWN0cz13aW5kb3cuQ2F0YWxvZ1Byb2R1Y3RzfHx7fSk7DQovKiEgalF1ZXJ5IEFkZHJlc3MgdiR7dmVyc2lvbn0gfCAoYykgMjAwOSwgMjAxMyBSb3N0aXNsYXYgSHJpc3RvdiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLw0KKGZ1bmN0aW9uICgkKSB7DQoNCiAgICAkLmFkZHJlc3MgPSAoZnVuY3Rpb24gKCkgew0KDQogICAgICAgIHZhciBfdHJpZ2dlciA9IGZ1bmN0aW9uIChuYW1lKSB7DQogICAgICAgICAgICB2YXIgZSA9ICQuZXh0ZW5kKCQuRXZlbnQobmFtZSksIChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7fSwNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyTmFtZXMgPSAkLmFkZHJlc3MucGFyYW1ldGVyTmFtZXMoKTsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcmFtZXRlck5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlck5hbWVzW2ldXSA9ICQuYWRkcmVzcy5wYXJhbWV0ZXIocGFyYW1ldGVyTmFtZXNbaV0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJC5hZGRyZXNzLnZhbHVlKCksDQogICAgICAgICAgICAgICAgICAgIHBhdGg6ICQuYWRkcmVzcy5wYXRoKCksDQogICAgICAgICAgICAgICAgICAgIHBhdGhOYW1lczogJC5hZGRyZXNzLnBhdGhOYW1lcygpLA0KICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJOYW1lczogcGFyYW1ldGVyTmFtZXMsDQogICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlcnMsDQogICAgICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nOiAkLmFkZHJlc3MucXVlcnlTdHJpbmcoKQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9KS5jYWxsKCQuYWRkcmVzcykpOw0KICAgICAgICAgICAgJCgkLmFkZHJlc3MpLnRyaWdnZXIoZSk7DQogICAgICAgICAgICByZXR1cm4gZTsNCiAgICAgICAgfSwNCiAgICAgICAgICAgIF9hcnJheSA9IGZ1bmN0aW9uIChvYmopIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfYmluZCA9IGZ1bmN0aW9uICh2YWx1ZSwgZGF0YSwgZm4pIHsNCiAgICAgICAgICAgICAgICAkKCkuYmluZC5hcHBseSgkKCQuYWRkcmVzcyksIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpOw0KICAgICAgICAgICAgICAgIHJldHVybiAkLmFkZHJlc3M7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgX3VuYmluZCA9IGZ1bmN0aW9uICh2YWx1ZSwgZm4pIHsNCiAgICAgICAgICAgICAgICAkKCkudW5iaW5kLmFwcGx5KCQoJC5hZGRyZXNzKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuICQuYWRkcmVzczsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfc3VwcG9ydHNTdGF0ZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gKF9oLnB1c2hTdGF0ZSAmJiBfb3B0cy5zdGF0ZSAhPT0gVU5ERUZJTkVEKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfaHJlZlN0YXRlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoJy8nICsgX2wucGF0aG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKF9vcHRzLnN0YXRlKSwgJycpICsNCiAgICAgICAgICAgICAgICAgICAgX2wuc2VhcmNoICsgKF9ocmVmSGFzaCgpID8gJyMnICsgX2hyZWZIYXNoKCkgOiAnJykpLnJlcGxhY2UoX3JlLCAnLycpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF9ocmVmSGFzaCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfbC5ocmVmLmluZGV4T2YoJyMnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggIT0gLTEgPyBfbC5ocmVmLnN1YnN0cihpbmRleCArIDEpIDogJyc7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgX2hyZWYgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBwb3J0c1N0YXRlKCkgPyBfaHJlZlN0YXRlKCkgOiBfaHJlZkhhc2goKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfd2luZG93ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3AuZG9jdW1lbnQgIT09IFVOREVGSU5FRCAmJiB0b3AuZG9jdW1lbnQudGl0bGUgIT09IFVOREVGSU5FRCAmJiB0b3AualF1ZXJ5ICE9PSBVTkRFRklORUQgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcC5qUXVlcnkuYWRkcmVzcyAhPT0gVU5ERUZJTkVEICYmIHRvcC5qUXVlcnkuYWRkcmVzcy5mcmFtZXMoKSAhPT0gZmFsc2UgPyB0b3AgOiB3aW5kb3c7DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfanMgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICdqYXZhc2NyaXB0JzsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfc3RyaWN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpOw0KICAgICAgICAgICAgICAgIHJldHVybiAoX29wdHMuc3RyaWN0ICYmIHZhbHVlLnN1YnN0cigwLCAxKSAhPSAnLycgPyAnLycgOiAnJykgKyB2YWx1ZTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfY3NzaW50ID0gZnVuY3Rpb24gKGVsLCB2YWx1ZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5jc3ModmFsdWUpLCAxMCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgX2xpc3RlbiA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoIV9zaWxlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSBfaHJlZigpLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IGRlY29kZVVSSShfdmFsdWUpICE9IGRlY29kZVVSSShoYXNoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfbXNpZSAmJiBfdmVyc2lvbiA8IDcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZWxvYWQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9tc2llICYmICFfaGFzaGNoYW5nZSAmJiBfb3B0cy5oaXN0b3J5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdChfaHRtbCwgNTApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBoYXNoOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91cGRhdGUoRkFMU0UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF91cGRhdGUgPSBmdW5jdGlvbiAoaW50ZXJuYWwpIHsNCiAgICAgICAgICAgICAgICBfc3QoX3RyYWNrLCAxMCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIF90cmlnZ2VyKENIQU5HRSkuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwNCiAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXIoaW50ZXJuYWwgPyBJTlRFUk5BTF9DSEFOR0UgOiBFWFRFUk5BTF9DSEFOR0UpLmlzRGVmYXVsdFByZXZlbnRlZCgpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF90cmFjayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoX29wdHMudHJhY2tlciAhPT0gJ251bGwnICYmIF9vcHRzLnRyYWNrZXIgIT09IE5VTEwpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gJC5pc0Z1bmN0aW9uKF9vcHRzLnRyYWNrZXIpID8gX29wdHMudHJhY2tlciA6IF90W19vcHRzLnRyYWNrZXJdLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoX2wucGF0aG5hbWUgKyBfbC5zZWFyY2ggKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICgkLmFkZHJlc3MgJiYgIV9zdXBwb3J0c1N0YXRlKCkgPyAkLmFkZHJlc3MudmFsdWUoKSA6ICcnKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXC9cLy8sICcvJykucmVwbGFjZSgvXlwvJC8sICcnKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihmbikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZuKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oX3QudXJjaGluVHJhY2tlcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdC51cmNoaW5UcmFja2VyKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdC5wYWdlVHJhY2tlciAhPT0gVU5ERUZJTkVEICYmICQuaXNGdW5jdGlvbihfdC5wYWdlVHJhY2tlci5fdHJhY2tQYWdldmlldykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdC5wYWdlVHJhY2tlci5fdHJhY2tQYWdldmlldyh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3QuX2dhcSAhPT0gVU5ERUZJTkVEICYmICQuaXNGdW5jdGlvbihfdC5fZ2FxLnB1c2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3QuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnLCBkZWNvZGVVUkkodmFsdWUpXSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKF90LmdhKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90LmdhKCdzZW5kJywgJ3BhZ2V2aWV3JywgdmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF9odG1sID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZhciBzcmMgPSBfanMoKSArICc6JyArIEZBTFNFICsgJztkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQud3JpdGVsbihcJzxodG1sPjxoZWFkPjx0aXRsZT4nICsNCiAgICAgICAgICAgICAgICAgICAgX2QudGl0bGUucmVwbGFjZSgvXCcvZywgJ1xcXCcnKSArICc8L3RpdGxlPjxzY3JpcHQ+dmFyICcgKyBJRCArICcgPSAiJyArIGVuY29kZVVSSUNvbXBvbmVudChfaHJlZigpKS5yZXBsYWNlKC9cJy9nLCAnXFxcJycpICsNCiAgICAgICAgICAgICAgICAgICAgKF9kLmRvbWFpbiAhPSBfbC5ob3N0bmFtZSA/ICciO2RvY3VtZW50LmRvbWFpbj0iJyArIF9kLmRvbWFpbiA6ICcnKSArDQogICAgICAgICAgICAgICAgICAgICciOzwvJyArICdzY3JpcHQ+PC9oZWFkPjwvaHRtbD5cJyk7ZG9jdW1lbnQuY2xvc2UoKTsnOw0KICAgICAgICAgICAgICAgIGlmIChfdmVyc2lvbiA8IDcpIHsNCiAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLnNyYyA9IHNyYzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBfZnJhbWUuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHNyYyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF9vcHRpb25zID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmIChfdXJsICYmIF9xaSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaSwgcGFyYW0sIHBhcmFtcyA9IF91cmwuc3Vic3RyKF9xaSArIDEpLnNwbGl0KCcmJyk7DQogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtID0gcGFyYW1zW2ldLnNwbGl0KCc9Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14oYXV0b1VwZGF0ZXxoaXN0b3J5fHN0cmljdHx3cmFwKSQvLnRlc3QocGFyYW1bMF0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wdHNbcGFyYW1bMF1dID0gKGlzTmFOKHBhcmFtWzFdKSA/IC9eKHRydWV8eWVzKSQvaS50ZXN0KHBhcmFtWzFdKSA6IChwYXJzZUludChwYXJhbVsxXSwgMTApICE9PSAwKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14oc3RhdGV8dHJhY2tlcikkLy50ZXN0KHBhcmFtWzBdKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcHRzW3BhcmFtWzBdXSA9IHBhcmFtWzFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIF91cmwgPSBOVUxMOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBfdmFsdWUgPSBfaHJlZigpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF9sb2FkID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmICghX2xvYWRlZCkgew0KICAgICAgICAgICAgICAgICAgICBfbG9hZGVkID0gVFJVRTsNCiAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMoKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnYVtyZWwqPSJhZGRyZXNzOiJdJykuYWRkcmVzcygpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMud3JhcCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSAkKCdib2R5JyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcCA9ICQoJ2JvZHkgPiAqJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndyYXBBbGwoJzxkaXYgc3R5bGU9InBhZGRpbmc6JyArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2Nzc2ludChib2R5LCAnbWFyZ2luVG9wJykgKyBfY3NzaW50KGJvZHksICdwYWRkaW5nVG9wJykpICsgJ3B4ICcgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jc3NpbnQoYm9keSwgJ21hcmdpblJpZ2h0JykgKyBfY3NzaW50KGJvZHksICdwYWRkaW5nUmlnaHQnKSkgKyAncHggJyArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2Nzc2ludChib2R5LCAnbWFyZ2luQm90dG9tJykgKyBfY3NzaW50KGJvZHksICdwYWRkaW5nQm90dG9tJykpICsgJ3B4ICcgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jc3NpbnQoYm9keSwgJ21hcmdpbkxlZnQnKSArIF9jc3NpbnQoYm9keSwgJ3BhZGRpbmdMZWZ0JykpICsgJ3B4OyIgLz4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndyYXAoJzxkaXYgaWQ9IicgKyBJRCArICciIHN0eWxlPSJoZWlnaHQ6MTAwJTtvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlOycgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF93ZWJraXQgJiYgIXdpbmRvdy5zdGF0dXNiYXIudmlzaWJsZSA/ICdyZXNpemU6Ym90aDsnIDogJycpICsgJyIgLz4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jc3Moew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2Via2l0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHN0eWxlIHR5cGU9InRleHQvY3NzIiAvPicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygnaGVhZCcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCcjJyArIElEICsgJzo6LXdlYmtpdC1yZXNpemVyIHsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChfbXNpZSAmJiAhX2hhc2hjaGFuZ2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmFtZXNldCA9IF9kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmcmFtZXNldCcpWzBdOw0KICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lID0gX2QuY3JlYXRlRWxlbWVudCgoZnJhbWVzZXQgPyAnJyA6ICdpJykgKyAnZnJhbWUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5zcmMgPSBfanMoKSArICc6JyArIEZBTFNFOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYW1lc2V0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVzZXQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVFbmQnLCBfZnJhbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lc2V0W2ZyYW1lc2V0LmNvbHMgPyAnY29scycgOiAncm93cyddICs9ICcsMCc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLm5vUmVzaXplID0gVFJVRTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuZnJhbWVCb3JkZXIgPSBfZnJhbWUuZnJhbWVTcGFjaW5nID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLnN0eWxlLndpZHRoID0gX2ZyYW1lLnN0eWxlLmhlaWdodCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLnRhYkluZGV4ID0gLTE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyQmVnaW4nLCBfZnJhbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgX3N0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKF9mcmFtZSkuYmluZCgnbG9hZCcsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbiA9IF9mcmFtZS5jb250ZW50V2luZG93Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSB3aW5bSURdICE9PSBVTkRFRklORUQgPyB3aW5bSURdIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdmFsdWUgIT0gX2hyZWYoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZShGQUxTRSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5oYXNoID0gX3ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9mcmFtZS5jb250ZW50V2luZG93W0lEXSA9PT0gVU5ERUZJTkVEKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9odG1sKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBfdHJpZ2dlcignaW5pdCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZShGQUxTRSk7DQogICAgICAgICAgICAgICAgICAgIH0sIDEpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIV9zdXBwb3J0c1N0YXRlKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX21zaWUgJiYgX3ZlcnNpb24gPiA3KSB8fCAoIV9tc2llICYmIF9oYXNoY2hhbmdlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdC5hZGRFdmVudExpc3RlbmVyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90LmFkZEV2ZW50TGlzdGVuZXIoSEFTSF9DSEFOR0UsIF9saXN0ZW4sIEZBTFNFKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90LmF0dGFjaEV2ZW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90LmF0dGFjaEV2ZW50KCdvbicgKyBIQVNIX0NIQU5HRSwgX2xpc3Rlbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2koX2xpc3RlbiwgNTApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICgnc3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykudHJpZ2dlcigncG9wc3RhdGUnKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfcG9wc3RhdGUgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYgKGRlY29kZVVSSShfdmFsdWUpICE9IGRlY29kZVVSSShfaHJlZigpKSkgew0KICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBfaHJlZigpOw0KICAgICAgICAgICAgICAgICAgICBfdXBkYXRlKEZBTFNFKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgX3VubG9hZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoX3QucmVtb3ZlRXZlbnRMaXN0ZW5lcikgew0KICAgICAgICAgICAgICAgICAgICBfdC5yZW1vdmVFdmVudExpc3RlbmVyKEhBU0hfQ0hBTkdFLCBfbGlzdGVuLCBGQUxTRSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdC5kZXRhY2hFdmVudCkgew0KICAgICAgICAgICAgICAgICAgICBfdC5kZXRhY2hFdmVudCgnb24nICsgSEFTSF9DSEFOR0UsIF9saXN0ZW4pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBfdWFNYXRjaCA9IGZ1bmN0aW9uICh1YSkgew0KICAgICAgICAgICAgICAgIHVhID0gdWEudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSAvKGNocm9tZSlbIFwvXShbXHcuXSspLy5leGVjKHVhKSB8fA0KICAgICAgICAgICAgICAgICAgICAvKHdlYmtpdClbIFwvXShbXHcuXSspLy5leGVjKHVhKSB8fA0KICAgICAgICAgICAgICAgICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS8uZXhlYyh1YSkgfHwNCiAgICAgICAgICAgICAgICAgICAgLyhtc2llKSAoW1x3Ll0rKS8uZXhlYyh1YSkgfHwNCiAgICAgICAgICAgICAgICAgICAgdWEuaW5kZXhPZignY29tcGF0aWJsZScpIDwgMCAmJiAvKG1vemlsbGEpKD86Lio/IHJ2OihbXHcuXSspfCkvLmV4ZWModWEpIHx8DQogICAgICAgICAgICAgICAgICAgIFtdOw0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIGJyb3dzZXI6IG1hdGNoWzFdIHx8ICcnLA0KICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBtYXRjaFsyXSB8fCAnMCcNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF9kZXRlY3RCcm93c2VyID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZhciBicm93c2VyID0ge30sDQogICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBfdWFNYXRjaChuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZC5icm93c2VyKSB7DQogICAgICAgICAgICAgICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5icm93c2VyXSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIudmVyc2lvbiA9IG1hdGNoZWQudmVyc2lvbjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuY2hyb21lKSB7DQogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIud2Via2l0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXIud2Via2l0KSB7DQogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIuc2FmYXJpID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXI7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgVU5ERUZJTkVELA0KICAgICAgICAgICAgTlVMTCA9IG51bGwsDQogICAgICAgICAgICBJRCA9ICdqUXVlcnlBZGRyZXNzJywNCiAgICAgICAgICAgIFNUUklORyA9ICdzdHJpbmcnLA0KICAgICAgICAgICAgSEFTSF9DSEFOR0UgPSAnaGFzaGNoYW5nZScsDQogICAgICAgICAgICBJTklUID0gJ2luaXQnLA0KICAgICAgICAgICAgQ0hBTkdFID0gJ2NoYW5nZScsDQogICAgICAgICAgICBJTlRFUk5BTF9DSEFOR0UgPSAnaW50ZXJuYWxDaGFuZ2UnLA0KICAgICAgICAgICAgRVhURVJOQUxfQ0hBTkdFID0gJ2V4dGVybmFsQ2hhbmdlJywNCiAgICAgICAgICAgIFRSVUUgPSB0cnVlLA0KICAgICAgICAgICAgRkFMU0UgPSBmYWxzZSwNCiAgICAgICAgICAgIF9vcHRzID0gew0KICAgICAgICAgICAgICAgIGF1dG9VcGRhdGU6IFRSVUUsDQogICAgICAgICAgICAgICAgaGlzdG9yeTogVFJVRSwNCiAgICAgICAgICAgICAgICBzdHJpY3Q6IFRSVUUsDQogICAgICAgICAgICAgICAgZnJhbWVzOiBUUlVFLA0KICAgICAgICAgICAgICAgIHdyYXA6IEZBTFNFDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgX2Jyb3dzZXIgPSBfZGV0ZWN0QnJvd3NlcigpLA0KICAgICAgICAgICAgX3ZlcnNpb24gPSBwYXJzZUZsb2F0KF9icm93c2VyLnZlcnNpb24pLA0KICAgICAgICAgICAgX3dlYmtpdCA9IF9icm93c2VyLndlYmtpdCB8fCBfYnJvd3Nlci5zYWZhcmksDQogICAgICAgICAgICBfbXNpZSA9IF9icm93c2VyLm1zaWUsDQogICAgICAgICAgICBfdCA9IF93aW5kb3coKSwNCiAgICAgICAgICAgIF9kID0gX3QuZG9jdW1lbnQsDQogICAgICAgICAgICBfaCA9IF90Lmhpc3RvcnksDQogICAgICAgICAgICBfbCA9IF90LmxvY2F0aW9uLA0KICAgICAgICAgICAgX3NpID0gc2V0SW50ZXJ2YWwsDQogICAgICAgICAgICBfc3QgPSBzZXRUaW1lb3V0LA0KICAgICAgICAgICAgX3JlID0gL1wvezIsOX0vZywNCiAgICAgICAgICAgIF9hZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQsDQogICAgICAgICAgICBfaGFzaGNoYW5nZSA9ICdvbicgKyBIQVNIX0NIQU5HRSBpbiBfdCwNCiAgICAgICAgICAgIF9mcmFtZSwNCiAgICAgICAgICAgIF9mb3JtLA0KICAgICAgICAgICAgX3VybCA9ICQoJ3NjcmlwdDpsYXN0JykuYXR0cignc3JjJyksDQogICAgICAgICAgICBfcWkgPSBfdXJsID8gX3VybC5pbmRleE9mKCc/JykgOiAtMSwNCiAgICAgICAgICAgIF90aXRsZSA9IF9kLnRpdGxlLA0KICAgICAgICAgICAgX3NpbGVudCA9IEZBTFNFLA0KICAgICAgICAgICAgX2xvYWRlZCA9IEZBTFNFLA0KICAgICAgICAgICAgX2p1c3RzdGFydCA9IFRSVUUsDQogICAgICAgICAgICBfdXBkYXRpbmcgPSBGQUxTRSwNCiAgICAgICAgICAgIF9saXN0ZW5lcnMgPSB7fSwNCiAgICAgICAgICAgIF92YWx1ZSA9IF9ocmVmKCk7DQoNCiAgICAgICAgaWYgKF9tc2llKSB7DQogICAgICAgICAgICBfdmVyc2lvbiA9IHBhcnNlRmxvYXQoX2FnZW50LnN1YnN0cihfYWdlbnQuaW5kZXhPZignTVNJRScpICsgNCkpOw0KICAgICAgICAgICAgaWYgKF9kLmRvY3VtZW50TW9kZSAmJiBfZC5kb2N1bWVudE1vZGUgIT0gX3ZlcnNpb24pIHsNCiAgICAgICAgICAgICAgICBfdmVyc2lvbiA9IF9kLmRvY3VtZW50TW9kZSAhPSA4ID8gNyA6IDg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgcGMgPSBfZC5vbnByb3BlcnR5Y2hhbmdlOw0KICAgICAgICAgICAgX2Qub25wcm9wZXJ0eWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAocGMpIHsNCiAgICAgICAgICAgICAgICAgICAgcGMuY2FsbChfZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChfZC50aXRsZSAhPSBfdGl0bGUgJiYgX2QudGl0bGUuaW5kZXhPZignIycgKyBfaHJlZigpKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICBfZC50aXRsZSA9IF90aXRsZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKF9oLm5hdmlnYXRpb25Nb2RlKSB7DQogICAgICAgICAgICBfaC5uYXZpZ2F0aW9uTW9kZSA9ICdjb21wYXRpYmxlJzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSB7DQogICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYgKCQuYWRkcmVzcykgew0KICAgICAgICAgICAgICAgICAgICBfbG9hZCgpOw0KICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCA1MCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBfb3B0aW9ucygpOw0KICAgICAgICAgICAgJChfbG9hZCk7DQogICAgICAgIH0NCiAgICAgICAgJCh3aW5kb3cpLmJpbmQoJ3BvcHN0YXRlJywgX3BvcHN0YXRlKS5iaW5kKCd1bmxvYWQnLCBfdW5sb2FkKTsNCg0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgYmluZDogZnVuY3Rpb24gKHR5cGUsIGRhdGEsIGZuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIF9iaW5kLmFwcGx5KHRoaXMsIF9hcnJheShhcmd1bWVudHMpKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1bmJpbmQ6IGZ1bmN0aW9uICh0eXBlLCBmbikgew0KICAgICAgICAgICAgICAgIHJldHVybiBfdW5iaW5kLmFwcGx5KHRoaXMsIF9hcnJheShhcmd1bWVudHMpKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoZGF0YSwgZm4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gX2JpbmQuYXBwbHkodGhpcywgW0lOSVRdLmNvbmNhdChfYXJyYXkoYXJndW1lbnRzKSkpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKGRhdGEsIGZuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIF9iaW5kLmFwcGx5KHRoaXMsIFtDSEFOR0VdLmNvbmNhdChfYXJyYXkoYXJndW1lbnRzKSkpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGludGVybmFsQ2hhbmdlOiBmdW5jdGlvbiAoZGF0YSwgZm4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gX2JpbmQuYXBwbHkodGhpcywgW0lOVEVSTkFMX0NIQU5HRV0uY29uY2F0KF9hcnJheShhcmd1bWVudHMpKSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXh0ZXJuYWxDaGFuZ2U6IGZ1bmN0aW9uIChkYXRhLCBmbikgew0KICAgICAgICAgICAgICAgIHJldHVybiBfYmluZC5hcHBseSh0aGlzLCBbRVhURVJOQUxfQ0hBTkdFXS5jb25jYXQoX2FycmF5KGFyZ3VtZW50cykpKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBiYXNlVVJMOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9IF9sLmhyZWY7DQogICAgICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCcjJykgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cigwLCB1cmwuaW5kZXhPZignIycpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKC9cLyQvLnRlc3QodXJsKSkgew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyKDAsIHVybC5sZW5ndGggLSAxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBhdXRvVXBkYXRlOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkgew0KICAgICAgICAgICAgICAgICAgICBfb3B0cy5hdXRvVXBkYXRlID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMuYXV0b1VwZGF0ZTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBoaXN0b3J5OiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkgew0KICAgICAgICAgICAgICAgICAgICBfb3B0cy5oaXN0b3J5ID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMuaGlzdG9yeTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzdGF0ZTogZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHsNCiAgICAgICAgICAgICAgICAgICAgX29wdHMuc3RhdGUgPSB2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGhyZWZTdGF0ZSA9IF9ocmVmU3RhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRzLnN0YXRlICE9PSBVTkRFRklORUQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaC5wdXNoU3RhdGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZlN0YXRlLnN1YnN0cigwLCAzKSA9PSAnLyMvJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZXBsYWNlKF9vcHRzLnN0YXRlLnJlcGxhY2UoL15cLyQvLCAnJykgKyBocmVmU3RhdGUuc3Vic3RyKDIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhyZWZTdGF0ZSAhPSAnLycgJiYgaHJlZlN0YXRlLnJlcGxhY2UoL15cLyMvLCAnJykgIT0gX2hyZWZIYXNoKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3QoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZXBsYWNlKF9vcHRzLnN0YXRlLnJlcGxhY2UoL15cLyQvLCAnJykgKyAnLyMnICsgaHJlZlN0YXRlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRzLnN0YXRlOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZyYW1lczogZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHsNCiAgICAgICAgICAgICAgICAgICAgX29wdHMuZnJhbWVzID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgIF90ID0gX3dpbmRvdygpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRzLmZyYW1lczsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzdHJpY3Q6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7DQogICAgICAgICAgICAgICAgICAgIF9vcHRzLnN0cmljdCA9IHZhbHVlOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRzLnN0cmljdDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0cmFja2VyOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkgew0KICAgICAgICAgICAgICAgICAgICBfb3B0cy50cmFja2VyID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMudHJhY2tlcjsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB3cmFwOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkgew0KICAgICAgICAgICAgICAgICAgICBfb3B0cy53cmFwID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMud3JhcDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBfdXBkYXRpbmcgPSBUUlVFOw0KICAgICAgICAgICAgICAgIHRoaXMudmFsdWUoX3ZhbHVlKTsNCiAgICAgICAgICAgICAgICBfdXBkYXRpbmcgPSBGQUxTRTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0aXRsZTogZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHsNCiAgICAgICAgICAgICAgICAgICAgX3N0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF90aXRsZSA9IF9kLnRpdGxlID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2p1c3RzdGFydCAmJiBfZnJhbWUgJiYgX2ZyYW1lLmNvbnRlbnRXaW5kb3cgJiYgX2ZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC50aXRsZSA9IHZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qdXN0c3RhcnQgPSBGQUxTRTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwgNTApOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIF9kLnRpdGxlOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkgew0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9zdHJpY3QodmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gJy8nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChfdmFsdWUgPT0gdmFsdWUgJiYgIV91cGRhdGluZykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIF92YWx1ZSA9IHZhbHVlOw0KICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMuYXV0b1VwZGF0ZSB8fCBfdXBkYXRpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdXBkYXRlKFRSVUUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3N1cHBvcnRzU3RhdGUoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oW19vcHRzLmhpc3RvcnkgPyAncHVzaFN0YXRlJyA6ICdyZXBsYWNlU3RhdGUnXSh7fSwgJycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcHRzLnN0YXRlLnJlcGxhY2UoL1wvJC8sICcnKSArIChfdmFsdWUgPT09ICcnID8gJy8nIDogX3ZhbHVlKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaWxlbnQgPSBUUlVFOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2Via2l0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfb3B0cy5oaXN0b3J5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5oYXNoID0gJyMnICsgX3ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2wucmVwbGFjZSgnIycgKyBfdmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdmFsdWUgIT0gX2hyZWYoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMuaGlzdG9yeSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2wuaGFzaCA9ICcjJyArIF92YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLnJlcGxhY2UoJyMnICsgX3ZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9tc2llICYmICFfaGFzaGNoYW5nZSkgJiYgX29wdHMuaGlzdG9yeSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3QoX2h0bWwsIDUwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93ZWJraXQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0KGZ1bmN0aW9uICgpIHsgX3NpbGVudCA9IEZBTFNFOyB9LCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2lsZW50ID0gRkFMU0U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gX3N0cmljdChfdmFsdWUpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHBhdGg6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBxcyA9IHRoaXMucXVlcnlTdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggPSB0aGlzLmhhc2goKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSh2YWx1ZSArIChxcyA/ICc/JyArIHFzIDogJycpICsgKGhhc2ggPyAnIycgKyBoYXNoIDogJycpKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBfc3RyaWN0KF92YWx1ZSkuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHBhdGhOYW1lczogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5wYXRoKCksDQogICAgICAgICAgICAgICAgICAgIG5hbWVzID0gcGF0aC5yZXBsYWNlKF9yZSwgJy8nKS5zcGxpdCgnLycpOw0KICAgICAgICAgICAgICAgIGlmIChwYXRoLnN1YnN0cigwLCAxKSA9PSAnLycgfHwgcGF0aC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaWNlKDAsIDEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAocGF0aC5zdWJzdHIocGF0aC5sZW5ndGggLSAxLCAxKSA9PSAnLycpIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZXM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcXVlcnlTdHJpbmc6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBoYXNoID0gdGhpcy5oYXNoKCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUodGhpcy5wYXRoKCkgKyAodmFsdWUgPyAnPycgKyB2YWx1ZSA6ICcnKSArIChoYXNoID8gJyMnICsgaGFzaCA6ICcnKSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgYXJyID0gX3ZhbHVlLnNwbGl0KCc/Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFyci5zbGljZSgxLCBhcnIubGVuZ3RoKS5qb2luKCc/Jykuc3BsaXQoJyMnKVswXTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwYXJhbWV0ZXI6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgYXBwZW5kKSB7DQogICAgICAgICAgICAgICAgdmFyIGksIHBhcmFtczsNCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXMgPSB0aGlzLnBhcmFtZXRlck5hbWVzKCk7DQogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSBVTkRFRklORUQgfHwgdmFsdWUgPT09IE5VTEwgPyAnJyA6IHZhbHVlLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBuYW1lc1tpXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gdGhpcy5wYXJhbWV0ZXIobik7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gU1RSSU5HKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IFt2XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID09IG5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gKHZhbHVlID09PSBOVUxMIHx8IHZhbHVlID09PSAnJykgPyBbXSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhcHBlbmQgPyB2LmNvbmNhdChbdmFsdWVdKSA6IFt2YWx1ZV0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2Lmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnB1c2gobiArICc9JyArIHZbal0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICgkLmluQXJyYXkobmFtZSwgbmFtZXMpID09IC0xICYmIHZhbHVlICE9PSBOVUxMICYmIHZhbHVlICE9PSAnJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnB1c2gobmFtZSArICc9JyArIHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5U3RyaW5nKHBhcmFtcy5qb2luKCcmJykpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnF1ZXJ5U3RyaW5nKCk7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciByID0gW107DQogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlLnNwbGl0KCcmJyk7DQogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gcGFyYW1zW2ldLnNwbGl0KCc9Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocFswXSA9PSBuYW1lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgci5wdXNoKHAuc2xpY2UoMSkuam9pbignPScpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoci5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmxlbmd0aCAhPSAxID8gciA6IHJbMF07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcGFyYW1ldGVyTmFtZXM6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB2YXIgcXMgPSB0aGlzLnF1ZXJ5U3RyaW5nKCksDQogICAgICAgICAgICAgICAgICAgIG5hbWVzID0gW107DQogICAgICAgICAgICAgICAgaWYgKHFzICYmIHFzLmluZGV4T2YoJz0nKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gcXMuc3BsaXQoJyYnKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gcGFyYW1zW2ldLnNwbGl0KCc9JylbMF07DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5pbkFycmF5KG5hbWUsIG5hbWVzKSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2gobmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVzOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGhhc2g6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUoX3ZhbHVlLnNwbGl0KCcjJylbMF0gKyAodmFsdWUgPyAnIycgKyB2YWx1ZSA6ICcnKSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgYXJyID0gX3ZhbHVlLnNwbGl0KCcjJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFyci5zbGljZSgxLCBhcnIubGVuZ3RoKS5qb2luKCcjJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgfSkoKTsNCg0KICAgICQuZm4uYWRkcmVzcyA9IGZ1bmN0aW9uIChmbikgew0KICAgICAgICAkKHRoaXMpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7DQogICAgICAgICAgICBpZiAoISQodGhpcykuZGF0YSgnYWRkcmVzcycpKSB7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUud2hpY2ggPT0gMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGFyZ2V0KS5pcygnYScpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBmbiA/IGZuLmNhbGwodGFyZ2V0KSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgL2FkZHJlc3M6Ly50ZXN0KCQodGFyZ2V0KS5hdHRyKCdyZWwnKSkgPyAkKHRhcmdldCkuYXR0cigncmVsJykuc3BsaXQoJ2FkZHJlc3M6JylbMV0uc3BsaXQoJyAnKVswXSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWRkcmVzcy5zdGF0ZSgpICE9PSB1bmRlZmluZWQgJiYgIS9eXC8/JC8udGVzdCgkLmFkZHJlc3Muc3RhdGUoKSkgPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14oLionICsgJC5hZGRyZXNzLnN0YXRlKCkgKyAnfFxcLiknKSwgJycpIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGFyZ2V0KS5hdHRyKCdocmVmJykucmVwbGFjZSgvXigjXCE/fFwuKS8sICcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQuYWRkcmVzcy52YWx1ZSh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGFyZ2V0KS5pcygnZm9ybScpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gJCh0YXJnZXQpLmF0dHIoJ2FjdGlvbicpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZm4gPyBmbi5jYWxsKHRhcmdldCkgOiAoYWN0aW9uLmluZGV4T2YoJz8nKSAhPSAtMSA/IGFjdGlvbi5yZXBsYWNlKC8mJC8sICcnKSA6IGFjdGlvbiArICc/JykgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkuc2VyaWFsaXplKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAkLmFkZHJlc3MudmFsdWUodmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkuZGF0YSgnYWRkcmVzcycsIHRydWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgfTsNCg0KfSkoalF1ZXJ5KTsNCnZhciBBamF4RmlsdGVyc0hpc3RvcnlTdGF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbj1oaXN0b3J5LnN0YXRlP2hpc3Rvcnkuc3RhdGU6bn1mdW5jdGlvbiB1KCl7c3RhdGVPYmo9e307aGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGVPYmosIiIsd2luZG93LmxvY2F0aW9uLmhyZWYpfWZ1bmN0aW9uIGYobil7biYmIWlzTmFOKG4pJiZpKCJzY3JvbGxQb3NpdGlvbiIsbil9ZnVuY3Rpb24gZShuKXtuJiYhaXNOYU4obikmJmkoInZpc2libGVQYWdlIixuKX1mdW5jdGlvbiBpKG4saSl7c3RhdGVPYmo9dCgpO3N0YXRlT2JqW25dPWk7aGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGVPYmosIiIsd2luZG93LmxvY2F0aW9uLmhyZWYpfXZhciByPXtzdGF0ZTp0LHJlc2V0U3RhdGU6dSxzZXRTY3JvbGxQb3NpdGlvbjpmLHNldFZpc2libGVQYWdlOmV9LG49e307cmV0dXJuIHJ9LGFqYXhGaWx0ZXJzSGlzdG9yeT1uZXcgQWpheEZpbHRlcnNIaXN0b3J5U3RhdGU7DQpGaWx0ZXJzTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMuaXNPblNlYXJjaFBhZ2U9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtaXNvbnNlYXJjaHBhZ2UiKSx0aGlzLmtleXdvcmQ9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2VhcmNoa2V5d29yZCIpLHRoaXMuc2VhcmNoQ2F0ZWdvcnlJZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2hjYXRlZ29yeWlkIiksdGhpcy5zZWFyY2hNYW51ZmFjdHVyZXJJZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2htYW51ZmFjdHVyZXJpZCIpLHRoaXMuc2VhcmNoVmVuZG9ySWQ9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2VhcmNodmVuZG9yaWQiKSx0aGlzLnByaWNlRnJvbT0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2hwcmljZWZyb20iKSx0aGlzLnByaWNlVG89JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2VhcmNocHJpY2V0byIpLHRoaXMuaW5jbHVkZVN1YmNhdGVnb3JpZXM9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2VhcmNoaW5jbHVkZXN1YmNhdGVnb3JpZXMiKSx0aGlzLnNlYXJjaEluUHJvZHVjdERlc2NyaXB0aW9ucz0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2hpbnByb2R1Y3RkZXNjcmlwdGlvbnMiKSx0aGlzLmFkdmFuY2VkU2VhcmNoPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNlYXJjaGFkdmFuY2Vkc2VhcmNoIiksdGhpcy5pc1J0bD0idHJ1ZSI9PT0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1pc1JUTCIpLHRoaXMuY2F0ZWdvcnlJZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1jYXRlZ29yeUlkIiksdGhpcy5tYW51ZmFjdHVyZXJJZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1tYW51ZmFjdHVyZXJJZCIpLHRoaXMudmVuZG9ySWQ9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtdmVuZG9ySWQiKSx0aGlzLmdldEZpbHRlcmVkUHJvZHVjdHNVcmw9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtZ2V0RmlsdGVyZWRQcm9kdWN0c1VybCIpLHRoaXMuZmlsdGVyc1VJTW9kZT0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1maWx0ZXJzVUlNb2RlIiksdGhpcy5maWx0ZXJzVUlNb2RlRW51bT17dXNlckNoZWNrYm94ZXM6InVzZWNoZWNrYm94ZXMiLHVzZURyb3BEb3duczoidXNlZHJvcGRvd25zIn0sdGhpcy5zZWxlY3RlZEZpbHRlckdyb3VwRWxlbWVudD12b2lkIDAsdGhpcy5zZWxlY3RlZEZpbHRlck9wdGlvbkVsZW1lbnQ9dm9pZCAwLHRoaXMuaXNQcm9kdWN0UmVmcmVzaFRyaWdnZXJlZEJ5U2Nyb2xsPSExfSxmdW5jdGlvbihtLFAseCl7dmFyIGk9MCxhPTEsbz0yLGw9MztmdW5jdGlvbiBrKCl7cmV0dXJuInRydWUiPT09bSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtZW5hYmxlaW5maW5pdGVzY3JvbGwiKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHMoZSx0KXttKGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1tKHRoaXMpO2UuaXMoInNlbGVjdCIpJiZlLnZhbCgpIT09dCYmKGUudmFsKHQpLmF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0IiwidHJ1ZSIpLGUuY2hhbmdlKCkpfSl9ZnVuY3Rpb24gdChlKXtpZigwPG0oZSkubGVuZ3RoKXJldHVybiBlO3ZhciB0PWUuc2xpY2UoMSk7cmV0dXJuIiMiPT09ZS5zdWJzdHJpbmcoMCwxKT8iLiIrdDoiLiI9PT1lLnN1YnN0cmluZygwLDEpPyIjIit0OmV9ZnVuY3Rpb24gbigpe3JldHVybiB0KG0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXZpZXdPcHRpb25zRHJvcERvd25TZWxlY3RvciIpfHwiLnByb2R1Y3RzLXZpZXdtb2RlLCAudmlld21vZGUtaWNvbiIpfXZhciBwPSJub3A3U3Bpa2VzQWpheEZpbHRlcnNHcmlkIjtmdW5jdGlvbiB5KGUpeyEwPT09ZS5oYXNDbGFzcygiY2xvc2VkIik/ZS5yZW1vdmVDbGFzcygiY2xvc2VkIik6ZS5hZGRDbGFzcygiY2xvc2VkIiksZS5wYXJlbnQoKS5zaWJsaW5ncygiLmZpbHRlcnNHcm91cFBhbmVsIikuc2xpZGVUb2dnbGUoInNsb3ciLGZ1bmN0aW9uKCl7bSh0aGlzKS5jc3MoIm92ZXJmbG93IiwiIil9KX1mdW5jdGlvbiBiKCl7dmFyIGU9bigpLGU9bShlKS5maWx0ZXIoIi5zZWxlY3RlZCIpO3JldHVybiAwPGUubGVuZ3RoP2UuYXR0cigiZGF0YS1kcm9wZG93bm9wdGlvbnZhbHVlIik6bSgiLnZpZXdPcHRpb25zRHJvcERvd24iKS5hdHRyKCJkYXRhLURyb3BEb3duT3B0aW9uc1NlbGVjdGVkVmFsdWUiKXx8bSgiLnZpZXdPcHRpb25zRHJvcERvd24iKS52YWwoKXx8bnVsbH1mdW5jdGlvbiBkKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciB0PW0oZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCJkYXRhLXBhZ2VOdW1iZXIiKTtudWxsIT1lLmRhdGEmJm51bGwhPWUuZGF0YS5maWx0ZXJzTWFuYWdlciYmZS5kYXRhLmZpbHRlcnNNYW5hZ2VyLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycyh2b2lkIDAsdm9pZCAwLHQsdm9pZCAwLHZvaWQgMCwhMCl9ZnVuY3Rpb24gYygpe3ZhciBlPW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXByb2R1Y3RzR3JpZFBhbmVsU2VsZWN0b3IiKSsiLCIrbSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtUHJvZHVjdHNMaXN0UGFuZWxTZWxlY3RvciIpO3JldHVybiBtKCIubWFzdGVyLXdyYXBwZXItcGFnZSAiK2UpLm5vdCgiLmZlYXR1cmVkLXByb2R1Y3QtZ3JpZCwgLm5vcC1qY2Fyb3VzZWwiKS5sYXN0KCl9ZnVuY3Rpb24gdSgpe3ZhciBlLHQscixpPW0oIi5wYWdlciAubmV4dC1wYWdlID4gYSIpLmZpcnN0KCk7MCE9PWkubGVuZ3RoPzAhPT0oZT1jKCkpLmxlbmd0aCYmKHQ9bSh3aW5kb3cpLm91dGVySGVpZ2h0KCkscj1tKHdpbmRvdykuc2Nyb2xsVG9wKCksZS5pbm5lckhlaWdodCgpK2Uub2Zmc2V0KCkudG9wPHQrciYmKG0oIi5pbmZpbml0ZS1zY3JvbGwtbG9hZGVyIikuc2hvdygpLHI9bmV3IHgsaT1wYXJzZUludChpLmF0dHIoImRhdGEtcGFnZU51bWJlciIpKSxyLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycyh2b2lkIDAsdm9pZCAwLGksdm9pZCAwLHZvaWQgMCwhMCwhMCkpKTptKHdpbmRvdykub2ZmKCJzY3JvbGwuZmlsdGVyc2luZmluaXRlc2Nyb2xsIHJlc2l6ZS5maWx0ZXJzaW5maW5pdGVzY3JvbGwgb3JpZW50YXRpb25jaGFuZ2UuZmlsdGVyc2luZmluaXRlc2Nyb2xsIil9ZnVuY3Rpb24gaCgpe3ZhciBlOzA9PT1tKCIuaW5maW5pdGUtc2Nyb2xsLWxvYWRlciIpLmxlbmd0aCYmKDA9PT0oZT1tKCIuYWpheEJ1c3lQYW5lbFBhcmVudCIpKS5sZW5ndGgmJihlPWMoKSksZS5hcHBlbmQoJzxkaXYgY2xhc3M9ImluZmluaXRlLXNjcm9sbC1sb2FkZXIiPicrbSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtaW5maW5pdGVzY3JvbGxsb2FkZXJ0ZXh0IikrIjwvZGl2PiIpKX1mdW5jdGlvbiByKGUsdCl7cygiLnZpZXdPcHRpb25zRHJvcERvd24iLGUpLHQmJihuZXcgeCkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfWZ1bmN0aW9uIGYoZSxsKXtlLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0iIix0PW0obCkudmFsKCkscj1tLnBhcnNlSlNPTih0KTtpZighbSh0aGlzKS5pcygic2VsZWN0Iikpe3Q9Ii4iO3JldHVybiBudWxsIT1yWzBdJiZyWzBdLlNlbGVjdGVkP3QrPXJbMF0uVmFsdWUudG9Mb3dlckNhc2UoKTpudWxsIT1yWzFdJiZyWzFdLlNlbGVjdGVkJiYodCs9clsxXS5WYWx1ZS50b0xvd2VyQ2FzZSgpKSx2b2lkIG0obigpKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKS5maWx0ZXIodCkuZmlyc3QoKS5hZGRDbGFzcygic2VsZWN0ZWQiKX1mb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIGE9cltpXSxvPSI8b3B0aW9uICI7YS5EaXNhYmxlZCYmKG8rPSdkaXNhYmxlZD0iZGlzYWJsZWQiICcpLGEuU2VsZWN0ZWQmJihvKz0nc2VsZWN0ZWQ9InNlbGVjdGVkIiAnKSxvKz0ndmFsdWU9IicrYS5WYWx1ZSsnIj4nLGUrPW8rPWEuVGV4dCsiPC9vcHRpb24+In1tKHRoaXMpLmh0bWwoZSl9KX1mdW5jdGlvbiBlKCl7dmFyIGU9bSh0KG0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNvcnRPcHRpb25zRHJvcERvd25TZWxlY3RvciIpfHwiLnByb2R1Y3RzLW9yZGVyYnkiKSk7MCE9PWUubGVuZ3RoJiYoZS5wcm9wKCJvbmNoYW5nZSIsbnVsbCksZS5hZGRDbGFzcygic29ydE9wdGlvbnNEcm9wRG93biIpLm9mZigiY2hhbmdlIikub24oImNoYW5nZSIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIHQ9bSh0aGlzKSxyPW51bGw9PXQuYXR0cigidmFsdWVDaGFuZ2VkQnlTY3JpcHQiKTt0LnJlbW92ZUF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0IiksZT10LnZhbCgpLHI9cixzKCIuc29ydE9wdGlvbnNEcm9wRG93biIsZSksciYmKGsoKSYmbS5hZGRyZXNzLmhpc3RvcnkoITApLChuZXcgeCkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKCkpLG0oZG9jdW1lbnQpLnRyaWdnZXIoe3R5cGU6ImFqYXhGaWx0ZXJzU29ydE9wdGlvbnNDaGFuZ2VkIixlbGVtZW50OnR9KX0pLGYoZSwiI2F2YWlsYWJsZVNvcnRPcHRpb25zSnNvbiIpKX1mdW5jdGlvbiBnKCl7dmFyIGU9bSh0KG0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXByb2R1Y3RzUGFnZVNpemVEcm9wRG93blNlbGVjdG9yIil8fCIucHJvZHVjdHMtcGFnZXNpemUiKSk7MCE9PWUubGVuZ3RoJiYoZS5wcm9wKCJvbmNoYW5nZSIsbnVsbCksZS5hZGRDbGFzcygicHJvZHVjdHNQYWdlU2l6ZURyb3BEb3duIikub2ZmKCJjaGFuZ2UiKS5vbigiY2hhbmdlIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgdD1tKHRoaXMpLGU9bnVsbD09dC5hdHRyKCJ2YWx1ZUNoYW5nZWRCeVNjcmlwdCIpO3QucmVtb3ZlQXR0cigidmFsdWVDaGFuZ2VkQnlTY3JpcHQiKSx0PXQudmFsKCksZT1lLHMoIi5wcm9kdWN0c1BhZ2VTaXplRHJvcERvd24iLHQpLGUmJihuZXcgeCkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKCl9KSxmKGUsIiNhdmFpbGFibGVQYWdlU2l6ZXNKc29uIikpfWZ1bmN0aW9uIHYoKXt2YXIgdDtlKCksMCE9PSh0PW0obigpKSkubGVuZ3RoJiYodC5pcygic2VsZWN0Iik/KHQucHJvcCgib25jaGFuZ2UiLG51bGwpLHQuYWRkQ2xhc3MoInZpZXdPcHRpb25zRHJvcERvd24iKS5vZmYoImNoYW5nZSIpLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciB0PW0odGhpcyksZT1udWxsPT10LmF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0Iik7dC5yZW1vdmVBdHRyKCJ2YWx1ZUNoYW5nZWRCeVNjcmlwdCIpLHIodC52YWwoKSxlKX0pKToodC5maWx0ZXIoIi5ncmlkIikuYXR0cigiZGF0YS1kcm9wZG93bm9wdGlvbnZhbHVlIiwiZ3JpZCIpLHQuZmlsdGVyKCIubGlzdCIpLmF0dHIoImRhdGEtZHJvcGRvd25vcHRpb252YWx1ZSIsImxpc3QiKSx0Lm9uKCJjbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCF4LndhaXRGb3JBamF4UmVxdWVzdCYmdm9pZChtKHRoaXMpLmhhc0NsYXNzKCJzZWxlY3RlZCIpfHwodC5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSxtKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpLG0oZG9jdW1lbnQpLnRyaWdnZXIoIlNldmVuU3Bpa2VzQWpheEZpbHRlcnNWaWV3TW9kZUNoYW5nZSIsW20odGhpcyldKSxyKG0odGhpcykuYXR0cigiZGF0YS1kcm9wZG93bm9wdGlvbnZhbHVlIiksITApKSl9KSksZih0LCIjYXZhaWxhYmxlVmlld01vZGVzSnNvbiIpKSxnKCksbShkb2N1bWVudCkudHJpZ2dlcih7dHlwZToiYWpheEZpbHRlcnNSZXBsYWNlZERyb3BEb3duc0V2ZW50In0pfW0uZm4uZXh0ZW5kKHthbmNob3JDdXN0b21DbGljazpmdW5jdGlvbih0KXtyZXR1cm4gbSh0aGlzKS5maXJzdCgpLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLG0odCkudHJpZ2dlcigiY2xpY2siKX0pfX0pLHgucHJvdG90eXBlLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycz1mdW5jdGlvbihlLHQscyxuLHIsaSxhLGQsbyxjKXt2YXIgbCxwLHUsaCxmLGcsdixGLFM7eC53YWl0Rm9yQWpheFJlcXVlc3R8fCIjL25vRmlsdGVyQXBwbGllZCIhPT1uJiYoZSYmdCYmaygpJiZtLmFkZHJlc3MuaGlzdG9yeSghMCksdGhpcy5pc1Byb2R1Y3RSZWZyZXNoVHJpZ2dlcmVkQnlTY3JvbGw9YXx8ITEsbnVsbD09bj9uPSIiOmk9ITAsdGhpcy5zZXRTcGVjaWZpY2F0aW9uRmlsdGVyU2VsZWN0aW9uKGUsdCksbD10aGlzLmdldFNwZWNpZmljYXRpb25GaWx0ZXJzTW9kZWwoKSxwPXRoaXMuZ2V0QXR0cmlidXRlRmlsdGVyc01vZGVsKCksdT10aGlzLmdldE1hbnVmYWN0dXJlckZpbHRlcnNNb2RlbCgpLGg9dGhpcy5nZXRWZW5kb3JGaWx0ZXJzTW9kZWwoKSx2PXRoaXMuZ2V0T25TYWxlRmlsdGVyc01vZGVsKCksZj10aGlzLmdldFByaWNlUmFuZ2VGaWx0ZXJNb2RlbCgpLFM9dGhpcy5nZXRJblN0b2NrRmlsdGVyc01vZGVsKCksbnVsbD09cyYmKHM9bnVsbCksYT1tKCIuc29ydE9wdGlvbnNEcm9wRG93biIpLnZhbCgpfHwwLGU9YigpLGc9bSgiLnByb2R1Y3RzUGFnZVNpemVEcm9wRG93biIpLnZhbCgpfHwwLG51bGw9PSh0PVAuZ2V0VXJsVmFyKCJwYWdlTnVtYmVyIikpfHxudWxsIT1zfHxudWxsIT1yJiYhMSE9PXJ8fChzPXQpLG51bGw9PWkmJihpPSExKSxvJiYocz1vKSx2PXtjYXRlZ29yeUlkOnRoaXMuY2F0ZWdvcnlJZCxtYW51ZmFjdHVyZXJJZDp0aGlzLm1hbnVmYWN0dXJlcklkLHZlbmRvcklkOnRoaXMudmVuZG9ySWQscHJpY2VSYW5nZUZpbHRlck1vZGVsN1NwaWtlczpmLHNwZWNpZmljYXRpb25GaWx0ZXJzTW9kZWw3U3Bpa2VzOmwsYXR0cmlidXRlRmlsdGVyc01vZGVsN1NwaWtlczpwLG1hbnVmYWN0dXJlckZpbHRlcnNNb2RlbDdTcGlrZXM6dSx2ZW5kb3JGaWx0ZXJzTW9kZWw3U3Bpa2VzOmgscGFnZU51bWJlcjpzLG9yZGVyYnk6YSx2aWV3bW9kZTplLHBhZ2VzaXplOmcscXVlcnlTdHJpbmc6bixzaG91bGROb3RTdGFydEZyb21GaXJzdFBhZ2U6aSxvblNhbGVGaWx0ZXJNb2RlbDp2LGtleXdvcmQ6dGhpcy5rZXl3b3JkLHNlYXJjaENhdGVnb3J5SWQ6dGhpcy5zZWFyY2hDYXRlZ29yeUlkLHNlYXJjaE1hbnVmYWN0dXJlcklkOnRoaXMuc2VhcmNoTWFudWZhY3R1cmVySWQsc2VhcmNoVmVuZG9ySWQ6dGhpcy5zZWFyY2hWZW5kb3JJZCxwcmljZUZyb206dGhpcy5wcmljZUZyb20scHJpY2VUbzp0aGlzLnByaWNlVG8saW5jbHVkZVN1YmNhdGVnb3JpZXM6dGhpcy5pbmNsdWRlU3ViY2F0ZWdvcmllcyxzZWFyY2hJblByb2R1Y3REZXNjcmlwdGlvbnM6dGhpcy5zZWFyY2hJblByb2R1Y3REZXNjcmlwdGlvbnMsYWR2YW5jZWRTZWFyY2g6dGhpcy5hZHZhbmNlZFNlYXJjaCxpc09uU2VhcmNoUGFnZTp0aGlzLmlzT25TZWFyY2hQYWdlLGluU3RvY2tGaWx0ZXJNb2RlbDpTfSx0aGlzLmlzUHJvZHVjdFJlZnJlc2hUcmlnZ2VyZWRCeVNjcm9sbHx8dGhpcy5zaG93UHJvZHVjdFBhbmVsQWpheEJ1c3koKSxTPShGPXRoaXMpLmdldEZpbHRlcmVkUHJvZHVjdHNVcmwseC53YWl0Rm9yQWpheFJlcXVlc3Q9ITAsbS5hamF4KHtjYWNoZTohMSx0eXBlOiJQT1NUIixkYXRhOm0udG9KU09OKHYpLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Iix1cmw6U30pLmRvbmUoZnVuY3Rpb24oZSl7aWYoIiIhPT1uJiYoRi5jaGFuZ2VWaWV3TW9kZU9yZGVyQnlBbmRQYWdlU2l6ZShlKSxGLnNldFByaWNlUmFuZ2VWYWx1ZXMoZSkpLEYucmVmcmVzaFByb2R1Y3RzKGUsRi5pc1Byb2R1Y3RSZWZyZXNoVHJpZ2dlcmVkQnlTY3JvbGwsYyxzKSl7Ri5yZWZyZXNoRmlsdGVycyhlKSxjfHxGLnJlZnJlc2hQcm9kdWN0c1BhZ2VyKGUpLEYucmVmcmVzaENsZWFyQnV0dG9ucygpLCJOTyBIQVNIIFFVRVJZIiE9PW4mJihGLmV4cGFuZEZpbHRlclBhbmVsc1dpdGhTZWxlY3RlZE9wdGlvbnMoKSwiIiE9PSh0PW0oZSkuZmlsdGVyKCIjdXJsSGFzaFF1ZXJ5IikudmFsKCkudG9TdHJpbmcoKSk/KEYuaXNQcm9kdWN0UmVmcmVzaFRyaWdnZXJlZEJ5U2Nyb2xsJiYodD10LnNsaWNlKDAsdC5pbmRleE9mKCImcGFnZU51bWJlciIpKSksbS5hZGRyZXNzLnZhbHVlKHQpKTpjfHxtLmFkZHJlc3MudmFsdWUoIm5vRmlsdGVyQXBwbGllZCIpKSxGLmhpZGVQcm9kdWN0UGFuZWxBamF4QnVzeSgpLHgud2FpdEZvckFqYXhSZXF1ZXN0PSExO3ZhciB0PW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNjcm9sbFRvRWxlbWVudCIpO2lmKCFGLmlzUHJvZHVjdFJlZnJlc2hUcmlnZ2VyZWRCeVNjcm9sbCYmbnVsbCE9dCYmInRydWUiPT09dC50b0xvd2VyQ2FzZSgpJiYhZCl7dmFyIHI9bSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2Nyb2xsVG9FbGVtZW50U2VsZWN0b3IiKS5zcGxpdCgiLCIpLGk9Ii5wcm9kdWN0LXNlbGVjdG9ycyI7aWYobnVsbCE9ciYmMDxyLmxlbmd0aCl7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspaWYoMDxtKHJbYV0udHJpbSgpKS5sZW5ndGgpe2k9clthXS50cmltKCk7YnJlYWt9MDxtKGkpLmxlbmd0aCYmKGw9cGFyc2VJbnQobSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2Nyb2xsdG9lbGVtZW50YWRkaXRpb25hbG9mZnNldCIpKXx8MCxvPW0oaSkub2Zmc2V0KCkudG9wK2wsbSgiaHRtbCwgYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDpvfSwic2xvdyIpLG0oImh0bWwsIGJvZHkiKS5hbmltYXRlKHtzY3JvbGxUb3A6by0xfSwiZmFzdCIpKX19bSgiLnByb2R1Y3RQYW5lbEFqYXhCdXN5IikubGVuZ3RoPDEmJkYuYWRkUHJvZHVjdFBhbmVsQWpheEJ1c3lUb1BhZ2UoKTt2YXIgbyxsLHQ9bShlKS5maWx0ZXIoIiN0b3RhbENvdW50IikudmFsKCkudG9TdHJpbmcoKTttLmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQiLHRvdGFsQ291bnQ6dCxpc1RyaWdnZXJlZEJ5SW5maW5pdGVTY3JvbGw6Ri5pc1Byb2R1Y3RSZWZyZXNoVHJpZ2dlcmVkQnlTY3JvbGx9KSwidHJ1ZSI9PT1tKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zaG93U2VsZWN0ZWRGaWx0ZXJzUGFuZWwiKS50b0xvd2VyQ2FzZSgpJiZmdW5jdGlvbigpe3ZhciBlPW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5maXJzdCgpLHQ9bSgiLmJsb2NrLmZpbHRlci1ibG9jay5zZWxlY3RlZC1vcHRpb25zIikuZmlyc3QoKSxyPWUuYXR0cigiZGF0YS1zZWxlY3RlZE9wdGlvbnNUYXJnZXRTZWxlY3RvciIpfHwiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuZmlsdGVyc1BhbmVsOmZpcnN0IixhPSJ1c2Vkcm9wZG93bnMiPT09ZS5hdHRyKCJkYXRhLWZpbHRlcnN1aW1vZGUiKTtzd2l0Y2goZS5hdHRyKCJkYXRhLXNlbGVjdGVkT3B0aW9uc1RhcmdldEFjdGlvbiIpKXtjYXNlImluc2VydEJlZm9yZSI6dC5pbnNlcnRCZWZvcmUocik7YnJlYWs7Y2FzZSJpbnNlcnRBZnRlciI6dC5pbnNlcnRBZnRlcihyKTticmVhaztjYXNlImFwcGVuZFRvIjp0LmFwcGVuZFRvKHIpO2JyZWFrO2RlZmF1bHQ6dC5wcmVwZW5kVG8ocil9dmFyIG89dC5maW5kKCIuc2VsZWN0ZWQtb3B0aW9ucy1saXN0Iik7by5lbXB0eSgpLHQuZmluZCgiYS50b2dnbGVDb250cm9sIikub2ZmKCJjbGljayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt5KG0odGhpcykpfSk7dmFyIGksbCxzLG4sZCxjPWUuZmluZCgiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMiKTswPGMubGVuZ3RoJiYobD0oaT1jLmZpbmQoIiNzbGlkZXIiKSkuYXR0cigiZGF0YS1zbGlkZXJtaW52YWx1ZSIpLHM9aS5hdHRyKCJkYXRhLXNsaWRlcm1heHZhbHVlIiksbj1tKCIucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1pblByaWNlIikudGV4dCgpLGQ9bSgiLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNYXhQcmljZSIpLnRleHQoKSwwPGkubGVuZ3RoJiYobCE9PW58fHMhPT1kKSYmKChkPW0oJzxzcGFuIGNsYXNzPSJvcHRpb24iPicrbisiIC0gIitkKyI8L3NwYW4+IikpLmFuY2hvckN1c3RvbUNsaWNrKGMuZmluZCgiLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpKSxjPWMuZmluZCgiLnRvZ2dsZUNvbnRyb2wiKS50ZXh0KCksKGM9bSgnPGxpIGNsYXNzPSJwcmljZS1yYW5nZS1zZWxlY3RlZC1yYW5nZXMiPjxsYWJlbD4nK2MrIjo8L2xhYmVsPjwvbGk+IikpLmFwcGVuZChkKSxvLmFwcGVuZChjKSkpO3ZhciBwPVtdLHU9W107ZS5maW5kKCIuZmlsdGVyLWJsb2NrIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPW0odGhpcyk7KGUuZmluZCgiZGl2LmZpbHRlcnNHcm91cFBhbmVsLmhhcy1zcGVjaWZpY2F0aW9uLXNsaWRlciIpLmxlbmd0aD9wOnUpLnB1c2goZSl9KSxtLmVhY2gocCxmdW5jdGlvbigpe3ZhciBlPXRoaXMuZmluZCgiLnNwZWNpZmljYXRpb24tYXR0cmlidXRlLXNsaWRlciIpLHQ9ZS5zbGlkZXIoIm9wdGlvbiIsIm1pbiIpLHI9ZS5zbGlkZXIoIm9wdGlvbiIsIm1heCIpLGk9dGhpcy5maW5kKCIuc3BlY2lmaWNhdGlvbi1jdXJyZW50LXZhbHVlLXBhbmVsIiksZT1wYXJzZUZsb2F0KGkuZmluZCgiLmN1cnJlbnQtbWluLXZhbHVlIikudGV4dCgpKSxpPXBhcnNlRmxvYXQoaS5maW5kKCIuY3VycmVudC1tYXgtdmFsdWUiKS50ZXh0KCkpO3Q9PT1lJiZyPT09aXx8KChlPW0oJzxzcGFuIGNsYXNzPSJvcHRpb24iPicrZSsiIC0gIitpKyI8L3NwYW4+IikpLmFuY2hvckN1c3RvbUNsaWNrKHRoaXMuZmluZCgiLmNsZWFyRmlsdGVyT3B0aW9ucyIpKSxpPXRoaXMuZmluZCgiLnRvZ2dsZUNvbnRyb2wiKS50ZXh0KCksKGk9bSgnPGxpIGNsYXNzPSJ2YWx1ZS1yYW5nZS1zZWxlY3RlZC1yYW5nZXMiPjxsYWJlbD4nK2krIjo8L2xhYmVsPjwvbGk+IikpLmFwcGVuZChlKSxvLmFwcGVuZChpKSl9KSxtLmVhY2godSxmdW5jdGlvbigpe3ZhciByPSExLGk9bSgiPGxpPjxsYWJlbD4iK3RoaXMuY2hpbGRyZW4oIi50aXRsZSIpLmNoaWxkcmVuKCJhLnRvZ2dsZUNvbnRyb2wiKS5maXJzdCgpLnRleHQoKSsiOjwvbGFiZWw+PC9saT4iKTt0aGlzLmZpbmQoIltkYXRhLW9wdGlvbi1pZHNdW3NlbGVjdGVkXSwgW2RhdGEtb3B0aW9uLWlkc11bY2hlY2tlZF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzKSx0PWUudGV4dCgpfHxlLm5leHQoImxhYmVsIikudGV4dCgpLHQ9bSgnPHNwYW4gY2xhc3M9Im9wdGlvbiI+Jyt0KyI8L3NwYW4+Iik7cj0hMCxhP3QuYW5jaG9yQ3VzdG9tQ2xpY2soZS5jbG9zZXN0KCIuZmlsdGVyc0dyb3VwUGFuZWwiKS5zaWJsaW5ncygiLnRpdGxlIikuY2hpbGRyZW4oIi5jbGVhckZpbHRlck9wdGlvbnMiKSk6dC5hbmNob3JDdXN0b21DbGljayhlKSxpLmFwcGVuZCh0KX0pLHImJm8uYXBwZW5kKGkpfSksMDxvLmNoaWxkcmVuKCkubGVuZ3RoP3Quc2hvdygpOih0LmhpZGUoKSxlLnByZXBlbmQodCkpfSgpLCJ0cnVlIiE9PW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLWVuYWJsZWluZmluaXRlc2Nyb2xsIikudG9Mb3dlckNhc2UoKSYmImZhbHNlIiE9PW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLW51bWJlcm9mcmV0dXJuZWRwcm9kdWN0c3NlbGVjdG9yIikudG9Mb3dlckNhc2UoKSYmKGw9ZywwPG0oIi5wYWdlLWJvZHkgLnByb2R1Y3QtZ3JpZDpub3QoLmZlYXR1cmVkLXByb2R1Y3QtZ3JpZCwgLm5vcC1qY2Fyb3VzZWwpIikubGVuZ3RoP2w9bSgiLnBhZ2UtYm9keSAucHJvZHVjdC1ncmlkOm5vdCguZmVhdHVyZWQtcHJvZHVjdC1ncmlkLCAubm9wLWpjYXJvdXNlbCkgLml0ZW0tYm94IikubGVuZ3RoOjA8bSgiLnBhZ2UtYm9keSAucHJvZHVjdC1saXN0IikubGVuZ3RoJiYobD1tKCIucGFnZS1ib2R5IC5wcm9kdWN0LWxpc3QgLml0ZW0tYm94IikubGVuZ3RoKSxvPXQsbnVsbD09KGU9bCkmJihlPXBhcnNlSW50KG0oIi5wcm9kdWN0c1BhZ2VTaXplRHJvcERvd24gLnRvcGxldmVsIHAiKS50ZXh0KCkpLGlzTmFOKGUpKXx8KChvPXBhcnNlSW50KG8pKTxlJiYoZT1vKSx0PW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLW51bWJlcm9mcmV0dXJuZWRwcm9kdWN0c3NlbGVjdG9yIil8fCIucHJvZHVjdC12aWV3bW9kZSIsbD1tKHQpLG0oIi5yZXR1cm5lZC1wcm9kdWN0cy1maWx0ZXJzLXBhbmVsIikuY2hpbGRyZW4oIi5hbGxQcm9kdWN0c1JldHVybmVkIikudGV4dChvKSx0PW0oIi5udW1iZXItb2YtcmV0dXJuZWQtcHJvZHVjdHMuc2FtcGxlLWVsZW1lbnQiKS5maXJzdCgpLG0oIi5udW1iZXItb2YtcmV0dXJuZWQtcHJvZHVjdHMiKS5ub3QodCkucmVtb3ZlKCksKHQ9dC5jbG9uZSgpKS5yZW1vdmVDbGFzcygic2FtcGxlLWVsZW1lbnQiKSx0LmNoaWxkcmVuKCIucHJvZHVjdHNQZXJQYWdlIikudGV4dChlKSx0LmNoaWxkcmVuKCIuYWxsUHJvZHVjdHNSZXR1cm5lZCIpLnRleHQobyksMD09PWwubGVuZ3RoP20oIi5wcm9kdWN0LXNlbGVjdG9ycyIpLmFwcGVuZCh0KTpsLmFmdGVyKHQpLHQuY3NzKCJkaXNwbGF5IiwiIikuYWRkQ2xhc3MoImFjdGl2ZSIpKSl9ZWxzZSB4LndhaXRGb3JBamF4UmVxdWVzdD0hMX0pLmZhaWwoZnVuY3Rpb24oKXtGLmhpZGVQcm9kdWN0UGFuZWxBamF4QnVzeSgpLGFsZXJ0KCJMb2FkaW5nIHRoZSBwYWdlIGZhaWxlZC4iKSx4LndhaXRGb3JBamF4UmVxdWVzdD0hMX0pLmFsd2F5cyhmdW5jdGlvbigpe0YuaXNQcm9kdWN0UmVmcmVzaFRyaWdnZXJlZEJ5U2Nyb2xsPSExLGsoKSYmbS5hZGRyZXNzLmhpc3RvcnkoITEpfSkpfSx4LnByb3RvdHlwZS5nZXRTcGVjaWZpY2F0aW9uRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGRTcGVjaWZpY2F0aW9uRmlsdGVyc01vZGVsKHRoaXMuY2F0ZWdvcnlJZCx0aGlzLm1hbnVmYWN0dXJlcklkLHRoaXMudmVuZG9ySWQsdGhpcy5zZWxlY3RlZEZpbHRlckdyb3VwRWxlbWVudCl9LHgucHJvdG90eXBlLmdldEF0dHJpYnV0ZUZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1aWxkQXR0cmlidXRlRmlsdGVyc01vZGVsKHRoaXMuY2F0ZWdvcnlJZCx0aGlzLm1hbnVmYWN0dXJlcklkLHRoaXMudmVuZG9ySWQsdGhpcy5zZWxlY3RlZEZpbHRlckdyb3VwRWxlbWVudCl9LHgucHJvdG90eXBlLmdldE1hbnVmYWN0dXJlckZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1aWxkTWFudWZhY3R1cmVyRmlsdGVyc01vZGVsKHRoaXMuY2F0ZWdvcnlJZCx0aGlzLnNlbGVjdGVkRmlsdGVyR3JvdXBFbGVtZW50KX0seC5wcm90b3R5cGUuZ2V0VmVuZG9yRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGRWZW5kb3JGaWx0ZXJzTW9kZWwodGhpcy5jYXRlZ29yeUlkLHRoaXMuc2VsZWN0ZWRGaWx0ZXJHcm91cEVsZW1lbnQpfSx4LnByb3RvdHlwZS5nZXRPblNhbGVGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWlsZE9uU2FsZUZpbHRlcnNNb2RlbCh0aGlzLmNhdGVnb3J5SWQsdGhpcy5tYW51ZmFjdHVyZXJJZCx0aGlzLnZlbmRvcklkLHRoaXMuc2VsZWN0ZWRGaWx0ZXJHcm91cEVsZW1lbnQpfSx4LnByb3RvdHlwZS5nZXRQcmljZVJhbmdlRmlsdGVyTW9kZWw9ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3JldHVybiBudWxsIT10aGlzLmJ1aWxkUHJpY2VSYW5nZUZpbHRlck1vZGVsJiYoZT10aGlzLmJ1aWxkUHJpY2VSYW5nZUZpbHRlck1vZGVsKHRoaXMuY2F0ZWdvcnlJZCx0aGlzLm1hbnVmYWN0dXJlcklkLHRoaXMudmVuZG9ySWQsdGhpcy5zZWxlY3RlZEZpbHRlckdyb3VwRWxlbWVudCkpLGV9LHgucHJvdG90eXBlLmdldEluU3RvY2tGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3JldHVybiBudWxsIT10aGlzLmJ1aWxkSW5TdG9ja0ZpbHRlcnNNb2RlbCYmKGU9dGhpcy5idWlsZEluU3RvY2tGaWx0ZXJzTW9kZWwodGhpcy5jYXRlZ29yeUlkLHRoaXMubWFudWZhY3R1cmVySWQsdGhpcy52ZW5kb3JJZCx0aGlzLnNlbGVjdGVkRmlsdGVyR3JvdXBFbGVtZW50KSksZX0seC5wcm90b3R5cGUucmVmcmVzaFByb2R1Y3RzPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhPWIoKXx8bSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtZGVmYXVsdFZpZXdNb2RlIiksbz10aGlzLmdldFByb2R1Y3RzUGFuZWxTZWxlY3RvcihhKSxhPW0oIi4iK3ApO2lmKG51bGwhPW0oZSkuZmlsdGVyKG8pLmh0bWwoKSl7aWYoMTxhLmxlbmd0aCYmKGE9YS5sYXN0KCkpLHQpe3ZhciB0PW0oZSkuZmlsdGVyKG8pLGw9dC5maW5kKCIuaXRlbS1ib3giKTtpZih0Lmhhc0NsYXNzKCJwcm9kdWN0LWdyaWQiKT9hLmhhc0NsYXNzKCJwcm9kdWN0LWxpc3QiKSYmYS5yZW1vdmVDbGFzcygicHJvZHVjdC1saXN0IikuYWRkQ2xhc3MoInByb2R1Y3QtZ3JpZCIpOmEuaGFzQ2xhc3MoInByb2R1Y3QtZ3JpZCIpJiZhLnJlbW92ZUNsYXNzKCJwcm9kdWN0LWdyaWQiKS5hZGRDbGFzcygicHJvZHVjdC1saXN0Iikscilmb3IodmFyIHM9bSgiLmR1bW15LWJveCIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBtKHRoaXMpLmF0dHIoImRhdGEtcGFnZU51bWJlciIpPT09aX0pLG49bC5maWx0ZXIoIi5pdGVtLWJveCIpLGQ9MDtkPG4ubGVuZ3RoO2QrKyl7dmFyIGM9bShuLmdldChkKSk7bShzLmdldChkKSkucmVwbGFjZVdpdGgoYyl9ZWxzZSBtKCIuaW5maW5pdGUtc2Nyb2xsLWxvYWRlciIpLmhpZGUoKSxhLmZpbmQoIi5pdGVtLWJveCIpLmxhc3QoKS5hZnRlcihsKX1lbHNlIGEucmVwbGFjZVdpdGgobShlKS5maWx0ZXIobykpO2w9ITB9ZWxzZSB0aGlzLmhpZGVQcm9kdWN0UGFuZWxBamF4QnVzeSgpLDA8bSgiI25vcEFqYXhGaWx0ZXJzTm9Qcm9kdWN0c0RpYWxvZyIpLmxlbmd0aHx8YS5wcmVwZW5kKG0oZSkuZmlsdGVyKCIjbm9wQWpheEZpbHRlcnNOb1Byb2R1Y3RzRGlhbG9nIikpLHRoaXMuc2hvd05vUHJvZHVjdHNNb2RhbERpYWxvZygpLGw9ITE7cmV0dXJuIGx9LHgucHJvdG90eXBlLnJlZnJlc2hQcm9kdWN0c1BhZ2VyPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcy5nZXRQYWdlclBhbmVsU2VsZWN0b3IoKSxpPW0ocik7dm9pZCAwIT09ZSYmKHQ9bShlKS5maWx0ZXIociksMD09PWkubGVuZ3RoJiYwPHQubGVuZ3RoJiYoZT1tKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1wYWdlcnBhbmVsaW50ZWdyYXRpb25zZWxlY3RvciIpfHwiLnByb2R1Y3QtZ3JpZCwgLnByb2R1Y3QtbGlzdCIsMDwoZT1tKGUpKS5sZW5ndGgmJihlLmhhc0NsYXNzKCJwcm9kdWN0LWdyaWQiKXx8ZS5oYXNDbGFzcygicHJvZHVjdC1saXN0IikpJiYoZT1lLm5vdCgiLmZlYXR1cmVkLXByb2R1Y3QtZ3JpZCwgLm5vcC1qY2Fyb3VzZWwiKS5sYXN0KCkpLDA9PT1lLmxlbmd0aCYmKGU9YygpKSxlLmFmdGVyKCc8ZGl2IGNsYXNzPSJwYWdlciI+PC9kaXY+JyksaT1tKHIpKSwidHJ1ZSI9PT1tKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1lbmFibGVpbmZpbml0ZXNjcm9sbCIpLnRvTG93ZXJDYXNlKCkmJmkuaGlkZSgpLGkuaHRtbCh0Lmh0bWwoKSksMDxpLmxlbmd0aCYmMD09PXQubGVuZ3RoJiZpLnJlbW92ZSgpKSx0aGlzLnNldFBhZ2VyTGlua3MoaSl9LHgucHJvdG90eXBlLnNldFBhZ2VyTGlua3M9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztlLmZpbmQoImEiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzKS5hdHRyKCJocmVmIiksdD0iIjtudWxsIT1lJiYoZT1lLnRvTG93ZXJDYXNlKCksbnVsbCE9KGU9L3BhZ2VudW1iZXI9KFxkKykvLmV4ZWMoZSkpJiYxPGUubGVuZ3RoJiYodD1lWzFdKSksbSh0aGlzKS5yZW1vdmVBdHRyKCJocmVmIiksbSh0aGlzKS5hdHRyKCJkYXRhLXBhZ2VOdW1iZXIiLHQpLG0odGhpcykuY2xpY2soe2ZpbHRlcnNNYW5hZ2VyOnJ9LGQpfSl9LHgucHJvdG90eXBlLmdldFByb2R1Y3RzUGFuZWxTZWxlY3Rvcj1mdW5jdGlvbihlKXtyZXR1cm4ibGlzdCI9PT1lP20oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLVByb2R1Y3RzTGlzdFBhbmVsU2VsZWN0b3IiKXx8Ii5wcm9kdWN0LWxpc3QiOm0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXByb2R1Y3RzR3JpZFBhbmVsU2VsZWN0b3IiKXx8Ii5wcm9kdWN0LWdyaWQifSx4LnByb3RvdHlwZS5nZXRQYWdlclBhbmVsU2VsZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtcGFnZXJQYW5lbFNlbGVjdG9yIil8fCIucGFnZXIifSx4LnByb3RvdHlwZS5jbGVhckZpbHRlck9wdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9bShlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLnNpYmxpbmdzKCIuZmlsdGVyc0dyb3VwUGFuZWwiKTtlLmRhdGEuZmlsdGVyc01hbmFnZXIuY2xlYXJGaWx0ZXJPcHRpb25zRm9yRmlsdGVyc0dyb3VwRWxlbWVudCh0KX0seC5wcm90b3R5cGUuY2xlYXJGaWx0ZXJPcHRpb25zRm9yRmlsdGVyc0dyb3VwRWxlbWVudD1mdW5jdGlvbihlKXtlLmZpbmQoIltkYXRhLW9wdGlvbi1pZHNdIikucmVtb3ZlQXR0cigiY2hlY2tlZCBzZWxlY3RlZCIpO3ZhciB0PWUuZmluZCgiLnNlbGVjdC13cmFwIik7MDx0Lmxlbmd0aCYmdC5maW5kKCIuc2VsZWN0LWlubmVyIikudGV4dCh0LmZpbmQoInNlbGVjdCBvcHRpb246c2VsZWN0ZWQiKS50ZXh0KCkpLGUuaGFzQ2xhc3MoImhhcy1zcGVjaWZpY2F0aW9uLXNsaWRlciIpJiZ0aGlzLmNsZWFyU2xpZGVyU3BlY2lmaWNhdGlvblZhbHVlcyhlKSx0aGlzLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycyhlLHZvaWQgMCl9LHgucHJvdG90eXBlLmNsZWFyU2xpZGVyU3BlY2lmaWNhdGlvblZhbHVlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbmQoIi5zcGVjaWZpY2F0aW9uLWF0dHJpYnV0ZS1zbGlkZXIiKSxyPXQuc2xpZGVyKCJvcHRpb24iLCJtaW4iKSxpPXQuc2xpZGVyKCJvcHRpb24iLCJtYXgiKTt0LnNsaWRlcigib3B0aW9uIix7dmFsdWVzOltyLGldfSksKGU9ZS5maW5kKCIuc3BlY2lmaWNhdGlvbi1jdXJyZW50LXZhbHVlLXBhbmVsIikpLmZpbmQoIi5jdXJyZW50LW1pbi12YWx1ZSIpLmh0bWwociksZS5maW5kKCIuY3VycmVudC1tYXgtdmFsdWUiKS5odG1sKGkpfSx4LnByb3RvdHlwZS5zZWxlY3RBbGxGaWx0ZXJEcm9wRG93bk9wdGlvbj1mdW5jdGlvbihlKXtlPW0oZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuZmlsdGVyc0dyb3VwUGFuZWwiKSx0aGlzLmNsZWFyRmlsdGVyT3B0aW9uc0ZvckZpbHRlcnNHcm91cEVsZW1lbnQoZSl9LHgucHJvdG90eXBlLmNsZWFyQWxsRmlsdGVyT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEuZmlsdGVyc01hbmFnZXI7bSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuZmlsdGVyc0dyb3VwUGFuZWwiKS5maW5kKCJbZGF0YS1vcHRpb24taWRzXSIpLnJlbW92ZUF0dHIoImNoZWNrZWQgc2VsZWN0ZWQgZGlzYWJsZWQiKSxtKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5zZWxlY3Qtd3JhcCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1tKHRoaXMpO2UuZmluZCgiLnNlbGVjdC1pbm5lciIpLnRleHQoZS5maW5kKCJzZWxlY3Qgb3B0aW9uOnNlbGVjdGVkIikudGV4dCgpKX0pLG0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNHcm91cFBhbmVsLmhhcy1zcGVjaWZpY2F0aW9uLXNsaWRlciIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1tKHRoaXMpO3QuY2xlYXJTbGlkZXJTcGVjaWZpY2F0aW9uVmFsdWVzKGUpfSksdC5jbGVhclByaWNlUmFuZ2VGaWx0ZXJDb250cm9sKCksdC5yZXF1ZXN0UHJvZHVjdHNGb3JTZWxlY3RlZEZpbHRlcnMoKX0seC5wcm90b3R5cGUucmVmcmVzaENsZWFyQnV0dG9ucz1mdW5jdGlvbigpe3ZhciByPSExO20oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNHcm91cFBhbmVsIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPW0odGhpcyksdD0hMTtlLmZpbmQoIltkYXRhLW9wdGlvbi1pZHNdIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPW0odGhpcyk7aWYoZS5pcygiOnNlbGVjdGVkIil8fGUuaXMoIjpjaGVja2VkIikpcmV0dXJuISh0PSEwKX0pO2U9ZS5wYXJlbnQoKS5maW5kKCJhLmNsZWFyRmlsdGVyT3B0aW9ucyIpO3Q/KGUuc2hvdygpLHI9ITApOmUuaGlkZSgpfSk7dmFyIGUsdD1tKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzVGl0bGVQYW5lbCBhLmNsZWFyRmlsdGVyT3B0aW9uc0FsbCIpO3I/dC5zaG93KCk6KGU9ITEsbnVsbCE9dGhpcy5kZXRlcm1pbmVJZlByaWNlUmFuZ2VIYXNCZWVuU2VsZWN0ZWQmJihlPXRoaXMuZGV0ZXJtaW5lSWZQcmljZVJhbmdlSGFzQmVlblNlbGVjdGVkKCkpLGU/dC5zaG93KCk6dC5oaWRlKCkpfSx4LnByb3RvdHlwZS5leHBhbmRGaWx0ZXJQYW5lbHNXaXRoU2VsZWN0ZWRPcHRpb25zPWZ1bmN0aW9uKCl7bSgiLmNsZWFyUHJpY2VSYW5nZUZpbHRlciwgLmNsZWFyRmlsdGVyT3B0aW9ucyIpLmZpbHRlcigiOnZpc2libGUiKS5zaWJsaW5ncygiYS50b2dnbGVDb250cm9sLmNsb3NlZCIpLmNsaWNrKCl9LHgucHJvdG90eXBlLmNoYW5nZVZpZXdNb2RlT3JkZXJCeUFuZFBhZ2VTaXplPWZ1bmN0aW9uKGUpe3ZhciB0PW0oZSkuZmlsdGVyKCIjY3VycmVudFBhZ2VTaXplSnNvbiIpLnZhbCgpLHI9bS5wYXJzZUpTT04odCksdD1tKGUpLmZpbHRlcigiI2N1cnJlbnRPcmRlckJ5SnNvbiIpLnZhbCgpLHQ9bS5wYXJzZUpTT04odCksZT1tKGUpLmZpbHRlcigiI2N1cnJlbnRWaWV3TW9kZUpzb24iKS52YWwoKSxlPW0ucGFyc2VKU09OKGUpO3MoIi5zb3J0T3B0aW9uc0Ryb3BEb3duIix0KSxzKCIudmlld09wdGlvbnNEcm9wRG93biIsZSkscygiLnByb2R1Y3RzUGFnZVNpemVEcm9wRG93biIsciksbShuKCkpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLmZpbHRlcigiLiIrZSkuYWRkQ2xhc3MoInNlbGVjdGVkIil9LHgucHJvdG90eXBlLnNldFByaWNlUmFuZ2VWYWx1ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9KHQ9bShlKS5maWx0ZXIoIiNwcmljZVJhbmdlRnJvbUpzb24iKS52YWwoKS50b1N0cmluZygpKT9tLnBhcnNlSlNPTih0KTpudWxsLGU9KGU9bShlKS5maWx0ZXIoIiNwcmljZVJhbmdlVG9Kc29uIikudmFsKCkudG9TdHJpbmcoKSk/bS5wYXJzZUpTT04oZSk6bnVsbDtudWxsIT10aGlzLlNldFNsaWRlclZhbHVlcyYmdGhpcy5TZXRTbGlkZXJWYWx1ZXModCxlKX0seC5wcm90b3R5cGUucmVmcmVzaEZpbHRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPShyPW0oZSkuZmlsdGVyKCIjc3BlY2lmaWNhdGlvbkZpbHRlck1vZGVsN1NwaWtlc0pzb24iKS52YWwoKS50b1N0cmluZygpKT9tLnBhcnNlSlNPTihyKTpudWxsO3QucmVmcmVzaFNwZWNpZmljYXRpb25GaWx0ZXJzKHIsdC5maWx0ZXJzVUlNb2RlKSxyPShyPW0oZSkuZmlsdGVyKCIjYXR0cmlidXRlRmlsdGVyTW9kZWw3U3Bpa2VzSnNvbiIpLnZhbCgpLnRvU3RyaW5nKCkpP20ucGFyc2VKU09OKHIpOm51bGwsdC5yZWZyZXNoQXR0cmlidXRlRmlsdGVycyhyLHQuZmlsdGVyc1VJTW9kZSkscj0ocj1tKGUpLmZpbHRlcigiI21hbnVmYWN0dXJlckZpbHRlck1vZGVsN1NwaWtlc0pzb24iKS52YWwoKS50b1N0cmluZygpKT9tLnBhcnNlSlNPTihyKTpudWxsLHQucmVmcmVzaE1hbnVmYWN0dXJlckZpbHRlcnMocix0LmZpbHRlcnNVSU1vZGUpLHI9KHI9bShlKS5maWx0ZXIoIiN2ZW5kb3JGaWx0ZXJNb2RlbDdTcGlrZXNKc29uIikudmFsKCkudG9TdHJpbmcoKSk/bS5wYXJzZUpTT04ocik6bnVsbCx0LnJlZnJlc2hWZW5kb3JGaWx0ZXJzKHIsdC5maWx0ZXJzVUlNb2RlKSxyPShyPW0oZSkuZmlsdGVyKCIjb25TYWxlRmlsdGVyTW9kZWw3U3Bpa2VzSnNvbiIpLnZhbCgpLnRvU3RyaW5nKCkpP20ucGFyc2VKU09OKHIpOm51bGwsdC5yZWZyZXNoT25TYWxlRmlsdGVycyhyLHQuZmlsdGVyc1VJTW9kZSksZT0oZT1tKGUpLmZpbHRlcigiI2luU3RvY2tGaWx0ZXJNb2RlbDdTcGlrZXNKc29uIikudmFsKCkudG9TdHJpbmcoKSk/bS5wYXJzZUpTT04oZSk6bnVsbCx0LnJlZnJlc2hJblN0b2NrRmlsdGVycyhlLHQuZmlsdGVyc1VJTW9kZSksbSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuZmlsdGVyc0dyb3VwUGFuZWwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzKSx0PSEwO2UuZmluZCgiW2RhdGEtb3B0aW9uLWlkc10iKS5lYWNoKGZ1bmN0aW9uKCl7aWYoIW0odGhpcykuaXMoIjpkaXNhYmxlZCIpKXJldHVybiB0PSExfSksdD9lLmZpbmQoInNlbGVjdCIpLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTplLmZpbmQoInNlbGVjdCIpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksZS50b2dnbGVDbGFzcygiZGlzYWJsZWQiLHQpfSl9LHgucHJvdG90eXBlLmV4ZWN1dGVSZXZlcnNlSW5maW5pdGVTY3JvbGw9ZnVuY3Rpb24oZSl7KG5ldyB4KS5yZXF1ZXN0UHJvZHVjdHNGb3JTZWxlY3RlZEZpbHRlcnModm9pZCAwLHZvaWQgMCxlLHZvaWQgMCx2b2lkIDAsITAsITAsdm9pZCAwLHZvaWQgMCwhMCl9LHgucHJvdG90eXBlLmNsZWFyUHJpY2VSYW5nZUZpbHRlckNvbnRyb2w9ZnVuY3Rpb24oKXt9LHgucHJvdG90eXBlLnJlZnJlc2hNYW51ZmFjdHVyZXJGaWx0ZXJzPWZ1bmN0aW9uKCl7fSx4LnByb3RvdHlwZS5yZWZyZXNoVmVuZG9yRmlsdGVycz1mdW5jdGlvbigpe30seC5wcm90b3R5cGUucmVmcmVzaFNwZWNpZmljYXRpb25GaWx0ZXJzPWZ1bmN0aW9uKCl7fSx4LnByb3RvdHlwZS5yZWZyZXNoQXR0cmlidXRlRmlsdGVycz1mdW5jdGlvbigpe30seC5wcm90b3R5cGUucmVmcmVzaE9uU2FsZUZpbHRlcnM9ZnVuY3Rpb24oKXt9LHgucHJvdG90eXBlLnJlZnJlc2hJblN0b2NrRmlsdGVycz1mdW5jdGlvbigpe30seC5wcm90b3R5cGUuYnVpbGRNYW51ZmFjdHVyZXJGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXt9LHgucHJvdG90eXBlLmJ1aWxkVmVuZG9yRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7fSx4LnByb3RvdHlwZS5idWlsZFNwZWNpZmljYXRpb25GaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXt9LHgucHJvdG90eXBlLmJ1aWxkQXR0cmlidXRlRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7fSx4LnByb3RvdHlwZS5idWlsZE9uU2FsZUZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe30seC5wcm90b3R5cGUuYWRkUHJvZHVjdFBhbmVsQWpheEJ1c3lUb1BhZ2U9ZnVuY3Rpb24oKXt2YXIgZT1jKCk7ZS5hZGRDbGFzcygiYWpheEJ1c3lQYW5lbFBhcmVudCAiK3ApLGUuY3NzKCJwb3NpdGlvbiIsInJlbGF0aXZlIiksZS5hcHBlbmQobSgnPGRpdiBjbGFzcz0icHJvZHVjdFBhbmVsQWpheEJ1c3kiPjwvZGl2PjxkaXYgY2xhc3M9ImNsZWFyIj48L2Rpdj4nKSksbSgiLnByb2R1Y3RQYW5lbEFqYXhCdXN5IikuaGlkZSgpLGgoKX0seC5wcm90b3R5cGUuYWRqdXN0TWluTWF4VmFsdWVzSWZJblJUTD1mdW5jdGlvbihlLHQscixpKXt2YXIgYT17bWluVmFsdWU6cixtYXhWYWx1ZTppfTtyZXR1cm4gdGhpcy5pc1J0bCYmKHI9cGFyc2VGbG9hdCgoZS1yKS50b0ZpeGVkKDIpKSxpPXBhcnNlRmxvYXQoKHQtaSkudG9GaXhlZCgyKSksYS5taW5WYWx1ZT1wYXJzZUZsb2F0KChlK2kpLnRvRml4ZWQoMikpLGEubWF4VmFsdWU9cGFyc2VGbG9hdCgodCtyKS50b0ZpeGVkKDIpKSksYX0seC5wcm90b3R5cGUuc2V0U3BlY2lmaWNhdGlvbkZpbHRlclNlbGVjdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuc2VsZWN0ZWRGaWx0ZXJHcm91cEVsZW1lbnQ9ZSx0aGlzLnNlbGVjdGVkRmlsdGVyT3B0aW9uRWxlbWVudD10fSx4LnByb3RvdHlwZS5zaG93Tm9Qcm9kdWN0c01vZGFsRGlhbG9nPWZ1bmN0aW9uKGUpe3ZhciB0PW0oZT1lfHwiI25vcEFqYXhGaWx0ZXJzTm9Qcm9kdWN0c0RpYWxvZyIpLHI9dC5kYXRhKCJrZW5kb1dpbmRvdyIpLGU9dC5hdHRyKCJ0aXRsZSIpfHwiTk8gUkVTVUxUUyBGT1VORCI7cnx8KHI9dC5rZW5kb1dpbmRvdyh7ZHJhZ2dhYmxlOiExLHJlc2l6YWJsZTohMSx3aWR0aDoiMzAwcHgiLGhlaWdodDoiMTAwcHgiLHRpdGxlOmUsbW9kYWw6ITAsYWN0aW9uczpbIkNsb3NlIl0sYW5pbWF0aW9uOiExLHZpc2libGU6ITF9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4RmlsdGVycyIpLHIuY2VudGVyKCksci5vcGVuKCksbShkb2N1bWVudCkub24oImNsaWNrIiwiLmstb3ZlcmxheSIsZnVuY3Rpb24oKXtyLmNsb3NlKCl9KX0seC5wcm90b3R5cGUuc2hvd1Byb2R1Y3RQYW5lbEFqYXhCdXN5PWZ1bmN0aW9uKCl7bSgiLnByb2R1Y3RQYW5lbEFqYXhCdXN5Iikuc2hvdygpfSx4LnByb3RvdHlwZS5oaWRlUHJvZHVjdFBhbmVsQWpheEJ1c3k9ZnVuY3Rpb24oKXttKCIucHJvZHVjdFBhbmVsQWpheEJ1c3kiKS5oaWRlKCl9LHguZ2V0RmlsdGVySXRlbVN0YXRlQmFzZWRPbkF0dHJpYnV0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pcygiOnNlbGVjdGVkIil8fGUuaXMoIjpjaGVja2VkIiksZT1lLmlzKCI6ZGlzYWJsZWQiKTtyZXR1cm4gdCYmZT8iQ2hlY2tlZERpc2FibGVkIjp0JiYhZT8iQ2hlY2tlZCI6IXQmJmU/IkRpc2FibGVkIjoiVW5jaGVja2VkIn0seC53YWl0Rm9yQWpheFJlcXVlc3Q9ITEseC5hZGRTdGF0ZUNsYXNzVG9DaGVja0JveFBhcmVudD1mdW5jdGlvbihlLHQpe2U9ZS5wYXJlbnQoImxpIik7MCE9PWUubGVuZ3RoJiYodCE9PWEmJnQhPT1vfHwoZS5hZGRDbGFzcygiY2hlY2tlZCIpLHQ9PT1hJiZlLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpKSx0IT09byYmdCE9PWx8fGUuYWRkQ2xhc3MoImRpc2FibGVkIiksdD09PWkmJmUucmVtb3ZlQ2xhc3MoImNoZWNrZWQgZGlzYWJsZWQiKSl9LHguYWRkU3RhdGVBdHRyaWJ1dGVzVG9PcHRpb249ZnVuY3Rpb24oZSx0LHIpe3QhPT1hJiZ0IT09b3x8KHI/ZS5hdHRyKCJzZWxlY3RlZCIsInNlbGVjdGVkIikudHJpZ2dlcigiY2hhbmdlIik6ZS5hdHRyKCJjaGVja2VkIiwiY2hlY2tlZCIpLHQ9PT1hJiZlLnJlbW92ZUF0dHIoImRpc2FibGVkIikpLHQhPT1vJiZ0IT09bHx8ZS5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIiksdD09PWkmJmUucmVtb3ZlQXR0cigiY2hlY2tlZCBzZWxlY3RlZCBkaXNhYmxlZCIpfSx4LmFkZFN0YXRlQ2xhc3NBbmRBdHRyaWJ1dGVzVG9PcHRpb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXQ9PT1hPyEwOiExO3JldHVybiByfHx4LmFkZFN0YXRlQ2xhc3NUb0NoZWNrQm94UGFyZW50KGUsdCkseC5hZGRTdGF0ZUF0dHJpYnV0ZXNUb09wdGlvbihlLHQsciksaX0sbShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt2YXIgZT1uZXcgeDtlLmFkZFByb2R1Y3RQYW5lbEFqYXhCdXN5VG9QYWdlKCksbSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuYmxvY2sgLnRpdGxlIGEudG9nZ2xlQ29udHJvbCIpLm9mZigiY2xpY2siKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7eShtKHRoaXMpKX0pLG0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmJsb2NrIC50aXRsZSBhLmNsZWFyRmlsdGVyT3B0aW9ucyIpLmVhY2goZnVuY3Rpb24oKXttKHRoaXMpLmNsaWNrKHtmaWx0ZXJzTWFuYWdlcjplfSxlLmNsZWFyRmlsdGVyT3B0aW9ucyksbSh0aGlzKS5oaWRlKCl9KSxtKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzRHJvcERvd24gYS5hbGxGaWx0ZXJEcm9wRG93bk9wdGlvbnMiKS5lYWNoKGZ1bmN0aW9uKCl7bSh0aGlzKS5jbGljayh7ZmlsdGVyc01hbmFnZXI6ZX0sZS5zZWxlY3RBbGxGaWx0ZXJEcm9wRG93bk9wdGlvbil9KTt2YXIgdCxyPW0oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNUaXRsZVBhbmVsIGEuY2xlYXJGaWx0ZXJPcHRpb25zQWxsIik7ZnVuY3Rpb24gaSgpe20od2luZG93KS5vZmYoInNjcm9sbC5maWx0ZXJzaW5maW5pdGVzY3JvbGwgcmVzaXplLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCBvcmllbnRhdGlvbmNoYW5nZS5maWx0ZXJzaW5maW5pdGVzY3JvbGwiKS5vbigic2Nyb2xsLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCByZXNpemUuZmlsdGVyc2luZmluaXRlc2Nyb2xsIG9yaWVudGF0aW9uY2hhbmdlLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCIsZnVuY3Rpb24oKXt1KCl9KSx1KCl9ci5jbGljayh7ZmlsdGVyc01hbmFnZXI6ZX0sZS5jbGVhckFsbEZpbHRlck9wdGlvbnMpLHIuaGlkZSgpLGUucmVmcmVzaFByb2R1Y3RzUGFnZXIoKSxlLmZpbHRlcnNVSU1vZGU9PT1lLmZpbHRlcnNVSU1vZGVFbnVtLnVzZURyb3BEb3ducyYmKHI9bSgiLmZpbHRlcnNEcm9wRG93blBhbmVsLmZpbHRlcnNHcm91cFBhbmVsIiksdD1yLmxlbmd0aCsxMDAsci5lYWNoKGZ1bmN0aW9uKCl7bSh0aGlzKS5jc3MoInotaW5kZXgiLHQtLSl9KSksInRydWUiPT09bSgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtZW5hYmxlaW5maW5pdGVzY3JvbGwiKS50b0xvd2VyQ2FzZSgpJiYoaCgpLG0oIi5wcm9kdWN0LXBhZ2Utc2l6ZSwgIittKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1wYWdlcnBhbmVsc2VsZWN0b3IiKSkuaGlkZSgpLG0oIi5wcm9kdWN0LXNlbGVjdG9ycyIpLmFkZENsYXNzKCJpbmZpbml0ZS1zY3JvbGwtZW5hYmxlZCIpLG0oZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IixpKSx3aW5kb3cubG9jYXRpb24uaGFzaCYmIiMvbm9GaWx0ZXJBcHBsaWVkIiE9PXdpbmRvdy5sb2NhdGlvbi5oYXNofHxpKCkpLG0oIi5maWx0ZXJzR3JvdXBTZWFyY2hJbnB1dCIpLm9uKCJrZXl1cCIsZnVuY3Rpb24oKXt2YXIgbD1tKHRoaXMpLnZhbCgpLnRvTG93ZXJDYXNlKCksZT1tKHRoaXMpLnBhcmVudCgpLm5leHQoIi5jaGVja2JveC1saXN0IikuY2hpbGRyZW4oKTsiIj09PWw/ZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzKSx0PWUuZmluZCgibGFiZWwiKSxyPXQuZGF0YSgib3JpZ2luYWx0ZXh0Iik7dC5odG1sKHIpLGUuc2hvdygpfSk6ZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdCxyPW0odGhpcyksaT1yLmZpbmQoImxhYmVsIiksYT1pLmRhdGEoIm9yaWdpbmFsdGV4dCIpLG89YS50b0xvd2VyQ2FzZSgpLmluZGV4T2YobCk7LTEhPT1vPyhlPWEuc3Vic3RyaW5nKG8sbytsLmxlbmd0aCksMD09PW8/KHQ9YS5zdWJzdHJpbmcoZS5sZW5ndGgpLGkuaHRtbCgiPHN0cm9uZz4iK2UrIjwvc3Ryb25nPiIrdCkpOjA8byYmKHQ9YS5zbGljZSgwLG8pLG89YS5zbGljZShvK2wubGVuZ3RoKSxpLmh0bWwodCsiPHN0cm9uZz4iK2UrIjwvc3Ryb25nPiIrbykpLHIuc2hvdygpKTpyLmhpZGUoKX0pfSl9KSxtKHdpbmRvdykudW5sb2FkKGZ1bmN0aW9uKCl7aygpJiZtLmFkZHJlc3MuaGlzdG9yeSghMCl9KSxtKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3YoKSxrKCkmJm0uYWRkcmVzcy5oaXN0b3J5KCExKX0pfShqUXVlcnksc2V2ZW5TcGlrZXNDb3JlLEZpbHRlcnNNYW5hZ2VyKTsNClByaWNlUmFuZ2VGaWx0ZXJNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxmdW5jdGlvbihvLGUsdSl7dmFyIHI7ZnVuY3Rpb24gcygpe3JldHVybiByfHwocj1uZXcgZSkscn11LnByb3RvdHlwZS5idWlsZFByaWNlUmFuZ2VGaWx0ZXJNb2RlbD1mdW5jdGlvbihlLHIsaSxsKXt2YXIgYT1wYXJzZUZsb2F0KG8oIiNzbGlkZXIiKS5hdHRyKCJkYXRhLXNsaWRlck1pblZhbHVlIikpLHQ9cGFyc2VGbG9hdChvKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNYXhWYWx1ZSIpKSxuPXUuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWUsYz11LnNsaWRlclNlbGVjdGVkVG9WYWx1ZSxkPW5ldyBPYmplY3Q7ZC5DYXRlZ29yeUlkPWUsZC5NYW51ZmFjdHVyZXJJZD1yLGQuVmVuZG9ySWQ9aSxudWxsIT1sJiZsLmdldCgwKT09PW8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIikuZ2V0KDApJiYoZC5Qcmlvcml0eT0xKTt2YXIgcz1uZXcgT2JqZWN0O3JldHVybiBudWxsIT1uJiZuIT09YSYmKHMuRnJvbT1uLnRvU3RyaW5nKCkpLG51bGwhPWMmJmMhPT10JiYocy5Ubz1jLnRvU3RyaW5nKCkpLGQuU2VsZWN0ZWRQcmljZVJhbmdlPXMsZC5NaW5QcmljZT1hLnRvU3RyaW5nKCksZC5NYXhQcmljZT10LnRvU3RyaW5nKCksZH0sdS5wcm90b3R5cGUuU2V0U2xpZGVyVmFsdWVzPWZ1bmN0aW9uKGUscil7dmFyIGk9cGFyc2VGbG9hdChvKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNaW5WYWx1ZSIpKSxsPXBhcnNlRmxvYXQobygiI3NsaWRlciIpLmF0dHIoImRhdGEtc2xpZGVyTWF4VmFsdWUiKSk7bnVsbCE9ZSYmbnVsbCE9cnx8KG8oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsInZhbHVlcyIsW2ksbF0pLHUuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWU9aSx1LnNsaWRlclNlbGVjdGVkVG9WYWx1ZT1sLG8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWluUHJpY2UiKS5odG1sKGkudG9GaXhlZCgpKSxvKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1heFByaWNlIikuaHRtbChsLnRvRml4ZWQoKSkpLG51bGw9PWUmJm51bGwhPXImJihvKCIjc2xpZGVyIikuc2xpZGVyKCJvcHRpb24iLCJ2YWx1ZXMiLFtpLHJdKSx1LnNsaWRlclNlbGVjdGVkRnJvbVZhbHVlPWksdS5zbGlkZXJTZWxlY3RlZFRvVmFsdWU9cixvKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1pblByaWNlIikuaHRtbChpLnRvRml4ZWQoKSksbygiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNYXhQcmljZSIpLmh0bWwoci50b0ZpeGVkKCkpKSxudWxsIT1lJiZudWxsPT1yJiYobygiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIiwidmFsdWVzIixbZSxsXSksdS5zbGlkZXJTZWxlY3RlZEZyb21WYWx1ZT1lLHUuc2xpZGVyU2VsZWN0ZWRUb1ZhbHVlPWwsbygiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNaW5QcmljZSIpLmh0bWwoZS50b0ZpeGVkKCkpLG8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWF4UHJpY2UiKS5odG1sKGwudG9GaXhlZCgpKSksbnVsbCE9ZSYmbnVsbCE9ciYmKG8oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsInZhbHVlcyIsW2Uscl0pLHUuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWU9ZSx1LnNsaWRlclNlbGVjdGVkVG9WYWx1ZT1yLG8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWluUHJpY2UiKS5odG1sKGUudG9GaXhlZCgpKSxvKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1heFByaWNlIikuaHRtbChyLnRvRml4ZWQoKSkpO3ZhciBhPW8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC50aXRsZSBhLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpO2U9PT1pJiZyPT09bHx8bnVsbD09ZSYmbnVsbD09cj9hLmhpZGUoKTphLnNob3coKX0sdS5wcm90b3R5cGUuc2xpZGVyU2xpZGU9ZnVuY3Rpb24oZSxyKXt2YXIgaT1wYXJzZUZsb2F0KG8oIiNzbGlkZXIiKS5hdHRyKCJkYXRhLXNsaWRlck1pblZhbHVlIikpLGw9cGFyc2VGbG9hdChvKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNYXhWYWx1ZSIpKSxhPXIudmFsdWVzWzBdLnRvRml4ZWQoKSx0PXIudmFsdWVzWzFdLnRvRml4ZWQoKSxuPXMoKS5hZGp1c3RNaW5NYXhWYWx1ZXNJZkluUlRMKGksbCxhLHQpO28oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWluUHJpY2UiKS5odG1sKG4ubWluVmFsdWUpLG8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWF4UHJpY2UiKS5odG1sKG4ubWF4VmFsdWUpfSx1LnByb3RvdHlwZS5zbGlkZXJTdG9wcGVkPWZ1bmN0aW9uKGUscil7dmFyIGk9cygpLGw9cGFyc2VGbG9hdChvKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNaW5WYWx1ZSIpKSxhPXBhcnNlRmxvYXQobygiI3NsaWRlciIpLmF0dHIoImRhdGEtc2xpZGVyTWF4VmFsdWUiKSksdD1yLnZhbHVlc1swXSxuPXIudmFsdWVzWzFdLGM9aS5hZGp1c3RNaW5NYXhWYWx1ZXNJZkluUlRMKGwsYSx0LG4pO3Uuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWU9Yy5taW5WYWx1ZSx1LnNsaWRlclNlbGVjdGVkVG9WYWx1ZT1jLm1heFZhbHVlLGkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIikpO3ZhciBkPW8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC50aXRsZSBhLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpO2MubWluVmFsdWU9PT1sJiZjLm1heFZhbHVlPT09YT9kLmhpZGUoKTpkLnNob3coKX0sdS5wcm90b3R5cGUuY2xlYXJQcmljZVJhbmdlRmlsdGVyPWZ1bmN0aW9uKGUpe2UuZGF0YS5wcmljZVJhbmdlRmlsdGVyTWFuYWdlci5jbGVhclByaWNlUmFuZ2VGaWx0ZXJDb250cm9sKCkscygpLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycyhvKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyIpKX0sdS5wcm90b3R5cGUuY2xlYXJQcmljZVJhbmdlRmlsdGVyQ29udHJvbD1mdW5jdGlvbigpe28oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC50aXRsZSBhLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpLmhpZGUoKTt2YXIgZT1vKCIjc2xpZGVyIikuc2xpZGVyKCJvcHRpb24iLCJtaW4iKSxyPW8oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsIm1heCIpO28oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIse3ZhbHVlczpbZSxyXX0pLG8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWluUHJpY2UiKS5odG1sKGUudG9GaXhlZCgpKSxvKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1heFByaWNlIikuaHRtbChyLnRvRml4ZWQoKSksdS5zbGlkZXJTZWxlY3RlZEZyb21WYWx1ZT1lLHUuc2xpZGVyU2VsZWN0ZWRUb1ZhbHVlPXJ9LHUucHJvdG90eXBlLmRldGVybWluZUlmUHJpY2VSYW5nZUhhc0JlZW5TZWxlY3RlZD1mdW5jdGlvbigpe3ZhciBlPW8oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsIm1pbiIpLHI9bygiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIiwibWF4IiksaT1vKCIjc2xpZGVyIikuc2xpZGVyKCJvcHRpb24iLCJ2YWx1ZXMiKTtyZXR1cm4gaVswXSE9PWV8fGlbMV0hPT1yfSxlLnByb3RvdHlwZS5idWlsZFByaWNlUmFuZ2VGaWx0ZXJNb2RlbD0obmV3IHUpLmJ1aWxkUHJpY2VSYW5nZUZpbHRlck1vZGVsLGUucHJvdG90eXBlLlNldFNsaWRlclZhbHVlcz0obmV3IHUpLlNldFNsaWRlclZhbHVlcyxlLnByb3RvdHlwZS5jbGVhclByaWNlUmFuZ2VGaWx0ZXJDb250cm9sPShuZXcgdSkuY2xlYXJQcmljZVJhbmdlRmlsdGVyQ29udHJvbCxlLnByb3RvdHlwZS5kZXRlcm1pbmVJZlByaWNlUmFuZ2VIYXNCZWVuU2VsZWN0ZWQ9KG5ldyB1KS5kZXRlcm1pbmVJZlByaWNlUmFuZ2VIYXNCZWVuU2VsZWN0ZWQsbyhkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt2YXIgZT1vKCIjc2xpZGVyIikscj1wYXJzZUZsb2F0KGUuYXR0cigiZGF0YS1zbGlkZXJNaW5WYWx1ZSIpKSxpPXBhcnNlRmxvYXQoZS5hdHRyKCJkYXRhLXNsaWRlck1heFZhbHVlIikpLGw9ZS5hdHRyKCJkYXRhLXNlbGVjdGVkRnJvbVZhbHVlIiksYT1lLmF0dHIoImRhdGEtc2VsZWN0ZWRUb1ZhbHVlIiksdD1uZXcgdTtlLnNsaWRlcih7bWluOnIsbWF4OmkscmFuZ2U6ITAsdmFsdWVzOltsLGFdLHNsaWRlOnQuc2xpZGVyU2xpZGUsc3RvcDp0LnNsaWRlclN0b3BwZWR9KSxvKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1pblByaWNlIikuaHRtbChyLnRvRml4ZWQoKSksbygiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNYXhQcmljZSIpLmh0bWwoaS50b0ZpeGVkKCkpO3ZhciBuPW8oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC50aXRsZSBhLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpO24uY2xpY2soe3ByaWNlUmFuZ2VGaWx0ZXJNYW5hZ2VyOnR9LHQuY2xlYXJQcmljZVJhbmdlRmlsdGVyKSxuLmhpZGUoKX0pfShqUXVlcnksRmlsdGVyc01hbmFnZXIsUHJpY2VSYW5nZUZpbHRlck1hbmFnZXIpOw0KLyoKICogalF1ZXJ5IFVJIFRvdWNoIFB1bmNoIDAuMi4yCiAqCiAqIENvcHlyaWdodCAyMDExLCBEYXZlIEZ1cmZlcm8KICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqCiAqIERlcGVuZHM6CiAqICBqcXVlcnkudWkud2lkZ2V0LmpzCiAqICBqcXVlcnkudWkubW91c2UuanMKICovCihmdW5jdGlvbihiKXtiLnN1cHBvcnQudG91Y2g9Im9udG91Y2hlbmQiIGluIGRvY3VtZW50O2lmKCFiLnN1cHBvcnQudG91Y2gpe3JldHVybjt9dmFyIGM9Yi51aS5tb3VzZS5wcm90b3R5cGUsZT1jLl9tb3VzZUluaXQsYTtmdW5jdGlvbiBkKGcsaCl7aWYoZy5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoPjEpe3JldHVybjt9Zy5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPWcub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSxmPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO2YuaW5pdE1vdXNlRXZlbnQoaCx0cnVlLHRydWUsd2luZG93LDEsaS5zY3JlZW5YLGkuc2NyZWVuWSxpLmNsaWVudFgsaS5jbGllbnRZLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLDAsbnVsbCk7Zy50YXJnZXQuZGlzcGF0Y2hFdmVudChmKTt9Yy5fdG91Y2hTdGFydD1mdW5jdGlvbihnKXt2YXIgZj10aGlzO2lmKGF8fCFmLl9tb3VzZUNhcHR1cmUoZy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdKSl7cmV0dXJuO31hPXRydWU7Zi5fdG91Y2hNb3ZlZD1mYWxzZTtkKGcsIm1vdXNlb3ZlciIpO2QoZywibW91c2Vtb3ZlIik7ZChnLCJtb3VzZWRvd24iKTt9O2MuX3RvdWNoTW92ZT1mdW5jdGlvbihmKXtpZighYSl7cmV0dXJuO310aGlzLl90b3VjaE1vdmVkPXRydWU7ZChmLCJtb3VzZW1vdmUiKTt9O2MuX3RvdWNoRW5kPWZ1bmN0aW9uKGYpe2lmKCFhKXtyZXR1cm47fWQoZiwibW91c2V1cCIpO2QoZiwibW91c2VvdXQiKTtpZighdGhpcy5fdG91Y2hNb3ZlZCl7ZChmLCJjbGljayIpO31hPWZhbHNlO307Yy5fbW91c2VJbml0PWZ1bmN0aW9uKCl7dmFyIGY9dGhpcztmLmVsZW1lbnQuYmluZCgidG91Y2hzdGFydCIsYi5wcm94eShmLCJfdG91Y2hTdGFydCIpKS5iaW5kKCJ0b3VjaG1vdmUiLGIucHJveHkoZiwiX3RvdWNoTW92ZSIpKS5iaW5kKCJ0b3VjaGVuZCIsYi5wcm94eShmLCJfdG91Y2hFbmQiKSk7ZS5jYWxsKGYpO307fSkoalF1ZXJ5KTsNCihmdW5jdGlvbiAobiwgdCkgeyBmdW5jdGlvbiBpKGksIHIsIHUsIGYpIHsgdmFyIGUgPSB7fTsgcmV0dXJuIGUuQ2F0ZWdvcnlJZCA9IGksIGUuTWFudWZhY3R1cmVySWQgPSByLCBlLlZlbmRvcklkID0gdSwgZS5BdHRyaWJ1dGVGaWx0ZXJHcm91cHMgPSBbXSwgbigiLmF0dHJpYnV0ZUZpbHRlclBhbmVsN1NwaWtlcyAuZmlsdGVyc0dyb3VwUGFuZWwiKS5lYWNoKGZ1bmN0aW9uICgpIHsgdmFyIHIgPSBuKHRoaXMpLCB1ID0gcGFyc2VJbnQoci5hdHRyKCJkYXRhLW9wdGlvbnNHcm91cElkIikpIHx8IDAsIGkgPSB7fTsgaS5JZCA9IHU7IGYgIT0gdW5kZWZpbmVkICYmIGYuaXMocikgJiYgKGkuSXNNYWluID0gITAsIGUuUHJpb3JpdHkgPSAxKTsgaS5GaWx0ZXJJdGVtcyA9IFtdOyByLmZpbmQoIltkYXRhLW9wdGlvbi1pZHNdIikuZWFjaChmdW5jdGlvbiAoKSB7IHZhciB1ID0gbih0aGlzKSwgZiA9IHUuYXR0cigiZGF0YS1vcHRpb24taWRzIiksIGUgPSB1LmF0dHIoImRhdGEtdmFsdWVJZCIpLCBvID0gZi5zcGxpdCgiLCIpLCByID0ge307IHIuVmFsdWVJZCA9IGU7IHIuUHJvZHVjdFZhcmlhbnRBdHRyaWJ1dGVJZHMgPSBvOyByLkZpbHRlckl0ZW1TdGF0ZSA9IHQuZ2V0RmlsdGVySXRlbVN0YXRlQmFzZWRPbkF0dHJpYnV0ZXModSk7IGkuRmlsdGVySXRlbXMucHVzaChyKSB9KTsgZS5BdHRyaWJ1dGVGaWx0ZXJHcm91cHMucHVzaChpKSB9KSwgZSB9IGZ1bmN0aW9uIHIoaSwgcikgeyB2YXIgdSA9IHIgPT09ICJ1c2Vkcm9wZG93bnMiOyBuKCIuYXR0cmlidXRlRmlsdGVyUGFuZWw3U3Bpa2VzIC5maWx0ZXJzR3JvdXBQYW5lbCIpLmVhY2goZnVuY3Rpb24gKCkgeyB2YXIgciA9IG4odGhpcyksIG8gPSBwYXJzZUludChyLmF0dHIoImRhdGEtb3B0aW9uc0dyb3VwSWQiKSkgfHwgMCwgZSA9IG4uZ3JlcChpLkF0dHJpYnV0ZUZpbHRlckdyb3VwcywgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uSWQgPT09IG8gfSksIGY7IGUubGVuZ3RoICE9PSAwICYmIChmID0gdSwgci5maW5kKCJbZGF0YS1vcHRpb24taWRzXSIpLmVhY2goZnVuY3Rpb24gKCkgeyB2YXIgaSA9IG4odGhpcyksIHMgPSBwYXJzZUludChpLmF0dHIoImRhdGEtdmFsdWVJZCIpKSB8fCAwLCByID0gbi5ncmVwKGVbMF0uRmlsdGVySXRlbXMsIGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLlZhbHVlSWQgPT09IHMgfSksIG87IHIubGVuZ3RoICE9PSAwICYmIChvID0gdC5hZGRTdGF0ZUNsYXNzQW5kQXR0cmlidXRlc1RvT3B0aW9uKGksIHJbMF0uRmlsdGVySXRlbVN0YXRlLCB1KSwgbyAmJiAoZiA9ICExKSkgfSksIGYgJiYgci5maW5kKCdbdmFsdWU9IjAiXScpLmF0dHIoInNlbGVjdGVkIiwgInNlbGVjdGVkIikpIH0pIH0gdC5wcm90b3R5cGUuYnVpbGRBdHRyaWJ1dGVGaWx0ZXJzTW9kZWwgPSBpOyB0LnByb3RvdHlwZS5yZWZyZXNoQXR0cmlidXRlRmlsdGVycyA9IHI7IG4oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsgbigiLmF0dHJpYnV0ZUZpbHRlclBhbmVsN1NwaWtlcyIpLmZpbmQoJy5hdHRyaWJ1dGUtb3B0aW9ucy1zZWxlY3QsIC5jaGVja2JveC1saXN0IGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5vbigiY2hhbmdlIiwgZnVuY3Rpb24gKCkgeyB2YXIgaSA9IG4odGhpcyksIHIgPSBpLmNsb3Nlc3QoImRpdltkYXRhLW9wdGlvbnNncm91cGlkXSIpLCB1ID0gbmV3IHQ7IHUucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKHIsIGkpIH0pIH0pIH0pKGpRdWVyeSwgRmlsdGVyc01hbmFnZXIpOw0KZnVuY3Rpb24gc2V0SGlzdG9yeVN0YXRlKCkgeyB2YXIgZSA9IGhpc3Rvcnkuc3RhdGUgPyBoaXN0b3J5LnN0YXRlIDoge307IGUuaXNQYWdlQWxyZWFkeVZpc2l0ZWQgPSAhMCwgaGlzdG9yeS5yZXBsYWNlU3RhdGUoZSwgIiIsIHdpbmRvdy5sb2NhdGlvbikgfSB2YXIgZmlyc3RJbml0ID0gITAsIG5vSGFzaFF1ZXJ5SW5pdGlhbGl6ZWQgPSAhMSwgZmlsdGVyTWFuYWdlciwgaXNQYWdlQWxyZWFkeVZpc2l0ZWQgPSAhMSwgdmlzaWJsZVBhZ2UsIHJldmVyc2VJbmZpbml0ZVNjcm9sbDsgJC5hZGRyZXNzLmV4dGVybmFsQ2hhbmdlKGZ1bmN0aW9uICgpIHsgZmlsdGVyTWFuYWdlciA9IG5ldyBGaWx0ZXJzTWFuYWdlcjsgdmFyIGUgPSB3aW5kb3cubG9jYXRpb24uaGFzaDsgZSA/IGZpbHRlck1hbmFnZXIucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG51bGwsIG51bGwsIG51bGwsIGUsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGlzUGFnZUFscmVhZHlWaXNpdGVkLCB2aXNpYmxlUGFnZSkgOiBmaXJzdEluaXQgfHwgKGZpbHRlck1hbmFnZXIucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG51bGwsIG51bGwsIG51bGwsICJOTyBIQVNIIFFVRVJZIiwgbm9IYXNoUXVlcnlJbml0aWFsaXplZCwgdm9pZCAwLCB2b2lkIDAsIGlzUGFnZUFscmVhZHlWaXNpdGVkKSwgbm9IYXNoUXVlcnlJbml0aWFsaXplZCA9ICFub0hhc2hRdWVyeUluaXRpYWxpemVkKSwgZmlyc3RJbml0ID0gITEgfSksICJ1bmRlZmluZWQiICE9IHR5cGVvZiBSZXZlcnNlSW5maW5pdGVTY3JvbGwgJiYgKHJldmVyc2VJbmZpbml0ZVNjcm9sbCA9IG5ldyBSZXZlcnNlSW5maW5pdGVTY3JvbGwpLmluaXQoKSwgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgeyBzZXRIaXN0b3J5U3RhdGUoKSB9KSwgJChkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQiLCBzZXRIaXN0b3J5U3RhdGUpLCB3aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uIChlKSB7IGhpc3Rvcnkuc3RhdGUgJiYgKGlzUGFnZUFscmVhZHlWaXNpdGVkID0gYWpheEZpbHRlcnNIaXN0b3J5LnN0YXRlKCkuaXNQYWdlQWxyZWFkeVZpc2l0ZWQsIHZpc2libGVQYWdlID0gYWpheEZpbHRlcnNIaXN0b3J5LnN0YXRlKCkudmlzaWJsZVBhZ2UpIH07DQohZnVuY3Rpb24oaSxuKXtpKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2koIi5tZWdhLW1lbnUiKS5lYWNoKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe3ZhciBuPSJjbGljay5tZWdhTWVudUV2ZW50Iix0PSJjbGljay5tZWdhTWVudURvY3VtZW50RXZlbnQiO2lmKGUub25lKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7aShkb2N1bWVudCkudHJpZ2dlcigic2V2ZW5TcGlrZXNNZWdhTWVudU1vdXNlT3ZlckV2ZW50IiksZS5maW5kKCJpbWcubGF6eSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1pKHRoaXMpO2UuYXR0cigic3JjIixlLmF0dHIoImRhdGEtb3JpZ2luYWwiKSl9KX0pLCJ0cnVlIj09PWUuYXR0cigiZGF0YS1lbmFibGVDbGlja0ZvckRyb3BEb3duIikpe3ZhciBvPWUuY2hpbGRyZW4oImxpIikuY2hpbGRyZW4oIi5kcm9wZG93biwgLnN1Ymxpc3Qtd3JhcCIpO28uc2libGluZ3MoImEiKS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0pLG8uY2xpY2soZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pLGUuY2hpbGRyZW4oImxpIikub2ZmKG4pLm9uKG4sZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgbj1pKHRoaXMpLmNoaWxkcmVuKCIuZHJvcGRvd24sIC5zdWJsaXN0LXdyYXAiKTtvLm5vdChuKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksbi50b2dnbGVDbGFzcygiYWN0aXZlIil9KSxpKGRvY3VtZW50KS5vZmYodCkub24odCxmdW5jdGlvbigpe28ucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSl9fShpKHRoaXMpKX0pLGkoIi5tZWdhLW1lbnUtcmVzcG9uc2l2ZSAubGFiZWxmb3JuZXh0cGx1c2J1dHRvbiIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXtpKHRoaXMpLm5leHQoIi5wbHVzLWJ1dHRvbiIpLmNsaWNrKCl9KSxuLnByZXBhcmVUb3BNZW51KCl9KSxpKGRvY3VtZW50KS5vbigidGhlbWVCcmVha3BvaW50UGFzc2VkN1NwaWtlcyIsZnVuY3Rpb24oZSl7ZS5pc0luaXRpYWxMb2FkfHxuLnByZXBhcmVUb3BNZW51KCl9KX0oalF1ZXJ5LHNldmVuU3Bpa2VzQ29yZSk7DQohZnVuY3Rpb24ocyl7cyh3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpe3MoIi5hbnl3aGVyZS1zbGljay1zbGlkZXIiKS5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgaT1lPyJzcmMiOiJkYXRhLWxhenkiLG49ZD8iZGF0YS1EZXNrdG9wUGljdHVyZVNyYyI6ImRhdGEtTW9iaWxlUGljdHVyZVNyYyI7ci5maW5kKCJpbWciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9cyh0aGlzKS5hdHRyKG4pO2UmJnModGhpcykuYXR0cihpLGUpfSl9dmFyIHI9cyh0aGlzKSxhPXIuYXR0cigiaWQiKSxkPXIuYXR0cigiZGF0YS1tb2JpbGVCcmVha3BvaW50Iik8c2V2ZW5TcGlrZXNDb3JlLmdldFZpZXdQb3J0KCkud2lkdGgsaT0hMSxvPSExO3QoITEpO2Z1bmN0aW9uIGUoKXt2YXIgZSxuLHQ7c2V2ZW5TcGlrZXNDb3JlLmlzSW5WaWV3UG9ydChyKSYmKHMoZG9jdW1lbnQpLm9uKCJBbnl3aGVyZVNsaWRlckZpcnN0U2xpZGVMb2FkZWQiK2EsZnVuY3Rpb24oKXtpPyhzKHdpbmRvdykub2ZmKCJzY3JvbGwuIithKSxzKGRvY3VtZW50KS5vZmYoIkFueXdoZXJlU2xpZGVyRmlyc3RTbGlkZUxvYWRlZCIrYSkpOihyLmZpbmQoImltZyIpLmNzcygiZGlzcGxheSIsImJsb2NrIiksci5oYXNDbGFzcygic2xpY2tsZXNzIil8fChyLnNsaWNrKCksaT0hMCxzLmV2ZW50LnRyaWdnZXIoIkFueXdoZXJlU2xpZGVyTG9hZGVkIikscy5ldmVudC50cmlnZ2VyKCJBbnl3aGVyZVNsaWRlckxvYWRlZCIrYSkpLGk9ITApfSksZT1yLmZpbmQoIi5hbnl3aGVyZXNsaWRlci1zbGlkZSIpLmZpcnN0KCkuZmluZCgiaW1nIiksbj1lLmxlbmd0aCwodD0wKT09PW4/KG89ITAscy5ldmVudC50cmlnZ2VyKCJBbnl3aGVyZVNsaWRlckZpcnN0U2xpZGVMb2FkZWQiK2EpKTplLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1zKHRoaXMpLGk9ZS5hdHRyKCJkYXRhLWxhenkiKTtpPyhlLmF0dHIoInNyYyIsaSksZS5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKSxlLm9uKCJsb2FkIixmdW5jdGlvbigpeysrdD09biYmKG89ITAscy5ldmVudC50cmlnZ2VyKCJBbnl3aGVyZVNsaWRlckZpcnN0U2xpZGVMb2FkZWQiK2EpKX0pKTpvfHwocy5ldmVudC50cmlnZ2VyKCJBbnl3aGVyZVNsaWRlckZpcnN0U2xpZGVMb2FkZWQiK2EpLG89ITApfSkpfWUoKSxzKHdpbmRvdykub24oInNjcm9sbC4iK2EsZSkscyh3aW5kb3cpLm9uKCJBbnl3aGVyZVNsaWRlckxvYWRlZCIsZSkscyh3aW5kb3cpLm9uKCJzZXZlblNwaWtlc01lZ2FNZW51TW91c2VPdmVyRXZlbnQiLGZ1bmN0aW9uKCl7KDA8ci5wYXJlbnRzKCIubWVnYS1tZW51IikubGVuZ3RofHwwPHIucGFyZW50cygiLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdC13cmFwcGVyIikubGVuZ3RoKSYmKGUoKSxpPSEwKX0pLHIub24oImJyZWFrcG9pbnQiLGZ1bmN0aW9uKGUsaSxuKXtkPSFkLHQoITApLHIuc2xpY2soInVuc2xpY2siKSxyLnNsaWNrKCl9KX0pfSl9KGpRdWVyeSk7DQovKg0KICAgICBfIF8gICAgICBfICAgICAgIF8NCiBfX198IChfKSBfX198IHwgX18gIChfKV9fXw0KLyBfX3wgfCB8LyBfX3wgfC8gLyAgfCAvIF9ffA0KXF9fIFwgfCB8IChfX3wgICA8IF8gfCBcX18gXA0KfF9fXy9ffF98XF9fX3xffFxfKF8pLyB8X19fLw0KICAgICAgICAgICAgICAgICAgIHxfXy8NCg0KIFZlcnNpb246IDEuNi4wDQogIEF1dGhvcjogS2VuIFdoZWVsZXINCiBXZWJzaXRlOiBodHRwOi8va2Vud2hlZWxlci5naXRodWIuaW8NCiAgICBEb2NzOiBodHRwOi8va2Vud2hlZWxlci5naXRodWIuaW8vc2xpY2sNCiAgICBSZXBvOiBodHRwOi8vZ2l0aHViLmNvbS9rZW53aGVlbGVyL3NsaWNrDQogIElzc3VlczogaHR0cDovL2dpdGh1Yi5jb20va2Vud2hlZWxlci9zbGljay9pc3N1ZXMNCg0KICovDQohZnVuY3Rpb24gKGEpIHsgInVzZSBzdHJpY3QiOyAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbImpxdWVyeSJdLCBhKSA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBleHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBhKHJlcXVpcmUoImpxdWVyeSIpKSA6IGEoalF1ZXJ5KSB9KGZ1bmN0aW9uIChhKSB7InVzZSBzdHJpY3QiOyB2YXIgYiA9IHdpbmRvdy5TbGljayB8fCB7fTsgYiA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gYyhjLCBkKSB7IHZhciBmLCBlID0gdGhpczsgZS5kZWZhdWx0cyA9IHsgYWNjZXNzaWJpbGl0eTogITAsIGFkYXB0aXZlSGVpZ2h0OiAhMSwgYXBwZW5kQXJyb3dzOiBhKGMpLCBhcHBlbmREb3RzOiBhKGMpLCBhcnJvd3M6ICEwLCBhc05hdkZvcjogbnVsbCwgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtcm9sZT0ibm9uZSIgY2xhc3M9InNsaWNrLXByZXYiIGFyaWEtbGFiZWw9IlByZXZpb3VzIiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj5QcmV2aW91czwvYnV0dG9uPicsIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLXJvbGU9Im5vbmUiIGNsYXNzPSJzbGljay1uZXh0IiBhcmlhLWxhYmVsPSJOZXh0IiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj5OZXh0PC9idXR0b24+JywgYXV0b3BsYXk6ICExLCBhdXRvcGxheVNwZWVkOiAzZTMsIGNlbnRlck1vZGU6ICExLCBjZW50ZXJQYWRkaW5nOiAiNTBweCIsIGNzc0Vhc2U6ICJlYXNlIiwgY3VzdG9tUGFnaW5nOiBmdW5jdGlvbiAoYiwgYykgeyByZXR1cm4gYSgnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtcm9sZT0ibm9uZSIgcm9sZT0iYnV0dG9uIiB0YWJpbmRleD0iMCIgLz4nKS50ZXh0KGMgKyAxKSB9LCBkb3RzOiAhMSwgZG90c0NsYXNzOiAic2xpY2stZG90cyIsIGRyYWdnYWJsZTogITAsIGVhc2luZzogImxpbmVhciIsIGVkZ2VGcmljdGlvbjogLjM1LCBmYWRlOiAhMSwgZm9jdXNPblNlbGVjdDogITEsIGluZmluaXRlOiAhMCwgaW5pdGlhbFNsaWRlOiAwLCBsYXp5TG9hZDogIm9uZGVtYW5kIiwgbW9iaWxlRmlyc3Q6ICExLCBwYXVzZU9uSG92ZXI6ICEwLCBwYXVzZU9uRm9jdXM6ICEwLCBwYXVzZU9uRG90c0hvdmVyOiAhMSwgcmVzcG9uZFRvOiAid2luZG93IiwgcmVzcG9uc2l2ZTogbnVsbCwgcm93czogMSwgcnRsOiAhMSwgc2xpZGU6ICIiLCBzbGlkZXNQZXJSb3c6IDEsIHNsaWRlc1RvU2hvdzogMSwgc2xpZGVzVG9TY3JvbGw6IDEsIHNwZWVkOiA1MDAsIHN3aXBlOiAhMCwgc3dpcGVUb1NsaWRlOiAhMSwgdG91Y2hNb3ZlOiAhMCwgdG91Y2hUaHJlc2hvbGQ6IDUsIHVzZUNTUzogITAsIHVzZVRyYW5zZm9ybTogITAsIHZhcmlhYmxlV2lkdGg6ICExLCB2ZXJ0aWNhbDogITEsIHZlcnRpY2FsU3dpcGluZzogITEsIHdhaXRGb3JBbmltYXRlOiAhMCwgekluZGV4OiAxZTMgfSwgZS5pbml0aWFscyA9IHsgYW5pbWF0aW5nOiAhMSwgZHJhZ2dpbmc6ICExLCBhdXRvUGxheVRpbWVyOiBudWxsLCBjdXJyZW50RGlyZWN0aW9uOiAwLCBjdXJyZW50TGVmdDogbnVsbCwgY3VycmVudFNsaWRlOiAwLCBkaXJlY3Rpb246IDEsICRkb3RzOiBudWxsLCBsaXN0V2lkdGg6IG51bGwsIGxpc3RIZWlnaHQ6IG51bGwsIGxvYWRJbmRleDogMCwgJG5leHRBcnJvdzogbnVsbCwgJHByZXZBcnJvdzogbnVsbCwgc2xpZGVDb3VudDogbnVsbCwgc2xpZGVXaWR0aDogbnVsbCwgJHNsaWRlVHJhY2s6IG51bGwsICRzbGlkZXM6IG51bGwsIHNsaWRpbmc6ICExLCBzbGlkZU9mZnNldDogMCwgc3dpcGVMZWZ0OiBudWxsLCAkbGlzdDogbnVsbCwgdG91Y2hPYmplY3Q6IHt9LCB0cmFuc2Zvcm1zRW5hYmxlZDogITEsIHVuc2xpY2tlZDogITEgfSwgYS5leHRlbmQoZSwgZS5pbml0aWFscyksIGUuYWN0aXZlQnJlYWtwb2ludCA9IG51bGwsIGUuYW5pbVR5cGUgPSBudWxsLCBlLmFuaW1Qcm9wID0gbnVsbCwgZS5icmVha3BvaW50cyA9IFtdLCBlLmJyZWFrcG9pbnRTZXR0aW5ncyA9IFtdLCBlLmNzc1RyYW5zaXRpb25zID0gITEsIGUuZm9jdXNzZWQgPSAhMSwgZS5pbnRlcnJ1cHRlZCA9ICExLCBlLmhpZGRlbiA9ICJoaWRkZW4iLCBlLnBhdXNlZCA9ICEwLCBlLnBvc2l0aW9uUHJvcCA9IG51bGwsIGUucmVzcG9uZFRvID0gbnVsbCwgZS5yb3dDb3VudCA9IDEsIGUuc2hvdWxkQ2xpY2sgPSAhMCwgZS4kc2xpZGVyID0gYShjKSwgZS4kc2xpZGVzQ2FjaGUgPSBudWxsLCBlLnRyYW5zZm9ybVR5cGUgPSBudWxsLCBlLnRyYW5zaXRpb25UeXBlID0gbnVsbCwgZS52aXNpYmlsaXR5Q2hhbmdlID0gInZpc2liaWxpdHljaGFuZ2UiLCBlLndpbmRvd1dpZHRoID0gMCwgZS53aW5kb3dUaW1lciA9IG51bGwsIGYgPSBhKGMpLmRhdGEoInNsaWNrIikgfHwge30sIGUub3B0aW9ucyA9IGEuZXh0ZW5kKHt9LCBlLmRlZmF1bHRzLCBkLCBmKSwgZS5jdXJyZW50U2xpZGUgPSBlLm9wdGlvbnMuaW5pdGlhbFNsaWRlLCBlLm9yaWdpbmFsU2V0dGluZ3MgPSBlLm9wdGlvbnMsICJ1bmRlZmluZWQiICE9IHR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4gPyAoZS5oaWRkZW4gPSAibW96SGlkZGVuIiwgZS52aXNpYmlsaXR5Q2hhbmdlID0gIm1venZpc2liaWxpdHljaGFuZ2UiKSA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4gJiYgKGUuaGlkZGVuID0gIndlYmtpdEhpZGRlbiIsIGUudmlzaWJpbGl0eUNoYW5nZSA9ICJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlIiksIGUuYXV0b1BsYXkgPSBhLnByb3h5KGUuYXV0b1BsYXksIGUpLCBlLmF1dG9QbGF5Q2xlYXIgPSBhLnByb3h5KGUuYXV0b1BsYXlDbGVhciwgZSksIGUuYXV0b1BsYXlJdGVyYXRvciA9IGEucHJveHkoZS5hdXRvUGxheUl0ZXJhdG9yLCBlKSwgZS5jaGFuZ2VTbGlkZSA9IGEucHJveHkoZS5jaGFuZ2VTbGlkZSwgZSksIGUuY2xpY2tIYW5kbGVyID0gYS5wcm94eShlLmNsaWNrSGFuZGxlciwgZSksIGUuc2VsZWN0SGFuZGxlciA9IGEucHJveHkoZS5zZWxlY3RIYW5kbGVyLCBlKSwgZS5zZXRQb3NpdGlvbiA9IGEucHJveHkoZS5zZXRQb3NpdGlvbiwgZSksIGUuc3dpcGVIYW5kbGVyID0gYS5wcm94eShlLnN3aXBlSGFuZGxlciwgZSksIGUuZHJhZ0hhbmRsZXIgPSBhLnByb3h5KGUuZHJhZ0hhbmRsZXIsIGUpLCBlLmtleUhhbmRsZXIgPSBhLnByb3h5KGUua2V5SGFuZGxlciwgZSksIGUuaW5zdGFuY2VVaWQgPSBiKyssIGUuaHRtbEV4cHIgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSopJC8sIGUucmVnaXN0ZXJCcmVha3BvaW50cygpLCBlLmluaXQoITApIH0gdmFyIGIgPSAwOyByZXR1cm4gYyB9KCksIGIucHJvdG90eXBlLmFjdGl2YXRlQURBID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWFjdGl2ZSIpLmF0dHIoeyAiYXJpYS1oaWRkZW4iOiAiZmFsc2UiIH0pLmZpbmQoImEsIGlucHV0LCBidXR0b24sIHNlbGVjdCIpLmF0dHIoeyB0YWJpbmRleDogIjAiIH0pIH0sIGIucHJvdG90eXBlLmFkZFNsaWRlID0gYi5wcm90b3R5cGUuc2xpY2tBZGQgPSBmdW5jdGlvbiAoYiwgYywgZCkgeyB2YXIgZSA9IHRoaXM7IGlmICgiYm9vbGVhbiIgPT0gdHlwZW9mIGMpIGQgPSBjLCBjID0gbnVsbDsgZWxzZSBpZiAoMCA+IGMgfHwgYyA+PSBlLnNsaWRlQ291bnQpIHJldHVybiAhMTsgZS51bmxvYWQoKSwgIm51bWJlciIgPT0gdHlwZW9mIGMgPyAwID09PSBjICYmIDAgPT09IGUuJHNsaWRlcy5sZW5ndGggPyBhKGIpLmFwcGVuZFRvKGUuJHNsaWRlVHJhY2spIDogZCA/IGEoYikuaW5zZXJ0QmVmb3JlKGUuJHNsaWRlcy5lcShjKSkgOiBhKGIpLmluc2VydEFmdGVyKGUuJHNsaWRlcy5lcShjKSkgOiBkID09PSAhMCA/IGEoYikucHJlcGVuZFRvKGUuJHNsaWRlVHJhY2spIDogYShiKS5hcHBlbmRUbyhlLiRzbGlkZVRyYWNrKSwgZS4kc2xpZGVzID0gZS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLCBlLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksIGUuJHNsaWRlVHJhY2suYXBwZW5kKGUuJHNsaWRlcyksIGUuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChiLCBjKSB7IGEoYykuYXR0cigiZGF0YS1zbGljay1pbmRleCIsIGIpIH0pLCBlLiRzbGlkZXNDYWNoZSA9IGUuJHNsaWRlcywgZS5yZWluaXQoKSB9LCBiLnByb3RvdHlwZS5hbmltYXRlSGVpZ2h0ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGlmICgxID09PSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIGEub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCA9PT0gITAgJiYgYS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSkgeyB2YXIgYiA9IGEuJHNsaWRlcy5lcShhLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApOyBhLiRsaXN0LmFuaW1hdGUoeyBoZWlnaHQ6IGIgfSwgYS5vcHRpb25zLnNwZWVkKSB9IH0sIGIucHJvdG90eXBlLmFuaW1hdGVTbGlkZSA9IGZ1bmN0aW9uIChiLCBjKSB7IHZhciBkID0ge30sIGUgPSB0aGlzOyBlLmFuaW1hdGVIZWlnaHQoKSwgZS5vcHRpb25zLnJ0bCA9PT0gITAgJiYgZS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSAmJiAoYiA9IC1iKSwgZS50cmFuc2Zvcm1zRW5hYmxlZCA9PT0gITEgPyBlLm9wdGlvbnMudmVydGljYWwgPT09ICExID8gZS4kc2xpZGVUcmFjay5hbmltYXRlKHsgbGVmdDogYiB9LCBlLm9wdGlvbnMuc3BlZWQsIGUub3B0aW9ucy5lYXNpbmcsIGMpIDogZS4kc2xpZGVUcmFjay5hbmltYXRlKHsgdG9wOiBiIH0sIGUub3B0aW9ucy5zcGVlZCwgZS5vcHRpb25zLmVhc2luZywgYykgOiBlLmNzc1RyYW5zaXRpb25zID09PSAhMSA/IChlLm9wdGlvbnMucnRsID09PSAhMCAmJiAoZS5jdXJyZW50TGVmdCA9IC1lLmN1cnJlbnRMZWZ0KSwgYSh7IGFuaW1TdGFydDogZS5jdXJyZW50TGVmdCB9KS5hbmltYXRlKHsgYW5pbVN0YXJ0OiBiIH0sIHsgZHVyYXRpb246IGUub3B0aW9ucy5zcGVlZCwgZWFzaW5nOiBlLm9wdGlvbnMuZWFzaW5nLCBzdGVwOiBmdW5jdGlvbiAoYSkgeyBhID0gTWF0aC5jZWlsKGEpLCBlLm9wdGlvbnMudmVydGljYWwgPT09ICExID8gKGRbZS5hbmltVHlwZV0gPSAidHJhbnNsYXRlKCIgKyBhICsgInB4LCAwcHgpIiwgZS4kc2xpZGVUcmFjay5jc3MoZCkpIDogKGRbZS5hbmltVHlwZV0gPSAidHJhbnNsYXRlKDBweCwiICsgYSArICJweCkiLCBlLiRzbGlkZVRyYWNrLmNzcyhkKSkgfSwgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgYyAmJiBjLmNhbGwoKSB9IH0pKSA6IChlLmFwcGx5VHJhbnNpdGlvbigpLCBiID0gTWF0aC5jZWlsKGIpLCBlLm9wdGlvbnMudmVydGljYWwgPT09ICExID8gZFtlLmFuaW1UeXBlXSA9ICJ0cmFuc2xhdGUzZCgiICsgYiArICJweCwgMHB4LCAwcHgpIiA6IGRbZS5hbmltVHlwZV0gPSAidHJhbnNsYXRlM2QoMHB4LCIgKyBiICsgInB4LCAwcHgpIiwgZS4kc2xpZGVUcmFjay5jc3MoZCksIGMgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGUuZGlzYWJsZVRyYW5zaXRpb24oKSwgYy5jYWxsKCkgfSwgZS5vcHRpb25zLnNwZWVkKSkgfSwgYi5wcm90b3R5cGUuZ2V0TmF2VGFyZ2V0ID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXMsIGMgPSBiLm9wdGlvbnMuYXNOYXZGb3I7IHJldHVybiBjICYmIG51bGwgIT09IGMgJiYgKGMgPSBhKGMpLm5vdChiLiRzbGlkZXIpKSwgYyB9LCBiLnByb3RvdHlwZS5hc05hdkZvciA9IGZ1bmN0aW9uIChiKSB7IHZhciBjID0gdGhpcywgZCA9IGMuZ2V0TmF2VGFyZ2V0KCk7IG51bGwgIT09IGQgJiYgIm9iamVjdCIgPT0gdHlwZW9mIGQgJiYgZC5lYWNoKGZ1bmN0aW9uICgpIHsgdmFyIGMgPSBhKHRoaXMpLnNsaWNrKCJnZXRTbGljayIpOyBjLnVuc2xpY2tlZCB8fCBjLnNsaWRlSGFuZGxlcihiLCAhMCkgfSkgfSwgYi5wcm90b3R5cGUuYXBwbHlUcmFuc2l0aW9uID0gZnVuY3Rpb24gKGEpIHsgdmFyIGIgPSB0aGlzLCBjID0ge307IGIub3B0aW9ucy5mYWRlID09PSAhMSA/IGNbYi50cmFuc2l0aW9uVHlwZV0gPSBiLnRyYW5zZm9ybVR5cGUgKyAiICIgKyBiLm9wdGlvbnMuc3BlZWQgKyAibXMgIiArIGIub3B0aW9ucy5jc3NFYXNlIDogY1tiLnRyYW5zaXRpb25UeXBlXSA9ICJvcGFjaXR5ICIgKyBiLm9wdGlvbnMuc3BlZWQgKyAibXMgIiArIGIub3B0aW9ucy5jc3NFYXNlLCBiLm9wdGlvbnMuZmFkZSA9PT0gITEgPyBiLiRzbGlkZVRyYWNrLmNzcyhjKSA6IGIuJHNsaWRlcy5lcShhKS5jc3MoYykgfSwgYi5wcm90b3R5cGUuYXV0b1BsYXkgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5hdXRvUGxheUNsZWFyKCksIGEuc2xpZGVDb3VudCA+IGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgKGEuYXV0b1BsYXlUaW1lciA9IHNldEludGVydmFsKGEuYXV0b1BsYXlJdGVyYXRvciwgYS5vcHRpb25zLmF1dG9wbGF5U3BlZWQpKSB9LCBiLnByb3RvdHlwZS5hdXRvUGxheUNsZWFyID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuYXV0b1BsYXlUaW1lciAmJiBjbGVhckludGVydmFsKGEuYXV0b1BsYXlUaW1lcikgfSwgYi5wcm90b3R5cGUuYXV0b1BsYXlJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzLCBiID0gYS5jdXJyZW50U2xpZGUgKyBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7IGEucGF1c2VkIHx8IGEuaW50ZXJydXB0ZWQgfHwgYS5mb2N1c3NlZCB8fCAoYS5vcHRpb25zLmluZmluaXRlID09PSAhMSAmJiAoMSA9PT0gYS5kaXJlY3Rpb24gJiYgYS5jdXJyZW50U2xpZGUgKyAxID09PSBhLnNsaWRlQ291bnQgLSAxID8gYS5kaXJlY3Rpb24gPSAwIDogMCA9PT0gYS5kaXJlY3Rpb24gJiYgKGIgPSBhLmN1cnJlbnRTbGlkZSAtIGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCwgYS5jdXJyZW50U2xpZGUgLSAxID09PSAwICYmIChhLmRpcmVjdGlvbiA9IDEpKSksIGEuc2xpZGVIYW5kbGVyKGIpKSB9LCBiLnByb3RvdHlwZS5idWlsZEFycm93cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLm9wdGlvbnMuYXJyb3dzID09PSAhMCAmJiAoYi4kcHJldkFycm93ID0gYShiLm9wdGlvbnMucHJldkFycm93KS5hZGRDbGFzcygic2xpY2stYXJyb3ciKSwgYi4kbmV4dEFycm93ID0gYShiLm9wdGlvbnMubmV4dEFycm93KS5hZGRDbGFzcygic2xpY2stYXJyb3ciKSwgYi5zbGlkZUNvdW50ID4gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IChiLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIHRhYmluZGV4IiksIGIuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gdGFiaW5kZXgiKSwgYi5odG1sRXhwci50ZXN0KGIub3B0aW9ucy5wcmV2QXJyb3cpICYmIGIuJHByZXZBcnJvdy5wcmVwZW5kVG8oYi5vcHRpb25zLmFwcGVuZEFycm93cyksIGIuaHRtbEV4cHIudGVzdChiLm9wdGlvbnMubmV4dEFycm93KSAmJiBiLiRuZXh0QXJyb3cuYXBwZW5kVG8oYi5vcHRpb25zLmFwcGVuZEFycm93cyksIGIub3B0aW9ucy5pbmZpbml0ZSAhPT0gITAgJiYgYi4kcHJldkFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCAidHJ1ZSIpKSA6IGIuJHByZXZBcnJvdy5hZGQoYi4kbmV4dEFycm93KS5hZGRDbGFzcygic2xpY2staGlkZGVuIikuYXR0cih7ICJhcmlhLWRpc2FibGVkIjogInRydWUiLCB0YWJpbmRleDogIi0xIiB9KSkgfSwgYi5wcm90b3R5cGUuYnVpbGREb3RzID0gZnVuY3Rpb24gKCkgeyB2YXIgYywgZCwgYiA9IHRoaXM7IGlmIChiLm9wdGlvbnMuZG90cyA9PT0gITAgJiYgYi5zbGlkZUNvdW50ID4gYi5vcHRpb25zLnNsaWRlc1RvU2hvdykgeyBmb3IgKGIuJHNsaWRlci5hZGRDbGFzcygic2xpY2stZG90dGVkIiksIGQgPSBhKCI8dWwgLz4iKS5hZGRDbGFzcyhiLm9wdGlvbnMuZG90c0NsYXNzKSwgYyA9IDA7IGMgPD0gYi5nZXREb3RDb3VudCgpIDsgYyArPSAxKSBkLmFwcGVuZChhKCI8bGkgLz4iKS5hcHBlbmQoYi5vcHRpb25zLmN1c3RvbVBhZ2luZy5jYWxsKHRoaXMsIGIsIGMpKSk7IGIuJGRvdHMgPSBkLmFwcGVuZFRvKGIub3B0aW9ucy5hcHBlbmREb3RzKSwgYi4kZG90cy5maW5kKCJsaSIpLmZpcnN0KCkuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwgImZhbHNlIikgfSB9LCBiLnByb3RvdHlwZS5idWlsZE91dCA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLiRzbGlkZXMgPSBiLiRzbGlkZXIuY2hpbGRyZW4oYi5vcHRpb25zLnNsaWRlICsgIjpub3QoLnNsaWNrLWNsb25lZCkiKS5hZGRDbGFzcygic2xpY2stc2xpZGUiKSwgYi5zbGlkZUNvdW50ID0gYi4kc2xpZGVzLmxlbmd0aCwgYi4kc2xpZGVzLmVhY2goZnVuY3Rpb24gKGIsIGMpIHsgYShjKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IiwgYikuZGF0YSgib3JpZ2luYWxTdHlsaW5nIiwgYShjKS5hdHRyKCJzdHlsZSIpIHx8ICIiKSB9KSwgYi4kc2xpZGVyLmFkZENsYXNzKCJzbGljay1zbGlkZXIiKSwgYi4kc2xpZGVUcmFjayA9IDAgPT09IGIuc2xpZGVDb3VudCA/IGEoJzxkaXYgY2xhc3M9InNsaWNrLXRyYWNrIi8+JykuYXBwZW5kVG8oYi4kc2xpZGVyKSA6IGIuJHNsaWRlcy53cmFwQWxsKCc8ZGl2IGNsYXNzPSJzbGljay10cmFjayIvPicpLnBhcmVudCgpLCBiLiRsaXN0ID0gYi4kc2xpZGVUcmFjay53cmFwKCc8ZGl2IGFyaWEtbGl2ZT0icG9saXRlIiBjbGFzcz0ic2xpY2stbGlzdCIvPicpLnBhcmVudCgpLCBiLiRzbGlkZVRyYWNrLmNzcygib3BhY2l0eSIsIDApLCAoYi5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwIHx8IGIub3B0aW9ucy5zd2lwZVRvU2xpZGUgPT09ICEwKSAmJiAoYi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsID0gMSksIGEoImltZ1tkYXRhLWxhenldIiwgYi4kc2xpZGVyKS5ub3QoIltzcmNdIikuYWRkQ2xhc3MoInNsaWNrLWxvYWRpbmciKSwgYi5zZXR1cEluZmluaXRlKCksIGIuYnVpbGRBcnJvd3MoKSwgYi5idWlsZERvdHMoKSwgYi51cGRhdGVEb3RzKCksIGIuc2V0U2xpZGVDbGFzc2VzKCJudW1iZXIiID09IHR5cGVvZiBiLmN1cnJlbnRTbGlkZSA/IGIuY3VycmVudFNsaWRlIDogMCksIGIub3B0aW9ucy5kcmFnZ2FibGUgPT09ICEwICYmIGIuJGxpc3QuYWRkQ2xhc3MoImRyYWdnYWJsZSIpIH0sIGIucHJvdG90eXBlLmJ1aWxkUm93cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGEgPSB0aGlzOyBpZiAoZSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgZyA9IGEuJHNsaWRlci5jaGlsZHJlbigpLCBhLm9wdGlvbnMucm93cyA+IDEpIHsgZm9yIChoID0gYS5vcHRpb25zLnNsaWRlc1BlclJvdyAqIGEub3B0aW9ucy5yb3dzLCBmID0gTWF0aC5jZWlsKGcubGVuZ3RoIC8gaCksIGIgPSAwOyBmID4gYjsgYisrKSB7IHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7IGZvciAoYyA9IDA7IGMgPCBhLm9wdGlvbnMucm93czsgYysrKSB7IHZhciBqID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7IGZvciAoZCA9IDA7IGQgPCBhLm9wdGlvbnMuc2xpZGVzUGVyUm93OyBkKyspIHsgdmFyIGsgPSBiICogaCArIChjICogYS5vcHRpb25zLnNsaWRlc1BlclJvdyArIGQpOyBnLmdldChrKSAmJiBqLmFwcGVuZENoaWxkKGcuZ2V0KGspKSB9IGkuYXBwZW5kQ2hpbGQoaikgfSBlLmFwcGVuZENoaWxkKGkpIH0gYS4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKGUpLCBhLiRzbGlkZXIuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY3NzKHsgd2lkdGg6IDEwMCAvIGEub3B0aW9ucy5zbGlkZXNQZXJSb3cgKyAiJSIsIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siIH0pIH0gfSwgYi5wcm90b3R5cGUuY2hlY2tSZXNwb25zaXZlID0gZnVuY3Rpb24gKGIsIGMpIHsgdmFyIGUsIGYsIGcsIGQgPSB0aGlzLCBoID0gITEsIGkgPSBkLiRzbGlkZXIud2lkdGgoKSwgaiA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGEod2luZG93KS53aWR0aCgpOyBpZiAoIndpbmRvdyIgPT09IGQucmVzcG9uZFRvID8gZyA9IGogOiAic2xpZGVyIiA9PT0gZC5yZXNwb25kVG8gPyBnID0gaSA6ICJtaW4iID09PSBkLnJlc3BvbmRUbyAmJiAoZyA9IE1hdGgubWluKGosIGkpKSwgZC5vcHRpb25zLnJlc3BvbnNpdmUgJiYgZC5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoICYmIG51bGwgIT09IGQub3B0aW9ucy5yZXNwb25zaXZlKSB7IGYgPSBudWxsOyBmb3IgKGUgaW4gZC5icmVha3BvaW50cykgZC5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShlKSAmJiAoZC5vcmlnaW5hbFNldHRpbmdzLm1vYmlsZUZpcnN0ID09PSAhMSA/IGcgPCBkLmJyZWFrcG9pbnRzW2VdICYmIChmID0gZC5icmVha3BvaW50c1tlXSkgOiBnID4gZC5icmVha3BvaW50c1tlXSAmJiAoZiA9IGQuYnJlYWtwb2ludHNbZV0pKTsgbnVsbCAhPT0gZiA/IG51bGwgIT09IGQuYWN0aXZlQnJlYWtwb2ludCA/IChmICE9PSBkLmFjdGl2ZUJyZWFrcG9pbnQgfHwgYykgJiYgKGQuYWN0aXZlQnJlYWtwb2ludCA9IGYsICJ1bnNsaWNrIiA9PT0gZC5icmVha3BvaW50U2V0dGluZ3NbZl0gPyBkLnVuc2xpY2soZikgOiAoZC5vcHRpb25zID0gYS5leHRlbmQoe30sIGQub3JpZ2luYWxTZXR0aW5ncywgZC5icmVha3BvaW50U2V0dGluZ3NbZl0pLCBiID09PSAhMCAmJiAoZC5jdXJyZW50U2xpZGUgPSBkLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSwgZC5yZWZyZXNoKGIpKSwgaCA9IGYpIDogKGQuYWN0aXZlQnJlYWtwb2ludCA9IGYsICJ1bnNsaWNrIiA9PT0gZC5icmVha3BvaW50U2V0dGluZ3NbZl0gPyBkLnVuc2xpY2soZikgOiAoZC5vcHRpb25zID0gYS5leHRlbmQoe30sIGQub3JpZ2luYWxTZXR0aW5ncywgZC5icmVha3BvaW50U2V0dGluZ3NbZl0pLCBiID09PSAhMCAmJiAoZC5jdXJyZW50U2xpZGUgPSBkLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSwgZC5yZWZyZXNoKGIpKSwgaCA9IGYpIDogbnVsbCAhPT0gZC5hY3RpdmVCcmVha3BvaW50ICYmIChkLmFjdGl2ZUJyZWFrcG9pbnQgPSBudWxsLCBkLm9wdGlvbnMgPSBkLm9yaWdpbmFsU2V0dGluZ3MsIGIgPT09ICEwICYmIChkLmN1cnJlbnRTbGlkZSA9IGQub3B0aW9ucy5pbml0aWFsU2xpZGUpLCBkLnJlZnJlc2goYiksIGggPSBmKSwgYiB8fCBoID09PSAhMSB8fCBkLiRzbGlkZXIudHJpZ2dlcigiYnJlYWtwb2ludCIsIFtkLCBoXSkgfSB9LCBiLnByb3RvdHlwZS5jaGFuZ2VTbGlkZSA9IGZ1bmN0aW9uIChiLCBjKSB7IHZhciBmLCBnLCBoLCBkID0gdGhpcywgZSA9IGEoYi5jdXJyZW50VGFyZ2V0KTsgc3dpdGNoIChlLmlzKCJhIikgJiYgYi5wcmV2ZW50RGVmYXVsdCgpLCBlLmlzKCJsaSIpIHx8IChlID0gZS5jbG9zZXN0KCJsaSIpKSwgaCA9IGQuc2xpZGVDb3VudCAlIGQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAhPT0gMCwgZiA9IGggPyAwIDogKGQuc2xpZGVDb3VudCAtIGQuY3VycmVudFNsaWRlKSAlIGQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCwgYi5kYXRhLm1lc3NhZ2UpIHsgY2FzZSAicHJldmlvdXMiOiBnID0gMCA9PT0gZiA/IGQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IGQub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSBmLCBkLnNsaWRlQ291bnQgPiBkLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIGQuc2xpZGVIYW5kbGVyKGQuY3VycmVudFNsaWRlIC0gZywgITEsIGMpOyBicmVhazsgY2FzZSAibmV4dCI6IGcgPSAwID09PSBmID8gZC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogZiwgZC5zbGlkZUNvdW50ID4gZC5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBkLnNsaWRlSGFuZGxlcihkLmN1cnJlbnRTbGlkZSArIGcsICExLCBjKTsgYnJlYWs7IGNhc2UgImluZGV4IjogdmFyIGkgPSAwID09PSBiLmRhdGEuaW5kZXggPyAwIDogYi5kYXRhLmluZGV4IHx8IGUuaW5kZXgoKSAqIGQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDsgZC5zbGlkZUhhbmRsZXIoZC5jaGVja05hdmlnYWJsZShpKSwgITEsIGMpLCBlLmNoaWxkcmVuKCkudHJpZ2dlcigiZm9jdXMiKTsgYnJlYWs7IGRlZmF1bHQ6IHJldHVybiB9IH0sIGIucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlID0gZnVuY3Rpb24gKGEpIHsgdmFyIGMsIGQsIGIgPSB0aGlzOyBpZiAoYyA9IGIuZ2V0TmF2aWdhYmxlSW5kZXhlcygpLCBkID0gMCwgYSA+IGNbYy5sZW5ndGggLSAxXSkgYSA9IGNbYy5sZW5ndGggLSAxXTsgZWxzZSBmb3IgKHZhciBlIGluIGMpIHsgaWYgKGEgPCBjW2VdKSB7IGEgPSBkOyBicmVhayB9IGQgPSBjW2VdIH0gcmV0dXJuIGEgfSwgYi5wcm90b3R5cGUuY2xlYW5VcEV2ZW50cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLm9wdGlvbnMuZG90cyAmJiBudWxsICE9PSBiLiRkb3RzICYmIGEoImxpIiwgYi4kZG90cykub2ZmKCJjbGljay5zbGljayIsIGIuY2hhbmdlU2xpZGUpLm9mZigibW91c2VlbnRlci5zbGljayIsIGEucHJveHkoYi5pbnRlcnJ1cHQsIGIsICEwKSkub2ZmKCJtb3VzZWxlYXZlLnNsaWNrIiwgYS5wcm94eShiLmludGVycnVwdCwgYiwgITEpKSwgYi4kc2xpZGVyLm9mZigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIpLCBiLm9wdGlvbnMuYXJyb3dzID09PSAhMCAmJiBiLnNsaWRlQ291bnQgPiBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChiLiRwcmV2QXJyb3cgJiYgYi4kcHJldkFycm93Lm9mZigiY2xpY2suc2xpY2siLCBiLmNoYW5nZVNsaWRlKSwgYi4kbmV4dEFycm93ICYmIGIuJG5leHRBcnJvdy5vZmYoImNsaWNrLnNsaWNrIiwgYi5jaGFuZ2VTbGlkZSkpLCBiLiRsaXN0Lm9mZigidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2siLCBiLnN3aXBlSGFuZGxlciksIGIuJGxpc3Qub2ZmKCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrIiwgYi5zd2lwZUhhbmRsZXIpLCBiLiRsaXN0Lm9mZigidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljayIsIGIuc3dpcGVIYW5kbGVyKSwgYi4kbGlzdC5vZmYoInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2siLCBiLnN3aXBlSGFuZGxlciksIGIuJGxpc3Qub2ZmKCJjbGljay5zbGljayIsIGIuY2xpY2tIYW5kbGVyKSwgYShkb2N1bWVudCkub2ZmKGIudmlzaWJpbGl0eUNoYW5nZSwgYi52aXNpYmlsaXR5KSwgYi5jbGVhblVwU2xpZGVFdmVudHMoKSwgYi5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09ICEwICYmIGIuJGxpc3Qub2ZmKCJrZXlkb3duLnNsaWNrIiwgYi5rZXlIYW5kbGVyKSwgYi5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09ICEwICYmIGEoYi4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vZmYoImNsaWNrLnNsaWNrIiwgYi5zZWxlY3RIYW5kbGVyKSwgYSh3aW5kb3cpLm9mZigib3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stIiArIGIuaW5zdGFuY2VVaWQsIGIub3JpZW50YXRpb25DaGFuZ2UpLCBhKHdpbmRvdykub2ZmKCJyZXNpemUuc2xpY2suc2xpY2stIiArIGIuaW5zdGFuY2VVaWQsIGIucmVzaXplKSwgYSgiW2RyYWdnYWJsZSE9dHJ1ZV0iLCBiLiRzbGlkZVRyYWNrKS5vZmYoImRyYWdzdGFydCIsIGIucHJldmVudERlZmF1bHQpLCBhKHdpbmRvdykub2ZmKCJsb2FkLnNsaWNrLnNsaWNrLSIgKyBiLmluc3RhbmNlVWlkLCBiLnNldFBvc2l0aW9uKSwgYShkb2N1bWVudCkub2ZmKCJyZWFkeS5zbGljay5zbGljay0iICsgYi5pbnN0YW5jZVVpZCwgYi5zZXRQb3NpdGlvbikgfSwgYi5wcm90b3R5cGUuY2xlYW5VcFNsaWRlRXZlbnRzID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXM7IGIuJGxpc3Qub2ZmKCJtb3VzZWVudGVyLnNsaWNrIiwgYS5wcm94eShiLmludGVycnVwdCwgYiwgITApKSwgYi4kbGlzdC5vZmYoIm1vdXNlbGVhdmUuc2xpY2siLCBhLnByb3h5KGIuaW50ZXJydXB0LCBiLCAhMSkpIH0sIGIucHJvdG90eXBlLmNsZWFuVXBSb3dzID0gZnVuY3Rpb24gKCkgeyB2YXIgYiwgYSA9IHRoaXM7IGEub3B0aW9ucy5yb3dzID4gMSAmJiAoYiA9IGEuJHNsaWRlcy5jaGlsZHJlbigpLmNoaWxkcmVuKCksIGIucmVtb3ZlQXR0cigic3R5bGUiKSwgYS4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKGIpKSB9LCBiLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IGIuc2hvdWxkQ2xpY2sgPT09ICExICYmIChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCBhLnN0b3BQcm9wYWdhdGlvbigpLCBhLnByZXZlbnREZWZhdWx0KCkpIH0sIGIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoYikgeyB2YXIgYyA9IHRoaXM7IGMuYXV0b1BsYXlDbGVhcigpLCBjLnRvdWNoT2JqZWN0ID0ge30sIGMuY2xlYW5VcEV2ZW50cygpLCBhKCIuc2xpY2stY2xvbmVkIiwgYy4kc2xpZGVyKS5kZXRhY2goKSwgYy4kZG90cyAmJiBjLiRkb3RzLnJlbW92ZSgpLCBjLiRwcmV2QXJyb3cgJiYgYy4kcHJldkFycm93Lmxlbmd0aCAmJiAoYy4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4IikuY3NzKCJkaXNwbGF5IiwgIiIpLCBjLmh0bWxFeHByLnRlc3QoYy5vcHRpb25zLnByZXZBcnJvdykgJiYgYy4kcHJldkFycm93LnJlbW92ZSgpKSwgYy4kbmV4dEFycm93ICYmIGMuJG5leHRBcnJvdy5sZW5ndGggJiYgKGMuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCIpLmNzcygiZGlzcGxheSIsICIiKSwgYy5odG1sRXhwci50ZXN0KGMub3B0aW9ucy5uZXh0QXJyb3cpICYmIGMuJG5leHRBcnJvdy5yZW1vdmUoKSksIGMuJHNsaWRlcyAmJiAoYy4kc2xpZGVzLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiZGF0YS1zbGljay1pbmRleCIpLmVhY2goZnVuY3Rpb24gKCkgeyBhKHRoaXMpLmF0dHIoInN0eWxlIiwgYSh0aGlzKS5kYXRhKCJvcmlnaW5hbFN0eWxpbmciKSkgfSksIGMuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSwgYy4kc2xpZGVUcmFjay5kZXRhY2goKSwgYy4kbGlzdC5kZXRhY2goKSwgYy4kc2xpZGVyLmFwcGVuZChjLiRzbGlkZXMpKSwgYy5jbGVhblVwUm93cygpLCBjLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlciIpLCBjLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIiksIGMuJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stZG90dGVkIiksIGMudW5zbGlja2VkID0gITAsIGIgfHwgYy4kc2xpZGVyLnRyaWdnZXIoImRlc3Ryb3kiLCBbY10pIH0sIGIucHJvdG90eXBlLmRpc2FibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKGEpIHsgdmFyIGIgPSB0aGlzLCBjID0ge307IGNbYi50cmFuc2l0aW9uVHlwZV0gPSAiIiwgYi5vcHRpb25zLmZhZGUgPT09ICExID8gYi4kc2xpZGVUcmFjay5jc3MoYykgOiBiLiRzbGlkZXMuZXEoYSkuY3NzKGMpIH0sIGIucHJvdG90eXBlLmZhZGVTbGlkZSA9IGZ1bmN0aW9uIChhLCBiKSB7IHZhciBjID0gdGhpczsgYy5jc3NUcmFuc2l0aW9ucyA9PT0gITEgPyAoYy4kc2xpZGVzLmVxKGEpLmNzcyh7IHpJbmRleDogYy5vcHRpb25zLnpJbmRleCB9KSwgYy4kc2xpZGVzLmVxKGEpLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIGMub3B0aW9ucy5zcGVlZCwgYy5vcHRpb25zLmVhc2luZywgYikpIDogKGMuYXBwbHlUcmFuc2l0aW9uKGEpLCBjLiRzbGlkZXMuZXEoYSkuY3NzKHsgb3BhY2l0eTogMSwgekluZGV4OiBjLm9wdGlvbnMuekluZGV4IH0pLCBiICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjLmRpc2FibGVUcmFuc2l0aW9uKGEpLCBiLmNhbGwoKSB9LCBjLm9wdGlvbnMuc3BlZWQpKSB9LCBiLnByb3RvdHlwZS5mYWRlU2xpZGVPdXQgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IGIuY3NzVHJhbnNpdGlvbnMgPT09ICExID8gYi4kc2xpZGVzLmVxKGEpLmFuaW1hdGUoeyBvcGFjaXR5OiAwLCB6SW5kZXg6IGIub3B0aW9ucy56SW5kZXggLSAyIH0sIGIub3B0aW9ucy5zcGVlZCwgYi5vcHRpb25zLmVhc2luZykgOiAoYi5hcHBseVRyYW5zaXRpb24oYSksIGIuJHNsaWRlcy5lcShhKS5jc3MoeyBvcGFjaXR5OiAwLCB6SW5kZXg6IGIub3B0aW9ucy56SW5kZXggLSAyIH0pKSB9LCBiLnByb3RvdHlwZS5maWx0ZXJTbGlkZXMgPSBiLnByb3RvdHlwZS5zbGlja0ZpbHRlciA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpczsgbnVsbCAhPT0gYSAmJiAoYi4kc2xpZGVzQ2FjaGUgPSBiLiRzbGlkZXMsIGIudW5sb2FkKCksIGIuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSwgYi4kc2xpZGVzQ2FjaGUuZmlsdGVyKGEpLmFwcGVuZFRvKGIuJHNsaWRlVHJhY2spLCBiLnJlaW5pdCgpKSB9LCBiLnByb3RvdHlwZS5mb2N1c0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi4kc2xpZGVyLm9mZigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIpLm9uKCJmb2N1cy5zbGljayBibHVyLnNsaWNrIiwgIio6bm90KC5zbGljay1hcnJvdykiLCBmdW5jdGlvbiAoYykgeyBjLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyB2YXIgZCA9IGEodGhpcyk7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBiLm9wdGlvbnMucGF1c2VPbkZvY3VzICYmIChiLmZvY3Vzc2VkID0gZC5pcygiOmZvY3VzIiksIGIuYXV0b1BsYXkoKSkgfSwgMCkgfSkgfSwgYi5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGIucHJvdG90eXBlLnNsaWNrQ3VycmVudFNsaWRlID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IHJldHVybiBhLmN1cnJlbnRTbGlkZSB9LCBiLnByb3RvdHlwZS5nZXREb3RDb3VudCA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzLCBiID0gMCwgYyA9IDAsIGQgPSAwOyBpZiAoYS5vcHRpb25zLmluZmluaXRlID09PSAhMCkgZm9yICg7IGIgPCBhLnNsaWRlQ291bnQ7KSsrZCwgYiA9IGMgKyBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsIGMgKz0gYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93OyBlbHNlIGlmIChhLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITApIGQgPSBhLnNsaWRlQ291bnQ7IGVsc2UgaWYgKGEub3B0aW9ucy5hc05hdkZvcikgZm9yICg7IGIgPCBhLnNsaWRlQ291bnQ7KSsrZCwgYiA9IGMgKyBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsIGMgKz0gYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93OyBlbHNlIGQgPSAxICsgTWF0aC5jZWlsKChhLnNsaWRlQ291bnQgLSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93KSAvIGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7IHJldHVybiBkIC0gMSB9LCBiLnByb3RvdHlwZS5nZXRMZWZ0ID0gZnVuY3Rpb24gKGEpIHsgdmFyIGMsIGQsIGYsIGIgPSB0aGlzLCBlID0gMDsgcmV0dXJuIGIuc2xpZGVPZmZzZXQgPSAwLCBkID0gYi4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApLCBiLm9wdGlvbnMuaW5maW5pdGUgPT09ICEwID8gKGIuc2xpZGVDb3VudCA+IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgKGIuc2xpZGVPZmZzZXQgPSBiLnNsaWRlV2lkdGggKiBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICogLTEsIGUgPSBkICogYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAqIC0xKSwgYi5zbGlkZUNvdW50ICUgYi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwICYmIGEgKyBiLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPiBiLnNsaWRlQ291bnQgJiYgYi5zbGlkZUNvdW50ID4gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiAoYSA+IGIuc2xpZGVDb3VudCA/IChiLnNsaWRlT2Zmc2V0ID0gKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSAoYSAtIGIuc2xpZGVDb3VudCkpICogYi5zbGlkZVdpZHRoICogLTEsIGUgPSAoYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIChhIC0gYi5zbGlkZUNvdW50KSkgKiBkICogLTEpIDogKGIuc2xpZGVPZmZzZXQgPSBiLnNsaWRlQ291bnQgJSBiLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgKiBiLnNsaWRlV2lkdGggKiAtMSwgZSA9IGIuc2xpZGVDb3VudCAlIGIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAqIGQgKiAtMSkpKSA6IGEgKyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID4gYi5zbGlkZUNvdW50ICYmIChiLnNsaWRlT2Zmc2V0ID0gKGEgKyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gYi5zbGlkZUNvdW50KSAqIGIuc2xpZGVXaWR0aCwgZSA9IChhICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIGIuc2xpZGVDb3VudCkgKiBkKSwgYi5zbGlkZUNvdW50IDw9IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgKGIuc2xpZGVPZmZzZXQgPSAwLCBlID0gMCksIGIub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMCAmJiBiLm9wdGlvbnMuaW5maW5pdGUgPT09ICEwID8gYi5zbGlkZU9mZnNldCArPSBiLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSAtIGIuc2xpZGVXaWR0aCA6IGIub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMCAmJiAoYi5zbGlkZU9mZnNldCA9IDAsIGIuc2xpZGVPZmZzZXQgKz0gYi5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMikpLCBjID0gYi5vcHRpb25zLnZlcnRpY2FsID09PSAhMSA/IGEgKiBiLnNsaWRlV2lkdGggKiAtMSArIGIuc2xpZGVPZmZzZXQgOiBhICogZCAqIC0xICsgZSwgYi5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09ICEwICYmIChmID0gYi5zbGlkZUNvdW50IDw9IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgfHwgYi5vcHRpb25zLmluZmluaXRlID09PSAhMSA/IGIuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKGEpIDogYi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEoYSArIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCBjID0gYi5vcHRpb25zLnJ0bCA9PT0gITAgPyBmWzBdID8gLTEgKiAoYi4kc2xpZGVUcmFjay53aWR0aCgpIC0gZlswXS5vZmZzZXRMZWZ0IC0gZi53aWR0aCgpKSA6IDAgOiBmWzBdID8gLTEgKiBmWzBdLm9mZnNldExlZnQgOiAwLCBiLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgJiYgKGYgPSBiLnNsaWRlQ291bnQgPD0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyB8fCBiLm9wdGlvbnMuaW5maW5pdGUgPT09ICExID8gYi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEoYSkgOiBiLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5lcShhICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDEpLCBjID0gYi5vcHRpb25zLnJ0bCA9PT0gITAgPyBmWzBdID8gLTEgKiAoYi4kc2xpZGVUcmFjay53aWR0aCgpIC0gZlswXS5vZmZzZXRMZWZ0IC0gZi53aWR0aCgpKSA6IDAgOiBmWzBdID8gLTEgKiBmWzBdLm9mZnNldExlZnQgOiAwLCBjICs9IChiLiRsaXN0LndpZHRoKCkgLSBmLm91dGVyV2lkdGgoKSkgLyAyKSksIGMgfSwgYi5wcm90b3R5cGUuZ2V0T3B0aW9uID0gYi5wcm90b3R5cGUuc2xpY2tHZXRPcHRpb24gPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IHJldHVybiBiLm9wdGlvbnNbYV0gfSwgYi5wcm90b3R5cGUuZ2V0TmF2aWdhYmxlSW5kZXhlcyA9IGZ1bmN0aW9uICgpIHsgdmFyIGUsIGEgPSB0aGlzLCBiID0gMCwgYyA9IDAsIGQgPSBbXTsgZm9yIChhLm9wdGlvbnMuaW5maW5pdGUgPT09ICExID8gZSA9IGEuc2xpZGVDb3VudCA6IChiID0gLTEgKiBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsIGMgPSAtMSAqIGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCwgZSA9IDIgKiBhLnNsaWRlQ291bnQpIDsgZSA+IGI7KSBkLnB1c2goYiksIGIgPSBjICsgYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLCBjICs9IGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogYS5vcHRpb25zLnNsaWRlc1RvU2hvdzsgcmV0dXJuIGQgfSwgYi5wcm90b3R5cGUuZ2V0U2xpY2sgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzIH0sIGIucHJvdG90eXBlLmdldFNsaWRlQ291bnQgPSBmdW5jdGlvbiAoKSB7IHZhciBjLCBkLCBlLCBiID0gdGhpczsgcmV0dXJuIGUgPSBiLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgPyBiLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSA6IDAsIGIub3B0aW9ucy5zd2lwZVRvU2xpZGUgPT09ICEwID8gKGIuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLXNsaWRlIikuZWFjaChmdW5jdGlvbiAoYywgZikgeyByZXR1cm4gZi5vZmZzZXRMZWZ0IC0gZSArIGEoZikub3V0ZXJXaWR0aCgpIC8gMiA+IC0xICogYi5zd2lwZUxlZnQgPyAoZCA9IGYsICExKSA6IHZvaWQgMCB9KSwgYyA9IE1hdGguYWJzKGEoZCkuYXR0cigiZGF0YS1zbGljay1pbmRleCIpIC0gYi5jdXJyZW50U2xpZGUpIHx8IDEpIDogYi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIH0sIGIucHJvdG90eXBlLmdvVG8gPSBiLnByb3RvdHlwZS5zbGlja0dvVG8gPSBmdW5jdGlvbiAoYSwgYikgeyB2YXIgYyA9IHRoaXM7IGMuY2hhbmdlU2xpZGUoeyBkYXRhOiB7IG1lc3NhZ2U6ICJpbmRleCIsIGluZGV4OiBwYXJzZUludChhKSB9IH0sIGIpIH0sIGIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoYikgeyB2YXIgYyA9IHRoaXM7IGEoYy4kc2xpZGVyKS5oYXNDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKSB8fCAoYShjLiRzbGlkZXIpLmFkZENsYXNzKCJzbGljay1pbml0aWFsaXplZCIpLCBjLmJ1aWxkUm93cygpLCBjLmJ1aWxkT3V0KCksIGMuc2V0UHJvcHMoKSwgYy5zdGFydExvYWQoKSwgYy5sb2FkU2xpZGVyKCksIGMuaW5pdGlhbGl6ZUV2ZW50cygpLCBjLnVwZGF0ZUFycm93cygpLCBjLnVwZGF0ZURvdHMoKSwgYy5jaGVja1Jlc3BvbnNpdmUoITApLCBjLmZvY3VzSGFuZGxlcigpKSwgYiAmJiBjLiRzbGlkZXIudHJpZ2dlcigiaW5pdCIsIFtjXSksIGMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSAhMCAmJiBjLmluaXRBREEoKSwgYy5vcHRpb25zLmF1dG9wbGF5ICYmIChjLnBhdXNlZCA9ICExLCBjLmF1dG9QbGF5KCkpIH0sIGIucHJvdG90eXBlLmluaXRBREEgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi4kc2xpZGVzLmFkZChiLiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKSkuYXR0cih7ICJhcmlhLWhpZGRlbiI6ICJ0cnVlIiwgdGFiaW5kZXg6ICItMSIgfSkuZmluZCgiYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0IikuYXR0cih7IHRhYmluZGV4OiAiLTEiIH0pLCBiLiRzbGlkZVRyYWNrLmF0dHIoInJvbGUiLCAibGlzdGJveCIpLCBiLiRzbGlkZXMubm90KGIuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWNsb25lZCIpKS5lYWNoKGZ1bmN0aW9uIChjKSB7IGEodGhpcykuYXR0cih7IHJvbGU6ICJvcHRpb24iLCAiYXJpYS1kZXNjcmliZWRieSI6ICJzbGljay1zbGlkZSIgKyBiLmluc3RhbmNlVWlkICsgYyB9KSB9KSwgbnVsbCAhPT0gYi4kZG90cyAmJiBiLiRkb3RzLmF0dHIoInJvbGUiLCAidGFibGlzdCIpLmZpbmQoImxpIikuZWFjaChmdW5jdGlvbiAoYykgeyBhKHRoaXMpLmF0dHIoeyByb2xlOiAicHJlc2VudGF0aW9uIiwgImFyaWEtc2VsZWN0ZWQiOiAiZmFsc2UiLCAiYXJpYS1jb250cm9scyI6ICJuYXZpZ2F0aW9uIiArIGIuaW5zdGFuY2VVaWQgKyBjLCBpZDogInNsaWNrLXNsaWRlIiArIGIuaW5zdGFuY2VVaWQgKyBjIH0pIH0pLmZpcnN0KCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsICJ0cnVlIikuZW5kKCkuZmluZCgiYnV0dG9uIikuYXR0cigicm9sZSIsICJidXR0b24iKS5lbmQoKS5jbG9zZXN0KCJkaXYiKS5hdHRyKCJyb2xlIiwgInRvb2xiYXIiKSwgYi5hY3RpdmF0ZUFEQSgpIH0sIGIucHJvdG90eXBlLmluaXRBcnJvd0V2ZW50cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLm9wdGlvbnMuYXJyb3dzID09PSAhMCAmJiBhLnNsaWRlQ291bnQgPiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChhLiRwcmV2QXJyb3cub2ZmKCJjbGljay5zbGljayIpLm9uKCJjbGljay5zbGljayIsIHsgbWVzc2FnZTogInByZXZpb3VzIiB9LCBhLmNoYW5nZVNsaWRlKSwgYS4kbmV4dEFycm93Lm9mZigiY2xpY2suc2xpY2siKS5vbigiY2xpY2suc2xpY2siLCB7IG1lc3NhZ2U6ICJuZXh0IiB9LCBhLmNoYW5nZVNsaWRlKSkgfSwgYi5wcm90b3R5cGUuaW5pdERvdEV2ZW50cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLm9wdGlvbnMuZG90cyA9PT0gITAgJiYgYi5zbGlkZUNvdW50ID4gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBhKCJsaSIsIGIuJGRvdHMpLm9uKCJjbGljay5zbGljayIsIHsgbWVzc2FnZTogImluZGV4IiB9LCBiLmNoYW5nZVNsaWRlKSwgYi5vcHRpb25zLmRvdHMgPT09ICEwICYmIGIub3B0aW9ucy5wYXVzZU9uRG90c0hvdmVyID09PSAhMCAmJiBhKCJsaSIsIGIuJGRvdHMpLm9uKCJtb3VzZWVudGVyLnNsaWNrIiwgYS5wcm94eShiLmludGVycnVwdCwgYiwgITApKS5vbigibW91c2VsZWF2ZS5zbGljayIsIGEucHJveHkoYi5pbnRlcnJ1cHQsIGIsICExKSkgfSwgYi5wcm90b3R5cGUuaW5pdFNsaWRlRXZlbnRzID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXM7IGIub3B0aW9ucy5wYXVzZU9uSG92ZXIgJiYgKGIuJGxpc3Qub24oIm1vdXNlZW50ZXIuc2xpY2siLCBhLnByb3h5KGIuaW50ZXJydXB0LCBiLCAhMCkpLCBiLiRsaXN0Lm9uKCJtb3VzZWxlYXZlLnNsaWNrIiwgYS5wcm94eShiLmludGVycnVwdCwgYiwgITEpKSkgfSwgYi5wcm90b3R5cGUuaW5pdGlhbGl6ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLmluaXRBcnJvd0V2ZW50cygpLCBiLmluaXREb3RFdmVudHMoKSwgYi5pbml0U2xpZGVFdmVudHMoKSwgYi4kbGlzdC5vbigidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2siLCB7IGFjdGlvbjogInN0YXJ0IiB9LCBiLnN3aXBlSGFuZGxlciksIGIuJGxpc3Qub24oInRvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2siLCB7IGFjdGlvbjogIm1vdmUiIH0sIGIuc3dpcGVIYW5kbGVyKSwgYi4kbGlzdC5vbigidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljayIsIHsgYWN0aW9uOiAiZW5kIiB9LCBiLnN3aXBlSGFuZGxlciksIGIuJGxpc3Qub24oInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2siLCB7IGFjdGlvbjogImVuZCIgfSwgYi5zd2lwZUhhbmRsZXIpLCBiLiRsaXN0Lm9uKCJjbGljay5zbGljayIsIGIuY2xpY2tIYW5kbGVyKSwgYShkb2N1bWVudCkub24oYi52aXNpYmlsaXR5Q2hhbmdlLCBhLnByb3h5KGIudmlzaWJpbGl0eSwgYikpLCBiLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gITAgJiYgYi4kbGlzdC5vbigia2V5ZG93bi5zbGljayIsIGIua2V5SGFuZGxlciksIGIub3B0aW9ucy5mb2N1c09uU2VsZWN0ID09PSAhMCAmJiBhKGIuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oImNsaWNrLnNsaWNrIiwgYi5zZWxlY3RIYW5kbGVyKSwgYSh3aW5kb3cpLm9uKCJvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay0iICsgYi5pbnN0YW5jZVVpZCwgYS5wcm94eShiLm9yaWVudGF0aW9uQ2hhbmdlLCBiKSksIGEod2luZG93KS5vbigicmVzaXplLnNsaWNrLnNsaWNrLSIgKyBiLmluc3RhbmNlVWlkLCBhLnByb3h5KGIucmVzaXplLCBiKSksIGEoIltkcmFnZ2FibGUhPXRydWVdIiwgYi4kc2xpZGVUcmFjaykub24oImRyYWdzdGFydCIsIGIucHJldmVudERlZmF1bHQpLCBhKHdpbmRvdykub24oImxvYWQuc2xpY2suc2xpY2stIiArIGIuaW5zdGFuY2VVaWQsIGIuc2V0UG9zaXRpb24pLCBhKGRvY3VtZW50KS5vbigicmVhZHkuc2xpY2suc2xpY2stIiArIGIuaW5zdGFuY2VVaWQsIGIuc2V0UG9zaXRpb24pIH0sIGIucHJvdG90eXBlLmluaXRVSSA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLm9wdGlvbnMuYXJyb3dzID09PSAhMCAmJiBhLnNsaWRlQ291bnQgPiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChhLiRwcmV2QXJyb3cuc2hvdygpLCBhLiRuZXh0QXJyb3cuc2hvdygpKSwgYS5vcHRpb25zLmRvdHMgPT09ICEwICYmIGEuc2xpZGVDb3VudCA+IGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgYS4kZG90cy5zaG93KCkgfSwgYi5wcm90b3R5cGUua2V5SGFuZGxlciA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpczsgYS50YXJnZXQudGFnTmFtZS5tYXRjaCgiVEVYVEFSRUF8SU5QVVR8U0VMRUNUIikgfHwgKDM3ID09PSBhLmtleUNvZGUgJiYgYi5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09ICEwID8gYi5jaGFuZ2VTbGlkZSh7IGRhdGE6IHsgbWVzc2FnZTogYi5vcHRpb25zLnJ0bCA9PT0gITAgPyAibmV4dCIgOiAicHJldmlvdXMiIH0gfSkgOiAzOSA9PT0gYS5rZXlDb2RlICYmIGIub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSAhMCAmJiBiLmNoYW5nZVNsaWRlKHsgZGF0YTogeyBtZXNzYWdlOiBiLm9wdGlvbnMucnRsID09PSAhMCA/ICJwcmV2aW91cyIgOiAibmV4dCIgfSB9KSkgfSwgYi5wcm90b3R5cGUubGF6eUxvYWQgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGcoYykgeyBhKCJpbWdbZGF0YS1sYXp5XSIsIGMpLmVhY2goZnVuY3Rpb24gKCkgeyB2YXIgYyA9IGEodGhpcyksIGQgPSBhKHRoaXMpLmF0dHIoImRhdGEtbGF6eSIpLCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7IGUub25sb2FkID0gZnVuY3Rpb24gKCkgeyBjLmFuaW1hdGUoeyBvcGFjaXR5OiAwIH0sIDEwMCwgZnVuY3Rpb24gKCkgeyBjLmF0dHIoInNyYyIsIGQpLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIDIwMCwgZnVuY3Rpb24gKCkgeyBjLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIikgfSksIGIuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZGVkIiwgW2IsIGMsIGRdKSB9KSB9LCBlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IGMucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKS5hZGRDbGFzcygic2xpY2stbGF6eWxvYWQtZXJyb3IiKSwgYi4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkRXJyb3IiLCBbYiwgYywgZF0pIH0sIGUuc3JjID0gZCB9KSB9IHZhciBjLCBkLCBlLCBmLCBiID0gdGhpczsgYi5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwID8gYi5vcHRpb25zLmluZmluaXRlID09PSAhMCA/IChlID0gYi5jdXJyZW50U2xpZGUgKyAoYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIgKyAxKSwgZiA9IGUgKyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgMikgOiAoZSA9IE1hdGgubWF4KDAsIGIuY3VycmVudFNsaWRlIC0gKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyICsgMSkpLCBmID0gMiArIChiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMiArIDEpICsgYi5jdXJyZW50U2xpZGUpIDogKGUgPSBiLm9wdGlvbnMuaW5maW5pdGUgPyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgYi5jdXJyZW50U2xpZGUgOiBiLmN1cnJlbnRTbGlkZSwgZiA9IE1hdGguY2VpbChlICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyksIGIub3B0aW9ucy5mYWRlID09PSAhMCAmJiAoZSA+IDAgJiYgZS0tLCBmIDw9IGIuc2xpZGVDb3VudCAmJiBmKyspKSwgYyA9IGIuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKS5zbGljZShlLCBmKSwgZyhjKSwgYi5zbGlkZUNvdW50IDw9IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyAoZCA9IGIuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKSwgZyhkKSkgOiBiLmN1cnJlbnRTbGlkZSA+PSBiLnNsaWRlQ291bnQgLSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gKGQgPSBiLiRzbGlkZXIuZmluZCgiLnNsaWNrLWNsb25lZCIpLnNsaWNlKDAsIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCBnKGQpKSA6IDAgPT09IGIuY3VycmVudFNsaWRlICYmIChkID0gYi4kc2xpZGVyLmZpbmQoIi5zbGljay1jbG9uZWQiKS5zbGljZSgtMSAqIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCBnKGQpKSB9LCBiLnByb3RvdHlwZS5sb2FkU2xpZGVyID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuc2V0UG9zaXRpb24oKSwgYS4kc2xpZGVUcmFjay5jc3MoeyBvcGFjaXR5OiAxIH0pLCBhLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKSwgYS5pbml0VUkoKSwgInByb2dyZXNzaXZlIiA9PT0gYS5vcHRpb25zLmxhenlMb2FkICYmIGEucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpIH0sIGIucHJvdG90eXBlLm5leHQgPSBiLnByb3RvdHlwZS5zbGlja05leHQgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5jaGFuZ2VTbGlkZSh7IGRhdGE6IHsgbWVzc2FnZTogIm5leHQiIH0gfSkgfSwgYi5wcm90b3R5cGUub3JpZW50YXRpb25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5jaGVja1Jlc3BvbnNpdmUoKSwgYS5zZXRQb3NpdGlvbigpIH0sIGIucHJvdG90eXBlLnBhdXNlID0gYi5wcm90b3R5cGUuc2xpY2tQYXVzZSA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLmF1dG9QbGF5Q2xlYXIoKSwgYS5wYXVzZWQgPSAhMCB9LCBiLnByb3RvdHlwZS5wbGF5ID0gYi5wcm90b3R5cGUuc2xpY2tQbGF5ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuYXV0b1BsYXkoKSwgYS5vcHRpb25zLmF1dG9wbGF5ID0gITAsIGEucGF1c2VkID0gITEsIGEuZm9jdXNzZWQgPSAhMSwgYS5pbnRlcnJ1cHRlZCA9ICExIH0sIGIucHJvdG90eXBlLnBvc3RTbGlkZSA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpczsgYi51bnNsaWNrZWQgfHwgKGIuJHNsaWRlci50cmlnZ2VyKCJhZnRlckNoYW5nZSIsIFtiLCBhXSksIGIuYW5pbWF0aW5nID0gITEsIGIuc2V0UG9zaXRpb24oKSwgYi5zd2lwZUxlZnQgPSBudWxsLCBiLm9wdGlvbnMuYXV0b3BsYXkgJiYgYi5hdXRvUGxheSgpLCBiLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gITAgJiYgYi5pbml0QURBKCkpIH0sIGIucHJvdG90eXBlLnByZXYgPSBiLnByb3RvdHlwZS5zbGlja1ByZXYgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5jaGFuZ2VTbGlkZSh7IGRhdGE6IHsgbWVzc2FnZTogInByZXZpb3VzIiB9IH0pIH0sIGIucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGEpIHsgYS5wcmV2ZW50RGVmYXVsdCgpIH0sIGIucHJvdG90eXBlLnByb2dyZXNzaXZlTGF6eUxvYWQgPSBmdW5jdGlvbiAoYikgeyBiID0gYiB8fCAxOyB2YXIgZSwgZiwgZywgYyA9IHRoaXMsIGQgPSBhKCJpbWdbZGF0YS1sYXp5XSIsIGMuJHNsaWRlcik7IGQubGVuZ3RoID8gKGUgPSBkLmZpcnN0KCksIGYgPSBlLmF0dHIoImRhdGEtbGF6eSIpLCBnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksIGcub25sb2FkID0gZnVuY3Rpb24gKCkgeyBlLmF0dHIoInNyYyIsIGYpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIiksIGMub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCA9PT0gITAgJiYgYy5zZXRQb3NpdGlvbigpLCBjLiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRlZCIsIFtjLCBlLCBmXSksIGMucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpIH0sIGcub25lcnJvciA9IGZ1bmN0aW9uICgpIHsgMyA+IGIgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgYy5wcm9ncmVzc2l2ZUxhenlMb2FkKGIgKyAxKSB9LCA1MDApIDogKGUucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKS5hZGRDbGFzcygic2xpY2stbGF6eWxvYWQtZXJyb3IiKSwgYy4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkRXJyb3IiLCBbYywgZSwgZl0pLCBjLnByb2dyZXNzaXZlTGF6eUxvYWQoKSkgfSwgZy5zcmMgPSBmKSA6IGMuJHNsaWRlci50cmlnZ2VyKCJhbGxJbWFnZXNMb2FkZWQiLCBbY10pIH0sIGIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoYikgeyB2YXIgZCwgZSwgYyA9IHRoaXM7IGUgPSBjLnNsaWRlQ291bnQgLSBjLm9wdGlvbnMuc2xpZGVzVG9TaG93LCAhYy5vcHRpb25zLmluZmluaXRlICYmIGMuY3VycmVudFNsaWRlID4gZSAmJiAoYy5jdXJyZW50U2xpZGUgPSBlKSwgYy5zbGlkZUNvdW50IDw9IGMub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgKGMuY3VycmVudFNsaWRlID0gMCksIGQgPSBjLmN1cnJlbnRTbGlkZSwgYy5kZXN0cm95KCEwKSwgYS5leHRlbmQoYywgYy5pbml0aWFscywgeyBjdXJyZW50U2xpZGU6IGQgfSksIGMuaW5pdCgpLCBiIHx8IGMuY2hhbmdlU2xpZGUoeyBkYXRhOiB7IG1lc3NhZ2U6ICJpbmRleCIsIGluZGV4OiBkIH0gfSwgITEpIH0sIGIucHJvdG90eXBlLnJlZ2lzdGVyQnJlYWtwb2ludHMgPSBmdW5jdGlvbiAoKSB7IHZhciBjLCBkLCBlLCBiID0gdGhpcywgZiA9IGIub3B0aW9ucy5yZXNwb25zaXZlIHx8IG51bGw7IGlmICgiYXJyYXkiID09PSBhLnR5cGUoZikgJiYgZi5sZW5ndGgpIHsgYi5yZXNwb25kVG8gPSBiLm9wdGlvbnMucmVzcG9uZFRvIHx8ICJ3aW5kb3ciOyBmb3IgKGMgaW4gZikgaWYgKGUgPSBiLmJyZWFrcG9pbnRzLmxlbmd0aCAtIDEsIGQgPSBmW2NdLmJyZWFrcG9pbnQsIGYuaGFzT3duUHJvcGVydHkoYykpIHsgZm9yICg7IGUgPj0gMDspIGIuYnJlYWtwb2ludHNbZV0gJiYgYi5icmVha3BvaW50c1tlXSA9PT0gZCAmJiBiLmJyZWFrcG9pbnRzLnNwbGljZShlLCAxKSwgZS0tOyBiLmJyZWFrcG9pbnRzLnB1c2goZCksIGIuYnJlYWtwb2ludFNldHRpbmdzW2RdID0gZltjXS5zZXR0aW5ncyB9IGIuYnJlYWtwb2ludHMuc29ydChmdW5jdGlvbiAoYSwgYykgeyByZXR1cm4gYi5vcHRpb25zLm1vYmlsZUZpcnN0ID8gYSAtIGMgOiBjIC0gYSB9KSB9IH0sIGIucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLiRzbGlkZXMgPSBiLiRzbGlkZVRyYWNrLmNoaWxkcmVuKGIub3B0aW9ucy5zbGlkZSkuYWRkQ2xhc3MoInNsaWNrLXNsaWRlIiksIGIuc2xpZGVDb3VudCA9IGIuJHNsaWRlcy5sZW5ndGgsIGIuY3VycmVudFNsaWRlID49IGIuc2xpZGVDb3VudCAmJiAwICE9PSBiLmN1cnJlbnRTbGlkZSAmJiAoYi5jdXJyZW50U2xpZGUgPSBiLmN1cnJlbnRTbGlkZSAtIGIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCksIGIuc2xpZGVDb3VudCA8PSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChiLmN1cnJlbnRTbGlkZSA9IDApLCBiLnJlZ2lzdGVyQnJlYWtwb2ludHMoKSwgYi5zZXRQcm9wcygpLCBiLnNldHVwSW5maW5pdGUoKSwgYi5idWlsZEFycm93cygpLCBiLnVwZGF0ZUFycm93cygpLCBiLmluaXRBcnJvd0V2ZW50cygpLCBiLmJ1aWxkRG90cygpLCBiLnVwZGF0ZURvdHMoKSwgYi5pbml0RG90RXZlbnRzKCksIGIuY2xlYW5VcFNsaWRlRXZlbnRzKCksIGIuaW5pdFNsaWRlRXZlbnRzKCksIGIuY2hlY2tSZXNwb25zaXZlKCExLCAhMCksIGIub3B0aW9ucy5mb2N1c09uU2VsZWN0ID09PSAhMCAmJiBhKGIuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oImNsaWNrLnNsaWNrIiwgYi5zZWxlY3RIYW5kbGVyKSwgYi5zZXRTbGlkZUNsYXNzZXMoIm51bWJlciIgPT0gdHlwZW9mIGIuY3VycmVudFNsaWRlID8gYi5jdXJyZW50U2xpZGUgOiAwKSwgYi5zZXRQb3NpdGlvbigpLCBiLmZvY3VzSGFuZGxlcigpLCBiLnBhdXNlZCA9ICFiLm9wdGlvbnMuYXV0b3BsYXksIGIuYXV0b1BsYXkoKSwgYi4kc2xpZGVyLnRyaWdnZXIoInJlSW5pdCIsIFtiXSkgfSwgYi5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXM7IGEod2luZG93KS53aWR0aCgpICE9PSBiLndpbmRvd1dpZHRoICYmIChjbGVhclRpbWVvdXQoYi53aW5kb3dEZWxheSksIGIud2luZG93RGVsYXkgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGIud2luZG93V2lkdGggPSBhKHdpbmRvdykud2lkdGgoKSwgYi5jaGVja1Jlc3BvbnNpdmUoKSwgYi51bnNsaWNrZWQgfHwgYi5zZXRQb3NpdGlvbigpIH0sIDUwKSkgfSwgYi5wcm90b3R5cGUucmVtb3ZlU2xpZGUgPSBiLnByb3RvdHlwZS5zbGlja1JlbW92ZSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7IHZhciBkID0gdGhpczsgcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2YgYSA/IChiID0gYSwgYSA9IGIgPT09ICEwID8gMCA6IGQuc2xpZGVDb3VudCAtIDEpIDogYSA9IGIgPT09ICEwID8gLS1hIDogYSwgZC5zbGlkZUNvdW50IDwgMSB8fCAwID4gYSB8fCBhID4gZC5zbGlkZUNvdW50IC0gMSA/ICExIDogKGQudW5sb2FkKCksIGMgPT09ICEwID8gZC4kc2xpZGVUcmFjay5jaGlsZHJlbigpLnJlbW92ZSgpIDogZC4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmVxKGEpLnJlbW92ZSgpLCBkLiRzbGlkZXMgPSBkLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSksIGQuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSwgZC4kc2xpZGVUcmFjay5hcHBlbmQoZC4kc2xpZGVzKSwgZC4kc2xpZGVzQ2FjaGUgPSBkLiRzbGlkZXMsIHZvaWQgZC5yZWluaXQoKSkgfSwgYi5wcm90b3R5cGUuc2V0Q1NTID0gZnVuY3Rpb24gKGEpIHsgdmFyIGQsIGUsIGIgPSB0aGlzLCBjID0ge307IGIub3B0aW9ucy5ydGwgPT09ICEwICYmIChhID0gLWEpLCBkID0gImxlZnQiID09IGIucG9zaXRpb25Qcm9wID8gTWF0aC5jZWlsKGEpICsgInB4IiA6ICIwcHgiLCBlID0gInRvcCIgPT0gYi5wb3NpdGlvblByb3AgPyBNYXRoLmNlaWwoYSkgKyAicHgiIDogIjBweCIsIGNbYi5wb3NpdGlvblByb3BdID0gYSwgYi50cmFuc2Zvcm1zRW5hYmxlZCA9PT0gITEgPyBiLiRzbGlkZVRyYWNrLmNzcyhjKSA6IChjID0ge30sIGIuY3NzVHJhbnNpdGlvbnMgPT09ICExID8gKGNbYi5hbmltVHlwZV0gPSAidHJhbnNsYXRlKCIgKyBkICsgIiwgIiArIGUgKyAiKSIsIGIuJHNsaWRlVHJhY2suY3NzKGMpKSA6IChjW2IuYW5pbVR5cGVdID0gInRyYW5zbGF0ZTNkKCIgKyBkICsgIiwgIiArIGUgKyAiLCAwcHgpIiwgYi4kc2xpZGVUcmFjay5jc3MoYykpKSB9LCBiLnByb3RvdHlwZS5zZXREaW1lbnNpb25zID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEgPyBhLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgJiYgYS4kbGlzdC5jc3MoeyBwYWRkaW5nOiAiMHB4ICIgKyBhLm9wdGlvbnMuY2VudGVyUGFkZGluZyB9KSA6IChhLiRsaXN0LmhlaWdodChhLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkgKiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93KSwgYS5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwICYmIGEuJGxpc3QuY3NzKHsgcGFkZGluZzogYS5vcHRpb25zLmNlbnRlclBhZGRpbmcgKyAiIDBweCIgfSkpLCBhLmxpc3RXaWR0aCA9IGEuJGxpc3Qud2lkdGgoKSwgYS5saXN0SGVpZ2h0ID0gYS4kbGlzdC5oZWlnaHQoKSwgYS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSAmJiBhLm9wdGlvbnMudmFyaWFibGVXaWR0aCA9PT0gITEgPyAoYS5zbGlkZVdpZHRoID0gTWF0aC5jZWlsKGEubGlzdFdpZHRoIC8gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyksIGEuJHNsaWRlVHJhY2sud2lkdGgoTWF0aC5jZWlsKGEuc2xpZGVXaWR0aCAqIGEuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmxlbmd0aCkpKSA6IGEub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSAhMCA/IGEuJHNsaWRlVHJhY2sud2lkdGgoNWUzICogYS5zbGlkZUNvdW50KSA6IChhLnNsaWRlV2lkdGggPSBNYXRoLmNlaWwoYS5saXN0V2lkdGgpLCBhLiRzbGlkZVRyYWNrLmhlaWdodChNYXRoLmNlaWwoYS4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApICogYS4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikubGVuZ3RoKSkpOyB2YXIgYiA9IGEuJHNsaWRlcy5maXJzdCgpLm91dGVyV2lkdGgoITApIC0gYS4kc2xpZGVzLmZpcnN0KCkud2lkdGgoKTsgYS5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09ICExICYmIGEuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLndpZHRoKGEuc2xpZGVXaWR0aCAtIGIpIH0sIGIucHJvdG90eXBlLnNldEZhZGUgPSBmdW5jdGlvbiAoKSB7IHZhciBjLCBiID0gdGhpczsgYi4kc2xpZGVzLmVhY2goZnVuY3Rpb24gKGQsIGUpIHsgYyA9IGIuc2xpZGVXaWR0aCAqIGQgKiAtMSwgYi5vcHRpb25zLnJ0bCA9PT0gITAgPyBhKGUpLmNzcyh7IHBvc2l0aW9uOiAicmVsYXRpdmUiLCByaWdodDogYywgdG9wOiAwLCB6SW5kZXg6IGIub3B0aW9ucy56SW5kZXggLSAyLCBvcGFjaXR5OiAwIH0pIDogYShlKS5jc3MoeyBwb3NpdGlvbjogInJlbGF0aXZlIiwgbGVmdDogYywgdG9wOiAwLCB6SW5kZXg6IGIub3B0aW9ucy56SW5kZXggLSAyLCBvcGFjaXR5OiAwIH0pIH0pLCBiLiRzbGlkZXMuZXEoYi5jdXJyZW50U2xpZGUpLmNzcyh7IHpJbmRleDogYi5vcHRpb25zLnpJbmRleCAtIDEsIG9wYWNpdHk6IDEgfSkgfSwgYi5wcm90b3R5cGUuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGlmICgxID09PSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIGEub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCA9PT0gITAgJiYgYS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSkgeyB2YXIgYiA9IGEuJHNsaWRlcy5lcShhLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApOyBhLiRsaXN0LmNzcygiaGVpZ2h0IiwgYikgfSB9LCBiLnByb3RvdHlwZS5zZXRPcHRpb24gPSBiLnByb3RvdHlwZS5zbGlja1NldE9wdGlvbiA9IGZ1bmN0aW9uICgpIHsgdmFyIGMsIGQsIGUsIGYsIGgsIGIgPSB0aGlzLCBnID0gITE7IGlmICgib2JqZWN0IiA9PT0gYS50eXBlKGFyZ3VtZW50c1swXSkgPyAoZSA9IGFyZ3VtZW50c1swXSwgZyA9IGFyZ3VtZW50c1sxXSwgaCA9ICJtdWx0aXBsZSIpIDogInN0cmluZyIgPT09IGEudHlwZShhcmd1bWVudHNbMF0pICYmIChlID0gYXJndW1lbnRzWzBdLCBmID0gYXJndW1lbnRzWzFdLCBnID0gYXJndW1lbnRzWzJdLCAicmVzcG9uc2l2ZSIgPT09IGFyZ3VtZW50c1swXSAmJiAiYXJyYXkiID09PSBhLnR5cGUoYXJndW1lbnRzWzFdKSA/IGggPSAicmVzcG9uc2l2ZSIgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgYXJndW1lbnRzWzFdICYmIChoID0gInNpbmdsZSIpKSwgInNpbmdsZSIgPT09IGgpIGIub3B0aW9uc1tlXSA9IGY7IGVsc2UgaWYgKCJtdWx0aXBsZSIgPT09IGgpIGEuZWFjaChlLCBmdW5jdGlvbiAoYSwgYykgeyBiLm9wdGlvbnNbYV0gPSBjIH0pOyBlbHNlIGlmICgicmVzcG9uc2l2ZSIgPT09IGgpIGZvciAoZCBpbiBmKSBpZiAoImFycmF5IiAhPT0gYS50eXBlKGIub3B0aW9ucy5yZXNwb25zaXZlKSkgYi5vcHRpb25zLnJlc3BvbnNpdmUgPSBbZltkXV07IGVsc2UgeyBmb3IgKGMgPSBiLm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGggLSAxOyBjID49IDA7KSBiLm9wdGlvbnMucmVzcG9uc2l2ZVtjXS5icmVha3BvaW50ID09PSBmW2RdLmJyZWFrcG9pbnQgJiYgYi5vcHRpb25zLnJlc3BvbnNpdmUuc3BsaWNlKGMsIDEpLCBjLS07IGIub3B0aW9ucy5yZXNwb25zaXZlLnB1c2goZltkXSkgfSBnICYmIChiLnVubG9hZCgpLCBiLnJlaW5pdCgpKSB9LCBiLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLnNldERpbWVuc2lvbnMoKSwgYS5zZXRIZWlnaHQoKSwgYS5vcHRpb25zLmZhZGUgPT09ICExID8gYS5zZXRDU1MoYS5nZXRMZWZ0KGEuY3VycmVudFNsaWRlKSkgOiBhLnNldEZhZGUoKSwgYS4kc2xpZGVyLnRyaWdnZXIoInNldFBvc2l0aW9uIiwgW2FdKSB9LCBiLnByb3RvdHlwZS5zZXRQcm9wcyA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzLCBiID0gZG9jdW1lbnQuYm9keS5zdHlsZTsgYS5wb3NpdGlvblByb3AgPSBhLm9wdGlvbnMudmVydGljYWwgPT09ICEwID8gInRvcCIgOiAibGVmdCIsICJ0b3AiID09PSBhLnBvc2l0aW9uUHJvcCA/IGEuJHNsaWRlci5hZGRDbGFzcygic2xpY2stdmVydGljYWwiKSA6IGEuJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stdmVydGljYWwiKSwgKHZvaWQgMCAhPT0gYi5XZWJraXRUcmFuc2l0aW9uIHx8IHZvaWQgMCAhPT0gYi5Nb3pUcmFuc2l0aW9uIHx8IHZvaWQgMCAhPT0gYi5tc1RyYW5zaXRpb24pICYmIGEub3B0aW9ucy51c2VDU1MgPT09ICEwICYmIChhLmNzc1RyYW5zaXRpb25zID0gITApLCBhLm9wdGlvbnMuZmFkZSAmJiAoIm51bWJlciIgPT0gdHlwZW9mIGEub3B0aW9ucy56SW5kZXggPyBhLm9wdGlvbnMuekluZGV4IDwgMyAmJiAoYS5vcHRpb25zLnpJbmRleCA9IDMpIDogYS5vcHRpb25zLnpJbmRleCA9IGEuZGVmYXVsdHMuekluZGV4KSwgdm9pZCAwICE9PSBiLk9UcmFuc2Zvcm0gJiYgKGEuYW5pbVR5cGUgPSAiT1RyYW5zZm9ybSIsIGEudHJhbnNmb3JtVHlwZSA9ICItby10cmFuc2Zvcm0iLCBhLnRyYW5zaXRpb25UeXBlID0gIk9UcmFuc2l0aW9uIiwgdm9pZCAwID09PSBiLnBlcnNwZWN0aXZlUHJvcGVydHkgJiYgdm9pZCAwID09PSBiLndlYmtpdFBlcnNwZWN0aXZlICYmIChhLmFuaW1UeXBlID0gITEpKSwgdm9pZCAwICE9PSBiLk1velRyYW5zZm9ybSAmJiAoYS5hbmltVHlwZSA9ICJNb3pUcmFuc2Zvcm0iLCBhLnRyYW5zZm9ybVR5cGUgPSAiLW1vei10cmFuc2Zvcm0iLCBhLnRyYW5zaXRpb25UeXBlID0gIk1velRyYW5zaXRpb24iLCB2b2lkIDAgPT09IGIucGVyc3BlY3RpdmVQcm9wZXJ0eSAmJiB2b2lkIDAgPT09IGIuTW96UGVyc3BlY3RpdmUgJiYgKGEuYW5pbVR5cGUgPSAhMSkpLCB2b2lkIDAgIT09IGIud2Via2l0VHJhbnNmb3JtICYmIChhLmFuaW1UeXBlID0gIndlYmtpdFRyYW5zZm9ybSIsIGEudHJhbnNmb3JtVHlwZSA9ICItd2Via2l0LXRyYW5zZm9ybSIsIGEudHJhbnNpdGlvblR5cGUgPSAid2Via2l0VHJhbnNpdGlvbiIsIHZvaWQgMCA9PT0gYi5wZXJzcGVjdGl2ZVByb3BlcnR5ICYmIHZvaWQgMCA9PT0gYi53ZWJraXRQZXJzcGVjdGl2ZSAmJiAoYS5hbmltVHlwZSA9ICExKSksIHZvaWQgMCAhPT0gYi5tc1RyYW5zZm9ybSAmJiAoYS5hbmltVHlwZSA9ICJtc1RyYW5zZm9ybSIsIGEudHJhbnNmb3JtVHlwZSA9ICItbXMtdHJhbnNmb3JtIiwgYS50cmFuc2l0aW9uVHlwZSA9ICJtc1RyYW5zaXRpb24iLCB2b2lkIDAgPT09IGIubXNUcmFuc2Zvcm0gJiYgKGEuYW5pbVR5cGUgPSAhMSkpLCB2b2lkIDAgIT09IGIudHJhbnNmb3JtICYmIGEuYW5pbVR5cGUgIT09ICExICYmIChhLmFuaW1UeXBlID0gInRyYW5zZm9ybSIsIGEudHJhbnNmb3JtVHlwZSA9ICJ0cmFuc2Zvcm0iLCBhLnRyYW5zaXRpb25UeXBlID0gInRyYW5zaXRpb24iKSwgYS50cmFuc2Zvcm1zRW5hYmxlZCA9IGEub3B0aW9ucy51c2VUcmFuc2Zvcm0gJiYgbnVsbCAhPT0gYS5hbmltVHlwZSAmJiBhLmFuaW1UeXBlICE9PSAhMSB9LCBiLnByb3RvdHlwZS5zZXRTbGlkZUNsYXNzZXMgPSBmdW5jdGlvbiAoYSkge3ZhciBjLCBkLCBlLCBmLCBiID0gdGhpczsgZCA9IGIuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKS5yZW1vdmVDbGFzcygic2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay1jdXJyZW50IikuYXR0cigiYXJpYS1oaWRkZW4iLCAidHJ1ZSIpLCBiLiRzbGlkZXMuZXEoYSkuYWRkQ2xhc3MoInNsaWNrLWN1cnJlbnQiKSwgYi5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwID8gKGMgPSBNYXRoLmZsb29yKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSwgYi5vcHRpb25zLmluZmluaXRlID09PSAhMCAmJiAoYSA+PSBjICYmIGEgPD0gYi5zbGlkZUNvdW50IC0gMSAtIGMgPyBiLiRzbGlkZXMuc2xpY2UoYSAtIGMsIGEgKyBjICsgMSkuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwgImZhbHNlIikgOiAoZSA9IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyBhLCBkLnNsaWNlKGUgLSBjICsgMSwgZSArIGMgKyAyKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCAiZmFsc2UiKSksIDAgPT09IGEgPyBkLmVxKGQubGVuZ3RoIC0gMSAtIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSA6IGEgPT09IGIuc2xpZGVDb3VudCAtIDEgJiYgZC5lcShiLm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stY2VudGVyIikpLCBiLiRzbGlkZXMuZXEoYSkuYWRkQ2xhc3MoInNsaWNrLWNlbnRlciIpKSA6IGEgPj0gMCAmJiBhIDw9IGIuc2xpZGVDb3VudCAtIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBiLiRzbGlkZXMuc2xpY2UoYSwgYSArIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJmYWxzZSIpIDogZC5sZW5ndGggPD0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IGQuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwgImZhbHNlIikgOiAoZiA9IGIuc2xpZGVDb3VudCAlIGIub3B0aW9ucy5zbGlkZXNUb1Nob3csIGUgPSBiLm9wdGlvbnMuaW5maW5pdGUgPT09ICEwID8gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGEgOiBhLCBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID09IGIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAmJiBiLnNsaWRlQ291bnQgLSBhIDwgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IGQuc2xpY2UoZSAtIChiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gZiksIGUgKyBmKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCAiZmFsc2UiKSA6IGQuc2xpY2UoZSwgZSArIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJmYWxzZSIpKSwgIm9uZGVtYW5kIiA9PT0gYi5vcHRpb25zLmxhenlMb2FkICYmIGIubGF6eUxvYWQoKX0sIGIucHJvdG90eXBlLnNldHVwSW5maW5pdGUgPSBmdW5jdGlvbiAoKSB7IHZhciBjLCBkLCBlLCBiID0gdGhpczsgaWYgKGIub3B0aW9ucy5mYWRlID09PSAhMCAmJiAoYi5vcHRpb25zLmNlbnRlck1vZGUgPSAhMSksIGIub3B0aW9ucy5pbmZpbml0ZSA9PT0gITAgJiYgYi5vcHRpb25zLmZhZGUgPT09ICExICYmIChkID0gbnVsbCwgYi5zbGlkZUNvdW50ID4gYi5vcHRpb25zLnNsaWRlc1RvU2hvdykpIHsgZm9yIChlID0gYi5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwID8gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDEgOiBiLm9wdGlvbnMuc2xpZGVzVG9TaG93LCBjID0gYi5zbGlkZUNvdW50OyBjID4gYi5zbGlkZUNvdW50IC0gZTsgYyAtPSAxKSBkID0gYyAtIDEsIGEoYi4kc2xpZGVzW2RdKS5jbG9uZSghMCkuYXR0cigiaWQiLCAiIikuYXR0cigiZGF0YS1zbGljay1pbmRleCIsIGQgLSBiLnNsaWRlQ291bnQpLnByZXBlbmRUbyhiLiRzbGlkZVRyYWNrKS5hZGRDbGFzcygic2xpY2stY2xvbmVkIik7IGZvciAoYyA9IDA7IGUgPiBjOyBjICs9IDEpIGQgPSBjLCBhKGIuJHNsaWRlc1tkXSkuY2xvbmUoITApLmF0dHIoImlkIiwgIiIpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLCBkICsgYi5zbGlkZUNvdW50KS5hcHBlbmRUbyhiLiRzbGlkZVRyYWNrKS5hZGRDbGFzcygic2xpY2stY2xvbmVkIik7IGIuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWNsb25lZCIpLmZpbmQoIltpZF0iKS5lYWNoKGZ1bmN0aW9uICgpIHsgYSh0aGlzKS5hdHRyKCJpZCIsICIiKSB9KSB9IH0sIGIucHJvdG90eXBlLmludGVycnVwdCA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpczsgYSB8fCBiLmF1dG9QbGF5KCksIGIuaW50ZXJydXB0ZWQgPSBhIH0sIGIucHJvdG90eXBlLnNlbGVjdEhhbmRsZXIgPSBmdW5jdGlvbiAoYikgeyB2YXIgYyA9IHRoaXMsIGQgPSBhKGIudGFyZ2V0KS5pcygiLnNsaWNrLXNsaWRlIikgPyBhKGIudGFyZ2V0KSA6IGEoYi50YXJnZXQpLnBhcmVudHMoIi5zbGljay1zbGlkZSIpLCBlID0gcGFyc2VJbnQoZC5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IikpOyByZXR1cm4gZSB8fCAoZSA9IDApLCBjLnNsaWRlQ291bnQgPD0gYy5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IChjLnNldFNsaWRlQ2xhc3NlcyhlKSwgdm9pZCBjLmFzTmF2Rm9yKGUpKSA6IHZvaWQgYy5zbGlkZUhhbmRsZXIoZSkgfSwgYi5wcm90b3R5cGUuc2xpZGVIYW5kbGVyID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsgdmFyIGQsIGUsIGYsIGcsIGosIGggPSBudWxsLCBpID0gdGhpczsgcmV0dXJuIGIgPSBiIHx8ICExLCBpLmFuaW1hdGluZyA9PT0gITAgJiYgaS5vcHRpb25zLndhaXRGb3JBbmltYXRlID09PSAhMCB8fCBpLm9wdGlvbnMuZmFkZSA9PT0gITAgJiYgaS5jdXJyZW50U2xpZGUgPT09IGEgfHwgaS5zbGlkZUNvdW50IDw9IGkub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyB2b2lkIDAgOiAoYiA9PT0gITEgJiYgaS5hc05hdkZvcihhKSwgZCA9IGEsIGggPSBpLmdldExlZnQoZCksIGcgPSBpLmdldExlZnQoaS5jdXJyZW50U2xpZGUpLCBpLmN1cnJlbnRMZWZ0ID0gbnVsbCA9PT0gaS5zd2lwZUxlZnQgPyBnIDogaS5zd2lwZUxlZnQsIGkub3B0aW9ucy5pbmZpbml0ZSA9PT0gITEgJiYgaS5vcHRpb25zLmNlbnRlck1vZGUgPT09ICExICYmICgwID4gYSB8fCBhID4gaS5nZXREb3RDb3VudCgpICogaS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSA/IHZvaWQgKGkub3B0aW9ucy5mYWRlID09PSAhMSAmJiAoZCA9IGkuY3VycmVudFNsaWRlLCBjICE9PSAhMCA/IGkuYW5pbWF0ZVNsaWRlKGcsIGZ1bmN0aW9uICgpIHsgaS5wb3N0U2xpZGUoZCkgfSkgOiBpLnBvc3RTbGlkZShkKSkpIDogaS5vcHRpb25zLmluZmluaXRlID09PSAhMSAmJiBpLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgJiYgKDAgPiBhIHx8IGEgPiBpLnNsaWRlQ291bnQgLSBpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpID8gdm9pZCAoaS5vcHRpb25zLmZhZGUgPT09ICExICYmIChkID0gaS5jdXJyZW50U2xpZGUsIGMgIT09ICEwID8gaS5hbmltYXRlU2xpZGUoZywgZnVuY3Rpb24gKCkgeyBpLnBvc3RTbGlkZShkKSB9KSA6IGkucG9zdFNsaWRlKGQpKSkgOiAoaS5vcHRpb25zLmF1dG9wbGF5ICYmIGNsZWFySW50ZXJ2YWwoaS5hdXRvUGxheVRpbWVyKSwgZSA9IDAgPiBkID8gaS5zbGlkZUNvdW50ICUgaS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwID8gaS5zbGlkZUNvdW50IC0gaS5zbGlkZUNvdW50ICUgaS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogaS5zbGlkZUNvdW50ICsgZCA6IGQgPj0gaS5zbGlkZUNvdW50ID8gaS5zbGlkZUNvdW50ICUgaS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwID8gMCA6IGQgLSBpLnNsaWRlQ291bnQgOiBkLCBpLmFuaW1hdGluZyA9ICEwLCBpLiRzbGlkZXIudHJpZ2dlcigiYmVmb3JlQ2hhbmdlIiwgW2ksIGkuY3VycmVudFNsaWRlLCBlXSksIGYgPSBpLmN1cnJlbnRTbGlkZSwgaS5jdXJyZW50U2xpZGUgPSBlLCBpLnNldFNsaWRlQ2xhc3NlcyhpLmN1cnJlbnRTbGlkZSksIGkub3B0aW9ucy5hc05hdkZvciAmJiAoaiA9IGkuZ2V0TmF2VGFyZ2V0KCksIGogPSBqLnNsaWNrKCJnZXRTbGljayIpLCBqLnNsaWRlQ291bnQgPD0gai5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBqLnNldFNsaWRlQ2xhc3NlcyhpLmN1cnJlbnRTbGlkZSkpLCBpLnVwZGF0ZURvdHMoKSwgaS51cGRhdGVBcnJvd3MoKSwgaS5vcHRpb25zLmZhZGUgPT09ICEwID8gKGMgIT09ICEwID8gKGkuZmFkZVNsaWRlT3V0KGYpLCBpLmZhZGVTbGlkZShlLCBmdW5jdGlvbiAoKSB7IGkucG9zdFNsaWRlKGUpIH0pKSA6IGkucG9zdFNsaWRlKGUpLCB2b2lkIGkuYW5pbWF0ZUhlaWdodCgpKSA6IHZvaWQgKGMgIT09ICEwID8gaS5hbmltYXRlU2xpZGUoaCwgZnVuY3Rpb24gKCkgeyBpLnBvc3RTbGlkZShlKSB9KSA6IGkucG9zdFNsaWRlKGUpKSkpIH0sIGIucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLm9wdGlvbnMuYXJyb3dzID09PSAhMCAmJiBhLnNsaWRlQ291bnQgPiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChhLiRwcmV2QXJyb3cuaGlkZSgpLCBhLiRuZXh0QXJyb3cuaGlkZSgpKSwgYS5vcHRpb25zLmRvdHMgPT09ICEwICYmIGEuc2xpZGVDb3VudCA+IGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgYS4kZG90cy5oaWRlKCksIGEuJHNsaWRlci5hZGRDbGFzcygic2xpY2stbG9hZGluZyIpIH0sIGIucHJvdG90eXBlLnN3aXBlRGlyZWN0aW9uID0gZnVuY3Rpb24gKCkgeyB2YXIgYSwgYiwgYywgZCwgZSA9IHRoaXM7IHJldHVybiBhID0gZS50b3VjaE9iamVjdC5zdGFydFggLSBlLnRvdWNoT2JqZWN0LmN1clgsIGIgPSBlLnRvdWNoT2JqZWN0LnN0YXJ0WSAtIGUudG91Y2hPYmplY3QuY3VyWSwgYyA9IE1hdGguYXRhbjIoYiwgYSksIGQgPSBNYXRoLnJvdW5kKDE4MCAqIGMgLyBNYXRoLlBJKSwgMCA+IGQgJiYgKGQgPSAzNjAgLSBNYXRoLmFicyhkKSksIDQ1ID49IGQgJiYgZCA+PSAwID8gZS5vcHRpb25zLnJ0bCA9PT0gITEgPyAibGVmdCIgOiAicmlnaHQiIDogMzYwID49IGQgJiYgZCA+PSAzMTUgPyBlLm9wdGlvbnMucnRsID09PSAhMSA/ICJsZWZ0IiA6ICJyaWdodCIgOiBkID49IDEzNSAmJiAyMjUgPj0gZCA/IGUub3B0aW9ucy5ydGwgPT09ICExID8gInJpZ2h0IiA6ICJsZWZ0IiA6IGUub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09ICEwID8gZCA+PSAzNSAmJiAxMzUgPj0gZCA/ICJkb3duIiA6ICJ1cCIgOiAidmVydGljYWwiIH0sIGIucHJvdG90eXBlLnN3aXBlRW5kID0gZnVuY3Rpb24gKGEpIHsgdmFyIGMsIGQsIGIgPSB0aGlzOyBpZiAoYi5kcmFnZ2luZyA9ICExLCBiLmludGVycnVwdGVkID0gITEsIGIuc2hvdWxkQ2xpY2sgPSBiLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID4gMTAgPyAhMSA6ICEwLCB2b2lkIDAgPT09IGIudG91Y2hPYmplY3QuY3VyWCkgcmV0dXJuICExOyBpZiAoYi50b3VjaE9iamVjdC5lZGdlSGl0ID09PSAhMCAmJiBiLiRzbGlkZXIudHJpZ2dlcigiZWRnZSIsIFtiLCBiLnN3aXBlRGlyZWN0aW9uKCldKSwgYi50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA+PSBiLnRvdWNoT2JqZWN0Lm1pblN3aXBlKSB7IHN3aXRjaCAoZCA9IGIuc3dpcGVEaXJlY3Rpb24oKSkgeyBjYXNlICJsZWZ0IjogY2FzZSAiZG93biI6IGMgPSBiLm9wdGlvbnMuc3dpcGVUb1NsaWRlID8gYi5jaGVja05hdmlnYWJsZShiLmN1cnJlbnRTbGlkZSArIGIuZ2V0U2xpZGVDb3VudCgpKSA6IGIuY3VycmVudFNsaWRlICsgYi5nZXRTbGlkZUNvdW50KCksIGIuY3VycmVudERpcmVjdGlvbiA9IDA7IGJyZWFrOyBjYXNlICJyaWdodCI6IGNhc2UgInVwIjogYyA9IGIub3B0aW9ucy5zd2lwZVRvU2xpZGUgPyBiLmNoZWNrTmF2aWdhYmxlKGIuY3VycmVudFNsaWRlIC0gYi5nZXRTbGlkZUNvdW50KCkpIDogYi5jdXJyZW50U2xpZGUgLSBiLmdldFNsaWRlQ291bnQoKSwgYi5jdXJyZW50RGlyZWN0aW9uID0gMSB9ICJ2ZXJ0aWNhbCIgIT0gZCAmJiAoYi5zbGlkZUhhbmRsZXIoYyksIGIudG91Y2hPYmplY3QgPSB7fSwgYi4kc2xpZGVyLnRyaWdnZXIoInN3aXBlIiwgW2IsIGRdKSkgfSBlbHNlIGIudG91Y2hPYmplY3Quc3RhcnRYICE9PSBiLnRvdWNoT2JqZWN0LmN1clggJiYgKGIuc2xpZGVIYW5kbGVyKGIuY3VycmVudFNsaWRlKSwgYi50b3VjaE9iamVjdCA9IHt9KSB9LCBiLnByb3RvdHlwZS5zd2lwZUhhbmRsZXIgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IGlmICghKGIub3B0aW9ucy5zd2lwZSA9PT0gITEgfHwgIm9udG91Y2hlbmQiIGluIGRvY3VtZW50ICYmIGIub3B0aW9ucy5zd2lwZSA9PT0gITEgfHwgYi5vcHRpb25zLmRyYWdnYWJsZSA9PT0gITEgJiYgLTEgIT09IGEudHlwZS5pbmRleE9mKCJtb3VzZSIpKSkgc3dpdGNoIChiLnRvdWNoT2JqZWN0LmZpbmdlckNvdW50ID0gYS5vcmlnaW5hbEV2ZW50ICYmIHZvaWQgMCAhPT0gYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgPyBhLm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggOiAxLCBiLnRvdWNoT2JqZWN0Lm1pblN3aXBlID0gYi5saXN0V2lkdGggLyBiLm9wdGlvbnMudG91Y2hUaHJlc2hvbGQsIGIub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09ICEwICYmIChiLnRvdWNoT2JqZWN0Lm1pblN3aXBlID0gYi5saXN0SGVpZ2h0IC8gYi5vcHRpb25zLnRvdWNoVGhyZXNob2xkKSwgYS5kYXRhLmFjdGlvbikgeyBjYXNlICJzdGFydCI6IGIuc3dpcGVTdGFydChhKTsgYnJlYWs7IGNhc2UgIm1vdmUiOiBiLnN3aXBlTW92ZShhKTsgYnJlYWs7IGNhc2UgImVuZCI6IGIuc3dpcGVFbmQoYSkgfSB9LCBiLnByb3RvdHlwZS5zd2lwZU1vdmUgPSBmdW5jdGlvbiAoYSkgeyB2YXIgZCwgZSwgZiwgZywgaCwgYiA9IHRoaXM7IHJldHVybiBoID0gdm9pZCAwICE9PSBhLm9yaWdpbmFsRXZlbnQgPyBhLm9yaWdpbmFsRXZlbnQudG91Y2hlcyA6IG51bGwsICFiLmRyYWdnaW5nIHx8IGggJiYgMSAhPT0gaC5sZW5ndGggPyAhMSA6IChkID0gYi5nZXRMZWZ0KGIuY3VycmVudFNsaWRlKSwgYi50b3VjaE9iamVjdC5jdXJYID0gdm9pZCAwICE9PSBoID8gaFswXS5wYWdlWCA6IGEuY2xpZW50WCwgYi50b3VjaE9iamVjdC5jdXJZID0gdm9pZCAwICE9PSBoID8gaFswXS5wYWdlWSA6IGEuY2xpZW50WSwgYi50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KGIudG91Y2hPYmplY3QuY3VyWCAtIGIudG91Y2hPYmplY3Quc3RhcnRYLCAyKSkpLCBiLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSAhMCAmJiAoYi50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KGIudG91Y2hPYmplY3QuY3VyWSAtIGIudG91Y2hPYmplY3Quc3RhcnRZLCAyKSkpKSwgZSA9IGIuc3dpcGVEaXJlY3Rpb24oKSwgInZlcnRpY2FsIiAhPT0gZSA/ICh2b2lkIDAgIT09IGEub3JpZ2luYWxFdmVudCAmJiBiLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID4gNCAmJiBhLnByZXZlbnREZWZhdWx0KCksIGcgPSAoYi5vcHRpb25zLnJ0bCA9PT0gITEgPyAxIDogLTEpICogKGIudG91Y2hPYmplY3QuY3VyWCA+IGIudG91Y2hPYmplY3Quc3RhcnRYID8gMSA6IC0xKSwgYi5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gITAgJiYgKGcgPSBiLnRvdWNoT2JqZWN0LmN1clkgPiBiLnRvdWNoT2JqZWN0LnN0YXJ0WSA/IDEgOiAtMSksIGYgPSBiLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoLCBiLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPSAhMSwgYi5vcHRpb25zLmluZmluaXRlID09PSAhMSAmJiAoMCA9PT0gYi5jdXJyZW50U2xpZGUgJiYgInJpZ2h0IiA9PT0gZSB8fCBiLmN1cnJlbnRTbGlkZSA+PSBiLmdldERvdENvdW50KCkgJiYgImxlZnQiID09PSBlKSAmJiAoZiA9IGIudG91Y2hPYmplY3Quc3dpcGVMZW5ndGggKiBiLm9wdGlvbnMuZWRnZUZyaWN0aW9uLCBiLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPSAhMCksIGIub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEgPyBiLnN3aXBlTGVmdCA9IGQgKyBmICogZyA6IGIuc3dpcGVMZWZ0ID0gZCArIGYgKiAoYi4kbGlzdC5oZWlnaHQoKSAvIGIubGlzdFdpZHRoKSAqIGcsIGIub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09ICEwICYmIChiLnN3aXBlTGVmdCA9IGQgKyBmICogZyksIGIub3B0aW9ucy5mYWRlID09PSAhMCB8fCBiLm9wdGlvbnMudG91Y2hNb3ZlID09PSAhMSA/ICExIDogYi5hbmltYXRpbmcgPT09ICEwID8gKGIuc3dpcGVMZWZ0ID0gbnVsbCwgITEpIDogdm9pZCBiLnNldENTUyhiLnN3aXBlTGVmdCkpIDogdm9pZCAwKSB9LCBiLnByb3RvdHlwZS5zd2lwZVN0YXJ0ID0gZnVuY3Rpb24gKGEpIHsgdmFyIGMsIGIgPSB0aGlzOyByZXR1cm4gYi5pbnRlcnJ1cHRlZCA9ICEwLCAxICE9PSBiLnRvdWNoT2JqZWN0LmZpbmdlckNvdW50IHx8IGIuc2xpZGVDb3VudCA8PSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gKGIudG91Y2hPYmplY3QgPSB7fSwgITEpIDogKHZvaWQgMCAhPT0gYS5vcmlnaW5hbEV2ZW50ICYmIHZvaWQgMCAhPT0gYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgJiYgKGMgPSBhLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSksIGIudG91Y2hPYmplY3Quc3RhcnRYID0gYi50b3VjaE9iamVjdC5jdXJYID0gdm9pZCAwICE9PSBjID8gYy5wYWdlWCA6IGEuY2xpZW50WCwgYi50b3VjaE9iamVjdC5zdGFydFkgPSBiLnRvdWNoT2JqZWN0LmN1clkgPSB2b2lkIDAgIT09IGMgPyBjLnBhZ2VZIDogYS5jbGllbnRZLCB2b2lkIChiLmRyYWdnaW5nID0gITApKSB9LCBiLnByb3RvdHlwZS51bmZpbHRlclNsaWRlcyA9IGIucHJvdG90eXBlLnNsaWNrVW5maWx0ZXIgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgbnVsbCAhPT0gYS4kc2xpZGVzQ2FjaGUgJiYgKGEudW5sb2FkKCksIGEuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSwgYS4kc2xpZGVzQ2FjaGUuYXBwZW5kVG8oYS4kc2xpZGVUcmFjayksIGEucmVpbml0KCkpIH0sIGIucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBhKCIuc2xpY2stY2xvbmVkIiwgYi4kc2xpZGVyKS5yZW1vdmUoKSwgYi4kZG90cyAmJiBiLiRkb3RzLnJlbW92ZSgpLCBiLiRwcmV2QXJyb3cgJiYgYi5odG1sRXhwci50ZXN0KGIub3B0aW9ucy5wcmV2QXJyb3cpICYmIGIuJHByZXZBcnJvdy5yZW1vdmUoKSwgYi4kbmV4dEFycm93ICYmIGIuaHRtbEV4cHIudGVzdChiLm9wdGlvbnMubmV4dEFycm93KSAmJiBiLiRuZXh0QXJyb3cucmVtb3ZlKCksIGIuJHNsaWRlcy5yZW1vdmVDbGFzcygic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCIpLmF0dHIoImFyaWEtaGlkZGVuIiwgInRydWUiKS5jc3MoIndpZHRoIiwgIiIpIH0sIGIucHJvdG90eXBlLnVuc2xpY2sgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IGIuJHNsaWRlci50cmlnZ2VyKCJ1bnNsaWNrIiwgW2IsIGFdKSwgYi5kZXN0cm95KCkgfSwgYi5wcm90b3R5cGUudXBkYXRlQXJyb3dzID0gZnVuY3Rpb24gKCkgeyB2YXIgYiwgYSA9IHRoaXM7IGIgPSBNYXRoLmZsb29yKGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSwgYS5vcHRpb25zLmFycm93cyA9PT0gITAgJiYgYS5zbGlkZUNvdW50ID4gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiAhYS5vcHRpb25zLmluZmluaXRlICYmIChhLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsICJmYWxzZSIpLCBhLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsICJmYWxzZSIpLCAwID09PSBhLmN1cnJlbnRTbGlkZSA/IChhLiRwcmV2QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsICJ0cnVlIiksIGEuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgImZhbHNlIikpIDogYS5jdXJyZW50U2xpZGUgPj0gYS5zbGlkZUNvdW50IC0gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBhLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITEgPyAoYS4kbmV4dEFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCAidHJ1ZSIpLCBhLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsICJmYWxzZSIpKSA6IGEuY3VycmVudFNsaWRlID49IGEuc2xpZGVDb3VudCAtIDEgJiYgYS5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwICYmIChhLiRuZXh0QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsICJ0cnVlIiksIGEuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgImZhbHNlIikpKSB9LCBiLnByb3RvdHlwZS51cGRhdGVEb3RzID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IG51bGwgIT09IGEuJGRvdHMgJiYgKGEuJGRvdHMuZmluZCgibGkiKS5yZW1vdmVDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCAidHJ1ZSIpLCBhLiRkb3RzLmZpbmQoImxpIikuZXEoTWF0aC5mbG9vcihhLmN1cnJlbnRTbGlkZSAvIGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJmYWxzZSIpKSB9LCBiLnByb3RvdHlwZS52aXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEub3B0aW9ucy5hdXRvcGxheSAmJiAoZG9jdW1lbnRbYS5oaWRkZW5dID8gYS5pbnRlcnJ1cHRlZCA9ICEwIDogYS5pbnRlcnJ1cHRlZCA9ICExKSB9LCBhLmZuLnNsaWNrID0gZnVuY3Rpb24gKCkgeyB2YXIgZiwgZywgYSA9IHRoaXMsIGMgPSBhcmd1bWVudHNbMF0sIGQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBlID0gYS5sZW5ndGg7IGZvciAoZiA9IDA7IGUgPiBmOyBmKyspIGlmICgib2JqZWN0IiA9PSB0eXBlb2YgYyB8fCAidW5kZWZpbmVkIiA9PSB0eXBlb2YgYyA/IGFbZl0uc2xpY2sgPSBuZXcgYihhW2ZdLCBjKSA6IGcgPSBhW2ZdLnNsaWNrW2NdLmFwcGx5KGFbZl0uc2xpY2ssIGQpLCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZykgcmV0dXJuIGc7IHJldHVybiBhIH19KTsNCiFmdW5jdGlvbiAoaCkgeyBoKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7IHZhciBuLCB0LCBsID0gaCgiLmluc3RhbnRTZWFyY2hSZXNvdXJjZUVsZW1lbnQiKTsgMCAhPT0gbC5sZW5ndGggJiYgKCgwIDwgaCgiI2luc3RhbnQtc2VhcmNoLWNhdGVnb3JpZXMiKS5sZW5ndGggfHwgMCA8IGgoIiNpbnN0YW50LXNlYXJjaC1tYW51ZmFjdHVyZXJzIikubGVuZ3RoIHx8IDAgPCBoKCIjaW5zdGFudC1zZWFyY2gtdmVuZG9ycyIpLmxlbmd0aCkgJiYgKGgoIi5zZWFyY2gtYm94LXRleHQiKS5hZGRDbGFzcygibmFycm93IiksIGgoIi5zdG9yZS1zZWFyY2gtYm94IikuYWRkQ2xhc3MoIndpdGgtY2FyZWdvcnktc2VhcmNoLWVuYWJsZWQiKSksIG4gPSBwYXJzZUludChsLmF0dHIoImRhdGEtbnVtYmVyT2ZWaXNpYmxlUHJvZHVjdHMiKSksIHQgPSBoKCIuaW5zdGFudFNlYXJjaFJlc291cmNlRWxlbWVudCIpLmF0dHIoImRhdGEtbm9SZXN1bHRzUmVzb3VyY2VUZXh0IiksIGgoIiNzbWFsbC1zZWFyY2h0ZXJtcyIpLmtlbmRvQXV0b0NvbXBsZXRlKHsgaGlnaGxpZ2h0Rmlyc3Q6ICJ0cnVlIiA9PT0gbC5hdHRyKCJkYXRhLWhpZ2hsaWdodEZpcnN0Rm91bmRFbGVtZW50IiksIG1pbkxlbmd0aDogcGFyc2VJbnQobC5hdHRyKCJkYXRhLW1pbktleXdvcmRMZW5ndGgiKSkgfHwgMCwgZW5mb3JjZU1pbkxlbmd0aDogITAsIGRhdGFUZXh0RmllbGQ6ICJQcm9kdWN0TmFtZSIsIGZpbHRlcjogImNvbnRhaW5zIiwgbm9EYXRhVGVtcGxhdGU6IHQsIHBvcHVwOiB7IGFwcGVuZFRvOiBoKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIikgfSwgdGVtcGxhdGU6IGtlbmRvLnRlbXBsYXRlKGgoIiNpbnN0YW50U2VhcmNoSXRlbVRlbXBsYXRlIikuaHRtbCgpKSwgaGVpZ2h0OiAiYXV0byIsIGRhdGFTb3VyY2U6IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoeyBzZXJ2ZXJGaWx0ZXJpbmc6ICEwLCBzY2hlbWE6IHsgZGF0YTogIlByb2R1Y3RzIiB9LCByZXF1ZXN0U3RhcnQ6IGZ1bmN0aW9uICgpIHsgaCgiI3NtYWxsLXNlYXJjaHRlcm1zIikuYWRkQ2xhc3MoImluc3RhbnQtc2VhcmNoLWJ1c3kiKSB9LCBjaGFuZ2U6IGZ1bmN0aW9uICgpIHsgaCgiI3NtYWxsLXNlYXJjaHRlcm1zIikucmVtb3ZlQ2xhc3MoImluc3RhbnQtc2VhcmNoLWJ1c3kiKSB9LCB0cmFuc3BvcnQ6IHsgcmVhZDogeyB1cmw6IGwuYXR0cigiZGF0YS1pbnN0YW50U2VhcmNoVXJsIiksIGNvbXBsZXRlOiBmdW5jdGlvbiAodCkgeyB0LnN1Y2Nlc3MoZnVuY3Rpb24gKHQpIHsgdmFyIGEgPSBoKCIjaW5zdGFudFNlYXJjaFNob3dBbGwiKTsgMCA8IGEubGVuZ3RoICYmIGEucmVtb3ZlKCksIGgoIiNzbWFsbC1zZWFyY2h0ZXJtcy1saXN0IikuYXBwZW5kKHQuU2hvd0FsbEJ1dHRvbkh0bWwpLCBoKCIjaW5zdGFudFNlYXJjaFNob3dBbGwiKS5vbigiY2xpY2siLCBmdW5jdGlvbiAodCkgeyB0LnByZXZlbnREZWZhdWx0KCksIGgoIi5zZWFyY2gtYm94LWJ1dHRvbiIpLmNsaWNrKCkgfSkgfSkgfSB9LCBwYXJhbWV0ZXJNYXA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHsgcTogaCgiI3NtYWxsLXNlYXJjaHRlcm1zIikudmFsKCksIGNhdGVnb3J5SWQ6IGgoIiNpbnN0YW50LXNlYXJjaC1jYXRlZ29yaWVzIikudmFsKCksIG1hbnVmYWN0dXJlcklkOiBoKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLnZhbCgpLCB2ZW5kb3JJZDogaCgiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS52YWwoKSB9IH0gfSB9KSwgY2hhbmdlOiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gaCgiLmstbGlzdCIpLmZpbmQoIi5rLXN0YXRlLXNlbGVjdGVkIikuZmluZCgiLmluc3RhbnQtc2VhcmNoLWl0ZW0iKS5hdHRyKCJkYXRhLXVybCIpOyB2b2lkIDAgPT09IHQgfHwgc2V0TG9jYXRpb24odCkgfSwgZGF0YUJvdW5kOiBmdW5jdGlvbiAodCkgeyBoKCIjc21hbGwtc2VhcmNodGVybXMiKS5kYXRhKCJrZW5kb0F1dG9Db21wbGV0ZSIpLmxpc3QucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyIikuYWRkQ2xhc3MoImluc3RhbnRTZWFyY2giKSwgKDAgPCBoKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLmxlbmd0aCB8fCAwIDwgaCgiI2luc3RhbnQtc2VhcmNoLW1hbnVmYWN0dXJlcnMiKS5sZW5ndGggfHwgMCA8IGgoIiNpbnN0YW50LXNlYXJjaC12ZW5kb3JzIikubGVuZ3RoKSAmJiBoKCIuay1hbmltYXRpb24tY29udGFpbmVyIikuYWRkQ2xhc3MoInJlc2l6ZSIpLCBmdW5jdGlvbiAoKSB7IHZhciB0ID0gaCgiI3NtYWxsLXNlYXJjaHRlcm1zX2xpc3Rib3giKS5jaGlsZHJlbigpLnNsaWNlKDAsIG4pLCBhID0gMDsgaWYgKHQubGVuZ3RoID09PSBuKSBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspYSArPSBoKHRbZV0pLm91dGVySGVpZ2h0KCk7IDAgPCBhICYmIGgoIiNzbWFsbC1zZWFyY2h0ZXJtcy1saXN0IikuY3NzKCJoZWlnaHQiLCBhKSB9KCkgfSB9KSwgImZhbHNlIiA9PT0gbC5hdHRyKCJkYXRhLWhpZ2hsaWdodEZpcnN0Rm91bmRFbGVtZW50IikgJiYgaCgiI3NtYWxsLXNlYXJjaC1ib3gtZm9ybSIpLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKHQpIHsgMTMgPT09IHQua2V5Q29kZSAmJiBoKHRoaXMpLnN1Ym1pdCgpIH0pLCBoKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIikuc3VibWl0KGZ1bmN0aW9uICh0KSB7IHZhciBhLCBlLCBuLCByLCBzID0gaCgiI2luc3RhbnQtc2VhcmNoLWNhdGVnb3JpZXMiKS52YWwoKSB8fCAwLCBjID0gaCgiI2luc3RhbnQtc2VhcmNoLW1hbnVmYWN0dXJlcnMiKS52YWwoKSB8fCAwLCBvID0gaCgiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS52YWwoKSB8fCAwLCBpID0gaCgiI3NtYWxsLXNlYXJjaHRlcm1zIikudmFsKCk7IGkgJiYgKGEgPSBsLmF0dHIoImRhdGEtc2VhcmNoSW5Qcm9kdWN0RGVzY3JpcHRpb25zIiksIGUgPSAwIDwgcyB8fCAwIDwgYyB8fCAwIDwgbyB8fCBhLCBuID0gbC5hdHRyKCJkYXRhLXNlYXJjaFBhZ2VVcmwiKSwgciA9IGVuY29kZVVSSUNvbXBvbmVudChpKSwgaSA9IGwuYXR0cigiZGF0YS1kZWZhdWx0UHJvZHVjdFNvcnRPcHRpb24iKSwgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuICsgIj9hZHZzPSIgKyBlICsgIiZjaWQ9IiArIHMgKyAiJm1pZD0iICsgYyArICImdmlkPSIgKyBvICsgIiZxPSIgKyByICsgIiZzaWQ9IiArIGEgKyAiJmlzYz10cnVlJm9yZGVyQnk9IiArIGkpLCB0LnByZXZlbnREZWZhdWx0KCkgfSkpIH0pIH0oalF1ZXJ5KTsNCiFmdW5jdGlvbiAobCwgcywgcCwgcikgeyB2YXIgZCA9ICIuYWpheENhcnRJbmZvIjsgZnVuY3Rpb24gbigpIHsgcmV0dXJuIHAuZ2V0QXR0clZhbEZyb21Eb20oZCwgImRhdGEtcHJvZHVjdEJveFByb2R1Y3RJdGVtRWxlbWVudFNlbGVjdG9yIikgfSBmdW5jdGlvbiBpKHQpIHsgcmV0dXJuIHAuZ2V0QXR0clZhbEZyb21Eb20odCwgInZhbHVlIikgfHwgdC50ZXh0KCkgfSBmdW5jdGlvbiBnKCkgeyByZXR1cm4gImJvZHkiIH0gZnVuY3Rpb24gYSgpIHsgdmFyIHQgPSBwLmdldEF0dHJWYWxGcm9tRG9tKGQsICJkYXRhLXByb2R1Y3RQYWdlQWRkVG9DYXJ0QnV0dG9uU2VsZWN0b3IiKSwgYSA9IHAuZ2V0QXR0clZhbEZyb21Eb20oZCwgImRhdGEtcHJvZHVjdEJveEFkZFRvQ2FydEJ1dHRvblNlbGVjdG9yIiksIG8gPSBbXSwgZSA9IFtdOyByZXR1cm4gcyh0KS5lYWNoKGZ1bmN0aW9uICgpIHsgdmFyIHQsIGE7IHModGhpcykuaXMoIi5ub3BBamF4Q2FydFByb2R1Y3RWYXJpYW50QWRkVG9DYXJ0QnV0dG9uIikgfHwgKGEgPSBwLmdldEF0dHJWYWxGcm9tRG9tKHRoaXMsICJkYXRhLXByb2R1Y3RpZCIsIDApKSAmJiAwIDwgYSAmJiAodCA9IHsgcHJvZHVjdElkOiBhLCBpc1Byb2R1Y3RQYWdlOiAhMCwgYnV0dG9uRWxlbWVudDogcyh0aGlzKSB9LCBhID0geyBwcm9kdWN0SWQ6IGEsIGlzUHJvZHVjdFBhZ2U6ICEwLCBidXR0b25WYWx1ZTogaShzKHRoaXMpKSB9LCBvLnB1c2godCksIGUucHVzaChhKSkgfSksIHMoYSkuZWFjaChmdW5jdGlvbiAoKSB7IHZhciB0LCBhOyBzKHRoaXMpLmlzKCIubm9wQWpheENhcnRQcm9kdWN0TGlzdEFkZFRvQ2FydEJ1dHRvbiIpIHx8ICh0ID0gcyh0aGlzKSwgKHQgPSAoYSA9IG4oKSkgPT0gciB8fCAiIiA9PT0gYSA/IDAgOiBwLmdldEF0dHJWYWxGcm9tRG9tKHModCkucGFyZW50cyhhKSwgImRhdGEtcHJvZHVjdGlkIiwgMCkpICYmIDAgPCB0ICYmICh0ID0geyBwcm9kdWN0SWQ6IHQsIGlzUHJvZHVjdFBhZ2U6ICEoYSA9IHsgcHJvZHVjdElkOiB0LCBpc1Byb2R1Y3RQYWdlOiAhMSwgYnV0dG9uRWxlbWVudDogcyh0aGlzKSB9KSwgYnV0dG9uVmFsdWU6IGkocyh0aGlzKSkgfSwgby5wdXNoKGEpLCBlLnB1c2godCkpKSB9KSwgeyBhZGRUb0NhcnRCdXR0b25zOiBvLCBidXR0b25zUGFyYW1ldGVyczogZSB9IH0gZnVuY3Rpb24gYygpIHsgZygpOyB2YXIgdCA9IHMoImJvZHkiKTsgMCA8IHQubGVuZ3RoICYmIHMoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5oZWlnaHQodC5oZWlnaHQoKSkud2lkdGgodC53aWR0aCgpKS5zaG93KCkgfSBmdW5jdGlvbiBlKHQpIHsgdmFyIGE7IHQgPyAwIDwgcygiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5sZW5ndGggJiYgKGEgPSBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLnBhcmVudCgpLmhlaWdodCgpLCB0ID0gcygiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5wYXJlbnQoKS53aWR0aCgpLCBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAubWluaVByb2R1Y3REZXRhaWxzUGFuZWxBamF4QnVzeSIpLmhlaWdodChhIC0gMTApLndpZHRoKHQgLSAxMCkuc2hvdygpKSA6IGMoKSB9IGZ1bmN0aW9uIHUoKSB7IHMoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5oaWRlKCkgfSBmdW5jdGlvbiBoKHQpIHsgdCA/IHMoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5taW5pUHJvZHVjdERldGFpbHNQYW5lbEFqYXhCdXN5IikuaGlkZSgpIDogdSgpIH0gZnVuY3Rpb24gdCgpIHsgdmFyIG4gPSBhKCksIHQgPSBuLmJ1dHRvbnNQYXJhbWV0ZXJzOyAwIDwgdC5sZW5ndGggJiYgcy5hamF4KHsgY2FjaGU6ICExLCB0eXBlOiAiUE9TVCIsIGRhdGE6IHMudG9KU09OKHQpLCBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLCB1cmw6IHAuZ2V0QXR0clZhbEZyb21Eb20oZCwgImRhdGEtZ2V0QWpheENhcnRCdXR0b25VcmwiKSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IGlmICgiIiAhPT0gdCkgeyBmb3IgKHZhciBhID0gMDsgYSA8IG4uYWRkVG9DYXJ0QnV0dG9ucy5sZW5ndGg7IGErKylvID0gdCwgZSA9IG4uYWRkVG9DYXJ0QnV0dG9uc1thXSwgciA9IHZvaWQgMCwgMCA8IChyID0gcyhvKS5maWx0ZXIoImRpdltkYXRhLXByb2R1Y3RJZD0nIiArIGUucHJvZHVjdElkICsgIiddIikpLmxlbmd0aCAmJiAoKG8gPSBwLmdldEF0dHJWYWxGcm9tRG9tKHIsICJkYXRhLWlzUHJvZHVjdFBhZ2UiKSkgJiYgbyA9PT0gZS5pc1Byb2R1Y3RQYWdlLnRvU3RyaW5nKCkgJiYgKHMoZS5idXR0b25FbGVtZW50KS5wYXJlbnRzKCIucHJvZHVjdC1pdGVtLCAuYWRkLXRvLWNhcnQiKS5hZGRDbGFzcygic2V2ZW5zcGlrZXMtYWpheGNhcnQiKSwgcyhlLmJ1dHRvbkVsZW1lbnQpLnJlcGxhY2VXaXRoKHJbMF0pKSk7IHMuZXZlbnQudHJpZ2dlcih7IHR5cGU6ICJub3BBamF4Q2FydEJ1dHRvbnNBZGRlZEV2ZW50IiB9KSB9IHZhciBvLCBlLCByIH0pIH0gZnVuY3Rpb24gbSgpIHsgdmFyIGEgPSAiLmJsb2NrLmJsb2NrLXNob3BwaW5nY2FydCI7IDAgPCBzKGEpLmxlbmd0aCAmJiBzLmFqYXgoeyBjYWNoZTogITEsIHR5cGU6ICJHRVQiLCB1cmw6IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI21pbmlTaG9wcGluZ0NhcnRVcmwiKSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IHQgPSBzKHQpLmZpbHRlcihhKTsgcyhhKS5yZXBsYWNlV2l0aCh0KSwgcy5ldmVudC50cmlnZ2VyKHsgdHlwZTogIm5vcEFqYXhDYXJ0TWluaVNob3BwaW5nQ2FydFVwZGF0ZWQiIH0pIH0pIH0gZnVuY3Rpb24gZih0KSB7IHQgPSAnPGRpdiBjbGFzcz0ibWluaVByb2R1Y3REZXRhaWxzUGFuZWxBamF4QnVzeSI+PC9kaXY+PGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PicgKyB0OyB0ID0gcygiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5kYXRhKCJrZW5kb1dpbmRvdyIpLmNvbnRlbnQodCk7IHQuY2VudGVyKCksIHQub3BlbigpLCBzKGRvY3VtZW50KS5vbigiYWpheENhcnQucHJvZHVjdF9hdHRyaWJ1dGVzX2NoYW5nZWQiLCBmdW5jdGlvbiAodCkgeyB2YXIgYTsgdC5jaGFuZ2VkRGF0YSAmJiB0LmNoYW5nZWREYXRhLnBpY3R1cmVEZWZhdWx0U2l6ZVVybCAmJiAoYSA9IHQuY2hhbmdlZERhdGEucGljdHVyZURlZmF1bHRTaXplVXJsLCB0LmVsZW1lbnQuZmluZCgiLnByb2R1Y3Qtb3ZlcnZpZXctbGluZSIpLmZpbmQoIi5waWN0dXJlIGltZyIpLmF0dHIoInNyYyIsIGEpKSB9KSB9IGZ1bmN0aW9uIEModCwgbywgYSkgeyB0ID0geyBwcm9kdWN0SWQ6IHQsIGlzQWRkVG9DYXJ0QnV0dG9uOiBhIH0sIGEgPSBwLmdldEhpZGRlblZhbEZyb21Eb20oIiNnZXRNaW5pUHJvZHVjdERldGFpbHNWaWV3VXJsIik7IHMuYWpheCh7IGNhY2hlOiAhMSwgYXN5bmM6ICExLCB0eXBlOiAiUE9TVCIsIGRhdGE6IHQsIHVybDogYSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IHZhciBhOyBmKHQpLCBhID0gbywgMCA8ICh0ID0gcC5nZXRBdHRyVmFsRnJvbURvbSgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdBZGRUb0NhcnRCdXR0b24sIC5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5ub3BBamF4Q2FydFByb2R1Y3RWYXJpYW50QWRkVG9XaXNobGlzdEJ1dHRvbiIsICJkYXRhLXByb2R1Y3RJZCIsIDApKSAmJiAoKHQgPSBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAjYWRkdG9jYXJ0XyIgKyB0ICsgIl9FbnRlcmVkUXVhbnRpdHkiKSkuaXMoInNlbGVjdCIpICYmICh0LmZpbmQoIm9wdGlvblt2YWx1ZT0iICsgYSArICJdIikubGVuZ3RoIHx8IChhID0gdC5maW5kKCJvcHRpb246Zmlyc3QiKS52YWwoKSkpLCB0LnZhbChhKSksIHMuZXZlbnQudHJpZ2dlcih7IHR5cGU6ICJub3BBamF4Q2FydE1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdTaG93biIgfSkgfSkgfSBmdW5jdGlvbiB2KCkgeyB2YXIgYSA9IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI2ZseW91dFNob3BwaW5nQ2FydFBhbmVsU2VsZWN0b3IiKTsgbC5zaG91bGRSZWZyZXNoRmx5b3V0Q2FydCAmJiAwIDwgcyhhKS5sZW5ndGggJiYgcy5hamF4KHsgY2FjaGU6ICExLCB0eXBlOiAiR0VUIiwgdXJsOiBwLmdldEhpZGRlblZhbEZyb21Eb20oIiNmbHlvdXRTaG9wcGluZ0NhcnRVcmwiKSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IHQgPSBzKHQpLmZpbHRlcihhKTsgcyhhKS5yZXBsYWNlV2l0aCh0KSwgcy5ldmVudC50cmlnZ2VyKHsgdHlwZTogIm5vcEFqYXhDYXJ0Rmx5b3V0U2hvcHBpbmdDYXJ0VXBkYXRlZCIgfSkgfSkgfSBmdW5jdGlvbiBBKCkgeyB2YXIgYSA9IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI3Nob3BwaW5nQ2FydEJveFBhbmVsU2VsZWN0b3IiKTsgMCA8IHMoYSkubGVuZ3RoICYmIHMuYWpheCh7IGNhY2hlOiAhMSwgdHlwZTogIkdFVCIsIHVybDogcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjc2hvcHBpbmdDYXJ0Qm94VXJsIikgfSkuZG9uZShmdW5jdGlvbiAodCkgeyB0ID0gcyh0KS5maW5kKGEpOyBzKGEpLnJlcGxhY2VXaXRoKHQpLCBzLmV2ZW50LnRyaWdnZXIoeyB0eXBlOiAibm9wQWpheENhcnRTaG9wcGluZ0NhcnRCb3hVcGRhdGVkIiB9KSB9KSB9IGZ1bmN0aW9uIHcoZSkgeyB2YXIgdCA9ICcuaGVhZGVyLWxpbmtzIGFbaHJlZj0iL2NhcnQiXScsIGEgPSBwLmdldEhpZGRlblZhbEZyb21Eb20oIiNzaG9wcGluZ0NhcnRNZW51TGlua1NlbGVjdG9yIik7IDAgPCBzKCIjc2hvcHBpbmdDYXJ0TWVudUxpbmtTZWxlY3RvciIpLmxlbmd0aCAmJiAiIiAhPT0gYSAmJiAodCA9IGEsIHQgPSBzKCI8ZGl2Lz4iKS5odG1sKHQpLnRleHQoKSksIHModCkuZWFjaChmdW5jdGlvbiAodCwgYSkgeyB2YXIgbyA9IHMoYSkuaHRtbCgpLCBvID0gL1xkKy8uZXhlYyhvKSwgbyA9IHBhcnNlSW50KG8pICsgcGFyc2VJbnQoZSksIG8gPSBzKCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS1taW5pU2hvcHBpbmdDYXJ0UXVhdGl0eUZvcm1hdHRpbmdSZXNvdXJjZSIpLnJlcGxhY2UoInswfSIsIG8pOyBzKGEpLmh0bWwobykgfSkgfSBmdW5jdGlvbiBQKGUpIHsgdmFyIHQgPSAic3Bhbi53aXNobGlzdC1xdHkiLCBhID0gcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjd2lzaGxpc3RNZW51TGlua1NlbGVjdG9yIik7IDAgPCBzKGEpLmxlbmd0aCAmJiAodCA9IGEpLCBzKHQpLmVhY2goZnVuY3Rpb24gKHQsIGEpIHsgdmFyIG8gPSBzKGEpLmh0bWwoKSwgbyA9IC9cZCsvLmV4ZWMobyksIG8gPSBwYXJzZUludChvKSArIHBhcnNlSW50KGUpLCBvID0gcygiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtbWluaVdpc2hsaXN0UXVhdGl0eUZvcm1hdHRpbmdSZXNvdXJjZSIpLnJlcGxhY2UoInswfSIsIG8pOyBzKGEpLmh0bWwobykgfSkgfSBmdW5jdGlvbiB4KHQpIHsgdmFyIGEgPSBzKCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS11c2VOb3BOb3RpZmljYXRpb24iKSwgbyA9IHMoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW5vcE5vdGlmaWNhdGlvbkNhcnRSZXNvdXJjZSIpOyBhICYmICJUcnVlIiA9PT0gYSA/IGRpc3BsYXlCYXJOb3RpZmljYXRpb24obywgInN1Y2Nlc3MiLCAzNTAwKSA6IChzKCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IikuaHRtbChzKHQpLmh0bWwoKSksICh0ID0gcygiLnByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyIpLmRhdGEoImtlbmRvV2luZG93IikpLmNlbnRlcigpLCB0Lm9wZW4oKSkgfSBmdW5jdGlvbiBqKHQsIGEpIHsgdmFyIG8gPSBzKCIuYWRkUHJvZHVjdFRvQ2FydEVycm9ycyIpLmRhdGEoImtlbmRvV2luZG93Iik7IG8gfHwgKG8gPSBzKCIuYWRkUHJvZHVjdFRvQ2FydEVycm9ycyIpLmtlbmRvV2luZG93KHsgZHJhZ2dhYmxlOiAhMSwgcmVzaXphYmxlOiAhMSwgd2lkdGg6ICIzMDBweCIsIGhlaWdodDogIjEwMHB4IiwgbW9kYWw6ICEwLCBhY3Rpb25zOiBbIkNsb3NlIl0sIGFuaW1hdGlvbjogITEsIHZpc2libGU6ICExLCB0aXRsZTogYSB9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpLCBvLmNvbnRlbnQodCksIG8uY2VudGVyKCksIG8ub3BlbigpLCBzKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLmstb3ZlcmxheSIsIGZ1bmN0aW9uICgpIHsgby5jbG9zZSgpIH0pIH0gZnVuY3Rpb24gVCh0LCBhLCBvLCBlLCByLCBuKSB7IHZhciBkID0geyBwcm9kdWN0SWQ6IGUsIHF1YW50aXR5OiByLCBpc0FkZFRvQ2FydEJ1dHRvbjogbyB9OyByZXR1cm4gbiA/ICh1KCksIHZvaWQgKGwud2FpdEZvckFqYXhSZXF1ZXN0ID0gITEpKSA6IHQuSGFzUHJvZHVjdEF0dHJpYnV0ZXMgPyAoQyhlLCByLCBvKSwgdSgpLCB2b2lkIChsLndhaXRGb3JBamF4UmVxdWVzdCA9ICExKSkgOiB2b2lkIHMuYWpheCh7IGNhY2hlOiAhMSwgdHlwZTogIlBPU1QiLCBkYXRhOiBkLCB1cmw6IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI2FkZFByb2R1Y3RUb0NhcnRVcmwiKSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7ICJzdWNjZXNzIiA9PT0gdC5TdGF0dXMgPyBvID8gKG0oKSwgdigpLCBBKCksIHcociksIHgodC5Qcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3cpLCBzLmV2ZW50LnRyaWdnZXIoeyB0eXBlOiAibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIsIHByb2R1Y3RJZDogZSwgcXVhbnRpdHk6IHIgfSkpIDogKFAociksIHgodC5Qcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3cpLCBzLmV2ZW50LnRyaWdnZXIoeyB0eXBlOiAibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb1dpc2hsaXN0RXZlbnQiLCBwcm9kdWN0SWQ6IGUsIHF1YW50aXR5OiByIH0pKSA6ICJ3YXJuaW5nIiA9PT0gdC5TdGF0dXMgPyBqKHQuQWRkVG9DYXJ0V2FybmluZ3MsIHQuUG9wdXBUaXRsZSkgOiAiZXJyb3IiID09PSB0LlN0YXR1cyAmJiBqKHQuRXJyb3JNZXNzYWdlLCB0LlBvcHVwVGl0bGUpIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7IHUoKSwgbC53YWl0Rm9yQWpheFJlcXVlc3QgPSAhMSB9KSB9IGZ1bmN0aW9uIHkodCwgYSkgeyB2YXIgbywgZSwgciwgbjsgbC53YWl0Rm9yQWpheFJlcXVlc3QgfHwgKGwud2FpdEZvckFqYXhSZXF1ZXN0ID0gITAsIG8gPSBwLmdldEF0dHJWYWxGcm9tRG9tKHQuY3VycmVudFRhcmdldCwgImRhdGEtcHJvZHVjdElkIikgfHwgcyh0LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0iKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLCByID0gdC5jdXJyZW50VGFyZ2V0LCBuID0gMSwgIiIgPT09ICh0ID0gcC5nZXRBdHRyVmFsRnJvbURvbShyLCAiZGF0YS1wcm9kdWN0SWQiKSB8fCBzKHIpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0iKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpIHx8ICIiKSB8fCAwIDwgKHQgPSBzKHIpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0iKS5maW5kKCJbZGF0YS1xdWFudGl0eXByb2R1Y3RpZD0iICsgdCArICJdIikpLmxlbmd0aCAmJiAoMCA8ICh0ID0gdC52YWwoKSkgJiYgKG4gPSB0KSksIG4gPSB7IHByb2R1Y3RJZDogbywgcXVhbnRpdHk6IGUgPSBuIH0sIGMoKSwgcy5hamF4KHsgY2FjaGU6ICExLCB0eXBlOiAiUE9TVCIsIGRhdGE6IG4sIHVybDogcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjY2hlY2tQcm9kdWN0QXR0cmlidXRlc1VybCIpIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgVCh0LCAwLCBhLCBvLCBlLCAhMSkgfSkuZmFpbChmdW5jdGlvbiAoKSB7IFQoZGF0YSwgMCwgYSwgbywgZSwgITApIH0pKSB9IGZ1bmN0aW9uIEQobiwgZCwgaSkgeyB2YXIgYywgdSwgdCwgYSwgbzsgZCA9PSByICYmIChkID0gITEpLCBsLndhaXRGb3JBamF4UmVxdWVzdCB8fCAobC53YWl0Rm9yQWpheFJlcXVlc3QgPSAhMCwgbyA9IHMobi5jdXJyZW50VGFyZ2V0KSwgYyA9IHAuZ2V0QXR0clZhbEZyb21Eb20obi5jdXJyZW50VGFyZ2V0LCAiZGF0YS1wcm9kdWN0SWQiKSB8fCBzKG4uY3VycmVudFRhcmdldCkucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmF0dHIoImRhdGEtcHJvZHVjdGlkIiksIHQgPSBvLCBhID0gMSwgIiIgPT09ICh0ID0gcC5nZXRBdHRyVmFsRnJvbURvbSh0LCAiZGF0YS1wcm9kdWN0SWQiKSkgfHwgMCA8ICh0ID0gcygiI2FkZHRvY2FydF8iICsgdCArICJfRW50ZXJlZFF1YW50aXR5IikpLmxlbmd0aCAmJiAoMCA8ICh0ID0gdC52YWwoKSkgJiYgKGEgPSB0KSksIHUgPSBhLCAwID09PSAobyA9IG8uY2xvc2VzdCgiZm9ybSIpLnNlcmlhbGl6ZSgpKS5sZW5ndGggJiYgKGcoKSwgbyA9IHMoImJvZHkiKS5maW5kKCJmb3JtIikuc2VyaWFsaXplKCkpLCAwICE9PSAobyA9IChvID0gby5yZXBsYWNlKG5ldyBSZWdFeHAoImFqYXhDYXJ0X3Byb2R1Y3RfYXR0cmlidXRlIiwgImciKSwgInByb2R1Y3RfYXR0cmlidXRlIikpLnJlcGxhY2UobmV3IFJlZ0V4cCgicXVpY2tWaWV3X3Byb2R1Y3RfYXR0cmlidXRlIiwgImciKSwgInByb2R1Y3RfYXR0cmlidXRlIikpLmxlbmd0aCAmJiAobyArPSAiJiIpLCBvICs9ICJwcm9kdWN0SWQ9IiArIGMsIG8gKz0gIiZpc0FkZFRvQ2FydEJ1dHRvbj0iICsgaSwgZShkKSwgcy5hamF4KHsgY2FjaGU6ICExLCB0eXBlOiAiUE9TVCIsIGRhdGE6IG8sIHVybDogcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRVcmwiKSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IHZhciBhLCBvLCBlLCByOyAid2FybmluZyIgPT09IHQuU3RhdHVzIHx8ICJlcnJvciIgPT09IHQuU3RhdHVzID8gKGUgPSBzKG4uY3VycmVudFRhcmdldCkuY2xvc2VzdCgiLm92ZXJ2aWV3IiksIGEgPSB0LkFkZFRvQ2FydFdhcm5pbmdzLCBvID0gdC5Qb3B1cFRpdGxlLCBlID0gZSwgZCA/ICgwIDwgZS5sZW5ndGggPyBlLmZpbmQoIi5tZXNzYWdlLWVycm9yIikgOiBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAubWVzc2FnZS1lcnJvciIpKS5odG1sKGEpIDogKChyID0gcygiLmFkZFByb2R1Y3RWYXJpYW50VG9DYXJ0RXJyb3JzIikuZGF0YSgia2VuZG9XaW5kb3ciKSkgfHwgKHIgPSBzKCIuYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRFcnJvcnMiKS5maXJzdCgpLmtlbmRvV2luZG93KHsgZHJhZ2dhYmxlOiAhMSwgcmVzaXphYmxlOiAhMSwgd2lkdGg6ICIzMDBweCIsIG1vZGFsOiAhMCwgYWN0aW9uczogWyJDbG9zZSJdLCBhbmltYXRpb246ICExLCB2aXNpYmxlOiAhMSwgdGl0bGU6IG8gfSkuZGF0YSgia2VuZG9XaW5kb3ciKSkud3JhcHBlci5hZGRDbGFzcygiYWpheENhcnQiKSwgci5jb250ZW50KGEpLCByLmNlbnRlcigpLCByLm9wZW4oKSwgcyhkb2N1bWVudCkub24oImNsaWNrIiwgIi5rLW92ZXJsYXkiLCBmdW5jdGlvbiAoKSB7IHIuY2xvc2UoKSB9KSkpIDogKGUgPSAibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIsIG8gPSBpID8gKG0oKSwgQSgpLCB3KHUpLCB2KCksIHMoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW5vcE5vdGlmaWNhdGlvbkNhcnRSZXNvdXJjZSIpKSA6IChQKHUpLCB4KHQuUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KSwgZSA9ICJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvV2lzaGxpc3RFdmVudCIsIHMoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW5vcE5vdGlmaWNhdGlvbldpc2hsaXN0UmVzb3VyY2UiKSksIGQgJiYgcygiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5kYXRhKCJrZW5kb1dpbmRvdyIpLmNsb3NlKCksIChhID0gcygiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtdXNlTm9wTm90aWZpY2F0aW9uIikpICYmICJUcnVlIiA9PT0gYSA/IGRpc3BsYXlCYXJOb3RpZmljYXRpb24obywgInN1Y2Nlc3MiLCAzNTAwKSA6IHgodC5Qcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3cpLCBzLmV2ZW50LnRyaWdnZXIoeyB0eXBlOiBlLCBwcm9kdWN0SWQ6IGMsIHF1YW50aXR5OiB1IH0pKSB9KS5hbHdheXMoZnVuY3Rpb24gKCkgeyBoKGQpLCBsLndhaXRGb3JBamF4UmVxdWVzdCA9ICExIH0pKSB9IGwuc2hvdWxkUmVmcmVzaEZseW91dENhcnQgPSAhMCwgbC53YWl0Rm9yQWpheFJlcXVlc3QgPSAhMSwgbC5yZXBsYWNlQWRkVG9DYXJ0QnV0dG9uc0V4dGVybmFsID0gdCwgbC5jbG9zZVByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyA9IGZ1bmN0aW9uICgpIHsgdmFyIHQgPSBzKCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKTsgdCAmJiB0LmNsb3NlKCkgfSwgcyhkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgeyB0KCksIGZ1bmN0aW9uICgpIHsgZygpOyB2YXIgdCA9IHMoImJvZHkiKTsgMCA9PT0gdC5maW5kKCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikubGVuZ3RoICYmICh0LnByZXBlbmQoJzxkaXYgY2xhc3M9Im5vcEFqYXhDYXJ0UGFuZWxBamF4QnVzeSI+PC9kaXY+JyksIHMoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5oaWRlKCkpIH0oKSwgZnVuY3Rpb24gKCkgeyBnKCk7IHZhciB0LCBhLCBvID0gcygiYm9keSIpOyAwIDwgby5sZW5ndGggJiYgKCh0ID0gZnVuY3Rpb24gKHQpIHsgMCA9PT0gcyh0KS5sZW5ndGggJiYgby5wcmVwZW5kKCc8ZGl2IGNsYXNzPSInICsgdCArICciPjwvZGl2PicpIH0pKCJhZGRQcm9kdWN0VG9DYXJ0RXJyb3JzIiksIHQoImFkZFByb2R1Y3RWYXJpYW50VG9DYXJ0RXJyb3JzIiksIHQoIm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKSwgdCgicHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IiksIChhID0gcygiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5rZW5kb1dpbmRvdyh7IGRyYWdnYWJsZTogITEsIHJlc2l6YWJsZTogITEsIG1vZGFsOiAhMCwgYWN0aW9uczogWyJDbG9zZSJdLCBhbmltYXRpb246ICExLCB2aXNpYmxlOiAhMSB9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpLCBzKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLmstb3ZlcmxheSIsIGZ1bmN0aW9uICgpIHsgYS5jbG9zZSgpIH0pKTsgdmFyIGUgPSBzKCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93Iikua2VuZG9XaW5kb3coeyBkcmFnZ2FibGU6ICExLCByZXNpemFibGU6ICExLCBtb2RhbDogITAsIGFjdGlvbnM6IFsiQ2xvc2UiXSwgYW5pbWF0aW9uOiAhMSwgdmlzaWJsZTogITEgfSkuZGF0YSgia2VuZG9XaW5kb3ciKTsgZS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpLCBzKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLmstb3ZlcmxheSIsIGZ1bmN0aW9uICgpIHsgZS5jbG9zZSgpIH0pIH0oKSwgcygiYm9keSIpLm9uKCJjbGljayIsICIubm9wQWpheENhcnRQcm9kdWN0TGlzdEFkZFRvQ2FydEJ1dHRvbiIsIGZ1bmN0aW9uICh0KSB7IHQucHJldmVudERlZmF1bHQoKSwgeSh0LCAhMCkgfSksIHMoImJvZHkiKS5vbigiY2xpY2siLCAiLm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb0NhcnRCdXR0b24iLCBmdW5jdGlvbiAodCkgeyBEKHQsIHModGhpcykuaGFzQ2xhc3MoIm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdBZGRUb0NhcnRCdXR0b24iKSwgITApIH0pLCBzKCJib2R5Iikub24oImNsaWNrIiwgIi5taW5pUHJvZHVjdERldGFpbHNWaWV3QWRkVG9XaXNobGlzdEJ1dHRvbiIsIGZ1bmN0aW9uICh0KSB7IEQodCwgITAsICExKSB9KSwgcygiYm9keSIpLm9uKCJjbGljayIsICIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IC5jb250aW51ZVNob3BwaW5nTGluayIsIGZ1bmN0aW9uICh0KSB7IHQucHJldmVudERlZmF1bHQoKSwgbC5jbG9zZVByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdygpIH0pLCBzKGRvY3VtZW50KS5vbigibm9wQWpheENhcnRCdXR0b25zQWRkZWRFdmVudCIsIGZ1bmN0aW9uICgpIHsgdmFyIG8sIGUsIGEsIHQ7IG8gPSAiVHJ1ZSIgPT09ICh0ID0gcyhkKSkuYXR0cigiZGF0YS1lbmFibGVPblByb2R1Y3RQYWdlIiksIGUgPSAiVHJ1ZSIgPT09IHQuYXR0cigiZGF0YS1lbmFibGVPbkNhdGFsb2dQYWdlcyIpLCB0ID0gdC5hdHRyKCJkYXRhLWFkZFRvV2lzaGxpc3RCdXR0b25TZWxlY3RvciIpLCBzKHQpLmVhY2goZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHModGhpcyksIGEgPSBuKCk7IDAgPCB0LnBhcmVudHMoYSkubGVuZ3RoID8gZSAmJiAodC5wcm9wKCJvbmNsaWNrIiwgbnVsbCkub2ZmKCJjbGljayIpLCB0Lm9uKCJjbGljayIsIGZ1bmN0aW9uICh0KSB7IHQucHJldmVudERlZmF1bHQoKSwgeSh0LCAhMSkgfSkpIDogbyAmJiAodC5wcm9wKCJvbmNsaWNrIiwgbnVsbCkub2ZmKCJjbGljayIpLCB0Lm9uKCJjbGljayIsIGZ1bmN0aW9uICh0KSB7IHQucHJldmVudERlZmF1bHQoKSwgRCh0LCAhMSwgITEpIH0pKSB9KSwgMCAhPT0gKHQgPSBzKCIuYWpheENhcnRBbGxvd2VkUXVhbnRpdGVzSG92ZXIiKSkubGVuZ3RoICYmIChhID0gdC5hdHRyKCJkYXRhLXByb2R1Y3RJdGVtU2VsZWN0b3IiKSwgcygiLnByb2R1Y3RRdWFudGl0eURyb3Bkb3duIikub2ZmKCJtb3VzZWRvd24iKS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHModGhpcykuY2xvc2VzdChhKTsgdC5hZGRDbGFzcygiYWpheC1jYXJ0LXByb2R1Y3QtaXRlbS1ob3ZlciIpOyB0ID0gdC5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpOyBzKCIucHJvZHVjdFF1YW50aXR5Q2hhbmdlZCIgKyB0KS52YWwoInllcyIpIH0pLCBzKGEpLm9mZigibW91c2VlbnRlciIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHModGhpcykuYXR0cigiZGF0YS1wcm9kdWN0aWQiKSwgdCA9IHMoIi5wcm9kdWN0UXVhbnRpdHlDaGFuZ2VkIiArIHQpOyAieWVzIiA9PT0gdC52YWwoKSAmJiB0LnZhbCgibm8iKSB9KS5vZmYoIm1vdXNlbGVhdmUiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSBzKHRoaXMpLmF0dHIoImRhdGEtcHJvZHVjdGlkIik7ICJubyIgPT09IHMoIi5wcm9kdWN0UXVhbnRpdHlDaGFuZ2VkIiArIHQpLnZhbCgpICYmIHModGhpcykucmVtb3ZlQ2xhc3MoImFqYXgtY2FydC1wcm9kdWN0LWl0ZW0taG92ZXIiKSB9KSkgfSksIHMoZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCIsIHQpLCBzKGRvY3VtZW50KS5vbigibm9wUXVpY2tWaWV3RGF0YVNob3duRXZlbnQiLCB0KSB9KSB9KHdpbmRvdy5ub3BBamF4Q2FydCA9IHdpbmRvdy5ub3BBamF4Q2FydCB8fCB7fSwgalF1ZXJ5LCBzZXZlblNwaWtlc0NvcmUpOw0KIWZ1bmN0aW9uICh0LCBnLCBzKSB7IHZhciBQLCBhID0gInJpYmJvbi13cmFwcGVyIiwgbCA9ICIjcHJvZHVjdC1yaWJib24taW5mbyI7IGZ1bmN0aW9uIGYodCwgbywgcikgeyBpZiAoby5wcm9kdWN0RWxlbWVudCkgeyBpZiAocikgeyBpZiAoIShkID0gcy5nZXRBdHRyVmFsRnJvbURvbShsLCAiZGF0YS1wcm9kdWN0UGFnZUJ1Z1BpY3R1cmVDb250YWluZXJTZWxlY3RvciIpKSkgcmV0dXJuIH0gZWxzZSBpZiAoIShkID0gcy5nZXRBdHRyVmFsRnJvbURvbShsLCAiZGF0YS1wcm9kdWN0Qm94UGljdHVyZUNvbnRhaW5lclNlbGVjdG9yIikpKSByZXR1cm47IHZhciBlLCBkID0gby5wcm9kdWN0RWxlbWVudC5maW5kKGQpOyBkLnBhcmVudCgpLmhhc0NsYXNzKGEpIHx8IGQgJiYgby5wcm9kdWN0SWQgJiYgMCA8IG8ucHJvZHVjdElkICYmIChvID0gby5wcm9kdWN0SWQsIHIgPyAoZSA9IGcodCkuZmlsdGVyKCJkaXZbZGF0YS1wcm9kdWN0SWQ9JyIgKyBvICsgIiddIiksIGQgPSBkLmZpcnN0KCkpIDogZSA9IGcodCkuZmlsdGVyKCJhW2RhdGEtcHJvZHVjdElkPSciICsgbyArICInXSIpLCBlICYmIDAgPCBlLmxlbmd0aCAmJiAoZC53cmFwKCc8ZGl2IGNsYXNzPSInICsgYSArICciPjwvZGl2PicpLCBkLmFmdGVyKGUpKSkgfSB9IHQuc2hvd1JpYmJvbnMgPSBmdW5jdGlvbiAoKSB7IHZhciB0LCBvLCByLCBlLCBkLCBhLCBjID0gMCwgbiA9IFtdLCB1ID0gKG8gPSAiLnByb2R1Y3QtcmliYm9uIiwgciA9IHMuZ2V0QXR0clZhbEZyb21Eb20obCwgImRhdGEtcHJvZHVjdFBhZ2VQaWN0dXJlc1BhcmVudENvbnRhaW5lclNlbGVjdG9yIiksIGUgPSBbXSwgYSA9IHt9LCAoZCA9IHMuZ2V0QXR0clZhbEZyb21Eb20obCwgImRhdGEtcHJvZHVjdElkIikpICYmIDAgPCBkICYmIHIgJiYgKCh0ID0gZyhyKS5maW5kKG8pKSAmJiAwICE9PSB0Lmxlbmd0aCB8fCAoYS5wcm9kdWN0SWQgPSBkLCBhLnByb2R1Y3RFbGVtZW50ID0gZyhyKSkpLCBnKFApLmVhY2goZnVuY3Rpb24gKCkgeyB2YXIgdCA9IGcodGhpcykuZmluZChvKTsgdCAmJiAwICE9PSB0Lmxlbmd0aCB8fCAodCA9IGcodGhpcykuYXR0cigiZGF0YS1wcm9kdWN0aWQiKSkgJiYgMCA8IHQgJiYgKHQgPSB7IHByb2R1Y3RJZDogdCwgcHJvZHVjdEVsZW1lbnQ6IGcodGhpcykgfSwgZS5wdXNoKHQpKSB9KSwgeyBwcm9kdWN0UGFnZTogYSwgY2F0ZWdvcnlQYWdlUHJvZHVjdHM6IGUgfSk7IGlmICh1LnByb2R1Y3RQYWdlICYmIHUucHJvZHVjdFBhZ2UucHJvZHVjdElkICYmIChjID0gdS5wcm9kdWN0UGFnZS5wcm9kdWN0SWQpLCB1LmNhdGVnb3J5UGFnZVByb2R1Y3RzICYmIDAgPCB1LmNhdGVnb3J5UGFnZVByb2R1Y3RzLmxlbmd0aCkgZm9yICh2YXIgaSA9IDA7IGkgPCB1LmNhdGVnb3J5UGFnZVByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7IHZhciBwID0gdS5jYXRlZ29yeVBhZ2VQcm9kdWN0c1tpXTsgcC5oYXNPd25Qcm9wZXJ0eSgicHJvZHVjdElkIikgJiYgbi5wdXNoKHAucHJvZHVjdElkKSB9ICFjICYmIDAgPT09IG4ubGVuZ3RoIHx8IChnLmlzTnVtZXJpYyhjKSB8fCAoYyA9IDApLCBhID0geyBwcm9kdWN0UGFnZUlkOiBjLCBjYXRlZ29yeVBhZ2VJZHM6IG4gfSwgYyA9IHMuZ2V0QXR0clZhbEZyb21Eb20oIiNwcm9kdWN0LXJpYmJvbi1pbmZvIiwgImRhdGEtcmV0cmlldmVwcm9kdWN0cmliYm9uc3VybCIpLCBnLmFqYXgoeyBjYWNoZTogITEsIHR5cGU6ICJQT1NUIiwgZGF0YTogZy50b0pTT04oYSksIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsIHVybDogYyB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IHQgJiYgKGZ1bmN0aW9uICh0LCBvKSB7IGlmIChvICYmIG8ucHJvZHVjdFBhZ2UgJiYgby5wcm9kdWN0UGFnZS5wcm9kdWN0SWQgJiYgZih0LCBvLnByb2R1Y3RQYWdlLCAhMCksIG8gJiYgby5jYXRlZ29yeVBhZ2VQcm9kdWN0cyAmJiAwIDwgby5jYXRlZ29yeVBhZ2VQcm9kdWN0cy5sZW5ndGgpIGZvciAodmFyIHIgPSAwOyByIDwgby5jYXRlZ29yeVBhZ2VQcm9kdWN0cy5sZW5ndGg7IHIrKylmKHQsIG8uY2F0ZWdvcnlQYWdlUHJvZHVjdHNbcl0pIH0odCwgdSksIGcuZXZlbnQudHJpZ2dlcih7IHR5cGU6ICJub3BQcm9kdWN0UmliYm9uc0xvYWRpbmdDb21wbGV0ZUV2ZW50IiB9KSkgfSkpIH0sIGcoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsgKFAgPSBzLmdldEF0dHJWYWxGcm9tRG9tKGwsICJkYXRhLXByb2R1Y3RCb3hTZWxlY3RvciIpKSAmJiB0LnNob3dSaWJib25zKCkgfSksIGcoZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCIsIG5vcFByb2R1Y3RSaWJib25zLnNob3dSaWJib25zKSB9KHdpbmRvdy5ub3BQcm9kdWN0UmliYm9ucyA9IHdpbmRvdy5ub3BQcm9kdWN0UmliYm9ucyB8fCB7fSwgalF1ZXJ5LCBzZXZlblNwaWtlc0NvcmUpOw0KLy8gRmluZSBVcGxvYWRlciA1LjE2LjIgLSBNSVQgbGljZW5zZWQuIGh0dHA6Ly9maW5ldXBsb2FkZXIuY29tDQohZnVuY3Rpb24oZ2xvYmFsKXshZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7dmFyIHQ9cyhlfHx7fSksaT1uKHQpO3JldHVybiBvKGkpLGEodCxpKSxkfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9cigidXBsb2FkZXJUeXBlIiksbj1yKCJlbmRwb2ludFR5cGUiKTtyZXR1cm4gdD8odD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkudG9Mb3dlckNhc2UoKSxuP25ldyBxcVtuXVsiRmluZVVwbG9hZGVyIit0XShlKTpuZXcgcXFbIkZpbmVVcGxvYWRlciIrdF0oZSkpOm4/bmV3IHFxW25dLkZpbmVVcGxvYWRlcihlKTpuZXcgcXEuRmluZVVwbG9hZGVyKGUpfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj1kLmRhdGEoImZpbmV1cGxvYWRlciIpO2lmKCF0KXJldHVybiB2b2lkIDA9PT1uP251bGw6bltlXTt2b2lkIDA9PT1uJiYobj17fSksbltlXT10LGQuZGF0YSgiZmluZXVwbG9hZGVyIixuKX1mdW5jdGlvbiBvKGUpe3JldHVybiBpKCJ1cGxvYWRlciIsZSl9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBpKGUsdCl9ZnVuY3Rpb24gYSh0LG4pe3ZhciBpPXQuY2FsbGJhY2tzPXt9O2UuZWFjaChuLl9vcHRpb25zLmNhbGxiYWNrcyxmdW5jdGlvbih0LG4pe3ZhciBvLHI7bz0vXm9uKFx3KykvLmV4ZWModClbMV0sbz1vLnN1YnN0cmluZygwLDEpLnRvTG93ZXJDYXNlKCkrby5zdWJzdHJpbmcoMSkscj1kLGlbdF09ZnVuY3Rpb24oKXt2YXIgdCxpLGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxzPVtdO2UuZWFjaChhLGZ1bmN0aW9uKGUsdCl7cy5wdXNoKGModCkpfSksdD1uLmFwcGx5KHRoaXMsYSk7dHJ5e2k9ci50cmlnZ2VySGFuZGxlcihvLHMpfWNhdGNoKGUpe3FxLmxvZygiQ2F1Z2h0IGVycm9yIGluIEZpbmUgVXBsb2FkZXIgalF1ZXJ5IGV2ZW50IGhhbmRsZXI6ICIrZS5tZXNzYWdlLCJlcnJvciIpfXJldHVybiBudWxsIT10P3Q6aX19KSxuLl9vcHRpb25zLmNhbGxiYWNrcz1pfWZ1bmN0aW9uIHModCxuKXt2YXIgaSxvO2lmKGk9dm9pZCAwPT09bj8iYmFzaWMiIT09dC51cGxvYWRlclR5cGU/e2VsZW1lbnQ6ZFswXX06e306bixlLmVhY2godCxmdW5jdGlvbih0LG4pe2UuaW5BcnJheSh0LHApPj0wP3IodCxuKTpuIGluc3RhbmNlb2YgZT9pW3RdPW5bMF06ZS5pc1BsYWluT2JqZWN0KG4pPyhpW3RdPXt9LHMobixpW3RdKSk6ZS5pc0FycmF5KG4pPyhvPVtdLGUuZWFjaChuLGZ1bmN0aW9uKHQsbil7dmFyIGk9e307biBpbnN0YW5jZW9mIGU/ZS5tZXJnZShvLG4pOmUuaXNQbGFpbk9iamVjdChuKT8ocyhuLGkpLG8ucHVzaChpKSk6by5wdXNoKG4pfSksaVt0XT1vKTppW3RdPW59KSx2b2lkIDA9PT1uKXJldHVybiBpfWZ1bmN0aW9uIHUodCl7cmV0dXJuInN0cmluZyI9PT1lLnR5cGUodCkmJiF0Lm1hdGNoKC9eXy8pJiZ2b2lkIDAhPT1vKClbdF19ZnVuY3Rpb24gbChlKXt2YXIgdCxuPVtdLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBzKGksbiksdD1vKClbZV0uYXBwbHkobygpLG4pLGModCl9ZnVuY3Rpb24gYyh0KXt2YXIgbj10O3JldHVybiBudWxsPT10fHwib2JqZWN0IiE9dHlwZW9mIHR8fDEhPT10Lm5vZGVUeXBlJiY5IT09dC5ub2RlVHlwZXx8IXQuY2xvbmVOb2RlfHwobj1lKHQpKSxufXZhciBkLHA9WyJ1cGxvYWRlclR5cGUiLCJlbmRwb2ludFR5cGUiXTtlLmZuLmZpbmVVcGxvYWRlcj1mdW5jdGlvbihuKXt2YXIgaT10aGlzLHI9YXJndW1lbnRzLGE9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihzLGMpe2lmKGQ9ZShjKSxvKCkmJnUobikpe2lmKGEucHVzaChsLmFwcGx5KGkscikpLDE9PT1pLmxlbmd0aClyZXR1cm4hMX1lbHNlIm9iamVjdCIhPXR5cGVvZiBuJiZuP2UuZXJyb3IoIk1ldGhvZCAiK24rIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuZmluZVVwbG9hZGVyIik6dC5hcHBseShpLHIpfSksMT09PWEubGVuZ3RoP2FbMF06YS5sZW5ndGg+MT9hOnRoaXN9fShqUXVlcnkpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe2V8fChlPXt9KSxlLmRyb3Bab25lRWxlbWVudHM9W3VdO3ZhciB0PXIoZSk7cmV0dXJuIG8odCksaShuZXcgcXEuRHJhZ0FuZERyb3AodCkpLHV9ZnVuY3Rpb24gbihlLHQpe3ZhciBuPXUuZGF0YSgiZmluZVVwbG9hZGVyRG5kIik7aWYoIXQpcmV0dXJuIHZvaWQgMD09PW4/bnVsbDpuW2VdO3ZvaWQgMD09PW4mJihuPXt9KSxuW2VdPXQsdS5kYXRhKCJmaW5lVXBsb2FkZXJEbmQiLG4pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIG4oImRuZEluc3RhbmNlIixlKX1mdW5jdGlvbiBvKHQpe3ZhciBuPXQuY2FsbGJhY2tzPXt9O2UuZWFjaChuZXcgcXEuRHJhZ0FuZERyb3AuY2FsbGJhY2tzLGZ1bmN0aW9uKGUsdCl7dmFyIGksbz1lO2k9dSxuW2VdPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gaS50cmlnZ2VySGFuZGxlcihvLGUpfX0pfWZ1bmN0aW9uIHIodCxuKXt2YXIgaSxvO2lmKGk9dm9pZCAwPT09bj97fTpuLGUuZWFjaCh0LGZ1bmN0aW9uKHQsbil7biBpbnN0YW5jZW9mIGU/aVt0XT1uWzBdOmUuaXNQbGFpbk9iamVjdChuKT8oaVt0XT17fSxyKG4saVt0XSkpOmUuaXNBcnJheShuKT8obz1bXSxlLmVhY2gobixmdW5jdGlvbih0LG4pe24gaW5zdGFuY2VvZiBlP2UubWVyZ2UobyxuKTpvLnB1c2gobil9KSxpW3RdPW8pOmlbdF09bn0pLHZvaWQgMD09PW4pcmV0dXJuIGl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4ic3RyaW5nIj09PWUudHlwZSh0KSYmImRpc3Bvc2UiPT09dCYmdm9pZCAwIT09aSgpW3RdfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9W107cmV0dXJuIHIoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHQpLGkoKVtlXS5hcHBseShpKCksdCl9dmFyIHU7ZS5mbi5maW5lVXBsb2FkZXJEbmQ9ZnVuY3Rpb24obil7dmFyIG89dGhpcyxyPWFyZ3VtZW50cyxsPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyxkKXtpZih1PWUoZCksaSgpJiZhKG4pKXtpZihsLnB1c2gocy5hcHBseShvLHIpKSwxPT09by5sZW5ndGgpcmV0dXJuITF9ZWxzZSJvYmplY3QiIT10eXBlb2YgbiYmbj9lLmVycm9yKCJNZXRob2QgIituKyIgZG9lcyBub3QgZXhpc3QgaW4gRmluZSBVcGxvYWRlcidzIERuRCBtb2R1bGUuIik6dC5hcHBseShvLHIpfSksMT09PWwubGVuZ3RoP2xbMF06bC5sZW5ndGg+MT9sOnRoaXN9fShqUXVlcnkpO3ZhciBxcT1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7cmV0dXJue2hpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzfSxhdHRhY2g6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9uIit0LG4pLGZ1bmN0aW9uKCl7cXEoZSkuZGV0YWNoKHQsbil9fSxkZXRhY2g6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpOmUuYXR0YWNoRXZlbnQmJmUuZGV0YWNoRXZlbnQoIm9uIit0LG4pLHRoaXN9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKGU9PT10fHwoZS5jb250YWlucz9lLmNvbnRhaW5zKHQpOiEhKDgmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSkpKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdCksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSx0aGlzfSxjc3M6ZnVuY3Rpb24odCl7aWYobnVsbD09ZS5zdHlsZSl0aHJvdyBuZXcgcXEuRXJyb3IoIkNhbid0IGFwcGx5IHN0eWxlIHRvIG5vZGUgYXMgaXQgaXMgbm90IG9uIHRoZSBIVE1MRWxlbWVudCBwcm90b3R5cGUgY2hhaW4hIik7cmV0dXJuIG51bGwhPXQub3BhY2l0eSYmInN0cmluZyIhPXR5cGVvZiBlLnN0eWxlLm9wYWNpdHkmJnZvaWQgMCE9PWUuZmlsdGVycyYmKHQuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrTWF0aC5yb3VuZCgxMDAqdC5vcGFjaXR5KSsiKSIpLHFxLmV4dGVuZChlLnN0eWxlLHQpLHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKHQsbil7dmFyIGk9bmV3IFJlZ0V4cCgiKF58ICkiK3QrIiggfCQpIik7cmV0dXJuIGkudGVzdChlLmNsYXNzTmFtZSl8fCEoIW58fCFpLnRlc3QoZS5wYXJlbnROb2RlLmNsYXNzTmFtZSkpfSxhZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gcXEoZSkuaGFzQ2xhc3ModCl8fChlLmNsYXNzTmFtZSs9IiAiK3QpLHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBSZWdFeHAoIihefCApIit0KyIoIHwkKSIpO3JldHVybiBlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5yZXBsYWNlKG4sIiAiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIiksdGhpc30sZ2V0QnlDbGFzczpmdW5jdGlvbih0LG4pe3ZhciBpLG89W107cmV0dXJuIG4mJmUucXVlcnlTZWxlY3Rvcj9lLnF1ZXJ5U2VsZWN0b3IoIi4iK3QpOmUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK3QpOihpPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxxcS5lYWNoKGksZnVuY3Rpb24oZSxuKXtxcShuKS5oYXNDbGFzcyh0KSYmby5wdXNoKG4pfSksbj9vWzBdOm8pfSxnZXRGaXJzdEJ5Q2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHFxKGUpLmdldEJ5Q2xhc3ModCwhMCl9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLG49ZS5maXJzdENoaWxkO247KTE9PT1uLm5vZGVUeXBlJiZ0LnB1c2gobiksbj1uLm5leHRTaWJsaW5nO3JldHVybiB0fSxzZXRUZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBlLmlubmVyVGV4dD10LGUudGV4dENvbnRlbnQ9dCx0aGlzfSxjbGVhclRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gcXEoZSkuc2V0VGV4dCgiIil9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gZS5oYXNBdHRyaWJ1dGU/ISFlLmhhc0F0dHJpYnV0ZSh0KSYmbnVsbD09L15mYWxzZSQvaS5leGVjKGUuZ2V0QXR0cmlidXRlKHQpKToobj1lW3RdLHZvaWQgMCE9PW4mJm51bGw9PS9eZmFsc2UkL2kuZXhlYyhuKSl9fX07IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3FxLmNhbnZhc1RvQmxvYj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHFxLmRhdGFVcmlUb0Jsb2IoZS50b0RhdGFVUkwodCxuKSl9LHFxLmRhdGFVcmlUb0Jsb2I9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLG8scj1mdW5jdGlvbihlLHQpe3ZhciBuPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyLGk9biYmbmV3IG47cmV0dXJuIGk/KGkuYXBwZW5kKGUpLGkuZ2V0QmxvYih0KSk6bmV3IEJsb2IoW2VdLHt0eXBlOnR9KX07cmV0dXJuIG49ZS5zcGxpdCgiLCIpWzBdLmluZGV4T2YoImJhc2U2NCIpPj0wP2F0b2IoZS5zcGxpdCgiLCIpWzFdKTpkZWNvZGVVUkkoZS5zcGxpdCgiLCIpWzFdKSxvPWUuc3BsaXQoIiwiKVswXS5zcGxpdCgiOiIpWzFdLnNwbGl0KCI7IilbMF0sdD1uZXcgQXJyYXlCdWZmZXIobi5sZW5ndGgpLGk9bmV3IFVpbnQ4QXJyYXkodCkscXEuZWFjaChuLGZ1bmN0aW9uKGUsdCl7aVtlXT10LmNoYXJDb2RlQXQoMCl9KSxyKHQsbyl9LHFxLmxvZz1mdW5jdGlvbihlLHQpe3dpbmRvdy5jb25zb2xlJiYodCYmImluZm8iIT09dD93aW5kb3cuY29uc29sZVt0XT93aW5kb3cuY29uc29sZVt0XShlKTp3aW5kb3cuY29uc29sZS5sb2coIjwiK3QrIj4gIitlKTp3aW5kb3cuY29uc29sZS5sb2coZSkpfSxxcS5pc09iamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIWUubm9kZVR5cGUmJiJbb2JqZWN0IE9iamVjdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxxcS5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfSxxcS5pc0FycmF5PWZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl8fGUmJndpbmRvdy5BcnJheUJ1ZmZlciYmZS5idWZmZXImJmUuYnVmZmVyLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXJ9LHFxLmlzSXRlbUxpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgRGF0YVRyYW5zZmVySXRlbUxpc3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0scXEuaXNOb2RlTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBOb2RlTGlzdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfHxlLml0ZW0mJmUubmFtZWRJdGVtfSxxcS5pc1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0scXEudHJpbVN0cj1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxxcS5mb3JtYXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49ZSxpPW4uaW5kZXhPZigie30iKTtyZXR1cm4gcXEuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7aWYobj1uLnN1YnN0cmluZygwLGkpK3Qrbi5zdWJzdHJpbmcoaSsyKSxpPW4uaW5kZXhPZigie30iLGkrdC5sZW5ndGgpLGk8MClyZXR1cm4hMX0pLG59LHFxLmlzRmlsZT1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LkZpbGUmJiJbb2JqZWN0IEZpbGVdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0scXEuaXNGaWxlTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LkZpbGVMaXN0JiYiW29iamVjdCBGaWxlTGlzdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxxcS5pc0ZpbGVPcklucHV0PWZ1bmN0aW9uKGUpe3JldHVybiBxcS5pc0ZpbGUoZSl8fHFxLmlzSW5wdXQoZSl9LHFxLmlzSW5wdXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQ/ImZpbGUiIT09bjoiZmlsZSI9PT1ufTtyZXR1cm4hISh3aW5kb3cuSFRNTElucHV0RWxlbWVudCYmIltvYmplY3QgSFRNTElucHV0RWxlbWVudF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpJiZlLnR5cGUmJm4oZS50eXBlKSl8fCEhKGUudGFnTmFtZSYmImlucHV0Ij09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZlLnR5cGUmJm4oZS50eXBlKSl9LHFxLmlzQmxvYj1mdW5jdGlvbihlKXtpZih3aW5kb3cuQmxvYiYmIltvYmplY3QgQmxvYl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiEwfSxxcS5pc1hoclVwbG9hZFN1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cmV0dXJuIGUudHlwZT0iZmlsZSIsdm9pZCAwIT09ZS5tdWx0aXBsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlJiYidW5kZWZpbmVkIiE9dHlwZW9mIEZvcm1EYXRhJiZ2b2lkIDAhPT1xcS5jcmVhdGVYaHJJbnN0YW5jZSgpLnVwbG9hZH0scXEuY3JlYXRlWGhySW5zdGFuY2U9ZnVuY3Rpb24oKXtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNU1hNTDIuWE1MSFRUUC4zLjAiKX1jYXRjaChlKXtyZXR1cm4gcXEubG9nKCJOZWl0aGVyIFhIUiBvciBBY3RpdmVYIGFyZSBzdXBwb3J0ZWQhIiwiZXJyb3IiKSxudWxsfX0scXEuaXNGb2xkZXJEcm9wU3VwcG9ydGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlLml0ZW1zJiZlLml0ZW1zLmxlbmd0aD4wJiZlLml0ZW1zWzBdLndlYmtpdEdldEFzRW50cnl9LHFxLmlzRmlsZUNodW5raW5nU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXFxLmFuZHJvaWRTdG9jaygpJiZxcS5pc1hoclVwbG9hZFN1cHBvcnRlZCgpJiYodm9pZCAwIT09RmlsZS5wcm90b3R5cGUuc2xpY2V8fHZvaWQgMCE9PUZpbGUucHJvdG90eXBlLndlYmtpdFNsaWNlfHx2b2lkIDAhPT1GaWxlLnByb3RvdHlwZS5tb3pTbGljZSl9LHFxLnNsaWNlQmxvYj1mdW5jdGlvbihlLHQsbil7cmV0dXJuKGUuc2xpY2V8fGUubW96U2xpY2V8fGUud2Via2l0U2xpY2UpLmNhbGwoZSx0LG4pfSxxcS5hcnJheUJ1ZmZlclRvSGV4PWZ1bmN0aW9uKGUpe3ZhciB0PSIiLG49bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHFxLmVhY2gobixmdW5jdGlvbihlLG4pe3ZhciBpPW4udG9TdHJpbmcoMTYpO2kubGVuZ3RoPDImJihpPSIwIitpKSx0Kz1pfSksdH0scXEucmVhZEJsb2JUb0hleD1mdW5jdGlvbihlLHQsbil7dmFyIGk9cXEuc2xpY2VCbG9iKGUsdCx0K24pLG89bmV3IEZpbGVSZWFkZXIscj1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gby5vbmxvYWQ9ZnVuY3Rpb24oKXtyLnN1Y2Nlc3MocXEuYXJyYXlCdWZmZXJUb0hleChvLnJlc3VsdCkpfSxvLm9uZXJyb3I9ci5mYWlsdXJlLG8ucmVhZEFzQXJyYXlCdWZmZXIoaSkscn0scXEuZXh0ZW5kPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcXEuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7biYmcXEuaXNPYmplY3QoaSk/KHZvaWQgMD09PWVbdF0mJihlW3RdPXt9KSxxcS5leHRlbmQoZVt0XSxpLCEwKSk6ZVt0XT1pfSksZX0scXEub3ZlcnJpZGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxpPXQobik7cmV0dXJuIHFxLmVhY2goaSxmdW5jdGlvbih0LGkpe3ZvaWQgMCE9PWVbdF0mJihuW3RdPWVbdF0pLGVbdF09aX0pLGV9LHFxLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaW5kZXhPZilyZXR1cm4gZS5pbmRleE9mKHQsbik7bj1ufHwwO3ZhciBpPWUubGVuZ3RoO2ZvcihuPDAmJihuKz1pKTtuPGk7bis9MSlpZihlLmhhc093blByb3BlcnR5KG4pJiZlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0scXEuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oZSl7dmFyIHQ9MTYqTWF0aC5yYW5kb20oKXwwO3JldHVybigieCI9PWU/dDozJnR8OCkudG9TdHJpbmcoMTYpfSl9LHFxLmllPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpIT09LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVHJpZGVudCIpIT09LTF9LHFxLmllNz1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgNyIpIT09LTF9LHFxLmllOD1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpIT09LTF9LHFxLmllMTA9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDEwIikhPT0tMX0scXEuaWUxMT1mdW5jdGlvbigpe3JldHVybiBxcS5pZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoInJ2OjExIikhPT0tMX0scXEuZWRnZT1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkVkZ2UiKT49MH0scXEuc2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJm5hdmlnYXRvci52ZW5kb3IuaW5kZXhPZigiQXBwbGUiKSE9PS0xfSxxcS5jaHJvbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJHb29nbGUiKSE9PS0xfSxxcS5vcGVyYT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1uYXZpZ2F0b3IudmVuZG9yJiZuYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoIk9wZXJhIikhPT0tMX0scXEuZmlyZWZveD1mdW5jdGlvbigpe3JldHVybiFxcS5lZGdlKCkmJiFxcS5pZTExKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTW96aWxsYSIpIT09LTEmJnZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJiIiPT09bmF2aWdhdG9yLnZlbmRvcn0scXEud2luZG93cz1mdW5jdGlvbigpe3JldHVybiJXaW4zMiI9PT1uYXZpZ2F0b3IucGxhdGZvcm19LHFxLmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFuZHJvaWQiKSE9PS0xfSxxcS5hbmRyb2lkU3RvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gcXEuYW5kcm9pZCgpJiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiY2hyb21lIik8MH0scXEuaW9zNj1mdW5jdGlvbigpe3JldHVybiBxcS5pb3MoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCIgT1MgNl8iKSE9PS0xfSxxcS5pb3M3PWZ1bmN0aW9uKCl7cmV0dXJuIHFxLmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA3XyIpIT09LTF9LHFxLmlvczg9ZnVuY3Rpb24oKXtyZXR1cm4gcXEuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiIE9TIDhfIikhPT0tMX0scXEuaW9zODAwPWZ1bmN0aW9uKCl7cmV0dXJuIHFxLmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA4XzAgIikhPT0tMX0scXEuaW9zPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiaVBhZCIpIT09LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiaVBvZCIpIT09LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiaVBob25lIikhPT0tMX0scXEuaW9zQ2hyb21lPWZ1bmN0aW9uKCl7cmV0dXJuIHFxLmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkNyaU9TIikhPT0tMX0scXEuaW9zU2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIHFxLmlvcygpJiYhcXEuaW9zQ2hyb21lKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIikhPT0tMX0scXEuaW9zU2FmYXJpV2ViVmlldz1mdW5jdGlvbigpe3JldHVybiBxcS5pb3MoKSYmIXFxLmlvc0Nocm9tZSgpJiYhcXEuaW9zU2FmYXJpKCl9LHFxLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOmUucmV0dXJuVmFsdWU9ITF9LHFxLnRvRWxlbWVudD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBmdW5jdGlvbih0KXtlLmlubmVySFRNTD10O3ZhciBuPWUuZmlyc3RDaGlsZDtyZXR1cm4gZS5yZW1vdmVDaGlsZChuKSxufX0oKSxxcS5lYWNoPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtpZihlKWlmKHdpbmRvdy5TdG9yYWdlJiZlLmNvbnN0cnVjdG9yPT09d2luZG93LlN0b3JhZ2UpZm9yKG49MDtuPGUubGVuZ3RoJiYoaT10KGUua2V5KG4pLGUuZ2V0SXRlbShlLmtleShuKSkpLGkhPT0hMSk7bisrKTtlbHNlIGlmKHFxLmlzQXJyYXkoZSl8fHFxLmlzSXRlbUxpc3QoZSl8fHFxLmlzTm9kZUxpc3QoZSkpZm9yKG49MDtuPGUubGVuZ3RoJiYoaT10KG4sZVtuXSksaSE9PSExKTtuKyspO2Vsc2UgaWYocXEuaXNTdHJpbmcoZSkpZm9yKG49MDtuPGUubGVuZ3RoJiYoaT10KG4sZS5jaGFyQXQobikpLGkhPT0hMSk7bisrKTtlbHNlIGZvcihuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihpPXQobixlW25dKSxpPT09ITEpKWJyZWFrfSxxcS5iaW5kPWZ1bmN0aW9uKGUsdCl7aWYocXEuaXNGdW5jdGlvbihlKSl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpPXFxLmV4dGVuZChbXSxuKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKGk9aS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpLGUuYXBwbHkodCxpKX19dGhyb3cgbmV3IEVycm9yKCJmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uISIpfSxxcS5vYmoydXJsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1bXSxvPSImIixyPWZ1bmN0aW9uKGUsbil7dmFyIG89dD8vXFtcXSQvLnRlc3QodCk/dDp0KyJbIituKyJdIjpuOyJ1bmRlZmluZWQiIT09byYmInVuZGVmaW5lZCIhPT1uJiZpLnB1c2goIm9iamVjdCI9PXR5cGVvZiBlP3FxLm9iajJ1cmwoZSxvLCEwKToiW29iamVjdCBGdW5jdGlvbl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpP2VuY29kZVVSSUNvbXBvbmVudChvKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGUoKSk6ZW5jb2RlVVJJQ29tcG9uZW50KG8pKyI9IitlbmNvZGVVUklDb21wb25lbnQoZSkpfTtyZXR1cm4hbiYmdD8obz0vXD8vLnRlc3QodCk/L1w/JC8udGVzdCh0KT8iIjoiJiI6Ij8iLGkucHVzaCh0KSxpLnB1c2gocXEub2JqMnVybChlKSkpOiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkmJnZvaWQgMCE9PWU/cXEuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cih0LGUpfSk6dm9pZCAwIT09ZSYmbnVsbCE9PWUmJiJvYmplY3QiPT10eXBlb2YgZT9xcS5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyKHQsZSl9KTppLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpKyI9IitlbmNvZGVVUklDb21wb25lbnQoZSkpLHQ/aS5qb2luKG8pOmkuam9pbihvKS5yZXBsYWNlKC9eJi8sIiIpLnJlcGxhY2UoLyUyMC9nLCIrIil9LHFxLm9iajJGb3JtRGF0YT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHR8fCh0PW5ldyBGb3JtRGF0YSkscXEuZWFjaChlLGZ1bmN0aW9uKGUsaSl7ZT1uP24rIlsiK2UrIl0iOmUscXEuaXNPYmplY3QoaSk/cXEub2JqMkZvcm1EYXRhKGksdCxlKTpxcS5pc0Z1bmN0aW9uKGkpP3QuYXBwZW5kKGUsaSgpKTp0LmFwcGVuZChlLGkpfSksdH0scXEub2JqMklucHV0cz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiB0fHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIikpLHFxLm9iajJGb3JtRGF0YShlLHthcHBlbmQ6ZnVuY3Rpb24oZSxpKXtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksbi5zZXRBdHRyaWJ1dGUoIm5hbWUiLGUpLG4uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsaSksdC5hcHBlbmRDaGlsZChuKX19KSx0fSxxcS5wYXJzZUpzb249ZnVuY3Rpb24oanNvbil7cmV0dXJuIHdpbmRvdy5KU09OJiZxcS5pc0Z1bmN0aW9uKEpTT04ucGFyc2UpP0pTT04ucGFyc2UoanNvbik6ZXZhbCgiKCIranNvbisiKSIpfSxxcS5nZXRFeHRlbnNpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXN0SW5kZXhPZigiLiIpKzE7aWYodD4wKXJldHVybiBlLnN1YnN0cih0LGUubGVuZ3RoLXQpfSxxcS5nZXRGaWxlbmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gcXEuaXNJbnB1dChlKT9lLnZhbHVlLnJlcGxhY2UoLy4qKFwvfFxcKS8sIiIpOnFxLmlzRmlsZShlKSYmbnVsbCE9PWUuZmlsZU5hbWUmJnZvaWQgMCE9PWUuZmlsZU5hbWU/ZS5maWxlTmFtZTplLm5hbWV9LHFxLkRpc3Bvc2VTdXBwb3J0PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgdDtkbyB0PWUuc2hpZnQoKSx0JiZ0KCk7d2hpbGUodCl9LGF0dGFjaDpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50czt0aGlzLmFkZERpc3Bvc2VyKHFxKGVbMF0pLmF0dGFjaC5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSkpfSxhZGREaXNwb3NlcjpmdW5jdGlvbih0KXtlLnB1c2godCl9fX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gcXF9KToidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9cXE6Z2xvYmFsLnFxPXFxfSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3FxLkVycm9yPWZ1bmN0aW9uKGUpe3RoaXMubWVzc2FnZT0iW0ZpbmUgVXBsb2FkZXIgIitxcS52ZXJzaW9uKyJdICIrZX0scXEuRXJyb3IucHJvdG90eXBlPW5ldyBFcnJvcn0oKSxxcS52ZXJzaW9uPSI1LjE2LjIiLHFxLnN1cHBvcnRlZEZlYXR1cmVzPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoKXt2YXIgZSx0PSEwO3RyeXtlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksZS50eXBlPSJmaWxlIixxcShlKS5oaWRlKCksZS5kaXNhYmxlZCYmKHQ9ITEpfWNhdGNoKGUpe3Q9ITF9cmV0dXJuIHR9ZnVuY3Rpb24gdCgpe3JldHVybihxcS5jaHJvbWUoKXx8cXEub3BlcmEoKSkmJnZvaWQgMCE9PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVwvWzFdWzQtOV18Q2hyb21lXC9bMi05XVswLTldLyl9ZnVuY3Rpb24gbigpe2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCl7cmV0dXJuIHZvaWQgMCE9PXFxLmNyZWF0ZVhockluc3RhbmNlKCkud2l0aENyZWRlbnRpYWxzfXJldHVybiExfWZ1bmN0aW9uIGkoKXtyZXR1cm4gdm9pZCAwIT09d2luZG93LlhEb21haW5SZXF1ZXN0fWZ1bmN0aW9uIG8oKXtyZXR1cm4hIW4oKXx8aSgpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gdm9pZCAwIT09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKS53ZWJraXRkaXJlY3Rvcnl9ZnVuY3Rpb24gYSgpe3RyeXtyZXR1cm4hIXdpbmRvdy5sb2NhbFN0b3JhZ2UmJnFxLmlzRnVuY3Rpb24od2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gcygpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyZXR1cm4oImRyYWdnYWJsZSJpbiBlfHwib25kcmFnc3RhcnQiaW4gZSYmIm9uZHJvcCJpbiBlKSYmIXFxLmFuZHJvaWQoKSYmIXFxLmlvcygpfXZhciB1LGwsYyxkLHAsaCxmLHEsbSxnLF8sdixiLHksUztyZXR1cm4gdT1lKCksZD11JiZxcS5pc1hoclVwbG9hZFN1cHBvcnRlZCgpLGw9ZCYmIXFxLmFuZHJvaWRTdG9jaygpLGM9ZCYmcygpLHA9YyYmZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3JldHVybiBlLnR5cGU9ImZpbGUiLCEhKCJ3ZWJraXRkaXJlY3RvcnkiaW4oZXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbdHlwZT1maWxlXSIpWzBdKSl9KCksaD1kJiZxcS5pc0ZpbGVDaHVua2luZ1N1cHBvcnRlZCgpLGY9ZCYmaCYmYSgpLHE9ZCYmdCgpLG09dSYmKHZvaWQgMCE9PXdpbmRvdy5wb3N0TWVzc2FnZXx8ZCksXz1uKCksZz1pKCksdj1vKCksYj1yKCkseT1kJiZ2b2lkIDAhPT13aW5kb3cuRmlsZVJlYWRlcixTPWZ1bmN0aW9uKCl7cmV0dXJuISFkJiYoIXFxLmFuZHJvaWRTdG9jaygpJiYhcXEuaW9zQ2hyb21lKCkpfSgpLHthamF4VXBsb2FkaW5nOmQsYmxvYlVwbG9hZGluZzpsLGNhbkRldGVybWluZVNpemU6ZCxjaHVua2luZzpoLGRlbGV0ZUZpbGVDb3JzOnYsZGVsZXRlRmlsZUNvcnNYZHI6ZyxkZWxldGVGaWxlQ29yc1hocjpfLGRpYWxvZ0VsZW1lbnQ6ISF3aW5kb3cuSFRNTERpYWxvZ0VsZW1lbnQsZmlsZURyb3A6Yyxmb2xkZXJEcm9wOnAsZm9sZGVyU2VsZWN0aW9uOmIsaW1hZ2VQcmV2aWV3czp5LGltYWdlVmFsaWRhdGlvbjp5LGl0ZW1TaXplVmFsaWRhdGlvbjpkLHBhdXNlOmgscHJvZ3Jlc3NCYXI6UyxyZXN1bWU6ZixzY2FsaW5nOnkmJmwsdGlmZlByZXZpZXdzOnFxLnNhZmFyaSgpLHVubGltaXRlZFNjYWxlZEltYWdlU2l6ZTohcXEuaW9zKCksdXBsb2FkaW5nOnUsdXBsb2FkQ29yczptLHVwbG9hZEN1c3RvbUhlYWRlcnM6ZCx1cGxvYWROb25NdWx0aXBhcnQ6ZCx1cGxvYWRWaWFQYXN0ZTpxfX0oKSxxcS5pc0dlbmVyaWNQcm9taXNlPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtyZXR1cm4hIShlJiZlLnRoZW4mJnFxLmlzRnVuY3Rpb24oZS50aGVuKSl9LHFxLlByb21pc2U9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGUsdCxuPVtdLGk9W10sbz1bXSxyPTA7cXEuZXh0ZW5kKHRoaXMse3RoZW46ZnVuY3Rpb24obyxhKXtyZXR1cm4gMD09PXI/KG8mJm4ucHVzaChvKSxhJiZpLnB1c2goYSkpOnI9PT0tMT9hJiZhLmFwcGx5KG51bGwsdCk6byYmby5hcHBseShudWxsLGUpLHRoaXN9LGRvbmU6ZnVuY3Rpb24obil7cmV0dXJuIDA9PT1yP28ucHVzaChuKTpuLmFwcGx5KG51bGwsdm9pZCAwPT09dD9lOnQpLHRoaXN9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gcj0xLGU9YXJndW1lbnRzLG4ubGVuZ3RoJiZxcS5lYWNoKG4sZnVuY3Rpb24odCxuKXtuLmFwcGx5KG51bGwsZSl9KSxvLmxlbmd0aCYmcXEuZWFjaChvLGZ1bmN0aW9uKHQsbil7bi5hcHBseShudWxsLGUpfSksdGhpc30sZmFpbHVyZTpmdW5jdGlvbigpe3JldHVybiByPS0xLHQ9YXJndW1lbnRzLGkubGVuZ3RoJiZxcS5lYWNoKGksZnVuY3Rpb24oZSxuKXtuLmFwcGx5KG51bGwsdCl9KSxvLmxlbmd0aCYmcXEuZWFjaChvLGZ1bmN0aW9uKGUsbil7bi5hcHBseShudWxsLHQpfSksdGhpc319KX0scXEuQmxvYlByb3h5PWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3FxLmV4dGVuZCh0aGlzLHtyZWZlcmVuY2VCbG9iOmUsY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHQoZSl9fSl9LHFxLlVwbG9hZEJ1dHRvbj1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKHFxLlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FLGkpLGUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYS50aXRsZSksby5zZXRNdWx0aXBsZShhLm11bHRpcGxlLGUpLGEuZm9sZGVycyYmcXEuc3VwcG9ydGVkRmVhdHVyZXMuZm9sZGVyU2VsZWN0aW9uJiZlLnNldEF0dHJpYnV0ZSgid2Via2l0ZGlyZWN0b3J5IiwiIiksYS5hY2NlcHRGaWxlcyYmZS5zZXRBdHRyaWJ1dGUoImFjY2VwdCIsYS5hY2NlcHRGaWxlcyksZS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJmaWxlIiksZS5zZXRBdHRyaWJ1dGUoIm5hbWUiLGEubmFtZSkscXEoZSkuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHJpZ2h0OjAsdG9wOjAsZm9udEZhbWlseToiQXJpYWwiLGZvbnRTaXplOnFxLmllKCkmJiFxcS5pZTgoKT8iMzUwMHB4IjoiMTE4cHgiLG1hcmdpbjowLHBhZGRpbmc6MCxjdXJzb3I6InBvaW50ZXIiLG9wYWNpdHk6MH0pLCFxcS5pZTcoKSYmcXEoZSkuY3NzKHtoZWlnaHQ6IjEwMCUifSksYS5lbGVtZW50LmFwcGVuZENoaWxkKGUpLHIuYXR0YWNoKGUsImNoYW5nZSIsZnVuY3Rpb24oKXthLm9uQ2hhbmdlKGUpfSksci5hdHRhY2goZSwibW91c2VvdmVyIixmdW5jdGlvbigpe3FxKGEuZWxlbWVudCkuYWRkQ2xhc3MoYS5ob3ZlckNsYXNzKX0pLHIuYXR0YWNoKGUsIm1vdXNlb3V0IixmdW5jdGlvbigpe3FxKGEuZWxlbWVudCkucmVtb3ZlQ2xhc3MoYS5ob3ZlckNsYXNzKX0pLHIuYXR0YWNoKGUsImZvY3VzIixmdW5jdGlvbigpe3FxKGEuZWxlbWVudCkuYWRkQ2xhc3MoYS5mb2N1c0NsYXNzKX0pLHIuYXR0YWNoKGUsImJsdXIiLGZ1bmN0aW9uKCl7cXEoYS5lbGVtZW50KS5yZW1vdmVDbGFzcyhhLmZvY3VzQ2xhc3MpfSksZX12YXIgbixpLG89dGhpcyxyPW5ldyBxcS5EaXNwb3NlU3VwcG9ydCxhPXthY2NlcHRGaWxlczpudWxsLGVsZW1lbnQ6bnVsbCxmb2N1c0NsYXNzOiJxcS11cGxvYWQtYnV0dG9uLWZvY3VzIixmb2xkZXJzOiExLGhvdmVyQ2xhc3M6InFxLXVwbG9hZC1idXR0b24taG92ZXIiLGlvczhCcm93c2VyQ3Jhc2hXb3JrYXJvdW5kOiExLG11bHRpcGxlOiExLG5hbWU6InFxZmlsZSIsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7fSx0aXRsZTpudWxsfTtxcS5leHRlbmQoYSxlKSxpPXFxLmdldFVuaXF1ZUlkKCkscXEoYS5lbGVtZW50KS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsZGlyZWN0aW9uOiJsdHIifSkscXEuZXh0ZW5kKHRoaXMse2dldElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIG59LGdldEJ1dHRvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LHNldE11bHRpcGxlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8dGhpcy5nZXRJbnB1dCgpO2EuaW9zOEJyb3dzZXJDcmFzaFdvcmthcm91bmQmJnFxLmlvczgoKSYmKHFxLmlvc0Nocm9tZSgpfHxxcS5pb3NTYWZhcmlXZWJWaWV3KCkpP24uc2V0QXR0cmlidXRlKCJtdWx0aXBsZSIsIiIpOmU/bi5zZXRBdHRyaWJ1dGUoIm11bHRpcGxlIiwiIik6bi5yZW1vdmVBdHRyaWJ1dGUoIm11bHRpcGxlIil9LHNldEFjY2VwdEZpbGVzOmZ1bmN0aW9uKGUpe2UhPT1hLmFjY2VwdEZpbGVzJiZuLnNldEF0dHJpYnV0ZSgiYWNjZXB0IixlKX0scmVzZXQ6ZnVuY3Rpb24oKXtuLnBhcmVudE5vZGUmJnFxKG4pLnJlbW92ZSgpLHFxKGEuZWxlbWVudCkucmVtb3ZlQ2xhc3MoYS5mb2N1c0NsYXNzKSxuPW51bGwsbj10KCl9fSksbj10KCl9LHFxLlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FPSJxcS1idXR0b24taWQiLHFxLlVwbG9hZERhdGE9ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7aWYocXEuaXNBcnJheShlKSl7dmFyIHQ9W107cmV0dXJuIHFxLmVhY2goZSxmdW5jdGlvbihlLG4pe3QucHVzaChvW25dKX0pLHR9cmV0dXJuIG9bZV19ZnVuY3Rpb24gbihlKXtpZihxcS5pc0FycmF5KGUpKXt2YXIgdD1bXTtyZXR1cm4gcXEuZWFjaChlLGZ1bmN0aW9uKGUsbil7dC5wdXNoKG9bcltuXV0pfSksdH1yZXR1cm4gb1tyW2VdXX1mdW5jdGlvbiBpKGUpe3ZhciB0PVtdLG49W10uY29uY2F0KGUpO3JldHVybiBxcS5lYWNoKG4sZnVuY3Rpb24oZSxuKXt2YXIgaT1hW25dO3ZvaWQgMCE9PWkmJnFxLmVhY2goaSxmdW5jdGlvbihlLG4pe3QucHVzaChvW25dKX0pfSksdH12YXIgbz1bXSxyPXt9LGE9e30scz17fSx1PXt9O3FxLmV4dGVuZCh0aGlzLHthZGRGaWxlOmZ1bmN0aW9uKHQpe3ZhciBuPXQuc3RhdHVzfHxxcS5zdGF0dXMuU1VCTUlUVElORyxpPW8ucHVzaCh7bmFtZTp0Lm5hbWUsb3JpZ2luYWxOYW1lOnQubmFtZSx1dWlkOnQudXVpZCxzaXplOm51bGw9PXQuc2l6ZT8tMTp0LnNpemUsc3RhdHVzOm4sZmlsZTp0LmZpbGV9KS0xO3JldHVybiB0LmJhdGNoSWQmJihvW2ldLmJhdGNoSWQ9dC5iYXRjaElkLHZvaWQgMD09PXVbdC5iYXRjaElkXSYmKHVbdC5iYXRjaElkXT1bXSksdVt0LmJhdGNoSWRdLnB1c2goaSkpLHQucHJveHlHcm91cElkJiYob1tpXS5wcm94eUdyb3VwSWQ9dC5wcm94eUdyb3VwSWQsdm9pZCAwPT09c1t0LnByb3h5R3JvdXBJZF0mJihzW3QucHJveHlHcm91cElkXT1bXSksc1t0LnByb3h5R3JvdXBJZF0ucHVzaChpKSksb1tpXS5pZD1pLHJbdC51dWlkXT1pLHZvaWQgMD09PWFbbl0mJihhW25dPVtdKSxhW25dLnB1c2goaSksdC5vbkJlZm9yZVN0YXR1c0NoYW5nZSYmdC5vbkJlZm9yZVN0YXR1c0NoYW5nZShpKSxlLm9uU3RhdHVzQ2hhbmdlKGksbnVsbCxuKSxpfSxyZXRyaWV2ZTpmdW5jdGlvbihlKXtyZXR1cm4gcXEuaXNPYmplY3QoZSkmJm8ubGVuZ3RoP3ZvaWQgMCE9PWUuaWQ/dChlLmlkKTp2b2lkIDAhPT1lLnV1aWQ/bihlLnV1aWQpOmUuc3RhdHVzP2koZS5zdGF0dXMpOnZvaWQgMDpxcS5leHRlbmQoW10sbywhMCl9LHJlbW92ZUZpbGVSZWY6ZnVuY3Rpb24oZSl7dmFyIG49dChlKTtuJiZkZWxldGUgbi5maWxlfSxyZXNldDpmdW5jdGlvbigpe289W10scj17fSxhPXt9LHU9e319LHNldFN0YXR1czpmdW5jdGlvbih0LG4pe3ZhciBpPW9bdF0uc3RhdHVzLHI9cXEuaW5kZXhPZihhW2ldLHQpO2FbaV0uc3BsaWNlKHIsMSksb1t0XS5zdGF0dXM9bix2b2lkIDA9PT1hW25dJiYoYVtuXT1bXSksYVtuXS5wdXNoKHQpLGUub25TdGF0dXNDaGFuZ2UodCxpLG4pfSx1dWlkQ2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuPW9bZV0udXVpZDtvW2VdLnV1aWQ9dCxyW3RdPWUsZGVsZXRlIHJbbl19LHVwZGF0ZU5hbWU6ZnVuY3Rpb24oZSx0KXtvW2VdLm5hbWU9dH0sdXBkYXRlU2l6ZTpmdW5jdGlvbihlLHQpe29bZV0uc2l6ZT10fSxzZXRQYXJlbnRJZDpmdW5jdGlvbihlLHQpe29bZV0ucGFyZW50SWQ9dH0sZ2V0SWRzSW5Qcm94eUdyb3VwOmZ1bmN0aW9uKGUpe3ZhciB0PW9bZV0ucHJveHlHcm91cElkO3JldHVybiB0P3NbdF06W119LGdldElkc0luQmF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHVbb1tlXS5iYXRjaElkXX19KX0scXEuc3RhdHVzPXtTVUJNSVRUSU5HOiJzdWJtaXR0aW5nIixTVUJNSVRURUQ6InN1Ym1pdHRlZCIsUkVKRUNURUQ6InJlamVjdGVkIixRVUVVRUQ6InF1ZXVlZCIsQ0FOQ0VMRUQ6ImNhbmNlbGVkIixQQVVTRUQ6InBhdXNlZCIsVVBMT0FESU5HOiJ1cGxvYWRpbmciLFVQTE9BRF9GSU5BTElaSU5HOiJ1cGxvYWQgZmluYWxpemluZyIsVVBMT0FEX1JFVFJZSU5HOiJyZXRyeWluZyB1cGxvYWQiLFVQTE9BRF9TVUNDRVNTRlVMOiJ1cGxvYWQgc3VjY2Vzc2Z1bCIsVVBMT0FEX0ZBSUxFRDoidXBsb2FkIGZhaWxlZCIsREVMRVRFX0ZBSUxFRDoiZGVsZXRlIGZhaWxlZCIsREVMRVRJTkc6ImRlbGV0aW5nIixERUxFVEVEOiJkZWxldGVkIn0sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7cXEuYmFzZVB1YmxpY0FwaT17YWRkQmxvYnM6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuYWRkRmlsZXMoZSx0LG4pfSxhZGRJbml0aWFsRmlsZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztxcS5lYWNoKGUsZnVuY3Rpb24oZSxuKXt0Ll9hZGRDYW5uZWRGaWxlKG4pfSl9LGFkZEZpbGVzOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9tYXliZUhhbmRsZUlvczhTYWZhcmlXb3JrYXJvdW5kKCk7dmFyIGk9MD09PXRoaXMuX3N0b3JlZElkcy5sZW5ndGg/cXEuZ2V0VW5pcXVlSWQoKTp0aGlzLl9jdXJyZW50QmF0Y2hJZCxvPXFxLmJpbmQoZnVuY3Rpb24oZSl7dGhpcy5faGFuZGxlTmV3RmlsZSh7YmxvYjplLG5hbWU6dGhpcy5fb3B0aW9ucy5ibG9icy5kZWZhdWx0TmFtZX0saSxkKX0sdGhpcykscj1xcS5iaW5kKGZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZU5ld0ZpbGUoZSxpLGQpfSx0aGlzKSxhPXFxLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9cXEuY2FudmFzVG9CbG9iKGUpO3RoaXMuX2hhbmRsZU5ld0ZpbGUoe2Jsb2I6dCxuYW1lOnRoaXMuX29wdGlvbnMuYmxvYnMuZGVmYXVsdE5hbWUrIi5wbmcifSxpLGQpfSx0aGlzKSxzPXFxLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWFsaXR5JiZlLnF1YWxpdHkvMTAwLG49cXEuY2FudmFzVG9CbG9iKGUuY2FudmFzLGUudHlwZSx0KTt0aGlzLl9oYW5kbGVOZXdGaWxlKHtibG9iOm4sbmFtZTplLm5hbWV9LGksZCl9LHRoaXMpLHU9cXEuYmluZChmdW5jdGlvbihlKXtpZihxcS5pc0lucHV0KGUpJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmZpbGVzKSxuPXRoaXM7cXEuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7bi5faGFuZGxlTmV3RmlsZSh0LGksZCl9KX1lbHNlIHRoaXMuX2hhbmRsZU5ld0ZpbGUoZSxpLGQpfSx0aGlzKSxsPWZ1bmN0aW9uKCl7cXEuaXNGaWxlTGlzdChlKSYmKGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpLGU9W10uY29uY2F0KGUpfSxjPXRoaXMsZD1bXTt0aGlzLl9jdXJyZW50QmF0Y2hJZD1pLGUmJihsKCkscXEuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cXEuaXNGaWxlT3JJbnB1dCh0KT91KHQpOnFxLmlzQmxvYih0KT9vKHQpOnFxLmlzT2JqZWN0KHQpP3QuYmxvYiYmdC5uYW1lP3IodCk6dC5jYW52YXMmJnQubmFtZSYmcyh0KTp0LnRhZ05hbWUmJiJjYW52YXMiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk/YSh0KTpjLmxvZyh0KyIgaXMgbm90IGEgdmFsaWQgZmlsZSBjb250YWluZXIhICBJZ25vcmluZyEiLCJ3YXJuIil9KSx0aGlzLmxvZygiUmVjZWl2ZWQgIitkLmxlbmd0aCsiIGZpbGVzLiIpLHRoaXMuX3ByZXBhcmVJdGVtc0ZvclVwbG9hZChkLHQsbikpfSxjYW5jZWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6ZX0pO3QmJnQuc3RhdHVzPT09cXEuc3RhdHVzLlVQTE9BRF9GSU5BTElaSU5HP3RoaXMubG9nKHFxLmZvcm1hdCgiSWdub3JpbmcgY2FuY2VsIGZvciBmaWxlIElEIHt9ICh7fSkuICBGaW5hbGl6aW5nIHVwbG9hZC4iLGUsdGhpcy5nZXROYW1lKGUpKSwiZXJyb3IiKTp0aGlzLl9oYW5kbGVyLmNhbmNlbChlKX0sY2FuY2VsQWxsOmZ1bmN0aW9uKCl7dmFyIGU9W10sdD10aGlzO3FxLmV4dGVuZChlLHRoaXMuX3N0b3JlZElkcykscXEuZWFjaChlLGZ1bmN0aW9uKGUsbil7dC5jYW5jZWwobil9KSx0aGlzLl9oYW5kbGVyLmNhbmNlbEFsbCgpfSxjbGVhclN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fc3RvcmVkSWRzPVtdfSxjb250aW51ZVVwbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDplfSk7cmV0dXJuISghcXEuc3VwcG9ydGVkRmVhdHVyZXMucGF1c2V8fCF0aGlzLl9vcHRpb25zLmNodW5raW5nLmVuYWJsZWQpJiYodC5zdGF0dXM9PT1xcS5zdGF0dXMuUEFVU0VEPyh0aGlzLmxvZyhxcS5mb3JtYXQoIlBhdXNlZCBmaWxlIElEIHt9ICh7fSkgd2lsbCBiZSBjb250aW51ZWQuICBOb3QgcGF1c2VkLiIsZSx0aGlzLmdldE5hbWUoZSkpKSx0aGlzLl91cGxvYWRGaWxlKGUpLCEwKToodGhpcy5sb2cocXEuZm9ybWF0KCJJZ25vcmluZyBjb250aW51ZSBmb3IgZmlsZSBJRCB7fSAoe30pLiAgTm90IHBhdXNlZC4iLGUsdGhpcy5nZXROYW1lKGUpKSwiZXJyb3IiKSwhMSkpfSxkZWxldGVGaWxlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vblN1Ym1pdERlbGV0ZShlKX0sZG9lc0V4aXN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9oYW5kbGVyLmlzVmFsaWQoZSl9LGRyYXdUaHVtYm5haWw6ZnVuY3Rpb24oZSx0LG4saSxvKXt2YXIgcixhLHM9bmV3IHFxLlByb21pc2U7cmV0dXJuIHRoaXMuX2ltYWdlR2VuZXJhdG9yPyhyPXRoaXMuX3RodW1ibmFpbFVybHNbZV0sYT17Y3VzdG9tUmVzaXplRnVuY3Rpb246byxtYXhTaXplOm4+MD9uOm51bGwsc2NhbGU6bj4wfSwhaSYmcXEuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cyYmKHI9dGhpcy5nZXRGaWxlKGUpKSxudWxsPT1yP3MuZmFpbHVyZSh7Y29udGFpbmVyOnQsZXJyb3I6IkZpbGUgb3IgVVJMIG5vdCBmb3VuZC4ifSk6dGhpcy5faW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUocix0LGEpLnRoZW4oZnVuY3Rpb24oZSl7cy5zdWNjZXNzKGUpfSxmdW5jdGlvbihlLHQpe3MuZmFpbHVyZSh7Y29udGFpbmVyOmUsZXJyb3I6dHx8IlByb2JsZW0gZ2VuZXJhdGluZyB0aHVtYm5haWwifSl9KSk6cy5mYWlsdXJlKHtjb250YWluZXI6dCxlcnJvcjoiTWlzc2luZyBpbWFnZSBnZW5lcmF0b3IgbW9kdWxlIn0pLHN9LGdldEJ1dHRvbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0QnV0dG9uKHRoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHNbZV0pfSxnZXRFbmRwb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZW5kcG9pbnRTdG9yZS5nZXQoZSl9LGdldEZpbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLl9oYW5kbGVyLmdldEZpbGUoZSk7cmV0dXJuIG58fCh0PXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOmV9KSx0JiYobj10LmZpbGUpKSxufHxudWxsfSxnZXRJblByb2dyZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe3N0YXR1czpbcXEuc3RhdHVzLlVQTE9BRElORyxxcS5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HLHFxLnN0YXR1cy5RVUVVRURdfSkubGVuZ3RofSxnZXROYW1lOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDplfSkubmFtZX0sZ2V0UGFyZW50SWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRVcGxvYWRzKHtpZDplfSksbj1udWxsO3JldHVybiB0JiZ2b2lkIDAhPT10LnBhcmVudElkJiYobj10LnBhcmVudElkKSxufSxnZXRSZXN1bWFibGVGaWxlc0RhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFuZGxlci5nZXRSZXN1bWFibGVGaWxlc0RhdGEoKX0sZ2V0U2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6ZX0pLnNpemV9LGdldE5ldFVwbG9hZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV0VXBsb2FkZWR9LGdldFJlbWFpbmluZ0FsbG93ZWRJdGVtczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQ7cmV0dXJuIGU+MD9lLXRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ6bnVsbH0sZ2V0VXBsb2FkczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZShlKX0sZ2V0VXVpZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6ZX0pLnV1aWR9LGlzUmVzdW1hYmxlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9oYW5kbGVyLmhhc1Jlc3VtZVJlY29yZChlKX0sbG9nOmZ1bmN0aW9uKGUsdCl7IXRoaXMuX29wdGlvbnMuZGVidWd8fHQmJiJpbmZvIiE9PXQ/dCYmImluZm8iIT09dCYmcXEubG9nKCJbRmluZSBVcGxvYWRlciAiK3FxLnZlcnNpb24rIl0gIitlLHQpOnFxLmxvZygiW0ZpbmUgVXBsb2FkZXIgIitxcS52ZXJzaW9uKyJdICIrZSl9LHBhdXNlVXBsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOmV9KTtpZighcXEuc3VwcG9ydGVkRmVhdHVyZXMucGF1c2V8fCF0aGlzLl9vcHRpb25zLmNodW5raW5nLmVuYWJsZWQpcmV0dXJuITE7aWYocXEuaW5kZXhPZihbcXEuc3RhdHVzLlVQTE9BRElORyxxcS5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HXSx0LnN0YXR1cyk+PTApe2lmKHRoaXMuX2hhbmRsZXIucGF1c2UoZSkpcmV0dXJuIHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKGUscXEuc3RhdHVzLlBBVVNFRCksITA7dGhpcy5sb2cocXEuZm9ybWF0KCJVbmFibGUgdG8gcGF1c2UgZmlsZSBJRCB7fSAoe30pLiIsZSx0aGlzLmdldE5hbWUoZSkpLCJlcnJvciIpfWVsc2UgdGhpcy5sb2cocXEuZm9ybWF0KCJJZ25vcmluZyBwYXVzZSBmb3IgZmlsZSBJRCB7fSAoe30pLiAgTm90IGluIHByb2dyZXNzLiIsZSx0aGlzLmdldE5hbWUoZSkpLCJlcnJvciIpO3JldHVybiExfSxyZW1vdmVGaWxlUmVmOmZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZXIuZXhwdW5nZShlKSx0aGlzLl91cGxvYWREYXRhLnJlbW92ZUZpbGVSZWYoZSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5sb2coIlJlc2V0dGluZyB1cGxvYWRlci4uLiIpLHRoaXMuX2hhbmRsZXIucmVzZXQoKSx0aGlzLl9zdG9yZWRJZHM9W10sdGhpcy5fYXV0b1JldHJpZXM9W10sdGhpcy5fcmV0cnlUaW1lb3V0cz1bXSx0aGlzLl9wcmV2ZW50UmV0cmllcz1bXSx0aGlzLl90aHVtYm5haWxVcmxzPVtdLHFxLmVhY2godGhpcy5fYnV0dG9ucyxmdW5jdGlvbihlLHQpe3QucmVzZXQoKX0pLHRoaXMuX3BhcmFtc1N0b3JlLnJlc2V0KCksdGhpcy5fZW5kcG9pbnRTdG9yZS5yZXNldCgpLHRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ9MCx0aGlzLl9uZXRVcGxvYWRlZD0wLHRoaXMuX3VwbG9hZERhdGEucmVzZXQoKSx0aGlzLl9idXR0b25JZHNGb3JGaWxlSWRzPVtdLHRoaXMuX3Bhc3RlSGFuZGxlciYmdGhpcy5fcGFzdGVIYW5kbGVyLnJlc2V0KCksdGhpcy5fb3B0aW9ucy5zZXNzaW9uLnJlZnJlc2hPblJlc2V0JiZ0aGlzLl9yZWZyZXNoU2Vzc2lvbkRhdGEoKSx0aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXSx0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXSx0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLnJlc2V0KCksdGhpcy5fY3VzdG9tUmVzdW1lRGF0YVN0b3JlLnJlc2V0KCl9LHJldHJ5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tYW51YWxSZXRyeShlKX0sc2NhbGVJbWFnZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHFxLlNjYWxlci5wcm90b3R5cGUuc2NhbGVJbWFnZShlLHQse2xvZzpxcS5iaW5kKG4ubG9nLG4pLGdldEZpbGU6cXEuYmluZChuLmdldEZpbGUsbiksdXBsb2FkRGF0YTpuLl91cGxvYWREYXRhfSl9LHNldEN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXN0b21IZWFkZXJzU3RvcmUuc2V0KGUsdCl9LHNldEN1c3RvbVJlc3VtZURhdGE6ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmUuc2V0KHQsZSl9LHNldERlbGV0ZUZpbGVDdXN0b21IZWFkZXJzOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZGVsZXRlRmlsZUN1c3RvbUhlYWRlcnNTdG9yZS5zZXQoZSx0KX0sc2V0RGVsZXRlRmlsZUVuZHBvaW50OmZ1bmN0aW9uKGUsdCl7dGhpcy5fZGVsZXRlRmlsZUVuZHBvaW50U3RvcmUuc2V0KGUsdCl9LHNldERlbGV0ZUZpbGVQYXJhbXM6ZnVuY3Rpb24oZSx0KXt0aGlzLl9kZWxldGVGaWxlUGFyYW1zU3RvcmUuc2V0KGUsdCl9LHNldEVuZHBvaW50OmZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5kcG9pbnRTdG9yZS5zZXQoZSx0KX0sc2V0Rm9ybTpmdW5jdGlvbihlKXt0aGlzLl91cGRhdGVGb3JtU3VwcG9ydEFuZFBhcmFtcyhlKX0sc2V0SXRlbUxpbWl0OmZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRJdGVtTGltaXQ9ZX0sc2V0TmFtZTpmdW5jdGlvbihlLHQpe3RoaXMuX3VwbG9hZERhdGEudXBkYXRlTmFtZShlLHQpfSxzZXRQYXJhbXM6ZnVuY3Rpb24oZSx0KXt0aGlzLl9wYXJhbXNTdG9yZS5zZXQoZSx0KX0sc2V0VXVpZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnV1aWRDaGFuZ2VkKGUsdCl9LHNldFN0YXR1czpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmdldFVwbG9hZHMoe2lkOmV9KSl0aHJvdyBuZXcgcXEuRXJyb3IoZSsiIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQuIik7c3dpdGNoKHQpe2Nhc2UgcXEuc3RhdHVzLkRFTEVURUQ6dGhpcy5fb25EZWxldGVDb21wbGV0ZShlLG51bGwsITEpO2JyZWFrO2Nhc2UgcXEuc3RhdHVzLkRFTEVURV9GQUlMRUQ6dGhpcy5fb25EZWxldGVDb21wbGV0ZShlLG51bGwsITApO2JyZWFrO2RlZmF1bHQ6dmFyIG49Ik1ldGhvZCBzZXRTdGF0dXMgY2FsbGVkIG9uICciK25hbWUrIicgbm90IGltcGxlbWVudGVkIHlldCBmb3IgIit0O3Rocm93IHRoaXMubG9nKG4pLG5ldyBxcS5FcnJvcihuKX19LHVwbG9hZFN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7MD09PXRoaXMuX3N0b3JlZElkcy5sZW5ndGg/dGhpcy5faXRlbUVycm9yKCJub0ZpbGVzRXJyb3IiKTp0aGlzLl91cGxvYWRTdG9yZWRGaWxlcygpfX0scXEuYmFzZVByaXZhdGVBcGk9e19hZGRDYW5uZWRGaWxlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEuYWRkRmlsZSh7dXVpZDplLnV1aWQsbmFtZTplLm5hbWUsc2l6ZTplLnNpemUsc3RhdHVzOnFxLnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTCxvbkJlZm9yZVN0YXR1c0NoYW5nZTpmdW5jdGlvbihuKXtlLmRlbGV0ZUZpbGVFbmRwb2ludCYmdC5zZXREZWxldGVGaWxlRW5kcG9pbnQoZS5kZWxldGVGaWxlRW5kcG9pbnQsbiksZS5kZWxldGVGaWxlUGFyYW1zJiZ0LnNldERlbGV0ZUZpbGVQYXJhbXMoZS5kZWxldGVGaWxlUGFyYW1zLG4pLGUudGh1bWJuYWlsVXJsJiYodC5fdGh1bWJuYWlsVXJsc1tuXT1lLnRodW1ibmFpbFVybCksdC5fbmV0VXBsb2FkZWQrKyx0Ll9uZXRVcGxvYWRlZE9yUXVldWVkKyt9fSl9LF9hbm5vdGF0ZVdpdGhCdXR0b25JZDpmdW5jdGlvbihlLHQpe3FxLmlzRmlsZShlKSYmKGUucXFCdXR0b25JZD10aGlzLl9nZXRCdXR0b25JZCh0KSl9LF9iYXRjaEVycm9yOmZ1bmN0aW9uKGUpe3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobnVsbCxudWxsLGUsdm9pZCAwKX0sX2NyZWF0ZURlbGV0ZUhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcXEuRGVsZXRlRmlsZUFqYXhSZXF1ZXN0ZXIoe21ldGhvZDp0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUubWV0aG9kLnRvVXBwZXJDYXNlKCksbWF4Q29ubmVjdGlvbnM6dGhpcy5fb3B0aW9ucy5tYXhDb25uZWN0aW9ucyx1dWlkUGFyYW1OYW1lOnRoaXMuX29wdGlvbnMucmVxdWVzdC51dWlkTmFtZSxjdXN0b21IZWFkZXJzOnRoaXMuX2RlbGV0ZUZpbGVDdXN0b21IZWFkZXJzU3RvcmUscGFyYW1zU3RvcmU6dGhpcy5fZGVsZXRlRmlsZVBhcmFtc1N0b3JlLGVuZHBvaW50U3RvcmU6dGhpcy5fZGVsZXRlRmlsZUVuZHBvaW50U3RvcmUsY29yczp0aGlzLl9vcHRpb25zLmNvcnMsbG9nOnFxLmJpbmQoZS5sb2csZSksb25EZWxldGU6ZnVuY3Rpb24odCl7ZS5fb25EZWxldGUodCksZS5fb3B0aW9ucy5jYWxsYmFja3Mub25EZWxldGUodCl9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24odCxuLGkpe2UuX29uRGVsZXRlQ29tcGxldGUodCxuLGkpLGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uRGVsZXRlQ29tcGxldGUodCxuLGkpfX0pfSxfY3JlYXRlUGFzdGVIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHFxLlBhc3RlU3VwcG9ydCh7dGFyZ2V0RWxlbWVudDp0aGlzLl9vcHRpb25zLnBhc3RlLnRhcmdldEVsZW1lbnQsY2FsbGJhY2tzOntsb2c6cXEuYmluZChlLmxvZyxlKSxwYXN0ZVJlY2VpdmVkOmZ1bmN0aW9uKHQpe2UuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25QYXN0ZVJlY2VpdmVkIixjYWxsYmFjazpxcS5iaW5kKGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uUGFzdGVSZWNlaXZlZCxlLHQpLG9uU3VjY2VzczpxcS5iaW5kKGUuX2hhbmRsZVBhc3RlU3VjY2VzcyxlLHQpLGlkZW50aWZpZXI6InBhc3RlZCBpbWFnZSJ9KX19fSl9LF9jcmVhdGVTdG9yZTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LGk9ZSxvPXt9LHI9dCxhPWZ1bmN0aW9uKGUpe3JldHVybiBxcS5pc09iamVjdChlKT9xcS5leHRlbmQoe30sZSk6ZX0scz1mdW5jdGlvbigpe3JldHVybiBxcS5pc0Z1bmN0aW9uKHIpP3IoKTpyfSx1PWZ1bmN0aW9uKGUsdCl7ciYmcXEuaXNPYmplY3QodCkmJnFxLmV4dGVuZCh0LHMoKSksb1tlXSYmcXEuZXh0ZW5kKHQsb1tlXSl9O3JldHVybntzZXQ6ZnVuY3Rpb24oZSx0KXtudWxsPT10PyhuPXt9LGk9YShlKSk6blt0XT1hKGUpfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9bnVsbCE9ZSYmbltlXT9uW2VdOmEoaSksdShlLHQpLGEodCl9LGFkZFJlYWRPbmx5OmZ1bmN0aW9uKGUsdCl7cXEuaXNPYmplY3QobikmJihudWxsPT09ZT9xcS5pc0Z1bmN0aW9uKHQpP3I9dDoocj1yfHx7fSxxcS5leHRlbmQocix0KSk6KG9bZV09b1tlXXx8e30scXEuZXh0ZW5kKG9bZV0sdCkpKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBkZWxldGUgbltlXX0scmVzZXQ6ZnVuY3Rpb24oKXtuPXt9LG89e30saT1lfX19LF9jcmVhdGVVcGxvYWREYXRhVHJhY2tlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBxcS5VcGxvYWREYXRhKHtnZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBlLmdldE5hbWUodCl9LGdldFV1aWQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0VXVpZCh0KX0sZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRTaXplKHQpfSxvblN0YXR1c0NoYW5nZTpmdW5jdGlvbih0LG4saSl7ZS5fb25VcGxvYWRTdGF0dXNDaGFuZ2UodCxuLGkpLGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uU3RhdHVzQ2hhbmdlKHQsbixpKSxlLl9tYXliZUFsbENvbXBsZXRlKHQsaSksZS5fdG90YWxQcm9ncmVzcyYmc2V0VGltZW91dChmdW5jdGlvbigpe2UuX3RvdGFsUHJvZ3Jlc3Mub25TdGF0dXNDaGFuZ2UodCxuLGkpfSwwKX19KX0sX2NyZWF0ZVVwbG9hZEJ1dHRvbjpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuISFxcS5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nJiYoIShpLl9vcHRpb25zLndvcmthcm91bmRzLmlvc0VtcHR5VmlkZW9zJiZxcS5pb3MoKSYmIXFxLmlvczYoKSYmaS5faXNBbGxvd2VkRXh0ZW5zaW9uKHIsIi5tb3YiKSkmJih2b2lkIDA9PT1lLm11bHRpcGxlP2kuX29wdGlvbnMubXVsdGlwbGU6ZS5tdWx0aXBsZSkpfXZhciBuLGk9dGhpcyxvPWUuYWNjZXB0fHx0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uYWNjZXB0RmlsZXMscj1lLmFsbG93ZWRFeHRlbnNpb25zfHx0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uYWxsb3dlZEV4dGVuc2lvbnM7cmV0dXJuIG49bmV3IHFxLlVwbG9hZEJ1dHRvbih7YWNjZXB0RmlsZXM6byxlbGVtZW50OmUuZWxlbWVudCxmb2N1c0NsYXNzOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5idXR0b25Gb2N1cyxmb2xkZXJzOmUuZm9sZGVycyxob3ZlckNsYXNzOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5idXR0b25Ib3Zlcixpb3M4QnJvd3NlckNyYXNoV29ya2Fyb3VuZDp0aGlzLl9vcHRpb25zLndvcmthcm91bmRzLmlvczhCcm93c2VyQ3Jhc2gsbXVsdGlwbGU6dCgpLG5hbWU6dGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmlucHV0TmFtZSxvbkNoYW5nZTpmdW5jdGlvbihlKXtpLl9vbklucHV0Q2hhbmdlKGUpfSx0aXRsZTpudWxsPT1lLnRpdGxlP3RoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZTplLnRpdGxlfSksdGhpcy5fZGlzcG9zZVN1cHBvcnQuYWRkRGlzcG9zZXIoZnVuY3Rpb24oKXtuLmRpc3Bvc2UoKX0pLGkuX2J1dHRvbnMucHVzaChuKSxufSxfY3JlYXRlVXBsb2FkSGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT17fSxvPXtkZWJ1Zzp0aGlzLl9vcHRpb25zLmRlYnVnLG1heENvbm5lY3Rpb25zOnRoaXMuX29wdGlvbnMubWF4Q29ubmVjdGlvbnMsY29yczp0aGlzLl9vcHRpb25zLmNvcnMscGFyYW1zU3RvcmU6dGhpcy5fcGFyYW1zU3RvcmUsZW5kcG9pbnRTdG9yZTp0aGlzLl9lbmRwb2ludFN0b3JlLGNodW5raW5nOnRoaXMuX29wdGlvbnMuY2h1bmtpbmcscmVzdW1lOnRoaXMuX29wdGlvbnMucmVzdW1lLGJsb2JzOnRoaXMuX29wdGlvbnMuYmxvYnMsbG9nOnFxLmJpbmQobi5sb2csbikscHJldmVudFJldHJ5UGFyYW06dGhpcy5fb3B0aW9ucy5yZXRyeS5wcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24oZSx0LG8scil7bzwwfHxyPDB8fChpW2VdP2lbZV0ubG9hZGVkPT09byYmaVtlXS50b3RhbD09PXJ8fChuLl9vblByb2dyZXNzKGUsdCxvLHIpLG4uX29wdGlvbnMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3MoZSx0LG8scikpOihuLl9vblByb2dyZXNzKGUsdCxvLHIpLG4uX29wdGlvbnMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3MoZSx0LG8scikpLGlbZV09e2xvYWRlZDpvLHRvdGFsOnJ9KX0sb25Db21wbGV0ZTpmdW5jdGlvbihlLHQsbyxyKXtkZWxldGUgaVtlXTt2YXIgYSxzPW4uZ2V0VXBsb2Fkcyh7aWQ6ZX0pLnN0YXR1cztzIT09cXEuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMJiZzIT09cXEuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJihhPW4uX29uQ29tcGxldGUoZSx0LG8sciksYSBpbnN0YW5jZW9mIHFxLlByb21pc2U/YS5kb25lKGZ1bmN0aW9uKCl7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25Db21wbGV0ZShlLHQsbyxyKX0pOm4uX29wdGlvbnMuY2FsbGJhY2tzLm9uQ29tcGxldGUoZSx0LG8scikpfSxvbkNhbmNlbDpmdW5jdGlvbihlLHQsaSl7dmFyIG89bmV3IHFxLlByb21pc2U7cmV0dXJuIG4uX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25DYW5jZWwiLGNhbGxiYWNrOnFxLmJpbmQobi5fb3B0aW9ucy5jYWxsYmFja3Mub25DYW5jZWwsbixlLHQpLG9uRmFpbHVyZTpvLmZhaWx1cmUsb25TdWNjZXNzOmZ1bmN0aW9uKCl7aS50aGVuKGZ1bmN0aW9uKCl7bi5fb25DYW5jZWwoZSx0KX0pLG8uc3VjY2VzcygpfSxpZGVudGlmaWVyOmV9KSxvfSxvblVwbG9hZFByZXA6cXEuYmluZCh0aGlzLl9vblVwbG9hZFByZXAsdGhpcyksb25VcGxvYWQ6ZnVuY3Rpb24oZSx0KXtuLl9vblVwbG9hZChlLHQpO3ZhciBpPW4uX29wdGlvbnMuY2FsbGJhY2tzLm9uVXBsb2FkKGUsdCk7cmV0dXJuIHFxLmlzR2VuZXJpY1Byb21pc2UoaSk/KG4ubG9nKHFxLmZvcm1hdCgib25VcGxvYWQgZm9yIHt9IHJldHVybmVkIGEgUHJvbWlzZSAtIHdhaXRpbmcgZm9yIHJlc29sdXRpb24uIixlKSksaSk6KG5ldyBxcS5Qcm9taXNlKS5zdWNjZXNzKCl9LG9uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oZSx0LGkpe24uX29uVXBsb2FkQ2h1bmsoZSxpKTt2YXIgbz1uLl9vcHRpb25zLmNhbGxiYWNrcy5vblVwbG9hZENodW5rKGUsdCxpKQ0KO3JldHVybiBxcS5pc0dlbmVyaWNQcm9taXNlKG8pPyhuLmxvZyhxcS5mb3JtYXQoIm9uVXBsb2FkQ2h1bmsgZm9yIHt9Lnt9IHJldHVybmVkIGEgUHJvbWlzZSAtIHdhaXRpbmcgZm9yIHJlc29sdXRpb24uIixlLGkucGFydEluZGV4KSksbyk6KG5ldyBxcS5Qcm9taXNlKS5zdWNjZXNzKCl9LG9uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKGUsdCxpLG8pe24uX29uVXBsb2FkQ2h1bmtTdWNjZXNzKGUsdCksbi5fb3B0aW9ucy5jYWxsYmFja3Mub25VcGxvYWRDaHVua1N1Y2Nlc3MuYXBwbHkobixhcmd1bWVudHMpfSxvblJlc3VtZTpmdW5jdGlvbihlLHQsaSxvKXtyZXR1cm4gbi5fb3B0aW9ucy5jYWxsYmFja3Mub25SZXN1bWUoZSx0LGksbyl9LG9uQXV0b1JldHJ5OmZ1bmN0aW9uKGUsdCxpLG8pe3JldHVybiBuLl9vbkF1dG9SZXRyeS5hcHBseShuLGFyZ3VtZW50cyl9LG9uVXVpZENoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtuLmxvZygiU2VydmVyIHJlcXVlc3RlZCBVVUlEIGNoYW5nZSBmcm9tICciK24uZ2V0VXVpZChlKSsiJyB0byAnIit0KyInIiksbi5zZXRVdWlkKGUsdCl9LGdldE5hbWU6cXEuYmluZChuLmdldE5hbWUsbiksZ2V0VXVpZDpxcS5iaW5kKG4uZ2V0VXVpZCxuKSxnZXRTaXplOnFxLmJpbmQobi5nZXRTaXplLG4pLHNldFNpemU6cXEuYmluZChuLl9zZXRTaXplLG4pLGdldERhdGFCeVV1aWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0VXBsb2Fkcyh7dXVpZDplfSl9LGlzUXVldWVkOmZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0VXBsb2Fkcyh7aWQ6ZX0pLnN0YXR1cztyZXR1cm4gdD09PXFxLnN0YXR1cy5RVUVVRUR8fHQ9PT1xcS5zdGF0dXMuU1VCTUlUVEVEfHx0PT09cXEuc3RhdHVzLlVQTE9BRF9SRVRSWUlOR3x8dD09PXFxLnN0YXR1cy5QQVVTRUR9LGdldElkc0luUHJveHlHcm91cDpuLl91cGxvYWREYXRhLmdldElkc0luUHJveHlHcm91cCxnZXRJZHNJbkJhdGNoOm4uX3VwbG9hZERhdGEuZ2V0SWRzSW5CYXRjaCxpc0luUHJvZ3Jlc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0VXBsb2Fkcyh7aWQ6ZX0pLnN0YXR1cz09PXFxLnN0YXR1cy5VUExPQURJTkd9LGdldEN1c3RvbVJlc3VtZURhdGE6cXEuYmluZChuLl9nZXRDdXN0b21SZXN1bWVEYXRhLG4pLHNldFN0YXR1czpmdW5jdGlvbihlLHQpe24uX3VwbG9hZERhdGEuc2V0U3RhdHVzKGUsdCl9fTtyZXR1cm4gcXEuZWFjaCh0aGlzLl9vcHRpb25zLnJlcXVlc3QsZnVuY3Rpb24oZSx0KXtvW2VdPXR9KSxvLmN1c3RvbUhlYWRlcnM9dGhpcy5fY3VzdG9tSGVhZGVyc1N0b3JlLGUmJnFxLmVhY2goZSxmdW5jdGlvbihlLHQpe29bZV09dH0pLG5ldyBxcS5VcGxvYWRIYW5kbGVyQ29udHJvbGxlcihvLHQpfSxfZmlsZU9yQmxvYlJlamVjdGVkOmZ1bmN0aW9uKGUpe3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLSx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhlLHFxLnN0YXR1cy5SRUpFQ1RFRCl9LF9mb3JtYXRTaXplOmZ1bmN0aW9uKGUpe2lmKDA9PT1lKXJldHVybiBlK3RoaXMuX29wdGlvbnMudGV4dC5zaXplU3ltYm9sc1swXTt2YXIgdD0tMTtkbyBlLz0xZTMsdCsrO3doaWxlKGU+OTk5KTtyZXR1cm4gTWF0aC5tYXgoZSwuMSkudG9GaXhlZCgxKSt0aGlzLl9vcHRpb25zLnRleHQuc2l6ZVN5bWJvbHNbdF19LF9nZW5lcmF0ZUV4dHJhQnV0dG9uU3BlY3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2V4dHJhQnV0dG9uU3BlY3M9e30scXEuZWFjaCh0aGlzLl9vcHRpb25zLmV4dHJhQnV0dG9ucyxmdW5jdGlvbih0LG4pe3ZhciBpPW4ubXVsdGlwbGUsbz1xcS5leHRlbmQoe30sZS5fb3B0aW9ucy52YWxpZGF0aW9uLCEwKSxyPXFxLmV4dGVuZCh7fSxuKTt2b2lkIDA9PT1pJiYoaT1lLl9vcHRpb25zLm11bHRpcGxlKSxyLnZhbGlkYXRpb24mJnFxLmV4dGVuZChvLG4udmFsaWRhdGlvbiwhMCkscXEuZXh0ZW5kKHIse211bHRpcGxlOmksdmFsaWRhdGlvbjpvfSwhMCksZS5faW5pdEV4dHJhQnV0dG9uKHIpfSl9LF9nZXRCdXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZXh0cmFCdXR0b25TcGVjc1tlXTtyZXR1cm4gdD90LmVsZW1lbnQ6ZT09PXRoaXMuX2RlZmF1bHRCdXR0b25JZD90aGlzLl9vcHRpb25zLmJ1dHRvbjp2b2lkIDB9LF9nZXRCdXR0b25JZDpmdW5jdGlvbihlKXt2YXIgdCxuLGk9ZTtpZihpIGluc3RhbmNlb2YgcXEuQmxvYlByb3h5JiYoaT1pLnJlZmVyZW5jZUJsb2IpLGkmJiFxcS5pc0Jsb2IoaSkpe2lmKHFxLmlzRmlsZShpKSlyZXR1cm4gaS5xcUJ1dHRvbklkO2lmKCJpbnB1dCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmImZpbGUiPT09aS50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGkuZ2V0QXR0cmlidXRlKHFxLlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FKTtpZih0PWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IikscXEuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7aWYoImZpbGUiPT09dC5nZXRBdHRyaWJ1dGUoInR5cGUiKSlyZXR1cm4gbj10LCExfSksbilyZXR1cm4gbi5nZXRBdHRyaWJ1dGUocXEuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUpfX0sX2dldEN1c3RvbVJlc3VtZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZS5nZXQoZSl9LF9nZXROb3RGaW5pc2hlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtzdGF0dXM6W3FxLnN0YXR1cy5VUExPQURJTkcscXEuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyxxcS5zdGF0dXMuUVVFVUVELHFxLnN0YXR1cy5TVUJNSVRUSU5HLHFxLnN0YXR1cy5TVUJNSVRURUQscXEuc3RhdHVzLlBBVVNFRF19KS5sZW5ndGh9LF9nZXRWYWxpZGF0aW9uQmFzZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9leHRyYUJ1dHRvblNwZWNzW2VdO3JldHVybiB0P3QudmFsaWRhdGlvbjp0aGlzLl9vcHRpb25zLnZhbGlkYXRpb259LF9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5maWxlIGluc3RhbmNlb2YgcXEuQmxvYlByb3h5P3tuYW1lOnFxLmdldEZpbGVuYW1lKGUuZmlsZS5yZWZlcmVuY2VCbG9iKSxzaXplOmUuZmlsZS5yZWZlcmVuY2VCbG9iLnNpemV9OntuYW1lOnRoaXMuZ2V0VXBsb2Fkcyh7aWQ6ZS5pZH0pLm5hbWUsc2l6ZTp0aGlzLmdldFVwbG9hZHMoe2lkOmUuaWR9KS5zaXplfX0sX2dldFZhbGlkYXRpb25EZXNjcmlwdG9yczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49W107cmV0dXJuIHFxLmVhY2goZSxmdW5jdGlvbihlLGkpe24ucHVzaCh0Ll9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcihpKSl9KSxufSxfaGFuZGxlQ2FtZXJhQWNjZXNzOmZ1bmN0aW9uKCl7aWYodGhpcy5fb3B0aW9ucy5jYW1lcmEuaW9zJiZxcS5pb3MoKSl7dmFyIGU9dGhpcy5fb3B0aW9ucy5jYW1lcmEuYnV0dG9uLHQ9ZT90aGlzLl9nZXRCdXR0b25JZChlKTp0aGlzLl9kZWZhdWx0QnV0dG9uSWQsbj10aGlzLl9vcHRpb25zO3QmJnQhPT10aGlzLl9kZWZhdWx0QnV0dG9uSWQmJihuPXRoaXMuX2V4dHJhQnV0dG9uU3BlY3NbdF0pLG4ubXVsdGlwbGU9ITEsbnVsbD09PW4udmFsaWRhdGlvbi5hY2NlcHRGaWxlcz9uLnZhbGlkYXRpb24uYWNjZXB0RmlsZXM9ImltYWdlLyo7Y2FwdHVyZT1jYW1lcmEiOm4udmFsaWRhdGlvbi5hY2NlcHRGaWxlcys9IixpbWFnZS8qO2NhcHR1cmU9Y2FtZXJhIixxcS5lYWNoKHRoaXMuX2J1dHRvbnMsZnVuY3Rpb24oZSxpKXtpZihpLmdldEJ1dHRvbklkKCk9PT10KXJldHVybiBpLnNldE11bHRpcGxlKG4ubXVsdGlwbGUpLGkuc2V0QWNjZXB0RmlsZXMobi5hY2NlcHRGaWxlcyksITF9KX19LF9oYW5kbGVDaGVja2VkQ2FsbGJhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUuY2FsbGJhY2soKTtyZXR1cm4gcXEuaXNHZW5lcmljUHJvbWlzZShuKT8odGhpcy5sb2coZS5uYW1lKyIgLSB3YWl0aW5nIGZvciAiK2UubmFtZSsiIHByb21pc2UgdG8gYmUgZnVsZmlsbGVkIGZvciAiK2UuaWRlbnRpZmllciksbi50aGVuKGZ1bmN0aW9uKG4pe3QubG9nKGUubmFtZSsiIHByb21pc2Ugc3VjY2VzcyBmb3IgIitlLmlkZW50aWZpZXIpLGUub25TdWNjZXNzKG4pfSxmdW5jdGlvbigpe2Uub25GYWlsdXJlPyh0LmxvZyhlLm5hbWUrIiBwcm9taXNlIGZhaWx1cmUgZm9yICIrZS5pZGVudGlmaWVyKSxlLm9uRmFpbHVyZSgpKTp0LmxvZyhlLm5hbWUrIiBwcm9taXNlIGZhaWx1cmUgZm9yICIrZS5pZGVudGlmaWVyKX0pKToobiE9PSExP2Uub25TdWNjZXNzKG4pOmUub25GYWlsdXJlPyh0aGlzLmxvZyhlLm5hbWUrIiAtIHJldHVybiB2YWx1ZSB3YXMgJ2ZhbHNlJyBmb3IgIitlLmlkZW50aWZpZXIrIi4gIEludm9raW5nIGZhaWx1cmUgY2FsbGJhY2suIiksZS5vbkZhaWx1cmUoKSk6dGhpcy5sb2coZS5uYW1lKyIgLSByZXR1cm4gdmFsdWUgd2FzICdmYWxzZScgZm9yICIrZS5pZGVudGlmaWVyKyIuICBXaWxsIG5vdCBwcm9jZWVkLiIpLG4pfSxfaGFuZGxlTmV3RmlsZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyxvPXFxLmdldFVuaXF1ZUlkKCkscj0tMSxhPXFxLmdldEZpbGVuYW1lKGUpLHM9ZS5ibG9ifHxlLHU9dGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI/dGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI6cXEuYmluZChpLl9oYW5kbGVOZXdGaWxlR2VuZXJpYyxpKTshcXEuaXNJbnB1dChzKSYmcy5zaXplPj0wJiYocj1zLnNpemUpLHUocyxhLG8scixuLHQsdGhpcy5fb3B0aW9ucy5yZXF1ZXN0LnV1aWROYW1lLHt1cGxvYWREYXRhOmkuX3VwbG9hZERhdGEscGFyYW1zU3RvcmU6aS5fcGFyYW1zU3RvcmUsYWRkRmlsZVRvSGFuZGxlcjpmdW5jdGlvbihlLHQpe2kuX2hhbmRsZXIuYWRkKGUsdCksaS5fbmV0VXBsb2FkZWRPclF1ZXVlZCsrLGkuX3RyYWNrQnV0dG9uKGUpfX0pfSxfaGFuZGxlTmV3RmlsZUdlbmVyaWM6ZnVuY3Rpb24oZSx0LG4saSxvLHIpe3ZhciBhPXRoaXMuX3VwbG9hZERhdGEuYWRkRmlsZSh7dXVpZDpuLG5hbWU6dCxzaXplOmksYmF0Y2hJZDpyLGZpbGU6ZX0pO3RoaXMuX2hhbmRsZXIuYWRkKGEsZSksdGhpcy5fdHJhY2tCdXR0b24oYSksdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZCsrLG8ucHVzaCh7aWQ6YSxmaWxlOmV9KX0sX2hhbmRsZVBhc3RlU3VjY2VzczpmdW5jdGlvbihlLHQpe3ZhciBuPWUudHlwZS5zcGxpdCgiLyIpWzFdLGk9dDtudWxsPT1pJiYoaT10aGlzLl9vcHRpb25zLnBhc3RlLmRlZmF1bHROYW1lKSxpKz0iLiIrbix0aGlzLmFkZEZpbGVzKHtuYW1lOmksYmxvYjplfSl9LF9oYW5kbGVEZWxldGVTdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZ2V0VXBsb2Fkcyh7aWQ6ZX0pLnN0YXR1cyE9PXFxLnN0YXR1cy5ERUxFVEVEKXt2YXIgdD10aGlzLmdldE5hbWUoZSk7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tLHRoaXMuX25ldFVwbG9hZGVkLS0sdGhpcy5faGFuZGxlci5leHB1bmdlKGUpLHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKGUscXEuc3RhdHVzLkRFTEVURUQpLHRoaXMubG9nKCJEZWxldGUgcmVxdWVzdCBmb3IgJyIrdCsiJyBoYXMgc3VjY2VlZGVkLiIpfX0sX2hhbmRsZURlbGV0ZUZhaWxlZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0TmFtZShlKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhlLHFxLnN0YXR1cy5ERUxFVEVfRkFJTEVEKSx0aGlzLmxvZygiRGVsZXRlIHJlcXVlc3QgZm9yICciK24rIicgaGFzIGZhaWxlZC4iLCJlcnJvciIpLHQmJnZvaWQgMCE9PXQud2l0aENyZWRlbnRpYWxzP3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IoZSxuLCJEZWxldGUgcmVxdWVzdCBmYWlsZWQgd2l0aCByZXNwb25zZSBjb2RlICIrdC5zdGF0dXMsdCk6dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihlLG4sIkRlbGV0ZSByZXF1ZXN0IGZhaWxlZCIsdCl9LF9pbml0RXh0cmFCdXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHthY2NlcHQ6ZS52YWxpZGF0aW9uLmFjY2VwdEZpbGVzLGFsbG93ZWRFeHRlbnNpb25zOmUudmFsaWRhdGlvbi5hbGxvd2VkRXh0ZW5zaW9ucyxlbGVtZW50OmUuZWxlbWVudCxmb2xkZXJzOmUuZm9sZGVycyxtdWx0aXBsZTplLm11bHRpcGxlLHRpdGxlOmUuZmlsZUlucHV0VGl0bGV9KTt0aGlzLl9leHRyYUJ1dHRvblNwZWNzW3QuZ2V0QnV0dG9uSWQoKV09ZX0sX2luaXRGb3JtU3VwcG9ydEFuZFBhcmFtczpmdW5jdGlvbigpe3RoaXMuX2Zvcm1TdXBwb3J0PXFxLkZvcm1TdXBwb3J0JiZuZXcgcXEuRm9ybVN1cHBvcnQodGhpcy5fb3B0aW9ucy5mb3JtLHFxLmJpbmQodGhpcy51cGxvYWRTdG9yZWRGaWxlcyx0aGlzKSxxcS5iaW5kKHRoaXMubG9nLHRoaXMpKSx0aGlzLl9mb3JtU3VwcG9ydCYmdGhpcy5fZm9ybVN1cHBvcnQuYXR0YWNoZWRUb0Zvcm0/KHRoaXMuX3BhcmFtc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5wYXJhbXMsdGhpcy5fZm9ybVN1cHBvcnQuZ2V0Rm9ybUlucHV0c0FzT2JqZWN0KSx0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQ9dGhpcy5fZm9ybVN1cHBvcnQubmV3QXV0b1VwbG9hZCx0aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCYmKHRoaXMuX29wdGlvbnMucmVxdWVzdC5lbmRwb2ludD10aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCkpOnRoaXMuX3BhcmFtc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5wYXJhbXMpfSxfaXNEZWxldGVQb3NzaWJsZTpmdW5jdGlvbigpe3JldHVybiEoIXFxLkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyfHwhdGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmVuYWJsZWQpJiYoIXRoaXMuX29wdGlvbnMuY29ycy5leHBlY3RlZHx8KCEhcXEuc3VwcG9ydGVkRmVhdHVyZXMuZGVsZXRlRmlsZUNvcnNYaHJ8fCEoIXFxLnN1cHBvcnRlZEZlYXR1cmVzLmRlbGV0ZUZpbGVDb3JzWGRyfHwhdGhpcy5fb3B0aW9ucy5jb3JzLmFsbG93WGRyKSkpfSxfaXNBbGxvd2VkRXh0ZW5zaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49ITE7cmV0dXJuIWUubGVuZ3RofHwocXEuZWFjaChlLGZ1bmN0aW9uKGUsaSl7aWYocXEuaXNTdHJpbmcoaSkpe3ZhciBvPW5ldyBSZWdFeHAoIlxcLiIraSsiJCIsImkiKTtpZihudWxsIT10Lm1hdGNoKG8pKXJldHVybiBuPSEwLCExfX0pLG4pfSxfaXRlbUVycm9yOmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUsdCl7YT1hLnJlcGxhY2UoZSx0KX12YXIgbyxyLGE9dGhpcy5fb3B0aW9ucy5tZXNzYWdlc1tlXSxzPVtdLHU9W10uY29uY2F0KHQpLGw9dVswXSxjPXRoaXMuX2dldEJ1dHRvbklkKG4pLGQ9dGhpcy5fZ2V0VmFsaWRhdGlvbkJhc2UoYyk7cmV0dXJuIHFxLmVhY2goZC5hbGxvd2VkRXh0ZW5zaW9ucyxmdW5jdGlvbihlLHQpe3FxLmlzU3RyaW5nKHQpJiZzLnB1c2godCl9KSxvPXMuam9pbigiLCAiKS50b0xvd2VyQ2FzZSgpLGkoIntmaWxlfSIsdGhpcy5fb3B0aW9ucy5mb3JtYXRGaWxlTmFtZShsKSksaSgie2V4dGVuc2lvbnN9IixvKSxpKCJ7c2l6ZUxpbWl0fSIsdGhpcy5fZm9ybWF0U2l6ZShkLnNpemVMaW1pdCkpLGkoInttaW5TaXplTGltaXR9Iix0aGlzLl9mb3JtYXRTaXplKGQubWluU2l6ZUxpbWl0KSkscj1hLm1hdGNoKC8oXHtcdytcfSkvZyksbnVsbCE9PXImJnFxLmVhY2gocixmdW5jdGlvbihlLHQpe2kodCx1W2VdKX0pLHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobnVsbCxsLGEsdm9pZCAwKSxhfSxfbWFudWFsUmV0cnk6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9vbkJlZm9yZU1hbnVhbFJldHJ5KGUpKXJldHVybiB0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkKyssdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HKSx0P3QoZSk6dGhpcy5faGFuZGxlci5yZXRyeShlKSwhMH0sX21heWJlQWxsQ29tcGxldGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5fZ2V0Tm90RmluaXNoZWQoKTt0PT09cXEuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMP3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlLnB1c2goZSk6dD09PXFxLnN0YXR1cy5VUExPQURfRkFJTEVEJiZ0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5wdXNoKGUpLDA9PT1pJiYodGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGUubGVuZ3RofHx0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5sZW5ndGgpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fb25BbGxDb21wbGV0ZShuLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZSxuLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZSl9LDApfSxfbWF5YmVIYW5kbGVJb3M4U2FmYXJpV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4U2FmYXJpVXBsb2FkcyYmcXEuaW9zODAwKCkmJnFxLmlvc1NhZmFyaSgpKXRocm93IHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuYWxlcnQoZS5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpKX0sMCksbmV3IHFxLkVycm9yKHRoaXMuX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaSl9LF9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yOmZ1bmN0aW9uKGUsdCxuLGkpe2lmKCFuLnN1Y2Nlc3MpaWYoaSYmMjAwIT09aS5zdGF0dXMmJiFuLmVycm9yKXRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IoZSx0LCJYSFIgcmV0dXJuZWQgcmVzcG9uc2UgY29kZSAiK2kuc3RhdHVzLGkpO2Vsc2V7dmFyIG89bi5lcnJvcj9uLmVycm9yOnRoaXMuX29wdGlvbnMudGV4dC5kZWZhdWx0UmVzcG9uc2VFcnJvcjt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKGUsdCxvLGkpfX0sX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2s6ZnVuY3Rpb24oZSx0LG4saSxvKXt2YXIgcj10aGlzO2lmKHQubGVuZ3RoPm4paWYoZXx8IXRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5zdG9wT25GaXJzdEludmFsaWRGaWxlKXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1yLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcih0W25dKSxhPXIuX2dldEJ1dHRvbklkKHRbbl0uZmlsZSkscz1yLl9nZXRCdXR0b24oYSk7ci5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlIixjYWxsYmFjazpxcS5iaW5kKHIuX29wdGlvbnMuY2FsbGJhY2tzLm9uVmFsaWRhdGUscixlLHMpLG9uU3VjY2VzczpxcS5iaW5kKHIuX29uVmFsaWRhdGVDYWxsYmFja1N1Y2Nlc3Mscix0LG4saSxvKSxvbkZhaWx1cmU6cXEuYmluZChyLl9vblZhbGlkYXRlQ2FsbGJhY2tGYWlsdXJlLHIsdCxuLGksbyksaWRlbnRpZmllcjoiSXRlbSAnIitlLm5hbWUrIicsIHNpemU6ICIrZS5zaXplfSl9LDApO2Vsc2UgaWYoIWUpZm9yKDtuPHQubGVuZ3RoO24rKylyLl9maWxlT3JCbG9iUmVqZWN0ZWQodFtuXS5pZCl9LF9vbkFsbENvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fdG90YWxQcm9ncmVzcyYmdGhpcy5fdG90YWxQcm9ncmVzcy5vbkFsbENvbXBsZXRlKGUsdCx0aGlzLl9wcmV2ZW50UmV0cmllcyksdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25BbGxDb21wbGV0ZShxcS5leHRlbmQoW10sZSkscXEuZXh0ZW5kKFtdLHQpKSx0aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXSx0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXX0sX29uQXV0b1JldHJ5OmZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIHI9dGhpcztpZihyLl9wcmV2ZW50UmV0cmllc1tlXT1uW3IuX29wdGlvbnMucmV0cnkucHJldmVudFJldHJ5UmVzcG9uc2VQcm9wZXJ0eV0sci5fc2hvdWxkQXV0b1JldHJ5KGUpKXt2YXIgYT0xZTMqci5fb3B0aW9ucy5yZXRyeS5hdXRvQXR0ZW1wdERlbGF5O3JldHVybiByLl9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yLmFwcGx5KHIsYXJndW1lbnRzKSxyLl9vcHRpb25zLmNhbGxiYWNrcy5vbkF1dG9SZXRyeShlLHQsci5fYXV0b1JldHJpZXNbZV0pLHIuX29uQmVmb3JlQXV0b1JldHJ5KGUsdCksci5fdXBsb2FkRGF0YS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HKSxyLl9yZXRyeVRpbWVvdXRzW2VdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmxvZygiU3RhcnRpbmcgcmV0cnkgZm9yICIrdCsiLi4uIiksbz9vKGUpOnIuX2hhbmRsZXIucmV0cnkoZSl9LGEpLCEwfX0sX29uQmVmb3JlQXV0b1JldHJ5OmZ1bmN0aW9uKGUsdCl7dGhpcy5sb2coIldhaXRpbmcgIit0aGlzLl9vcHRpb25zLnJldHJ5LmF1dG9BdHRlbXB0RGVsYXkrIiBzZWNvbmRzIGJlZm9yZSByZXRyeWluZyAiK3QrIi4uLiIpfSxfb25CZWZvcmVNYW51YWxSZXRyeTpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQ7cmV0dXJuIHRoaXMuX3ByZXZlbnRSZXRyaWVzW2VdPyh0aGlzLmxvZygiUmV0cmllcyBhcmUgZm9yYmlkZGVuIGZvciBpZCAiK2UsIndhcm4iKSwhMSk6dGhpcy5faGFuZGxlci5pc1ZhbGlkKGUpPyh0PXRoaXMuZ2V0TmFtZShlKSx0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbk1hbnVhbFJldHJ5KGUsdCkhPT0hMSYmKG4+MCYmdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZCsxPm4/KHRoaXMuX2l0ZW1FcnJvcigicmV0cnlGYWlsVG9vTWFueUl0ZW1zIiksITEpOih0aGlzLmxvZygiUmV0cnlpbmcgdXBsb2FkIGZvciAnIit0KyInIChpZDogIitlKyIpLi4uIiksITApKSk6KHRoaXMubG9nKCInIitlKyInIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQiLCJlcnJvciIpLCExKX0sX29uQ2FuY2VsOmZ1bmN0aW9uKGUsdCl7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tLGNsZWFyVGltZW91dCh0aGlzLl9yZXRyeVRpbWVvdXRzW2VdKTt2YXIgbj1xcS5pbmRleE9mKHRoaXMuX3N0b3JlZElkcyxlKTshdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkJiZuPj0wJiZ0aGlzLl9zdG9yZWRJZHMuc3BsaWNlKG4sMSksdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuQ0FOQ0VMRUQpfSxfb25Db21wbGV0ZTpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbi5zdWNjZXNzPyhuLnRodW1ibmFpbFVybCYmKHRoaXMuX3RodW1ibmFpbFVybHNbZV09bi50aHVtYm5haWxVcmwpLHRoaXMuX25ldFVwbG9hZGVkKyssdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuVVBMT0FEX1NVQ0NFU1NGVUwpKToodGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tLHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKGUscXEuc3RhdHVzLlVQTE9BRF9GQUlMRUQpLG5bdGhpcy5fb3B0aW9ucy5yZXRyeS5wcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5XT09PSEwJiYodGhpcy5fcHJldmVudFJldHJpZXNbZV09ITApKSx0aGlzLl9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yKGUsdCxuLGkpLCEhbi5zdWNjZXNzfSxfb25EZWxldGU6ZnVuY3Rpb24oZSl7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuREVMRVRJTkcpfSxfb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5nZXROYW1lKGUpO24/dGhpcy5faGFuZGxlRGVsZXRlRmFpbGVkKGUsdCk6dGhpcy5faGFuZGxlRGVsZXRlU3VjY2VzcyhlKX0sX29uSW5wdXRDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYocXEuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZyl7Zm9yKHQ9MDt0PGUuZmlsZXMubGVuZ3RoO3QrKyl0aGlzLl9hbm5vdGF0ZVdpdGhCdXR0b25JZChlLmZpbGVzW3RdLGUpO3RoaXMuYWRkRmlsZXMoZS5maWxlcyl9ZWxzZSBlLnZhbHVlLmxlbmd0aD4wJiZ0aGlzLmFkZEZpbGVzKGUpO3FxLmVhY2godGhpcy5fYnV0dG9ucyxmdW5jdGlvbihlLHQpe3QucmVzZXQoKX0pfSxfb25Qcm9ncmVzczpmdW5jdGlvbihlLHQsbixpKXt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLm9uSW5kaXZpZHVhbFByb2dyZXNzKGUsbixpKX0sX29uU3VibWl0OmZ1bmN0aW9uKGUsdCl7fSxfb25TdWJtaXRDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24oZSx0KXt0aGlzLl9vblN1Ym1pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuU1VCTUlUVEVEKSx0aGlzLl9vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPyh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdXBsb2FkRmlsZShlKSk6KHRoaXMuX3N0b3JlRm9yTGF0ZXIoZSksdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXR0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sX29uU3VibWl0RGVsZXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvPXRoaXMuZ2V0VXVpZChlKTtyZXR1cm4gdCYmKGk9cXEuYmluZCh0LHRoaXMsZSxvLG4pKSx0aGlzLl9pc0RlbGV0ZVBvc3NpYmxlKCk/KHRoaXMuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25TdWJtaXREZWxldGUiLGNhbGxiYWNrOnFxLmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXREZWxldGUsdGhpcyxlKSxvblN1Y2Nlc3M6aXx8cXEuYmluZCh0aGlzLl9kZWxldGVIYW5kbGVyLnNlbmREZWxldGUsdGhpcyxlLG8sbiksaWRlbnRpZmllcjplfSksITApOih0aGlzLmxvZygiRGVsZXRlIHJlcXVlc3QgaWdub3JlZCBmb3IgSUQgIitlKyIsIGRlbGV0ZSBmZWF0dXJlIGlzIGRpc2FibGVkIG9yIHJlcXVlc3Qgbm90IHBvc3NpYmxlIGR1ZSB0byBDT1JTIG9uIGEgdXNlciBhZ2VudCB0aGF0IGRvZXMgbm90IHN1cHBvcnQgcHJlLWZsaWdodGluZy4iLCJ3YXJuIiksITEpfSxfb25TdWJtaXR0ZWQ6ZnVuY3Rpb24oZSl7fSxfb25Ub3RhbFByb2dyZXNzOmZ1bmN0aW9uKGUsdCl7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25Ub3RhbFByb2dyZXNzKGUsdCl9LF9vblVwbG9hZFByZXA6ZnVuY3Rpb24oZSl7fSxfb25VcGxvYWQ6ZnVuY3Rpb24oZSx0KXt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhlLHFxLnN0YXR1cy5VUExPQURJTkcpfSxfb25VcGxvYWRDaHVuazpmdW5jdGlvbihlLHQpe30sX29uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKGUsdCl7IXRoaXMuX3ByZXZlbnRSZXRyaWVzW2VdJiZ0aGlzLl9vcHRpb25zLnJldHJ5LmVuYWJsZUF1dG8mJih0aGlzLl9hdXRvUmV0cmllc1tlXT0wKX0sX29uVXBsb2FkU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKGUsdCxuKXtuPT09cXEuc3RhdHVzLlBBVVNFRCYmY2xlYXJUaW1lb3V0KHRoaXMuX3JldHJ5VGltZW91dHNbZV0pfSxfb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tGYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cXEuZWFjaChlLGZ1bmN0aW9uKGUsbil7dC5fZmlsZU9yQmxvYlJlamVjdGVkKG4uaWQpfSl9LF9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24oZSx0LG4saSxvKXt2YXIgcixhPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQscz10aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkOzA9PT1hfHxzPD1hP3QubGVuZ3RoPjA/dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlIixjYWxsYmFjazpxcS5iaW5kKHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uVmFsaWRhdGUsdGhpcyxlWzBdLG8pLG9uU3VjY2VzczpxcS5iaW5kKHRoaXMuX29uVmFsaWRhdGVDYWxsYmFja1N1Y2Nlc3MsdGhpcyx0LDAsbixpKSxvbkZhaWx1cmU6cXEuYmluZCh0aGlzLl9vblZhbGlkYXRlQ2FsbGJhY2tGYWlsdXJlLHRoaXMsdCwwLG4saSksaWRlbnRpZmllcjoiSXRlbSAnIit0WzBdLmZpbGUubmFtZSsiJywgc2l6ZTogIit0WzBdLmZpbGUuc2l6ZX0pOnRoaXMuX2l0ZW1FcnJvcigibm9GaWxlc0Vycm9yIik6KHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZSh0KSxyPXRoaXMuX29wdGlvbnMubWVzc2FnZXMudG9vTWFueUl0ZW1zRXJyb3IucmVwbGFjZSgvXHtuZXRJdGVtc1x9L2cscykucmVwbGFjZSgvXHtpdGVtTGltaXRcfS9nLGEpLHRoaXMuX2JhdGNoRXJyb3IocikpfSxfb25WYWxpZGF0ZUNhbGxiYWNrRmFpbHVyZTpmdW5jdGlvbihlLHQsbixpKXt2YXIgbz10KzE7dGhpcy5fZmlsZU9yQmxvYlJlamVjdGVkKGVbdF0uaWQsZVt0XS5maWxlLm5hbWUpLHRoaXMuX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2soITEsZSxvLG4saSl9LF9vblZhbGlkYXRlQ2FsbGJhY2tTdWNjZXNzOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvPXRoaXMscj10KzEsYT10aGlzLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcihlW3RdKTt0aGlzLl92YWxpZGF0ZUZpbGVPckJsb2JEYXRhKGVbdF0sYSkudGhlbihmdW5jdGlvbigpe28uX3VwbG9hZChlW3RdLmlkLG4saSksby5fbWF5YmVQcm9jZXNzTmV4dEl0ZW1BZnRlck9uVmFsaWRhdGVDYWxsYmFjayghMCxlLHIsbixpKX0sZnVuY3Rpb24oKXtvLl9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrKCExLGUscixuLGkpfSl9LF9wcmVwYXJlSXRlbXNGb3JVcGxvYWQ6ZnVuY3Rpb24oZSx0LG4pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLl9pdGVtRXJyb3IoIm5vRmlsZXNFcnJvciIpO3ZhciBpPXRoaXMuX2dldFZhbGlkYXRpb25EZXNjcmlwdG9ycyhlKSxvPXRoaXMuX2dldEJ1dHRvbklkKGVbMF0uZmlsZSkscj10aGlzLl9nZXRCdXR0b24obyk7dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlQmF0Y2giLGNhbGxiYWNrOnFxLmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25WYWxpZGF0ZUJhdGNoLHRoaXMsaSxyKSxvblN1Y2Nlc3M6cXEuYmluZCh0aGlzLl9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja1N1Y2Nlc3MsdGhpcyxpLGUsdCxuLHIpLG9uRmFpbHVyZTpxcS5iaW5kKHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZSx0aGlzLGUpLGlkZW50aWZpZXI6ImJhdGNoIHZhbGlkYXRpb24ifSl9LF9wcmV2ZW50TGVhdmVJblByb2dyZXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9kaXNwb3NlU3VwcG9ydC5hdHRhY2god2luZG93LCJiZWZvcmV1bmxvYWQiLGZ1bmN0aW9uKHQpe2lmKGUuZ2V0SW5Qcm9ncmVzcygpKXJldHVybiB0PXR8fHdpbmRvdy5ldmVudCx0LnJldHVyblZhbHVlPWUuX29wdGlvbnMubWVzc2FnZXMub25MZWF2ZSxlLl9vcHRpb25zLm1lc3NhZ2VzLm9uTGVhdmV9KX0sX3JlZnJlc2hTZXNzaW9uRGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9vcHRpb25zLnNlc3Npb247cXEuU2Vzc2lvbiYmbnVsbCE9dGhpcy5fb3B0aW9ucy5zZXNzaW9uLmVuZHBvaW50JiYodGhpcy5fc2Vzc2lvbnx8KHFxLmV4dGVuZCh0LHtjb3JzOnRoaXMuX29wdGlvbnMuY29yc30pLHQubG9nPXFxLmJpbmQodGhpcy5sb2csdGhpcyksdC5hZGRGaWxlUmVjb3JkPXFxLmJpbmQodGhpcy5fYWRkQ2FubmVkRmlsZSx0aGlzKSx0aGlzLl9zZXNzaW9uPW5ldyBxcS5TZXNzaW9uKHQpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fc2Vzc2lvbi5yZWZyZXNoKCkudGhlbihmdW5jdGlvbih0LG4pe2UuX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGUoKSxlLl9vcHRpb25zLmNhbGxiYWNrcy5vblNlc3Npb25SZXF1ZXN0Q29tcGxldGUodCwhMCxuKX0sZnVuY3Rpb24odCxuKXtlLl9vcHRpb25zLmNhbGxiYWNrcy5vblNlc3Npb25SZXF1ZXN0Q29tcGxldGUodCwhMSxuKX0pfSwwKSl9LF9zZXNzaW9uUmVxdWVzdENvbXBsZXRlOmZ1bmN0aW9uKCl7fSxfc2V0U2l6ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3VwbG9hZERhdGEudXBkYXRlU2l6ZShlLHQpLHRoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3Mub25OZXdTaXplKGUpfSxfc2hvdWxkQXV0b1JldHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOmV9KTtyZXR1cm4hISghdGhpcy5fcHJldmVudFJldHJpZXNbZV0mJnRoaXMuX29wdGlvbnMucmV0cnkuZW5hYmxlQXV0byYmdC5zdGF0dXMhPT1xcS5zdGF0dXMuUEFVU0VEJiYodm9pZCAwPT09dGhpcy5fYXV0b1JldHJpZXNbZV0mJih0aGlzLl9hdXRvUmV0cmllc1tlXT0wKSx0aGlzLl9hdXRvUmV0cmllc1tlXTx0aGlzLl9vcHRpb25zLnJldHJ5Lm1heEF1dG9BdHRlbXB0cykpJiYodGhpcy5fYXV0b1JldHJpZXNbZV0rPTEsITApfSxfc3RvcmVGb3JMYXRlcjpmdW5jdGlvbihlKXt0aGlzLl9zdG9yZWRJZHMucHVzaChlKX0sX3RyYWNrQnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0O3Q9cXEuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZz90aGlzLl9oYW5kbGVyLmdldEZpbGUoZSkucXFCdXR0b25JZDp0aGlzLl9nZXRCdXR0b25JZCh0aGlzLl9oYW5kbGVyLmdldElucHV0KGUpKSx0JiYodGhpcy5fYnV0dG9uSWRzRm9yRmlsZUlkc1tlXT10KX0sX3VwZGF0ZUZvcm1TdXBwb3J0QW5kUGFyYW1zOmZ1bmN0aW9uKGUpe3RoaXMuX29wdGlvbnMuZm9ybS5lbGVtZW50PWUsdGhpcy5fZm9ybVN1cHBvcnQ9cXEuRm9ybVN1cHBvcnQmJm5ldyBxcS5Gb3JtU3VwcG9ydCh0aGlzLl9vcHRpb25zLmZvcm0scXEuYmluZCh0aGlzLnVwbG9hZFN0b3JlZEZpbGVzLHRoaXMpLHFxLmJpbmQodGhpcy5sb2csdGhpcykpLHRoaXMuX2Zvcm1TdXBwb3J0JiZ0aGlzLl9mb3JtU3VwcG9ydC5hdHRhY2hlZFRvRm9ybSYmKHRoaXMuX3BhcmFtc1N0b3JlLmFkZFJlYWRPbmx5KG51bGwsdGhpcy5fZm9ybVN1cHBvcnQuZ2V0Rm9ybUlucHV0c0FzT2JqZWN0KSx0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQ9dGhpcy5fZm9ybVN1cHBvcnQubmV3QXV0b1VwbG9hZCx0aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCYmdGhpcy5zZXRFbmRwb2ludCh0aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCkpfSxfdXBsb2FkOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLmdldE5hbWUoZSk7dCYmdGhpcy5zZXRQYXJhbXModCxlKSxuJiZ0aGlzLnNldEVuZHBvaW50KG4sZSksdGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblN1Ym1pdCIsY2FsbGJhY2s6cXEuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdCx0aGlzLGUsaSksb25TdWNjZXNzOnFxLmJpbmQodGhpcy5fb25TdWJtaXRDYWxsYmFja1N1Y2Nlc3MsdGhpcyxlLGkpLG9uRmFpbHVyZTpxcS5iaW5kKHRoaXMuX2ZpbGVPckJsb2JSZWplY3RlZCx0aGlzLGUsaSksaWRlbnRpZmllcjplfSl9LF91cGxvYWRGaWxlOmZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZXIudXBsb2FkKGUpfHx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhlLHFxLnN0YXR1cy5RVUVVRUQpfSxfdXBsb2FkU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxuPXRoaXM7dGhpcy5fc3RvcmVkSWRzLmxlbmd0aDspZT10aGlzLl9zdG9yZWRJZHMuc2hpZnQoKSx0aGlzLl91cGxvYWRGaWxlKGUpO3Q9dGhpcy5nZXRVcGxvYWRzKHtzdGF0dXM6cXEuc3RhdHVzLlNVQk1JVFRJTkd9KS5sZW5ndGgsdCYmKHFxLmxvZygiU3RpbGwgd2FpdGluZyBmb3IgIit0KyIgZmlsZXMgdG8gY2xlYXIgc3VibWl0IHF1ZXVlLiBXaWxsIHJlLXBhcnNlIHN0b3JlZCBJRHMgYXJyYXkgc2hvcnRseS4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fdXBsb2FkU3RvcmVkRmlsZXMoKX0sMWUzKSl9LF92YWxpZGF0ZUZpbGVPckJsb2JEYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZmlsZSBpbnN0YW5jZW9mIHFxLkJsb2JQcm94eT9lLmZpbGUucmVmZXJlbmNlQmxvYjplLmZpbGV9KCksbz10Lm5hbWUscj10LnNpemUsYT10aGlzLl9nZXRCdXR0b25JZChlLmZpbGUpLHM9dGhpcy5fZ2V0VmFsaWRhdGlvbkJhc2UoYSksdT1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gdS50aGVuKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe24uX2ZpbGVPckJsb2JSZWplY3RlZChlLmlkLG8pfSkscXEuaXNGaWxlT3JJbnB1dChpKSYmIXRoaXMuX2lzQWxsb3dlZEV4dGVuc2lvbihzLmFsbG93ZWRFeHRlbnNpb25zLG8pPyh0aGlzLl9pdGVtRXJyb3IoInR5cGVFcnJvciIsbyxpKSx1LmZhaWx1cmUoKSk6dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLmFsbG93RW1wdHl8fDAhPT1yP3I+MCYmcy5zaXplTGltaXQmJnI+cy5zaXplTGltaXQ/KHRoaXMuX2l0ZW1FcnJvcigic2l6ZUVycm9yIixvLGkpLHUuZmFpbHVyZSgpKTpyPjAmJnI8cy5taW5TaXplTGltaXQ/KHRoaXMuX2l0ZW1FcnJvcigibWluU2l6ZUVycm9yIixvLGkpLHUuZmFpbHVyZSgpKToocXEuSW1hZ2VWYWxpZGF0aW9uJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzJiZxcS5pc0ZpbGUoaSk/bmV3IHFxLkltYWdlVmFsaWRhdGlvbihpLHFxLmJpbmQobi5sb2csbikpLnZhbGlkYXRlKHMuaW1hZ2UpLnRoZW4odS5zdWNjZXNzLGZ1bmN0aW9uKGUpe24uX2l0ZW1FcnJvcihlKyJJbWFnZUVycm9yIixvLGkpLHUuZmFpbHVyZSgpfSk6dS5zdWNjZXNzKCksdSk6KHRoaXMuX2l0ZW1FcnJvcigiZW1wdHlFcnJvciIsbyxpKSx1LmZhaWx1cmUoKSl9LF93cmFwQ2FsbGJhY2tzOmZ1bmN0aW9uKCl7dmFyIGUsdCxuO2U9dGhpcyx0PWZ1bmN0aW9uKHQsbixpKXt2YXIgbzt0cnl7cmV0dXJuIG4uYXBwbHkoZSxpKX1jYXRjaChuKXtvPW4ubWVzc2FnZXx8bi50b1N0cmluZygpLGUubG9nKCJDYXVnaHQgZXhjZXB0aW9uIGluICciK3QrIicgY2FsbGJhY2sgLSAiK28sImVycm9yIil9fTtmb3IobiBpbiB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcykhZnVuY3Rpb24oKXt2YXIgaSxvO2k9bixvPWUuX29wdGlvbnMuY2FsbGJhY2tzW2ldLGUuX29wdGlvbnMuY2FsbGJhY2tzW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHQoaSxvLGFyZ3VtZW50cyl9fSgpfX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7cXEuRmluZVVwbG9hZGVyQmFzaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9vcHRpb25zPXtkZWJ1ZzohMSxidXR0b246bnVsbCxtdWx0aXBsZTohMCxtYXhDb25uZWN0aW9uczozLGRpc2FibGVDYW5jZWxGb3JGb3JtVXBsb2FkczohMSxhdXRvVXBsb2FkOiEwLHdhcm5CZWZvcmVVbmxvYWQ6ITAscmVxdWVzdDp7Y3VzdG9tSGVhZGVyczp7fSxlbmRwb2ludDoiL3NlcnZlci91cGxvYWQiLGZpbGVuYW1lUGFyYW06InFxZmlsZW5hbWUiLGZvcmNlTXVsdGlwYXJ0OiEwLGlucHV0TmFtZToicXFmaWxlIixtZXRob2Q6IlBPU1QiLG9taXREZWZhdWx0UGFyYW1zOiExLHBhcmFtczp7fSxwYXJhbXNJbkJvZHk6ITAscmVxdWlyZVN1Y2Nlc3NKc29uOiEwLHRvdGFsRmlsZVNpemVOYW1lOiJxcXRvdGFsZmlsZXNpemUiLHV1aWROYW1lOiJxcXV1aWQifSx2YWxpZGF0aW9uOnthbGxvd2VkRXh0ZW5zaW9uczpbXSxzaXplTGltaXQ6MCxtaW5TaXplTGltaXQ6MCxpdGVtTGltaXQ6MCxzdG9wT25GaXJzdEludmFsaWRGaWxlOiEwLGFjY2VwdEZpbGVzOm51bGwsaW1hZ2U6e21heEhlaWdodDowLG1heFdpZHRoOjAsbWluSGVpZ2h0OjAsbWluV2lkdGg6MH0sYWxsb3dFbXB0eTohMX0sY2FsbGJhY2tzOntvblN1Ym1pdDpmdW5jdGlvbihlLHQpe30sb25TdWJtaXR0ZWQ6ZnVuY3Rpb24oZSx0KXt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oZSx0LG4saSl7fSxvbkFsbENvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7fSxvbkNhbmNlbDpmdW5jdGlvbihlLHQpe30sb25VcGxvYWQ6ZnVuY3Rpb24oZSx0KXt9LG9uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oZSx0LG4pe30sb25VcGxvYWRDaHVua1N1Y2Nlc3M6ZnVuY3Rpb24oZSx0LG4saSl7fSxvblJlc3VtZTpmdW5jdGlvbihlLHQsbixpKXt9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24oZSx0LG4saSl7fSxvblRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oZSx0KXt9LG9uRXJyb3I6ZnVuY3Rpb24oZSx0LG4saSl7fSxvbkF1dG9SZXRyeTpmdW5jdGlvbihlLHQsbil7fSxvbk1hbnVhbFJldHJ5OmZ1bmN0aW9uKGUsdCl7fSxvblZhbGlkYXRlQmF0Y2g6ZnVuY3Rpb24oZSl7fSxvblZhbGlkYXRlOmZ1bmN0aW9uKGUpe30sb25TdWJtaXREZWxldGU6ZnVuY3Rpb24oZSl7fSxvbkRlbGV0ZTpmdW5jdGlvbihlKXt9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24oZSx0LG4pe30sb25QYXN0ZVJlY2VpdmVkOmZ1bmN0aW9uKGUpe30sb25TdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oZSx0LG4pe30sb25TZXNzaW9uUmVxdWVzdENvbXBsZXRlOmZ1bmN0aW9uKGUsdCxuKXt9fSxtZXNzYWdlczp7dHlwZUVycm9yOiJ7ZmlsZX0gaGFzIGFuIGludmFsaWQgZXh0ZW5zaW9uLiBWYWxpZCBleHRlbnNpb24ocyk6IHtleHRlbnNpb25zfS4iLHNpemVFcnJvcjoie2ZpbGV9IGlzIHRvbyBsYXJnZSwgbWF4aW11bSBmaWxlIHNpemUgaXMge3NpemVMaW1pdH0uIixtaW5TaXplRXJyb3I6IntmaWxlfSBpcyB0b28gc21hbGwsIG1pbmltdW0gZmlsZSBzaXplIGlzIHttaW5TaXplTGltaXR9LiIsZW1wdHlFcnJvcjoie2ZpbGV9IGlzIGVtcHR5LCBwbGVhc2Ugc2VsZWN0IGZpbGVzIGFnYWluIHdpdGhvdXQgaXQuIixub0ZpbGVzRXJyb3I6Ik5vIGZpbGVzIHRvIHVwbG9hZC4iLHRvb01hbnlJdGVtc0Vycm9yOiJUb28gbWFueSBpdGVtcyAoe25ldEl0ZW1zfSkgd291bGQgYmUgdXBsb2FkZWQuICBJdGVtIGxpbWl0IGlzIHtpdGVtTGltaXR9LiIsbWF4SGVpZ2h0SW1hZ2VFcnJvcjoiSW1hZ2UgaXMgdG9vIHRhbGwuIixtYXhXaWR0aEltYWdlRXJyb3I6IkltYWdlIGlzIHRvbyB3aWRlLiIsbWluSGVpZ2h0SW1hZ2VFcnJvcjoiSW1hZ2UgaXMgbm90IHRhbGwgZW5vdWdoLiIsbWluV2lkdGhJbWFnZUVycm9yOiJJbWFnZSBpcyBub3Qgd2lkZSBlbm91Z2guIixyZXRyeUZhaWxUb29NYW55SXRlbXM6IlJldHJ5IGZhaWxlZCAtIHlvdSBoYXZlIHJlYWNoZWQgeW91ciBmaWxlIGxpbWl0LiIsb25MZWF2ZToiVGhlIGZpbGVzIGFyZSBiZWluZyB1cGxvYWRlZCwgaWYgeW91IGxlYXZlIG5vdyB0aGUgdXBsb2FkIHdpbGwgYmUgY2FuY2VsZWQuIix1bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpOiJVbnJlY292ZXJhYmxlIGVycm9yIC0gdGhpcyBicm93c2VyIGRvZXMgbm90IHBlcm1pdCBmaWxlIHVwbG9hZGluZyBvZiBhbnkga2luZCBkdWUgdG8gc2VyaW91cyBidWdzIGluIGlPUzggU2FmYXJpLiAgUGxlYXNlIHVzZSBpT1M4IENocm9tZSB1bnRpbCBBcHBsZSBmaXhlcyB0aGVzZSBpc3N1ZXMuIn0scmV0cnk6e2VuYWJsZUF1dG86ITEsbWF4QXV0b0F0dGVtcHRzOjMsYXV0b0F0dGVtcHREZWxheTo1LHByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHk6InByZXZlbnRSZXRyeSJ9LGNsYXNzZXM6e2J1dHRvbkhvdmVyOiJxcS11cGxvYWQtYnV0dG9uLWhvdmVyIixidXR0b25Gb2N1czoicXEtdXBsb2FkLWJ1dHRvbi1mb2N1cyJ9LGNodW5raW5nOntlbmFibGVkOiExLGNvbmN1cnJlbnQ6e2VuYWJsZWQ6ITF9LG1hbmRhdG9yeTohMSxwYXJhbU5hbWVzOntwYXJ0SW5kZXg6InFxcGFydGluZGV4IixwYXJ0Qnl0ZU9mZnNldDoicXFwYXJ0Ynl0ZW9mZnNldCIsY2h1bmtTaXplOiJxcWNodW5rc2l6ZSIsdG90YWxGaWxlU2l6ZToicXF0b3RhbGZpbGVzaXplIix0b3RhbFBhcnRzOiJxcXRvdGFscGFydHMifSxwYXJ0U2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gMmU2fSxzdWNjZXNzOntlbmRwb2ludDpudWxsLGhlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGpzb25QYXlsb2FkOiExLG1ldGhvZDoiUE9TVCIscGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxyZXNldE9uU3RhdHVzOltdfX0scmVzdW1lOntlbmFibGVkOiExLHJlY29yZHNFeHBpcmVJbjo3LHBhcmFtTmFtZXM6e3Jlc3VtaW5nOiJxcXJlc3VtZSJ9LGN1c3RvbUtleXM6ZnVuY3Rpb24oZSl7cmV0dXJuW119fSxmb3JtYXRGaWxlTmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gZX0sdGV4dDp7ZGVmYXVsdFJlc3BvbnNlRXJyb3I6IlVwbG9hZCBmYWlsdXJlIHJlYXNvbiB1bmtub3duIixmaWxlSW5wdXRUaXRsZToiZmlsZSBpbnB1dCIsc2l6ZVN5bWJvbHM6WyJrQiIsIk1CIiwiR0IiLCJUQiIsIlBCIiwiRUIiXX0sZGVsZXRlRmlsZTp7ZW5hYmxlZDohMSxtZXRob2Q6IkRFTEVURSIsZW5kcG9pbnQ6Ii9zZXJ2ZXIvdXBsb2FkIixjdXN0b21IZWFkZXJzOnt9LHBhcmFtczp7fX0sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExLGFsbG93WGRyOiExfSxibG9iczp7ZGVmYXVsdE5hbWU6Im1pc2NfZGF0YSJ9LHBhc3RlOnt0YXJnZXRFbGVtZW50Om51bGwsZGVmYXVsdE5hbWU6InBhc3RlZF9pbWFnZSJ9LGNhbWVyYTp7aW9zOiExLGJ1dHRvbjpudWxsfSxleHRyYUJ1dHRvbnM6W10sc2Vzc2lvbjp7ZW5kcG9pbnQ6bnVsbCxwYXJhbXM6e30sY3VzdG9tSGVhZGVyczp7fSxyZWZyZXNoT25SZXNldDohMH0sZm9ybTp7ZWxlbWVudDoicXEtZm9ybSIsYXV0b1VwbG9hZDohMSxpbnRlcmNlcHRTdWJtaXQ6ITB9LHNjYWxpbmc6e2N1c3RvbVJlc2l6ZXI6bnVsbCxzZW5kT3JpZ2luYWw6ITAsb3JpZW50OiEwLGRlZmF1bHRUeXBlOm51bGwsZGVmYXVsdFF1YWxpdHk6ODAsZmFpbHVyZVRleHQ6IkZhaWxlZCB0byBzY2FsZSIsaW5jbHVkZUV4aWY6ITEsc2l6ZXM6W119LHdvcmthcm91bmRzOntpb3NFbXB0eVZpZGVvczohMCxpb3M4U2FmYXJpVXBsb2FkczohMCxpb3M4QnJvd3NlckNyYXNoOiExfX0scXEuZXh0ZW5kKHRoaXMuX29wdGlvbnMsZSwhMCksdGhpcy5fYnV0dG9ucz1bXSx0aGlzLl9leHRyYUJ1dHRvblNwZWNzPXt9LHRoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHM9W10sdGhpcy5fd3JhcENhbGxiYWNrcygpLHRoaXMuX2Rpc3Bvc2VTdXBwb3J0PW5ldyBxcS5EaXNwb3NlU3VwcG9ydCx0aGlzLl9zdG9yZWRJZHM9W10sdGhpcy5fYXV0b1JldHJpZXM9W10sdGhpcy5fcmV0cnlUaW1lb3V0cz1bXSx0aGlzLl9wcmV2ZW50UmV0cmllcz1bXSx0aGlzLl90aHVtYm5haWxVcmxzPVtdLHRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ9MCx0aGlzLl9uZXRVcGxvYWRlZD0wLHRoaXMuX3VwbG9hZERhdGE9dGhpcy5fY3JlYXRlVXBsb2FkRGF0YVRyYWNrZXIoKSx0aGlzLl9pbml0Rm9ybVN1cHBvcnRBbmRQYXJhbXMoKSx0aGlzLl9jdXN0b21IZWFkZXJzU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmN1c3RvbUhlYWRlcnMpLHRoaXMuX2RlbGV0ZUZpbGVDdXN0b21IZWFkZXJzU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmN1c3RvbUhlYWRlcnMpLHRoaXMuX2RlbGV0ZUZpbGVQYXJhbXNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUucGFyYW1zKSx0aGlzLl9lbmRwb2ludFN0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5lbmRwb2ludCksdGhpcy5fZGVsZXRlRmlsZUVuZHBvaW50U3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmVuZHBvaW50KSx0aGlzLl9oYW5kbGVyPXRoaXMuX2NyZWF0ZVVwbG9hZEhhbmRsZXIoKSx0aGlzLl9kZWxldGVIYW5kbGVyPXFxLkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyJiZ0aGlzLl9jcmVhdGVEZWxldGVIYW5kbGVyKCksdGhpcy5fb3B0aW9ucy5idXR0b24mJih0aGlzLl9kZWZhdWx0QnV0dG9uSWQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHtlbGVtZW50OnRoaXMuX29wdGlvbnMuYnV0dG9uLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpLHRoaXMuX2dlbmVyYXRlRXh0cmFCdXR0b25TcGVjcygpLHRoaXMuX2hhbmRsZUNhbWVyYUFjY2VzcygpLHRoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCYmKHFxLlBhc3RlU3VwcG9ydD90aGlzLl9wYXN0ZUhhbmRsZXI9dGhpcy5fY3JlYXRlUGFzdGVIYW5kbGVyKCk6dGhpcy5sb2coIlBhc3RlIHN1cHBvcnQgbW9kdWxlIG5vdCBmb3VuZCIsImVycm9yIikpLHRoaXMuX29wdGlvbnMud2FybkJlZm9yZVVubG9hZCYmdGhpcy5fcHJldmVudExlYXZlSW5Qcm9ncmVzcygpLHRoaXMuX2ltYWdlR2VuZXJhdG9yPXFxLkltYWdlR2VuZXJhdG9yJiZuZXcgcXEuSW1hZ2VHZW5lcmF0b3IocXEuYmluZCh0aGlzLmxvZyx0aGlzKSksdGhpcy5fcmVmcmVzaFNlc3Npb25EYXRhKCksdGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W10sdGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W10sdGhpcy5fc2NhbGVyPXFxLlNjYWxlciYmbmV3IHFxLlNjYWxlcih0aGlzLl9vcHRpb25zLnNjYWxpbmcscXEuYmluZCh0aGlzLmxvZyx0aGlzKSl8fHt9LHRoaXMuX3NjYWxlci5lbmFibGVkJiYodGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI9cXEuYmluZCh0aGlzLl9zY2FsZXIuaGFuZGxlTmV3RmlsZSx0aGlzLl9zY2FsZXIpKSxxcS5Ub3RhbFByb2dyZXNzJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5wcm9ncmVzc0JhciYmKHRoaXMuX3RvdGFsUHJvZ3Jlc3M9bmV3IHFxLlRvdGFsUHJvZ3Jlc3MocXEuYmluZCh0aGlzLl9vblRvdGFsUHJvZ3Jlc3MsdGhpcyksZnVuY3Rpb24oZSl7dmFyIG49dC5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6ZX0pO3JldHVybiBuJiZuLnNpemV8fDB9KSksdGhpcy5fY3VycmVudEl0ZW1MaW1pdD10aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uaXRlbUxpbWl0LHRoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSgpfSxxcS5GaW5lVXBsb2FkZXJCYXNpYy5wcm90b3R5cGU9cXEuYmFzZVB1YmxpY0FwaSxxcS5leHRlbmQocXEuRmluZVVwbG9hZGVyQmFzaWMucHJvdG90eXBlLHFxLmJhc2VQcml2YXRlQXBpKX0oKSxxcS5BamF4UmVxdWVzdGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7cmV0dXJuIHFxLmluZGV4T2YoWyJHRVQiLCJQT1NUIiwiSEVBRCJdLFMubWV0aG9kKT49MH1mdW5jdGlvbiBuKGUpe3ZhciB0PSExO3JldHVybiBxcS5lYWNoKHQsZnVuY3Rpb24oZSxuKXtpZihxcS5pbmRleE9mKFsiQWNjZXB0IiwiQWNjZXB0LUxhbmd1YWdlIiwiQ29udGVudC1MYW5ndWFnZSIsIkNvbnRlbnQtVHlwZSJdLG4pPDApcmV0dXJuIHQ9ITAsITF9KSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIFMuY29ycy5leHBlY3RlZCYmdm9pZCAwPT09ZS53aXRoQ3JlZGVudGlhbHN9ZnVuY3Rpb24gbygpe3ZhciBlO3JldHVybih3aW5kb3cuWE1MSHR0cFJlcXVlc3R8fHdpbmRvdy5BY3RpdmVYT2JqZWN0KSYmKGU9cXEuY3JlYXRlWGhySW5zdGFuY2UoKSx2b2lkIDA9PT1lLndpdGhDcmVkZW50aWFscyYmKGU9bmV3IFhEb21haW5SZXF1ZXN0LGUub25sb2FkPWZ1bmN0aW9uKCl7fSxlLm9uZXJyb3I9ZnVuY3Rpb24oKXt9LGUub250aW1lb3V0PWZ1bmN0aW9uKCl7fSxlLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9KSksZX1mdW5jdGlvbiByKGUsdCl7dmFyIG49eVtlXSYmeVtlXS54aHI7cmV0dXJuIG58fChuPXQ/dDpTLmNvcnMuZXhwZWN0ZWQ/bygpOnFxLmNyZWF0ZVhockluc3RhbmNlKCkseVtlXS54aHI9biksbn1mdW5jdGlvbiBhKGUpe3ZhciB0LG49cXEuaW5kZXhPZihiLGUpLGk9Uy5tYXhDb25uZWN0aW9ucztkZWxldGUgeVtlXSxiLnNwbGljZShuLDEpLGIubGVuZ3RoPj1pJiZuPGkmJih0PWJbaS0xXSxsKHQpKX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49cihlKSxvPVMubWV0aG9kLHM9dD09PSEwO2EoZSkscz9fKG8rIiByZXF1ZXN0IGZvciAiK2UrIiBoYXMgZmFpbGVkIiwiZXJyb3IiKTppKG4pfHxtKG4uc3RhdHVzKXx8KHM9ITAsXyhvKyIgcmVxdWVzdCBmb3IgIitlKyIgaGFzIGZhaWxlZCAtIHJlc3BvbnNlIGNvZGUgIituLnN0YXR1cywiZXJyb3IiKSksUy5vbkNvbXBsZXRlKGUsbixzKX1mdW5jdGlvbiB1KGUpe3ZhciB0LG49eVtlXS5hZGRpdGlvbmFsUGFyYW1zLGk9Uy5tYW5kYXRlZFBhcmFtcztyZXR1cm4gUy5wYXJhbXNTdG9yZS5nZXQmJih0PVMucGFyYW1zU3RvcmUuZ2V0KGUpKSxuJiZxcS5lYWNoKG4sZnVuY3Rpb24oZSxuKXt0PXR8fHt9LHRbZV09bn0pLGkmJnFxLmVhY2goaSxmdW5jdGlvbihlLG4pe3Q9dHx8e30sdFtlXT1ufSksdH1mdW5jdGlvbiBsKGUsdCl7dmFyIG4sbz1yKGUsdCksYT1TLm1ldGhvZCxzPXUoZSksbD15W2VdLnBheWxvYWQ7cmV0dXJuIFMub25TZW5kKGUpLG49YyhlLHMseVtlXS5hZGRpdGlvbmFsUXVlcnlQYXJhbXMpLGkobyk/KG8ub25sb2FkPWgoZSksby5vbmVycm9yPWYoZSkpOm8ub25yZWFkeXN0YXRlY2hhbmdlPWQoZSkscChlKSxvLm9wZW4oYSxuLCEwKSxTLmNvcnMuZXhwZWN0ZWQmJlMuY29ycy5zZW5kQ3JlZGVudGlhbHMmJiFpKG8pJiYoby53aXRoQ3JlZGVudGlhbHM9ITApLHEoZSksXygiU2VuZGluZyAiK2ErIiByZXF1ZXN0IGZvciAiK2UpLGw/by5zZW5kKGwpOnZ8fCFzP28uc2VuZCgpOnMmJlMuY29udGVudFR5cGUmJlMuY29udGVudFR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKT49MD9vLnNlbmQocXEub2JqMnVybChzLCIiKSk6cyYmUy5jb250ZW50VHlwZSYmUy5jb250ZW50VHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKT49MD9vLnNlbmQoSlNPTi5zdHJpbmdpZnkocykpOm8uc2VuZChzKSxvfWZ1bmN0aW9uIGMoZSx0LG4pe3ZhciBpPVMuZW5kcG9pbnRTdG9yZS5nZXQoZSksbz15W2VdLmFkZFRvUGF0aDtyZXR1cm4gdm9pZCAwIT1vJiYoaSs9Ii8iK28pLHYmJnQmJihpPXFxLm9iajJ1cmwodCxpKSksbiYmKGk9cXEub2JqMnVybChuLGkpKSxpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7ND09PXIoZSkucmVhZHlTdGF0ZSYmcyhlKX19ZnVuY3Rpb24gcChlKXt2YXIgdD1TLm9uUHJvZ3Jlc3M7dCYmKHIoZSkudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24obil7bi5sZW5ndGhDb21wdXRhYmxlJiZ0KGUsbi5sb2FkZWQsbi50b3RhbCl9KX1mdW5jdGlvbiBoKGUpe3JldHVybiBmdW5jdGlvbigpe3MoZSl9fWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cyhlLCEwKX19ZnVuY3Rpb24gcShlKXt2YXIgbz1yKGUpLGE9Uy5jdXN0b21IZWFkZXJzLHM9eVtlXS5hZGRpdGlvbmFsSGVhZGVyc3x8e30sdT1TLm1ldGhvZCxsPXt9O2kobyl8fChTLmFjY2VwdEhlYWRlciYmby5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLFMuYWNjZXB0SGVhZGVyKSxTLmFsbG93WFJlcXVlc3RlZFdpdGhBbmRDYWNoZUNvbnRyb2wmJihTLmNvcnMuZXhwZWN0ZWQmJnQoKSYmIW4oYSl8fChvLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLG8uc2V0UmVxdWVzdEhlYWRlcigiQ2FjaGUtQ29udHJvbCIsIm5vLWNhY2hlIikpKSwhUy5jb250ZW50VHlwZXx8IlBPU1QiIT09dSYmIlBVVCIhPT11fHxvLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsUy5jb250ZW50VHlwZSkscXEuZXh0ZW5kKGwscXEuaXNGdW5jdGlvbihhKT9hKGUpOmEpLHFxLmV4dGVuZChsLHMpLHFxLmVhY2gobCxmdW5jdGlvbihlLHQpe28uc2V0UmVxdWVzdEhlYWRlcihlLHQpfSkpfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIHFxLmluZGV4T2YoUy5zdWNjZXNzZnVsUmVzcG9uc2VDb2Rlc1tTLm1ldGhvZF0sZSk+PTB9ZnVuY3Rpb24gZyhlLHQsbixpLG8scixhKXtpZih5W2VdPXthZGRUb1BhdGg6bixhZGRpdGlvbmFsUGFyYW1zOmksYWRkaXRpb25hbFF1ZXJ5UGFyYW1zOm8sYWRkaXRpb25hbEhlYWRlcnM6cixwYXlsb2FkOmF9LGIucHVzaChlKTw9Uy5tYXhDb25uZWN0aW9ucylyZXR1cm4gbChlLHQpfXZhciBfLHYsYj1bXSx5PXt9LFM9e2FjY2VwdEhlYWRlcjpudWxsLHZhbGlkTWV0aG9kczpbIlBBVENIIiwiUE9TVCIsIlBVVCJdLG1ldGhvZDoiUE9TVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsbWF4Q29ubmVjdGlvbnM6MyxjdXN0b21IZWFkZXJzOnt9LGVuZHBvaW50U3RvcmU6e30scGFyYW1zU3RvcmU6e30sbWFuZGF0ZWRQYXJhbXM6e30sYWxsb3dYUmVxdWVzdGVkV2l0aEFuZENhY2hlQ29udHJvbDohMCxzdWNjZXNzZnVsUmVzcG9uc2VDb2Rlczp7REVMRVRFOlsyMDAsMjAyLDIwNF0sUEFUQ0g6WzIwMCwyMDEsMjAyLDIwMywyMDRdLFBPU1Q6WzIwMCwyMDEsMjAyLDIwMywyMDRdLFBVVDpbMjAwLDIwMSwyMDIsMjAzLDIwNF0sR0VUOlsyMDBdfSxjb3JzOntleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LGxvZzpmdW5jdGlvbihlLHQpe30sb25TZW5kOmZ1bmN0aW9uKGUpe30sb25Db21wbGV0ZTpmdW5jdGlvbihlLHQsbil7fSxvblByb2dyZXNzOm51bGx9O2lmKHFxLmV4dGVuZChTLGUpLF89Uy5sb2cscXEuaW5kZXhPZihTLnZhbGlkTWV0aG9kcyxTLm1ldGhvZCk8MCl0aHJvdyBuZXcgRXJyb3IoIiciK1MubWV0aG9kKyInIGlzIG5vdCBhIHN1cHBvcnRlZCBtZXRob2QgZm9yIHRoaXMgdHlwZSBvZiByZXF1ZXN0ISIpO3Y9IkdFVCI9PT1TLm1ldGhvZHx8IkRFTEVURSI9PT1TLm1ldGhvZCxxcS5leHRlbmQodGhpcyx7aW5pdFRyYW5zcG9ydDpmdW5jdGlvbihlKXt2YXIgdCxuLGksbyxyLGE7cmV0dXJue3dpdGhQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiB0PWUsdGhpc30sd2l0aFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gbj1lLHRoaXN9LHdpdGhRdWVyeVBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gYT1lLHRoaXN9LHdpdGhIZWFkZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBpPWUsdGhpc30sd2l0aFBheWxvYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG89ZSx0aGlzfSx3aXRoQ2FjaGVCdXN0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcj0hMCx0aGlzfSxzZW5kOmZ1bmN0aW9uKHMpe3JldHVybiByJiZxcS5pbmRleE9mKFsiR0VUIiwiREVMRVRFIl0sUy5tZXRob2QpPj0wJiYobi5xcXRpbWVzdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSksZyhlLHMsdCxuLGEsaSxvKX19fSxjYW5jZWxlZDpmdW5jdGlvbihlKXthKGUpfX0pfSxxcS5VcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLnByb3h5LG49e30saT10Lm9uQ2FuY2VsLG89dC5nZXROYW1lO3FxLmV4dGVuZCh0aGlzLHthZGQ6ZnVuY3Rpb24oZSx0KXtuW2VdPXQsbltlXS50ZW1wPXt9fSxjYW5jZWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW5ldyBxcS5Qcm9taXNlO2koZSxvKGUpLHIpLnRoZW4oZnVuY3Rpb24oKXt0LmlzVmFsaWQoZSkmJihuW2VdLmNhbmNlbGVkPSEwLHQuZXhwdW5nZShlKSksci5zdWNjZXNzKCl9KX0sZXhwdW5nZTpmdW5jdGlvbihlKXtkZWxldGUgbltlXX0sZ2V0VGhpcmRQYXJ0eUZpbGVJZDpmdW5jdGlvbihlKXtyZXR1cm4gbltlXS5rZXl9LGlzVmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PW5bZV19LHJlc2V0OmZ1bmN0aW9uKCl7bj17fX0sX2dldEZpbGVTdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0sX3NldFRoaXJkUGFydHlGaWxlSWQ6ZnVuY3Rpb24oZSx0KXtuW2VdLmtleT10fSxfd2FzQ2FuY2VsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFuW2VdLmNhbmNlbGVkfX0pfSxxcS5VcGxvYWRIYW5kbGVyQ29udHJvbGxlcj1mdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixpLG8scj10aGlzLGE9ITEscz0hMSx1PXtwYXJhbXNTdG9yZTp7fSxtYXhDb25uZWN0aW9uczozLGNodW5raW5nOntlbmFibGVkOiExLG11bHRpcGxlOntlbmFibGVkOiExfX0sbG9nOmZ1bmN0aW9uKGUsdCl7fSxvblByb2dyZXNzOmZ1bmN0aW9uKGUsdCxuLGkpe30sb25Db21wbGV0ZTpmdW5jdGlvbihlLHQsbixpKXt9LG9uQ2FuY2VsOmZ1bmN0aW9uKGUsdCl7fSxvblVwbG9hZFByZXA6ZnVuY3Rpb24oZSl7fSxvblVwbG9hZDpmdW5jdGlvbihlLHQpe30sb25VcGxvYWRDaHVuazpmdW5jdGlvbihlLHQsbil7fSxvblVwbG9hZENodW5rU3VjY2VzczpmdW5jdGlvbihlLHQsbixpKXt9LG9uQXV0b1JldHJ5OmZ1bmN0aW9uKGUsdCxuLGkpe30sb25SZXN1bWU6ZnVuY3Rpb24oZSx0LG4saSl7fSxvblV1aWRDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7fSxnZXROYW1lOmZ1bmN0aW9uKGUpe30sc2V0U2l6ZTpmdW5jdGlvbihlLHQpe30saXNRdWV1ZWQ6ZnVuY3Rpb24oZSl7fSxnZXRJZHNJblByb3h5R3JvdXA6ZnVuY3Rpb24oZSl7fSxnZXRJZHNJbkJhdGNoOmZ1bmN0aW9uKGUpe30saXNJblByb2dyZXNzOmZ1bmN0aW9uKGUpe319LGw9e2RvbmU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9by5fZ2V0Q2h1bmtEYXRhKGUsdCk7by5fZ2V0RmlsZVN0YXRlKGUpLmF0dGVtcHRpbmdSZXN1bWU9ITEsZGVsZXRlIG8uX2dldEZpbGVTdGF0ZShlKS50ZW1wLmNodW5rUHJvZ3Jlc3NbdF0sby5fZ2V0RmlsZVN0YXRlKGUpLmxvYWRlZCs9ci5zaXplLHUub25VcGxvYWRDaHVua1N1Y2Nlc3MoZSxvLl9nZXRDaHVua0RhdGFGb3JDYWxsYmFjayhyKSxuLGkpfSxmaW5hbGl6ZTpmdW5jdGlvbihlKXt2YXIgdD11LmdldFNpemUoZSksbj11LmdldE5hbWUoZSk7aSgiQWxsIGNodW5rcyBoYXZlIGJlZW4gdXBsb2FkZWQgZm9yICIrZSsiIC0gZmluYWxpemluZy4uLi4iKSxvLmZpbmFsaXplQ2h1bmtzKGUpLnRoZW4oZnVuY3Rpb24ocixhKXtpKCJGaW5hbGl6ZSBzdWNjZXNzZnVsIGZvciAiK2UpO3ZhciBzPXAubm9ybWFsaXplUmVzcG9uc2UociwhMCk7dS5vblByb2dyZXNzKGUsbix0LHQpLG8uX21heWJlRGVsZXRlUGVyc2lzdGVkQ2h1bmtEYXRhKGUpLHAuY2xlYW51cChlLHMsYSl9LGZ1bmN0aW9uKHQsbyl7dmFyIHI9cC5ub3JtYWxpemVSZXNwb25zZSh0LCExKTtpKCJQcm9ibGVtIGZpbmFsaXppbmcgY2h1bmtzIGZvciBmaWxlIElEICIrZSsiIC0gIityLmVycm9yLCJlcnJvciIpLChyLnJlc2V0fHxvJiZ1LmNodW5raW5nLnN1Y2Nlc3MucmVzZXRPblN0YXR1cy5pbmRleE9mKG8uc3RhdHVzKT49MCkmJmwucmVzZXQoZSksdS5vbkF1dG9SZXRyeShlLG4scixvKXx8cC5jbGVhbnVwKGUscixvKX0pfSxoYW5kbGVGYWlsdXJlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPXUuZ2V0TmFtZSh0KTtpKCJDaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZhaWxlZCBmb3IgIit0KyIsIGNodW5rICIrZSksby5jbGVhckNhY2hlZENodW5rKHQsZSk7dmFyIGQsaD1wLm5vcm1hbGl6ZVJlc3BvbnNlKG4sITEpO2lmKGgucmVzZXQpbC5yZXNldCh0KTtlbHNle3ZhciBmPW8uX2dldEZpbGVTdGF0ZSh0KS5jaHVua2luZy5pblByb2dyZXNzO2Q9Zj9xcS5pbmRleE9mKGYsZSk6LTEsZD49MCYmKG8uX2dldEZpbGVTdGF0ZSh0KS5jaHVua2luZy5pblByb2dyZXNzLnNwbGljZShkLDEpLG8uX2dldEZpbGVTdGF0ZSh0KS5jaHVua2luZy5yZW1haW5pbmcudW5zaGlmdChlKSl9by5fZ2V0RmlsZVN0YXRlKHQpLnRlbXAuaWdub3JlRmFpbHVyZXx8KHMmJihvLl9nZXRGaWxlU3RhdGUodCkudGVtcC5pZ25vcmVGYWlsdXJlPSEwLGkocXEuZm9ybWF0KCJHb2luZyB0byBhdHRlbXB0IHRvIGFib3J0IHRoZXNlIGNodW5rczoge30uIFRoZXNlIGFyZSBjdXJyZW50bHkgaW4tcHJvZ3Jlc3M6IHt9LiIsSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoby5fZ2V0WGhycyh0KSkpLEpTT04uc3RyaW5naWZ5KG8uX2dldEZpbGVTdGF0ZSh0KS5jaHVua2luZy5pblByb2dyZXNzKSkpLHFxLmVhY2goby5fZ2V0WGhycyh0KSxmdW5jdGlvbihlLG4pe2kocXEuZm9ybWF0KCJBdHRlbXB0aW5nIHRvIGFib3J0IGZpbGUge30ue30uIFhIUiByZWFkeVN0YXRlIHt9LiAiLHQsZSxuLnJlYWR5U3RhdGUpKSxuLmFib3J0KCksbi5fY2FuY2VsbGVkPSEwfSksby5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKHQpLGMuZnJlZSh0LCEwKSksdS5vbkF1dG9SZXRyeSh0LGEsaCxyKXx8cC5jbGVhbnVwKHQsaCxyKSl9LGhhc01vcmVQYXJ0czpmdW5jdGlvbihlKXtyZXR1cm4hIW8uX2dldEZpbGVTdGF0ZShlKS5jaHVua2luZy5yZW1haW5pbmcubGVuZ3RofSxuZXh0UGFydDpmdW5jdGlvbihlKXt2YXIgdD1vLl9nZXRGaWxlU3RhdGUoZSkuY2h1bmtpbmcucmVtYWluaW5nLnNoaWZ0KCk7cmV0dXJuIHQ+PW8uX2dldFRvdGFsQ2h1bmtzKGUpJiYodD1udWxsKSx0fSxyZXNldDpmdW5jdGlvbihlKXsNCmkoIlNlcnZlciBvciBjYWxsYmFjayBoYXMgb3JkZXJlZCBjaHVua2luZyBlZmZvcnQgdG8gYmUgcmVzdGFydGVkIG9uIG5leHQgYXR0ZW1wdCBmb3IgaXRlbSBJRCAiK2UsImVycm9yIiksby5fbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGEoZSksby5yZWV2YWx1YXRlQ2h1bmtpbmcoZSksby5fZ2V0RmlsZVN0YXRlKGUpLmxvYWRlZD0wLG8uX2dldEZpbGVTdGF0ZShlKS5hdHRlbXB0aW5nUmVzdW1lPSExfSxzZW5kTmV4dDpmdW5jdGlvbihlKXt2YXIgdD11LmdldFNpemUoZSksbj11LmdldE5hbWUoZSkscj1sLm5leHRQYXJ0KGUpLGE9by5fZ2V0Q2h1bmtEYXRhKGUsciksZD1vLl9nZXRGaWxlU3RhdGUoZSksaD1kLmF0dGVtcHRpbmdSZXN1bWUsZj1kLmNodW5raW5nLmluUHJvZ3Jlc3N8fFtdO2lmKG51bGw9PWQubG9hZGVkJiYoZC5sb2FkZWQ9MCksaCYmdS5vblJlc3VtZShlLG4sYSxkLmN1c3RvbVJlc3VtZURhdGEpPT09ITEmJihsLnJlc2V0KGUpLHI9bC5uZXh0UGFydChlKSxhPW8uX2dldENodW5rRGF0YShlLHIpLGg9ITEpLG51bGw9PXImJjA9PT1mLmxlbmd0aClsLmZpbmFsaXplKGUpO2Vsc2V7Zi5wdXNoKHIpLG8uX2dldEZpbGVTdGF0ZShlKS5jaHVua2luZy5pblByb2dyZXNzPWYscyYmYy5vcGVuKGUscikscyYmYy5hdmFpbGFibGUoKSYmby5fZ2V0RmlsZVN0YXRlKGUpLmNodW5raW5nLnJlbWFpbmluZy5sZW5ndGgmJmwuc2VuZE5leHQoZSksMD09PWEuYmxvYi5zaXplJiYoaShxcS5mb3JtYXQoIkNodW5rIHt9IGZvciBmaWxlIHt9IHdpbGwgbm90IGJlIHVwbG9hZGVkLCB6ZXJvIHNpemVkIGNodW5rLiIscixlKSwiZXJyb3IiKSxsLmhhbmRsZUZhaWx1cmUocixlLCJGaWxlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUiLG51bGwpKTt1Lm9uVXBsb2FkQ2h1bmsoZSxuLG8uX2dldENodW5rRGF0YUZvckNhbGxiYWNrKGEpKS50aGVuKGZ1bmN0aW9uKG4pe2lmKHUuaXNJblByb2dyZXNzKGUpKXtpKHFxLmZvcm1hdCgiU2VuZGluZyBjaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZvciBpdGVtIHt9Lnt9LCBieXRlcyB7fS17fSBvZiB7fS4iLGUscixhLnN0YXJ0KzEsYS5lbmQsdCkpO3ZhciBzPXtjaHVua0lkeDpyLGlkOmUsb3ZlcnJpZGVzOm4scmVzdW1pbmc6aH07by51cGxvYWRDaHVuayhzKS50aGVuKGZ1bmN0aW9uKHQsbil7aSgiQ2h1bmtlZCB1cGxvYWQgcmVxdWVzdCBzdWNjZWVkZWQgZm9yICIrZSsiLCBjaHVuayAiK3IpLG8uY2xlYXJDYWNoZWRDaHVuayhlLHIpO3ZhciBhPW8uX2dldEZpbGVTdGF0ZShlKS5jaHVua2luZy5pblByb2dyZXNzfHxbXSxzPXAubm9ybWFsaXplUmVzcG9uc2UodCwhMCksdT1xcS5pbmRleE9mKGEscik7aShxcS5mb3JtYXQoIkNodW5rIHt9IGZvciBmaWxlIHt9IHVwbG9hZGVkIHN1Y2Nlc3NmdWxseS4iLHIsZSkpLGwuZG9uZShlLHIscyxuKSx1Pj0wJiZhLnNwbGljZSh1LDEpLG8uX21heWJlUGVyc2lzdENodW5rZWRTdGF0ZShlKSxsLmhhc01vcmVQYXJ0cyhlKXx8MCE9PWEubGVuZ3RoP2wuaGFzTW9yZVBhcnRzKGUpP2wuc2VuZE5leHQoZSk6aShxcS5mb3JtYXQoIkZpbGUgSUQge30gaGFzIG5vIG1vcmUgY2h1bmtzIHRvIHNlbmQgYW5kIHRoZXNlIGNodW5rIGluZGV4ZXMgYXJlIHN0aWxsIG1hcmtlZCBhcyBpbi1wcm9ncmVzczoge30iLGUsSlNPTi5zdHJpbmdpZnkoYSkpKTpsLmZpbmFsaXplKGUpfSxmdW5jdGlvbih0LG4pe2wuaGFuZGxlRmFpbHVyZShyLGUsdCxuKX0pLmRvbmUoZnVuY3Rpb24oKXtvLmNsZWFyWGhyKGUscil9KX1lbHNlIGkocXEuZm9ybWF0KCJOb3Qgc2VuZGluZyBjaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZvciBpdGVtIHt9Lnt9IC0gbm8gbG9uZ2VyIGluIHByb2dyZXNzLiIsZSxyKSl9LGZ1bmN0aW9uKHQpe2wuaGFuZGxlRmFpbHVyZShyLGUsdCxudWxsKX0pfX19LGM9e19vcGVuOltdLF9vcGVuQ2h1bmtzOnt9LF93YWl0aW5nOltdLGF2YWlsYWJsZTpmdW5jdGlvbigpe3ZhciBlPXUubWF4Q29ubmVjdGlvbnMsdD0wLG49MDtyZXR1cm4gcXEuZWFjaChjLl9vcGVuQ2h1bmtzLGZ1bmN0aW9uKGUsaSl7dCsrLG4rPWkubGVuZ3RofSksZS0oYy5fb3Blbi5sZW5ndGgtdCtuKX0sZnJlZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9IXQsYT1xcS5pbmRleE9mKGMuX3dhaXRpbmcsZSkscz1xcS5pbmRleE9mKGMuX29wZW4sZSk7ZGVsZXRlIGMuX29wZW5DaHVua3NbZV0scC5nZXRQcm94eU9yQmxvYihlKWluc3RhbmNlb2YgcXEuQmxvYlByb3h5JiYoaSgiR2VuZXJhdGVkIGJsb2IgdXBsb2FkIGhhcyBlbmRlZCBmb3IgIitlKyIsIGRpc3Bvc2luZyBnZW5lcmF0ZWQgYmxvYi4iKSxkZWxldGUgby5fZ2V0RmlsZVN0YXRlKGUpLmZpbGUpLGE+PTA/Yy5fd2FpdGluZy5zcGxpY2UoYSwxKTpyJiZzPj0wJiYoYy5fb3Blbi5zcGxpY2UocywxKSxuPWMuX3dhaXRpbmcuc2hpZnQoKSxuPj0wJiYoYy5fb3Blbi5wdXNoKG4pLHAuc3RhcnQobikpKX0sZ2V0V2FpdGluZ09yQ29ubmVjdGVkOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHFxLmVhY2goYy5fb3BlbkNodW5rcyxmdW5jdGlvbih0LG4pe24mJm4ubGVuZ3RoJiZlLnB1c2gocGFyc2VJbnQodCkpfSkscXEuZWFjaChjLl9vcGVuLGZ1bmN0aW9uKHQsbil7Yy5fb3BlbkNodW5rc1tuXXx8ZS5wdXNoKHBhcnNlSW50KG4pKX0pLGU9ZS5jb25jYXQoYy5fd2FpdGluZyl9LGlzVXNpbmdDb25uZWN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBxcS5pbmRleE9mKGMuX29wZW4sZSk+PTB9LG9wZW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09dCYmYy5fd2FpdGluZy5wdXNoKGUpLCEhYy5hdmFpbGFibGUoKSYmKG51bGw9PXQ/KGMuX3dhaXRpbmcucG9wKCksYy5fb3Blbi5wdXNoKGUpKTpmdW5jdGlvbigpe3ZhciBuPWMuX29wZW5DaHVua3NbZV18fFtdO24ucHVzaCh0KSxjLl9vcGVuQ2h1bmtzW2VdPW59KCksITApfSxyZXNldDpmdW5jdGlvbigpe2MuX3dhaXRpbmc9W10sYy5fb3Blbj1bXX19LGQ9e3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1vLl9nZXRGaWxlU3RhdGUoZSk7aWYoIW4pcmV0dXJuIHZvaWQgaSgiSWdub3Jpbmcgc2VuZCByZXF1ZXN0IGFzIHRoaXMgdXBsb2FkIG1heSBoYXZlIGJlZW4gY2FuY2VsbGVkLCBGaWxlIElEICIrZSwid2FybiIpO24ubG9hZGVkPTAsaSgiU2VuZGluZyBzaW1wbGUgdXBsb2FkIHJlcXVlc3QgZm9yICIrZSksby51cGxvYWRGaWxlKGUpLnRoZW4oZnVuY3Rpb24obixvKXtpKCJTaW1wbGUgdXBsb2FkIHJlcXVlc3Qgc3VjY2VlZGVkIGZvciAiK2UpO3ZhciByPXAubm9ybWFsaXplUmVzcG9uc2UobiwhMCksYT11LmdldFNpemUoZSk7dS5vblByb2dyZXNzKGUsdCxhLGEpLHAubWF5YmVOZXdVdWlkKGUscikscC5jbGVhbnVwKGUscixvKX0sZnVuY3Rpb24obixvKXtpKCJTaW1wbGUgdXBsb2FkIHJlcXVlc3QgZmFpbGVkIGZvciAiK2UpO3ZhciByPXAubm9ybWFsaXplUmVzcG9uc2UobiwhMSk7dS5vbkF1dG9SZXRyeShlLHQscixvKXx8cC5jbGVhbnVwKGUscixvKX0pfX0scD17Y2FuY2VsOmZ1bmN0aW9uKGUpe2koIkNhbmNlbGxpbmcgIitlKSx1LnBhcmFtc1N0b3JlLnJlbW92ZShlKSxjLmZyZWUoZSl9LGNsZWFudXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXUuZ2V0TmFtZShlKTt1Lm9uQ29tcGxldGUoZSxpLHQsbiksby5fZ2V0RmlsZVN0YXRlKGUpJiZvLl9jbGVhclhocnMmJm8uX2NsZWFyWGhycyhlKSxjLmZyZWUoZSl9LGdldFByb3h5T3JCbG9iOmZ1bmN0aW9uKGUpe3JldHVybiBvLmdldFByb3h5JiZvLmdldFByb3h5KGUpfHxvLmdldEZpbGUmJm8uZ2V0RmlsZShlKX0saW5pdEhhbmRsZXI6ZnVuY3Rpb24oKXtvPW5ldyh0P3FxW3RdOnFxLnRyYWRpdGlvbmFsKVsocXEuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZz8iWGhyIjoiRm9ybSIpKyJVcGxvYWRIYW5kbGVyIl0odSx7Z2V0Q3VzdG9tUmVzdW1lRGF0YTp1LmdldEN1c3RvbVJlc3VtZURhdGEsZ2V0RGF0YUJ5VXVpZDp1LmdldERhdGFCeVV1aWQsZ2V0TmFtZTp1LmdldE5hbWUsZ2V0U2l6ZTp1LmdldFNpemUsZ2V0VXVpZDp1LmdldFV1aWQsbG9nOmksb25DYW5jZWw6dS5vbkNhbmNlbCxvblByb2dyZXNzOnUub25Qcm9ncmVzcyxvblV1aWRDaGFuZ2VkOnUub25VdWlkQ2hhbmdlZCxvbkZpbmFsaXppbmc6ZnVuY3Rpb24oZSl7dS5zZXRTdGF0dXMoZSxxcS5zdGF0dXMuVVBMT0FEX0ZJTkFMSVpJTkcpfX0pLG8uX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHMmJm8uX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHMoKX0saXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkOmZ1bmN0aW9uKGUpe3JldHVybiB1LmlzUXVldWVkKGUpfSxtYXliZURlZmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJiFvLmdldEZpbGUoZSkmJnQgaW5zdGFuY2VvZiBxcS5CbG9iUHJveHk/KHUub25VcGxvYWRQcmVwKGUpLGkoIkF0dGVtcHRpbmcgdG8gZ2VuZXJhdGUgYSBibG9iIG9uLWRlbWFuZCBmb3IgIitlKSx0LmNyZWF0ZSgpLnRoZW4oZnVuY3Rpb24odCl7aSgiR2VuZXJhdGVkIGFuIG9uLWRlbWFuZCBibG9iIGZvciAiK2UpLG8udXBkYXRlQmxvYihlLHQpLHUuc2V0U2l6ZShlLHQuc2l6ZSksby5yZWV2YWx1YXRlQ2h1bmtpbmcoZSkscC5tYXliZVNlbmREZWZlcnJlZEZpbGVzKGUpfSxmdW5jdGlvbih0KXt2YXIgbz17fTt0JiYoby5lcnJvcj10KSxpKHFxLmZvcm1hdCgiRmFpbGVkIHRvIGdlbmVyYXRlIGJsb2IgZm9yIElEIHt9LiAgRXJyb3IgbWVzc2FnZToge30uIixlLHQpLCJlcnJvciIpLHUub25Db21wbGV0ZShlLHUuZ2V0TmFtZShlKSxxcS5leHRlbmQobyxuKSxudWxsKSxwLm1heWJlU2VuZERlZmVycmVkRmlsZXMoZSksYy5mcmVlKGUpfSksITEpOnAubWF5YmVTZW5kRGVmZXJyZWRGaWxlcyhlKX0sbWF5YmVTZW5kRGVmZXJyZWRGaWxlczpmdW5jdGlvbihlKXt2YXIgdD11LmdldElkc0luUHJveHlHcm91cChlKSxuPSExO3JldHVybiB0JiZ0Lmxlbmd0aD8oaSgiTWF5YmUgcmVhZHkgdG8gdXBsb2FkIHByb3h5IGdyb3VwIGZpbGUgIitlKSxxcS5lYWNoKHQsZnVuY3Rpb24odCxpKXtpZihwLmlzRGVmZXJyZWRFbGlnaWJsZUZvclVwbG9hZChpKSYmby5nZXRGaWxlKGkpKW49aT09PWUscC5ub3coaSk7ZWxzZSBpZihwLmlzRGVmZXJyZWRFbGlnaWJsZUZvclVwbG9hZChpKSlyZXR1cm4hMX0pKToobj0hMCxwLm5vdyhlKSksbn0sbWF5YmVOZXdVdWlkOmZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09dC5uZXdVdWlkJiZ1Lm9uVXVpZENoYW5nZWQoZSx0Lm5ld1V1aWQpfSxub3JtYWxpemVSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWU7cmV0dXJuIHFxLmlzT2JqZWN0KGUpfHwobj17fSxxcS5pc1N0cmluZyhlKSYmIXQmJihuLmVycm9yPWUpKSxuLnN1Y2Nlc3M9dCxufSxub3c6ZnVuY3Rpb24oZSl7dmFyIHQ9dS5nZXROYW1lKGUpO2lmKCFyLmlzVmFsaWQoZSkpdGhyb3cgbmV3IHFxLkVycm9yKGUrIiBpcyBub3QgYSB2YWxpZCBmaWxlIElEIHRvIHVwbG9hZCEiKTt1Lm9uVXBsb2FkKGUsdCkudGhlbihmdW5jdGlvbihuKXtuJiZuLnBhdXNlPyh1LnNldFN0YXR1cyhlLHFxLnN0YXR1cy5QQVVTRUQpLG8ucGF1c2UoZSksYy5mcmVlKGUpKTphJiZvLl9zaG91bGRDaHVua1RoaXNGaWxlKGUpP2wuc2VuZE5leHQoZSk6ZC5zZW5kKGUsdCl9LGZ1bmN0aW9uKG4pe2lmKG49bnx8e30saShlKyIgdXBsb2FkIHN0YXJ0IGFib3J0ZWQgZHVlIHRvIHJlamVjdGVkIG9uVXBsb2FkIFByb21pc2UgLSBkZXRhaWxzOiAiK24sImVycm9yIiksIXUub25BdXRvUmV0cnkoZSx0LG4ucmVzcG9uc2VKU09OfHx7fSkpe3ZhciBvPXAubm9ybWFsaXplUmVzcG9uc2Uobi5yZXNwb25zZUpTT04sITEpO3AuY2xlYW51cChlLG8pfX0pfSxzdGFydDpmdW5jdGlvbihlKXt2YXIgdD1wLmdldFByb3h5T3JCbG9iKGUpO3JldHVybiB0P3AubWF5YmVEZWZlcihlLHQpOihwLm5vdyhlKSwhMCl9fTtxcS5leHRlbmQodGhpcyx7YWRkOmZ1bmN0aW9uKGUsdCl7by5hZGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1cGxvYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFjLm9wZW4oZSkmJnAuc3RhcnQoZSl9LHJldHJ5OmZ1bmN0aW9uKGUpe3JldHVybiBzJiYoby5fZ2V0RmlsZVN0YXRlKGUpLnRlbXAuaWdub3JlRmFpbHVyZT0hMSksYy5pc1VzaW5nQ29ubmVjdGlvbihlKT9wLnN0YXJ0KGUpOnIudXBsb2FkKGUpfSxjYW5jZWw6ZnVuY3Rpb24oZSl7dmFyIHQ9by5jYW5jZWwoZSk7cXEuaXNHZW5lcmljUHJvbWlzZSh0KT90LnRoZW4oZnVuY3Rpb24oKXtwLmNhbmNlbChlKX0pOnQhPT0hMSYmcC5jYW5jZWwoZSl9LGNhbmNlbEFsbDpmdW5jdGlvbigpe3ZhciBlLHQ9Yy5nZXRXYWl0aW5nT3JDb25uZWN0ZWQoKTtpZih0Lmxlbmd0aClmb3IoZT10Lmxlbmd0aC0xO2U+PTA7ZS0tKXIuY2FuY2VsKHRbZV0pO2MucmVzZXQoKX0sZ2V0RmlsZTpmdW5jdGlvbihlKXtyZXR1cm4gby5nZXRQcm94eSYmby5nZXRQcm94eShlKT9vLmdldFByb3h5KGUpLnJlZmVyZW5jZUJsb2I6by5nZXRGaWxlJiZvLmdldEZpbGUoZSl9LGlzUHJveGllZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFvLmdldFByb3h5fHwhby5nZXRQcm94eShlKSl9LGdldElucHV0OmZ1bmN0aW9uKGUpe2lmKG8uZ2V0SW5wdXQpcmV0dXJuIG8uZ2V0SW5wdXQoZSl9LHJlc2V0OmZ1bmN0aW9uKCl7aSgiUmVzZXR0aW5nIHVwbG9hZCBoYW5kbGVyIiksci5jYW5jZWxBbGwoKSxjLnJlc2V0KCksby5yZXNldCgpfSxleHB1bmdlOmZ1bmN0aW9uKGUpe2lmKHIuaXNWYWxpZChlKSlyZXR1cm4gby5leHB1bmdlKGUpfSxpc1ZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBvLmlzVmFsaWQoZSl9LGhhc1Jlc3VtZVJlY29yZDpmdW5jdGlvbihlKXt2YXIgdD1vLmlzVmFsaWQoZSkmJm8uX2dldExvY2FsU3RvcmFnZUlkJiZvLl9nZXRMb2NhbFN0b3JhZ2VJZChlKTtyZXR1cm4hIXQmJiEhbG9jYWxTdG9yYWdlLmdldEl0ZW0odCl9LGdldFJlc3VtYWJsZUZpbGVzRGF0YTpmdW5jdGlvbigpe3JldHVybiBvLmdldFJlc3VtYWJsZUZpbGVzRGF0YT9vLmdldFJlc3VtYWJsZUZpbGVzRGF0YSgpOltdfSxnZXRUaGlyZFBhcnR5RmlsZUlkOmZ1bmN0aW9uKGUpe2lmKHIuaXNWYWxpZChlKSlyZXR1cm4gby5nZXRUaGlyZFBhcnR5RmlsZUlkKGUpfSxwYXVzZTpmdW5jdGlvbihlKXtyZXR1cm4hIShyLmlzUmVzdW1hYmxlKGUpJiZvLnBhdXNlJiZyLmlzVmFsaWQoZSkmJm8ucGF1c2UoZSkpJiYoYy5mcmVlKGUpLG8ubW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZyhlKSwhMCl9LGlzQXR0ZW1wdGluZ1Jlc3VtZTpmdW5jdGlvbihlKXtyZXR1cm4hIW8uaXNBdHRlbXB0aW5nUmVzdW1lJiZvLmlzQXR0ZW1wdGluZ1Jlc3VtZShlKX0saXNSZXN1bWFibGU6ZnVuY3Rpb24oZSl7cmV0dXJuISFvLmlzUmVzdW1hYmxlJiZvLmlzUmVzdW1hYmxlKGUpfX0pLHFxLmV4dGVuZCh1LGUpLGk9dS5sb2csYT11LmNodW5raW5nLmVuYWJsZWQmJnFxLnN1cHBvcnRlZEZlYXR1cmVzLmNodW5raW5nLHM9YSYmdS5jaHVua2luZy5jb25jdXJyZW50LmVuYWJsZWQsbj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW3UucHJldmVudFJldHJ5UGFyYW1dPSEwLGV9KCkscC5pbml0SGFuZGxlcigpfSxxcS5XaW5kb3dSZWNlaXZlTWVzc2FnZT1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQ9e2xvZzpmdW5jdGlvbihlLHQpe319LG49e307cXEuZXh0ZW5kKHQsZSkscXEuZXh0ZW5kKHRoaXMse3JlY2VpdmVNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZnVuY3Rpb24oZSl7dChlLmRhdGEpfTt3aW5kb3cucG9zdE1lc3NhZ2U/bltlXT1xcSh3aW5kb3cpLmF0dGFjaCgibWVzc2FnZSIsaSk6bG9nKCJpZnJhbWUgbWVzc2FnZSBwYXNzaW5nIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyISIsImVycm9yIil9LHN0b3BSZWNlaXZpbmdNZXNzYWdlczpmdW5jdGlvbihlKXtpZih3aW5kb3cucG9zdE1lc3NhZ2Upe3ZhciB0PW5bZV07dCYmdCgpfX19KX0scXEuRm9ybVVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7ZGVsZXRlIGNbZV0scCYmKGNsZWFyVGltZW91dChkW2VdKSxkZWxldGUgZFtlXSxtLnN0b3BSZWNlaXZpbmdNZXNzYWdlcyhlKSk7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYS5fZ2V0SWZyYW1lTmFtZShlKSk7dCYmKHQuc2V0QXR0cmlidXRlKCJzcmMiLCJqYXZhc2NyaXB0OmZhbHNlOyIpLHFxKHQpLnJlbW92ZSgpKX1mdW5jdGlvbiBuKGUpe3JldHVybiBlLnNwbGl0KCJfIilbMF19ZnVuY3Rpb24gaShlKXt2YXIgdD1xcS50b0VsZW1lbnQoIjxpZnJhbWUgc3JjPSdqYXZhc2NyaXB0OmZhbHNlOycgbmFtZT0nIitlKyInIC8+Iik7cmV0dXJuIHQuc2V0QXR0cmlidXRlKCJpZCIsZSksdC5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLHR9ZnVuY3Rpb24gbyhlLHQpe3ZhciBpPWUuaWQsbz1uKGkpO2xbZihvKV09dCxjW29dPXFxKGUpLmF0dGFjaCgibG9hZCIsZnVuY3Rpb24oKXthLmdldElucHV0KG8pJiYocSgiUmVjZWl2ZWQgaWZyYW1lIGxvYWQgZXZlbnQgZm9yIENPUlMgdXBsb2FkIHJlcXVlc3QgKGlmcmFtZSBuYW1lICIraSsiKSIpLGRbaV09c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPSJObyB2YWxpZCBtZXNzYWdlIHJlY2VpdmVkIGZyb20gbG9hZGVkIGlmcmFtZSBmb3IgaWZyYW1lIG5hbWUgIitpO3EoZSwiZXJyb3IiKSx0KHtlcnJvcjplfSl9LDFlMykpfSksbS5yZWNlaXZlTWVzc2FnZShpLGZ1bmN0aW9uKGUpe3EoIlJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgd2luZG93IG1lc3NhZ2U6ICciK2UrIiciKTt2YXIgdCxvPShuKGkpLGEuX3BhcnNlSnNvblJlc3BvbnNlKGUpKSxyPW8udXVpZDtyJiZsW3JdPyhxKCJIYW5kbGluZyByZXNwb25zZSBmb3IgaWZyYW1lIG5hbWUgIitpKSxjbGVhclRpbWVvdXQoZFtpXSksZGVsZXRlIGRbaV0sYS5fZGV0YWNoTG9hZEV2ZW50KGkpLHQ9bFtyXSxkZWxldGUgbFtyXSxtLnN0b3BSZWNlaXZpbmdNZXNzYWdlcyhpKSx0KG8pKTpyfHxxKCInIitlKyInIGRvZXMgbm90IGNvbnRhaW4gYSBVVUlEIC0gaWdub3JpbmcuIil9KX12YXIgcj1lLm9wdGlvbnMsYT10aGlzLHM9ZS5wcm94eSx1PXFxLmdldFVuaXF1ZUlkKCksbD17fSxjPXt9LGQ9e30scD1yLmlzQ29ycyxoPXIuaW5wdXROYW1lLGY9cy5nZXRVdWlkLHE9cy5sb2csbT1uZXcgcXEuV2luZG93UmVjZWl2ZU1lc3NhZ2Uoe2xvZzpxfSk7cXEuZXh0ZW5kKHRoaXMsbmV3IHFxLlVwbG9hZEhhbmRsZXIoZSkpLHFxLm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJue2FkZDpmdW5jdGlvbih0LG4pe2UuYWRkKHQse2lucHV0Om59KSxuLnNldEF0dHJpYnV0ZSgibmFtZSIsaCksbi5wYXJlbnROb2RlJiZxcShuKS5yZW1vdmUoKX0sZXhwdW5nZTpmdW5jdGlvbihuKXt0KG4pLGUuZXhwdW5nZShuKX0saXNWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1ZhbGlkKHQpJiZ2b2lkIDAhPT1hLl9nZXRGaWxlU3RhdGUodCkuaW5wdXR9fX0pLHFxLmV4dGVuZCh0aGlzLHtnZXRJbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gYS5fZ2V0RmlsZVN0YXRlKGUpLmlucHV0fSxfYXR0YWNoTG9hZEV2ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG47cD9vKGUsdCk6Y1tlLmlkXT1xcShlKS5hdHRhY2goImxvYWQiLGZ1bmN0aW9uKCl7aWYocSgiUmVjZWl2ZWQgcmVzcG9uc2UgZm9yICIrZS5pZCksZS5wYXJlbnROb2RlKXt0cnl7aWYoZS5jb250ZW50RG9jdW1lbnQmJmUuY29udGVudERvY3VtZW50LmJvZHkmJiJmYWxzZSI9PWUuY29udGVudERvY3VtZW50LmJvZHkuaW5uZXJIVE1MKXJldHVybn1jYXRjaChlKXtxKCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gYWNjZXNzIGlmcmFtZSBkdXJpbmcgaGFuZGxpbmcgb2YgdXBsb2FkIHJlc3BvbnNlICgiK2UubWVzc2FnZSsiKSIsImVycm9yIiksbj17c3VjY2VzczohMX19dChuKX19KX0sX2NyZWF0ZUlmcmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gaShhLl9nZXRJZnJhbWVOYW1lKGUpKX0sX2RldGFjaExvYWRFdmVudDpmdW5jdGlvbihlKXt2b2lkIDAhPT1jW2VdJiYoY1tlXSgpLGRlbGV0ZSBjW2VdKX0sX2dldElmcmFtZU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrIl8iK3V9LF9pbml0Rm9ybUZvclVwbG9hZDpmdW5jdGlvbihlKXt2YXIgdD1lLm1ldGhvZCxuPWUuZW5kcG9pbnQsaT1lLnBhcmFtcyxvPWUucGFyYW1zSW5Cb2R5LHI9ZS50YXJnZXROYW1lLGE9cXEudG9FbGVtZW50KCI8Zm9ybSBtZXRob2Q9JyIrdCsiJyBlbmN0eXBlPSdtdWx0aXBhcnQvZm9ybS1kYXRhJz48L2Zvcm0+Iikscz1uO3JldHVybiBvP3FxLm9iajJJbnB1dHMoaSxhKTpzPXFxLm9iajJ1cmwoaSxuKSxhLnNldEF0dHJpYnV0ZSgiYWN0aW9uIixzKSxhLnNldEF0dHJpYnV0ZSgidGFyZ2V0IixyKSxhLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksYX0sX3BhcnNlSnNvblJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3RyeXt0PXFxLnBhcnNlSnNvbihlKX1jYXRjaChlKXtxKCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gcGFyc2UgaWZyYW1lIHVwbG9hZCByZXNwb25zZSAoIitlLm1lc3NhZ2UrIikiLCJlcnJvciIpfXJldHVybiB0fX0pfSxxcS5YaHJVcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3FxLmVhY2gobi5fZ2V0WGhycyhlKSxmdW5jdGlvbih0LGkpe3ZhciBvPW4uX2dldEFqYXhSZXF1ZXN0ZXIoZSx0KTtpLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGkudXBsb2FkLm9ucHJvZ3Jlc3M9bnVsbCxpLmFib3J0KCksbyYmby5jYW5jZWxlZCYmby5jYW5jZWxlZChlKX0pfXZhciBuPXRoaXMsaT1lLm9wdGlvbnMubmFtZXNwYWNlLG89ZS5wcm94eSxyPWUub3B0aW9ucy5jaHVua2luZyxhPWZ1bmN0aW9uKGUpe3ZhciB0PW4uX2dldEZpbGVTdGF0ZShlKTtpZih0LmNodW5rU2l6ZSlyZXR1cm4gdC5jaHVua1NpemU7dmFyIGk9ci5wYXJ0U2l6ZTtyZXR1cm4gcXEuaXNGdW5jdGlvbihpKSYmKGk9aShlLGQoZSkpKSx0LmNodW5rU2l6ZT1pLGl9LHM9ZS5vcHRpb25zLnJlc3VtZSx1PXImJmUub3B0aW9ucy5jaHVua2luZy5lbmFibGVkJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5jaHVua2luZyxsPXMmJmUub3B0aW9ucy5yZXN1bWUuZW5hYmxlZCYmdSYmcXEuc3VwcG9ydGVkRmVhdHVyZXMucmVzdW1lLGM9by5nZXROYW1lLGQ9by5nZXRTaXplLHA9by5nZXRVdWlkLGg9by5nZXRFbmRwb2ludCxmPW8uZ2V0RGF0YUJ5VXVpZCxxPW8ub25VdWlkQ2hhbmdlZCxtPW8ub25Qcm9ncmVzcyxnPW8ubG9nLF89by5nZXRDdXN0b21SZXN1bWVEYXRhO3FxLmV4dGVuZCh0aGlzLG5ldyBxcS5VcGxvYWRIYW5kbGVyKGUpKSxxcS5vdmVycmlkZSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybnthZGQ6ZnVuY3Rpb24odCxpKXtpZihxcS5pc0ZpbGUoaSl8fHFxLmlzQmxvYihpKSllLmFkZCh0LHtmaWxlOml9KTtlbHNle2lmKCEoaSBpbnN0YW5jZW9mIHFxLkJsb2JQcm94eSkpdGhyb3cgbmV3IEVycm9yKCJQYXNzZWQgb2JqIGlzIG5vdCBhIEZpbGUsIEJsb2IsIG9yIHByb3h5Iik7ZS5hZGQodCx7cHJveHk6aX0pfW4uX2luaXRUZW1wU3RhdGUodCksbCYmbi5fbWF5YmVQcmVwYXJlRm9yUmVzdW1lKHQpfSxleHB1bmdlOmZ1bmN0aW9uKGkpe3QoaSksbi5fbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGEoaSksbi5fY2xlYXJYaHJzKGkpLGUuZXhwdW5nZShpKX19fSkscXEuZXh0ZW5kKHRoaXMse2NsZWFyQ2FjaGVkQ2h1bms6ZnVuY3Rpb24oZSx0KXt2YXIgaT1uLl9nZXRGaWxlU3RhdGUoZSk7aSYmZGVsZXRlIGkudGVtcC5jYWNoZWRDaHVua3NbdF19LGNsZWFyWGhyOmZ1bmN0aW9uKGUsdCl7dmFyIGk9bi5fZ2V0RmlsZVN0YXRlKGUpLnRlbXA7aS54aHJzJiZkZWxldGUgaS54aHJzW3RdLGkuYWpheFJlcXVlc3RlcnMmJmRlbGV0ZSBpLmFqYXhSZXF1ZXN0ZXJzW3RdfSxmaW5hbGl6ZUNodW5rczpmdW5jdGlvbihlLHQpe3ZhciBpPW4uX2dldFRvdGFsQ2h1bmtzKGUpLTEsbz1uLl9nZXRYaHIoZSxpKTtyZXR1cm4gdD8obmV3IHFxLlByb21pc2UpLnN1Y2Nlc3ModChvKSxvKToobmV3IHFxLlByb21pc2UpLnN1Y2Nlc3Moe30sbyl9LGdldEZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uaXNWYWxpZChlKSYmbi5fZ2V0RmlsZVN0YXRlKGUpLmZpbGV9LGdldFByb3h5OmZ1bmN0aW9uKGUpe3JldHVybiBuLmlzVmFsaWQoZSkmJm4uX2dldEZpbGVTdGF0ZShlKS5wcm94eX0sZ2V0UmVzdW1hYmxlRmlsZXNEYXRhOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIG4uX2l0ZXJhdGVSZXN1bWVSZWNvcmRzKGZ1bmN0aW9uKHQsaSl7bi5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKG51bGwsaS5jaHVua2luZy5pblByb2dyZXNzLGkuY2h1bmtpbmcucmVtYWluaW5nKTt2YXIgbz17bmFtZTppLm5hbWUscmVtYWluaW5nOmkuY2h1bmtpbmcucmVtYWluaW5nLHNpemU6aS5zaXplLHV1aWQ6aS51dWlkfTtpLmtleSYmKG8ua2V5PWkua2V5KSxpLmN1c3RvbVJlc3VtZURhdGEmJihvLmN1c3RvbVJlc3VtZURhdGE9aS5jdXN0b21SZXN1bWVEYXRhKSxlLnB1c2gobyl9KSxlfSxpc0F0dGVtcHRpbmdSZXN1bWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uX2dldEZpbGVTdGF0ZShlKS5hdHRlbXB0aW5nUmVzdW1lfSxpc1Jlc3VtYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4hIXImJm4uaXNWYWxpZChlKSYmIW4uX2dldEZpbGVTdGF0ZShlKS5ub3RSZXN1bWFibGV9LG1vdmVJblByb2dyZXNzVG9SZW1haW5pbmc6ZnVuY3Rpb24oZSx0LGkpe3ZhciBvPW4uX2dldEZpbGVTdGF0ZShlKXx8e30scj1vLmNodW5raW5nfHx7fSxhPXR8fHIuaW5Qcm9ncmVzcyxzPWl8fHIucmVtYWluaW5nO2EmJihnKHFxLmZvcm1hdCgiTW92aW5nIHRoZXNlIGNodW5rcyBmcm9tIGluLXByb2dyZXNzIHt9LCB0byByZW1haW5pbmcuIixKU09OLnN0cmluZ2lmeShhKSkpLGEucmV2ZXJzZSgpLHFxLmVhY2goYSxmdW5jdGlvbihlLHQpe3MudW5zaGlmdCh0KX0pLGEubGVuZ3RoPTApfSxwYXVzZTpmdW5jdGlvbihlKXtpZihuLmlzVmFsaWQoZSkpcmV0dXJuIGcocXEuZm9ybWF0KCJBYm9ydGluZyBYSFIgdXBsb2FkIGZvciB7fSAne30nIGR1ZSB0byBwYXVzZSBpbnN0cnVjdGlvbi4iLGUsYyhlKSkpLG4uX2dldEZpbGVTdGF0ZShlKS5wYXVzZWQ9ITAsdChlKSwhMH0scmVldmFsdWF0ZUNodW5raW5nOmZ1bmN0aW9uKGUpe2lmKHImJm4uaXNWYWxpZChlKSl7dmFyIHQsaSxvPW4uX2dldEZpbGVTdGF0ZShlKTtpZihkZWxldGUgby5jaHVua2luZyxvLmNodW5raW5nPXt9LHQ9bi5fZ2V0VG90YWxDaHVua3MoZSksdD4xfHxyLm1hbmRhdG9yeSl7Zm9yKG8uY2h1bmtpbmcuZW5hYmxlZD0hMCxvLmNodW5raW5nLnBhcnRzPXQsby5jaHVua2luZy5yZW1haW5pbmc9W10saT0wO2k8dDtpKyspby5jaHVua2luZy5yZW1haW5pbmcucHVzaChpKTtuLl9pbml0VGVtcFN0YXRlKGUpfWVsc2Ugby5jaHVua2luZy5lbmFibGVkPSExfX0sdXBkYXRlQmxvYjpmdW5jdGlvbihlLHQpe24uaXNWYWxpZChlKSYmKG4uX2dldEZpbGVTdGF0ZShlKS5maWxlPXQpfSxfY2xlYXJYaHJzOmZ1bmN0aW9uKGUpe3ZhciB0PW4uX2dldEZpbGVTdGF0ZShlKS50ZW1wO3FxLmVhY2godC5hamF4UmVxdWVzdGVycyxmdW5jdGlvbihlKXtkZWxldGUgdC5hamF4UmVxdWVzdGVyc1tlXX0pLHFxLmVhY2godC54aHJzLGZ1bmN0aW9uKGUpe2RlbGV0ZSB0LnhocnNbZV19KX0sX2NyZWF0ZVhocjpmdW5jdGlvbihlLHQpe3JldHVybiBuLl9yZWdpc3RlclhocihlLHQscXEuY3JlYXRlWGhySW5zdGFuY2UoKSl9LF9nZXRBamF4UmVxdWVzdGVyOmZ1bmN0aW9uKGUsdCl7dmFyIGk9bnVsbD09dD8tMTp0O3JldHVybiBuLl9nZXRGaWxlU3RhdGUoZSkudGVtcC5hamF4UmVxdWVzdGVyc1tpXX0sX2dldENodW5rRGF0YTpmdW5jdGlvbihlLHQpe3ZhciBpPWEoZSksbz1kKGUpLHI9bi5nZXRGaWxlKGUpLHM9aSp0LHU9cytpPj1vP286cytpLGw9bi5fZ2V0VG90YWxDaHVua3MoZSksYz10aGlzLl9nZXRGaWxlU3RhdGUoZSkudGVtcC5jYWNoZWRDaHVua3MscD1jW3RdfHxxcS5zbGljZUJsb2IocixzLHUpO3JldHVybiBjW3RdPXAse3BhcnQ6dCxzdGFydDpzLGVuZDp1LGNvdW50OmwsYmxvYjpwLHNpemU6dS1zfX0sX2dldENodW5rRGF0YUZvckNhbGxiYWNrOmZ1bmN0aW9uKGUpe3JldHVybntwYXJ0SW5kZXg6ZS5wYXJ0LHN0YXJ0Qnl0ZTplLnN0YXJ0KzEsZW5kQnl0ZTplLmVuZCx0b3RhbFBhcnRzOmUuY291bnR9fSxfZ2V0TG9jYWxTdG9yYWdlSWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9YyhlKSxuPWQoZSksbz1hKGUpLHI9aChlKSx1PXMuY3VzdG9tS2V5cyhlKSxsPXFxLmZvcm1hdCgicXF7fXJlc3VtZXt9LXt9LXt9LXt9LXt9IixpLCI1LjAiLHQsbixvLHIpO3JldHVybiB1LmZvckVhY2goZnVuY3Rpb24oZSl7bCs9Ii0iK2V9KSxsfSxfZ2V0TWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0RmlsZShlKS50eXBlfSxfZ2V0UGVyc2lzdGFibGVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBuLl9nZXRGaWxlU3RhdGUoZSkuY2h1bmtpbmd9LF9nZXRUb3RhbENodW5rczpmdW5jdGlvbihlKXtpZihyKXt2YXIgdD1kKGUpLG49YShlKTtyZXR1cm4gTWF0aC5jZWlsKHQvbil9fSxfZ2V0WGhyOmZ1bmN0aW9uKGUsdCl7dmFyIGk9bnVsbD09dD8tMTp0O3JldHVybiBuLl9nZXRGaWxlU3RhdGUoZSkudGVtcC54aHJzW2ldfSxfZ2V0WGhyczpmdW5jdGlvbihlKXtyZXR1cm4gbi5fZ2V0RmlsZVN0YXRlKGUpLnRlbXAueGhyc30sX2l0ZXJhdGVSZXN1bWVSZWNvcmRzOmZ1bmN0aW9uKGUpe2wmJnFxLmVhY2gobG9jYWxTdG9yYWdlLGZ1bmN0aW9uKHQsbil7aWYoMD09PXQuaW5kZXhPZihxcS5mb3JtYXQoInFxe31yZXN1bWUiLGkpKSl7ZSh0LEpTT04ucGFyc2UobikpfX0pfSxfaW5pdFRlbXBTdGF0ZTpmdW5jdGlvbihlKXtuLl9nZXRGaWxlU3RhdGUoZSkudGVtcD17YWpheFJlcXVlc3RlcnM6e30sY2h1bmtQcm9ncmVzczp7fSx4aHJzOnt9LGNhY2hlZENodW5rczp7fX19LF9tYXJrTm90UmVzdW1hYmxlOmZ1bmN0aW9uKGUpe24uX2dldEZpbGVTdGF0ZShlKS5ub3RSZXN1bWFibGU9ITB9LF9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hIShsJiZuLmlzUmVzdW1hYmxlKGUpJiYodD1uLl9nZXRMb2NhbFN0b3JhZ2VJZChlKSx0JiZsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KSkpJiYobG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCksITApfSxfbWF5YmVQcmVwYXJlRm9yUmVzdW1lOmZ1bmN0aW9uKGUpe3ZhciB0LGksbz1uLl9nZXRGaWxlU3RhdGUoZSk7bCYmdm9pZCAwPT09by5rZXkmJih0PW4uX2dldExvY2FsU3RvcmFnZUlkKGUpLGk9bG9jYWxTdG9yYWdlLmdldEl0ZW0odCksaSYmKGk9SlNPTi5wYXJzZShpKSxmKGkudXVpZCk/bi5fbWFya05vdFJlc3VtYWJsZShlKTooZyhxcS5mb3JtYXQoIklkZW50aWZpZWQgZmlsZSB3aXRoIElEIHt9IGFuZCBuYW1lIG9mIHt9IGFzIHJlc3VtYWJsZS4iLGUsYyhlKSkpLHEoZSxpLnV1aWQpLG8ua2V5PWkua2V5LG8uY2h1bmtpbmc9aS5jaHVua2luZyxvLmxvYWRlZD1pLmxvYWRlZCxvLmN1c3RvbVJlc3VtZURhdGE9aS5jdXN0b21SZXN1bWVEYXRhLG8uYXR0ZW1wdGluZ1Jlc3VtZT0hMCxuLm1vdmVJblByb2dyZXNzVG9SZW1haW5pbmcoZSkpKSl9LF9tYXliZVBlcnNpc3RDaHVua2VkU3RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQsaSxvPW4uX2dldEZpbGVTdGF0ZShlKTtpZihsJiZuLmlzUmVzdW1hYmxlKGUpKXt2YXIgcj1fKGUpO3Q9bi5fZ2V0TG9jYWxTdG9yYWdlSWQoZSksaT17bmFtZTpjKGUpLHNpemU6ZChlKSx1dWlkOnAoZSksa2V5Om8ua2V5LGNodW5raW5nOm8uY2h1bmtpbmcsbG9hZGVkOm8ubG9hZGVkLGxhc3RVcGRhdGVkOkRhdGUubm93KCl9LHImJihpLmN1c3RvbVJlc3VtZURhdGE9cik7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKHQsSlNPTi5zdHJpbmdpZnkoaSkpfWNhdGNoKHQpe2cocXEuZm9ybWF0KCJVbmFibGUgdG8gc2F2ZSByZXN1bWUgZGF0YSBmb3IgJ3t9JyBkdWUgdG8gZXJyb3I6ICd7fScuIixlLHQudG9TdHJpbmcoKSksIndhcm4iKX19fSxfcmVnaXN0ZXJQcm9ncmVzc0hhbmRsZXI6ZnVuY3Rpb24oZSx0LGkpe3ZhciBvPW4uX2dldFhocihlLHQpLHI9YyhlKSxhPXtzaW1wbGU6ZnVuY3Rpb24odCxuKXt2YXIgaT1kKGUpO3Q9PT1uP20oZSxyLGksaSk6bShlLHIsdD49aT9pLTE6dCxpKX0sY2h1bmtlZDpmdW5jdGlvbihvLGEpe3ZhciBzPW4uX2dldEZpbGVTdGF0ZShlKS50ZW1wLmNodW5rUHJvZ3Jlc3MsdT1uLl9nZXRGaWxlU3RhdGUoZSkubG9hZGVkLGw9byxjPWEscD1kKGUpLGg9bC0oYy1pKSxmPXU7c1t0XT1oLHFxLmVhY2gocyxmdW5jdGlvbihlLHQpe2YrPXR9KSxtKGUscixmLHApfX07by51cGxvYWQub25wcm9ncmVzcz1mdW5jdGlvbihlKXtpZihlLmxlbmd0aENvbXB1dGFibGUpe2FbbnVsbD09aT8ic2ltcGxlIjoiY2h1bmtlZCJdKGUubG9hZGVkLGUudG90YWwpfX19LF9yZWdpc3RlclhocjpmdW5jdGlvbihlLHQsaSxvKXt2YXIgcj1udWxsPT10Py0xOnQsYT1uLl9nZXRGaWxlU3RhdGUoZSkudGVtcDtyZXR1cm4gYS54aHJzPWEueGhyc3x8e30sYS5hamF4UmVxdWVzdGVycz1hLmFqYXhSZXF1ZXN0ZXJzfHx7fSxhLnhocnNbcl09aSxvJiYoYS5hamF4UmVxdWVzdGVyc1tyXT1vKSxpfSxfcmVtb3ZlRXhwaXJlZENodW5raW5nUmVjb3JkczpmdW5jdGlvbigpe3ZhciBlPXMucmVjb3Jkc0V4cGlyZUluO24uX2l0ZXJhdGVSZXN1bWVSZWNvcmRzKGZ1bmN0aW9uKHQsbil7dmFyIGk9bmV3IERhdGUobi5sYXN0VXBkYXRlZCk7aS5zZXREYXRlKGkuZ2V0RGF0ZSgpK2UpLGkuZ2V0VGltZSgpPD1EYXRlLm5vdygpJiYoZygiUmVtb3ZpbmcgZXhwaXJlZCByZXN1bWUgcmVjb3JkIHdpdGgga2V5ICIrdCksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCkpfSl9LF9zaG91bGRDaHVua1RoaXNGaWxlOmZ1bmN0aW9uKGUpe3ZhciB0PW4uX2dldEZpbGVTdGF0ZShlKTtpZih0KXJldHVybiB0LmNodW5raW5nfHxuLnJlZXZhbHVhdGVDaHVua2luZyhlKSx0LmNodW5raW5nLmVuYWJsZWR9fSl9LHFxLkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7cmV0dXJuIlBPU1QiPT09aS5tZXRob2QudG9VcHBlckNhc2UoKT97X21ldGhvZDoiREVMRVRFIn06e319dmFyIG4saT17bWV0aG9kOiJERUxFVEUiLHV1aWRQYXJhbU5hbWU6InFxdXVpZCIsZW5kcG9pbnRTdG9yZTp7fSxtYXhDb25uZWN0aW9uczozLGN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJue319LHBhcmFtc1N0b3JlOnt9LGNvcnM6e2V4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMX0sbG9nOmZ1bmN0aW9uKGUsdCl7fSxvbkRlbGV0ZTpmdW5jdGlvbihlKXt9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24oZSx0LG4pe319O3FxLmV4dGVuZChpLGUpLG49cXEuZXh0ZW5kKHRoaXMsbmV3IHFxLkFqYXhSZXF1ZXN0ZXIoe2FjY2VwdEhlYWRlcjoiYXBwbGljYXRpb24vanNvbiIsdmFsaWRNZXRob2RzOlsiUE9TVCIsIkRFTEVURSJdLG1ldGhvZDppLm1ldGhvZCxlbmRwb2ludFN0b3JlOmkuZW5kcG9pbnRTdG9yZSxwYXJhbXNTdG9yZTppLnBhcmFtc1N0b3JlLG1hbmRhdGVkUGFyYW1zOnQoKSxtYXhDb25uZWN0aW9uczppLm1heENvbm5lY3Rpb25zLGN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY3VzdG9tSGVhZGVycy5nZXQoZSl9LGxvZzppLmxvZyxvblNlbmQ6aS5vbkRlbGV0ZSxvbkNvbXBsZXRlOmkub25EZWxldGVDb21wbGV0ZSxjb3JzOmkuY29yc30pKSxxcS5leHRlbmQodGhpcyx7c2VuZERlbGV0ZTpmdW5jdGlvbihlLHQsbyl7dmFyIHI9b3x8e307aS5sb2coIlN1Ym1pdHRpbmcgZGVsZXRlIGZpbGUgcmVxdWVzdCBmb3IgIitlKSwiREVMRVRFIj09PWkubWV0aG9kP24uaW5pdFRyYW5zcG9ydChlKS53aXRoUGF0aCh0KS53aXRoUGFyYW1zKHIpLnNlbmQoKToocltpLnV1aWRQYXJhbU5hbWVdPXQsbi5pbml0VHJhbnNwb3J0KGUpLndpdGhQYXJhbXMocikuc2VuZCgpKX19KX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0LG49ZS5uYXR1cmFsV2lkdGgsaT1lLm5hdHVyYWxIZWlnaHQsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gbippPjEwNDg1NzYmJihvLndpZHRoPW8uaGVpZ2h0PTEsdD1vLmdldENvbnRleHQoIjJkIiksdC5kcmF3SW1hZ2UoZSwtbisxLDApLDA9PT10LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhWzNdKX1mdW5jdGlvbiB0KGUsdCxuKXt2YXIgaSxvLHIsYSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHU9MCxsPW4sYz1uO2ZvcihzLndpZHRoPTEscy5oZWlnaHQ9bixpPXMuZ2V0Q29udGV4dCgiMmQiKSxpLmRyYXdJbWFnZShlLDAsMCksbz1pLmdldEltYWdlRGF0YSgwLDAsMSxuKS5kYXRhO2M+dTspcj1vWzQqKGMtMSkrM10sMD09PXI/bD1jOnU9YyxjPWwrdT4+MTtyZXR1cm4gYT1jL24sMD09PWE/MTphfWZ1bmN0aW9uIG4oZSx0LG4saSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksYT1uLm1pbWV8fCJpbWFnZS9qcGVnIixzPW5ldyBxcS5Qcm9taXNlO3JldHVybiBvKGUsdCxyLG4saSkudGhlbihmdW5jdGlvbigpe3Muc3VjY2VzcyhyLnRvRGF0YVVSTChhLG4ucXVhbGl0eXx8LjgpKX0pLHN9ZnVuY3Rpb24gaShlKXtpZighcXEuaW9zKCkpdGhyb3cgbmV3IHFxLkVycm9yKCJEb3duc2FtcGxlZCBkaW1lbnNpb25zIGNhbiBvbmx5IGJlIHJlbGlhYmx5IGNhbGN1bGF0ZWQgZm9yIGlPUyEiKTtpZihlLm9yaWdIZWlnaHQqZS5vcmlnV2lkdGg+NTI0MWUzKXJldHVybntuZXdIZWlnaHQ6TWF0aC5yb3VuZChNYXRoLnNxcnQoNTI0MWUzKihlLm9yaWdIZWlnaHQvZS5vcmlnV2lkdGgpKSksbmV3V2lkdGg6TWF0aC5yb3VuZChNYXRoLnNxcnQoNTI0MWUzKihlLm9yaWdXaWR0aC9lLm9yaWdIZWlnaHQpKSl9fWZ1bmN0aW9uIG8obixvLHMsdSxsKXt2YXIgYyxkPW4ubmF0dXJhbFdpZHRoLHA9bi5uYXR1cmFsSGVpZ2h0LGg9dS53aWR0aCxmPXUuaGVpZ2h0LHE9cy5nZXRDb250ZXh0KCIyZCIpLG09bmV3IHFxLlByb21pc2U7cmV0dXJuIHEuc2F2ZSgpLHUucmVzaXplP3Ioe2Jsb2I6byxjYW52YXM6cyxpbWFnZTpuLGltYWdlSGVpZ2h0OnAsaW1hZ2VXaWR0aDpkLG9yaWVudGF0aW9uOnUub3JpZW50YXRpb24scmVzaXplOnUucmVzaXplLHRhcmdldEhlaWdodDpmLHRhcmdldFdpZHRoOmh9KToocXEuc3VwcG9ydGVkRmVhdHVyZXMudW5saW1pdGVkU2NhbGVkSW1hZ2VTaXplfHwoYz1pKHtvcmlnV2lkdGg6aCxvcmlnSGVpZ2h0OmZ9KSxjJiYocXEubG9nKHFxLmZvcm1hdCgiSGFkIHRvIHJlZHVjZSBkaW1lbnNpb25zIGR1ZSB0byBkZXZpY2UgbGltaXRhdGlvbnMgZnJvbSB7fXcgLyB7fWggdG8ge313IC8ge31oIixoLGYsYy5uZXdXaWR0aCxjLm5ld0hlaWdodCksIndhcm4iKSxoPWMubmV3V2lkdGgsZj1jLm5ld0hlaWdodCkpLGEocyxoLGYsdS5vcmllbnRhdGlvbikscXEuaW9zKCk/ZnVuY3Rpb24oKXtlKG4pJiYoZC89MixwLz0yKTt2YXIgaSxvLHIsYT0xMDI0LHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdT1sP3QobixkLHApOjEsYz1NYXRoLmNlaWwoYSpoL2QpLG09TWF0aC5jZWlsKGEqZi9wL3UpLGc9MCxfPTA7Zm9yKHMud2lkdGg9cy5oZWlnaHQ9YSxpPXMuZ2V0Q29udGV4dCgiMmQiKTtnPHA7KXtmb3Iobz0wLHI9MDtvPGQ7KWkuY2xlYXJSZWN0KDAsMCxhLGEpLGkuZHJhd0ltYWdlKG4sLW8sLWcpLHEuZHJhd0ltYWdlKHMsMCwwLGEsYSxyLF8sYyxtKSxvKz1hLHIrPWM7Zys9YSxfKz1tfXEucmVzdG9yZSgpLHM9aT1udWxsfSgpOnEuZHJhd0ltYWdlKG4sMCwwLGgsZikscy5xcUltYWdlUmVuZGVyZWQmJnMucXFJbWFnZVJlbmRlcmVkKCksbS5zdWNjZXNzKCksbSl9ZnVuY3Rpb24gcihlKXt2YXIgdD1lLmJsb2Isbj1lLmltYWdlLGk9ZS5pbWFnZUhlaWdodCxvPWUuaW1hZ2VXaWR0aCxyPWUub3JpZW50YXRpb24scz1uZXcgcXEuUHJvbWlzZSx1PWUucmVzaXplLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksYz1sLmdldENvbnRleHQoIjJkIiksZD1lLmNhbnZhcyxwPWUudGFyZ2V0SGVpZ2h0LGg9ZS50YXJnZXRXaWR0aDtyZXR1cm4gYShsLG8saSxyKSxkLmhlaWdodD1wLGQud2lkdGg9aCxjLmRyYXdJbWFnZShuLDAsMCksdSh7YmxvYjp0LGhlaWdodDpwLGltYWdlOm4sc291cmNlQ2FudmFzOmwsdGFyZ2V0Q2FudmFzOmQsd2lkdGg6aH0pLnRoZW4oZnVuY3Rpb24oKXtkLnFxSW1hZ2VSZW5kZXJlZCYmZC5xcUltYWdlUmVuZGVyZWQoKSxzLnN1Y2Nlc3MoKX0scy5mYWlsdXJlKSxzfWZ1bmN0aW9uIGEoZSx0LG4saSl7c3dpdGNoKGkpe2Nhc2UgNTpjYXNlIDY6Y2FzZSA3OmNhc2UgODplLndpZHRoPW4sZS5oZWlnaHQ9dDticmVhaztkZWZhdWx0OmUud2lkdGg9dCxlLmhlaWdodD1ufXZhciBvPWUuZ2V0Q29udGV4dCgiMmQiKTtzd2l0Y2goaSl7Y2FzZSAyOm8udHJhbnNsYXRlKHQsMCksby5zY2FsZSgtMSwxKTticmVhaztjYXNlIDM6by50cmFuc2xhdGUodCxuKSxvLnJvdGF0ZShNYXRoLlBJKTticmVhaztjYXNlIDQ6by50cmFuc2xhdGUoMCxuKSxvLnNjYWxlKDEsLTEpO2JyZWFrO2Nhc2UgNTpvLnJvdGF0ZSguNSpNYXRoLlBJKSxvLnNjYWxlKDEsLTEpO2JyZWFrO2Nhc2UgNjpvLnJvdGF0ZSguNSpNYXRoLlBJKSxvLnRyYW5zbGF0ZSgwLC1uKTticmVhaztjYXNlIDc6by5yb3RhdGUoLjUqTWF0aC5QSSksby50cmFuc2xhdGUodCwtbiksby5zY2FsZSgtMSwxKTticmVhaztjYXNlIDg6by5yb3RhdGUoLS41Kk1hdGguUEkpLG8udHJhbnNsYXRlKC10LDApfX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49dGhpczt3aW5kb3cuQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2ImJmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEltYWdlLGk9d2luZG93LlVSTCYmd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkw/d2luZG93LlVSTDp3aW5kb3cud2Via2l0VVJMJiZ3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cud2Via2l0VVJMOm51bGw7aWYoIWkpdGhyb3cgRXJyb3IoIk5vIGNyZWF0ZU9iamVjdFVSTCBmdW5jdGlvbiBmb3VuZCB0byBjcmVhdGUgYmxvYiB1cmwiKTt0LnNyYz1pLmNyZWF0ZU9iamVjdFVSTChlKSxuLmJsb2I9ZSxlPXR9KCksZS5uYXR1cmFsV2lkdGh8fGUubmF0dXJhbEhlaWdodHx8KGUub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9bi5pbWFnZUxvYWRMaXN0ZW5lcnM7ZSYmKG4uaW1hZ2VMb2FkTGlzdGVuZXJzPW51bGwsc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyllW3RdKCl9LDApKX0sZS5vbmVycm9yPXQsdGhpcy5pbWFnZUxvYWRMaXN0ZW5lcnM9W10pLHRoaXMuc3JjSW1hZ2U9ZX1zLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciBpLHI9dGhpcyxhPXRoaXMuc3JjSW1hZ2UubmF0dXJhbFdpZHRoLHM9dGhpcy5zcmNJbWFnZS5uYXR1cmFsSGVpZ2h0LHU9dC53aWR0aCxsPXQuaGVpZ2h0LGM9dC5tYXhXaWR0aCxkPXQubWF4SGVpZ2h0LHA9IXRoaXMuYmxvYnx8ImltYWdlL2pwZWciPT09dGhpcy5ibG9iLnR5cGUsaD1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZih0aGlzLmltYWdlTG9hZExpc3RlbmVycylyZXR1cm4gdm9pZCB0aGlzLmltYWdlTG9hZExpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7ci5yZW5kZXIoZSx0KX0pO3UmJiFsP2w9cyp1L2E8PDA6bCYmIXU/dT1hKmwvczw8MDoodT1hLGw9cyksYyYmdT5jJiYodT1jLGw9cyp1L2E8PDApLGQmJmw+ZCYmKGw9ZCx1PWEqbC9zPDwwKSxpPXt3aWR0aDp1LGhlaWdodDpsfSxxcS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtpW2VdPXR9KSwiaW1nIj09PWg/ZnVuY3Rpb24oKXt2YXIgdD1lLnNyYztuKHIuc3JjSW1hZ2Usci5ibG9iLGkscCkudGhlbihmdW5jdGlvbihuKXtlLnNyYz1uLHQ9PT1lLnNyYyYmZS5vbmxvYWQoKX0pfSgpOiJjYW52YXMiPT09aCYmbyh0aGlzLnNyY0ltYWdlLHRoaXMuYmxvYixlLGkscCksImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub25yZW5kZXImJnRoaXMub25yZW5kZXIoZSl9LHFxLk1lZ2FQaXhJbWFnZT1zfSgpLHFxLkltYWdlR2VuZXJhdG9yPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3JldHVybiJpbWciPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gbihlKXtyZXR1cm4iY2FudmFzIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gdm9pZCAwIT09KG5ldyBJbWFnZSkuY3Jvc3NPcmlnaW59ZnVuY3Rpb24gbygpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiBlLmdldENvbnRleHQmJmUuZ2V0Q29udGV4dCgiMmQiKX1mdW5jdGlvbiByKGUpe3ZhciB0PWUuc3BsaXQoIi8iKSxuPXRbdC5sZW5ndGgtMV0uc3BsaXQoIj8iKVswXSxpPXFxLmdldEV4dGVuc2lvbihuKTtzd2l0Y2goaT1pJiZpLnRvTG93ZXJDYXNlKCkpe2Nhc2UianBlZyI6Y2FzZSJqcGciOnJldHVybiJpbWFnZS9qcGVnIjtjYXNlInBuZyI6cmV0dXJuImltYWdlL3BuZyI7Y2FzZSJibXAiOnJldHVybiJpbWFnZS9ibXAiO2Nhc2UiZ2lmIjpyZXR1cm4iaW1hZ2UvZ2lmIjtjYXNlInRpZmYiOmNhc2UidGlmIjpyZXR1cm4iaW1hZ2UvdGlmZiJ9fWZ1bmN0aW9uIGEoZSl7dmFyIHQsbixpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBvLmhyZWY9ZSx0PW8ucHJvdG9jb2wsaT1vLnBvcnQsbj1vLmhvc3RuYW1lLHQudG9Mb3dlckNhc2UoKSE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpfHwobi50b0xvd2VyQ2FzZSgpIT09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCl8fGkhPT13aW5kb3cubG9jYXRpb24ucG9ydCYmIXFxLmllKCkpfWZ1bmN0aW9uIHModCxuKXt0Lm9ubG9hZD1mdW5jdGlvbigpe3Qub25sb2FkPW51bGwsdC5vbmVycm9yPW51bGwsbi5zdWNjZXNzKHQpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXt0Lm9ubG9hZD1udWxsLHQub25lcnJvcj1udWxsLGUoIlByb2JsZW0gZHJhd2luZyB0aHVtYm5haWwhIiwiZXJyb3IiKSxuLmZhaWx1cmUodCwiUHJvYmxlbSBkcmF3aW5nIHRodW1ibmFpbCEiKX19ZnVuY3Rpb24gdShlLHQpe2UucXFJbWFnZVJlbmRlcmVkPWZ1bmN0aW9uKCl7dC5zdWNjZXNzKGUpfX1mdW5jdGlvbiBsKGksbyl7dmFyIHI9dChpKXx8bihpKTtyZXR1cm4gdChpKT9zKGksbyk6bihpKT91KGksbyk6KG8uZmFpbHVyZShpKSxlKHFxLmZvcm1hdCgiRWxlbWVudCBjb250YWluZXIgb2YgdHlwZSB7fSBpcyBub3Qgc3VwcG9ydGVkISIsaS50YWdOYW1lKSwiZXJyb3IiKSkscn1mdW5jdGlvbiBjKHQsbixpKXt2YXIgbz1uZXcgcXEuUHJvbWlzZSxyPW5ldyBxcS5JZGVudGlmeSh0LGUpLGE9aS5tYXhTaXplLHM9bnVsbD09aS5vcmllbnR8fGkub3JpZW50LHU9ZnVuY3Rpb24oKXtuLm9uZXJyb3I9bnVsbCxuLm9ubG9hZD1udWxsLGUoIkNvdWxkIG5vdCByZW5kZXIgcHJldmlldywgZmlsZSBtYXkgYmUgdG9vIGxhcmdlISIsImVycm9yIiksby5mYWlsdXJlKG4sIkJyb3dzZXIgY2Fubm90IHJlbmRlciBpbWFnZSEiKX07cmV0dXJuIHIuaXNQcmV2aWV3YWJsZSgpLnRoZW4oZnVuY3Rpb24ocil7dmFyIGM9e3BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBxcS5Qcm9taXNlKS5zdWNjZXNzKCl9fSxkPXM/bmV3IHFxLkV4aWYodCxlKTpjLHA9bmV3IHFxLk1lZ2FQaXhJbWFnZSh0LHUpO2wobixvKSYmZC5wYXJzZSgpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5PcmllbnRhdGlvbjtwLnJlbmRlcihuLHttYXhXaWR0aDphLG1heEhlaWdodDphLG9yaWVudGF0aW9uOnQsbWltZTpyLHJlc2l6ZTppLmN1c3RvbVJlc2l6ZUZ1bmN0aW9ufSl9LGZ1bmN0aW9uKHQpe2UocXEuZm9ybWF0KCJFWElGIGRhdGEgY291bGQgbm90IGJlIHBhcnNlZCAoe30pLiAgQXNzdW1pbmcgb3JpZW50YXRpb24gPSAxLiIsdCkpLHAucmVuZGVyKG4se21heFdpZHRoOmEsbWF4SGVpZ2h0OmEsbWltZTpyLHJlc2l6ZTppLmN1c3RvbVJlc2l6ZUZ1bmN0aW9ufSl9KX0sZnVuY3Rpb24oKXtlKCJOb3QgcHJldmlld2FibGUiKSxvLmZhaWx1cmUobiwiTm90IHByZXZpZXdhYmxlIil9KSxvfWZ1bmN0aW9uIGQoZSx0LG4saSxvKXt2YXIgcz1uZXcgSW1hZ2UsdT1uZXcgcXEuUHJvbWlzZTtsKHMsdSksYShlKSYmKHMuY3Jvc3NPcmlnaW49ImFub255bW91cyIpLHMuc3JjPWUsdS50aGVuKGZ1bmN0aW9uKCl7bCh0LG4pLG5ldyBxcS5NZWdhUGl4SW1hZ2UocykucmVuZGVyKHQse21heFdpZHRoOmksbWF4SGVpZ2h0OmksbWltZTpyKGUpLHJlc2l6ZTpvfSl9LG4uZmFpbHVyZSl9ZnVuY3Rpb24gcChlLHQsbixpKXtsKHQsbikscXEodCkuY3NzKHttYXhXaWR0aDppKyJweCIsbWF4SGVpZ2h0OmkrInB4In0pLHQuc3JjPWV9ZnVuY3Rpb24gaChlLHIscyl7dmFyIHU9bmV3IHFxLlByb21pc2UsYz1zLnNjYWxlLGg9Yz9zLm1heFNpemU6bnVsbDtyZXR1cm4gYyYmdChyKT9vKCk/YShlKSYmIWkoKT9wKGUscix1LGgpOmQoZSxyLHUsaCk6cChlLHIsdSxoKTpuKHIpP2QoZSxyLHUsaCk6bChyLHUpJiYoci5zcmM9ZSksdX1xcS5leHRlbmQodGhpcyx7Z2VuZXJhdGU6ZnVuY3Rpb24odCxuLGkpe3JldHVybiBxcS5pc1N0cmluZyh0KT8oZSgiQXR0ZW1wdGluZyB0byB1cGRhdGUgdGh1bWJuYWlsIGJhc2VkIG9uIHNlcnZlciByZXNwb25zZS4iKSxoKHQsbixpfHx7fSkpOihlKCJBdHRlbXB0aW5nIHRvIGRyYXcgY2xpZW50LXNpZGUgaW1hZ2UgcHJldmlldy4iKSxjKHQsbixpfHx7fSkpfX0pLHRoaXMuX3Rlc3Rpbmc9e30sdGhpcy5fdGVzdGluZy5pc0ltZz10LHRoaXMuX3Rlc3RpbmcuaXNDYW52YXM9bix0aGlzLl90ZXN0aW5nLmlzQ3Jvc3NPcmlnaW49YSx0aGlzLl90ZXN0aW5nLmRldGVybWluZU1pbWVPZkZpbGVOYW1lPXJ9LHFxLkV4aWY9ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9MCxuPTA7ZS5sZW5ndGg+MDspdCs9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMCwyKSwxNikqTWF0aC5wb3coMixuKSxlPWUuc3Vic3RyaW5nKDIsZS5sZW5ndGgpLG4rPTg7cmV0dXJuIHR9ZnVuY3Rpb24gaSh0LG4pe3ZhciBvPXQscj1uO3JldHVybiB2b2lkIDA9PT1vJiYobz0yLHI9bmV3IHFxLlByb21pc2UpLHFxLnJlYWRCbG9iVG9IZXgoZSxvLDQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQsbj0vXmZmZShbMC05XSkvLmV4ZWMoZSk7bj8iMSIhPT1uWzFdPyh0PXBhcnNlSW50KGUuc2xpY2UoNCw4KSwxNiksaShvK3QrMixyKSk6ci5zdWNjZXNzKG8pOnIuZmFpbHVyZSgiTm8gRVhJRiBoZWFkZXIgdG8gYmUgZm91bmQhIil9KSxyfWZ1bmN0aW9uIG8oKXt2YXIgdD1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gcXEucmVhZEJsb2JUb0hleChlLDAsNikudGhlbihmdW5jdGlvbihlKXswIT09ZS5pbmRleE9mKCJmZmQ4Iik/dC5mYWlsdXJlKCJOb3QgYSB2YWxpZCBKUEVHISIpOmkoKS50aGVuKGZ1bmN0aW9uKGUpe3Quc3VjY2VzcyhlKX0sZnVuY3Rpb24oZSl7dC5mYWlsdXJlKGUpfSl9KSx0fWZ1bmN0aW9uIHIodCl7dmFyIG49bmV3IHFxLlByb21pc2U7cmV0dXJuIHFxLnJlYWRCbG9iVG9IZXgoZSx0KzEwLDIpLnRoZW4oZnVuY3Rpb24oZSl7bi5zdWNjZXNzKCI0OTQ5Ij09PWUpfSksbn1mdW5jdGlvbiBhKHQsaSl7dmFyIG89bmV3IHFxLlByb21pc2U7cmV0dXJuIHFxLnJlYWRCbG9iVG9IZXgoZSx0KzE4LDIpLnRoZW4oZnVuY3Rpb24oZSl7aWYoaSlyZXR1cm4gby5zdWNjZXNzKG4oZSkpO28uc3VjY2VzcyhwYXJzZUludChlLDE2KSl9KSxvfWZ1bmN0aW9uIHModCxuKXt2YXIgaT10KzIwLG89MTIqbjtyZXR1cm4gcXEucmVhZEJsb2JUb0hleChlLGksbyl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9W10sbj0wO24rMjQ8PWUubGVuZ3RoOyl0LnB1c2goZS5zbGljZShuLG4rMjQpKSxuKz0yNDtyZXR1cm4gdH1mdW5jdGlvbiBsKGUsdCl7dmFyIGk9cXEuZXh0ZW5kKFtdLGMpLG89e307cmV0dXJuIHFxLmVhY2godCxmdW5jdGlvbih0LHIpe3ZhciBhLHMsdSxsPXIuc2xpY2UoMCw0KSxjPWU/bihsKTpwYXJzZUludChsLDE2KSxwPWkuaW5kZXhPZihjKTtpZihwPj0wJiYocz1kW2NdLm5hbWUsdT1kW2NdLmJ5dGVzLGE9ci5zbGljZSgxNiwxNisyKnUpLG9bc109ZT9uKGEpOnBhcnNlSW50KGEsMTYpLGkuc3BsaWNlKHAsMSkpLDA9PT1pLmxlbmd0aClyZXR1cm4hMX0pLG99dmFyIGM9WzI3NF0sZD17Mjc0OntuYW1lOiJPcmllbnRhdGlvbiIsYnl0ZXM6Mn19O3FxLmV4dGVuZCh0aGlzLHtwYXJzZTpmdW5jdGlvbigpe3ZhciBuPW5ldyBxcS5Qcm9taXNlLGk9ZnVuY3Rpb24oZSl7dChxcS5mb3JtYXQoIkVYSUYgaGVhZGVyIHBhcnNlIGZhaWxlZDogJ3t9JyAiLGUpKSxuLmZhaWx1cmUoZSl9O3JldHVybiBvKCkudGhlbihmdW5jdGlvbihvKXt0KHFxLmZvcm1hdCgiTW92aW5nIGZvcndhcmQgd2l0aCBFWElGIGhlYWRlciBwYXJzaW5nIGZvciAne30nIix2b2lkIDA9PT1lLm5hbWU/ImJsb2IiOmUubmFtZSkpLHIobykudGhlbihmdW5jdGlvbihlKXt0KHFxLmZvcm1hdCgiRVhJRiBCeXRlIG9yZGVyIGlzIHt9IGVuZGlhbiIsZT8ibGl0dGxlIjoiYmlnIikpLGEobyxlKS50aGVuKGZ1bmN0aW9uKHIpe3QocXEuZm9ybWF0KCJGb3VuZCB7fSBBUFAxIGRpcmVjdG9yeSBlbnRyaWVzIixyKSkscyhvLHIpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIG89dShpKSxyPWwoZSxvKTt0KCJTdWNjZXNzZnVsbHkgcGFyc2VkIHNvbWUgRVhJRiB0YWdzIiksbi5zdWNjZXNzKHIpfSxpKX0saSl9LGkpfSxpKSxufX0pLHRoaXMuX3Rlc3Rpbmc9e30sdGhpcy5fdGVzdGluZy5wYXJzZUxpdHRsZUVuZGlhbj1ufSxxcS5JZGVudGlmeT1mdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7dmFyIG49ITEsaT1bXS5jb25jYXQoZSk7cmV0dXJuIHFxLmVhY2goaSxmdW5jdGlvbihlLGkpe2lmKDA9PT10LmluZGV4T2YoaSkpcmV0dXJuIG49ITAsITF9KSxufXFxLmV4dGVuZCh0aGlzLHtpc1ByZXZpZXdhYmxlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxvPW5ldyBxcS5Qcm9taXNlLHI9ITEsYT12b2lkIDA9PT1lLm5hbWU/ImJsb2IiOmUubmFtZTtyZXR1cm4gdChxcS5mb3JtYXQoIkF0dGVtcHRpbmcgdG8gZGV0ZXJtaW5lIGlmIHt9IGNhbiBiZSByZW5kZXJlZCBpbiB0aGlzIGJyb3dzZXIiLGEpKSx0KCJGaXJzdCBwYXNzOiBjaGVjayB0eXBlIGF0dHJpYnV0ZSBvZiBibG9iIG9iamVjdC4iKSx0aGlzLmlzUHJldmlld2FibGVTeW5jKCk/KHQoIlNlY29uZCBwYXNzOiBjaGVjayBmb3IgbWFnaWMgYnl0ZXMgaW4gZmlsZSBoZWFkZXIuIikscXEucmVhZEJsb2JUb0hleChlLDAsNCkudGhlbihmdW5jdGlvbihlKXtxcS5lYWNoKGkuUFJFVklFV0FCTEVfTUlNRV9UWVBFUyxmdW5jdGlvbih0LGkpe2lmKG4oaSxlKSlyZXR1cm4oImltYWdlL3RpZmYiIT09dHx8cXEuc3VwcG9ydGVkRmVhdHVyZXMudGlmZlByZXZpZXdzKSYmKHI9ITAsby5zdWNjZXNzKHQpKSwhMX0pLHQocXEuZm9ybWF0KCIne30nIGlzIHt9IGFibGUgdG8gYmUgcmVuZGVyZWQgaW4gdGhpcyBicm93c2VyIixhLHI/IiI6Ik5PVCIpKSxyfHxvLmZhaWx1cmUoKX0sZnVuY3Rpb24oKXt0KCJFcnJvciByZWFkaW5nIGZpbGUgdy8gbmFtZSAnIithKyInLiAgTm90IGFibGUgdG8gYmUgcmVuZGVyZWQgaW4gdGhpcyBicm93c2VyLiIpLG8uZmFpbHVyZSgpfSkpOm8uZmFpbHVyZSgpLG99LGlzUHJldmlld2FibGVTeW5jOmZ1bmN0aW9uKCl7dmFyIG49ZS50eXBlLGk9cXEuaW5kZXhPZihPYmplY3Qua2V5cyh0aGlzLlBSRVZJRVdBQkxFX01JTUVfVFlQRVMpLG4pPj0wLG89ITEscj12b2lkIDA9PT1lLm5hbWU/ImJsb2IiOmUubmFtZTtyZXR1cm4gaSYmKG89ImltYWdlL3RpZmYiIT09bnx8cXEuc3VwcG9ydGVkRmVhdHVyZXMudGlmZlByZXZpZXdzKSwhbyYmdChyKyIgaXMgbm90IHByZXZpZXdhYmxlIGluIHRoaXMgYnJvd3NlciBwZXIgdGhlIGJsb2IncyB0eXBlIGF0dHIiKSxvfX0pfSxxcS5JZGVudGlmeS5wcm90b3R5cGUuUFJFVklFV0FCTEVfTUlNRV9UWVBFUz17ImltYWdlL2pwZWciOiJmZmQ4ZmYiLCJpbWFnZS9naWYiOiI0NzQ5NDYiLCJpbWFnZS9wbmciOiI4OTUwNGUiLCJpbWFnZS9ibXAiOiI0MjRkIiwiaW1hZ2UvdGlmZiI6WyI0OTQ5MmEwMCIsIjRkNGQwMDJhIl19LHFxLkltYWdlVmFsaWRhdGlvbj1mdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PSExO3JldHVybiBxcS5lYWNoKGUsZnVuY3Rpb24oZSxuKXtpZihuPjApcmV0dXJuIHQ9ITAsITF9KSx0fWZ1bmN0aW9uIGkoKXt2YXIgbj1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gbmV3IHFxLklkZW50aWZ5KGUsdCkuaXNQcmV2aWV3YWJsZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgaT1uZXcgSW1hZ2Usbz13aW5kb3cuVVJMJiZ3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cuVVJMOndpbmRvdy53ZWJraXRVUkwmJndpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMP3dpbmRvdy53ZWJraXRVUkw6bnVsbDtvPyhpLm9uZXJyb3I9ZnVuY3Rpb24oKXt0KCJDYW5ub3QgZGV0ZXJtaW5lIGRpbWVuc2lvbnMgZm9yIGltYWdlLiAgTWF5IGJlIHRvbyBsYXJnZS4iLCJlcnJvciIpLG4uZmFpbHVyZSgpfSxpLm9ubG9hZD1mdW5jdGlvbigpe24uc3VjY2Vzcyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KX0saS5zcmM9by5jcmVhdGVPYmplY3RVUkwoZSkpOih0KCJObyBjcmVhdGVPYmplY3RVUkwgZnVuY3Rpb24gYXZhaWxhYmxlIHRvIGdlbmVyYXRlIGltYWdlIFVSTCEiLCJlcnJvciIpLG4uZmFpbHVyZSgpKX0sbi5mYWlsdXJlKSxufWZ1bmN0aW9uIG8oZSx0KXt2YXIgbjtyZXR1cm4gcXEuZWFjaChlLGZ1bmN0aW9uKGUsaSl7aWYoaT4wKXt2YXIgbz0vKG1heHxtaW4pKFdpZHRofEhlaWdodCkvLmV4ZWMoZSkscj1vWzJdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK29bMl0uc2xpY2UoMSksYT10W3JdO3N3aXRjaChvWzFdKXtjYXNlIm1pbiI6aWYoYTxpKXJldHVybiBuPWUsITE7YnJlYWs7Y2FzZSJtYXgiOmlmKGE+aSlyZXR1cm4gbj1lLCExfX19KSxufXRoaXMudmFsaWRhdGU9ZnVuY3Rpb24oZSl7dmFyIHI9bmV3IHFxLlByb21pc2U7cmV0dXJuIHQoIkF0dGVtcHRpbmcgdG8gdmFsaWRhdGUgaW1hZ2UuIiksbihlKT9pKCkudGhlbihmdW5jdGlvbih0KXt2YXIgbj1vKGUsdCk7bj9yLmZhaWx1cmUobik6ci5zdWNjZXNzKCl9LHIuc3VjY2Vzcyk6ci5zdWNjZXNzKCkscn19LHFxLlNlc3Npb249ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7aWYocXEuaXNBcnJheShlKSlyZXR1cm4hMDtpLmxvZygiU2Vzc2lvbiByZXNwb25zZSBpcyBub3QgYW4gYXJyYXkuIiwiZXJyb3IiKX1mdW5jdGlvbiBuKGUsbixvLHIpe3ZhciBhPSExO249biYmdChlKSxuJiZxcS5lYWNoKGUsZnVuY3Rpb24oZSx0KXtpZihudWxsPT10LnV1aWQpYT0hMCxpLmxvZyhxcS5mb3JtYXQoIlNlc3Npb24gcmVzcG9uc2UgaXRlbSB7fSBkaWQgbm90IGluY2x1ZGUgYSB2YWxpZCBVVUlEIC0gaWdub3JpbmcuIixlKSwiZXJyb3IiKTtlbHNlIGlmKG51bGw9PXQubmFtZSlhPSEwLGkubG9nKHFxLmZvcm1hdCgiU2Vzc2lvbiByZXNwb25zZSBpdGVtIHt9IGRpZCBub3QgaW5jbHVkZSBhIHZhbGlkIG5hbWUgLSBpZ25vcmluZy4iLGUpLCJlcnJvciIpO2Vsc2UgdHJ5e3JldHVybiBpLmFkZEZpbGVSZWNvcmQodCksITB9Y2F0Y2goZSl7YT0hMCxpLmxvZyhlLm1lc3NhZ2UsImVycm9yIil9cmV0dXJuITF9KSxyW24mJiFhPyJzdWNjZXNzIjoiZmFpbHVyZSJdKGUsbyl9dmFyIGk9e2VuZHBvaW50Om51bGwscGFyYW1zOnt9LGN1c3RvbUhlYWRlcnM6e30sY29yczp7fSxhZGRGaWxlUmVjb3JkOmZ1bmN0aW9uKGUpe30sbG9nOmZ1bmN0aW9uKGUsdCl7fX07cXEuZXh0ZW5kKGksZSwhMCksdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHFxLlByb21pc2UsdD1mdW5jdGlvbih0LGksbyl7bih0LGksbyxlKX0sbz1xcS5leHRlbmQoe30saSk7cmV0dXJuIG5ldyBxcS5TZXNzaW9uQWpheFJlcXVlc3RlcihxcS5leHRlbmQobyx7b25Db21wbGV0ZTp0fSkpLnF1ZXJ5U2VydmVyKCksZX19LHFxLlNlc3Npb25BamF4UmVxdWVzdGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUsdCxuKXt2YXIgbz1udWxsO2lmKG51bGwhPXQucmVzcG9uc2VUZXh0KXRyeXtvPXFxLnBhcnNlSnNvbih0LnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7aS5sb2coIlByb2JsZW0gcGFyc2luZyBzZXNzaW9uIHJlc3BvbnNlOiAiK2UubWVzc2FnZSwiZXJyb3IiKSxuPSEwfWkub25Db21wbGV0ZShvLCFuLHQpfXZhciBuLGk9e2VuZHBvaW50Om51bGwsY3VzdG9tSGVhZGVyczp7fSxwYXJhbXM6e30sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKGUsdCxuKXt9LGxvZzpmdW5jdGlvbihlLHQpe319O3FxLmV4dGVuZChpLGUpLG49cXEuZXh0ZW5kKHRoaXMsbmV3IHFxLkFqYXhSZXF1ZXN0ZXIoe2FjY2VwdEhlYWRlcjoiYXBwbGljYXRpb24vanNvbiIsdmFsaWRNZXRob2RzOlsiR0VUIl0sbWV0aG9kOiJHRVQiLGVuZHBvaW50U3RvcmU6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLmVuZHBvaW50fX0sY3VzdG9tSGVhZGVyczppLmN1c3RvbUhlYWRlcnMsbG9nOmkubG9nLG9uQ29tcGxldGU6dCxjb3JzOmkuY29yc30pKSxxcS5leHRlbmQodGhpcyx7cXVlcnlTZXJ2ZXI6ZnVuY3Rpb24oKXt2YXIgZT1xcS5leHRlbmQoe30saS5wYXJhbXMpO2kubG9nKCJTZXNzaW9uIHF1ZXJ5IHJlcXVlc3QuIiksbi5pbml0VHJhbnNwb3J0KCJzZXNzaW9uUmVmcmVzaCIpLndpdGhQYXJhbXMoZSkud2l0aENhY2hlQnVzdGVyKCkuc2VuZCgpfX0pfSxxcS5TY2FsZXI9ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIG49ZS5jdXN0b21SZXNpemVyLGk9ZS5zZW5kT3JpZ2luYWwsbz1lLm9yaWVudCxyPWUuZGVmYXVsdFR5cGUsYT1lLmRlZmF1bHRRdWFsaXR5LzEwMCxzPWUuZmFpbHVyZVRleHQsdT1lLmluY2x1ZGVFeGlmLGw9dGhpcy5fZ2V0U29ydGVkU2l6ZXMoZS5zaXplcyk7cXEuZXh0ZW5kKHRoaXMse2VuYWJsZWQ6cXEuc3VwcG9ydGVkRmVhdHVyZXMuc2NhbGluZyYmbC5sZW5ndGg+MCxnZXRGaWxlUmVjb3JkczpmdW5jdGlvbihlLGMsZCl7dmFyIHA9dGhpcyxoPVtdLGY9ZC5ibG9iP2QuYmxvYjpkO3JldHVybiBuZXcgcXEuSWRlbnRpZnkoZix0KS5pc1ByZXZpZXdhYmxlU3luYygpPyhxcS5lYWNoKGwsZnVuY3Rpb24oZSxpKXt2YXIgbD1wLl9kZXRlcm1pbmVPdXRwdXRUeXBlKHtkZWZhdWx0VHlwZTpyLHJlcXVlc3RlZFR5cGU6aS50eXBlLHJlZlR5cGU6Zi50eXBlfSk7aC5wdXNoKHt1dWlkOnFxLmdldFVuaXF1ZUlkKCksbmFtZTpwLl9nZXROYW1lKGMse25hbWU6aS5uYW1lLHR5cGU6bCxyZWZUeXBlOmYudHlwZX0pLGJsb2I6bmV3IHFxLkJsb2JQcm94eShmLHFxLmJpbmQocC5fZ2VuZXJhdGVTY2FsZWRJbWFnZSxwLHtjdXN0b21SZXNpemVGdW5jdGlvbjpuLG1heFNpemU6aS5tYXhTaXplLG9yaWVudDpvLHR5cGU6bCxxdWFsaXR5OmEsZmFpbGVkVGV4dDpzLGluY2x1ZGVFeGlmOnUsbG9nOnR9KSl9KX0pLGgucHVzaCh7dXVpZDplLG5hbWU6YyxzaXplOmYuc2l6ZSxibG9iOmk/ZjpudWxsfSkpOmgucHVzaCh7dXVpZDplLG5hbWU6YyxzaXplOmYuc2l6ZSxibG9iOmZ9KSxofSxoYW5kbGVOZXdGaWxlOmZ1bmN0aW9uKGUsdCxuLGksbyxyLGEscyl7dmFyIHU9dGhpcyxsPShlLnFxQnV0dG9uSWR8fGUuYmxvYiYmZS5ibG9iLnFxQnV0dG9uSWQsW10pLGM9bnVsbCxkPXMuYWRkRmlsZVRvSGFuZGxlcixwPXMudXBsb2FkRGF0YSxoPXMucGFyYW1zU3RvcmUsZj1xcS5nZXRVbmlxdWVJZCgpO3FxLmVhY2godS5nZXRGaWxlUmVjb3JkcyhuLHQsZSksZnVuY3Rpb24oZSx0KXt2YXIgbixpPXQuc2l6ZQ0KO3QuYmxvYiBpbnN0YW5jZW9mIHFxLkJsb2JQcm94eSYmKGk9LTEpLG49cC5hZGRGaWxlKHt1dWlkOnQudXVpZCxuYW1lOnQubmFtZSxzaXplOmksYmF0Y2hJZDpyLHByb3h5R3JvdXBJZDpmfSksdC5ibG9iIGluc3RhbmNlb2YgcXEuQmxvYlByb3h5P2wucHVzaChuKTpjPW4sdC5ibG9iPyhkKG4sdC5ibG9iKSxvLnB1c2goe2lkOm4sZmlsZTp0LmJsb2J9KSk6cC5zZXRTdGF0dXMobixxcS5zdGF0dXMuUkVKRUNURUQpfSksbnVsbCE9PWMmJihxcS5lYWNoKGwsZnVuY3Rpb24oZSx0KXt2YXIgbj17cXFwYXJlbnR1dWlkOnAucmV0cmlldmUoe2lkOmN9KS51dWlkLHFxcGFyZW50c2l6ZTpwLnJldHJpZXZlKHtpZDpjfSkuc2l6ZX07blthXT1wLnJldHJpZXZlKHtpZDp0fSkudXVpZCxwLnNldFBhcmVudElkKHQsYyksaC5hZGRSZWFkT25seSh0LG4pfSksbC5sZW5ndGgmJmZ1bmN0aW9uKCl7dmFyIGU9e307ZVthXT1wLnJldHJpZXZlKHtpZDpjfSkudXVpZCxoLmFkZFJlYWRPbmx5KGMsZSl9KCkpfX0pfSxxcS5leHRlbmQocXEuU2NhbGVyLnByb3RvdHlwZSx7c2NhbGVJbWFnZTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2lmKCFxcS5zdXBwb3J0ZWRGZWF0dXJlcy5zY2FsaW5nKXRocm93IG5ldyBxcS5FcnJvcigiU2NhbGluZyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciEiKTt2YXIgaT1uZXcgcXEuUHJvbWlzZSxvPW4ubG9nLHI9bi5nZXRGaWxlKGUpLGE9bi51cGxvYWREYXRhLnJldHJpZXZlKHtpZDplfSkscz1hJiZhLm5hbWUsdT1hJiZhLnV1aWQsbD17Y3VzdG9tUmVzaXplcjp0LmN1c3RvbVJlc2l6ZXIsc2VuZE9yaWdpbmFsOiExLG9yaWVudDp0Lm9yaWVudCxkZWZhdWx0VHlwZTp0LnR5cGV8fG51bGwsZGVmYXVsdFF1YWxpdHk6dC5xdWFsaXR5LGZhaWxlZFRvU2NhbGVUZXh0OiJVbmFibGUgdG8gc2NhbGUiLHNpemVzOlt7bmFtZToiIixtYXhTaXplOnQubWF4U2l6ZX1dfSxjPW5ldyBxcS5TY2FsZXIobCxvKTtyZXR1cm4gcXEuU2NhbGVyJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzJiZyP3FxLmJpbmQoZnVuY3Rpb24oKXt2YXIgdD1jLmdldEZpbGVSZWNvcmRzKHUscyxyKVswXTt0JiZ0LmJsb2IgaW5zdGFuY2VvZiBxcS5CbG9iUHJveHk/dC5ibG9iLmNyZWF0ZSgpLnRoZW4oaS5zdWNjZXNzLGkuZmFpbHVyZSk6KG8oZSsiIGlzIG5vdCBhIHNjYWxhYmxlIGltYWdlISIsImVycm9yIiksaS5mYWlsdXJlKCkpfSx0aGlzKSgpOihpLmZhaWx1cmUoKSxvKCJDb3VsZCBub3QgZ2VuZXJhdGUgcmVxdWVzdGVkIHNjYWxlZCBpbWFnZSBmb3IgIitlKyIuICBTY2FsaW5nIGlzIGVpdGhlciBub3QgcG9zc2libGUgaW4gdGhpcyBicm93c2VyLCBvciB0aGUgZmlsZSBjb3VsZCBub3QgYmUgbG9jYXRlZC4iLCJlcnJvciIpKSxpfSxfZGV0ZXJtaW5lT3V0cHV0VHlwZTpmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQ9ZS5yZXF1ZXN0ZWRUeXBlLG49ZS5kZWZhdWx0VHlwZSxpPWUucmVmVHlwZTtyZXR1cm4gbnx8dD90JiZxcS5pbmRleE9mKE9iamVjdC5rZXlzKHFxLklkZW50aWZ5LnByb3RvdHlwZS5QUkVWSUVXQUJMRV9NSU1FX1RZUEVTKSx0KT49MD8iaW1hZ2UvdGlmZiI9PT10P3FxLnN1cHBvcnRlZEZlYXR1cmVzLnRpZmZQcmV2aWV3cz90Om46dDpuOiJpbWFnZS9qcGVnIiE9PWk/ImltYWdlL3BuZyI6aX0sX2dldE5hbWU6ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIG49ZS5sYXN0SW5kZXhPZigiLiIpLGk9dC50eXBlfHwiaW1hZ2UvcG5nIixvPXQucmVmVHlwZSxyPSIiLGE9cXEuZ2V0RXh0ZW5zaW9uKGUpLHM9IiI7cmV0dXJuIHQubmFtZSYmdC5uYW1lLnRyaW0oKS5sZW5ndGgmJihzPSIgKCIrdC5uYW1lKyIpIiksbj49MD8ocj1lLnN1YnN0cigwLG4pLG8hPT1pJiYoYT1pLnNwbGl0KCIvIilbMV0pLHIrPXMrIi4iK2EpOnI9ZStzLHJ9LF9nZXRTb3J0ZWRTaXplczpmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7cmV0dXJuIGU9cXEuZXh0ZW5kKFtdLGUpLGUuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLm1heFNpemU+dC5tYXhTaXplPzE6ZS5tYXhTaXplPHQubWF4U2l6ZT8tMTowfSl9LF9nZW5lcmF0ZVNjYWxlZEltYWdlOmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciBuPXRoaXMsaT1lLmN1c3RvbVJlc2l6ZUZ1bmN0aW9uLG89ZS5sb2cscj1lLm1heFNpemUsYT1lLm9yaWVudCxzPWUudHlwZSx1PWUucXVhbGl0eSxsPWUuZmFpbGVkVGV4dCxjPWUuaW5jbHVkZUV4aWYmJiJpbWFnZS9qcGVnIj09PXQudHlwZSYmImltYWdlL2pwZWciPT09cyxkPW5ldyBxcS5Qcm9taXNlLHA9bmV3IHFxLkltYWdlR2VuZXJhdG9yKG8pLGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIG8oIkF0dGVtcHRpbmcgdG8gZ2VuZXJhdGUgc2NhbGVkIHZlcnNpb24gZm9yICIrdC5uYW1lKSxwLmdlbmVyYXRlKHQsaCx7bWF4U2l6ZTpyLG9yaWVudDphLGN1c3RvbVJlc2l6ZUZ1bmN0aW9uOml9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIGU9aC50b0RhdGFVUkwocyx1KSxpPWZ1bmN0aW9uKCl7bygiU3VjY2VzcyBnZW5lcmF0aW5nIHNjYWxlZCB2ZXJzaW9uIGZvciAiK3QubmFtZSk7dmFyIG49cXEuZGF0YVVyaVRvQmxvYihlKTtkLnN1Y2Nlc3Mobil9O2M/bi5faW5zZXJ0RXhpZkhlYWRlcih0LGUsbykudGhlbihmdW5jdGlvbih0KXtlPXQsaSgpfSxmdW5jdGlvbigpe28oIlByb2JsZW0gaW5zZXJ0aW5nIEVYSUYgaGVhZGVyIGludG8gc2NhbGVkIGltYWdlLiAgVXNpbmcgc2NhbGVkIGltYWdlIHcvb3V0IEVYSUYgZGF0YS4iLCJlcnJvciIpLGkoKX0pOmkoKX0sZnVuY3Rpb24oKXtvKCJGYWlsZWQgYXR0ZW1wdCB0byBnZW5lcmF0ZSBzY2FsZWQgdmVyc2lvbiBmb3IgIit0Lm5hbWUsImVycm9yIiksZC5mYWlsdXJlKGwpfSksZH0sX2luc2VydEV4aWZIZWFkZXI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1uZXcgRmlsZVJlYWRlcixvPW5ldyBxcS5Qcm9taXNlLHI9IiI7cmV0dXJuIGkub25sb2FkPWZ1bmN0aW9uKCl7cj1pLnJlc3VsdCxvLnN1Y2Nlc3MocXEuRXhpZlJlc3RvcmVyLnJlc3RvcmUocix0KSl9LGkub25lcnJvcj1mdW5jdGlvbigpe24oIlByb2JsZW0gcmVhZGluZyAiK2UubmFtZSsiIGR1cmluZyBhdHRlbXB0IHRvIHRyYW5zZmVyIEVYSUYgZGF0YSB0byBzY2FsZWQgdmVyc2lvbi4iLCJlcnJvciIpLG8uZmFpbHVyZSgpfSxpLnJlYWRBc0RhdGFVUkwoZSksb30sX2RhdGFVcmlUb0Jsb2I6ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciB0LG4saSxvO3JldHVybiB0PWUuc3BsaXQoIiwiKVswXS5pbmRleE9mKCJiYXNlNjQiKT49MD9hdG9iKGUuc3BsaXQoIiwiKVsxXSk6ZGVjb2RlVVJJKGUuc3BsaXQoIiwiKVsxXSksbj1lLnNwbGl0KCIsIilbMF0uc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpWzBdLGk9bmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSxvPW5ldyBVaW50OEFycmF5KGkpLHFxLmVhY2godCxmdW5jdGlvbihlLHQpe29bZV09dC5jaGFyQ29kZUF0KDApfSksdGhpcy5fY3JlYXRlQmxvYihpLG4pfSxfY3JlYXRlQmxvYjpmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcixpPW4mJm5ldyBuO3JldHVybiBpPyhpLmFwcGVuZChlKSxpLmdldEJsb2IodCkpOm5ldyBCbG9iKFtlXSx7dHlwZTp0fSl9fSkscXEuRXhpZlJlc3RvcmVyPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUuS0VZX1NUUj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLGUuZW5jb2RlNjQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLG8scixhPSIiLHM9IiIsdT0iIixsPTA7ZG8gdD1lW2wrK10sbj1lW2wrK10scz1lW2wrK10saT10Pj4yLG89KDMmdCk8PDR8bj4+NCxyPSgxNSZuKTw8MnxzPj42LHU9NjMmcyxpc05hTihuKT9yPXU9NjQ6aXNOYU4ocykmJih1PTY0KSxhPWErdGhpcy5LRVlfU1RSLmNoYXJBdChpKSt0aGlzLktFWV9TVFIuY2hhckF0KG8pK3RoaXMuS0VZX1NUUi5jaGFyQXQocikrdGhpcy5LRVlfU1RSLmNoYXJBdCh1KSx0PW49cz0iIixpPW89cj11PSIiO3doaWxlKGw8ZS5sZW5ndGgpO3JldHVybiBhfSxlLnJlc3RvcmU9ZnVuY3Rpb24oZSx0KXtpZighZS5tYXRjaCgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiKSlyZXR1cm4gdDt2YXIgbj10aGlzLmRlY29kZTY0KGUucmVwbGFjZSgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiLCIiKSksaT10aGlzLnNsaWNlMlNlZ21lbnRzKG4pLG89dGhpcy5leGlmTWFuaXB1bGF0aW9uKHQsaSk7cmV0dXJuImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIit0aGlzLmVuY29kZTY0KG8pfSxlLmV4aWZNYW5pcHVsYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEV4aWZBcnJheSh0KSxpPXRoaXMuaW5zZXJ0RXhpZihlLG4pO3JldHVybiBuZXcgVWludDhBcnJheShpKX0sZS5nZXRFeGlmQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MDtuPGUubGVuZ3RoO24rKylpZih0PWVbbl0sMjU1PT10WzBdJjIyNT09dFsxXSlyZXR1cm4gdDtyZXR1cm5bXX0sZS5pbnNlcnRFeGlmPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5yZXBsYWNlKCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIsIiIpLGk9dGhpcy5kZWNvZGU2NChuKSxvPWkuaW5kZXhPZigyNTUsMykscj1pLnNsaWNlKDAsbyksYT1pLnNsaWNlKG8pLHM9cjtyZXR1cm4gcz1zLmNvbmNhdCh0KSxzPXMuY29uY2F0KGEpfSxlLnNsaWNlMlNlZ21lbnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49W107Oyl7aWYoMjU1PT1lW3RdJjIxOD09ZVt0KzFdKWJyZWFrO2lmKDI1NT09ZVt0XSYyMTY9PWVbdCsxXSl0Kz0yO2Vsc2V7dmFyIGk9MjU2KmVbdCsyXStlW3QrM10sbz10K2krMixyPWUuc2xpY2UodCxvKTtuLnB1c2gociksdD1vfWlmKHQ+ZS5sZW5ndGgpYnJlYWt9cmV0dXJuIG59LGUuZGVjb2RlNjQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLG8scixhPSIiLHM9IiIsdT0wLGw9W107aWYoL1teQS1aYS16MC05XCtcL1w9XS9nLmV4ZWMoZSkpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuICBWYWxpZCBiYXNlNjQgY2hhcmFjdGVycyBhcmUgQS1aLCBhLXosIDAtOSwgJysnLCAnLycsYW5kICc9JyIpO2U9ZS5yZXBsYWNlKC9bXkEtWmEtejAtOVwrXC9cPV0vZywiIik7ZG8gaT10aGlzLktFWV9TVFIuaW5kZXhPZihlLmNoYXJBdCh1KyspKSxvPXRoaXMuS0VZX1NUUi5pbmRleE9mKGUuY2hhckF0KHUrKykpLHI9dGhpcy5LRVlfU1RSLmluZGV4T2YoZS5jaGFyQXQodSsrKSkscz10aGlzLktFWV9TVFIuaW5kZXhPZihlLmNoYXJBdCh1KyspKSx0PWk8PDJ8bz4+NCxuPSgxNSZvKTw8NHxyPj4yLGE9KDMmcik8PDZ8cyxsLnB1c2godCksNjQhPXImJmwucHVzaChuKSw2NCE9cyYmbC5wdXNoKGEpLHQ9bj1hPSIiLGk9bz1yPXM9IiI7d2hpbGUodTxlLmxlbmd0aCk7cmV0dXJuIGx9LGV9KCkscXEuVG90YWxQcm9ncmVzcz1mdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj17fSxpPTAsbz0wLHI9LTEsYT0tMSxzPWZ1bmN0aW9uKHQsbil7dD09PXImJm49PT1hfHxlKHQsbikscj10LGE9bn0sdT1mdW5jdGlvbihlLHQpe3ZhciBuPSEwO3JldHVybiBxcS5lYWNoKGUsZnVuY3Rpb24oZSxpKXtpZihxcS5pbmRleE9mKHQsaSk+PTApcmV0dXJuIG49ITEsITF9KSxufSxsPWZ1bmN0aW9uKGUpe3AoZSwtMSwtMSksZGVsZXRlIG5bZV19LGM9ZnVuY3Rpb24oZSx0LG4peygwPT09dC5sZW5ndGh8fHUodCxuKSkmJihzKG8sbyksdGhpcy5yZXNldCgpKX0sZD1mdW5jdGlvbihlKXt2YXIgaT10KGUpO2k+MCYmKHAoZSwwLGkpLG5bZV09e2xvYWRlZDowLHRvdGFsOml9KX0scD1mdW5jdGlvbihlLHQscil7dmFyIGE9bltlXT9uW2VdLmxvYWRlZDowLHU9bltlXT9uW2VdLnRvdGFsOjA7dD09PS0xJiZyPT09LTE/KGktPWEsby09dSk6KHQmJihpKz10LWEpLHImJihvKz1yLXUpKSxzKGksbyl9O3FxLmV4dGVuZCh0aGlzLHtvbkFsbENvbXBsZXRlOmMsb25TdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oZSx0LG4pe249PT1xcS5zdGF0dXMuQ0FOQ0VMRUR8fG49PT1xcS5zdGF0dXMuUkVKRUNURUQ/bChlKTpuPT09cXEuc3RhdHVzLlNVQk1JVFRJTkcmJmQoZSl9LG9uSW5kaXZpZHVhbFByb2dyZXNzOmZ1bmN0aW9uKGUsdCxpKXtwKGUsdCxpKSxuW2VdPXtsb2FkZWQ6dCx0b3RhbDppfX0sb25OZXdTaXplOmZ1bmN0aW9uKGUpe2QoZSl9LHJlc2V0OmZ1bmN0aW9uKCl7bj17fSxpPTAsbz0wfX0pfSxxcS5QYXN0ZVN1cHBvcnQ9ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUudHlwZSYmMD09PWUudHlwZS5pbmRleE9mKCJpbWFnZS8iKX1mdW5jdGlvbiBuKCl7cj1xcShvLnRhcmdldEVsZW1lbnQpLmF0dGFjaCgicGFzdGUiLGZ1bmN0aW9uKGUpe3ZhciBuPWUuY2xpcGJvYXJkRGF0YTtuJiZxcS5lYWNoKG4uaXRlbXMsZnVuY3Rpb24oZSxuKXtpZih0KG4pKXt2YXIgaT1uLmdldEFzRmlsZSgpO28uY2FsbGJhY2tzLnBhc3RlUmVjZWl2ZWQoaSl9fSl9KX1mdW5jdGlvbiBpKCl7ciYmcigpfXZhciBvLHI7bz17dGFyZ2V0RWxlbWVudDpudWxsLGNhbGxiYWNrczp7bG9nOmZ1bmN0aW9uKGUsdCl7fSxwYXN0ZVJlY2VpdmVkOmZ1bmN0aW9uKGUpe319fSxxcS5leHRlbmQobyxlKSxuKCkscXEuZXh0ZW5kKHRoaXMse3Jlc2V0OmZ1bmN0aW9uKCl7aSgpfX0pfSxxcS5Gb3JtU3VwcG9ydD1mdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoZSl7ZS5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpJiYocy5uZXdFbmRwb2ludD1lLmdldEF0dHJpYnV0ZSgiYWN0aW9uIikpfWZ1bmN0aW9uIG8oZSx0KXtpZighZS5jaGVja1ZhbGlkaXR5fHxlLmNoZWNrVmFsaWRpdHkoKSlyZXR1cm4hMDtuKCJGb3JtIGRpZCBub3QgcGFzcyB2YWxpZGF0aW9uIGNoZWNrcyAtIHdpbGwgbm90IHVwbG9hZC4iLCJlcnJvciIpLHQoKX1mdW5jdGlvbiByKGUpe3ZhciBuPWUuc3VibWl0O3FxKGUpLmF0dGFjaCgic3VibWl0IixmdW5jdGlvbihpKXtpPWl8fHdpbmRvdy5ldmVudCxpLnByZXZlbnREZWZhdWx0P2kucHJldmVudERlZmF1bHQoKTppLnJldHVyblZhbHVlPSExLG8oZSxuKSYmdCgpfSksZS5zdWJtaXQ9ZnVuY3Rpb24oKXtvKGUsbikmJnQoKX19ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmKHFxLmlzU3RyaW5nKGUpJiYoZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSksZSYmKG4oIkF0dGFjaGluZyB0byBmb3JtIGVsZW1lbnQuIiksaShlKSx1JiZyKGUpKSksZX12YXIgcz10aGlzLHU9ZS5pbnRlcmNlcHRTdWJtaXQsbD1lLmVsZW1lbnQsYz1lLmF1dG9VcGxvYWQ7cXEuZXh0ZW5kKHRoaXMse25ld0VuZHBvaW50Om51bGwsbmV3QXV0b1VwbG9hZDpjLGF0dGFjaGVkVG9Gb3JtOiExLGdldEZvcm1JbnB1dHNBc09iamVjdDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1sP251bGw6cy5fZm9ybTJPYmoobCl9fSksbD1hKGwpLHRoaXMuYXR0YWNoZWRUb0Zvcm09ISFsfSxxcS5leHRlbmQocXEuRm9ybVN1cHBvcnQucHJvdG90eXBlLHtfZm9ybTJPYmo6ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciB0PXt9LG49ZnVuY3Rpb24oZSl7dmFyIHQ9WyJidXR0b24iLCJpbWFnZSIsInJlc2V0Iiwic3VibWl0Il07cmV0dXJuIHFxLmluZGV4T2YodCxlLnRvTG93ZXJDYXNlKCkpPDB9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHFxLmluZGV4T2YoWyJjaGVja2JveCIsInJhZGlvIl0sZS50b0xvd2VyQ2FzZSgpKT49MH0sbz1mdW5jdGlvbihlKXtyZXR1cm4hKCFpKGUudHlwZSl8fGUuY2hlY2tlZCl8fGUuZGlzYWJsZWQmJiJoaWRkZW4iIT09ZS50eXBlLnRvTG93ZXJDYXNlKCl9LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4gcXEuZWFjaChxcShlKS5jaGlsZHJlbigpLGZ1bmN0aW9uKGUsbil7aWYoIm9wdGlvbiI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbi5zZWxlY3RlZClyZXR1cm4gdD1uLnZhbHVlLCExfSksdH07cmV0dXJuIHFxLmVhY2goZS5lbGVtZW50cyxmdW5jdGlvbihlLGkpe2lmKCFxcS5pc0lucHV0KGksITApJiYidGV4dGFyZWEiIT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fCFuKGkudHlwZSl8fG8oaSkpe2lmKCJzZWxlY3QiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJiFvKGkpKXt2YXIgYT1yKGkpO251bGwhPT1hJiYodFtpLm5hbWVdPWEpfX1lbHNlIHRbaS5uYW1lXT1pLnZhbHVlfSksdH19KSxxcS50cmFkaXRpb25hbD1xcS50cmFkaXRpb25hbHx8e30scXEudHJhZGl0aW9uYWwuRm9ybVVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciBuLGkscjt0cnl7aT10LmNvbnRlbnREb2N1bWVudHx8dC5jb250ZW50V2luZG93LmRvY3VtZW50LHI9aS5ib2R5LmlubmVySFRNTCxzKCJjb252ZXJ0aW5nIGlmcmFtZSdzIGlubmVySFRNTCB0byBKU09OIikscygiaW5uZXJIVE1MID0gIityKSxyJiZyLm1hdGNoKC9ePHByZS9pKSYmKHI9aS5ib2R5LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5ub2RlVmFsdWUpLG49by5fcGFyc2VKc29uUmVzcG9uc2Uocil9Y2F0Y2goZSl7cygiRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIHBhcnNlIGZvcm0gdXBsb2FkIHJlc3BvbnNlICgiK2UubWVzc2FnZSsiKSIsImVycm9yIiksbj17c3VjY2VzczohMX19cmV0dXJuIG59ZnVuY3Rpb24gaSh0LG4pe3ZhciBpPWUucGFyYW1zU3RvcmUuZ2V0KHQpLHM9ImdldCI9PT1lLm1ldGhvZC50b0xvd2VyQ2FzZSgpPyJHRVQiOiJQT1NUIix1PWUuZW5kcG9pbnRTdG9yZS5nZXQodCksbD1yKHQpO3JldHVybiBpW2UudXVpZE5hbWVdPWEodCksaVtlLmZpbGVuYW1lUGFyYW1dPWwsby5faW5pdEZvcm1Gb3JVcGxvYWQoe21ldGhvZDpzLGVuZHBvaW50OnUscGFyYW1zOmkscGFyYW1zSW5Cb2R5OmUucGFyYW1zSW5Cb2R5LHRhcmdldE5hbWU6bi5uYW1lfSl9dmFyIG89dGhpcyxyPXQuZ2V0TmFtZSxhPXQuZ2V0VXVpZCxzPXQubG9nO3RoaXMudXBsb2FkRmlsZT1mdW5jdGlvbih0KXt2YXIgcixhPW8uZ2V0SW5wdXQodCksdT1vLl9jcmVhdGVJZnJhbWUodCksbD1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gcj1pKHQsdSksci5hcHBlbmRDaGlsZChhKSxvLl9hdHRhY2hMb2FkRXZlbnQodSxmdW5jdGlvbihpKXtzKCJpZnJhbWUgbG9hZGVkIik7dmFyIHI9aT9pOm4odCx1KTtvLl9kZXRhY2hMb2FkRXZlbnQodCksZS5jb3JzLmV4cGVjdGVkfHxxcSh1KS5yZW1vdmUoKSxyLnN1Y2Nlc3M/bC5zdWNjZXNzKHIpOmwuZmFpbHVyZShyKX0pLHMoIlNlbmRpbmcgdXBsb2FkIHJlcXVlc3QgZm9yICIrdCksci5zdWJtaXQoKSxxcShyKS5yZW1vdmUoKSxsfSxxcS5leHRlbmQodGhpcyxuZXcgcXEuRm9ybVVwbG9hZEhhbmRsZXIoe29wdGlvbnM6e2lzQ29yczplLmNvcnMuZXhwZWN0ZWQsaW5wdXROYW1lOmUuaW5wdXROYW1lfSxwcm94eTp7b25DYW5jZWw6ZS5vbkNhbmNlbCxnZXROYW1lOnIsZ2V0VXVpZDphLGxvZzpzfX0pKX0scXEudHJhZGl0aW9uYWw9cXEudHJhZGl0aW9uYWx8fHt9LHFxLnRyYWRpdGlvbmFsLlhoclVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIG49dGhpcyxpPXQuZ2V0TmFtZSxvPXQuZ2V0U2l6ZSxyPXQuZ2V0VXVpZCxhPXQubG9nLHM9ZS5mb3JjZU11bHRpcGFydHx8ZS5wYXJhbXNJbkJvZHksdT1mdW5jdGlvbih0LG4scil7dmFyIGE9byh0KSx1PWkodCk7ZS5vbWl0RGVmYXVsdFBhcmFtc3x8KG5bZS5jaHVua2luZy5wYXJhbU5hbWVzLnBhcnRJbmRleF09ci5wYXJ0LG5bZS5jaHVua2luZy5wYXJhbU5hbWVzLnBhcnRCeXRlT2Zmc2V0XT1yLnN0YXJ0LG5bZS5jaHVua2luZy5wYXJhbU5hbWVzLmNodW5rU2l6ZV09ci5zaXplLG5bZS5jaHVua2luZy5wYXJhbU5hbWVzLnRvdGFsUGFydHNdPXIuY291bnQsbltlLnRvdGFsRmlsZVNpemVOYW1lXT1hKSxzJiYhZS5vbWl0RGVmYXVsdFBhcmFtcyYmKG5bZS5maWxlbmFtZVBhcmFtXT11KX0sbD1uZXcgcXEudHJhZGl0aW9uYWwuQWxsQ2h1bmtzRG9uZUFqYXhSZXF1ZXN0ZXIoe2NvcnM6ZS5jb3JzLGVuZHBvaW50OmUuY2h1bmtpbmcuc3VjY2Vzcy5lbmRwb2ludCxoZWFkZXJzOmUuY2h1bmtpbmcuc3VjY2Vzcy5oZWFkZXJzLGpzb25QYXlsb2FkOmUuY2h1bmtpbmcuc3VjY2Vzcy5qc29uUGF5bG9hZCxsb2c6YSxtZXRob2Q6ZS5jaHVua2luZy5zdWNjZXNzLm1ldGhvZCxwYXJhbXM6ZS5jaHVua2luZy5zdWNjZXNzLnBhcmFtc30pLGM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09dC5yZWFkeVN0YXRlKXt2YXIgaT1oKGUsdCk7aS5zdWNjZXNzP24uc3VjY2VzcyhpLnJlc3BvbnNlLHQpOm4uZmFpbHVyZShpLnJlc3BvbnNlLHQpfX0sbn0sZD1mdW5jdGlvbih0KXt2YXIgYT1lLnBhcmFtc1N0b3JlLmdldCh0KSxzPWkodCksdT1vKHQpO3JldHVybiBhW2UudXVpZE5hbWVdPXIodCksYVtlLmZpbGVuYW1lUGFyYW1dPXMsYVtlLnRvdGFsRmlsZVNpemVOYW1lXT11LGFbZS5jaHVua2luZy5wYXJhbU5hbWVzLnRvdGFsUGFydHNdPW4uX2dldFRvdGFsQ2h1bmtzKHQpLGF9LHA9ZnVuY3Rpb24odCxuKXtyZXR1cm4gcXEuaW5kZXhPZihbMjAwLDIwMSwyMDIsMjAzLDIwNF0sdC5zdGF0dXMpPDB8fGUucmVxdWlyZVN1Y2Nlc3NKc29uJiYhbi5zdWNjZXNzfHxuLnJlc2V0fSxoPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGEoInhociAtIHNlcnZlciByZXNwb25zZSByZWNlaXZlZCBmb3IgIitlKSxhKCJyZXNwb25zZVRleHQgPSAiK3QucmVzcG9uc2VUZXh0KSxuPWYoITAsdCkse3N1Y2Nlc3M6IXAodCxuKSxyZXNwb25zZTpufX0sZj1mdW5jdGlvbih0LG4pe3ZhciBpPXt9O3RyeXthKHFxLmZvcm1hdCgiUmVjZWl2ZWQgcmVzcG9uc2Ugc3RhdHVzIHt9IHdpdGggYm9keToge30iLG4uc3RhdHVzLG4ucmVzcG9uc2VUZXh0KSksaT1xcS5wYXJzZUpzb24obi5yZXNwb25zZVRleHQpfWNhdGNoKG4pe3QmJmUucmVxdWlyZVN1Y2Nlc3NKc29uJiZhKCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gcGFyc2UgeGhyIHJlc3BvbnNlIHRleHQgKCIrbi5tZXNzYWdlKyIpIiwiZXJyb3IiKX1yZXR1cm4gaX0scT1mdW5jdGlvbih0KXt2YXIgaT1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gbC5jb21wbGV0ZSh0LG4uX2NyZWF0ZVhocih0KSxkKHQpLGUuY3VzdG9tSGVhZGVycy5nZXQodCkpLnRoZW4oZnVuY3Rpb24oZSl7aS5zdWNjZXNzKGYoITEsZSksZSl9LGZ1bmN0aW9uKGUpe2kuZmFpbHVyZShmKCExLGUpLGUpfSksaX0sbT1mdW5jdGlvbih0KXt2YXIgbixhPXQuZmlsZU9yQmxvYix1PXQuaWQsbD10LnhocixjPXQueGhyT3ZlcnJpZGVzfHx7fSxkPXQuY3VzdG9tUGFyYW1zfHx7fSxwPXQucGFyYW1zfHx7fSxoPWMucGFyYW1zfHx7fSxmPXM/bmV3IEZvcm1EYXRhOm51bGwscT1jLm1ldGhvZHx8ZS5tZXRob2QsbT1jLmVuZHBvaW50fHxlLmVuZHBvaW50U3RvcmUuZ2V0KHUpLGc9aSh1KSxfPW8odSk7cmV0dXJuIGUub21pdERlZmF1bHRQYXJhbXM/KG49cXEuZXh0ZW5kKHt9LGQpLHFxLmV4dGVuZChuLGgpKToobj1xcS5leHRlbmQoe30sZCkscXEuZXh0ZW5kKG4saCkscXEuZXh0ZW5kKG4scCksbltlLnV1aWROYW1lXT1yKHUpLG5bZS5maWxlbmFtZVBhcmFtXT1nLHM/bltlLnRvdGFsRmlsZVNpemVOYW1lXT1fOmUucGFyYW1zSW5Cb2R5fHwobltlLmlucHV0TmFtZV09ZykpLGUucGFyYW1zSW5Cb2R5fHwobT1xcS5vYmoydXJsKG4sbSkpLGwub3BlbihxLG0sITApLGUuY29ycy5leHBlY3RlZCYmZS5jb3JzLnNlbmRDcmVkZW50aWFscyYmKGwud2l0aENyZWRlbnRpYWxzPSEwKSxzPyhlLnBhcmFtc0luQm9keSYmcXEub2JqMkZvcm1EYXRhKG4sZiksZi5hcHBlbmQoZS5pbnB1dE5hbWUsYSksZik6YX0sZz1mdW5jdGlvbih0KXt2YXIgaT10LmhlYWRlck92ZXJyaWRlcyxvPXQuaWQscj10LnhocjtpZihpKXFxLmVhY2goaSxmdW5jdGlvbihlLHQpe3Iuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSk7ZWxzZXt2YXIgYT1lLmN1c3RvbUhlYWRlcnMuZ2V0KG8pLHU9bi5nZXRGaWxlKG8pO3Iuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiIpLHIuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0Iiksci5zZXRSZXF1ZXN0SGVhZGVyKCJDYWNoZS1Db250cm9sIiwibm8tY2FjaGUiKSxzfHwoci5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKSxyLnNldFJlcXVlc3RIZWFkZXIoIlgtTWltZS1UeXBlIix1LnR5cGUpKSxxcS5lYWNoKGEsZnVuY3Rpb24oZSx0KXtyLnNldFJlcXVlc3RIZWFkZXIoZSx0KX0pfX07cXEuZXh0ZW5kKHRoaXMse3VwbG9hZENodW5rOmZ1bmN0aW9uKHQpe3ZhciBpLG8scixhPXQuaWQscz10LmNodW5rSWR4LGw9dC5vdmVycmlkZXN8fHt9LGQ9dC5yZXN1bWluZyxwPW4uX2dldENodW5rRGF0YShhLHMpLGg9bi5fY3JlYXRlWGhyKGEscyksZj17fTtyZXR1cm4gaT1jKGEsaCksbi5fcmVnaXN0ZXJQcm9ncmVzc0hhbmRsZXIoYSxzLHAuc2l6ZSkscj1lLnBhcmFtc1N0b3JlLmdldChhKSx1KGEsZixwKSxkJiYoZltlLnJlc3VtZS5wYXJhbU5hbWVzLnJlc3VtaW5nXT0hMCksbz1tKHtmaWxlT3JCbG9iOnAuYmxvYixpZDphLGN1c3RvbVBhcmFtczpyLHBhcmFtczpmLHhocjpoLHhock92ZXJyaWRlczpsfSksZyh7aGVhZGVyT3ZlcnJpZGVzOmwuaGVhZGVycyxpZDphLHhocjpofSksaC5zZW5kKG8pLGl9LHVwbG9hZEZpbGU6ZnVuY3Rpb24odCl7dmFyIGksbyxyLGEscz1uLmdldEZpbGUodCk7cmV0dXJuIG89bi5fY3JlYXRlWGhyKHQpLG4uX3JlZ2lzdGVyUHJvZ3Jlc3NIYW5kbGVyKHQpLGk9Yyh0LG8pLHI9ZS5wYXJhbXNTdG9yZS5nZXQodCksYT1tKHtmaWxlT3JCbG9iOnMsaWQ6dCxjdXN0b21QYXJhbXM6cix4aHI6b30pLGcoe2lkOnQseGhyOm99KSxvLnNlbmQoYSksaX19KSxxcS5leHRlbmQodGhpcyxuZXcgcXEuWGhyVXBsb2FkSGFuZGxlcih7b3B0aW9uczpxcS5leHRlbmQoe25hbWVzcGFjZToidHJhZGl0aW9uYWwifSxlKSxwcm94eTpxcS5leHRlbmQoe2dldEVuZHBvaW50OmUuZW5kcG9pbnRTdG9yZS5nZXR9LHQpfSkpLHFxLm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24obil7cmV0dXJue2ZpbmFsaXplQ2h1bmtzOmZ1bmN0aW9uKGkpe3JldHVybiB0Lm9uRmluYWxpemluZyhpKSxlLmNodW5raW5nLnN1Y2Nlc3MuZW5kcG9pbnQ/cShpKTpuLmZpbmFsaXplQ2h1bmtzKGkscXEuYmluZChmLHRoaXMsITApKX19fSl9LHFxLnRyYWRpdGlvbmFsLkFsbENodW5rc0RvbmVBamF4UmVxdWVzdGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdCxuPXtjb3JzOnthbGxvd1hkcjohMSxleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LGVuZHBvaW50Om51bGwsbG9nOmZ1bmN0aW9uKGUsdCl7fSxtZXRob2Q6IlBPU1QifSxpPXt9LG89e2dldDpmdW5jdGlvbihlKXtyZXR1cm4gcXEuaXNGdW5jdGlvbihuLmVuZHBvaW50KT9uLmVuZHBvaW50KGUpOm4uZW5kcG9pbnR9fTtxcS5leHRlbmQobixlKSx0PXFxLmV4dGVuZCh0aGlzLG5ldyBxcS5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLGNvbnRlbnRUeXBlOm4uanNvblBheWxvYWQ/ImFwcGxpY2F0aW9uL2pzb24iOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHZhbGlkTWV0aG9kczpbbi5tZXRob2RdLG1ldGhvZDpuLm1ldGhvZCxlbmRwb2ludFN0b3JlOm8sYWxsb3dYUmVxdWVzdGVkV2l0aEFuZENhY2hlQ29udHJvbDohMSxjb3JzOm4uY29ycyxsb2c6bi5sb2csb25Db21wbGV0ZTpmdW5jdGlvbihlLHQsbil7dmFyIG89aVtlXTtkZWxldGUgaVtlXSxuP28uZmFpbHVyZSh0KTpvLnN1Y2Nlc3ModCl9fSkpLHFxLmV4dGVuZCh0aGlzLHtjb21wbGV0ZTpmdW5jdGlvbihlLG8scixhKXt2YXIgcz1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gbi5sb2coIlN1Ym1pdHRpbmcgQWxsIENodW5rcyBEb25lIHJlcXVlc3QgZm9yICIrZSksaVtlXT1zLHQuaW5pdFRyYW5zcG9ydChlKS53aXRoUGFyYW1zKG4ucGFyYW1zKGUpfHxyKS53aXRoSGVhZGVycyhuLmhlYWRlcnMoZSl8fGEpLnNlbmQobyksc319KX0scXEuRHJhZ0FuZERyb3A9ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSx0KXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTtjLmNhbGxiYWNrcy5kcm9wTG9nKCJHcmFiYmVkICIrZS5sZW5ndGgrIiBkcm9wcGVkIGZpbGVzLiIpLHQuZHJvcERpc2FibGVkKCExKSxjLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGUobix0LmdldEVsZW1lbnQoKSl9ZnVuY3Rpb24gbihlKXt2YXIgdD1uZXcgcXEuUHJvbWlzZTtyZXR1cm4gZS5pc0ZpbGU/ZS5maWxlKGZ1bmN0aW9uKG4pe24ucXFQYXRoPWkoZSkscC5wdXNoKG4pLHQuc3VjY2VzcygpfSxmdW5jdGlvbihuKXtjLmNhbGxiYWNrcy5kcm9wTG9nKCJQcm9ibGVtIHBhcnNpbmcgJyIrZS5mdWxsUGF0aCsiJy4gIEZpbGVFcnJvciBjb2RlICIrbi5jb2RlKyIuIiwiZXJyb3IiKSx0LmZhaWx1cmUoKX0pOmUuaXNEaXJlY3RvcnkmJm8oZSkudGhlbihmdW5jdGlvbihlKXt2YXIgaT1lLmxlbmd0aDtxcS5lYWNoKGUsZnVuY3Rpb24oZSxvKXtuKG8pLmRvbmUoZnVuY3Rpb24oKXtpLT0xLDA9PT1pJiZ0LnN1Y2Nlc3MoKX0pfSksZS5sZW5ndGh8fHQuc3VjY2VzcygpfSxmdW5jdGlvbihuKXtjLmNhbGxiYWNrcy5kcm9wTG9nKCJQcm9ibGVtIHBhcnNpbmcgJyIrZS5mdWxsUGF0aCsiJy4gIEZpbGVFcnJvciBjb2RlICIrbi5jb2RlKyIuIiwiZXJyb3IiKSx0LmZhaWx1cmUoKX0pLHR9ZnVuY3Rpb24gaShlKXt2YXIgdD1lLm5hbWUsbj1lLmZ1bGxQYXRoLGk9bi5sYXN0SW5kZXhPZih0KTtyZXR1cm4gbj1uLnN1YnN0cigwLGkpLCIvIj09PW4uY2hhckF0KDApJiYobj1uLnN1YnN0cigxKSksbn1mdW5jdGlvbiBvKGUsdCxuLGkpe3ZhciByPWl8fG5ldyBxcS5Qcm9taXNlLGE9dHx8ZS5jcmVhdGVSZWFkZXIoKTtyZXR1cm4gYS5yZWFkRW50cmllcyhmdW5jdGlvbih0KXt2YXIgaT1uP24uY29uY2F0KHQpOnQ7dC5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe28oZSxhLGkscil9LDApOnIuc3VjY2VzcyhpKX0sci5mYWlsdXJlKSxyfWZ1bmN0aW9uIHIoZSx0KXt2YXIgaT1bXSxvPW5ldyBxcS5Qcm9taXNlO3JldHVybiBjLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzKCksdC5kcm9wRGlzYWJsZWQoITApLGUuZmlsZXMubGVuZ3RoPjEmJiFjLmFsbG93TXVsdGlwbGVJdGVtcz8oYy5jYWxsYmFja3MucHJvY2Vzc2luZ0Ryb3BwZWRGaWxlc0NvbXBsZXRlKFtdKSxjLmNhbGxiYWNrcy5kcm9wRXJyb3IoInRvb01hbnlGaWxlc0Vycm9yIiwiIiksdC5kcm9wRGlzYWJsZWQoITEpLG8uZmFpbHVyZSgpKToocD1bXSxxcS5pc0ZvbGRlckRyb3BTdXBwb3J0ZWQoZSk/cXEuZWFjaChlLml0ZW1zLGZ1bmN0aW9uKGUsdCl7dmFyIHI9dC53ZWJraXRHZXRBc0VudHJ5KCk7ciYmKHIuaXNGaWxlP3AucHVzaCh0LmdldEFzRmlsZSgpKTppLnB1c2gobihyKS5kb25lKGZ1bmN0aW9uKCl7aS5wb3AoKSwwPT09aS5sZW5ndGgmJm8uc3VjY2VzcygpfSkpKX0pOnA9ZS5maWxlcywwPT09aS5sZW5ndGgmJm8uc3VjY2VzcygpKSxvfWZ1bmN0aW9uIGEoZSl7dmFyIG49bmV3IHFxLlVwbG9hZERyb3Bab25lKHtISURFX1pPTkVTX0VWRU5UX05BTUU6InFxLWhpZGV6b25lcyIsZWxlbWVudDplLG9uRW50ZXI6ZnVuY3Rpb24odCl7cXEoZSkuYWRkQ2xhc3MoYy5jbGFzc2VzLmRyb3BBY3RpdmUpLHQuc3RvcFByb3BhZ2F0aW9uKCl9LG9uTGVhdmVOb3REZXNjZW5kYW50czpmdW5jdGlvbih0KXtxcShlKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuZHJvcEFjdGl2ZSl9LG9uRHJvcDpmdW5jdGlvbihlKXtyKGUuZGF0YVRyYW5zZmVyLG4pLnRoZW4oZnVuY3Rpb24oKXt0KHAsbil9LGZ1bmN0aW9uKCl7Yy5jYWxsYmFja3MuZHJvcExvZygiRHJvcCBldmVudCBEYXRhVHJhbnNmZXIgcGFyc2luZyBmYWlsZWQuICBObyBmaWxlcyB3aWxsIGJlIHVwbG9hZGVkLiIsImVycm9yIil9KX19KTtyZXR1cm4gaC5hZGREaXNwb3NlcihmdW5jdGlvbigpe24uZGlzcG9zZSgpfSkscXEoZSkuaGFzQXR0cmlidXRlKCJxcS1oaWRlLWRyb3B6b25lIikmJnFxKGUpLmhpZGUoKSxkLnB1c2gobiksbn1mdW5jdGlvbiBzKGUpe3ZhciB0O3JldHVybiBxcS5lYWNoKGUuZGF0YVRyYW5zZmVyLnR5cGVzLGZ1bmN0aW9uKGUsbil7aWYoIkZpbGVzIj09PW4pcmV0dXJuIHQ9ITAsITF9KSx0fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHFxLnNhZmFyaSgpP2UueDwwfHxlLnk8MDowPT09ZS54JiYwPT09ZS55fWZ1bmN0aW9uIGwoKXt2YXIgZT1jLmRyb3Bab25lRWxlbWVudHMsdD1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtxcS5lYWNoKGUsZnVuY3Rpb24oZSx0KXtxcSh0KS5oYXNBdHRyaWJ1dGUoInFxLWhpZGUtZHJvcHpvbmUiKSYmcXEodCkuaGlkZSgpLHFxKHQpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5kcm9wQWN0aXZlKX0pfSwxMCl9O3FxLmVhY2goZSxmdW5jdGlvbih0LG4pe3ZhciBpPWEobik7ZS5sZW5ndGgmJnFxLnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wJiZoLmF0dGFjaChkb2N1bWVudCwiZHJhZ2VudGVyIixmdW5jdGlvbih0KXshaS5kcm9wRGlzYWJsZWQoKSYmcyh0KSYmcXEuZWFjaChlLGZ1bmN0aW9uKGUsdCl7dCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZxcSh0KS5oYXNBdHRyaWJ1dGUoInFxLWhpZGUtZHJvcHpvbmUiKSYmcXEodCkuY3NzKHtkaXNwbGF5OiJibG9jayJ9KX0pfSl9KSxoLmF0dGFjaChkb2N1bWVudCwiZHJhZ2xlYXZlIixmdW5jdGlvbihlKXt1KGUpJiZ0KCl9KSxoLmF0dGFjaChxcShkb2N1bWVudCkuY2hpbGRyZW4oKVswXSwibW91c2VlbnRlciIsZnVuY3Rpb24oZSl7dCgpfSksaC5hdHRhY2goZG9jdW1lbnQsImRyb3AiLGZ1bmN0aW9uKGUpe3MoZSkmJihlLnByZXZlbnREZWZhdWx0KCksdCgpKX0pLGguYXR0YWNoKGRvY3VtZW50LCJxcS1oaWRlem9uZXMiLHQpfXZhciBjLGQ9W10scD1bXSxoPW5ldyBxcS5EaXNwb3NlU3VwcG9ydDtjPXtkcm9wWm9uZUVsZW1lbnRzOltdLGFsbG93TXVsdGlwbGVJdGVtczohMCxjbGFzc2VzOntkcm9wQWN0aXZlOm51bGx9LGNhbGxiYWNrczpuZXcgcXEuRHJhZ0FuZERyb3AuY2FsbGJhY2tzfSxxcS5leHRlbmQoYyxlLCEwKSxsKCkscXEuZXh0ZW5kKHRoaXMse3NldHVwRXh0cmFEcm9wem9uZTpmdW5jdGlvbihlKXtjLmRyb3Bab25lRWxlbWVudHMucHVzaChlKSxhKGUpfSxyZW1vdmVEcm9wem9uZTpmdW5jdGlvbihlKXt2YXIgdCxuPWMuZHJvcFpvbmVFbGVtZW50cztmb3IodCBpbiBuKWlmKG5bdF09PT1lKXJldHVybiBuLnNwbGljZSh0LDEpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7aC5kaXNwb3NlKCkscXEuZWFjaChkLGZ1bmN0aW9uKGUsdCl7dC5kaXNwb3NlKCl9KX19KSx0aGlzLl90ZXN0aW5nPXt9LHRoaXMuX3Rlc3RpbmcuZXh0cmFjdERpcmVjdG9yeVBhdGg9aX0scXEuRHJhZ0FuZERyb3AuY2FsbGJhY2tzPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3JldHVybntwcm9jZXNzaW5nRHJvcHBlZEZpbGVzOmZ1bmN0aW9uKCl7fSxwcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGU6ZnVuY3Rpb24oZSx0KXt9LGRyb3BFcnJvcjpmdW5jdGlvbihlLHQpe3FxLmxvZygiRHJhZyAmIGRyb3AgZXJyb3IgY29kZSAnIitlKyIgd2l0aCB0aGVzZSBzcGVjaWZpY3M6ICciK3QrIiciLCJlcnJvciIpfSxkcm9wTG9nOmZ1bmN0aW9uKGUsdCl7cXEubG9nKGUsdCl9fX0scXEuVXBsb2FkRHJvcFpvbmU9ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXtyZXR1cm4gcXEuc2FmYXJpKCl8fHFxLmZpcmVmb3goKSYmcXEud2luZG93cygpfWZ1bmN0aW9uIG4oZSl7Y3x8KHQ/ZC5hdHRhY2goZG9jdW1lbnQsImRyYWdvdmVyIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9KTpkLmF0dGFjaChkb2N1bWVudCwiZHJhZ292ZXIiLGZ1bmN0aW9uKGUpe2UuZGF0YVRyYW5zZmVyJiYoZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD0ibm9uZSIsZS5wcmV2ZW50RGVmYXVsdCgpKX0pLGM9ITApfWZ1bmN0aW9uIGkoZSl7aWYoIXFxLnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wKXJldHVybiExO3ZhciB0LG49ZS5kYXRhVHJhbnNmZXIsaT1xcS5zYWZhcmkoKTtyZXR1cm4gdD0hKCFxcS5pZSgpfHwhcXEuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3ApfHwibm9uZSIhPT1uLmVmZmVjdEFsbG93ZWQsbiYmdCYmKG4uZmlsZXMmJm4uZmlsZXMubGVuZ3RofHwhaSYmbi50eXBlcy5jb250YWlucyYmbi50eXBlcy5jb250YWlucygiRmlsZXMiKXx8bi50eXBlcy5pbmNsdWRlcyYmbi50eXBlcy5pbmNsdWRlcygiRmlsZXMiKSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKGw9ZSksbH1mdW5jdGlvbiByKCl7ZnVuY3Rpb24gZSgpe3Q9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksdC5pbml0RXZlbnQocy5ISURFX1pPTkVTX0VWRU5UX05BTUUsITAsITApfXZhciB0O2lmKHdpbmRvdy5DdXN0b21FdmVudCl0cnl7dD1uZXcgQ3VzdG9tRXZlbnQocy5ISURFX1pPTkVTX0VWRU5UX05BTUUpfWNhdGNoKHQpe2UoKX1lbHNlIGUoKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KHQpfWZ1bmN0aW9uIGEoKXtkLmF0dGFjaCh1LCJkcmFnb3ZlciIsZnVuY3Rpb24oZSl7aWYoaShlKSl7dmFyIHQ9cXEuaWUoKSYmcXEuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3A/bnVsbDplLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkO2UuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Im1vdmUiPT09dHx8ImxpbmtNb3ZlIj09PXQ/Im1vdmUiOiJjb3B5IixlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKX19KSxkLmF0dGFjaCh1LCJkcmFnZW50ZXIiLGZ1bmN0aW9uKGUpe2lmKCFvKCkpe2lmKCFpKGUpKXJldHVybjtzLm9uRW50ZXIoZSl9fSksZC5hdHRhY2godSwiZHJhZ2xlYXZlIixmdW5jdGlvbihlKXtpZihpKGUpKXtzLm9uTGVhdmUoZSk7dmFyIHQ9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKTtxcSh0aGlzKS5jb250YWlucyh0KXx8cy5vbkxlYXZlTm90RGVzY2VuZGFudHMoZSl9fSksZC5hdHRhY2godSwiZHJvcCIsZnVuY3Rpb24oZSl7aWYoIW8oKSl7aWYoIWkoZSkpcmV0dXJuO2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHMub25Ecm9wKGUpLHIoKX19KX12YXIgcyx1LGwsYyxkPW5ldyBxcS5EaXNwb3NlU3VwcG9ydDtzPXtlbGVtZW50Om51bGwsb25FbnRlcjpmdW5jdGlvbihlKXt9LG9uTGVhdmU6ZnVuY3Rpb24oZSl7fSxvbkxlYXZlTm90RGVzY2VuZGFudHM6ZnVuY3Rpb24oZSl7fSxvbkRyb3A6ZnVuY3Rpb24oZSl7fX0scXEuZXh0ZW5kKHMsZSksdT1zLmVsZW1lbnQsbigpLGEoKSxxcS5leHRlbmQodGhpcyx7ZHJvcERpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7ZC5kaXNwb3NlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19KSx0aGlzLl90ZXN0aW5nPXt9LHRoaXMuX3Rlc3RpbmcuaXNWYWxpZEZpbGVEcmFnPWl9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3FxLnVpUHVibGljQXBpPXthZGRJbml0aWFsRmlsZXM6ZnVuY3Rpb24oZSl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5hZGRJbml0aWFsRmlsZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RlbXBsYXRpbmcuYWRkQ2FjaGVUb0RvbSgpfSxjbGVhclN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5jbGVhclN0b3JlZEZpbGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90ZW1wbGF0aW5nLmNsZWFyRmlsZXMoKX0sYWRkRXh0cmFEcm9wem9uZTpmdW5jdGlvbihlKXt0aGlzLl9kbmQmJnRoaXMuX2RuZC5zZXR1cEV4dHJhRHJvcHpvbmUoZSl9LHJlbW92ZUV4dHJhRHJvcHpvbmU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fZG5kKXJldHVybiB0aGlzLl9kbmQucmVtb3ZlRHJvcHpvbmUoZSl9LGdldEl0ZW1CeUZpbGVJZDpmdW5jdGlvbihlKXtpZighdGhpcy5fdGVtcGxhdGluZy5pc0hpZGRlbkZvcmV2ZXIoZSkpcmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihlKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLnJlc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90ZW1wbGF0aW5nLnJlc2V0KCksIXRoaXMuX29wdGlvbnMuYnV0dG9uJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpLHRoaXMuX2RuZCYmKHRoaXMuX2RuZC5kaXNwb3NlKCksdGhpcy5fZG5kPXRoaXMuX3NldHVwRHJhZ0FuZERyb3AoKSksdGhpcy5fdG90YWxGaWxlc0luQmF0Y2g9MCx0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MCx0aGlzLl9zZXR1cENsaWNrQW5kRWRpdEV2ZW50SGFuZGxlcnMoKX0sc2V0TmFtZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUodCk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5zZXROYW1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZUZpbGVuYW1lKGUsbil9LHBhdXNlVXBsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUucGF1c2VVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0JiZ0aGlzLl90ZW1wbGF0aW5nLnVwbG9hZFBhdXNlZChlKSx0fSxjb250aW51ZVVwbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLmNvbnRpbnVlVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdCYmdGhpcy5fdGVtcGxhdGluZy51cGxvYWRDb250aW51ZWQoZSksdH0sZ2V0SWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUlkKGUpfSxnZXREcm9wVGFyZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEZpbGUoZSkucXFEcm9wVGFyZ2V0fX0scXEudWlQcml2YXRlQXBpPXtfZ2V0QnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX2dldEJ1dHRvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHR8fGU9PT10aGlzLl9kZWZhdWx0QnV0dG9uSWQmJih0PXRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCkpLHR9LF9yZW1vdmVGaWxlSXRlbTpmdW5jdGlvbihlKXt0aGlzLl90ZW1wbGF0aW5nLnJlbW92ZUZpbGUoZSl9LF9zZXR1cENsaWNrQW5kRWRpdEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLl9maWxlQnV0dG9uc0NsaWNrSGFuZGxlcj1xcS5GaWxlQnV0dG9uc0NsaWNrSGFuZGxlciYmdGhpcy5fYmluZEZpbGVCdXR0b25zQ2xpY2tFdmVudCgpLHRoaXMuX2ZvY3VzaW5FdmVudFN1cHBvcnRlZD0hcXEuZmlyZWZveCgpLHRoaXMuX2lzRWRpdEZpbGVuYW1lRW5hYmxlZCgpJiYodGhpcy5fZmlsZW5hbWVDbGlja0hhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lQ2xpY2tFdmVudCgpLHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcj10aGlzLl9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzSW5FdmVudCgpLHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lSW5wdXRGb2N1c0V2ZW50KCkpfSxfc2V0dXBEcmFnQW5kRHJvcDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9vcHRpb25zLmRyYWdBbmREcm9wLmV4dHJhRHJvcHpvbmVzLG49dGhpcy5fdGVtcGxhdGluZyxpPW4uZ2V0RHJvcFpvbmUoKTtyZXR1cm4gaSYmdC5wdXNoKGkpLG5ldyBxcS5EcmFnQW5kRHJvcCh7ZHJvcFpvbmVFbGVtZW50czp0LGFsbG93TXVsdGlwbGVJdGVtczp0aGlzLl9vcHRpb25zLm11bHRpcGxlLGNsYXNzZXM6e2Ryb3BBY3RpdmU6dGhpcy5fb3B0aW9ucy5jbGFzc2VzLmRyb3BBY3RpdmV9LGNhbGxiYWNrczp7cHJvY2Vzc2luZ0Ryb3BwZWRGaWxlczpmdW5jdGlvbigpe24uc2hvd0Ryb3BQcm9jZXNzaW5nKCl9LHByb2Nlc3NpbmdEcm9wcGVkRmlsZXNDb21wbGV0ZTpmdW5jdGlvbih0LGkpe24uaGlkZURyb3BQcm9jZXNzaW5nKCkscXEuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7dC5xcURyb3BUYXJnZXQ9aX0pLHQubGVuZ3RoJiZlLmFkZEZpbGVzKHQsbnVsbCxudWxsKX0sZHJvcEVycm9yOmZ1bmN0aW9uKHQsbil7ZS5faXRlbUVycm9yKHQsbil9LGRyb3BMb2c6ZnVuY3Rpb24odCxuKXtlLmxvZyh0LG4pfX19KX0sX2JpbmRGaWxlQnV0dG9uc0NsaWNrRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcXEuRmlsZUJ1dHRvbnNDbGlja0hhbmRsZXIoe3RlbXBsYXRpbmc6dGhpcy5fdGVtcGxhdGluZyxsb2c6ZnVuY3Rpb24odCxuKXtlLmxvZyh0LG4pfSxvbkRlbGV0ZUZpbGU6ZnVuY3Rpb24odCl7ZS5kZWxldGVGaWxlKHQpfSxvbkNhbmNlbDpmdW5jdGlvbih0KXtlLmNhbmNlbCh0KX0sb25SZXRyeTpmdW5jdGlvbih0KXtlLnJldHJ5KHQpfSxvblBhdXNlOmZ1bmN0aW9uKHQpe2UucGF1c2VVcGxvYWQodCl9LG9uQ29udGludWU6ZnVuY3Rpb24odCl7ZS5jb250aW51ZVVwbG9hZCh0KX0sb25HZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBlLmdldE5hbWUodCl9fSl9LF9pc0VkaXRGaWxlbmFtZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5pc0VkaXRGaWxlbmFtZVBvc3NpYmxlKCkmJiF0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQmJnFxLkZpbGVuYW1lQ2xpY2tIYW5kbGVyJiZxcS5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyJiZxcS5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyfSxfZmlsZW5hbWVFZGl0SGFuZGxlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl90ZW1wbGF0aW5nO3JldHVybnt0ZW1wbGF0aW5nOnQsbG9nOmZ1bmN0aW9uKHQsbil7ZS5sb2codCxuKX0sb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0VXBsb2Fkcyh7aWQ6dH0pLnN0YXR1c30sb25HZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBlLmdldE5hbWUodCl9LG9uU2V0TmFtZTpmdW5jdGlvbih0LG4pe2Uuc2V0TmFtZSh0LG4pfSxvbkVkaXRpbmdTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oZSxuKXt2YXIgaT1xcSh0LmdldEVkaXRJbnB1dChlKSksbz1xcSh0LmdldEZpbGVDb250YWluZXIoZSkpO24/KGkuYWRkQ2xhc3MoInFxLWVkaXRpbmciKSx0LmhpZGVGaWxlbmFtZShlKSx0LmhpZGVFZGl0SWNvbihlKSk6KGkucmVtb3ZlQ2xhc3MoInFxLWVkaXRpbmciKSx0LnNob3dGaWxlbmFtZShlKSx0LnNob3dFZGl0SWNvbihlKSksby5hZGRDbGFzcygicXEtdGVtcCIpLnJlbW92ZUNsYXNzKCJxcS10ZW1wIil9fX0sX29uVXBsb2FkU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZFN0YXR1c0NoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5faXNFZGl0RmlsZW5hbWVFbmFibGVkKCkmJnRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihlKSYmbiE9PXFxLnN0YXR1cy5TVUJNSVRURUQmJih0aGlzLl90ZW1wbGF0aW5nLm1hcmtGaWxlbmFtZUVkaXRhYmxlKGUpLHRoaXMuX3RlbXBsYXRpbmcuaGlkZUVkaXRJY29uKGUpKSx0PT09cXEuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyYmbj09PXFxLnN0YXR1cy5VUExPQURJTkc/KHRoaXMuX3RlbXBsYXRpbmcuaGlkZVJldHJ5KGUpLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChlKSxxcSh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIoZSkpLnJlbW92ZUNsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlpbmcpKTpuPT09cXEuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJnRoaXMuX3RlbXBsYXRpbmcuaGlkZVBhdXNlKGUpfSxfYmluZEZpbGVuYW1lSW5wdXRGb2N1c0luRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT1xcS5leHRlbmQoe30sdGhpcy5fZmlsZW5hbWVFZGl0SGFuZGxlcigpKTtyZXR1cm4gbmV3IHFxLkZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcihlKX0sX2JpbmRGaWxlbmFtZUlucHV0Rm9jdXNFdmVudDpmdW5jdGlvbigpe3ZhciBlPXFxLmV4dGVuZCh7fSx0aGlzLl9maWxlbmFtZUVkaXRIYW5kbGVyKCkpO3JldHVybiBuZXcgcXEuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlcihlKX0sX2JpbmRGaWxlbmFtZUNsaWNrRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT1xcS5leHRlbmQoe30sdGhpcy5fZmlsZW5hbWVFZGl0SGFuZGxlcigpKTtyZXR1cm4gbmV3IHFxLkZpbGVuYW1lQ2xpY2tIYW5kbGVyKGUpfSxfc3RvcmVGb3JMYXRlcjpmdW5jdGlvbihlKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9zdG9yZUZvckxhdGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVTcGlubmVyKGUpfSxfb25BbGxDb21wbGV0ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQWxsQ29tcGxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RlbXBsYXRpbmcucmVzZXRUb3RhbFByb2dyZXNzKCl9LF9vblN1Ym1pdDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0RmlsZShlKTtuJiZuLnFxUGF0aCYmdGhpcy5fb3B0aW9ucy5kcmFnQW5kRHJvcC5yZXBvcnREaXJlY3RvcnlQYXRocyYmdGhpcy5fcGFyYW1zU3RvcmUuYWRkUmVhZE9ubHkoZSx7cXFwYXRoOm4ucXFQYXRofSksdGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25TdWJtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2FkZFRvTGlzdChlLHQpfSxfb25TdWJtaXR0ZWQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNFZGl0RmlsZW5hbWVFbmFibGVkKCkmJih0aGlzLl90ZW1wbGF0aW5nLm1hcmtGaWxlbmFtZUVkaXRhYmxlKGUpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd0VkaXRJY29uKGUpLHRoaXMuX2ZvY3VzaW5FdmVudFN1cHBvcnRlZHx8dGhpcy5fZmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlci5hZGRIYW5kbGVyKHRoaXMuX3RlbXBsYXRpbmcuZ2V0RWRpdElucHV0KGUpKSl9LF9vblByb2dyZXNzOmZ1bmN0aW9uKGUsdCxuLGkpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uUHJvZ3Jlc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RlbXBsYXRpbmcudXBkYXRlUHJvZ3Jlc3MoZSxuLGkpLDA9PT1pfHwxMDA9PT1NYXRoLnJvdW5kKG4vaSoxMDApPyh0aGlzLl90ZW1wbGF0aW5nLmhpZGVDYW5jZWwoZSksdGhpcy5fdGVtcGxhdGluZy5oaWRlUGF1c2UoZSksdGhpcy5fdGVtcGxhdGluZy5oaWRlUHJvZ3Jlc3MoZSksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KGUsdGhpcy5fb3B0aW9ucy50ZXh0LndhaXRpbmdGb3JSZXNwb25zZSksdGhpcy5fZGlzcGxheUZpbGVTaXplKGUpKTp0aGlzLl9kaXNwbGF5RmlsZVNpemUoZSxuLGkpfSxfb25Ub3RhbFByb2dyZXNzOmZ1bmN0aW9uKGUsdCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25Ub3RhbFByb2dyZXNzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVRvdGFsUHJvZ3Jlc3MoZSx0KX0sX29uQ29tcGxldGU6ZnVuY3Rpb24oZSx0LG4saSl7ZnVuY3Rpb24gbyh0KXtzJiYoYS5zZXRTdGF0dXNUZXh0KGUpLHFxKHMpLnJlbW92ZUNsYXNzKHUuX2NsYXNzZXMucmV0cnlpbmcpLGEuaGlkZVByb2dyZXNzKGUpLHUuZ2V0VXBsb2Fkcyh7aWQ6ZX0pLnN0YXR1cyE9PXFxLnN0YXR1cy5VUExPQURfRkFJTEVEJiZhLmhpZGVDYW5jZWwoZSksYS5oaWRlU3Bpbm5lcihlKSx0LnN1Y2Nlc3M/dS5fbWFya0ZpbGVBc1N1Y2Nlc3NmdWwoZSk6KHFxKHMpLmFkZENsYXNzKHUuX2NsYXNzZXMuZmFpbCksYS5zaG93Q2FuY2VsKGUpLGEuaXNSZXRyeVBvc3NpYmxlKCkmJiF1Ll9wcmV2ZW50UmV0cmllc1tlXSYmKHFxKHMpLmFkZENsYXNzKHUuX2NsYXNzZXMucmV0cnlhYmxlKSxhLnNob3dSZXRyeShlKSksdS5fY29udHJvbEZhaWx1cmVUZXh0RGlzcGxheShlLHQpKSl9dmFyIHI9dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25Db21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT10aGlzLl90ZW1wbGF0aW5nLHM9YS5nZXRGaWxlQ29udGFpbmVyKGUpLHU9dGhpcztyZXR1cm4gciBpbnN0YW5jZW9mIHFxLlByb21pc2U/ci5kb25lKGZ1bmN0aW9uKGUpe28oZSl9KTpvKG4pLHJ9LF9tYXJrRmlsZUFzU3VjY2Vzc2Z1bDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl90ZW1wbGF0aW5nO3RoaXMuX2lzRGVsZXRlUG9zc2libGUoKSYmdC5zaG93RGVsZXRlQnV0dG9uKGUpLHFxKHQuZ2V0RmlsZUNvbnRhaW5lcihlKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5zdWNjZXNzKSx0aGlzLl9tYXliZVVwZGF0ZVRodW1ibmFpbChlKX0sX29uVXBsb2FkUHJlcDpmdW5jdGlvbihlKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZFByZXAuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIoZSl9LF9vblVwbG9hZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5zaG93U3Bpbm5lcihlKSxufSxfb25VcGxvYWRDaHVuazpmdW5jdGlvbihlLHQpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVXBsb2FkQ2h1bmsuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQucGFydEluZGV4PjAmJnRoaXMuX2hhbmRsZXIuaXNSZXN1bWFibGUoZSkmJnRoaXMuX3RlbXBsYXRpbmcuYWxsb3dQYXVzZShlKX0sX29uQ2FuY2VsOmZ1bmN0aW9uKGUsdCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25DYW5jZWwuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3JlbW92ZUZpbGVJdGVtKGUpLDA9PT10aGlzLl9nZXROb3RGaW5pc2hlZCgpJiZ0aGlzLl90ZW1wbGF0aW5nLnJlc2V0VG90YWxQcm9ncmVzcygpfSxfb25CZWZvcmVBdXRvUmV0cnk6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQmVmb3JlQXV0b1JldHJ5LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zaG93Q2FuY2VsTGluayhlKSx0aGlzLl9vcHRpb25zLnJldHJ5LnNob3dBdXRvUmV0cnlOb3RlJiYodD10aGlzLl9hdXRvUmV0cmllc1tlXSxuPXRoaXMuX29wdGlvbnMucmV0cnkubWF4QXV0b0F0dGVtcHRzLGk9dGhpcy5fb3B0aW9ucy5yZXRyeS5hdXRvUmV0cnlOb3RlLnJlcGxhY2UoL1x7cmV0cnlOdW1cfS9nLHQpLGk9aS5yZXBsYWNlKC9ce21heEF1dG9cfS9nLG4pLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChlLGkpLHFxKHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihlKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5yZXRyeWluZykpfSxfb25CZWZvcmVNYW51YWxSZXRyeTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25CZWZvcmVNYW51YWxSZXRyeS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMuX3RlbXBsYXRpbmcucmVzZXRQcm9ncmVzcyhlKSxxcSh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIoZSkpLnJlbW92ZUNsYXNzKHRoaXMuX2NsYXNzZXMuZmFpbCksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KGUpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIoZSksdGhpcy5fc2hvd0NhbmNlbExpbmsoZSksITApOihxcSh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIoZSkpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlhYmxlKSx0aGlzLl90ZW1wbGF0aW5nLnNob3dSZXRyeShlKSwhMSl9LF9vblN1Ym1pdERlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD1xcS5iaW5kKHRoaXMuX29uU3VibWl0RGVsZXRlU3VjY2Vzcyx0aGlzKTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblN1Ym1pdERlbGV0ZS5jYWxsKHRoaXMsZSx0KX0sX29uU3VibWl0RGVsZXRlU3VjY2VzczpmdW5jdGlvbihlLHQsbil7dGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmZvcmNlQ29uZmlybT90aGlzLl9zaG93RGVsZXRlQ29uZmlybS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5fc2VuZERlbGV0ZVJlcXVlc3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25EZWxldGVDb21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdGVtcGxhdGluZy5oaWRlU3Bpbm5lcihlKSxuPyh0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQoZSx0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZGVsZXRpbmdGYWlsZWRUZXh0KSx0aGlzLl90ZW1wbGF0aW5nLnNob3dEZWxldGVCdXR0b24oZSkpOnRoaXMuX3JlbW92ZUZpbGVJdGVtKGUpfSxfc2VuZERlbGV0ZVJlcXVlc3Q6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX3RlbXBsYXRpbmcuaGlkZURlbGV0ZUJ1dHRvbihlKSx0aGlzLl90ZW1wbGF0aW5nLnNob3dTcGlubmVyKGUpLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChlLHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5kZWxldGluZ1N0YXR1c1RleHQpLHRoaXMuX2RlbGV0ZUhhbmRsZXIuc2VuZERlbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9zaG93RGVsZXRlQ29uZmlybTpmdW5jdGlvbihlLHQsbil7dmFyIGksbz10aGlzLmdldE5hbWUoZSkscj10aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuY29uZmlybU1lc3NhZ2UucmVwbGFjZSgvXHtmaWxlbmFtZVx9L2csbyksYT0odGhpcy5nZXRVdWlkKGUpLGFyZ3VtZW50cykscz10aGlzO2k9dGhpcy5fb3B0aW9ucy5zaG93Q29uZmlybShyKSxxcS5pc0dlbmVyaWNQcm9taXNlKGkpP2kudGhlbihmdW5jdGlvbigpe3MuX3NlbmREZWxldGVSZXF1ZXN0LmFwcGx5KHMsYSl9KTppIT09ITEmJnMuX3NlbmREZWxldGVSZXF1ZXN0LmFwcGx5KHMsYSl9LF9hZGRUb0xpc3Q6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLG8scj0wLGE9dGhpcy5faGFuZGxlci5pc1Byb3hpZWQoZSkmJnRoaXMuX29wdGlvbnMuc2NhbGluZy5oaWRlU2NhbGVkO3RoaXMuX29wdGlvbnMuZGlzcGxheS5wcmVwZW5kRmlsZXMmJih0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD4xJiZ0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk+MCYmKHI9dGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpLTEpLGk9e2luZGV4OnJ9KSxufHwodGhpcy5fb3B0aW9ucy5kaXNhYmxlQ2FuY2VsRm9yRm9ybVVwbG9hZHMmJiFxcS5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nJiZ0aGlzLl90ZW1wbGF0aW5nLmRpc2FibGVDYW5jZWwoKSx0aGlzLl9vcHRpb25zLm11bHRpcGxlfHwobz10aGlzLmdldFVwbG9hZHMoe2lkOmV9KSx0aGlzLl9oYW5kbGVkUHJveHlHcm91cD10aGlzLl9oYW5kbGVkUHJveHlHcm91cHx8by5wcm94eUdyb3VwSWQsby5wcm94eUdyb3VwSWQ9PT10aGlzLl9oYW5kbGVkUHJveHlHcm91cCYmby5wcm94eUdyb3VwSWR8fCh0aGlzLl9oYW5kbGVyLmNhbmNlbEFsbCgpLHRoaXMuX2NsZWFyTGlzdCgpLHRoaXMuX2hhbmRsZWRQcm94eUdyb3VwPW51bGwpKSksbj8odGhpcy5fdGVtcGxhdGluZy5hZGRGaWxlVG9DYWNoZShlLHRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUodCksaSxhKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVRodW1ibmFpbChlLHRoaXMuX3RodW1ibmFpbFVybHNbZV0sITAsdGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLmN1c3RvbVJlc2l6ZXIpKToodGhpcy5fdGVtcGxhdGluZy5hZGRGaWxlKGUsdGhpcy5fb3B0aW9ucy5mb3JtYXRGaWxlTmFtZSh0KSxpLGEpLHRoaXMuX3RlbXBsYXRpbmcuZ2VuZXJhdGVQcmV2aWV3KGUsdGhpcy5nZXRGaWxlKGUpLHRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5jdXN0b21SZXNpemVyKSksdGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpKz0xLChufHx0aGlzLl9vcHRpb25zLmRpc3BsYXkuZmlsZVNpemVPblN1Ym1pdCYmcXEuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZykmJnRoaXMuX2Rpc3BsYXlGaWxlU2l6ZShlKX0sX2NsZWFyTGlzdDpmdW5jdGlvbigpe3RoaXMuX3RlbXBsYXRpbmcuY2xlYXJGaWxlcygpLHRoaXMuY2xlYXJTdG9yZWRGaWxlcygpfSxfZGlzcGxheUZpbGVTaXplOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLmdldFNpemUoZSksbz10aGlzLl9mb3JtYXRTaXplKGkpO2k+PTAmJih2b2lkIDAhPT10JiZ2b2lkIDAhPT1uJiYobz10aGlzLl9mb3JtYXRQcm9ncmVzcyh0LG4pKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVNpemUoZSxvKSl9LF9mb3JtYXRQcm9ncmVzczpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtpPWkucmVwbGFjZShlLHQpfXZhciBpPXRoaXMuX29wdGlvbnMudGV4dC5mb3JtYXRQcm9ncmVzcztyZXR1cm4gbigie3BlcmNlbnR9IixNYXRoLnJvdW5kKGUvdCoxMDApKSxuKCJ7dG90YWxfc2l6ZX0iLHRoaXMuX2Zvcm1hdFNpemUodCkpLGl9LF9jb250cm9sRmFpbHVyZVRleHREaXNwbGF5OmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvO249dGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5tb2RlLGk9dGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5yZXNwb25zZVByb3BlcnR5LCJjdXN0b20iPT09bj8obz10W2ldLG98fChvPXRoaXMuX29wdGlvbnMudGV4dC5mYWlsVXBsb2FkKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQoZSxvKSx0aGlzLl9vcHRpb25zLmZhaWxlZFVwbG9hZFRleHREaXNwbGF5LmVuYWJsZVRvb2x0aXAmJnRoaXMuX3Nob3dUb29sdGlwKGUsbykpOiJkZWZhdWx0Ij09PW4/dGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KGUsdGhpcy5fb3B0aW9ucy50ZXh0LmZhaWxVcGxvYWQpOiJub25lIiE9PW4mJnRoaXMubG9nKCJmYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5tb2RlIHZhbHVlIG9mICciK24rIicgaXMgbm90IHZhbGlkIiwid2FybiIpfSxfc2hvd1Rvb2x0aXA6ZnVuY3Rpb24oZSx0KXt0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIoZSkudGl0bGU9dH0sX3Nob3dDYW5jZWxMaW5rOmZ1bmN0aW9uKGUpe3RoaXMuX29wdGlvbnMuZGlzYWJsZUNhbmNlbEZvckZvcm1VcGxvYWRzJiYhcXEuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZ3x8dGhpcy5fdGVtcGxhdGluZy5zaG93Q2FuY2VsKGUpfSxfaXRlbUVycm9yOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9pdGVtRXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX29wdGlvbnMuc2hvd01lc3NhZ2UoaSl9LF9iYXRjaEVycm9yOmZ1bmN0aW9uKGUpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX2JhdGNoRXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX29wdGlvbnMuc2hvd01lc3NhZ2UoZSl9LF9zZXR1cFBhc3RlUHJvbXB0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblBhc3RlUmVjZWl2ZWQ9ZnVuY3Rpb24oKXt2YXIgdD1lLl9vcHRpb25zLnBhc3RlLm5hbWVQcm9tcHRNZXNzYWdlLG49ZS5fb3B0aW9ucy5wYXN0ZS5kZWZhdWx0TmFtZTtyZXR1cm4gZS5fb3B0aW9ucy5zaG93UHJvbXB0KHQsbil9fSxfZmlsZU9yQmxvYlJlamVjdGVkOmZ1bmN0aW9uKGUsdCl7dGhpcy5fdG90YWxGaWxlc0luQmF0Y2gtPTEsdGhpcy5fcGFyZW50LnByb3RvdHlwZS5fZmlsZU9yQmxvYlJlamVjdGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX3ByZXBhcmVJdGVtc0ZvclVwbG9hZDpmdW5jdGlvbihlLHQsbil7DQp0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD1lLmxlbmd0aCx0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MCx0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9wcmVwYXJlSXRlbXNGb3JVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfbWF5YmVVcGRhdGVUaHVtYm5haWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdGh1bWJuYWlsVXJsc1tlXTt0aGlzLmdldFVwbG9hZHMoe2lkOmV9KS5zdGF0dXM9PT1xcS5zdGF0dXMuREVMRVRFRHx8IXQmJiF0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMucGxhY2Vob2xkZXJzLndhaXRVbnRpbFJlc3BvbnNlJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzfHx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVRodW1ibmFpbChlLHQsdGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLmN1c3RvbVJlc2l6ZXIpfSxfYWRkQ2FubmVkRmlsZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9hZGRDYW5uZWRGaWxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fYWRkVG9MaXN0KHQsdGhpcy5nZXROYW1lKHQpLCEwKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVTcGlubmVyKHQpLHRoaXMuX3RlbXBsYXRpbmcuaGlkZUNhbmNlbCh0KSx0aGlzLl9tYXJrRmlsZUFzU3VjY2Vzc2Z1bCh0KSx0fSxfc2V0U2l6ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX3NldFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RlbXBsYXRpbmcudXBkYXRlU2l6ZShlLHRoaXMuX2Zvcm1hdFNpemUodCkpfSxfc2Vzc2lvblJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMuX3RlbXBsYXRpbmcuYWRkQ2FjaGVUb0RvbSgpLHRoaXMuX3BhcmVudC5wcm90b3R5cGUuX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KCkscXEuRmluZVVwbG9hZGVyPWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciBuPXRoaXM7dGhpcy5fcGFyZW50PXQ/cXFbdF0uRmluZVVwbG9hZGVyQmFzaWM6cXEuRmluZVVwbG9hZGVyQmFzaWMsdGhpcy5fcGFyZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxxcS5leHRlbmQodGhpcy5fb3B0aW9ucyx7ZWxlbWVudDpudWxsLGJ1dHRvbjpudWxsLGxpc3RFbGVtZW50Om51bGwsZHJhZ0FuZERyb3A6e2V4dHJhRHJvcHpvbmVzOltdLHJlcG9ydERpcmVjdG9yeVBhdGhzOiExfSx0ZXh0Ontmb3JtYXRQcm9ncmVzczoie3BlcmNlbnR9JSBvZiB7dG90YWxfc2l6ZX0iLGZhaWxVcGxvYWQ6IlVwbG9hZCBmYWlsZWQiLHdhaXRpbmdGb3JSZXNwb25zZToiUHJvY2Vzc2luZy4uLiIscGF1c2VkOiJQYXVzZWQifSx0ZW1wbGF0ZToicXEtdGVtcGxhdGUiLGNsYXNzZXM6e3JldHJ5aW5nOiJxcS11cGxvYWQtcmV0cnlpbmciLHJldHJ5YWJsZToicXEtdXBsb2FkLXJldHJ5YWJsZSIsc3VjY2VzczoicXEtdXBsb2FkLXN1Y2Nlc3MiLGZhaWw6InFxLXVwbG9hZC1mYWlsIixlZGl0YWJsZToicXEtZWRpdGFibGUiLGhpZGU6InFxLWhpZGUiLGRyb3BBY3RpdmU6InFxLXVwbG9hZC1kcm9wLWFyZWEtYWN0aXZlIn0sZmFpbGVkVXBsb2FkVGV4dERpc3BsYXk6e21vZGU6ImRlZmF1bHQiLHJlc3BvbnNlUHJvcGVydHk6ImVycm9yIixlbmFibGVUb29sdGlwOiEwfSxtZXNzYWdlczp7dG9vTWFueUZpbGVzRXJyb3I6IllvdSBtYXkgb25seSBkcm9wIG9uZSBmaWxlIix1bnN1cHBvcnRlZEJyb3dzZXI6IlVucmVjb3ZlcmFibGUgZXJyb3IgLSB0aGlzIGJyb3dzZXIgZG9lcyBub3QgcGVybWl0IGZpbGUgdXBsb2FkaW5nIG9mIGFueSBraW5kLiJ9LHJldHJ5OntzaG93QXV0b1JldHJ5Tm90ZTohMCxhdXRvUmV0cnlOb3RlOiJSZXRyeWluZyB7cmV0cnlOdW19L3ttYXhBdXRvfS4uLiJ9LGRlbGV0ZUZpbGU6e2ZvcmNlQ29uZmlybTohMSxjb25maXJtTWVzc2FnZToiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB7ZmlsZW5hbWV9PyIsZGVsZXRpbmdTdGF0dXNUZXh0OiJEZWxldGluZy4uLiIsZGVsZXRpbmdGYWlsZWRUZXh0OiJEZWxldGUgZmFpbGVkIn0sZGlzcGxheTp7ZmlsZVNpemVPblN1Ym1pdDohMSxwcmVwZW5kRmlsZXM6ITF9LHBhc3RlOntwcm9tcHRGb3JOYW1lOiExLG5hbWVQcm9tcHRNZXNzYWdlOiJQbGVhc2UgbmFtZSB0aGlzIGltYWdlIn0sdGh1bWJuYWlsczp7Y3VzdG9tUmVzaXplcjpudWxsLG1heENvdW50OjAscGxhY2Vob2xkZXJzOnt3YWl0VW50aWxSZXNwb25zZTohMSxub3RBdmFpbGFibGVQYXRoOm51bGwsd2FpdGluZ1BhdGg6bnVsbH0sdGltZUJldHdlZW5UaHVtYnM6NzUwfSxzY2FsaW5nOntoaWRlU2NhbGVkOiExfSxzaG93TWVzc2FnZTpmdW5jdGlvbihlKXtpZihuLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygiYWxlcnQiKSlyZXR1cm4gbi5fdGVtcGxhdGluZy5zaG93RGlhbG9nKCJhbGVydCIsZSk7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5hbGVydChlKX0sMCl9LHNob3dDb25maXJtOmZ1bmN0aW9uKGUpe3JldHVybiBuLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygiY29uZmlybSIpP24uX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygiY29uZmlybSIsZSk6d2luZG93LmNvbmZpcm0oZSl9LHNob3dQcm9tcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5fdGVtcGxhdGluZy5oYXNEaWFsb2coInByb21wdCIpP24uX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygicHJvbXB0IixlLHQpOndpbmRvdy5wcm9tcHQoZSx0KX19LCEwKSxxcS5leHRlbmQodGhpcy5fb3B0aW9ucyxlLCEwKSx0aGlzLl90ZW1wbGF0aW5nPW5ldyBxcS5UZW1wbGF0aW5nKHtsb2c6cXEuYmluZCh0aGlzLmxvZyx0aGlzKSx0ZW1wbGF0ZUlkT3JFbDp0aGlzLl9vcHRpb25zLnRlbXBsYXRlLGNvbnRhaW5lckVsOnRoaXMuX29wdGlvbnMuZWxlbWVudCxmaWxlQ29udGFpbmVyRWw6dGhpcy5fb3B0aW9ucy5saXN0RWxlbWVudCxidXR0b246dGhpcy5fb3B0aW9ucy5idXR0b24saW1hZ2VHZW5lcmF0b3I6dGhpcy5faW1hZ2VHZW5lcmF0b3IsY2xhc3Nlczp7aGlkZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuaGlkZSxlZGl0YWJsZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuZWRpdGFibGV9LGxpbWl0czp7bWF4VGh1bWJzOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5tYXhDb3VudCx0aW1lQmV0d2VlblRodW1iczp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMudGltZUJldHdlZW5UaHVtYnN9LHBsYWNlaG9sZGVyczp7d2FpdFVudGlsVXBkYXRlOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdFVudGlsUmVzcG9uc2UsdGh1bWJuYWlsTm90QXZhaWxhYmxlOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMubm90QXZhaWxhYmxlUGF0aCx3YWl0aW5nRm9yVGh1bWJuYWlsOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdGluZ1BhdGh9LHRleHQ6dGhpcy5fb3B0aW9ucy50ZXh0fSksdGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4U2FmYXJpVXBsb2FkcyYmcXEuaW9zODAwKCkmJnFxLmlvc1NhZmFyaSgpP3RoaXMuX3RlbXBsYXRpbmcucmVuZGVyRmFpbHVyZSh0aGlzLl9vcHRpb25zLm1lc3NhZ2VzLnVuc3VwcG9ydGVkQnJvd3NlcklvczhTYWZhcmkpOiFxcS5zdXBwb3J0ZWRGZWF0dXJlcy51cGxvYWRpbmd8fHRoaXMuX29wdGlvbnMuY29ycy5leHBlY3RlZCYmIXFxLnN1cHBvcnRlZEZlYXR1cmVzLnVwbG9hZENvcnM/dGhpcy5fdGVtcGxhdGluZy5yZW5kZXJGYWlsdXJlKHRoaXMuX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VyKToodGhpcy5fd3JhcENhbGxiYWNrcygpLHRoaXMuX3RlbXBsYXRpbmcucmVuZGVyKCksdGhpcy5fY2xhc3Nlcz10aGlzLl9vcHRpb25zLmNsYXNzZXMsIXRoaXMuX29wdGlvbnMuYnV0dG9uJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpLHRoaXMuX3NldHVwQ2xpY2tBbmRFZGl0RXZlbnRIYW5kbGVycygpLHFxLkRyYWdBbmREcm9wJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcCYmKHRoaXMuX2RuZD10aGlzLl9zZXR1cERyYWdBbmREcm9wKCkpLHRoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCYmdGhpcy5fb3B0aW9ucy5wYXN0ZS5wcm9tcHRGb3JOYW1lJiYocXEuUGFzdGVTdXBwb3J0P3RoaXMuX3NldHVwUGFzdGVQcm9tcHQoKTp0aGlzLmxvZygiUGFzdGUgc3VwcG9ydCBtb2R1bGUgbm90IGZvdW5kLiIsImVycm9yIikpLHRoaXMuX3RvdGFsRmlsZXNJbkJhdGNoPTAsdGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpPTApfSxxcS5leHRlbmQocXEuRmluZVVwbG9hZGVyLnByb3RvdHlwZSxxcS5iYXNlUHVibGljQXBpKSxxcS5leHRlbmQocXEuRmluZVVwbG9hZGVyLnByb3RvdHlwZSxxcS5iYXNlUHJpdmF0ZUFwaSkscXEuZXh0ZW5kKHFxLkZpbmVVcGxvYWRlci5wcm90b3R5cGUscXEudWlQdWJsaWNBcGkpLHFxLmV4dGVuZChxcS5GaW5lVXBsb2FkZXIucHJvdG90eXBlLHFxLnVpUHJpdmF0ZUFwaSkscXEuVGVtcGxhdGluZz1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQsbixpLG8scixhLHMsdSxsPXtjb250ZW50OmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtYXA6e319LGM9ITEsZD0wLHA9ITEsaD1bXSxmPS0xLHE9e2xvZzpudWxsLGxpbWl0czp7bWF4VGh1bWJzOjAsdGltZUJldHdlZW5UaHVtYnM6NzUwfSx0ZW1wbGF0ZUlkT3JFbDoicXEtdGVtcGxhdGUiLGNvbnRhaW5lckVsOm51bGwsZmlsZUNvbnRhaW5lckVsOm51bGwsYnV0dG9uOm51bGwsaW1hZ2VHZW5lcmF0b3I6bnVsbCxjbGFzc2VzOntoaWRlOiJxcS1oaWRlIixlZGl0YWJsZToicXEtZWRpdGFibGUifSxwbGFjZWhvbGRlcnM6e3dhaXRVbnRpbFVwZGF0ZTohMSx0aHVtYm5haWxOb3RBdmFpbGFibGU6bnVsbCx3YWl0aW5nRm9yVGh1bWJuYWlsOm51bGx9LHRleHQ6e3BhdXNlZDoiUGF1c2VkIn19LG09e2J1dHRvbjoicXEtdXBsb2FkLWJ1dHRvbi1zZWxlY3RvciIsYWxlcnREaWFsb2c6InFxLWFsZXJ0LWRpYWxvZy1zZWxlY3RvciIsZGlhbG9nQ2FuY2VsQnV0dG9uOiJxcS1jYW5jZWwtYnV0dG9uLXNlbGVjdG9yIixjb25maXJtRGlhbG9nOiJxcS1jb25maXJtLWRpYWxvZy1zZWxlY3RvciIsZGlhbG9nTWVzc2FnZToicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3IiLGRpYWxvZ09rQnV0dG9uOiJxcS1vay1idXR0b24tc2VsZWN0b3IiLHByb21wdERpYWxvZzoicXEtcHJvbXB0LWRpYWxvZy1zZWxlY3RvciIsdXBsb2FkZXI6InFxLXVwbG9hZGVyLXNlbGVjdG9yIixkcm9wOiJxcS11cGxvYWQtZHJvcC1hcmVhLXNlbGVjdG9yIixsaXN0OiJxcS11cGxvYWQtbGlzdC1zZWxlY3RvciIscHJvZ3Jlc3NCYXJDb250YWluZXI6InFxLXByb2dyZXNzLWJhci1jb250YWluZXItc2VsZWN0b3IiLHByb2dyZXNzQmFyOiJxcS1wcm9ncmVzcy1iYXItc2VsZWN0b3IiLHRvdGFsUHJvZ3Jlc3NCYXJDb250YWluZXI6InFxLXRvdGFsLXByb2dyZXNzLWJhci1jb250YWluZXItc2VsZWN0b3IiLHRvdGFsUHJvZ3Jlc3NCYXI6InFxLXRvdGFsLXByb2dyZXNzLWJhci1zZWxlY3RvciIsZmlsZToicXEtdXBsb2FkLWZpbGUtc2VsZWN0b3IiLHNwaW5uZXI6InFxLXVwbG9hZC1zcGlubmVyLXNlbGVjdG9yIixzaXplOiJxcS11cGxvYWQtc2l6ZS1zZWxlY3RvciIsY2FuY2VsOiJxcS11cGxvYWQtY2FuY2VsLXNlbGVjdG9yIixwYXVzZToicXEtdXBsb2FkLXBhdXNlLXNlbGVjdG9yIixjb250aW51ZUJ1dHRvbjoicXEtdXBsb2FkLWNvbnRpbnVlLXNlbGVjdG9yIixkZWxldGVCdXR0b246InFxLXVwbG9hZC1kZWxldGUtc2VsZWN0b3IiLHJldHJ5OiJxcS11cGxvYWQtcmV0cnktc2VsZWN0b3IiLHN0YXR1c1RleHQ6InFxLXVwbG9hZC1zdGF0dXMtdGV4dC1zZWxlY3RvciIsZWRpdEZpbGVuYW1lSW5wdXQ6InFxLWVkaXQtZmlsZW5hbWUtc2VsZWN0b3IiLGVkaXROYW1lSWNvbjoicXEtZWRpdC1maWxlbmFtZS1pY29uLXNlbGVjdG9yIixkcm9wVGV4dDoicXEtdXBsb2FkLWRyb3AtYXJlYS10ZXh0LXNlbGVjdG9yIixkcm9wUHJvY2Vzc2luZzoicXEtZHJvcC1wcm9jZXNzaW5nLXNlbGVjdG9yIixkcm9wUHJvY2Vzc2luZ1NwaW5uZXI6InFxLWRyb3AtcHJvY2Vzc2luZy1zcGlubmVyLXNlbGVjdG9yIix0aHVtYm5haWw6InFxLXRodW1ibmFpbC1zZWxlY3RvciJ9LGc9e30sXz1uZXcgcXEuUHJvbWlzZSx2PW5ldyBxcS5Qcm9taXNlLGI9ZnVuY3Rpb24oKXt2YXIgZT1xLnBsYWNlaG9sZGVycy50aHVtYm5haWxOb3RBdmFpbGFibGUsbj1xLnBsYWNlaG9sZGVycy53YWl0aW5nRm9yVGh1bWJuYWlsLGk9e21heFNpemU6ZixzY2FsZTp1fTtzJiYoZT9xLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKGUsbmV3IEltYWdlLGkpLnRoZW4oZnVuY3Rpb24oZSl7Xy5zdWNjZXNzKGUpfSxmdW5jdGlvbigpe18uZmFpbHVyZSgpLHQoIlByb2JsZW0gbG9hZGluZyAnbm90IGF2YWlsYWJsZScgcGxhY2Vob2xkZXIgaW1hZ2UgYXQgIitlLCJlcnJvciIpfSk6Xy5mYWlsdXJlKCksbj9xLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKG4sbmV3IEltYWdlLGkpLnRoZW4oZnVuY3Rpb24oZSl7di5zdWNjZXNzKGUpfSxmdW5jdGlvbigpe3YuZmFpbHVyZSgpLHQoIlByb2JsZW0gbG9hZGluZyAnd2FpdGluZyBmb3IgdGh1bWJuYWlsJyBwbGFjZWhvbGRlciBpbWFnZSBhdCAiK24sImVycm9yIil9KTp2LmZhaWx1cmUoKSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHFxLlByb21pc2U7cmV0dXJuIHYudGhlbihmdW5jdGlvbihuKXt6KG4sZSksZS5zcmM/dC5zdWNjZXNzKCk6KGUuc3JjPW4uc3JjLGUub25sb2FkPWZ1bmN0aW9uKCl7ZS5vbmxvYWQ9bnVsbCxXKGUpLHQuc3VjY2VzcygpfSl9LGZ1bmN0aW9uKCl7TChlKSx0LnN1Y2Nlc3MoKX0pLHR9LFM9ZnVuY3Rpb24oZSxuLGkpe3ZhciBvPU8oZSk7cmV0dXJuIHQoIkdlbmVyYXRpbmcgbmV3IHRodW1ibmFpbCBmb3IgIitlKSxuLnFxVGh1bWJuYWlsSWQ9ZSxxLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKG4sbyxpKS50aGVuKGZ1bmN0aW9uKCl7ZCsrLFcobyksZ1tlXS5zdWNjZXNzKCl9LGZ1bmN0aW9uKCl7Z1tlXS5mYWlsdXJlKCkscS5wbGFjZWhvbGRlcnMud2FpdFVudGlsVXBkYXRlfHxIKGUsbyl9KX0sdz1mdW5jdGlvbigpe2lmKGgubGVuZ3RoKXtwPSEwO3ZhciBlPWguc2hpZnQoKTtlLnVwZGF0ZT9WKGUpOkcoZSl9ZWxzZSBwPSExfSxGPWZ1bmN0aW9uKGUpe3JldHVybiBOKFAoZSksbS5jYW5jZWwpfSx4PWZ1bmN0aW9uKGUpe3JldHVybiBOKFAoZSksbS5jb250aW51ZUJ1dHRvbil9LEM9ZnVuY3Rpb24oZSl7cmV0dXJuIE4ocixtW2UrIkRpYWxvZyJdKX0sST1mdW5jdGlvbihlKXtyZXR1cm4gTihQKGUpLG0uZGVsZXRlQnV0dG9uKX0sRT1mdW5jdGlvbigpe3JldHVybiBOKHIsbS5kcm9wUHJvY2Vzc2luZyl9LEQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE4oUChlKSxtLmVkaXROYW1lSWNvbil9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGwubWFwW2VdfHxxcShhKS5nZXRGaXJzdEJ5Q2xhc3MoInFxLWZpbGUtaWQtIitlKX0sVT1mdW5jdGlvbihlKXtyZXR1cm4gTihQKGUpLG0uZmlsZSl9LFQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE4oUChlKSxtLnBhdXNlKX0sUj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9OKHIsbS50b3RhbFByb2dyZXNzQmFyQ29udGFpbmVyKXx8TihyLG0udG90YWxQcm9ncmVzc0Jhcik6TihQKGUpLG0ucHJvZ3Jlc3NCYXJDb250YWluZXIpfHxOKFAoZSksbS5wcm9ncmVzc0Jhcil9LGs9ZnVuY3Rpb24oZSl7cmV0dXJuIE4oUChlKSxtLnJldHJ5KX0sQT1mdW5jdGlvbihlKXtyZXR1cm4gTihQKGUpLG0uc2l6ZSl9LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIE4oUChlKSxtLnNwaW5uZXIpfSxOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnFxKGUpLmdldEZpcnN0QnlDbGFzcyh0KX0sTz1mdW5jdGlvbihlKXtyZXR1cm4gcyYmTihQKGUpLG0udGh1bWJuYWlsKX0sTD1mdW5jdGlvbihlKXtlJiZxcShlKS5hZGRDbGFzcyhxLmNsYXNzZXMuaGlkZSl9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnN0eWxlLm1heFdpZHRoLGk9ZS5zdHlsZS5tYXhIZWlnaHQ7aSYmbiYmIXQuc3R5bGUubWF4V2lkdGgmJiF0LnN0eWxlLm1heEhlaWdodCYmcXEodCkuY3NzKHttYXhXaWR0aDpuLG1heEhlaWdodDppfSl9LEg9ZnVuY3Rpb24oZSx0KXt2YXIgbj1nW2VdfHwobmV3IHFxLlByb21pc2UpLmZhaWx1cmUoKSxpPW5ldyBxcS5Qcm9taXNlO3JldHVybiBfLnRoZW4oZnVuY3Rpb24oZSl7bi50aGVuKGZ1bmN0aW9uKCl7aS5zdWNjZXNzKCl9LGZ1bmN0aW9uKCl7eihlLHQpLHQub25sb2FkPWZ1bmN0aW9uKCl7dC5vbmxvYWQ9bnVsbCxpLnN1Y2Nlc3MoKX0sdC5zcmM9ZS5zcmMsVyh0KX0pfSksaX0saj1mdW5jdGlvbigpe3ZhciBlLG8scixhLGwsYyxkLHAsaCxnLF87aWYodCgiUGFyc2luZyB0ZW1wbGF0ZSIpLG51bGw9PXEudGVtcGxhdGVJZE9yRWwpdGhyb3cgbmV3IEVycm9yKCJZb3UgTVVTVCBzcGVjaWZ5IGVpdGhlciBhIHRlbXBsYXRlIGVsZW1lbnQgb3IgSUQhIik7aWYocXEuaXNTdHJpbmcocS50ZW1wbGF0ZUlkT3JFbCkpe2lmKGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocS50ZW1wbGF0ZUlkT3JFbCksbnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKHFxLmZvcm1hdCgiQ2Fubm90IGZpbmQgdGVtcGxhdGUgc2NyaXB0IGF0IElEICd7fSchIixxLnRlbXBsYXRlSWRPckVsKSk7bz1lLmlubmVySFRNTH1lbHNle2lmKHZvaWQgMD09PXEudGVtcGxhdGVJZE9yRWwuaW5uZXJIVE1MKXRocm93IG5ldyBFcnJvcigiWW91IGhhdmUgc3BlY2lmaWVkIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSB0ZW1wbGF0ZSBvcHRpb24hICBJdCBtdXN0IGJlIGFuIElEIG9yIGFuIEVsZW1lbnQuIik7bz1xLnRlbXBsYXRlSWRPckVsLmlubmVySFRNTH1pZihvPXFxLnRyaW1TdHIobyksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLmFwcGVuZENoaWxkKHFxLnRvRWxlbWVudChvKSksXz1xcShhKS5nZXRGaXJzdEJ5Q2xhc3MobS51cGxvYWRlcikscS5idXR0b24mJihjPXFxKGEpLmdldEZpcnN0QnlDbGFzcyhtLmJ1dHRvbiksYyYmcXEoYykucmVtb3ZlKCkpLHFxLkRyYWdBbmREcm9wJiZxcS5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcHx8KGg9cXEoYSkuZ2V0Rmlyc3RCeUNsYXNzKG0uZHJvcFByb2Nlc3NpbmcpLGgmJnFxKGgpLnJlbW92ZSgpKSxkPXFxKGEpLmdldEZpcnN0QnlDbGFzcyhtLmRyb3ApLGQmJiFxcS5EcmFnQW5kRHJvcCYmKHQoIkRuRCBtb2R1bGUgdW5hdmFpbGFibGUuIiwiaW5mbyIpLHFxKGQpLnJlbW92ZSgpKSxxcS5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcD9xcShfKS5oYXNBdHRyaWJ1dGUoInFxLWRyb3AtYXJlYS10ZXh0IikmJmQmJihnPXFxKGQpLmdldEZpcnN0QnlDbGFzcyhtLmRyb3BUZXh0KSxnJiZxcShnKS5yZW1vdmUoKSk6KF8ucmVtb3ZlQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpLGQmJnFxKGQpLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZxcShkKS5jc3Moe2Rpc3BsYXk6Im5vbmUifSkpLHA9cXEoYSkuZ2V0Rmlyc3RCeUNsYXNzKG0udGh1bWJuYWlsKSxzP3AmJihmPXBhcnNlSW50KHAuZ2V0QXR0cmlidXRlKCJxcS1tYXgtc2l6ZSIpKSxmPWY+MD9mOm51bGwsdT1xcShwKS5oYXNBdHRyaWJ1dGUoInFxLXNlcnZlci1zY2FsZSIpKTpwJiZxcShwKS5yZW1vdmUoKSxzPXMmJnAsbj1xcShhKS5nZXRCeUNsYXNzKG0uZWRpdEZpbGVuYW1lSW5wdXQpLmxlbmd0aD4wLGk9cXEoYSkuZ2V0QnlDbGFzcyhtLnJldHJ5KS5sZW5ndGg+MCxyPXFxKGEpLmdldEZpcnN0QnlDbGFzcyhtLmxpc3QpLG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCB0aGUgZmlsZSBsaXN0IGNvbnRhaW5lciBpbiB0aGUgdGVtcGxhdGUhIik7cmV0dXJuIGw9ci5jaGlsZHJlblswXS5jbG9uZU5vZGUoITApLHIuaW5uZXJIVE1MPSIiLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkRJQUxPRyIpLmxlbmd0aCYmZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGlhbG9nIiksdCgiVGVtcGxhdGUgcGFyc2luZyBjb21wbGV0ZSIpLHt0ZW1wbGF0ZTphLGZpbGVUZW1wbGF0ZTpsfX0sTT1mdW5jdGlvbihlLHQsbil7dmFyIGk9bixvPWkuZmlyc3RDaGlsZDt0PjAmJihvPXFxKGkpLmNoaWxkcmVuKClbdF0ubmV4dFNpYmxpbmcpLGkuaW5zZXJ0QmVmb3JlKGUsbyl9LEc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZCxuPWUub3B0RmlsZU9yQmxvYixpPW4mJm4ucXFUaHVtYm5haWxJZCxvPU8odCkscj17Y3VzdG9tUmVzaXplRnVuY3Rpb246ZS5jdXN0b21SZXNpemVGdW5jdGlvbixtYXhTaXplOmYsb3JpZW50OiEwLHNjYWxlOiEwfTtxcS5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzP28/cS5saW1pdHMubWF4VGh1bWJzJiZxLmxpbWl0cy5tYXhUaHVtYnM8PWQ/KEgodCxvKSx3KCkpOnkobykuZG9uZShmdW5jdGlvbigpe2dbdF09bmV3IHFxLlByb21pc2UsZ1t0XS5kb25lKGZ1bmN0aW9uKCl7c2V0VGltZW91dCh3LHEubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzKX0pLG51bGwhPWk/USh0LGkpOlModCxuLHIpfSk6dygpOm8mJih5KG8pLHcoKSl9LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZCxuPWUudGh1bWJuYWlsVXJsLGk9ZS5zaG93V2FpdGluZ0ltZyxvPU8odCkscj17Y3VzdG9tUmVzaXplRnVuY3Rpb246ZS5jdXN0b21SZXNpemVGdW5jdGlvbixzY2FsZTp1LG1heFNpemU6Zn07aWYobylpZihuKXtpZighKHEubGltaXRzLm1heFRodW1icyYmcS5saW1pdHMubWF4VGh1bWJzPD1kKSlyZXR1cm4gaSYmeShvKSxxLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKG4sbyxyKS50aGVuKGZ1bmN0aW9uKCl7VyhvKSxkKyssc2V0VGltZW91dCh3LHEubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzKX0sZnVuY3Rpb24oKXtIKHQsbyksc2V0VGltZW91dCh3LHEubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzKX0pO0godCxvKSx3KCl9ZWxzZSBIKHQsbyksdygpfSxYPWZ1bmN0aW9uKGUsdCl7dmFyIG49UihlKSxpPW51bGw9PWU/bS50b3RhbFByb2dyZXNzQmFyOm0ucHJvZ3Jlc3NCYXI7biYmIXFxKG4pLmhhc0NsYXNzKGkpJiYobj1xcShuKS5nZXRGaXJzdEJ5Q2xhc3MoaSkpLG4mJihxcShuKS5jc3Moe3dpZHRoOnQrIiUifSksbi5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLHQpKX0sVz1mdW5jdGlvbihlKXtlJiZxcShlKS5yZW1vdmVDbGFzcyhxLmNsYXNzZXMuaGlkZSl9LFE9ZnVuY3Rpb24oZSxuKXt2YXIgaT1PKGUpLG89TyhuKTt0KHFxLmZvcm1hdCgiSUQge30gaXMgdGhlIHNhbWUgZmlsZSBhcyBJRCB7fS4gIFdpbGwgdXNlIGdlbmVyYXRlZCB0aHVtYm5haWwgZnJvbSBJRCB7fSBpbnN0ZWFkLiIsZSxuLG4pKSxnW25dLnRoZW4oZnVuY3Rpb24oKXtkKyssZ1tlXS5zdWNjZXNzKCksdChxcS5mb3JtYXQoIk5vdyB1c2luZyBwcmV2aW91c2x5IGdlbmVyYXRlZCB0aHVtYm5haWwgY3JlYXRlZCBmb3IgSUQge30gb24gSUQge30uIixuLGUpKSxpLnNyYz1vLnNyYyxXKGkpfSxmdW5jdGlvbigpe2dbZV0uZmFpbHVyZSgpLHEucGxhY2Vob2xkZXJzLndhaXRVbnRpbFVwZGF0ZXx8SChlLGkpfSl9O3FxLmV4dGVuZChxLGUpLHQ9cS5sb2cscXEuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3c3x8KHEubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzPTAscS5saW1pdHMubWF4VGh1bWJzPTApLHI9cS5jb250YWluZXJFbCxzPXZvaWQgMCE9PXEuaW1hZ2VHZW5lcmF0b3Isbz1qKCksYigpLHFxLmV4dGVuZCh0aGlzLHtyZW5kZXI6ZnVuY3Rpb24oKXt0KCJSZW5kZXJpbmcgdGVtcGxhdGUgaW4gRE9NLiIpLGQ9MCxyLmFwcGVuZENoaWxkKG8udGVtcGxhdGUuY2xvbmVOb2RlKCEwKSksTChFKCkpLHRoaXMuaGlkZVRvdGFsUHJvZ3Jlc3MoKSxhPXEuZmlsZUNvbnRhaW5lckVsfHxOKHIsbS5saXN0KSx0KCJUZW1wbGF0ZSByZW5kZXJpbmcgY29tcGxldGUiKX0scmVuZGVyRmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgdD1xcS50b0VsZW1lbnQoZSk7ci5pbm5lckhUTUw9IiIsci5hcHBlbmRDaGlsZCh0KX0scmVzZXQ6ZnVuY3Rpb24oKXtyLmlubmVySFRNTD0iIix0aGlzLnJlbmRlcigpfSxjbGVhckZpbGVzOmZ1bmN0aW9uKCl7YS5pbm5lckhUTUw9IiJ9LGRpc2FibGVDYW5jZWw6ZnVuY3Rpb24oKXtjPSEwfSxhZGRGaWxlOmZ1bmN0aW9uKGUsdCxuLGkscyl7dmFyIHUsZD1vLmZpbGVUZW1wbGF0ZS5jbG9uZU5vZGUoITApLHA9TihkLG0uZmlsZSksaD1OKHIsbS51cGxvYWRlciksZj1zP2wuY29udGVudDphO3MmJihsLm1hcFtlXT1kKSxxcShkKS5hZGRDbGFzcygicXEtZmlsZS1pZC0iK2UpLGgucmVtb3ZlQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpLHAmJihxcShwKS5zZXRUZXh0KHQpLHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsdCkpLGQuc2V0QXR0cmlidXRlKCJxcS1maWxlLWlkIixlKSxuP00oZCxuLmluZGV4LGYpOmYuYXBwZW5kQ2hpbGQoZCksaT8oZC5zdHlsZS5kaXNwbGF5PSJub25lIixxcShkKS5hZGRDbGFzcygicXEtaGlkZGVuLWZvcmV2ZXIiKSk6KEwoUihlKSksTChBKGUpKSxMKEkoZSkpLEwoayhlKSksTChUKGUpKSxMKHgoZSkpLGMmJnRoaXMuaGlkZUNhbmNlbChlKSx1PU8oZSksdSYmIXUuc3JjJiZ2LnRoZW4oZnVuY3Rpb24oZSl7dS5zcmM9ZS5zcmMsZS5zdHlsZS5tYXhIZWlnaHQmJmUuc3R5bGUubWF4V2lkdGgmJnFxKHUpLmNzcyh7bWF4SGVpZ2h0OmUuc3R5bGUubWF4SGVpZ2h0LG1heFdpZHRoOmUuc3R5bGUubWF4V2lkdGh9KSxXKHUpfSkpfSxhZGRGaWxlVG9DYWNoZTpmdW5jdGlvbihlLHQsbixpKXt0aGlzLmFkZEZpbGUoZSx0LG4saSwhMCl9LGFkZENhY2hlVG9Eb206ZnVuY3Rpb24oKXthLmFwcGVuZENoaWxkKGwuY29udGVudCksbC5jb250ZW50PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsLm1hcD17fX0scmVtb3ZlRmlsZTpmdW5jdGlvbihlKXtxcShQKGUpKS5yZW1vdmUoKX0sZ2V0RmlsZUlkOmZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYodCl7Zm9yKDtudWxsPT10LmdldEF0dHJpYnV0ZSgicXEtZmlsZS1pZCIpOyl0PXQucGFyZW50Tm9kZTtyZXR1cm4gcGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoInFxLWZpbGUtaWQiKSl9fSxnZXRGaWxlTGlzdDpmdW5jdGlvbigpe3JldHVybiBhfSxtYXJrRmlsZW5hbWVFZGl0YWJsZTpmdW5jdGlvbihlKXt2YXIgdD1VKGUpO3QmJnFxKHQpLmFkZENsYXNzKHEuY2xhc3Nlcy5lZGl0YWJsZSl9LHVwZGF0ZUZpbGVuYW1lOmZ1bmN0aW9uKGUsdCl7dmFyIG49VShlKTtuJiYocXEobikuc2V0VGV4dCh0KSxuLnNldEF0dHJpYnV0ZSgidGl0bGUiLHQpKX0saGlkZUZpbGVuYW1lOmZ1bmN0aW9uKGUpe0woVShlKSl9LHNob3dGaWxlbmFtZTpmdW5jdGlvbihlKXtXKFUoZSkpfSxpc0ZpbGVOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiBxcShlKS5oYXNDbGFzcyhtLmZpbGUpfSxnZXRCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gcS5idXR0b258fE4ocixtLmJ1dHRvbil9LGhpZGVEcm9wUHJvY2Vzc2luZzpmdW5jdGlvbigpe0woRSgpKX0sc2hvd0Ryb3BQcm9jZXNzaW5nOmZ1bmN0aW9uKCl7VyhFKCkpfSxnZXREcm9wWm9uZTpmdW5jdGlvbigpe3JldHVybiBOKHIsbS5kcm9wKX0saXNFZGl0RmlsZW5hbWVQb3NzaWJsZTpmdW5jdGlvbigpe3JldHVybiBufSxoaWRlUmV0cnk6ZnVuY3Rpb24oZSl7TChrKGUpKX0saXNSZXRyeVBvc3NpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LHNob3dSZXRyeTpmdW5jdGlvbihlKXtXKGsoZSkpfSxnZXRGaWxlQ29udGFpbmVyOmZ1bmN0aW9uKGUpe3JldHVybiBQKGUpfSxzaG93RWRpdEljb246ZnVuY3Rpb24oZSl7dmFyIHQ9RChlKTt0JiZxcSh0KS5hZGRDbGFzcyhxLmNsYXNzZXMuZWRpdGFibGUpfSxpc0hpZGRlbkZvcmV2ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHFxKFAoZSkpLmhhc0NsYXNzKCJxcS1oaWRkZW4tZm9yZXZlciIpfSxoaWRlRWRpdEljb246ZnVuY3Rpb24oZSl7dmFyIHQ9RChlKTt0JiZxcSh0KS5yZW1vdmVDbGFzcyhxLmNsYXNzZXMuZWRpdGFibGUpfSxpc0VkaXRJY29uOmZ1bmN0aW9uKGUpe3JldHVybiBxcShlKS5oYXNDbGFzcyhtLmVkaXROYW1lSWNvbiwhMCl9LGdldEVkaXRJbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gTihQKGUpLG0uZWRpdEZpbGVuYW1lSW5wdXQpfSxpc0VkaXRJbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gcXEoZSkuaGFzQ2xhc3MobS5lZGl0RmlsZW5hbWVJbnB1dCwhMCl9LHVwZGF0ZVByb2dyZXNzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvPVIoZSk7byYmbj4wJiYoaT1NYXRoLnJvdW5kKHQvbioxMDApLDEwMD09PWk/TChvKTpXKG8pLFgoZSxpKSl9LHVwZGF0ZVRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVByb2dyZXNzKG51bGwsZSx0KX0saGlkZVByb2dyZXNzOmZ1bmN0aW9uKGUpe3ZhciB0PVIoZSk7dCYmTCh0KX0saGlkZVRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLmhpZGVQcm9ncmVzcygpfSxyZXNldFByb2dyZXNzOmZ1bmN0aW9uKGUpe1goZSwwKSx0aGlzLmhpZGVUb3RhbFByb2dyZXNzKGUpfSxyZXNldFRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0UHJvZ3Jlc3MoKX0sc2hvd0NhbmNlbDpmdW5jdGlvbihlKXtpZighYyl7dmFyIHQ9RihlKTt0JiZxcSh0KS5yZW1vdmVDbGFzcyhxLmNsYXNzZXMuaGlkZSl9fSxoaWRlQ2FuY2VsOmZ1bmN0aW9uKGUpe0woRihlKSl9LGlzQ2FuY2VsOmZ1bmN0aW9uKGUpe3JldHVybiBxcShlKS5oYXNDbGFzcyhtLmNhbmNlbCwhMCl9LGFsbG93UGF1c2U6ZnVuY3Rpb24oZSl7VyhUKGUpKSxMKHgoZSkpfSx1cGxvYWRQYXVzZWQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXRTdGF0dXNUZXh0KGUscS50ZXh0LnBhdXNlZCksdGhpcy5hbGxvd0NvbnRpbnVlQnV0dG9uKGUpLEwoQihlKSl9LGhpZGVQYXVzZTpmdW5jdGlvbihlKXtMKFQoZSkpfSxpc1BhdXNlOmZ1bmN0aW9uKGUpe3JldHVybiBxcShlKS5oYXNDbGFzcyhtLnBhdXNlLCEwKX0saXNDb250aW51ZUJ1dHRvbjpmdW5jdGlvbihlKXtyZXR1cm4gcXEoZSkuaGFzQ2xhc3MobS5jb250aW51ZUJ1dHRvbiwhMCl9LGFsbG93Q29udGludWVCdXR0b246ZnVuY3Rpb24oZSl7Vyh4KGUpKSxMKFQoZSkpfSx1cGxvYWRDb250aW51ZWQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXRTdGF0dXNUZXh0KGUsIiIpLHRoaXMuYWxsb3dQYXVzZShlKSxXKEIoZSkpfSxzaG93RGVsZXRlQnV0dG9uOmZ1bmN0aW9uKGUpe1coSShlKSl9LGhpZGVEZWxldGVCdXR0b246ZnVuY3Rpb24oZSl7TChJKGUpKX0saXNEZWxldGVCdXR0b246ZnVuY3Rpb24oZSl7cmV0dXJuIHFxKGUpLmhhc0NsYXNzKG0uZGVsZXRlQnV0dG9uLCEwKX0saXNSZXRyeTpmdW5jdGlvbihlKXtyZXR1cm4gcXEoZSkuaGFzQ2xhc3MobS5yZXRyeSwhMCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1BKGUpO24mJihXKG4pLHFxKG4pLnNldFRleHQodCkpfSxzZXRTdGF0dXNUZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG49TihQKGUpLG0uc3RhdHVzVGV4dCk7biYmKG51bGw9PXQ/cXEobikuY2xlYXJUZXh0KCk6cXEobikuc2V0VGV4dCh0KSl9LGhpZGVTcGlubmVyOmZ1bmN0aW9uKGUpe3FxKFAoZSkpLnJlbW92ZUNsYXNzKCJxcS1pbi1wcm9ncmVzcyIpLEwoQihlKSl9LHNob3dTcGlubmVyOmZ1bmN0aW9uKGUpe3FxKFAoZSkpLmFkZENsYXNzKCJxcS1pbi1wcm9ncmVzcyIpLFcoQihlKSl9LGdlbmVyYXRlUHJldmlldzpmdW5jdGlvbihlLHQsbil7dGhpcy5pc0hpZGRlbkZvcmV2ZXIoZSl8fChoLnB1c2goe2lkOmUsY3VzdG9tUmVzaXplRnVuY3Rpb246bixvcHRGaWxlT3JCbG9iOnR9KSwhcCYmdygpKX0sdXBkYXRlVGh1bWJuYWlsOmZ1bmN0aW9uKGUsdCxuLGkpe3RoaXMuaXNIaWRkZW5Gb3JldmVyKGUpfHwoaC5wdXNoKHtjdXN0b21SZXNpemVGdW5jdGlvbjppLHVwZGF0ZTohMCxpZDplLHRodW1ibmFpbFVybDp0LHNob3dXYWl0aW5nSW1nOm59KSwhcCYmdygpKX0saGFzRGlhbG9nOmZ1bmN0aW9uKGUpe3JldHVybiBxcS5zdXBwb3J0ZWRGZWF0dXJlcy5kaWFsb2dFbGVtZW50JiYhIUMoZSl9LHNob3dEaWFsb2c6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPUMoZSksbz1OKGksbS5kaWFsb2dNZXNzYWdlKSxyPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIklOUFVUIilbMF0sYT1OKGksbS5kaWFsb2dDYW5jZWxCdXR0b24pLHM9TihpLG0uZGlhbG9nT2tCdXR0b24pLHU9bmV3IHFxLlByb21pc2UsbD1mdW5jdGlvbigpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGMpLHMmJnMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGQpLHUuZmFpbHVyZSgpfSxjPWZ1bmN0aW9uKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsYyksaS5jbG9zZSgpfSxkPWZ1bmN0aW9uKCl7aS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbG9zZSIsbCkscy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsZCksaS5jbG9zZSgpLHUuc3VjY2VzcyhyJiZyLnZhbHVlKX07cmV0dXJuIGkuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLGwpLGEuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGMpLHMmJnMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGQpLHImJihyLnZhbHVlPW4pLG8udGV4dENvbnRlbnQ9dCxpLnNob3dNb2RhbCgpLHV9fSl9LHFxLlVpRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aS5hdHRhY2goZSxvLmV2ZW50VHlwZSxmdW5jdGlvbihlKXtlPWV8fHdpbmRvdy5ldmVudDt2YXIgdD1lLnRhcmdldHx8ZS5zcmNFbGVtZW50O28ub25IYW5kbGVkKHQsZSl9KX12YXIgaT1uZXcgcXEuRGlzcG9zZVN1cHBvcnQsbz17ZXZlbnRUeXBlOiJjbGljayIsYXR0YWNoVG86bnVsbCxvbkhhbmRsZWQ6ZnVuY3Rpb24oZSx0KXt9fTtxcS5leHRlbmQodGhpcyx7YWRkSGFuZGxlcjpmdW5jdGlvbihlKXtuKGUpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7aS5kaXNwb3NlKCl9fSkscXEuZXh0ZW5kKHQse2dldEZpbGVJZEZyb21JdGVtOmZ1bmN0aW9uKGUpe3JldHVybiBlLnFxRmlsZUlkfSxnZXREaXNwb3NlU3VwcG9ydDpmdW5jdGlvbigpe3JldHVybiBpfX0pLHFxLmV4dGVuZChvLGUpLG8uYXR0YWNoVG8mJm4oby5hdHRhY2hUbyl9LHFxLkZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUsdCl7cXEuZWFjaChvLGZ1bmN0aW9uKG4sbyl7dmFyIHIsYT1uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSk7aWYoaS50ZW1wbGF0aW5nWyJpcyIrYV0oZSkpcmV0dXJuIHI9aS50ZW1wbGF0aW5nLmdldEZpbGVJZChlKSxxcS5wcmV2ZW50RGVmYXVsdCh0KSxpLmxvZyhxcS5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGUgYnV0dG9uIGNsaWNrIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsaS5vbkdldE5hbWUocikscikpLG8ociksITF9KX12YXIgbj17fSxpPXt0ZW1wbGF0aW5nOm51bGwsbG9nOmZ1bmN0aW9uKGUsdCl7fSxvbkRlbGV0ZUZpbGU6ZnVuY3Rpb24oZSl7fSxvbkNhbmNlbDpmdW5jdGlvbihlKXt9LG9uUmV0cnk6ZnVuY3Rpb24oZSl7fSxvblBhdXNlOmZ1bmN0aW9uKGUpe30sb25Db250aW51ZTpmdW5jdGlvbihlKXt9LG9uR2V0TmFtZTpmdW5jdGlvbihlKXt9fSxvPXtjYW5jZWw6ZnVuY3Rpb24oZSl7aS5vbkNhbmNlbChlKX0scmV0cnk6ZnVuY3Rpb24oZSl7aS5vblJldHJ5KGUpfSxkZWxldGVCdXR0b246ZnVuY3Rpb24oZSl7aS5vbkRlbGV0ZUZpbGUoZSl9LHBhdXNlOmZ1bmN0aW9uKGUpe2kub25QYXVzZShlKX0sY29udGludWVCdXR0b246ZnVuY3Rpb24oZSl7aS5vbkNvbnRpbnVlKGUpfX07cXEuZXh0ZW5kKGksZSksaS5ldmVudFR5cGU9ImNsaWNrIixpLm9uSGFuZGxlZD10LGkuYXR0YWNoVG89aS50ZW1wbGF0aW5nLmdldEZpbGVMaXN0KCkscXEuZXh0ZW5kKHRoaXMsbmV3IHFxLlVpRXZlbnRIYW5kbGVyKGksbikpfSxxcS5GaWxlbmFtZUNsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe2lmKGkudGVtcGxhdGluZy5pc0ZpbGVOYW1lKGUpfHxpLnRlbXBsYXRpbmcuaXNFZGl0SWNvbihlKSl7dmFyIG89aS50ZW1wbGF0aW5nLmdldEZpbGVJZChlKTtpLm9uR2V0VXBsb2FkU3RhdHVzKG8pPT09cXEuc3RhdHVzLlNVQk1JVFRFRCYmKGkubG9nKHFxLmZvcm1hdCgiRGV0ZWN0ZWQgdmFsaWQgZmlsZW5hbWUgY2xpY2sgZXZlbnQgb24gZmlsZSAne30nLCBJRDoge30uIixpLm9uR2V0TmFtZShvKSxvKSkscXEucHJldmVudERlZmF1bHQodCksbi5oYW5kbGVGaWxlbmFtZUVkaXQobyxlLCEwKSl9fXZhciBuPXt9LGk9e3RlbXBsYXRpbmc6bnVsbCxsb2c6ZnVuY3Rpb24oZSx0KXt9LGNsYXNzZXM6e2ZpbGU6InFxLXVwbG9hZC1maWxlIixlZGl0TmFtZUljb246InFxLWVkaXQtZmlsZW5hbWUtaWNvbiJ9LG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKGUpe30sb25HZXROYW1lOmZ1bmN0aW9uKGUpe319O3FxLmV4dGVuZChpLGUpLGkuZXZlbnRUeXBlPSJjbGljayIsaS5vbkhhbmRsZWQ9dCxxcS5leHRlbmQodGhpcyxuZXcgcXEuRmlsZW5hbWVFZGl0SGFuZGxlcihpLG4pKX0scXEuRmlsZW5hbWVJbnB1dEZvY3VzSW5IYW5kbGVyPWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSxuKXtpZihpLnRlbXBsYXRpbmcuaXNFZGl0SW5wdXQoZSkpe3ZhciBvPWkudGVtcGxhdGluZy5nZXRGaWxlSWQoZSk7aS5vbkdldFVwbG9hZFN0YXR1cyhvKT09PXFxLnN0YXR1cy5TVUJNSVRURUQmJihpLmxvZyhxcS5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGVuYW1lIGlucHV0IGZvY3VzIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsaS5vbkdldE5hbWUobyksbykpLHQuaGFuZGxlRmlsZW5hbWVFZGl0KG8sZSkpfX12YXIgaT17dGVtcGxhdGluZzpudWxsLG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKGUpe30sbG9nOmZ1bmN0aW9uKGUsdCl7fX07dHx8KHQ9e30pLGkuZXZlbnRUeXBlPSJmb2N1c2luIixpLm9uSGFuZGxlZD1uLHFxLmV4dGVuZChpLGUpLHFxLmV4dGVuZCh0aGlzLG5ldyBxcS5GaWxlbmFtZUVkaXRIYW5kbGVyKGksdCkpfSxxcS5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtlLmV2ZW50VHlwZT0iZm9jdXMiLGUuYXR0YWNoVG89bnVsbCxxcS5leHRlbmQodGhpcyxuZXcgcXEuRmlsZW5hbWVJbnB1dEZvY3VzSW5IYW5kbGVyKGUse30pKX0scXEuRmlsZW5hbWVFZGl0SGFuZGxlcj1mdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PXMub25HZXROYW1lKGUpLG49dC5sYXN0SW5kZXhPZigiLiIpO3JldHVybiBuPjAmJih0PXQuc3Vic3RyKDAsbikpLHR9ZnVuY3Rpb24gaShlKXt2YXIgdD1zLm9uR2V0TmFtZShlKTtyZXR1cm4gcXEuZ2V0RXh0ZW5zaW9uKHQpfWZ1bmN0aW9uIG8oZSx0KXt2YXIgbixvPWUudmFsdWU7dm9pZCAwIT09byYmcXEudHJpbVN0cihvKS5sZW5ndGg+MCYmKG49aSh0KSx2b2lkIDAhPT1uJiYobz1vKyIuIituKSxzLm9uU2V0TmFtZSh0LG8pKSxzLm9uRWRpdGluZ1N0YXR1c0NoYW5nZSh0LCExKX1mdW5jdGlvbiByKGUsbil7dC5nZXREaXNwb3NlU3VwcG9ydCgpLmF0dGFjaChlLCJibHVyIixmdW5jdGlvbigpe28oZSxuKX0pfWZ1bmN0aW9uIGEoZSxuKXt0LmdldERpc3Bvc2VTdXBwb3J0KCkuYXR0YWNoKGUsImtleXVwIixmdW5jdGlvbih0KXsxMz09PSh0LmtleUNvZGV8fHQud2hpY2gpJiZvKGUsbil9KX12YXIgcz17dGVtcGxhdGluZzpudWxsLGxvZzpmdW5jdGlvbihlLHQpe30sb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24oZSl7fSxvbkdldE5hbWU6ZnVuY3Rpb24oZSl7fSxvblNldE5hbWU6ZnVuY3Rpb24oZSx0KXt9LG9uRWRpdGluZ1N0YXR1c0NoYW5nZTpmdW5jdGlvbihlLHQpe319O3FxLmV4dGVuZChzLGUpLHMuYXR0YWNoVG89cy50ZW1wbGF0aW5nLmdldEZpbGVMaXN0KCkscXEuZXh0ZW5kKHRoaXMsbmV3IHFxLlVpRXZlbnRIYW5kbGVyKHMsdCkpLHFxLmV4dGVuZCh0LHtoYW5kbGVGaWxlbmFtZUVkaXQ6ZnVuY3Rpb24oZSx0LGkpe3ZhciBvPXMudGVtcGxhdGluZy5nZXRFZGl0SW5wdXQoZSk7cy5vbkVkaXRpbmdTdGF0dXNDaGFuZ2UoZSwhMCksby52YWx1ZT1uKGUpLGkmJm8uZm9jdXMoKSxyKG8sZSksYShvLGUpfX0pfX0od2luZG93KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5maW5lLXVwbG9hZGVyLm1pbi5qcy5tYXANCiFmdW5jdGlvbihyLGkpe3ZhciBvPSIucXVpY2stdmlldy1idXR0b24iO2Z1bmN0aW9uIG4oKXt2YXIgdD1yKCIucXVpY2tWaWV3V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKTtudWxsIT10JiYiIiE9PXQuY29udGVudCgpJiZ0LmNsb3NlKCl9ZnVuY3Rpb24gZSgpe3ZhciB0PXIoIi5xdWlja1ZpZXdXaW5kb3cgI3Byb2R1Y3QtZGV0YWlscy1mb3JtIikuc2VyaWFsaXplKCk7cmV0dXJuIHQ9dC5yZXBsYWNlKG5ldyBSZWdFeHAoInF1aWNrVmlld19wcm9kdWN0X2F0dHJpYnV0ZSIsImciKSwicHJvZHVjdF9hdHRyaWJ1dGUiKX1mdW5jdGlvbiBjKGMpe3ZhciB0PXIoIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1yZXRyaWV2ZVF1aWNrVmlld1VybCIpO2lmKG51bGwhPXQpe3ZhciBhPXtwcm9kdWN0SWQ6Y307ci5hamF4KHtiZWZvcmVTZW5kOmZ1bmN0aW9uKCl7dmFyIHQsYTt0PXIoIi5xdWlja1ZpZXdXaW5kb3ciKS5kYXRhKCJrZW5kb1dpbmRvdyIpLGE9cigiPGRpdiBjbGFzcz0nay1sb2FkaW5nLW1hc2snPjxkaXYgY2xhc3M9J2stbG9hZGluZy1pbWFnZScvPjxkaXYgY2xhc3M9J2stbG9hZGluZy1jb2xvcicvPjwvZGl2PiIpLndpZHRoKCI3MDBweCIpLmhlaWdodCgiMzYwcHgiKSx0LmNvbnRlbnQoYSksdC5jZW50ZXIoKSx0Lm9wZW4oKX0sY2FjaGU6ITEsdHlwZToiUE9TVCIsZGF0YTphLHVybDp0fSkuZG9uZShmdW5jdGlvbih0KXt2YXIgYTthPXQscigiLnF1aWNrVmlld1dpbmRvdyIpLmRhdGEoImtlbmRvV2luZG93IikuY29udGVudChhKTt2YXIgZT1yKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtYWNjb3JkaW9ucGFuZWxzaGVpZ2h0c3R5bGUiKTtyKCIjYWNjb3JkaW9uIikuYWNjb3JkaW9uKHtjb2xsYXBzaWJsZTohMCxpY29uczp7aGVhZGVyOiJ1aS1pY29uLWNpcmNsZS1hcnJvdy1lIixhY3RpdmVIZWFkZXI6InVpLWljb24tY2lyY2xlLWFycm93LXMifSxoZWlnaHRTdHlsZTplfSk7dmFyIGksbz1yKCIucXVpY2tWaWV3Iikub2Zmc2V0KCksbj1yKCIucXVpY2tWaWV3IikuaGVpZ2h0KCk7cih3aW5kb3cpLmhlaWdodCgpPG4/cigiLnF1aWNrVmlldyIpLmNzcygidG9wIixyKGRvY3VtZW50KS5zY3JvbGxUb3AoKSsxMCk6cigiLnF1aWNrVmlldyIpLmNzcygidG9wIixvLnRvcC1uLzQpLDA8KGk9cigiLnF1aWNrVmlld0FkanVzdFBpY3R1cmVPblByb2R1Y3RBdHRyaWJ1dGVWYWx1ZUNoYW5nZSIpKS5sZW5ndGgmJnIoZG9jdW1lbnQpLm9uKCJxdWlja1ZpZXcucHJvZHVjdF9hdHRyaWJ1dGVzX2NoYW5nZWQiLGZ1bmN0aW9uKHQpe2lmKHQuY2hhbmdlZERhdGEmJnQuY2hhbmdlZERhdGEucGljdHVyZURlZmF1bHRTaXplVXJsKXt2YXIgYT10LmNoYW5nZWREYXRhLnBpY3R1cmVEZWZhdWx0U2l6ZVVybDsidHJ1ZSI9PT1pLmF0dHIoImRhdGEtaXNDbG91ZFpvb21BdmFpbGFibGUiKT8oYT1hLnN1YnN0cmluZygxLGEubGVuZ3RoLTkpLHIoJy5xdWlja1ZpZXdXaW5kb3cgLmNsb3Vkem9vbS1nYWxsZXJ5W2hyZWYqPSInK2ErJyJdJykuY2xpY2soKSk6cigiLnF1aWNrVmlld1dpbmRvdyAuZ2FsbGVyeSAucGljdHVyZSBpbWciKS5hdHRyKCJzcmMiLGEpfX0pLGZ1bmN0aW9uKCl7dmFyIHQ9cigiLnF1aWNrVmlld1JlbnRhbEluZm8iKTtpZigwPHQubGVuZ3RoKXt2YXIgYT10LmF0dHIoImRhdGEtZGF0ZVBpY2tlckZvcm1hdCIpLGU9IiMiK3QuYXR0cigiZGF0YS1zdGFydERhdGVDb250cm9sSWQiKSxpPSIjIit0LmF0dHIoImRhdGEtZW5kRGF0ZUNvbnRyb2xJZCIpO3IoZSkuZGF0ZXBpY2tlcih7ZGF0ZUZvcm1hdDphfSkscihpKS5kYXRlcGlja2VyKHtkYXRlRm9ybWF0OmF9KX19KCksci5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCIscHJvZHVjdElkOmN9KX0pLmZhaWwoZnVuY3Rpb24oKXthbGVydCgiTG9hZGluZyB0aGUgcGFnZSBmYWlsZWQuIiksbigpfSl9fWZ1bmN0aW9uIGQoYSx0KXt2YXIgZT1yKHQpO3IuYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsdXJsOnIoIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1nZXRxdWlja3ZpZXdidXR0b25yb3V0ZSIpfSkuZG9uZShmdW5jdGlvbih0KXtyKGUpLmVhY2goZnVuY3Rpb24oKXtyKHRoaXMpLmZpbmQobykubGVuZ3RoPD0wJiZyKHRoaXMpLnByZXBlbmQodCl9KSxyKG8pLm9mZigiY2xpY2sucXVpY2t2aWV3Iikub24oImNsaWNrLnF1aWNrdmlldyIsZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMpLnBhcmVudHMoYSkuZmlyc3QoKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpO3ZvaWQgMCE9PXQmJmModCl9KSxyLmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcFF1aWNrVmlld0J1dHRvbnNBZGRlZENvbXBsZXRlRXZlbnQifSl9KX1mdW5jdGlvbiB1KCl7dmFyIHQsYSxlPXIoImJvZHkiKTtpZigwPGUubGVuZ3RoKXtlLnByZXBlbmQoJzxkaXYgY2xhc3M9InF1aWNrVmlld1dpbmRvdyI+PC9kaXY+Jyk7dmFyIGk9bnVsbCE9KGE9cigiLnF1aWNrVmlld0RhdGEiKS5hdHRyKCJkYXRhLWlzUXVpY2tWaWV3UG9wdXBEcmFnZ2FibGUiKSkmJiJUcnVlIj09PWEsbz1udWxsIT0odD1yKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtZW5hYmxlUXVpY2tWaWV3UG9wdXBPdmVybGF5IikpJiYiVHJ1ZSI9PT10LG49cigiLnF1aWNrVmlld1dpbmRvdyIpLmtlbmRvV2luZG93KHttaW5IZWlnaHQ6IjMzMHB4IixtaW5XaWR0aDoiNjYwcHgiLGRyYWdnYWJsZTppLHJlc2l6YWJsZTohMSxtb2RhbDpvLGFjdGlvbnM6WyJDbG9zZSJdLGFuaW1hdGlvbjohMSx2aXNpYmxlOiExLGNsb3NlOmZ1bmN0aW9uKCl7cigiLnF1aWNrVmlld1dpbmRvdyIpLmh0bWwocigiIikuaHRtbCgpKX19KS5kYXRhKCJrZW5kb1dpbmRvdyIpO24ud3JhcHBlci5hZGRDbGFzcygicXVpY2tWaWV3Iikscihkb2N1bWVudCkub24oImNsaWNrIiwiLmstb3ZlcmxheSIsZnVuY3Rpb24oKXtuLmNsb3NlKCl9KX19ZnVuY3Rpb24gbCh0KXt2YXIgYT1yKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtcHJvZHVjdHNlbGVjdG9yY2hpbGQiKTtyZXR1cm4gdm9pZCAwIT09YSYmYSE9PXQmJjA8cih0KyIgIithKS5sZW5ndGg/dCsiICIrYTp0fXIoZG9jdW1lbnQpLm9uKCJub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCIsZnVuY3Rpb24oKXt2YXIgdD0iLnF1aWNrVmlld1dpbmRvdyAjYWRkLXRvLWNhcnQtYnV0dG9uLSIrcigiI2FkZC10by1jYXJ0LWRldGFpbHMiKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLGE9Ii5xdWlja1ZpZXdXaW5kb3cgLmFkZC10by13aXNobGlzdC1idXR0b24iO3IodCkuaGFzQ2xhc3MoIm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb0NhcnRCdXR0b24iKXx8KHIodCkucHJvcCgib25jbGljayIsbnVsbCkub2ZmKCJjbGljayIpLHIodCkub24oImNsaWNrIixmdW5jdGlvbigpe3ZhciB0PXIoIiNhZGQtdG8tY2FydC1kZXRhaWxzIikuYXR0cigiZGF0YS11cmwiKTtyLmFqYXgoe2NhY2hlOiExLHVybDp0LGRhdGE6ZSgpLHR5cGU6InBvc3QiLHN1Y2Nlc3M6QWpheENhcnQuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOkFqYXhDYXJ0LnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6QWpheENhcnQuYWpheEZhaWx1cmV9KX0pLHIoYSkucHJvcCgib25jbGljayIsbnVsbCkub2ZmKCJjbGljayIpLHIoYSkub24oImNsaWNrIixmdW5jdGlvbigpe3ZhciB0PXIoIiNhZGQtdG8td2lzaGxpc3QtZGV0YWlscyIpLmF0dHIoImRhdGEtdXJsIik7ci5hamF4KHtjYWNoZTohMSx1cmw6dCxkYXRhOmUoKSx0eXBlOiJwb3N0IixzdWNjZXNzOkFqYXhDYXJ0LnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTpBamF4Q2FydC5yZXNldExvYWRXYWl0aW5nLGVycm9yOkFqYXhDYXJ0LmFqYXhGYWlsdXJlfSl9KSl9KSxyKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2lmKCEoaS5pc01vYmlsZSgpfHwhaS5pc01vYmlsZSgpJiZpLmdldFZpZXdQb3J0KCkud2lkdGg8PTc2OCkpe3ZhciB0LGE9bnVsbCE9KHQ9cigiLnF1aWNrVmlld0RhdGEiKS5hdHRyKCJkYXRhLXByb2R1Y3RzZWxlY3RvciIpKT90OiIiO2lmKCIiIT09YSl7dmFyIGU9bChhKTtkKGEsZSkscihkb2N1bWVudCkub24oIm5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQgbm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb1dpc2hsaXN0RXZlbnQiLGZ1bmN0aW9uKCl7bigpfSkscihkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQgbmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50IixmdW5jdGlvbigpe2U9bChhKSxkKGEsZSl9KSx1KCl9fX0pfShqUXVlcnksc2V2ZW5TcGlrZXNDb3JlKTsNCi8qDQogICAgQ2xvdWQgWm9vbSBQYWNrYWdlIExpY2Vuc2UgKENaMDEtUEtHKS4NCiAgICBWZXJzaW9uIDMuMSByZXYgMTUwNzIzMTAxNQ0KICAgIFBsZWFzZSBwdXJjaGFzZSBhbiBhcHByb3ByaWF0ZSBsaWNlbnNlIHRvIHVzZSB0aGlzIHNvZnR3YXJlLg0KICAgIExpY2Vuc2UgQWdyZWVtZW50OiB3d3cuc3RhcnBsdWdpbnMuY29tL2xpY2Vuc2UNCiAgICBDb3B5cmlnaHQgKGMpMjAxMi0yMDE1IFN0YXIgUGx1Z2lucyAtIHd3dy5zdGFycGx1Z2lucy5jb20NCiAgICANCiAgICBEb3dubG9hZGVkIG9uIE9jdCAwNiwgMjAxNiBieSBhY2NvdW50ICM1MjMxDQogICAgTGljZW5zZSBLZXk6IDg1MGNlYWRhMzU4OGFkOTdjYzZjNzUzMTJkNGI0OWVmDQogICAgTGljZW5zZWQgd2Vic2l0ZShzKTogbm9wLXRlbXBsYXRlcy5jb20NCiovDQoobmV3IHdpbmRvd1snXHg0Nlx4NzVceDZFXHg2M1x4NzRceDY5XHg2Rlx4NkUnXShbJ3IuQ2xvdWRab29tPWQ7ZC5PYSgpfSkoalF1ZXJ5KTs7JywKJ3MucHJvdG90eXBlLmRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmIuYmluZChcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe3JldHVybiExfSk7dmFyIGI9dGhpcy56b29tLmEub2Zmc2V0KCk7dGhpcy56b29tLm9wdGlvbnMuem9vbUZseU91dD90aGlzLmIuYW5pbWF0ZSh7bGVmdDpiLmxlZnQrdGhpcy56b29tLmQvMix0b3A6Yi50b3ArdGhpcy56b29tLmMvMixvcGFjaXR5OjAsd2lkdGg6MSxoZWlnaHQ6MX0se2R1cmF0aW9uOnRoaXMuem9vbS5vcHRpb25zLmFuaW1hdGlvblRpbWUsc3RlcDpmdW5jdGlvbigpe2QuYnJvd3Nlci53ZWJraXQmJmEuYi53aWR0aChhLmIud2lkdGgoKSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7YS5iLnJlbW92ZSgpfX0pOnRoaXMuYi5hbmltYXRlKHtvcGFjaXR5OjB9LHtkdXJhdGlvbjp0aGlzLnpvb20ub3B0aW9ucy5hbmltYXRpb25UaW1lLGNvbXBsZXRlOmZ1bmN0aW9uKCl7YS5iLnJlbW92ZSgpfX0pfTsnLAondGhpcy5CKz0oZC10aGlzLkIpL2Eub3B0aW9ucy5lYXNpbmc7Yz0tdGhpcy5xKmI7Yys9YS5uLzIqYjt2YXIgZD0tdGhpcy5CKmIsZD1kK2Euai8yKmIsZT1hLmEud2lkdGgoKSpiLGE9YS5hLmhlaWdodCgpKmI7MDxjJiYoYz0wKTswPGQmJihkPTApO2MrZTx0aGlzLmIud2lkdGgoKSYmKGMrPXRoaXMuYi53aWR0aCgpLShjK2UpKTtkK2E8dGhpcy5iLmhlaWdodCgpLXRoaXMucyYmKGQrPXRoaXMuYi5oZWlnaHQoKS10aGlzLnMtKGQrYSkpO3RoaXMuQS5jc3Moe2xlZnQ6YytcInB4XCIsdG9wOmQrdGhpcy5FYStcInB4XCIsd2lkdGg6ZX0pfTsnLAoncy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy56b29tLGIsYzt0aGlzLmRhdGEuWiYmdGhpcy5MJiYoYj10aGlzLmRhdGEuWi5vZmZzZXQoKS5sZWZ0LGM9dGhpcy5kYXRhLloub2Zmc2V0KCkudG9wLHRoaXMuYi5jc3Moe2xlZnQ6YitcInB4XCIsdG9wOmMrXCJweFwifSkpO2I9YS5pO2M9LWEuemErYS5uLzI7dmFyIGQ9LWEuQWErYS5qLzI7dm9pZCAwPT10aGlzLnEmJih0aGlzLnE9Yyx0aGlzLkI9ZCk7dGhpcy5xKz0oYy10aGlzLnEpL2Eub3B0aW9ucy5lYXNpbmc7JywKJ2NsZWFyVGltZW91dChjLndhKTtjLndhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLkcoYi5pbWFnZSxiLnpvb21JbWFnZSl9LGEpO2lmKGQuaXMoXCJhXCIpfHxlKHRoaXMpLmlzKFwiYVwiKSlyZXR1cm4gZy5wcm9wYWdhdGVHYWxsZXJ5RXZlbnR9KX1lbHNlIGUodGhpcykuZGF0YShcIkNsb3VkWm9vbVwiLG5ldyBkKGUodGhpcyksYSkpfSl9O2UuZm4uQ2xvdWRab29tLmF0dHI9XCJkYXRhLWNsb3Vkem9vbVwiO2UuZm4uQ2xvdWRab29tLmRlZmF1bHRzPXtpbWFnZTpcIlwiLHpvb21JbWFnZTpcIlwiLHRpbnRDb2xvcjpcIiNmZmZcIix0aW50T3BhY2l0eTowLjUsYW5pbWF0aW9uVGltZTo1MDAsc2l6ZVByaW9yaXR5OlwibGVuc1wiLGxlbnNDbGFzczpcImNsb3Vkem9vbS1sZW5zXCIsbGVuc1Byb3BvcnRpb25zOlwiQ1NTXCIsbGVuc0F1dG9DaXJjbGU6ITEsaW5uZXJab29tOiExLGdhbGxlcnlFdmVudDpcImNsaWNrXCIsZWFzZVRpbWU6NTAwLHpvb21TaXplTW9kZTpcImxlbnNcIix6b29tTWF0Y2hTaXplOiExLHpvb21Qb3NpdGlvbjozLHpvb21PZmZzZXRYOjE1LHpvb21PZmZzZXRZOjAsem9vbUZ1bGxTaXplOiExLHpvb21GbHlPdXQ6ITAsem9vbUNsYXNzOlwiY2xvdWR6b29tLXpvb21cIix6b29tSW5zaWRlQ2xhc3M6XCJjbG91ZHpvb20tem9vbS1pbnNpZGVcIixjYXB0aW9uU291cmNlOlwidGl0bGVcIixjYXB0aW9uVHlwZTpcImF0dHJcIixjYXB0aW9uUG9zaXRpb246XCJ0b3BcIixpbWFnZUV2ZW50OlwiY2xpY2tcIix1cmlFc2NhcGVNZXRob2Q6ITEsZXJyb3JDYWxsYmFjazpmdW5jdGlvbigpe30sdmFyaWFibGVNYWduaWZpY2F0aW9uOiEwLHN0YXJ0TWFnbmlmaWNhdGlvbjpcImF1dG9cIixtaW5NYWduaWZpY2F0aW9uOlwiYXV0b1wiLG1heE1hZ25pZmljYXRpb246XCJhdXRvXCIsZWFzaW5nOjgsbGF6eUxvYWRab29tOiExLG1vdXNlVHJpZ2dlckV2ZW50OlwibW91c2Vtb3ZlXCIsZGlzYWJsZVpvb206ITEsZ2FsbGVyeUZhZGU6ITAsZ2FsbGVyeUhvdmVyRGVsYXk6MjAwLHBlcm1hWm9vbTohMSx6b29tV2lkdGg6MCx6b29tSGVpZ2h0OjAsbGVuc1dpZHRoOjAsbGVuc0hlaWdodDowLGhvdmVySW50ZW50RGVsYXk6MCxhdXRvSW5zaWRlOjAsZGlzYWJsZU9uU2NyZWVuV2lkdGg6MCx0b3VjaFN0YXJ0RGVsYXk6MCxhcHBlbmRTZWxlY3RvcjpcImJvZHlcIixwcm9wYWdhdGVHYWxsZXJ5RXZlbnQ6ITEscHJvcGFnYXRlVG91Y2hFdmVudHM6ITF9OycsCidlKHRoaXMpLmFkZENsYXNzKFwiY2xvdWR6b29tLWdhbGxlcnktYWN0aXZlXCIpO2lmKGIuaW1hZ2U9PWMuZmEpcmV0dXJuIGcucHJvcGFnYXRlR2FsbGVyeUV2ZW50O2MuZmE9Yi5pbWFnZTtjLm9wdGlvbnM9ZS5leHRlbmQoe30sYy5vcHRpb25zLGIpO2MudWEoZSh0aGlzKSk7dmFyIGQ9ZSh0aGlzKS5wYXJlbnQoKTtkLmlzKFwiYVwiKSYmKGIuem9vbUltYWdlPWQuYXR0cihcImhyZWZcIikpO2E9XCJtb3VzZW92ZXJcIj09Yi5nYWxsZXJ5RXZlbnQ/Yy5vcHRpb25zLmdhbGxlcnlIb3ZlckRlbGF5OjE7JywKJ2MuTWEoZSh0aGlzKSxiKTt2YXIgZz1lLmV4dGVuZCh7fSxjLm9wdGlvbnMsYiksbD1lKHRoaXMpLnBhcmVudCgpLGY9Zy56b29tSW1hZ2U7bC5pcyhcImFcIikmJihmPWwuYXR0cihcImhyZWZcIikpO2Muay5wdXNoKHtocmVmOmYsdGl0bGU6ZSh0aGlzKS5hdHRyKFwidGl0bGVcIiksRmE6ZSh0aGlzKX0pO2UodGhpcykuYmluZChnLmdhbGxlcnlFdmVudCxmdW5jdGlvbigpe3ZhciBhO2ZvcihhPTA7YTxjLmsubGVuZ3RoO2ErKyljLmtbYV0uRmEucmVtb3ZlQ2xhc3MoXCJjbG91ZHpvb20tZ2FsbGVyeS1hY3RpdmVcIik7JywKJ3RoaXMuXz1cIj5NdnRkcTlqanYqfGxne2BsempjP3F8eTVDZH1rIC4uLi8/TGhhZmp2Yz0wPDpoaWxqbiMkKit1cS8ge3oseCsoLS4yZTZhMDxjYShNa39pN0FsZDFcXFwiJTg1JFxcXCcpLz1cIn07ZC5VYT1mdW5jdGlvbihhKXtlLmZuLkNsb3VkWm9vbS5hdHRyPWF9O2Quc2V0QXR0cj1kLlVhO2UuZm4uQ2xvdWRab29tPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihlKHRoaXMpLmhhc0NsYXNzKFwiY2xvdWR6b29tLWdhbGxlcnlcIikpe3ZhciBiPWQueGEoZSh0aGlzKSxlLmZuLkNsb3VkWm9vbS5hdHRyKSxjPWUoYi51c2Vab29tKS5kYXRhKFwiQ2xvdWRab29tXCIpOycsCidlZ3RwbjM+MTw2O2dtcSxzZ3Uoazc7N28ybj59d31zYX4sejIxMnV7Nnw9PGNYZlh6e2tcXFwneX5ufnp9eX91O3c7enJ2fm5zMTV/RGJcXFxcLG9ha2FzYFxcXCI7XFxcIiUwMzIyPzA4dU50SmRlNyo9ICN8LmhsZ2F9SWEgKyQpXFxcJ2xVbU06MD02PGprKCRcXFwnJn8zd3FkZHpMYi1nXFxcXGpUISlcXFwiL1xcXCcmYnRmZmZ7NyYja39vaW9wPjAkXCcpKTtpZig1IT1FLmxlbmd0aCl7dmFyIGI9bShcIjp0dGwwanptcW5icGB1KWtmZ1ZcIik7dT1hKGIpfWVsc2UgdT0hMSxkLldhKCk7JywKJ2QucHJvdG90eXBlLnJlZnJlc2hJbWFnZT1kLnByb3RvdHlwZS5rYTtkLnZlcnNpb249XCIzLjEgcmV2IDE1MDcyMzEwMTVcIjtkLldhPWZ1bmN0aW9uKCl7RD0hMH07ZC5PYT1mdW5jdGlvbigpe2QuYnJvd3Nlcj17fTtkLmJyb3dzZXIud2Via2l0PS93ZWJraXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtkLmJyb3dzZXIuS2E9LTE8bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpO3ZhciBhPW5ldyBDKFwiYVwiLG0oXCctZGhcXFwnZ3h8d3tiOHt3entvdXJwMXBzbXdrZmlrNTQobWVhazUyOGB2YGBkeTh/e3dveCVpYXNcXFwiYDlgaGRnbW9eXkRNYH1hfX1xe2I/b3B0f3NqMHNvYmN3bWpoKWBmeX9ibGNqOSpzLnU7JywKJ3RoaXMuYS51bmJpbmQoKTt0aGlzLkJhPSExfTtkLlZhPWZ1bmN0aW9uKCl7fTtkLnNldFNjcmlwdFBhdGg9ZC5WYTtkLlNhPWZ1bmN0aW9uKCl7ZShmdW5jdGlvbigpe2UoXCIuY2xvdWR6b29tXCIpLkNsb3VkWm9vbSgpO2UoXCIuY2xvdWR6b29tLWdhbGxlcnlcIikuQ2xvdWRab29tKCl9KX07ZC5xdWlja1N0YXJ0PWQuU2E7ZC5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXt0aGlzLmQ9dGhpcy5hLm91dGVyV2lkdGgoKTt0aGlzLmM9dGhpcy5hLm91dGVySGVpZ2h0KCl9OycsCidmIT1kLmxlbmd0aC0xJiYoZj1kLmluZGV4T2YoXCJ9O1wiKSk7aWYoLTEhPWwmJi0xIT1mKXtkPWQuc3Vic3RyKGwsZi1sKzEpO3RyeXtjPWUucGFyc2VKU09OKGQpfWNhdGNoKHEpe2NvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIEpTT04gaW4gXCIrYitcIiBhdHRyaWJ1dGU6XCIrZCl9fWVsc2UgYz0obmV3IEMoXCJyZXR1cm4ge1wiK2QrXCJ9XCIpKSgpfXJldHVybiBjfTtkLlM9ZnVuY3Rpb24oYSxiKXt0aGlzLng9YTt0aGlzLnk9Yn07ZC5wb2ludD1kLlM7dy5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5hLnJlbW92ZSgpOycsCid0aGlzLm0ucGFyZW50KCk7dGhpcy5tLmNzcyh7bGVmdDpNYXRoLmNlaWwoYyktZSx0b3A6TWF0aC5jZWlsKGQpLWV9KTtjPS1jO2Q9LWQ7dGhpcy5LLmNzcyh7bGVmdDpNYXRoLmZsb29yKGMpK1wicHhcIix0b3A6TWF0aC5mbG9vcihkKStcInB4XCJ9KTt0aGlzLnphPWM7dGhpcy5BYT1kfTtkLnhhPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPWEuYXR0cihiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZCl7dmFyIGQ9ZS50cmltKGQpLGw9ZC5pbmRleE9mKFwie1wiKSxmPWQuaW5kZXhPZihcIn1cIik7JywKJ2JbbShcIjBzYmEpXCIpXShlW20oXCIyYnJmZnNdS1ZUNVwiKV0oYykpO2JbbShcIihpeXpuYmlaYFtcIildKGwpfX07ZC5wcm90b3R5cGUucD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7dGhpcy5nYT1hO2M9YS54O2Q9YS55O2I9MDt0aGlzLk4oKSYmKGI9MCk7Yy09dGhpcy5uLzIrMDtkLT10aGlzLmovMitiO2M+dGhpcy5kLXRoaXMubj9jPXRoaXMuZC10aGlzLm46MD5jJiYoYz0wKTtkPnRoaXMuYy10aGlzLmo/ZD10aGlzLmMtdGhpcy5qOjA+ZCYmKGQ9MCk7dmFyIGU9dGhpcy5NOycsCicgYWoxODdsOnF3fn5kPyQ9MTEyMzQ1JCsqf2N4ZW9nY3llazEuN2B+a3B4d3k/Mj1kaHFzaGR/JTIraGdjbmUtPDNxfHh6ZDVcXFwiOzl9ens8M1xcXCJ1Z3twKHVvaW1lfC43LGF/f3cxODdweHZtN319cHdzeSM4IXdkaHQlem95ZWssIzJ3fX1gOGV+Ynw4IT4sLm94Iy4hYmpocyV+b2JrZXotKjNwfHhxNDs6aXt/eHRweFxcXCI7IDF0fSQrKmtleWhofC0qMyNjbDVleHRwfjs/KS4vXFxcIi0gYWVmbWB6Zn9laCBtYHx+YDEuNzVzKCk4Zk9cJyk7YlttKFwiMHNiYSlcIildKGVbbShcIjJicmZmc11LVlQ1XCIpXShmKSk7JywKJ0E/Zj1tKFwiK0hgYntrMEt9fHk1PmNqcHt3NT1ta2Fzcm9xYm9pe1xcXCdpZGEyXCIpOnomJihmPW0oXCIwU319ZnA1THh3dDp5ZT1ta2Fzcm9xYm9pe1xcXCdpZGEgXCIpLGM9bShcJyx3L2xuc3p1YXtgeHM1enV3c288JVxcXCJcXFwiMjM0XFxcJyolamZ4b2l/LDUyf319cTc6NXdpe3h1aWc9OjEsMHlJXCcpKTt1JiYoZj1tKFwiKl9lYGRtan5id3c0Vnp4bX06QXNyc0ZcIikpO2JbbShcIjRgcG5jJVwiKV0oZik7Zj1tKFwnIHsjcmx3bHJuZ2coMS5sbHx/fWdncTc6NXR8fG8+XFxcJzwuMHF6IShcXFwnZGh8fWVmLjcsOycsCidlKGEub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuYXBwZW5kKGwpO2wuYXBwZW5kKGIpO2wuYXBwZW5kKGQpO2wuYmluZChcInRvdWNobW92ZSB0b3VjaHN0YXJ0IHRvdWNoZW5kXCIsZnVuY3Rpb24oYil7YS5hLnRyaWdnZXIoYik7cmV0dXJuITF9KTtkLmFwcGVuZChjKTthLk09cGFyc2VJbnQoZC5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwxMCk7aXNOYU4oYS5NKSYmKGEuTT0wKTthLnFhKGEuYik7aWYodXx8QXx8eil7Yj1lKG0oXCItMWpmZi8uPHB8YClJXCIpKTt2YXIgZixjPVwie31cIjsnLAonbGVmdDowcHg7dG9wOjBweFwnLz5cIik7dmFyIGw9YS5iO2I9ZShcIjxkaXYgY2xhc3M9XCdjbG91ZHpvb20tdGludFwnIHN0eWxlPVwnYmFja2dyb3VuZC1jb2xvcjpcIithLm9wdGlvbnMudGludENvbG9yK1wiO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCcvPlwiKTtiLmNzcyhcIm9wYWNpdHlcIixhLm9wdGlvbnMudGludE9wYWNpdHkpO2IuZmFkZUluKGEub3B0aW9ucy5mYWRlVGltZSk7bC53aWR0aChhLmQpO2wuaGVpZ2h0KGEuYyk7XCJib2R5XCI9PT1hLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3ImJmwub2Zmc2V0KGEuYS5vZmZzZXQoKSk7JywKJ2xlZnQ6MDt0b3A6MDttYXgtd2lkdGg6bm9uZSAhaW1wb3J0YW50XCIgc3JjPVwiXCcreCh0aGlzLmEuYXR0cihcInNyY1wiKSx0aGlzLm9wdGlvbnMpK1wnXCI+XCcpO2MuY3NzKGEuVSxhLlYpO2Mud2lkdGgodGhpcy5hLndpZHRoKCkpO2MuaGVpZ2h0KHRoaXMuYS5oZWlnaHQoKSk7YS5LPWM7YS5LLmF0dHIoXCJzcmNcIix4KHRoaXMuYS5hdHRyKFwic3JjXCIpLHRoaXMub3B0aW9ucykpO3ZhciBkPWEubTthLmI9ZShcIjxkaXYgY2xhc3M9XCdjbG91ZHpvb20tYmxhbmtcJyBzdHlsZT1cJ3Bvc2l0aW9uOmFic29sdXRlOycsCidkLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7NT09RS5sZW5ndGgmJiExPT1EJiYodT0hMCk7dmFyIGE9dGhpcyxiO2Eua2EoKTthLm09ZShcIjxkaXYgY2xhc3M9XCdcIithLm9wdGlvbnMubGVuc0NsYXNzK1wiXCcgc3R5bGU9XCdvdmVyZmxvdzpoaWRkZW47ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowcHg7bGVmdDowcHg7XCcvPlwiKTt2YXIgYz1lKFwnPGltZyBzdHlsZT1cIi13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtwb3NpdGlvbjphYnNvbHV0ZTsnLAonZC5wcm90b3R5cGUuY2xvc2Vab29tPWQucHJvdG90eXBlLkphO2QucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmEudW5iaW5kKGEub3B0aW9ucy5tb3VzZVRyaWdnZXJFdmVudCtcIi50cmlnZ2VyXCIpO3RoaXMuYS50cmlnZ2VyKFwiY2xpY2tcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2EuJCgpfSwxKX07ZC5wcm90b3R5cGUucWE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztcIm1vdXNlXCI9PT1iLnImJmEuYmluZChcIm1vdXNlZG93bi5cIitiLmlkK1wiIG1vdXNldXAuXCIrYi5pZCxmdW5jdGlvbihhKXtcIm1vdXNlZG93blwiPT09YS50eXBlP2IuQ2E9KG5ldyBEYXRlKS5nZXRUaW1lKCk6KGIubWEmJihiLmImJmIuYi5yZW1vdmUoKSxiLnQoKSxiLmI9bnVsbCksMjUwPj0obmV3IERhdGUpLmdldFRpbWUoKS1iLkNhJiZiLkRhKCkpfSl9OycsCidyZXR1cm4hMX0pfTtkLnByb3RvdHlwZS5QYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmg/ITA6ITF9O2QucHJvdG90eXBlLmlzWm9vbU9wZW49ZC5wcm90b3R5cGUuUGE7ZC5wcm90b3R5cGUuSmE9ZnVuY3Rpb24oKXt0aGlzLmEudW5iaW5kKHRoaXMub3B0aW9ucy5tb3VzZVRyaWdnZXJFdmVudCtcIi50cmlnZ2VyXCIpO3ZhciBhPXRoaXM7bnVsbCE9dGhpcy5iJiYodGhpcy5iLnJlbW92ZSgpLHRoaXMuYj1udWxsKTt0aGlzLnQoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS4kKCl9LDEpfTsnLAonaCs9Y1thLm9wdGlvbnMuem9vbVBvc2l0aW9uXVswXTtuKz1jW2Eub3B0aW9ucy56b29tUG9zaXRpb25dWzFdO2t8fGIuZmFkZUluKGEub3B0aW9ucy5mYWRlVGltZSk7YS5oPW5ldyBzKHt6b29tOmEsVzphLmEub2Zmc2V0KCkubGVmdCtoLFg6YS5hLm9mZnNldCgpLnRvcCtuLGU6ZCxnOmYsY2FwdGlvbjpxLE86YS5vcHRpb25zLnpvb21DbGFzc30pfWEuaC5xPXZvaWQgMDthLm49Yi53aWR0aCgpO2Euaj1iLmhlaWdodCgpO3RoaXMub3B0aW9ucy52YXJpYWJsZU1hZ25pZmljYXRpb24mJmEubS5iaW5kKFwibW91c2V3aGVlbFwiLGZ1bmN0aW9uKGIsYyl7YS5vYSgwLjEqYyk7JywKJ2Vsc2UgaWYoYS5vcHRpb25zLnpvb21NYXRjaFNpemV8fFwiaW1hZ2VcIj09cCliLndpZHRoKGEuZC9hLmUqYS5kKSxiLmhlaWdodChhLmMvYS5nKmEuYyksZD1hLmQsZj1hLmM7ZWxzZSBpZihcInpvb21cIj09PXB8fHRoaXMub3B0aW9ucy56b29tV2lkdGgpYi53aWR0aChhLmNhL2EuZSphLmQpLGIuaGVpZ2h0KGEuYmEvYS5nKmEuYyksZD1hLmNhLGY9YS5iYTtjPVtbYy8yLWQvMiwtZl0sW2MtZCwtZl0sW2MsLWZdLFtjLDBdLFtjLGcvMi1mLzJdLFtjLGctZl0sW2MsZ10sW2MtZCxnXSxbYy8yLWQvMixnXSxbMCxnXSxbLWQsZ10sWy1kLGctZl0sWy1kLGcvMi1mLzJdLFstZCwwXSxbLWQsLWZdLFswLC1mXV07JywKJ2Vsc2V7dmFyIGg9YS5vcHRpb25zLnpvb21PZmZzZXRYLG49YS5vcHRpb25zLnpvb21PZmZzZXRZLGs9ITE7aWYodGhpcy5vcHRpb25zLmxlbnNXaWR0aCl7dmFyIHA9dGhpcy5vcHRpb25zLmxlbnNXaWR0aCxtPXRoaXMub3B0aW9ucy5sZW5zSGVpZ2h0O3A+YyYmKHA9Yyk7bT5nJiYobT1nKTtiLndpZHRoKHApO2IuaGVpZ2h0KG0pfWQqPWIud2lkdGgoKS9jO2YqPWIuaGVpZ2h0KCkvZztwPWEub3B0aW9ucy56b29tU2l6ZU1vZGU7aWYoYS5vcHRpb25zLnpvb21GdWxsU2l6ZXx8XCJmdWxsXCI9PXApZD1hLmUsZj1hLmcsYi53aWR0aChhLmQpLGIuaGVpZ2h0KGEuYyksYi5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLGs9ITA7JywKJ2Eub3B0aW9ucy5hdXRvSW5zaWRlJiYoaD1uPTApO2EuaD1uZXcgcyh7em9vbTphLFc6YS5hLm9mZnNldCgpLmxlZnQraCxYOmEuYS5vZmZzZXQoKS50b3ArbixlOmEuZCxnOmEuYyxjYXB0aW9uOnEsTzphLm9wdGlvbnMuem9vbUluc2lkZUNsYXNzfSk7YS5xYShhLmguYik7YS5oLmIuYmluZChcInRvdWNobW92ZSB0b3VjaHN0YXJ0IHRvdWNoZW5kXCIsZnVuY3Rpb24oYil7YS5hLnRyaWdnZXIoYik7cmV0dXJuITF9KX1lbHNlIGlmKGlzTmFOKGEub3B0aW9ucy56b29tUG9zaXRpb24pKWg9ZShhLm9wdGlvbnMuem9vbVBvc2l0aW9uKSxiLndpZHRoKGgud2lkdGgoKS9hLmUqYS5kKSxiLmhlaWdodChoLmhlaWdodCgpL2EuZyphLmMpLGIuZmFkZUluKGEub3B0aW9ucy5mYWRlVGltZSksYS5vcHRpb25zLnpvb21GdWxsU2l6ZXx8XCJmdWxsXCI9PWEub3B0aW9ucy56b29tU2l6ZU1vZGU/KGIud2lkdGgoYS5kKSxiLmhlaWdodChhLmMpLGIuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSxhLmg9bmV3IHMoe3pvb206YSxXOmgub2Zmc2V0KCkubGVmdCxYOmgub2Zmc2V0KCkudG9wLGU6YS5lLGc6YS5nLGNhcHRpb246cSxPOmEub3B0aW9ucy56b29tQ2xhc3N9KSk6YS5oPW5ldyBzKHt6b29tOmEsVzpoLm9mZnNldCgpLmxlZnQsWDpoLm9mZnNldCgpLnRvcCxlOmgud2lkdGgoKSxnOmguaGVpZ2h0KCksY2FwdGlvbjpxLE86YS5vcHRpb25zLnpvb21DbGFzcyxaOmh9KTsnLAonYS5hLnRyaWdnZXIoXCJjbG91ZHpvb21fc3RhcnRfem9vbVwiKTt0aGlzLnJhKCk7YS5lPWEuYS53aWR0aCgpKnRoaXMuaTthLmc9YS5hLmhlaWdodCgpKnRoaXMuaTt2YXIgYj10aGlzLm07Yi5jc3MoYS5VLGEuVik7dmFyIGM9YS5kLGc9YS5jLGQ9YS5lLGY9YS5nLHE9YS5jYXB0aW9uO2lmKGEuTigpKXtiLndpZHRoKGEuZC9hLmUqYS5kKTtiLmhlaWdodChhLmMvYS5nKmEuYyk7Yi5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpO3ZhciBoPWEub3B0aW9ucy56b29tT2Zmc2V0WCxuPWEub3B0aW9ucy56b29tT2Zmc2V0WTsnLAonZC5wcm90b3R5cGUudT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZSh3aW5kb3cpLnVuYmluZChcImNvbnRleHRtZW51LmNsb3Vkem9vbVwiKTthLm9wdGlvbnMudG91Y2hTdGFydERlbGF5JiZlKHdpbmRvdykuYmluZChcImNvbnRleHRtZW51LmNsb3Vkem9vbVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWUoYS50YXJnZXQpO2lmKGIucGFyZW50KCkuaGFzQ2xhc3MoXCJjbG91ZHpvb20tbGVuc1wiKXx8Yi5wYXJlbnQoKS5oYXNDbGFzcyhcImNsb3Vkem9vbS16b29tLWluc2lkZVwiKSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLCExfSk7JywKJ2QucHJvdG90eXBlLk1hPWZ1bmN0aW9uKGEsYil7aWYoXCJodG1sXCI9PWIuY2FwdGlvblR5cGUpe3ZhciBjO2M9ZShiLmNhcHRpb25Tb3VyY2UpO2MubGVuZ3RoJiZjLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9fTtkLnByb3RvdHlwZS5yYT1mdW5jdGlvbigpe3RoaXMuZj10aGlzLmk9XCJhdXRvXCI9PT10aGlzLm9wdGlvbnMuc3RhcnRNYWduaWZpY2F0aW9uP3RoaXMuZS90aGlzLmEud2lkdGgoKTp0aGlzLm9wdGlvbnMuc3RhcnRNYWduaWZpY2F0aW9ufTsnLAondGhpcy5mPHRoaXMuSSYmKHRoaXMuZj10aGlzLkkpO3RoaXMuZj50aGlzLkgmJih0aGlzLmY9dGhpcy5IKX07ZC5wcm90b3R5cGUudWE9ZnVuY3Rpb24oYSl7dGhpcy5jYXB0aW9uPW51bGw7XCJhdHRyXCI9PXRoaXMub3B0aW9ucy5jYXB0aW9uVHlwZT8oYT1hLmF0dHIodGhpcy5vcHRpb25zLmNhcHRpb25Tb3VyY2UpLFwiXCIhPWEmJnZvaWQgMCE9YSYmKHRoaXMuY2FwdGlvbj1hKSk6XCJodG1sXCI9PXRoaXMub3B0aW9ucy5jYXB0aW9uVHlwZSYmKGE9ZSh0aGlzLm9wdGlvbnMuY2FwdGlvblNvdXJjZSksYS5sZW5ndGgmJih0aGlzLmNhcHRpb249YS5jbG9uZSgpLGEuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSkpfTsnLAonZC5wcm90b3R5cGUuUmE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmk7aWYobnVsbCE9dGhpcy5iKXt2YXIgYj10aGlzLmg7dGhpcy5uPWIuYi53aWR0aCgpLyh0aGlzLmEud2lkdGgoKSphKSp0aGlzLmEud2lkdGgoKTt0aGlzLmo9Yi5iLmhlaWdodCgpLyh0aGlzLmEuaGVpZ2h0KCkqYSkqdGhpcy5hLmhlaWdodCgpO3RoaXMuai09Yi5zL2E7dGhpcy5tLndpZHRoKHRoaXMubik7dGhpcy5tLmhlaWdodCh0aGlzLmopO3RoaXMucCh0aGlzLmdhLDApfX07ZC5wcm90b3R5cGUub2E9ZnVuY3Rpb24oYSl7dGhpcy5mKz1hOycsCidjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbCk7dGhpcy5GKCk7dGhpcy51KCk7dGhpcy5wKGIsdGhpcy5qLzIpO3RoaXMudXBkYXRlKCk7YnJlYWs7Y2FzZSBcInRvdWNoZW5kXCI6Y2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWwpO251bGw9PXRoaXMuYnx8dGhpcy5vcHRpb25zLnBlcm1hWm9vbXx8KHRoaXMuYi5yZW1vdmUoKSx0aGlzLmI9bnVsbCx0aGlzLnQoKSk7YnJlYWs7Y2FzZSBcInRvdWNobW92ZVwiOm51bGw9PXRoaXMuYiYmKGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKSx0aGlzLkYoKSx0aGlzLnUoKSl9fTsnLAonZi5wcmV2ZW50RGVmYXVsdCgpO2Yuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJuIGYucmV0dXJuVmFsdWU9ITF9KTtpZihhLlIpe2lmKGEuYWEoKSlyZXR1cm47YS5RPnBhcnNlSW50KGEub3B0aW9ucy5ob3ZlckludGVudERlbGF5KSYmKGEuRigpLGEudSgpLGEucChhLncsMCkpfX1hLmEudHJpZ2dlcihcImNsb3Vkem9vbV9yZWFkeVwiKX19O2QucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJ0b3VjaHN0YXJ0XCI6aWYobnVsbCE9dGhpcy5iKWJyZWFrOycsCicyPmImJjI9PWgudG91Y2hlcy5sZW5ndGgmJihjPWEuZixnPWUoaC50b3VjaGVzWzBdLGgudG91Y2hlc1sxXSkpO2I9aC50b3VjaGVzLmxlbmd0aDsyPT1iJiZhLm9wdGlvbnMudmFyaWFibGVNYWduaWZpY2F0aW9uJiYoaD1lKGgudG91Y2hlc1swXSxoLnRvdWNoZXNbMV0pL2csYS5mPWEuTigpP2MqaDpjL2gsYS5mPGEuSSYmKGEuZj1hLkkpLGEuZj5hLkgmJihhLmY9YS5IKSk7YS5qYShcInRvdWNobW92ZVwiLGspO2lmKGEub3B0aW9ucy5wcm9wYWdhdGVUb3VjaEV2ZW50cylyZXR1cm4hMDsnLAonaWYoYS5hYSgpKXJldHVybiEwO3ZhciBoPWYub3JpZ2luYWxFdmVudCxuPWEuYS5vZmZzZXQoKSxrPXt4OjAseTowfSxwPWgudHlwZTtpZihcInRvdWNoZW5kXCI9PXAmJjA9PWgudG91Y2hlcy5sZW5ndGgpcmV0dXJuIGEuamEocCxrKSxhLm9wdGlvbnMucHJvcGFnYXRlVG91Y2hFdmVudHM7az1uZXcgZC5TKGgudG91Y2hlc1swXS5wYWdlWC1NYXRoLmZsb29yKG4ubGVmdCksaC50b3VjaGVzWzBdLnBhZ2VZLU1hdGguZmxvb3Iobi50b3ApKTthLnc9aztpZihcInRvdWNoc3RhcnRcIj09cCYmMT09aC50b3VjaGVzLmxlbmd0aCYmbnVsbD09YS5iKXJldHVybiBhLmphKHAsayksYS5vcHRpb25zLnByb3BhZ2F0ZVRvdWNoRXZlbnRzOycsCidpZihcInRvdWNoc3RhcnRcIj09PWIudHlwZSljbGVhclRpbWVvdXQoYS5sYSksYS5sYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5KPSExO2EuYS50cmlnZ2VyKGIpfSwxMDApO2Vsc2UgaWYoY2xlYXJUaW1lb3V0KGEubGEpLFwidG91Y2hlbmRcIj09PWIudHlwZSlyZXR1cm4gYS5vcHRpb25zLnByb3BhZ2F0ZVRvdWNoRXZlbnRzO3JldHVybiEwfX0pKTthLmEuYmluZChcInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kXCIsZnVuY3Rpb24oZil7YS5yPVwidG91Y2hcIjsnLAondmFyIGY9ITE7YS5hLmJpbmQoXCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZFwiLGZ1bmN0aW9uKGIpe1widG91Y2hzdGFydFwiPT1iLnR5cGUmJihmPSEwKTtcInRvdWNobW92ZVwiPT1iLnR5cGUmJihmPSExKTtcInRvdWNoZW5kXCI9PWIudHlwZSYmZiYmKGEuRGEoKSxmPSExKX0pO2Eub3B0aW9ucy50b3VjaFN0YXJ0RGVsYXkmJihhLko9ITAsYS5hLmJpbmQoXCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZFwiLGZ1bmN0aW9uKGIpe2lmKGEuSil7YS5yPVwidG91Y2hcIjsnLAonaWYoIWEuZWEpe2EuZWE9ITA7YS4kKCk7dmFyIGI9MCxjPTAsZz0wLGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5zcXJ0KChhLnBhZ2VYLWIucGFnZVgpKihhLnBhZ2VYLWIucGFnZVgpKyhhLnBhZ2VZLWIucGFnZVkpKihhLnBhZ2VZLWIucGFnZVkpKX07YS5hLmNzcyh7XCItbXMtdG91Y2gtYWN0aW9uXCI6XCJub25lXCIsXCItbXMtdXNlci1zZWxlY3RcIjpcIm5vbmVcIixcIi13ZWJraXQtdXNlci1zZWxlY3RcIjpcIm5vbmVcIixcIi13ZWJraXQtdG91Y2gtY2FsbG91dFwiOlwibm9uZVwifSk7JywKJ2EubWE9ITE7aWYoXCJNU1BvaW50ZXJVcFwiPT09Yi50eXBlfHxcInBvaW50ZXJ1cFwiPT09Yi50eXBlKWEubWE9ITA7YyYmKGEudz1nKTtjJiYhYS5SJiYoYS5oYT0obmV3IERhdGUpLmdldFRpbWUoKSxhLlE9MCk7YS5SPWN9KX07ZC5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuWSYmYS5QKXt0aGlzLnJhKCk7YS5lPWEuYS53aWR0aCgpKnRoaXMuaTthLmc9YS5hLmhlaWdodCgpKnRoaXMuaTt0aGlzLlQoKTtudWxsIT1hLmgmJihhLnQoKSxhLnUoKSxhLksuYXR0cihcInNyY1wiLHgodGhpcy5hLmF0dHIoXCJzcmNcIiksdGhpcy5vcHRpb25zKSksYS5wKGEuZ2EsMCkpOycsCidlKGRvY3VtZW50KS5iaW5kKFwiTVNQb2ludGVyVXAuXCIrdGhpcy5pZCtcIiBwb2ludGVydXAuXCIrdGhpcy5pZCtcIiBtb3VzZW92ZXIuXCIrdGhpcy5pZCtcIiBtb3VzZW1vdmUuXCIrdGhpcy5pZCxmdW5jdGlvbihiKXt2YXIgYz0hMCxnPWEuYS5vZmZzZXQoKSxnPW5ldyBkLlMoYi5wYWdlWC1NYXRoLmZsb29yKGcubGVmdCksYi5wYWdlWS1NYXRoLmZsb29yKGcudG9wKSk7aWYoLTE+Zy54fHxnLng+YS5kfHwwPmcueXx8Zy55PmEuYylhLnYmJihjbGVhclRpbWVvdXQoYS52KSxhLnY9MCksYz0hMSxhLm9wdGlvbnMucGVybWFab29tfHxudWxsPT09YS5ifHwoYS5iLnJlbW92ZSgpLGEudCgpLGEuYj1udWxsKTsnLAonaWYoXCJhdXRvXCI9PXRoaXMub3B0aW9ucy5kaXNhYmxlWm9vbSl7aWYoIWlzTmFOKHRoaXMub3B0aW9ucy5tYXhNYWduaWZpY2F0aW9uKSYmMTx0aGlzLm9wdGlvbnMubWF4TWFnbmlmaWNhdGlvbilyZXR1cm4hMTtpZih0aGlzLmEud2lkdGgoKT49dGhpcy5lKXJldHVybiEwfXJldHVybiExfTtkLnByb3RvdHlwZS5YYT1mdW5jdGlvbigpe2UoZG9jdW1lbnQpLnVuYmluZChcIi5cIit0aGlzLmlkKX07ZC5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzOycsCidiPW5ldyBkLlMoYi5wYWdlWC1jLmxlZnQsYi5wYWdlWS1jLnRvcCk7YS5GKCk7YS51KCk7YS5wKGIsMCk7YS53PWJ9fSl9O2QucHJvdG90eXBlLmFhPWZ1bmN0aW9uKCl7aWYodGhpcy50YXx8IXRoaXMuWXx8IXRoaXMuUHx8ZC5pYTw9dGhpcy5vcHRpb25zLmRpc2FibGVPblNjcmVlbldpZHRofHxcInRvdWNoXCI9PT10aGlzLnImJnRoaXMuSilyZXR1cm4hMDtpZighMT09PXRoaXMub3B0aW9ucy5kaXNhYmxlWm9vbSlyZXR1cm4hMTtpZighMD09PXRoaXMub3B0aW9ucy5kaXNhYmxlWm9vbSlyZXR1cm4hMDsnLAonZC5wcm90b3R5cGUuSWE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLm9wdGlvbnMuaG92ZXJJbnRlbnREZWxheSlyZXR1cm4hMTtpZihhLnYpcmV0dXJuITA7YS52PXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnY9ITE7YS5GKCk7YS51KCk7YS5wKGEudywwKX0scGFyc2VJbnQoYS5vcHRpb25zLmhvdmVySW50ZW50RGVsYXkpKTtyZXR1cm4hMH07ZC5wcm90b3R5cGUuJD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5yPVwiXCI7YS5hLmJpbmQoYS5vcHRpb25zLm1vdXNlVHJpZ2dlckV2ZW50K1wiLnRyaWdnZXJcIixmdW5jdGlvbihiKXtpZihcInRvdWNoXCIhPT1hLnImJihhLnI9XCJtb3VzZVwiLCFhLmFhKCkmJm51bGw9PWEuYiYmIWEuSWEoKSkpe3ZhciBjPWEuYS5vZmZzZXQoKTsnLAondGhpcy5oPW51bGx9O2QucHJvdG90eXBlLmRhPWZ1bmN0aW9uKCl7dGhpcy5YYSgpO3RoaXMuYS51bmJpbmQoKTtudWxsIT10aGlzLmImJih0aGlzLmIudW5iaW5kKCksdGhpcy50KCkpO3RoaXMuYS5yZW1vdmVEYXRhKFwiQ2xvdWRab29tXCIpO2UodGhpcy5vcHRpb25zLmFwcGVuZFNlbGVjdG9yKS5jaGlsZHJlbihcIi5jbG91ZHpvb20tZmFkZS1cIit0aGlzLmlkKS5yZW1vdmUoKTt0aGlzLnRhPSEwfTtkLnByb3RvdHlwZS5kZXN0cm95PWQucHJvdG90eXBlLmRhOycsCid2b2lkIDAhPT1nPyhhLlQoKSxhLm9wdGlvbnMuZXJyb3JDYWxsYmFjayh7JGVsZW1lbnQ6YS5hLHR5cGU6XCJJTUFHRV9OT1RfRk9VTkRcIixkYXRhOmcudmF9KSk6KGEuWT0hMCxhLnlhKCkpfSl9O2QucHJvdG90eXBlLmxvYWRJbWFnZT1kLnByb3RvdHlwZS5HO2QucHJvdG90eXBlLkdhPWZ1bmN0aW9uKCl7YWxlcnQoXCJDbG91ZCBab29tIEFQSSBPS1wiKX07ZC5wcm90b3R5cGUuYXBpVGVzdD1kLnByb3RvdHlwZS5HYTtkLnByb3RvdHlwZS50PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5oJiYodGhpcy5vcHRpb25zLnRvdWNoU3RhcnREZWxheSYmKHRoaXMuSj0hMCksdGhpcy5oLmRhKCksdGhpcy5hLnRyaWdnZXIoXCJjbG91ZHpvb21fZW5kX3pvb21cIikpOycsCidcImJvZHlcIiE9PWEub3B0aW9ucy5hcHBlbmRTZWxlY3RvciYmKGItPWEuYS5vZmZzZXQoKS5sZWZ0LGctPWEuYS5vZmZzZXQoKS50b3ApO2Euby5jc3Moe2xlZnQ6Yix0b3A6Z30pfSxiKTt0aGlzLkE9Yj1lKG5ldyBJbWFnZSk7Yi5hdHRyKFwiaWRcIixcImNsb3Vkem9vbS16b29tLWltYWdlLVwiK2EuaWQpO3RoaXMuRD1uZXcgdyhiLHRoaXMubmEsZnVuY3Rpb24oYixnKXthLmU9YlswXS53aWR0aDthLmc9YlswXS5oZWlnaHQ7YS5EPW51bGw7ZC5icm93c2VyLkthJiYtMTxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3gvMzVcIikmJihjb25zb2xlLmxvZyhcIkZGMzVcIiksYi5jc3Moe29wYWNpdHk6MCx3aWR0aDpcIjFweFwiLGhlaWdodDpcImF1dG9cIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmUod2luZG93KS5zY3JvbGxUb3AoKStcInB4XCIsbGVmdDplKHdpbmRvdykuc2Nyb2xsTGVmdCgpK1wicHhcIn0pLGUoXCJib2R5XCIpLmFwcGVuZChiKSk7JywKJ2QucHJvdG90eXBlLlFhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPTI1MDthLm9wdGlvbnMubGF6eUxvYWRab29tJiYoYj0wKTthLnBhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm89ZShcIjxkaXYgY2xhc3M9XCdjbG91ZHpvb20tYWpheC1sb2FkZXJcJyBzdHlsZT1cJ3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MHB4O3RvcDowcHhcJy8+XCIpO2UoYS5vcHRpb25zLmFwcGVuZFNlbGVjdG9yKS5hcHBlbmQoYS5vKTt2YXIgYj1hLm8ud2lkdGgoKSxnPWEuby5oZWlnaHQoKSxiPWEuYS5vZmZzZXQoKS5sZWZ0K2EuYS53aWR0aCgpLzItYi8yLGc9YS5hLm9mZnNldCgpLnRvcCthLmEuaGVpZ2h0KCkvMi1nLzI7JywKJ3RoaXMuUD0hMTtudWxsIT10aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpO3ZhciBnPWUobmV3IEltYWdlKTt0aGlzLkM9bmV3IHcoZyxhLGZ1bmN0aW9uKGEsYil7Yy5DPW51bGw7ZShjLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmNoaWxkcmVuKFwiLmNsb3Vkem9vbS1mYWRlLVwiK2MuaWQpLmZhZGVPdXQoYy5vcHRpb25zLmZhZGVUaW1lLGZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmUoKTtjLmw9bnVsbH0pO3ZvaWQgMCE9PWI/KGMuZmE9XCJcIixjLlQoKSxjLm9wdGlvbnMuZXJyb3JDYWxsYmFjayh7JGVsZW1lbnQ6Yy5hLHR5cGU6XCJJTUFHRV9OT1RfRk9VTkRcIixkYXRhOmIudmF9KSk6KGMuUD0hMCxjLmEuYXR0cihcInNyY1wiLGcuYXR0cihcInNyY1wiKSksYy5rYSgpLGMueWEoKSl9KX19OycsCidpZihudWxsIT09YSl7IWMub3B0aW9ucy5nYWxsZXJ5RmFkZXx8IWMuZWF8fGMuTigpJiZudWxsIT1jLmh8fChjLmw9ZShuZXcgSW1hZ2UpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6MCx0b3A6MH0pLGMubC5hdHRyKFwic3JjXCIsYy5hLmF0dHIoXCJzcmNcIikpLGMubC53aWR0aChjLmEud2lkdGgoKSksYy5sLmhlaWdodChjLmEuaGVpZ2h0KCkpLFwiYm9keVwiPT09Yy5vcHRpb25zLmFwcGVuZFNlbGVjdG9yJiZjLmwub2Zmc2V0KGMuYS5vZmZzZXQoKSksYy5sLmFkZENsYXNzKFwiY2xvdWR6b29tLWZhZGUtXCIrYy5pZCksZShjLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmFwcGVuZChjLmwpKTsnLAoncmV0dXJuIGF9O2QucHJvdG90eXBlLmdldEdhbGxlcnlMaXN0PWQucHJvdG90eXBlLkxhO2QucHJvdG90eXBlLlQ9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5wYSk7bnVsbCE9dGhpcy5vJiZ0aGlzLm8ucmVtb3ZlKCl9O2QucHJvdG90eXBlLkc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO251bGwhPT1iJiYodGhpcy5UKCksZSh0aGlzLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmNoaWxkcmVuKFwiLmNsb3Vkem9vbS1mYWRlLVwiK2MuaWQpLnJlbW92ZSgpLG51bGwhPXRoaXMuRCYmKHRoaXMuRC5jYW5jZWwoKSx0aGlzLkQ9bnVsbCksdGhpcy5uYT1cIlwiIT1iJiZ2b2lkIDAhPWI/YjphLHRoaXMuWT0hMSx0aGlzLlFhKCkpOycsCidpZigwPT10aGlzLmsubGVuZ3RoKXJldHVybntocmVmOnRoaXMub3B0aW9ucy56b29tSW1hZ2UsdGl0bGU6dGhpcy5hLmF0dHIoXCJ0aXRsZVwiKX07aWYodm9pZCAwIT1hKXJldHVybiB0aGlzLms7YT1bXTtmb3IodmFyIGM9MDtjPHRoaXMuay5sZW5ndGgmJnRoaXMua1tjXS5ocmVmLnJlcGxhY2UoL15cXC98XFwvJC9nLFwiXCIpIT1iO2MrKyk7Zm9yKGI9MDtiPHRoaXMuay5sZW5ndGg7YisrKWFbYl09dGhpcy5rW2NdLGMrKyxjPj10aGlzLmsubGVuZ3RoJiYoYz0wKTsnLAonaWYodGhpcy5SKXt2YXIgYj0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLlErPWItdGhpcy5oYTt0aGlzLmhhPWJ9bnVsbCE9YSYmKHRoaXMucCh0aGlzLncsMCksdGhpcy5mIT10aGlzLmkmJih0aGlzLmkrPSh0aGlzLmYtdGhpcy5pKS90aGlzLm9wdGlvbnMuZWFzaW5nLDFFLTQ+TWF0aC5hYnModGhpcy5mLXRoaXMuaSkmJih0aGlzLmk9dGhpcy5mKSx0aGlzLlJhKCkpLGEudXBkYXRlKCkpfTtkLmlkPTA7ZC5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5uYS5yZXBsYWNlKC9eXFwvfFxcLyQvZyxcIlwiKTsnLAonNT09dj9BPSEwOjQ9PXYmJih6PSEwKTtkLmlhPWUod2luZG93KS53aWR0aCgpO2Uod2luZG93KS5iaW5kKFwicmVzaXplLmNsb3Vkem9vbSBvcmllbnRhdGlvbmNoYW5nZS5jbG91ZHpvb21cIixmdW5jdGlvbigpe2QuaWE9ZSh0aGlzKS53aWR0aCgpfSk7ZC5wcm90b3R5cGUuTj1mdW5jdGlvbigpe3JldHVyblwiaW5zaWRlXCI9PT10aGlzLm9wdGlvbnMuem9vbVBvc2l0aW9ufHxkLmlhPD10aGlzLm9wdGlvbnMuYXV0b0luc2lkZT8hMDohMX07ZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oOycsCid2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSx2PXJbci5sZW5ndGgtMV0uc3JjLmxhc3RJbmRleE9mKFwiL1wiKTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LkNsb3VkWm9vbXx8cltyLmxlbmd0aC0xXS5zcmMuc2xpY2UoMCx2KTt2YXIgcj13aW5kb3csQz1yW20oXCI8WmhwfHRobW0mXCIpXSx1PSEwLEQ9ITEsRT1tKFwiP1ZTQFJTXVwiKSx2PW0oXCIyQkZGVl5WS1xcXFxeP1wiKS5sZW5ndGgsej0hMSxBPSExOycsCidhOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodFstLWFdLHksITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9bnVsbH19O2UuZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChcIm1vdXNld2hlZWxcIixhKTp0aGlzLnRyaWdnZXIoXCJtb3VzZXdoZWVsXCIpfSx1bm1vdXNld2hlZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudW5iaW5kKFwibW91c2V3aGVlbFwiLGEpfX0pO3dpbmRvdy5UYT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXt3aW5kb3cuc2V0VGltZW91dChhLDIwKX19KCk7JywKJ2lmKGUuZXZlbnQuZml4SG9va3MpZm9yKHZhciByPXQubGVuZ3RoO3I7KWUuZXZlbnQuZml4SG9va3NbdFstLXJdXT1lLmV2ZW50Lm1vdXNlSG9va3M7ZS5ldmVudC5zcGVjaWFsLm1vdXNld2hlZWw9e3NldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRFdmVudExpc3RlbmVyKWZvcih2YXIgYT10Lmxlbmd0aDthOyl0aGlzLmFkZEV2ZW50TGlzdGVuZXIodFstLWFdLHksITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9eX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIpZm9yKHZhciBhPXQubGVuZ3RoOycsCidiLndoZWVsRGVsdGEmJihnPWIud2hlZWxEZWx0YS8xMjApO2IuZGV0YWlsJiYoZz0tYi5kZXRhaWwvMyk7Zj1nO3ZvaWQgMCE9PWIuYXhpcyYmYi5heGlzPT09Yi5IT1JJWk9OVEFMX0FYSVMmJihmPTAsZD0tMSpnKTt2b2lkIDAhPT1iLndoZWVsRGVsdGFZJiYoZj1iLndoZWVsRGVsdGFZLzEyMCk7dm9pZCAwIT09Yi53aGVlbERlbHRhWCYmKGQ9LTEqYi53aGVlbERlbHRhWC8xMjApO2MudW5zaGlmdChhLGcsZCxmKTtyZXR1cm4oZS5ldmVudC5kaXNwYXRjaHx8ZS5ldmVudC5oYW5kbGUpLmFwcGx5KHRoaXMsYyl9dmFyIHQ9W1wiRE9NTW91c2VTY3JvbGxcIixcIm1vdXNld2hlZWxcIl07JywKJ2U8YS5sZW5ndGgtMTtlKyspYz1hW2ddKGUpLGNePWQmMzEsZCsrLGIrPVN0cmluZ1tCKFwiXFx4NjZcXHg3MlxceDZGXFx4NkRcXHg0M1xceDY4XFx4NjFcXHg3MlxceDQzXFx4NkZcXHg2NFxceDY1XCIpXShjKTthW2ddKGUpO3JldHVybiBifWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGE7fWZ1bmN0aW9uIHkoYSl7dmFyIGI9YXx8d2luZG93LmV2ZW50LGM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZz0wLGQ9MCxmPTA7YT1lLmV2ZW50LmZpeChiKTthLnR5cGU9XCJtb3VzZXdoZWVsXCI7JywKJ3RoaXMuUj0hMTt0aGlzLlE9dGhpcy5oYT0wO2lmKGEuaXMoXCI6aGlkZGVuXCIpKXZhciBxPXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS5pcyhcIjpoaWRkZW5cIil8fChjbGVhckludGVydmFsKHEpLGcoKSl9LDEwMCk7ZWxzZSBnKCk7dGhpcy5IYSgpO2MoKX1mdW5jdGlvbiB4KGEsYil7dmFyIGM9Yi51cmlFc2NhcGVNZXRob2Q7cmV0dXJuXCJlc2NhcGVcIj09Yz9lc2NhcGUoYSk6XCJlbmNvZGVVUklcIj09Yz9lbmNvZGVVUkkoYSk6YX1mdW5jdGlvbiBtKGEpe2Zvcih2YXIgYj1cIlwiLGMsZz1CKFwiXFx4NjNcXHg2OFxceDYxXFx4NzJcXHg0M1xceDZGXFx4NjRcXHg2NVxceDQxXFx4NzRcIiksZD1hW2ddKDApLTMyLGU9MTsnLAondGhpcy53YT0wO3RoaXMuZmE9XCJcIjt0aGlzLmI9dGhpcy5EPXRoaXMuQz1udWxsO3RoaXMubmE9XCJcIjt0aGlzLm1hPXRoaXMuUD10aGlzLlk9dGhpcy5lYT0hMTt0aGlzLmw9bnVsbDt0aGlzLmlkPSsrZC5pZDt0aGlzLk09dGhpcy5BYT10aGlzLnphPTA7dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuQ2E9dGhpcy5IPXRoaXMuST10aGlzLmY9dGhpcy5pPXRoaXMucGE9MDt0aGlzLnVhKGEpO3RoaXMudGE9ITE7dGhpcy52PTA7dGhpcy5KPSExO3RoaXMubGE9MDt0aGlzLnI9XCJcIjsnLAondGhpcy5jYT1mLndpZHRoKCk7dGhpcy5iYT1mLmhlaWdodCgpO2Iuem9vbVdpZHRoJiYodGhpcy5jYT1iLnpvb21XaWR0aCx0aGlzLmJhPWIuem9vbUhlaWdodCk7Zi5yZW1vdmUoKTt0aGlzLm9wdGlvbnM9Yjt0aGlzLmE9YTt0aGlzLkE9bnVsbDt0aGlzLmc9dGhpcy5lPXRoaXMuZD10aGlzLmM9MDt0aGlzLks9dGhpcy5tPW51bGw7dGhpcy5qPXRoaXMubj0wO3RoaXMudz17eDowLHk6MH07dGhpcy5ZYT10aGlzLmNhcHRpb249XCJcIjt0aGlzLmdhPXt4OjAseTowfTt0aGlzLms9W107JywKJ2I9ZS5leHRlbmQoe30sYixmKTsxPmIuZWFzaW5nJiYoYi5lYXNpbmc9MSk7Zj1hLnBhcmVudCgpO2YuaXMoXCJhXCIpJiZcIlwiPT1iLnpvb21JbWFnZSYmKGIuem9vbUltYWdlPWYuYXR0cihcImhyZWZcIiksZi5yZW1vdmVBdHRyKFwiaHJlZlwiKSk7Zj1lKFwiPGRpdiBjbGFzcz1cJ1wiK2Iuem9vbUNsYXNzK1wiXCc8L2Rpdj5cIik7ZShcImJvZHlcIikuYXBwZW5kKGYpO3RoaXMuVj1cInRyYW5zbGF0ZVooMClcIjt0aGlzLlU9XCItd2Via2l0LXRyYW5zZm9ybVwiOycsCidiLmxhenlMb2FkWm9vbT8obC5HKGMsbnVsbCksYS5iaW5kKFwidG91Y2hzdGFydC5wcmVsb2FkIFwiK2wub3B0aW9ucy5tb3VzZVRyaWdnZXJFdmVudCtcIi5wcmVsb2FkXCIsZnVuY3Rpb24oKXtsLmEudW5iaW5kKFwiLnByZWxvYWRcIik7bC5HKG51bGwsYi56b29tSW1hZ2UpfSkpOmwuRyhjLGIuem9vbUltYWdlKX12YXIgbD10aGlzO2I9ZS5leHRlbmQoe30sZS5mbi5DbG91ZFpvb20uZGVmYXVsdHMsYik7dmFyIGY9ZC54YShhLGUuZm4uQ2xvdWRab29tLmF0dHIpOycsCid0aGlzLk5hPWFbMF07dGhpcy5zYT1jO3RoaXMuQmE9ITA7dmFyIGc9dGhpczthLmJpbmQoXCJlcnJvclwiLGZ1bmN0aW9uKCl7Zy5zYShhLHt2YTpifSl9KTthLmJpbmQoXCJsb2FkXCIsZnVuY3Rpb24oKXtnLkJhPSExO2cuc2EoYSl9KTt0aGlzLk5hLnNyYz1ifWZ1bmN0aW9uIGQoYSxiKXtmdW5jdGlvbiBjKCl7bC51cGRhdGUoKTt3aW5kb3cuVGEoYyl9ZnVuY3Rpb24gZygpe3ZhciBjO2M9XCJcIiE9Yi5pbWFnZT9iLmltYWdlOlwiXCIrYS5hdHRyKFwic3JjXCIpOycsCidhPWsuaGVpZ2h0KCk7dGhpcy5MPSExO2Iub3B0aW9ucy56b29tRmx5T3V0PyhmPWIuYS5vZmZzZXQoKSxmLmxlZnQrPWIuZC8yLGYudG9wKz1iLmMvMixrLm9mZnNldChmKSxrLndpZHRoKDApLGsuaGVpZ2h0KDApLGsuYW5pbWF0ZSh7bGVmdDpjLHRvcDpnLHdpZHRoOmQsaGVpZ2h0OmEsb3BhY2l0eToxfSx7ZHVyYXRpb246Yi5vcHRpb25zLmFuaW1hdGlvblRpbWUsY29tcGxldGU6ZnVuY3Rpb24oKXtxLkw9ITB9fSkpOihrLm9mZnNldCh7bGVmdDpjLHRvcDpnfSksay53aWR0aChkKSxrLmhlaWdodChhKSxrLmFuaW1hdGUoe29wYWNpdHk6MX0se2R1cmF0aW9uOmIub3B0aW9ucy5hbmltYXRpb25UaW1lLGNvbXBsZXRlOmZ1bmN0aW9uKCl7cS5MPSEwfX0pKX1mdW5jdGlvbiB3KGEsYixjKXt0aGlzLmE9YTsnLAonay5jc3Moe29wYWNpdHk6MC4xLHdpZHRoOmQsaGVpZ2h0OmYrdGhpcy5zfSk7dGhpcy56b29tLkk9XCJhdXRvXCI9PT1iLm9wdGlvbnMubWluTWFnbmlmaWNhdGlvbj9NYXRoLm1heChkL2IuYS53aWR0aCgpLGYvYi5hLmhlaWdodCgpKTpiLm9wdGlvbnMubWluTWFnbmlmaWNhdGlvbjt0aGlzLnpvb20uSD1cImF1dG9cIj09PWIub3B0aW9ucy5tYXhNYWduaWZpY2F0aW9uP24ud2lkdGgoKS9iLmEud2lkdGgoKTpiLm9wdGlvbnMubWF4TWFnbmlmaWNhdGlvbjsnLAoncmV0dXJuITF9KTtiLm9wdGlvbnMudmFyaWFibGVNYWduaWZpY2F0aW9uJiZuLmJpbmQoXCJtb3VzZXdoZWVsXCIsZnVuY3Rpb24oYSxiKXtxLnpvb20ub2EoMC4xKmIpO3JldHVybiExfSk7cS5BPW47bi53aWR0aChxLnpvb20uZSk7bi5jc3MoYi5VLGIuVik7cS5iLmNzcyhiLlUsYi5WKTt2YXIgaz1xLmI7ay5hcHBlbmQobik7dmFyIHA9ZShcIjxkaXYgc3R5bGU9XCdwb3NpdGlvbjphYnNvbHV0ZTtcJz48L2Rpdj5cIik7YS5jYXB0aW9uPyhcImh0bWxcIj09Yi5vcHRpb25zLmNhcHRpb25UeXBlP2g9YS5jYXB0aW9uOlwiYXR0clwiPT1iLm9wdGlvbnMuY2FwdGlvblR5cGUmJihoPWUoXCI8ZGl2IGNsYXNzPVwnY2xvdWR6b29tLWNhcHRpb25cJz5cIithLmNhcHRpb24rXCI8L2Rpdj5cIikpLGguY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIikscC5jc3Moe3dpZHRoOmR9KSxrLmFwcGVuZChwKSxwLmFwcGVuZChoKSxlKGIub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuYXBwZW5kKGspLHRoaXMucz1oLm91dGVySGVpZ2h0KCksXCJib3R0b21cIj09Yi5vcHRpb25zLmNhcHRpb25Qb3NpdGlvbj9wLmNzcyhcInRvcFwiLGYpOihwLmNzcyhcInRvcFwiLDApLHRoaXMuRWE9dGhpcy5zKSk6ZShiLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmFwcGVuZChrKTsnLAonb3ZlcmZsb3c6aGlkZGVuXCcgID48L2Rpdj5cIik7dmFyIG49cS56b29tLkE7bi5hdHRyKFwic3R5bGVcIixcImhlaWdodDphdXRvOy13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lO3Bvc2l0aW9uOmFic29sdXRlO21heC13aWR0aDpub25lICFpbXBvcnRhbnRcIik7bi5hdHRyKFwiZGF0YS1waW4tbm8taG92ZXJcIixcInRydWVcIik7XCJpbnNpZGVcIj09Yi5vcHRpb25zLnBvc2l0aW9uJiZuLmJpbmQoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpOycsCicoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLnpvb20sYz1hLlcsZz1hLlg7XCJib2R5XCIhPT1iLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3ImJihjLT1iLmEub2Zmc2V0KCkubGVmdCxnLT1iLmEub2Zmc2V0KCkudG9wKTt2YXIgZD1hLmUsZj1hLmc7dGhpcy5kYXRhPWE7dGhpcy5BPXRoaXMuYj1udWxsO3RoaXMuRWE9MDt0aGlzLnpvb209Yjt0aGlzLkw9ITA7dGhpcy5zPXRoaXMuaW50ZXJ2YWw9dGhpcy5CPXRoaXMucT0wO3ZhciBxPXRoaXMsaDtxLmI9ZShcIjxkaXYgY2xhc3M9XCdcIithLk8rXCJcJyBzdHlsZT1cJ3Bvc2l0aW9uOmFic29sdXRlOyddWydceDcyXHg2NVx4NzZceDY1XHg3Mlx4NzNceDY1J10oKVsnXHg2QVx4NkZceDY5XHg2RSddKCcnKSkpKCk7DQovKiEKICogRm9vVGFibGUgLSBBd2Vzb21lIFJlc3BvbnNpdmUgVGFibGVzCiAqIFZlcnNpb24gOiAyLjAuMS4yCiAqIGh0dHA6Ly9mb29wbHVnaW5zLmNvbS9wbHVnaW5zL2Zvb3RhYmxlLWpxdWVyeS8KICoKICogUmVxdWlyZXMgalF1ZXJ5IC0gaHR0cDovL2pxdWVyeS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEzIFN0ZXZlbiBVc2hlciAmIEJyYWQgVmluY2VudAogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogWW91IGFyZSBmcmVlIHRvIHVzZSBGb29UYWJsZSBpbiBjb21tZXJjaWFsIHByb2plY3RzIGFzIGxvbmcgYXMgdGhpcyBjb3B5cmlnaHQgaGVhZGVyIGlzIGxlZnQgaW50YWN0LgogKgogKiBEYXRlOiAyMSBTZXAgMjAxMwogKi8KCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9Ii5vcmRlci1zdW1tYXJ5LWNvbnRlbnQgLmNhcnQsIC53aXNobGlzdC1jb250ZW50IC5jYXJ0LCAucmV0dXJuLXJlcXVlc3QtcGFnZSAuZGF0YS10YWJsZSIsZT0iLnVwZGF0ZS1jYXJ0LWJ1dHRvbiwgLnVwZGF0ZS13aXNobGlzdC1idXR0b24sIC5zdWJtaXQtcmV0dXJuLXJlcXVlc3QtYnV0dG9uIjskKGEpLmxlbmd0aDwxfHwkKGUpLmxlbmd0aDwxfHwkKGUpLm9uZSgiY2xpY2siLGZ1bmN0aW9uKCl7JChhKS5maW5kKCJ0ciIpLm5vdCgiLmZvb3RhYmxlLXJvdy1kZXRhaWwiKS5maW5kKCJpbnB1dCwgc2VsZWN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBlPSQodGhpcyksdD0kKGEpLmZpbmQoImlucHV0LCBzZWxlY3QiKS5maWx0ZXIoJ1tuYW1lPSInK2UuYXR0cigibmFtZSIpKyciXScpLm5vdChlKTsiY2hlY2tib3giPT1lLmF0dHIoInR5cGUiKSYmKHQ9dC5maWx0ZXIoJ1t2YWx1ZT0iJytlLmF0dHIoInZhbHVlIikrJyJdJykpLDA8dC5sZW5ndGgmJigiY2hlY2tib3giPT1lLmF0dHIoInR5cGUiKT9lLmF0dHIoImNoZWNrZWQiLHQuZmlyc3QoKS5pcygiOmNoZWNrZWQiKSk6ZS52YWwodC5maXJzdCgpLnZhbCgpKSx0LnJlbW92ZSgpKX0pfSl9KSxmdW5jdGlvbihtLGksZSl7aS5mb290YWJsZT17b3B0aW9uczp7ZGVsYXk6MTAwLGJyZWFrcG9pbnRzOnt3NDEwOjQxMCx3NDgwOjQ4MCx3NTgwOjU4MCx3NzY4Ojc2OCx3OTgwOjk4MCx3MTAwMDoxZTN9LHBhcnNlcnM6e2FscGhhOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUpLmRhdGEoInZhbHVlIil8fG0udHJpbShtKGUpLnRleHQoKSl9LG51bWVyaWM6ZnVuY3Rpb24oZSl7dmFyIHQ9bShlKS5kYXRhKCJ2YWx1ZSIpfHxtKGUpLnRleHQoKS5yZXBsYWNlKC9bXjAtOS5cLV0vZywiIik7cmV0dXJuIHQ9cGFyc2VGbG9hdCh0KSxpc05hTih0KSYmKHQ9MCksdH19LGFkZFJvd1RvZ2dsZTohMCxjYWxjdWxhdGVXaWR0aE92ZXJyaWRlOm51bGwsdG9nZ2xlU2VsZWN0b3I6IiA+IHRib2R5ID4gdHI6bm90KC5mb290YWJsZS1yb3ctZGV0YWlsKSIsY29sdW1uRGF0YVNlbGVjdG9yOiI+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoLCA+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRkIixkZXRhaWxTZXBhcmF0b3I6IjoiLHRvZ2dsZUhUTUxFbGVtZW50OiI8c3BhbiAvPiIsY3JlYXRlR3JvdXBlZERldGFpbDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9e19ub25lOntuYW1lOm51bGwsZGF0YTpbXX19LGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIG89ZVthXS5ncm91cDtudWxsIT09bz8obyBpbiB0fHwodFtvXT17bmFtZTplW2FdLmdyb3VwTmFtZXx8ZVthXS5ncm91cCxkYXRhOltdfSksdFtvXS5kYXRhLnB1c2goZVthXSkpOnQuX25vbmUuZGF0YS5wdXNoKGVbYV0pfXJldHVybiB0fSxjcmVhdGVEZXRhaWw6ZnVuY3Rpb24oZSx0LGEsbyxpKXt2YXIgbj1hKHQpO2Zvcih2YXIgciBpbiBuKWlmKDAhPT1uW3JdLmRhdGEubGVuZ3RoKXsiX25vbmUiIT09ciYmZS5hcHBlbmQoJzxkaXYgY2xhc3M9IicraS5kZXRhaWxJbm5lckdyb3VwKyciPicrbltyXS5uYW1lKyI8L2Rpdj4iKTtmb3IodmFyIGw9MDtsPG5bcl0uZGF0YS5sZW5ndGg7bCsrKXt2YXIgZD1uW3JdLmRhdGFbbF0ubmFtZT9vOiIiO2UuYXBwZW5kKCc8ZGl2IGNsYXNzPSInK2kuZGV0YWlsSW5uZXJSb3crJyI+PGRpdiBjbGFzcz0iJytpLmRldGFpbElubmVyTmFtZSsnIj4nK25bcl0uZGF0YVtsXS5uYW1lK2QrJzwvZGl2PjxkaXYgY2xhc3M9IicraS5kZXRhaWxJbm5lclZhbHVlKyciPicrbltyXS5kYXRhW2xdLmRpc3BsYXkrIjwvZGl2PjwvZGl2PiIpfX19LGNsYXNzZXM6e21haW46ImZvb3RhYmxlIixsb2FkaW5nOiJmb290YWJsZS1sb2FkaW5nIixsb2FkZWQ6ImZvb3RhYmxlLWxvYWRlZCIsdG9nZ2xlOiJmb290YWJsZS10b2dnbGUiLGRpc2FibGVkOiJmb290YWJsZS1kaXNhYmxlZCIsZGV0YWlsOiJmb290YWJsZS1yb3ctZGV0YWlsIixkZXRhaWxDZWxsOiJmb290YWJsZS1yb3ctZGV0YWlsLWNlbGwiLGRldGFpbElubmVyOiJmb290YWJsZS1yb3ctZGV0YWlsLWlubmVyIixkZXRhaWxJbm5lclJvdzoiZm9vdGFibGUtcm93LWRldGFpbC1yb3ciLGRldGFpbElubmVyR3JvdXA6ImZvb3RhYmxlLXJvdy1kZXRhaWwtZ3JvdXAiLGRldGFpbElubmVyTmFtZToiZm9vdGFibGUtcm93LWRldGFpbC1uYW1lIixkZXRhaWxJbm5lclZhbHVlOiJmb290YWJsZS1yb3ctZGV0YWlsLXZhbHVlIixkZXRhaWxTaG93OiJmb290YWJsZS1kZXRhaWwtc2hvdyJ9LHRyaWdnZXJzOntpbml0aWFsaXplOiJmb290YWJsZV9pbml0aWFsaXplIixyZXNpemU6ImZvb3RhYmxlX3Jlc2l6ZSIscmVkcmF3OiJmb290YWJsZV9yZWRyYXciLHRvZ2dsZVJvdzoiZm9vdGFibGVfdG9nZ2xlX3JvdyIsZXhwYW5kRmlyc3RSb3c6ImZvb3RhYmxlX2V4cGFuZF9maXJzdF9yb3ciLGV4cGFuZEFsbDoiZm9vdGFibGVfZXhwYW5kX2FsbCIsY29sbGFwc2VBbGw6ImZvb3RhYmxlX2NvbGxhcHNlX2FsbCJ9LGV2ZW50czp7YWxyZWFkeUluaXRpYWxpemVkOiJmb290YWJsZV9hbHJlYWR5X2luaXRpYWxpemVkIixpbml0aWFsaXppbmc6ImZvb3RhYmxlX2luaXRpYWxpemluZyIsaW5pdGlhbGl6ZWQ6ImZvb3RhYmxlX2luaXRpYWxpemVkIixyZXNpemluZzoiZm9vdGFibGVfcmVzaXppbmciLHJlc2l6ZWQ6ImZvb3RhYmxlX3Jlc2l6ZWQiLHJlZHJhd246ImZvb3RhYmxlX3JlZHJhd24iLGJyZWFrcG9pbnQ6ImZvb3RhYmxlX2JyZWFrcG9pbnQiLGNvbHVtbkRhdGE6ImZvb3RhYmxlX2NvbHVtbl9kYXRhIixyb3dEZXRhaWxVcGRhdGluZzoiZm9vdGFibGVfcm93X2RldGFpbF91cGRhdGluZyIscm93RGV0YWlsVXBkYXRlZDoiZm9vdGFibGVfcm93X2RldGFpbF91cGRhdGVkIixyb3dDb2xsYXBzZWQ6ImZvb3RhYmxlX3Jvd19jb2xsYXBzZWQiLHJvd0V4cGFuZGVkOiJmb290YWJsZV9yb3dfZXhwYW5kZWQiLHJvd1JlbW92ZWQ6ImZvb3RhYmxlX3Jvd19yZW1vdmVkIixyZXNldDoiZm9vdGFibGVfcmVzZXQifSxkZWJ1ZzohMSxsb2c6bnVsbH0sdmVyc2lvbjp7bWFqb3I6MCxtaW5vcjo1LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZm9vdGFibGUudmVyc2lvbi5tYWpvcisiLiIraS5mb290YWJsZS52ZXJzaW9uLm1pbm9yfSxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gdmVyc2lvbj0vKFxkKylcLj8oXGQrKT9cLj8oXGQrKT8vLmV4ZWMoZSkse21ham9yOnBhcnNlSW50KHZlcnNpb25bMV0sMTApfHwwLG1pbm9yOnBhcnNlSW50KHZlcnNpb25bMl0sMTApfHwwLHBhdGNoOnBhcnNlSW50KHZlcnNpb25bM10sMTApfHwwfX19LHBsdWdpbnM6e192YWxpZGF0ZTpmdW5jdGlvbihlKXtpZighbS5pc0Z1bmN0aW9uKGUpKXJldHVybiEwPT09aS5mb290YWJsZS5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCwgZXhwZWN0ZWQgdHlwZSAiZnVuY3Rpb24iLCByZWNlaXZlZCB0eXBlICJ7MH0iLicsdHlwZW9mIGUpLCExO3ZhciB0PW5ldyBlO3JldHVybiJzdHJpbmciIT10eXBlb2YgdC5uYW1lPyghMD09PWkuZm9vdGFibGUub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBmYWlsZWQsIHBsdWdpbiBkb2VzIG5vdCBpbXBsZW1lbnQgYSBzdHJpbmcgcHJvcGVydHkgY2FsbGVkICJuYW1lIi4nLHQpLCExKTptLmlzRnVuY3Rpb24odC5pbml0KT8oITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUubG9nKCdWYWxpZGF0aW9uIHN1Y2NlZWRlZCBmb3IgcGx1Z2luICInK3QubmFtZSsnIi4nLHQpLCEwKTooITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkLCBwbHVnaW4gIicrdC5uYW1lKyciIGRvZXMgbm90IGltcGxlbWVudCBhIGZ1bmN0aW9uIGNhbGxlZCAiaW5pdCIuJyx0KSwhMSl9LHJlZ2lzdGVyZWQ6W10scmVnaXN0ZXI6ZnVuY3Rpb24oZSx0KXtpLmZvb3RhYmxlLnBsdWdpbnMuX3ZhbGlkYXRlKGUpJiYoaS5mb290YWJsZS5wbHVnaW5zLnJlZ2lzdGVyZWQucHVzaChlKSwib2JqZWN0Ij09dHlwZW9mIHQmJm0uZXh0ZW5kKCEwLGkuZm9vdGFibGUub3B0aW9ucyx0KSl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQsYSxvPVtdO2ZvcihhPTA7YTxpLmZvb3RhYmxlLnBsdWdpbnMucmVnaXN0ZXJlZC5sZW5ndGg7YSsrKXRyeXt0PWkuZm9vdGFibGUucGx1Z2lucy5yZWdpc3RlcmVkW2FdLG8ucHVzaChuZXcgdChlKSl9Y2F0Y2goZSl7ITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoZSl9cmV0dXJuIG99LGluaXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLnBsdWdpbnMubGVuZ3RoO3QrKyl0cnl7ZS5wbHVnaW5zW3RdLmluaXQoZSl9Y2F0Y2goZSl7ITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoZSl9fX19O3ZhciBhPTA7ZnVuY3Rpb24gbygpe3ZhciBhPXRoaXM7YS5pZD1udWxsLGEuYnVzeT0hMSxhLnN0YXJ0PWZ1bmN0aW9uKGUsdCl7YS5idXN5fHwoYS5zdG9wKCksYS5pZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSgpLGEuaWQ9bnVsbCxhLmJ1c3k9ITF9LHQpLGEuYnVzeT0hMCl9LGEuc3RvcD1mdW5jdGlvbigpe251bGwhPT1hLmlkJiYoY2xlYXJUaW1lb3V0KGEuaWQpLGEuaWQ9bnVsbCxhLmJ1c3k9ITEpfX1mdW5jdGlvbiBuKGUsdCxhKXt2YXIgcD10aGlzO3AuaWQ9YSxwLnRhYmxlPWUscC5vcHRpb25zPXQscC5icmVha3BvaW50cz1bXSxwLmJyZWFrcG9pbnROYW1lcz0iIixwLmNvbHVtbnM9e30scC5wbHVnaW5zPWkuZm9vdGFibGUucGx1Z2lucy5sb2FkKHApO3ZhciBnPXAub3B0aW9ucyxzPWcuY2xhc3NlcyxiPWcuZXZlbnRzLHU9Zy50cmlnZ2VycyxoPTA7cmV0dXJuIHAudGltZXJzPXtyZXNpemU6bmV3IG8scmVnaXN0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHAudGltZXJzW2VdPW5ldyBvLHAudGltZXJzW2VdfX0scC5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9bShpKSx0PW0ocC50YWJsZSk7aWYoaS5mb290YWJsZS5wbHVnaW5zLmluaXQocCksdC5oYXNDbGFzcyhzLmxvYWRlZCkpcC5yYWlzZShiLmFscmVhZHlJbml0aWFsaXplZCk7ZWxzZXtmb3IodmFyIGEgaW4gcC5yYWlzZShiLmluaXRpYWxpemluZyksdC5hZGRDbGFzcyhzLmxvYWRpbmcpLHQuZmluZChnLmNvbHVtbkRhdGFTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXAuZ2V0Q29sdW1uRGF0YSh0aGlzKTtwLmNvbHVtbnNbZS5pbmRleF09ZX0pLGcuYnJlYWtwb2ludHMpcC5icmVha3BvaW50cy5wdXNoKHtuYW1lOmEsd2lkdGg6Zy5icmVha3BvaW50c1thXX0pLHAuYnJlYWtwb2ludE5hbWVzKz1hKyIgIjtwLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS53aWR0aC10LndpZHRofSksdC51bmJpbmQodS5pbml0aWFsaXplKS5iaW5kKHUuaW5pdGlhbGl6ZSxmdW5jdGlvbigpe3QucmVtb3ZlRGF0YSgiZm9vdGFibGVfaW5mbyIpLHQuZGF0YSgiYnJlYWtwb2ludCIsIiIpLHQudHJpZ2dlcih1LnJlc2l6ZSksdC5yZW1vdmVDbGFzcyhzLmxvYWRpbmcpLHQuYWRkQ2xhc3Mocy5sb2FkZWQpLmFkZENsYXNzKHMubWFpbikscC5yYWlzZShiLmluaXRpYWxpemVkKX0pLnVuYmluZCh1LnJlZHJhdykuYmluZCh1LnJlZHJhdyxmdW5jdGlvbigpe3AucmVkcmF3KCl9KS51bmJpbmQodS5yZXNpemUpLmJpbmQodS5yZXNpemUsZnVuY3Rpb24oKXtwLnJlc2l6ZSgpfSkudW5iaW5kKHUuZXhwYW5kRmlyc3RSb3cpLmJpbmQodS5leHBhbmRGaXJzdFJvdyxmdW5jdGlvbigpe3QuZmluZChnLnRvZ2dsZVNlbGVjdG9yKS5maXJzdCgpLm5vdCgiLiIrcy5kZXRhaWxTaG93KS50cmlnZ2VyKHUudG9nZ2xlUm93KX0pLnVuYmluZCh1LmV4cGFuZEFsbCkuYmluZCh1LmV4cGFuZEFsbCxmdW5jdGlvbigpe3QuZmluZChnLnRvZ2dsZVNlbGVjdG9yKS5ub3QoIi4iK3MuZGV0YWlsU2hvdykudHJpZ2dlcih1LnRvZ2dsZVJvdyl9KS51bmJpbmQodS5jb2xsYXBzZUFsbCkuYmluZCh1LmNvbGxhcHNlQWxsLGZ1bmN0aW9uKCl7dC5maW5kKCIuIitzLmRldGFpbFNob3cpLnRyaWdnZXIodS50b2dnbGVSb3cpfSksdC50cmlnZ2VyKHUuaW5pdGlhbGl6ZSksZS5iaW5kKCJyZXNpemUuZm9vdGFibGUiLGZ1bmN0aW9uKCl7cC50aW1lcnMucmVzaXplLnN0b3AoKSxwLnRpbWVycy5yZXNpemUuc3RhcnQoZnVuY3Rpb24oKXtwLnJhaXNlKHUucmVzaXplKX0sZy5kZWxheSl9KX19LHAuYWRkUm93VG9nZ2xlPWZ1bmN0aW9uKCl7aWYoZy5hZGRSb3dUb2dnbGUpe3ZhciBlPW0ocC50YWJsZSksdD0hMTtmb3IodmFyIGEgaW4gZS5maW5kKCJzcGFuLiIrcy50b2dnbGUpLnJlbW92ZSgpLHAuY29sdW1ucyl7dmFyIG89cC5jb2x1bW5zW2FdO2lmKG8udG9nZ2xlKXt0PSEwO3ZhciBpPSI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIsLiIrcy5kaXNhYmxlZCsiKSA+IHRkOm50aC1jaGlsZCgiKyhwYXJzZUludChvLmluZGV4LDEwKSsxKSsiKSI7cmV0dXJuIHZvaWQgZS5maW5kKGkpLm5vdCgiLiIrcy5kZXRhaWxDZWxsKS5wcmVwZW5kKG0oZy50b2dnbGVIVE1MRWxlbWVudCkuYWRkQ2xhc3Mocy50b2dnbGUpKX19dHx8ZS5maW5kKCI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIsLiIrcy5kaXNhYmxlZCsiKSA+IHRkOmZpcnN0LWNoaWxkIikubm90KCIuIitzLmRldGFpbENlbGwpLnByZXBlbmQobShnLnRvZ2dsZUhUTUxFbGVtZW50KS5hZGRDbGFzcyhzLnRvZ2dsZSkpfX0scC5zZXRDb2x1bW5DbGFzc2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluICR0YWJsZT1tKHAudGFibGUpLHAuY29sdW1ucyl7dmFyIHQ9cC5jb2x1bW5zW2VdO2lmKG51bGwhPT10LmNsYXNzTmFtZSl7dmFyIGE9IiIsbz0hMDttLmVhY2godC5tYXRjaGVzLGZ1bmN0aW9uKGUsdCl7b3x8KGErPSIsICIpLGErPSI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIpID4gdGQ6bnRoLWNoaWxkKCIrKHBhcnNlSW50KHQsMTApKzEpKyIpIixvPSExfSksJHRhYmxlLmZpbmQoYSkubm90KCIuIitzLmRldGFpbENlbGwpLmFkZENsYXNzKHQuY2xhc3NOYW1lKX19fSxwLmJpbmRUb2dnbGVTZWxlY3RvcnM9ZnVuY3Rpb24oKXt2YXIgdD1tKHAudGFibGUpO3AuaGFzQW55QnJlYWtwb2ludENvbHVtbigpJiYodC5maW5kKGcudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCh1LnRvZ2dsZVJvdykuYmluZCh1LnRvZ2dsZVJvdyxmdW5jdGlvbihlKXt2YXIgdD1tKHRoaXMpLmlzKCJ0ciIpP20odGhpcyk6bSh0aGlzKS5wYXJlbnRzKCJ0cjpmaXJzdCIpO3AudG9nZ2xlRGV0YWlsKHQpfSksdC5maW5kKGcudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCgiY2xpY2suZm9vdGFibGUiKS5iaW5kKCJjbGljay5mb290YWJsZSIsZnVuY3Rpb24oZSl7dC5pcygiLmJyZWFrcG9pbnQiKSYmbShlLnRhcmdldCkuaXMoInRkLC4iK3MudG9nZ2xlKSYmbSh0aGlzKS50cmlnZ2VyKHUudG9nZ2xlUm93KX0pKX0scC5wYXJzZT1mdW5jdGlvbihlLHQpe3JldHVybihnLnBhcnNlcnNbdC50eXBlXXx8Zy5wYXJzZXJzLmFscGhhKShlKX0scC5nZXRDb2x1bW5EYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PW0oZSksYT10LmRhdGEoImhpZGUiKSxvPXQuaW5kZXgoKTthPWF8fCIiLGE9alF1ZXJ5Lm1hcChhLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7cmV0dXJuIGpRdWVyeS50cmltKGUpfSk7dmFyIGk9e2luZGV4Om8saGlkZTp7fSx0eXBlOnQuZGF0YSgidHlwZSIpfHwiYWxwaGEiLG5hbWU6dC5kYXRhKCJuYW1lIil8fG0udHJpbSh0LnRleHQoKSksaWdub3JlOnQuZGF0YSgiaWdub3JlIil8fCExLHRvZ2dsZTp0LmRhdGEoInRvZ2dsZSIpfHwhMSxjbGFzc05hbWU6dC5kYXRhKCJjbGFzcyIpfHxudWxsLG1hdGNoZXM6W10sbmFtZXM6e30sZ3JvdXA6dC5kYXRhKCJncm91cCIpfHxudWxsLGdyb3VwTmFtZTpudWxsfTtpZihudWxsIT09aS5ncm91cCl7dmFyIG49bShwLnRhYmxlKS5maW5kKCc+IHRoZWFkID4gdHIuZm9vdGFibGUtZ3JvdXAtcm93ID4gdGhbZGF0YS1ncm91cD0iJytpLmdyb3VwKyciXSwgPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyA+IHRkW2RhdGEtZ3JvdXA9IicraS5ncm91cCsnIl0nKS5maXJzdCgpO2kuZ3JvdXBOYW1lPXAucGFyc2Uobix7dHlwZToiYWxwaGEifSl9dmFyIHI9cGFyc2VJbnQodC5wcmV2KCkuYXR0cigiY29sc3BhbiIpfHwwLDEwKTtoKz0xPHI/ci0xOjA7dmFyIGw9cGFyc2VJbnQodC5hdHRyKCJjb2xzcGFuIil8fDAsMTApLGQ9aS5pbmRleCtoO2lmKDE8bCl7dmFyIHM9dC5kYXRhKCJuYW1lcyIpO3M9KHM9c3x8IiIpLnNwbGl0KCIsIik7Zm9yKHZhciB1PTA7dTxsO3UrKylpLm1hdGNoZXMucHVzaCh1K2QpLHU8cy5sZW5ndGgmJihpLm5hbWVzW3UrZF09c1t1XSl9ZWxzZSBpLm1hdGNoZXMucHVzaChkKTtpLmhpZGUuZGVmYXVsdD0iYWxsIj09PXQuZGF0YSgiaGlkZSIpfHwwPD1tLmluQXJyYXkoImRlZmF1bHQiLGEpO3ZhciBmPSExO2Zvcih2YXIgYyBpbiBnLmJyZWFrcG9pbnRzKWkuaGlkZVtjXT0iYWxsIj09PXQuZGF0YSgiaGlkZSIpfHwwPD1tLmluQXJyYXkoYyxhKSxmPWZ8fGkuaGlkZVtjXTtyZXR1cm4gaS5oYXNCcmVha3BvaW50PWYscC5yYWlzZShiLmNvbHVtbkRhdGEse2NvbHVtbjp7ZGF0YTppLHRoOmV9fSkuY29sdW1uLmRhdGF9LHAuZ2V0Vmlld3BvcnRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJXaWR0aHx8KGRvY3VtZW50LmJvZHk/ZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aDowKX0scC5jYWxjdWxhdGVXaWR0aD1mdW5jdGlvbihlLHQpe3JldHVybiBqUXVlcnkuaXNGdW5jdGlvbihnLmNhbGN1bGF0ZVdpZHRoT3ZlcnJpZGUpP2cuY2FsY3VsYXRlV2lkdGhPdmVycmlkZShlLHQpOih0LnZpZXdwb3J0V2lkdGg8dC53aWR0aCYmKHQud2lkdGg9dC52aWV3cG9ydFdpZHRoKSx0LnBhcmVudFdpZHRoPHQud2lkdGgmJih0LndpZHRoPXQucGFyZW50V2lkdGgpLHQpfSxwLmhhc0JyZWFrcG9pbnRDb2x1bW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHAuY29sdW1ucylpZihwLmNvbHVtbnNbdF0uaGlkZVtlXSl7aWYocC5jb2x1bW5zW3RdLmlnbm9yZSljb250aW51ZTtyZXR1cm4hMH1yZXR1cm4hMX0scC5oYXNBbnlCcmVha3BvaW50Q29sdW1uPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHAuY29sdW1ucylpZihwLmNvbHVtbnNbZV0uaGFzQnJlYWtwb2ludClyZXR1cm4hMDtyZXR1cm4hMX0scC5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgZT1tKHAudGFibGUpO2lmKGUuaXMoIjp2aXNpYmxlIikmJnAuaGFzQW55QnJlYWtwb2ludENvbHVtbigpKXt2YXIgdD17d2lkdGg6ZS53aWR0aCgpLHZpZXdwb3J0V2lkdGg6cC5nZXRWaWV3cG9ydFdpZHRoKCkscGFyZW50V2lkdGg6ZS5wYXJlbnQoKS53aWR0aCgpfTt0PXAuY2FsY3VsYXRlV2lkdGgoZSx0KTt2YXIgYT1lLmRhdGEoImZvb3RhYmxlX2luZm8iKTtpZihlLmRhdGEoImZvb3RhYmxlX2luZm8iLHQpLHAucmFpc2UoYi5yZXNpemluZyx7b2xkOmEsaW5mbzp0fSksIWF8fGEmJmEud2lkdGgmJmEud2lkdGghPT10LndpZHRoKXtmb3IodmFyIG8saT1udWxsLG49MDtuPHAuYnJlYWtwb2ludHMubGVuZ3RoO24rKylpZigobz1wLmJyZWFrcG9pbnRzW25dKSYmby53aWR0aCYmdC53aWR0aDw9by53aWR0aCl7aT1vO2JyZWFrfXZhciByPW51bGw9PT1pPyJkZWZhdWx0IjppLm5hbWUsbD1wLmhhc0JyZWFrcG9pbnRDb2x1bW4ociksZD1lLmRhdGEoImJyZWFrcG9pbnQiKTtlLmRhdGEoImJyZWFrcG9pbnQiLHIpLnJlbW92ZUNsYXNzKCJkZWZhdWx0IGJyZWFrcG9pbnQiKS5yZW1vdmVDbGFzcyhwLmJyZWFrcG9pbnROYW1lcykuYWRkQ2xhc3MocisobD8iIGJyZWFrcG9pbnQiOiIiKSksciE9PWQmJihlLnRyaWdnZXIodS5yZWRyYXcpLHAucmFpc2UoYi5icmVha3BvaW50LHticmVha3BvaW50OnIsaW5mbzp0fSkpfXAucmFpc2UoYi5yZXNpemVkLHtvbGQ6YSxpbmZvOnR9KX19LHAucmVkcmF3PWZ1bmN0aW9uKCl7cC5hZGRSb3dUb2dnbGUoKSxwLmJpbmRUb2dnbGVTZWxlY3RvcnMoKSxwLnNldENvbHVtbkNsYXNzZXMoKTt2YXIgbD1tKHAudGFibGUpLGQ9bC5kYXRhKCJicmVha3BvaW50IiksdD1wLmhhc0JyZWFrcG9pbnRDb2x1bW4oZCk7bC5maW5kKCI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIpIikuZGF0YSgiZGV0YWlsX2NyZWF0ZWQiLCExKS5lbmQoKS5maW5kKCI+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXAuY29sdW1uc1ttKHRoaXMpLmluZGV4KCldLG89IiIsaT0hMDttLmVhY2goZS5tYXRjaGVzLGZ1bmN0aW9uKGUsdCl7aXx8KG8rPSIsICIpO3ZhciBhPXQrMTtvKz0iPiB0Ym9keSA+IHRyOm5vdCguIitzLmRldGFpbCsiKSA+IHRkOm50aC1jaGlsZCgiK2ErIikiLG8rPSIsID4gdGZvb3QgPiB0cjpub3QoLiIrcy5kZXRhaWwrIikgPiB0ZDpudGgtY2hpbGQoIithKyIpIixvKz0iLCA+IGNvbGdyb3VwID4gY29sOm50aC1jaGlsZCgiK2ErIikiLGk9ITF9KSxvKz0nLCA+IHRoZWFkID4gdHJbZGF0YS1ncm91cC1yb3c9InRydWUiXSA+IHRoW2RhdGEtZ3JvdXA9IicrZS5ncm91cCsnIl0nO3ZhciB0PWwuZmluZChvKS5hZGQodGhpcyk7aWYoITE9PT1lLmhpZGVbZF0/dC5zaG93KCk6dC5oaWRlKCksMT09PWwuZmluZCgiPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyIpLmxlbmd0aCl7dmFyIGE9bC5maW5kKCc+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoW2RhdGEtZ3JvdXA9IicrZS5ncm91cCsnIl06dmlzaWJsZSwgPiB0aGVhZCA+IHRyOmxhc3QtY2hpbGQgPiB0aFtkYXRhLWdyb3VwPSInK2UuZ3JvdXArJyJdOnZpc2libGUnKSxuPWwuZmluZCgnPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyA+IHRoW2RhdGEtZ3JvdXA9IicrZS5ncm91cCsnIl0sID4gdGhlYWQgPiB0ci5mb290YWJsZS1ncm91cC1yb3cgPiB0ZFtkYXRhLWdyb3VwPSInK2UuZ3JvdXArJyJdJykscj0wO20uZWFjaChhLGZ1bmN0aW9uKCl7cis9cGFyc2VJbnQobSh0aGlzKS5hdHRyKCJjb2xzcGFuIil8fDEsMTApfSksMDxyP24uYXR0cigiY29sc3BhbiIscikuc2hvdygpOm4uaGlkZSgpfX0pLmVuZCgpLmZpbmQoIj4gdGJvZHkgPiB0ci4iK3MuZGV0YWlsU2hvdykuZWFjaChmdW5jdGlvbigpe3AuY3JlYXRlT3JVcGRhdGVEZXRhaWxSb3codGhpcyl9KSxsLmZpbmQoIj4gdGJvZHkgPiB0ci4iK3MuZGV0YWlsU2hvdysiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzKS5uZXh0KCk7ZS5oYXNDbGFzcyhzLmRldGFpbCkmJih0P2Uuc2hvdygpOmUuaGlkZSgpKX0pLGwuZmluZCgiPiB0aGVhZCA+IHRyID4gdGguZm9vdGFibGUtbGFzdC1jb2x1bW4sID4gdGJvZHkgPiB0ciA+IHRkLmZvb3RhYmxlLWxhc3QtY29sdW1uIikucmVtb3ZlQ2xhc3MoImZvb3RhYmxlLWxhc3QtY29sdW1uIiksbC5maW5kKCI+IHRoZWFkID4gdHIgPiB0aC5mb290YWJsZS1maXJzdC1jb2x1bW4sID4gdGJvZHkgPiB0ciA+IHRkLmZvb3RhYmxlLWZpcnN0LWNvbHVtbiIpLnJlbW92ZUNsYXNzKCJmb290YWJsZS1maXJzdC1jb2x1bW4iKSxsLmZpbmQoIj4gdGhlYWQgPiB0ciwgPiB0Ym9keSA+IHRyIikuZmluZCgiPiB0aDp2aXNpYmxlOmxhc3QsID4gdGQ6dmlzaWJsZTpsYXN0IikuYWRkQ2xhc3MoImZvb3RhYmxlLWxhc3QtY29sdW1uIikuZW5kKCkuZmluZCgiPiB0aDp2aXNpYmxlOmZpcnN0LCA+IHRkOnZpc2libGU6Zmlyc3QiKS5hZGRDbGFzcygiZm9vdGFibGUtZmlyc3QtY29sdW1uIikscC5yYWlzZShiLnJlZHJhd24pfSxwLnRvZ2dsZURldGFpbD1mdW5jdGlvbihlKXt2YXIgdD1lLmpxdWVyeT9lOm0oZSksYT10Lm5leHQoKTt0Lmhhc0NsYXNzKHMuZGV0YWlsU2hvdyk/KHQucmVtb3ZlQ2xhc3Mocy5kZXRhaWxTaG93KSxhLmhhc0NsYXNzKHMuZGV0YWlsKSYmYS5oaWRlKCkscC5yYWlzZShiLnJvd0NvbGxhcHNlZCx7cm93OnRbMF19KSk6KHAuY3JlYXRlT3JVcGRhdGVEZXRhaWxSb3codFswXSksdC5hZGRDbGFzcyhzLmRldGFpbFNob3cpLm5leHQoKS5zaG93KCkscC5yYWlzZShiLnJvd0V4cGFuZGVkLHtyb3c6dFswXX0pLG0uZXZlbnQudHJpZ2dlcigiZm9vdGFibGVSb3dPcGVuZWQiKSl9LHAucmVtb3ZlUm93PWZ1bmN0aW9uKGUpe3ZhciB0PWUuanF1ZXJ5P2U6bShlKTt0Lmhhc0NsYXNzKHMuZGV0YWlsKSYmKHQ9dC5wcmV2KCkpO3ZhciBhPXQubmV4dCgpOyEwPT09dC5kYXRhKCJkZXRhaWxfY3JlYXRlZCIpJiZhLnJlbW92ZSgpLHQucmVtb3ZlKCkscC5yYWlzZShiLnJvd1JlbW92ZWQpfSxwLmFwcGVuZFJvdz1mdW5jdGlvbihlKXt2YXIgdD1lLmpxdWVyeT9lOm0oZSk7bShwLnRhYmxlKS5maW5kKCJ0Ym9keSIpLmFwcGVuZCh0KSxwLnJlZHJhdygpfSxwLmdldENvbHVtbkZyb21UZEluZGV4PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7Zm9yKHZhciBhIGluIHAuY29sdW1ucylpZigwPD1tLmluQXJyYXkoZSxwLmNvbHVtbnNbYV0ubWF0Y2hlcykpe3Q9cC5jb2x1bW5zW2FdO2JyZWFrfXJldHVybiB0fSxwLmNyZWF0ZU9yVXBkYXRlRGV0YWlsUm93PWZ1bmN0aW9uKGUpe3ZhciB0LGE9bShlKSxvPWEubmV4dCgpLGk9W107aWYoITA9PT1hLmRhdGEoImRldGFpbF9jcmVhdGVkIikpcmV0dXJuITA7aWYoYS5pcygiOmhpZGRlbiIpKXJldHVybiExO2lmKHAucmFpc2UoYi5yb3dEZXRhaWxVcGRhdGluZyx7cm93OmEsZGV0YWlsOm99KSxhLmZpbmQoIj4gdGQ6aGlkZGVuIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPW0odGhpcykuaW5kZXgoKSx0PXAuZ2V0Q29sdW1uRnJvbVRkSW5kZXgoZSksYT10Lm5hbWU7cmV0dXJuITA9PT10Lmlnbm9yZXx8KGUgaW4gdC5uYW1lcyYmKGE9dC5uYW1lc1tlXSksaS5wdXNoKHtuYW1lOmEsdmFsdWU6cC5wYXJzZSh0aGlzLHQpLGRpc3BsYXk6bS50cmltKG0odGhpcykuaHRtbCgpKSxncm91cDp0Lmdyb3VwLGdyb3VwTmFtZTp0Lmdyb3VwTmFtZX0pKSwhMH0pLDA9PT1pLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1hLmZpbmQoIj4gdGQ6dmlzaWJsZSIpLmxlbmd0aCxyPW8uaGFzQ2xhc3Mocy5kZXRhaWwpO3JldHVybiByfHwobz1tKCc8dHIgY2xhc3M9Iicrcy5kZXRhaWwrJyI+PHRkIGNsYXNzPSInK3MuZGV0YWlsQ2VsbCsnIj48ZGl2IGNsYXNzPSInK3MuZGV0YWlsSW5uZXIrJyI+PC9kaXY+PC90ZD48L3RyPicpLGEuYWZ0ZXIobykpLG8uZmluZCgiPiB0ZDpmaXJzdCIpLmF0dHIoImNvbHNwYW4iLG4pLHQ9by5maW5kKCIuIitzLmRldGFpbElubmVyKS5lbXB0eSgpLGcuY3JlYXRlRGV0YWlsKHQsaSxnLmNyZWF0ZUdyb3VwZWREZXRhaWwsZy5kZXRhaWxTZXBhcmF0b3IscyksYS5kYXRhKCJkZXRhaWxfY3JlYXRlZCIsITApLHAucmFpc2UoYi5yb3dEZXRhaWxVcGRhdGVkLHtyb3c6YSxkZXRhaWw6b30pLCFyfSxwLnJhaXNlPWZ1bmN0aW9uKGUsdCl7ITA9PT1wLm9wdGlvbnMuZGVidWcmJm0uaXNGdW5jdGlvbihwLm9wdGlvbnMubG9nKSYmcC5vcHRpb25zLmxvZyhlLCJldmVudCIpLHQ9dHx8e307dmFyIGE9e2Z0OnB9O20uZXh0ZW5kKCEwLGEsdCk7dmFyIG89bS5FdmVudChlLGEpO3JldHVybiBvLmZ0fHxtLmV4dGVuZCghMCxvLGEpLG0ocC50YWJsZSkudHJpZ2dlcihvKSxvfSxwLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU9bShwLnRhYmxlKTtlLnJlbW92ZURhdGEoImZvb3RhYmxlX2luZm8iKS5kYXRhKCJicmVha3BvaW50IiwiIikucmVtb3ZlQ2xhc3Mocy5sb2FkaW5nKS5yZW1vdmVDbGFzcyhzLmxvYWRlZCksZS5maW5kKGcudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCh1LnRvZ2dsZVJvdykudW5iaW5kKCJjbGljay5mb290YWJsZSIpLGUuZmluZCgiPiB0Ym9keSA+IHRyIikucmVtb3ZlQ2xhc3Mocy5kZXRhaWxTaG93KSxlLmZpbmQoIj4gdGJvZHkgPiB0ci4iK3MuZGV0YWlsKS5yZW1vdmUoKSxwLnJhaXNlKGIucmVzZXQpfSxwLmluaXQoKSxwfW0uZm4uZm9vdGFibGU9ZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgdD1tLmV4dGVuZCghMCx7fSxpLmZvb3RhYmxlLm9wdGlvbnMsZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPW5ldyBuKHRoaXMsdCwrK2EpO20odGhpcykuZGF0YSgiZm9vdGFibGUiLGUpfSl9fShqUXVlcnksd2luZG93KTsNCi8qISBwZXJmZWN0LXNjcm9sbGJhciAtIHYwLjUuOAoqIGh0dHA6Ly9ub3JhZXNhZS5naXRodWIuY29tL3BlcmZlY3Qtc2Nyb2xsYmFyLwoqIENvcHlyaWdodCAoYykgMjAxNCBIeXVuamUgQWxleCBKdW47IExpY2Vuc2VkIE1JVCAqLwooZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2UocmVxdWlyZSgianF1ZXJ5IikpOmUoalF1ZXJ5KX0pKGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9wYXJzZUludChlLDEwKTp+fmV9dmFyIG89e3doZWVsU3BlZWQ6MSx3aGVlbFByb3BhZ2F0aW9uOiExLHN3aXBlUHJvcGFnYXRpb246ITAsbWluU2Nyb2xsYmFyTGVuZ3RoOm51bGwsbWF4U2Nyb2xsYmFyTGVuZ3RoOm51bGwsdXNlQm90aFdoZWVsQXhlczohMSx1c2VLZXlib2FyZDohMCxzdXBwcmVzc1Njcm9sbFg6ITEsc3VwcHJlc3NTY3JvbGxZOiExLHNjcm9sbFhNYXJnaW5PZmZzZXQ6MCxzY3JvbGxZTWFyZ2luT2Zmc2V0OjAsaW5jbHVkZVBhZGRpbmc6ITF9LG49MCxyPWZ1bmN0aW9uKCl7dmFyIGU9bisrO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbz0iLnBlcmZlY3Qtc2Nyb2xsYmFyLSIrZTtyZXR1cm4gdD09PXZvaWQgMD9vOnQrb319LGw9IldlYmtpdEFwcGVhcmFuY2UiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2UuZm4ucGVyZmVjdFNjcm9sbGJhcj1mdW5jdGlvbihuLGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGUsbyl7dmFyIG49ZStvLHI9RC1SO2o9MD5uPzA6bj5yP3I6bjt2YXIgbD10KGoqKFktRCkvKEQtUikpO00uc2Nyb2xsVG9wKGwpfWZ1bmN0aW9uIHMoZSxvKXt2YXIgbj1lK28scj1FLWs7Vz0wPm4/MDpuPnI/cjpuO3ZhciBsPXQoVyooQy1FKS8oRS1rKSk7TS5zY3JvbGxMZWZ0KGwpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIFAubWluU2Nyb2xsYmFyTGVuZ3RoJiYoZT1NYXRoLm1heChlLFAubWluU2Nyb2xsYmFyTGVuZ3RoKSksUC5tYXhTY3JvbGxiYXJMZW5ndGgmJihlPU1hdGgubWluKGUsUC5tYXhTY3JvbGxiYXJMZW5ndGgpKSxlfWZ1bmN0aW9uIHUoKXt2YXIgZT17d2lkdGg6SX07ZS5sZWZ0PUI/TS5zY3JvbGxMZWZ0KCkrRS1DOk0uc2Nyb2xsTGVmdCgpLE4/ZS5ib3R0b209Xy1NLnNjcm9sbFRvcCgpOmUudG9wPVErTS5zY3JvbGxUb3AoKSxILmNzcyhlKTt2YXIgdD17dG9wOk0uc2Nyb2xsVG9wKCksaGVpZ2h0OkF9O1o/dC5yaWdodD1CP0MtTS5zY3JvbGxMZWZ0KCktVi1KLm91dGVyV2lkdGgoKTpWLU0uc2Nyb2xsTGVmdCgpOnQubGVmdD1CP00uc2Nyb2xsTGVmdCgpKzIqRS1DLSQtSi5vdXRlcldpZHRoKCk6JCtNLnNjcm9sbExlZnQoKSxHLmNzcyh0KSxVLmNzcyh7bGVmdDpXLHdpZHRoOmsten0pLEouY3NzKHt0b3A6aixoZWlnaHQ6Ui1ldH0pfWZ1bmN0aW9uIGQoKXtNLnJlbW92ZUNsYXNzKCJwcy1hY3RpdmUteCIpLE0ucmVtb3ZlQ2xhc3MoInBzLWFjdGl2ZS15IiksRT1QLmluY2x1ZGVQYWRkaW5nP00uaW5uZXJXaWR0aCgpOk0ud2lkdGgoKSxEPVAuaW5jbHVkZVBhZGRpbmc/TS5pbm5lckhlaWdodCgpOk0uaGVpZ2h0KCksQz1NLnByb3AoInNjcm9sbFdpZHRoIiksWT1NLnByb3AoInNjcm9sbEhlaWdodCIpLCFQLnN1cHByZXNzU2Nyb2xsWCYmQz5FK1Auc2Nyb2xsWE1hcmdpbk9mZnNldD8oWD0hMCxJPUUtRixrPWModChJKkUvQykpLFc9dChNLnNjcm9sbExlZnQoKSooSS1rKS8oQy1FKSkpOihYPSExLGs9MCxXPTAsTS5zY3JvbGxMZWZ0KDApKSwhUC5zdXBwcmVzc1Njcm9sbFkmJlk+RCtQLnNjcm9sbFlNYXJnaW5PZmZzZXQ/KE89ITAsQT1ELXR0LFI9Yyh0KEEqRC9ZKSksaj10KE0uc2Nyb2xsVG9wKCkqKEEtUikvKFktRCkpKTooTz0hMSxSPTAsaj0wLE0uc2Nyb2xsVG9wKDApKSxXPj1JLWsmJihXPUktayksaj49QS1SJiYoaj1BLVIpLHUoKSxYJiZNLmFkZENsYXNzKCJwcy1hY3RpdmUteCIpLE8mJk0uYWRkQ2xhc3MoInBzLWFjdGl2ZS15Iil9ZnVuY3Rpb24gcCgpe3ZhciB0LG8sbj1mdW5jdGlvbihlKXtzKHQsZS5wYWdlWC1vKSxkKCksZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCl9LHI9ZnVuY3Rpb24oKXtILnJlbW92ZUNsYXNzKCJpbi1zY3JvbGxpbmciKSxlKHEpLnVuYmluZChLKCJtb3VzZW1vdmUiKSxuKX07VS5iaW5kKEsoIm1vdXNlZG93biIpLGZ1bmN0aW9uKGwpe289bC5wYWdlWCx0PVUucG9zaXRpb24oKS5sZWZ0LEguYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpLGUocSkuYmluZChLKCJtb3VzZW1vdmUiKSxuKSxlKHEpLm9uZShLKCJtb3VzZXVwIiksciksbC5zdG9wUHJvcGFnYXRpb24oKSxsLnByZXZlbnREZWZhdWx0KCl9KSx0PW89bnVsbH1mdW5jdGlvbiBmKCl7dmFyIHQsbyxuPWZ1bmN0aW9uKGUpe2EodCxlLnBhZ2VZLW8pLGQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKX0scj1mdW5jdGlvbigpe0cucmVtb3ZlQ2xhc3MoImluLXNjcm9sbGluZyIpLGUocSkudW5iaW5kKEsoIm1vdXNlbW92ZSIpLG4pfTtKLmJpbmQoSygibW91c2Vkb3duIiksZnVuY3Rpb24obCl7bz1sLnBhZ2VZLHQ9Si5wb3NpdGlvbigpLnRvcCxHLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSxlKHEpLmJpbmQoSygibW91c2Vtb3ZlIiksbiksZShxKS5vbmUoSygibW91c2V1cCIpLHIpLGwuc3RvcFByb3BhZ2F0aW9uKCksbC5wcmV2ZW50RGVmYXVsdCgpfSksdD1vPW51bGx9ZnVuY3Rpb24gdihlLHQpe3ZhciBvPU0uc2Nyb2xsVG9wKCk7aWYoMD09PWUpe2lmKCFPKXJldHVybiExO2lmKDA9PT1vJiZ0PjB8fG8+PVktRCYmMD50KXJldHVybiFQLndoZWVsUHJvcGFnYXRpb259dmFyIG49TS5zY3JvbGxMZWZ0KCk7aWYoMD09PXQpe2lmKCFYKXJldHVybiExO2lmKDA9PT1uJiYwPmV8fG4+PUMtRSYmZT4wKXJldHVybiFQLndoZWVsUHJvcGFnYXRpb259cmV0dXJuITB9ZnVuY3Rpb24gZyhlLHQpe3ZhciBvPU0uc2Nyb2xsVG9wKCksbj1NLnNjcm9sbExlZnQoKSxyPU1hdGguYWJzKGUpLGw9TWF0aC5hYnModCk7aWYobD5yKXtpZigwPnQmJm89PT1ZLUR8fHQ+MCYmMD09PW8pcmV0dXJuIVAuc3dpcGVQcm9wYWdhdGlvbn1lbHNlIGlmKHI+bCYmKDA+ZSYmbj09PUMtRXx8ZT4wJiYwPT09bikpcmV0dXJuIVAuc3dpcGVQcm9wYWdhdGlvbjtyZXR1cm4hMH1mdW5jdGlvbiBiKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD1lLm9yaWdpbmFsRXZlbnQuZGVsdGFYLG89LTEqZS5vcmlnaW5hbEV2ZW50LmRlbHRhWTtyZXR1cm4odD09PXZvaWQgMHx8bz09PXZvaWQgMCkmJih0PS0xKmUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhWC82LG89ZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFZLzYpLGUub3JpZ2luYWxFdmVudC5kZWx0YU1vZGUmJjE9PT1lLm9yaWdpbmFsRXZlbnQuZGVsdGFNb2RlJiYodCo9MTAsbyo9MTApLHQhPT10JiZvIT09byYmKHQ9MCxvPWUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhKSxbdCxvXX1mdW5jdGlvbiB0KHQpe2lmKGx8fCEoTS5maW5kKCJzZWxlY3Q6Zm9jdXMiKS5sZW5ndGg+MCkpe3ZhciBuPWUodCkscj1uWzBdLGk9blsxXTtvPSExLFAudXNlQm90aFdoZWVsQXhlcz9PJiYhWD8oaT9NLnNjcm9sbFRvcChNLnNjcm9sbFRvcCgpLWkqUC53aGVlbFNwZWVkKTpNLnNjcm9sbFRvcChNLnNjcm9sbFRvcCgpK3IqUC53aGVlbFNwZWVkKSxvPSEwKTpYJiYhTyYmKHI/TS5zY3JvbGxMZWZ0KE0uc2Nyb2xsTGVmdCgpK3IqUC53aGVlbFNwZWVkKTpNLnNjcm9sbExlZnQoTS5zY3JvbGxMZWZ0KCktaSpQLndoZWVsU3BlZWQpLG89ITApOihNLnNjcm9sbFRvcChNLnNjcm9sbFRvcCgpLWkqUC53aGVlbFNwZWVkKSxNLnNjcm9sbExlZnQoTS5zY3JvbGxMZWZ0KCkrcipQLndoZWVsU3BlZWQpKSxkKCksbz1vfHx2KHIsaSksbyYmKHQuc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKX19dmFyIG89ITE7d2luZG93Lm9ud2hlZWwhPT12b2lkIDA/TS5iaW5kKEsoIndoZWVsIiksdCk6d2luZG93Lm9ubW91c2V3aGVlbCE9PXZvaWQgMCYmTS5iaW5kKEsoIm1vdXNld2hlZWwiKSx0KX1mdW5jdGlvbiBoKCl7dmFyIHQ9ITE7TS5iaW5kKEsoIm1vdXNlZW50ZXIiKSxmdW5jdGlvbigpe3Q9ITB9KSxNLmJpbmQoSygibW91c2VsZWF2ZSIpLGZ1bmN0aW9uKCl7dD0hMX0pO3ZhciBvPSExO2UocSkuYmluZChLKCJrZXlkb3duIiksZnVuY3Rpb24obil7aWYoKCFuLmlzRGVmYXVsdFByZXZlbnRlZHx8IW4uaXNEZWZhdWx0UHJldmVudGVkKCkpJiZ0KXtmb3IodmFyIHI9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD9kb2N1bWVudC5hY3RpdmVFbGVtZW50OnEuYWN0aXZlRWxlbWVudDtyLnNoYWRvd1Jvb3Q7KXI9ci5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7aWYoIWUocikuaXMoIjppbnB1dCxbY29udGVudGVkaXRhYmxlXSIpKXt2YXIgbD0wLGk9MDtzd2l0Y2gobi53aGljaCl7Y2FzZSAzNzpsPS0zMDticmVhaztjYXNlIDM4Omk9MzA7YnJlYWs7Y2FzZSAzOTpsPTMwO2JyZWFrO2Nhc2UgNDA6aT0tMzA7YnJlYWs7Y2FzZSAzMzppPTkwO2JyZWFrO2Nhc2UgMzI6Y2FzZSAzNDppPS05MDticmVhaztjYXNlIDM1Omk9bi5jdHJsS2V5Py1ZOi1EO2JyZWFrO2Nhc2UgMzY6aT1uLmN0cmxLZXk/TS5zY3JvbGxUb3AoKTpEO2JyZWFrO2RlZmF1bHQ6cmV0dXJufU0uc2Nyb2xsVG9wKE0uc2Nyb2xsVG9wKCktaSksTS5zY3JvbGxMZWZ0KE0uc2Nyb2xsTGVmdCgpK2wpLG89dihsLGkpLG8mJm4ucHJldmVudERlZmF1bHQoKX19fSl9ZnVuY3Rpb24gdygpe2Z1bmN0aW9uIGUoZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX1KLmJpbmQoSygiY2xpY2siKSxlKSxHLmJpbmQoSygiY2xpY2siKSxmdW5jdGlvbihlKXt2YXIgbz10KFIvMiksbj1lLnBhZ2VZLUcub2Zmc2V0KCkudG9wLW8scj1ELVIsbD1uL3I7MD5sP2w9MDpsPjEmJihsPTEpLE0uc2Nyb2xsVG9wKChZLUQpKmwpfSksVS5iaW5kKEsoImNsaWNrIiksZSksSC5iaW5kKEsoImNsaWNrIiksZnVuY3Rpb24oZSl7dmFyIG89dChrLzIpLG49ZS5wYWdlWC1ILm9mZnNldCgpLmxlZnQtbyxyPUUtayxsPW4vcjswPmw/bD0wOmw+MSYmKGw9MSksTS5zY3JvbGxMZWZ0KChDLUUpKmwpfSl9ZnVuY3Rpb24gbSgpe2Z1bmN0aW9uIHQoKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uP3dpbmRvdy5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5nZXRTbGVjdGlvbj9kb2N1bWVudC5nZXRTbGVjdGlvbigpOntyYW5nZUNvdW50OjB9O3JldHVybiAwPT09ZS5yYW5nZUNvdW50P251bGw6ZS5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyfWZ1bmN0aW9uIG8oKXtyfHwocj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JldHVybiB4KCk/KE0uc2Nyb2xsVG9wKE0uc2Nyb2xsVG9wKCkrbC50b3ApLE0uc2Nyb2xsTGVmdChNLnNjcm9sbExlZnQoKStsLmxlZnQpLGQoKSx2b2lkIDApOihjbGVhckludGVydmFsKHIpLHZvaWQgMCl9LDUwKSl9ZnVuY3Rpb24gbigpe3ImJihjbGVhckludGVydmFsKHIpLHI9bnVsbCksSC5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIiksRy5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIil9dmFyIHI9bnVsbCxsPXt0b3A6MCxsZWZ0OjB9LGk9ITE7ZShxKS5iaW5kKEsoInNlbGVjdGlvbmNoYW5nZSIpLGZ1bmN0aW9uKCl7ZS5jb250YWlucyhNWzBdLHQoKSk/aT0hMDooaT0hMSxuKCkpfSksZSh3aW5kb3cpLmJpbmQoSygibW91c2V1cCIpLGZ1bmN0aW9uKCl7aSYmKGk9ITEsbigpKX0pLGUod2luZG93KS5iaW5kKEsoIm1vdXNlbW92ZSIpLGZ1bmN0aW9uKGUpe2lmKGkpe3ZhciB0PXt4OmUucGFnZVgseTplLnBhZ2VZfSxyPU0ub2Zmc2V0KCksYT17bGVmdDpyLmxlZnQscmlnaHQ6ci5sZWZ0K00ub3V0ZXJXaWR0aCgpLHRvcDpyLnRvcCxib3R0b206ci50b3ArTS5vdXRlckhlaWdodCgpfTt0Lng8YS5sZWZ0KzM/KGwubGVmdD0tNSxILmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6dC54PmEucmlnaHQtMz8obC5sZWZ0PTUsSC5hZGRDbGFzcygiaW4tc2Nyb2xsaW5nIikpOmwubGVmdD0wLHQueTxhLnRvcCszPyhsLnRvcD01PmEudG9wKzMtdC55Py01Oi0yMCxHLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6dC55PmEuYm90dG9tLTM/KGwudG9wPTU+dC55LWEuYm90dG9tKzM/NToyMCxHLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6bC50b3A9MCwwPT09bC50b3AmJjA9PT1sLmxlZnQ/bigpOm8oKX19KX1mdW5jdGlvbiBUKHQsbyl7ZnVuY3Rpb24gbihlLHQpe00uc2Nyb2xsVG9wKE0uc2Nyb2xsVG9wKCktdCksTS5zY3JvbGxMZWZ0KE0uc2Nyb2xsTGVmdCgpLWUpLGQoKX1mdW5jdGlvbiByKCl7aD0hMH1mdW5jdGlvbiBsKCl7aD0hMX1mdW5jdGlvbiBpKGUpe3JldHVybiBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcz9lLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXTplLm9yaWdpbmFsRXZlbnR9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIHQudGFyZ2V0VG91Y2hlcyYmMT09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGg/ITA6dC5wb2ludGVyVHlwZSYmIm1vdXNlIiE9PXQucG9pbnRlclR5cGUmJnQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFPyEwOiExfWZ1bmN0aW9uIHMoZSl7aWYoYShlKSl7dz0hMDt2YXIgdD1pKGUpO3AucGFnZVg9dC5wYWdlWCxwLnBhZ2VZPXQucGFnZVksZj0obmV3IERhdGUpLmdldFRpbWUoKSxudWxsIT09YiYmY2xlYXJJbnRlcnZhbChiKSxlLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiBjKGUpe2lmKCFoJiZ3JiZhKGUpKXt2YXIgdD1pKGUpLG89e3BhZ2VYOnQucGFnZVgscGFnZVk6dC5wYWdlWX0scj1vLnBhZ2VYLXAucGFnZVgsbD1vLnBhZ2VZLXAucGFnZVk7bihyLGwpLHA9bzt2YXIgcz0obmV3IERhdGUpLmdldFRpbWUoKSxjPXMtZjtjPjAmJih2Lng9ci9jLHYueT1sL2MsZj1zKSxnKHIsbCkmJihlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSl9fWZ1bmN0aW9uIHUoKXshaCYmdyYmKHc9ITEsY2xlYXJJbnRlcnZhbChiKSxiPXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIHgoKT8uMDE+TWF0aC5hYnModi54KSYmLjAxPk1hdGguYWJzKHYueSk/KGNsZWFySW50ZXJ2YWwoYiksdm9pZCAwKToobigzMCp2LngsMzAqdi55KSx2LngqPS44LHYueSo9Ljgsdm9pZCAwKTooY2xlYXJJbnRlcnZhbChiKSx2b2lkIDApfSwxMCkpfXZhciBwPXt9LGY9MCx2PXt9LGI9bnVsbCxoPSExLHc9ITE7dCYmKGUod2luZG93KS5iaW5kKEsoInRvdWNoc3RhcnQiKSxyKSxlKHdpbmRvdykuYmluZChLKCJ0b3VjaGVuZCIpLGwpLE0uYmluZChLKCJ0b3VjaHN0YXJ0IikscyksTS5iaW5kKEsoInRvdWNobW92ZSIpLGMpLE0uYmluZChLKCJ0b3VjaGVuZCIpLHUpKSxvJiYod2luZG93LlBvaW50ZXJFdmVudD8oZSh3aW5kb3cpLmJpbmQoSygicG9pbnRlcmRvd24iKSxyKSxlKHdpbmRvdykuYmluZChLKCJwb2ludGVydXAiKSxsKSxNLmJpbmQoSygicG9pbnRlcmRvd24iKSxzKSxNLmJpbmQoSygicG9pbnRlcm1vdmUiKSxjKSxNLmJpbmQoSygicG9pbnRlcnVwIiksdSkpOndpbmRvdy5NU1BvaW50ZXJFdmVudCYmKGUod2luZG93KS5iaW5kKEsoIk1TUG9pbnRlckRvd24iKSxyKSxlKHdpbmRvdykuYmluZChLKCJNU1BvaW50ZXJVcCIpLGwpLE0uYmluZChLKCJNU1BvaW50ZXJEb3duIikscyksTS5iaW5kKEsoIk1TUG9pbnRlck1vdmUiKSxjKSxNLmJpbmQoSygiTVNQb2ludGVyVXAiKSx1KSkpfWZ1bmN0aW9uIHkoKXtNLmJpbmQoSygic2Nyb2xsIiksZnVuY3Rpb24oKXtkKCl9KX1mdW5jdGlvbiBMKCl7TS51bmJpbmQoSygpKSxlKHdpbmRvdykudW5iaW5kKEsoKSksZShxKS51bmJpbmQoSygpKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIixudWxsKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLXVwZGF0ZSIsbnVsbCksTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IixudWxsKSxVLnJlbW92ZSgpLEoucmVtb3ZlKCksSC5yZW1vdmUoKSxHLnJlbW92ZSgpLE09SD1HPVU9Sj1YPU89RT1EPUM9WT1rPVc9Xz1OPVE9Uj1qPVY9Wj0kPUI9Sz1udWxsfWZ1bmN0aW9uIFMoKXtkKCkseSgpLHAoKSxmKCksdygpLG0oKSxiKCksKG90fHxudCkmJlQob3QsbnQpLFAudXNlS2V5Ym9hcmQmJmgoKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIixNKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLXVwZGF0ZSIsZCksTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IixMKX12YXIgUD1lLmV4dGVuZCghMCx7fSxvKSxNPWUodGhpcykseD1mdW5jdGlvbigpe3JldHVybiEhTX07aWYoIm9iamVjdCI9PXR5cGVvZiBuP2UuZXh0ZW5kKCEwLFAsbik6aT1uLCJ1cGRhdGUiPT09aSlyZXR1cm4gTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiKSYmTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiKSgpLE07aWYoImRlc3Ryb3kiPT09aSlyZXR1cm4gTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IikmJk0uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItZGVzdHJveSIpKCksTTtpZihNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIikpcmV0dXJuIE0uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXIiKTtNLmFkZENsYXNzKCJwcy1jb250YWluZXIiKTt2YXIgRSxELEMsWSxYLGssVyxJLE8sUixqLEEsQj0icnRsIj09PU0uY3NzKCJkaXJlY3Rpb24iKSxLPXIoKSxxPXRoaXMub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQsSD1lKCI8ZGl2IGNsYXNzPSdwcy1zY3JvbGxiYXIteC1yYWlsJz4iKS5hcHBlbmRUbyhNKSxVPWUoIjxkaXYgY2xhc3M9J3BzLXNjcm9sbGJhci14Jz4iKS5hcHBlbmRUbyhIKSxfPXQoSC5jc3MoImJvdHRvbSIpKSxOPV89PT1fLFE9Tj9udWxsOnQoSC5jc3MoInRvcCIpKSx6PXQoSC5jc3MoImJvcmRlckxlZnRXaWR0aCIpKSt0KEguY3NzKCJib3JkZXJSaWdodFdpZHRoIikpLEY9dChILmNzcygibWFyZ2luTGVmdCIpKSt0KEguY3NzKCJtYXJnaW5SaWdodCIpKSxHPWUoIjxkaXYgY2xhc3M9J3BzLXNjcm9sbGJhci15LXJhaWwnPiIpLmFwcGVuZFRvKE0pLEo9ZSgiPGRpdiBjbGFzcz0ncHMtc2Nyb2xsYmFyLXknPiIpLmFwcGVuZFRvKEcpLFY9dChHLmNzcygicmlnaHQiKSksWj1WPT09ViwkPVo/bnVsbDp0KEcuY3NzKCJsZWZ0IikpLGV0PXQoRy5jc3MoImJvcmRlclRvcFdpZHRoIikpK3QoRy5jc3MoImJvcmRlckJvdHRvbVdpZHRoIikpLHR0PXQoRy5jc3MoIm1hcmdpblRvcCIpKSt0KEcuY3NzKCJtYXJnaW5Cb3R0b20iKSksb3Q9Im9udG91Y2hzdGFydCJpbiB3aW5kb3d8fHdpbmRvdy5Eb2N1bWVudFRvdWNoJiZkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoLG50PW51bGwhPT13aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM7cmV0dXJuIFMoKSxNfSl9fSk7DQohZnVuY3Rpb24ocCxoLHUpe3ZhciByPTAsZj17aXNFbmFibGVkOiExfTtmdW5jdGlvbiB2KGUsdCxzLG8pe3ZhciByPXAoZSk7aC5nZXRWaWV3UG9ydCgpLndpZHRoPD11LmJyZWFrUG9pbnRXaWR0aD8oci5jc3Moe3dpZHRoOnMtNywiei1pbmRleCI6ci5jc3MoInotaW5kZXgiKStvfSkscCgiPiAuc3VibGlzdCA+IGxpID4gIit0LGUpLmNzcygid2lkdGgiLHMtNTcpKTooci5jc3Moe3dpZHRoOiIiLCJ6LWluZGV4IjoiIn0pLHAoIj4gLnN1Ymxpc3QgPiBsaSA+ICIrdCxlKS5jc3MoIndpZHRoIiwiIikpO2UrPSI+IC5zdWJsaXN0ID4gbGkgPiAuc3VibGlzdC13cmFwIjswPHAoZSkubGVuZ3RoJiZ2KGUsdCxzLTcsbysxKX1mdW5jdGlvbiBpKGUsdCl7dmFyIHM9cCh0KSx0PXAod2luZG93KS5zY3JvbGxUb3AoKTswPHQmJnQ+PXMub2Zmc2V0KCkudG9wPyhzLmNzcygiaGVpZ2h0IixzLmhlaWdodCgpKyJweCIpLHAoZSkuYWRkQ2xhc3MoInN0aWNrIikpOihzLmNzcygiaGVpZ2h0IiwiIikscChlKS5yZW1vdmVDbGFzcygic3RpY2siKSkscChkb2N1bWVudCkudHJpZ2dlcih7dHlwZToibmF2aWdhdGlvbkhhc1N0aWNrZWQifSl9ZnVuY3Rpb24gbygpe2YuaGFzU3RpY2t5TmF2JiZpKGYuc2VsZWN0b3JzLm5hdldyYXBwZXIsZi5zZWxlY3RvcnMubmF2V3JhcHBlclBhcmVudCksZi5kb2VzRGVza3RvcEhlYWRlck1lbnVTdGljayYmaShmLnNlbGVjdG9ycy5oZWFkZXJNZW51RGVza3RvcFN0aWNrRWxlbWVudCxmLnNlbGVjdG9ycy5oZWFkZXJNZW51RGVza3RvcFN0aWNrUGFyZW50RWxlbWVudCkscCh3aW5kb3cpLm9uKCJzY3JvbGwiLGZ1bmN0aW9uKCl7dmFyIGUsdCxzLG87Zi5oYXNTdGlja3lOYXYmJmkoZi5zZWxlY3RvcnMubmF2V3JhcHBlcixmLnNlbGVjdG9ycy5uYXZXcmFwcGVyUGFyZW50KSxmLmRvZXNEZXNrdG9wSGVhZGVyTWVudVN0aWNrJiZpKGYuc2VsZWN0b3JzLmhlYWRlck1lbnVEZXNrdG9wU3RpY2tFbGVtZW50LGYuc2VsZWN0b3JzLmhlYWRlck1lbnVEZXNrdG9wU3RpY2tQYXJlbnRFbGVtZW50KSxmLmRpc3BsYXlHb1RvVG9wJiYoMTAwPHAod2luZG93KS5zY3JvbGxUb3AoKT9wKCIjZ29Ub1RvcCIpLnNob3coKTpwKCIjZ29Ub1RvcCIpLmhpZGUoKSksZT1mLnNlbGVjdG9ycy5uYXZXcmFwcGVyLHQ9Zi5zZWxlY3RvcnMubmF2V3JhcHBlclBhcmVudCxzPXAoZSksMD09PShvPXMuZmlsdGVyKCIuc3RpY2siKSkubGVuZ3RofHwwPT09dC5sZW5ndGh8fChlPXAod2luZG93KS5zY3JvbGxUb3AoKSk8PXAodCkub2Zmc2V0KCkudG9wP3MucmVtb3ZlQ2xhc3MoIm5hdi11cCIpOihyPGU/by5hZGRDbGFzcygibmF2LXVwIik6by5yZW1vdmVDbGFzcygibmF2LXVwIikscj1lKX0pLGYuZGlzcGxheUdvVG9Ub3AmJnAoIiNnb1RvVG9wIikub24oImNsaWNrIixmdW5jdGlvbigpe3AoImh0bWwsYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSw0MDApfSl9ZnVuY3Rpb24gdCgpe3ZhciBlPWYuc2VsZWN0b3JzO3AoZS5tb3ZlZEVsZW1lbnRzKS5yZW1vdmVDbGFzcygibW92ZS1yaWdodCIpLHAoZS5vdmVybGF5T2ZmQ2FudmFzKS5mYWRlT3V0KGZ1bmN0aW9uKCl7cCh0aGlzKS5yZW1vdmVDbGFzcygic2hvdyIpfSkscCgiaHRtbCwgYm9keSIpLnJlbW92ZUNsYXNzKCJzY3JvbGxZUmVtb3ZlIil9ZnVuY3Rpb24gcyhlKXtwKGUub3ZlcmxheU9mZkNhbnZhcykuYWRkQ2xhc3MoInNob3ciKS5mYWRlSW4oKSxwKCJodG1sLCBib2R5IikuYWRkQ2xhc3MoInNjcm9sbFlSZW1vdmUiKSxwKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJvbk92ZXJsYXlPZmZDYW52YXNTaG93In0pfWZ1bmN0aW9uIG4oKXt2YXIgZT1mLnNlbGVjdG9ycztwKGUuc2VhcmNoQm94T3BlbmVyKS5jbGljayhmdW5jdGlvbigpe3AoZS5zZWFyY2hCb3gpLmFkZENsYXNzKCJvcGVuIikscyhlKX0pLHAoZS5oZWFkZXJMaW5rc09wZW5lcikub24oImNsaWNrIixmdW5jdGlvbigpe3AoZS5oZWFkZXJMaW5rc1dyYXBwZXIpLmFkZENsYXNzKCJvcGVuIikscyhlKX0pLHAoZS5tZW51VGl0bGUpLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIGU7ZT1mLnNlbGVjdG9ycyxwKGUuaGVhZGVyTWVudSkuYWRkQ2xhc3MoIm9wZW4iKSxwKGUubW92ZWRFbGVtZW50cykuYWRkQ2xhc3MoIm1vdmUtcmlnaHQiKSxzKGUpfSkscChlLmNsb3NlTWVudSkuY2xpY2soZnVuY3Rpb24oKXtwKGUuaGVhZGVyTWVudSkucmVtb3ZlQ2xhc3MoIm9wZW4iKSx0KCksZi5pc0VuYWJsZWQmJnAoIi5oZWFkZXItbWVudSwgLnN1Ymxpc3Qtd3JhcCIpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX0pLHAoZS5vdmVybGF5T2ZmQ2FudmFzKS5jbGljayhmdW5jdGlvbigpe3AoZS5zdWJsaXN0KS5wYXJlbnQoKS5yZW1vdmVDbGFzcygiYWN0aXZlIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9KSxwKGUuaGVhZGVyTWVudSkuYWRkKHAoZS5maWx0ZXJzQ29udGFpbmVyKSkucmVtb3ZlQ2xhc3MoIm9wZW4iKSxwKGUuc2VhcmNoQm94KS5yZW1vdmVDbGFzcygib3BlbiIpLHAoZS5oZWFkZXJMaW5rc1dyYXBwZXIpLnJlbW92ZUNsYXNzKCJvcGVuIiksdCgpLGYuaXNFbmFibGVkJiZwKCIuaGVhZGVyLW1lbnUsIC5zdWJsaXN0LXdyYXAsIC5ub3BBamF4RmlsdGVyczdTcGlrZXMub3BlbiIpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX0pLHAoIi5zdWJsaXN0Iikub24oImNsaWNrIiwiLmJhY2stYnV0dG9uIixmdW5jdGlvbigpe3AodGhpcykuY2xvc2VzdCgiLnN1Ymxpc3Qtd3JhcCIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxmLmlzRW5hYmxlZCYmcCh0aGlzKS5wYXJlbnRzKCkuZXEoNCkucGVyZmVjdFNjcm9sbGJhcih7c3dpcGVQcm9wYWdhdGlvbjohMSx3aGVlbFNwZWVkOjIsc3VwcHJlc3NTY3JvbGxYOiEwfSl9KSxwKGUuZmlsdGVyc09wZW5lcikuY2xpY2soZnVuY3Rpb24oKXtwKGUuZmlsdGVyc0NvbnRhaW5lcikudG9nZ2xlQ2xhc3MoIm9wZW4iKSxwKGUubW92ZWRFbGVtZW50cykudG9nZ2xlQ2xhc3MoIm1vdmUtcmlnaHQiKSxzKGUpLGYuaXNFbmFibGVkJiZwKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzLm9wZW4iKS5wZXJmZWN0U2Nyb2xsYmFyKHtzd2lwZVByb3BhZ2F0aW9uOiExLHdoZWVsU3BlZWQ6MSxzdXBwcmVzc1Njcm9sbFg6ITB9KX0pLHAoIi5jbG9zZS1maWx0ZXJzIikuY2xpY2soZnVuY3Rpb24oKXtwKGUuZmlsdGVyc0NvbnRhaW5lcikudG9nZ2xlQ2xhc3MoIm9wZW4iKSxwKGUubW92ZWRFbGVtZW50cykudG9nZ2xlQ2xhc3MoIm1vdmUtcmlnaHQiKSxwKGUub3ZlcmxheU9mZkNhbnZhcykuZmFkZU91dChmdW5jdGlvbigpe3AodGhpcykucmVtb3ZlQ2xhc3MoInNob3ciKX0pLHAoImh0bWwsIGJvZHkiKS5yZW1vdmVDbGFzcygic2Nyb2xsWVJlbW92ZSIpLGYuaXNFbmFibGVkJiZwKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzLm9wZW4iKS5wZXJmZWN0U2Nyb2xsYmFyKCJkZXN0cm95Iil9KX11LmJyZWFrUG9pbnRXaWR0aD05ODAsdS5hZGRXaW5kb3dFdmVudD1mdW5jdGlvbihlLHQpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9uIitlLHQpfSx1LmluaXRSZXNwb25zaXZlVGhlbWU9ZnVuY3Rpb24oZSl7dmFyIGMsdCxzO251bGwhPWUmJihudWxsIT0oZj1lKS5zZWxlY3RvcnMmJihudWxsPT1mLnNlbGVjdG9ycy5oZWFkZXJMaW5rc1dyYXBwZXJNb2JpbGVJbnNlcnRBZnRlciYmKGYuc2VsZWN0b3JzLmhlYWRlckxpbmtzV3JhcHBlck1vYmlsZUluc2VydEFmdGVyPSIuaGVhZGVyIiksbnVsbD09Zi5zZWxlY3RvcnMuaGVhZGVyTGlua3NXcmFwcGVyRGVza3RvcFByZXBlbmRUbyYmKGYuc2VsZWN0b3JzLmhlYWRlckxpbmtzV3JhcHBlckRlc2t0b3BQcmVwZW5kVG89Ii5oZWFkZXIiKSksdS5icmVha1BvaW50V2lkdGg9Zi50aGVtZUJyZWFrcG9pbnR8fDk4MCxjPXNldmVuU3Bpa2VzQ29yZS5nZXRWaWV3UG9ydCgpLndpZHRoLCh0PWZ1bmN0aW9uKGUpe3ZhciB0LHMsbyxyLGksbixhLGw9c2V2ZW5TcGlrZXNDb3JlLmdldFZpZXdQb3J0KCkud2lkdGg7ZnVuY3Rpb24gZCgpe2EmJmguaXNNb2JpbGUoKSYmcCgiLnByb2R1Y3QtZ3JpZCAuaXRlbS1ib3giKS5hZGRDbGFzcygibW9iaWxlLWJveCIpfWYuaXNFbmFibGVkJiZlJiZmLmRvZXNEZXNrdG9wSGVhZGVyTWVudVN0aWNrJiZwKGYuc2VsZWN0b3JzLmhlYWRlck1lbnUpLndyYXAoJzxkaXYgaWQ9ImhlYWRlck1lbnVQYXJlbnQiIGNsYXNzPSJoZWFkZXItbWVudS1wYXJlbnQiPjwvZGl2PicpLChlfHxsPnUuYnJlYWtQb2ludFdpZHRoJiZjPD11LmJyZWFrUG9pbnRXaWR0aHx8bDw9dS5icmVha1BvaW50V2lkdGgmJmM+dS5icmVha1BvaW50V2lkdGgpJiYoYT1mLnNob3VsZEFkZENsYXNzRm9yTW9iaWxlLGQoKSxwKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCIsZCksbj1lLHAoIi5ibG9jayIpLmVhY2goZnVuY3Rpb24oKXtoLmdldFZpZXdQb3J0KCkud2lkdGg+dS5icmVha1BvaW50V2lkdGg/bnx8KCExPT09Zi5pc0VuYWJsZWQ/KHAodGhpcykuY2hpbGRyZW4oKS5lcSgxKS5zaG93KCkscCh0aGlzKS5jaGlsZHJlbigpLmVxKDApLmNoaWxkcmVuKCJhLnRvZ2dsZUNvbnRyb2wiKS5yZW1vdmVDbGFzcygiY2xvc2VkIikpOnAodGhpcykuY2hpbGRyZW4oIi5saXN0Ym94IikuZXEoMCkuc2hvdygpLHAodGhpcykuZmluZCgiLmpjYXJvdXNlbC1jb250YWluZXItdmVydGljYWwiKS5zaG93KCkpOighMT09PWYuaXNFbmFibGVkPyhwKHRoaXMpLmNoaWxkcmVuKCkuZXEoMSkuaGlkZSgpLHAodGhpcykuY2hpbGRyZW4oKS5lcSgwKS5jaGlsZHJlbigiYS50b2dnbGVDb250cm9sIikuYWRkQ2xhc3MoImNsb3NlZCIpKTpwKHRoaXMpLmNoaWxkcmVuKCIubGlzdGJveCIpLmVxKDApLmhpZGUoKSxwKHRoaXMpLmZpbmQoIi5qY2Fyb3VzZWwtY29udGFpbmVyLXZlcnRpY2FsIikuaGlkZSgpKX0pLGYuaGFzU2lkZUJhbm5lcnMmJigoaT1sKTx1LmJyZWFrUG9pbnRXaWR0aD8oaT1wKCIubGVmdHNpZGUtMyAuc2xpZGVyLXdyYXBwZXIsIC5yaWdodHNpZGUtMyAuc2xpZGVyLXdyYXBwZXIsIC5zaWRlLTIgLnNsaWRlci13cmFwcGVyIikuZGV0YWNoKCkscCgiLm1hc3Rlci13cmFwcGVyLW1haW4iKS5hcHBlbmQoJzxkaXYgY2xhc3M9Im1vYmlsZS1iYW5uZXJzIj48L2Rpdj4nKSxwKCIubW9iaWxlLWJhbm5lcnMiKS5hcHBlbmQoaSkpOnAoIi5tb2JpbGUtYmFubmVycyIpLmRldGFjaCgpKSxmLmlzRW5hYmxlZCYmKHQ9bCxzPWUsbz1mLnNlbGVjdG9ycyxyPWYuaXNTZWFyY2hCb3hEZXRhY2hhYmxlLGk9Zi5pc0hlYWRlckxpbmtzV3JhcHBlckRldGFjaGFibGUsdDw9dS5icmVha1BvaW50V2lkdGg/KHAoby5oZWFkZXJNZW51KS5hZGQocChvLnN1Ymxpc3QpKS5hZGQocChvLm92ZXJsYXlPZmZDYW52YXMpKSxwKG8uZmlsdGVyc0NvbnRhaW5lcikuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIoby5oZWFkZXJNZW51KSxyJiZwKG8uc2VhcmNoQm94KS5kZXRhY2goKS5pbnNlcnRBZnRlcihvLm5hdldyYXBwZXJQYXJlbnQpLGkmJnAoby5oZWFkZXJMaW5rc1dyYXBwZXIpLmRldGFjaCgpLmluc2VydEFmdGVyKG8uaGVhZGVyTGlua3NXcmFwcGVyTW9iaWxlSW5zZXJ0QWZ0ZXIpLHAoby5zaG9wcGluZ0NhcnRMaW5rKS5vZmYoIm1vdXNlZW50ZXIuZmx5b3V0LWNhcnQiKS5vZmYoIm1vdXNlbGVhdmUuZmx5b3V0LWNhcnQiKSxwKCIudG9wLW1lbnUgPiBsaSA+IC5zdWJsaXN0LXdyYXAiKS5jc3MoImRpc3BsYXkiLCIiKSk6KHAoby5oZWFkZXJNZW51KS5jc3Moe2hlaWdodDoiIix0b3A6IiJ9KSxwKG8uc3VibGlzdCkuY3NzKHtoZWlnaHQ6IiIsdG9wOiIifSkscChvLmZpbHRlcnNDb250YWluZXIpLmNzcygiaGVpZ2h0IiwiIiksc3x8cChvLmZpbHRlcnNDb250YWluZXIpLmRldGFjaCgpLmluc2VydEJlZm9yZSgiI2F2YWlsYWJsZVNvcnRPcHRpb25zSnNvbiIpLGkmJnAoby5oZWFkZXJMaW5rc1dyYXBwZXIpLmRldGFjaCgpLnByZXBlbmRUbyhvLmhlYWRlckxpbmtzV3JhcHBlckRlc2t0b3BQcmVwZW5kVG8pLHImJnAoby5zZWFyY2hCb3gpLmRldGFjaCgpLmluc2VydEFmdGVyKG8uc2VhcmNoQm94QmVmb3JlKSxwKG8uc2hvcHBpbmdDYXJ0TGluaykub24oIm1vdXNlZW50ZXIuZmx5b3V0LWNhcnQiLGZ1bmN0aW9uKGUpe3ZhciB0PXAodGhpcykuY2hpbGRyZW4oIi5mbHlvdXQtY2FydCIpO251bGwhPXQuYXR0cigiaXNTbGlkaW5nIikmJiJmYWxzZSIhPT10LmF0dHIoImlzU2xpZGluZyIpfHx0LmF0dHIoImlzU2xpZGluZyIsInRydWUiKS5zbGlkZURvd24oMTAwLGZ1bmN0aW9uKCl7cCh0aGlzKS5jc3MoIm92ZXJmbG93IiwiIikscCh0aGlzKS5hdHRyKCJpc1NsaWRpbmciLCJmYWxzZSIpfSksZS5wcmV2ZW50RGVmYXVsdCgpfSkub24oIm1vdXNlbGVhdmUuZmx5b3V0LWNhcnQiLGZ1bmN0aW9uKGUpe3AodGhpcykuY2hpbGRyZW4oIi5mbHlvdXQtY2FydCIpLmF0dHIoImlzU2xpZGluZyIsInRydWUiKS5zbGlkZVVwKDEwMCxmdW5jdGlvbigpe3AodGhpcykuY3NzKCJvdmVyZmxvdyIsIiIpLHAodGhpcykuYXR0cigiaXNTbGlkaW5nIiwiZmFsc2UiKX0pLGUucHJldmVudERlZmF1bHQoKX0pKSwhMD09PWYuZG9lc1N1Ymxpc3RIYXNJbmRlbnQmJigwPHAoIi5tZWdhLW1lbnUtcmVzcG9uc2l2ZSIpLmxlbmd0aD92KCIubWVnYS1tZW51LXJlc3BvbnNpdmUgPiBsaSA+IC5zdWJsaXN0LXdyYXAiLGYuc2VsZWN0b3JzLndpdGhTdWJjYXRlZ29yaWVzLDMyMCwxKTp2KGYuc2VsZWN0b3JzLmhlYWRlck1lbnUrIiA+IHVsID4gbGkgPiAuc3VibGlzdC13cmFwIixmLnNlbGVjdG9ycy53aXRoU3ViY2F0ZWdvcmllcywzMjAsMSkpKSxwKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJ0aGVtZUJyZWFrcG9pbnRQYXNzZWQ3U3Bpa2VzIixpc0luaXRpYWxMb2FkOmUsaXNNb2JpbGVSZXNvbHV0aW9uOmw8PXUuYnJlYWtQb2ludFdpZHRofSkpLGM9bH0pKCEwKSxzZXZlblNwaWtlc0V4LmFkZFdpbmRvd0V2ZW50KCJyZXNpemUiLGZ1bmN0aW9uKCl7dCghMSl9KSxzZXZlblNwaWtlc0V4LmFkZFdpbmRvd0V2ZW50KCJvcmllbnRhdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt0KCExKX0pLGYuaXNFbmFibGVkJiYoKGYuaGFzU3RpY2t5TmF2fHxmLmRpc3BsYXlHb1RvVG9wfHxmLmRvZXNEZXNrdG9wSGVhZGVyTWVudVN0aWNrKSYmKG51bGw9PWYuc2VsZWN0b3JzLmhlYWRlck1lbnVEZXNrdG9wU3RpY2tFbGVtZW50JiYoZi5zZWxlY3RvcnMuaGVhZGVyTWVudURlc2t0b3BTdGlja0VsZW1lbnQ9Zi5zZWxlY3RvcnMuaGVhZGVyTWVudSksbnVsbD09Zi5zZWxlY3RvcnMuaGVhZGVyTWVudURlc2t0b3BTdGlja1BhcmVudEVsZW1lbnQmJihmLnNlbGVjdG9ycy5oZWFkZXJNZW51RGVza3RvcFN0aWNrUGFyZW50RWxlbWVudD0iI2hlYWRlck1lbnVQYXJlbnQiKSxvKCkpLG4oKSxzPSJ0cnVlIj09cCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtY2xvc2VmaWx0ZXJzcGFuZWxhZnRlcmZpbHRyYXRpb25pbm1vYmlsZSIpLCEwPT09Zi5kb2VzU2Nyb2xsQWZ0ZXJGaWx0cmF0aW9uJiZwKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCIsZnVuY3Rpb24oKXtzZXZlblNwaWtlc0NvcmUuZ2V0Vmlld1BvcnQoKS53aWR0aDw9dS5icmVha1BvaW50V2lkdGgmJnMmJihwKGYuc2VsZWN0b3JzLm92ZXJsYXlPZmZDYW52YXMpLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtwKGYuc2VsZWN0b3JzLm92ZXJsYXlPZmZDYW52YXMpLmhpZGUoKX0sNDUwKSl9KSkscCgiLmJsb2NrIC50aXRsZSIpLm5vdChwKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5ibG9jayAudGl0bGUiKSkub2ZmKCJjbGljayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt2YXIgZTtoLmdldFZpZXdQb3J0KCkud2lkdGg8PXUuYnJlYWtQb2ludFdpZHRoJiYoZT1wKHRoaXMpLnNpYmxpbmdzKCkpLnNsaWRlVG9nZ2xlKCJzbG93IixmdW5jdGlvbigpe2UuY3NzKCJvdmVyZmxvdyIsIiIpfSl9KSxwKCIubm9wLWpjYXJvdXNlbC52ZXJ0aWNhbC1ob2xkZXIgLmNhcm91c2VsLXRpdGxlIikub24oImNsaWNrIixmdW5jdGlvbigpe3ZhciBlO2guZ2V0Vmlld1BvcnQoKS53aWR0aDw9dS5icmVha1BvaW50V2lkdGgmJihlPXAodGhpcykuc2libGluZ3MoKSkuc2xpZGVUb2dnbGUoInNsb3ciLGZ1bmN0aW9uKCl7ZS5jc3MoIm92ZXJmbG93IiwiIil9KX0pLDA9PT1wKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5ibG9jayIpLmxlbmd0aCYmcCgiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLmZpbHRlcnMtYnV0dG9uIikucmVtb3ZlKCksbnVsbCE9Zi5EaXNhYmxlRm9vdGFibGUmJiExIT09Zi5EaXNhYmxlRm9vdGFibGV8fCgiZnVuY3Rpb24iPT10eXBlb2YgcCgiYm9keSIpLmZvb3RhYmxlJiZwKCIud2lzaGxpc3QtcGFnZSAuY2FydCwgLmNvbXBhcmUtcHJvZHVjdHMtdGFibGUtbW9iaWxlLCAucmVjdXJyaW5nLXBheW1lbnRzIC5kYXRhLXRhYmxlLCAuZG93bmxvYWRhYmxlLXByb2R1Y3RzLXBhZ2UgLmRhdGEtdGFibGUsIC5yZXdhcmQtcG9pbnRzLWhpc3RvcnkgLmRhdGEtdGFibGUsIC5vcmRlci1zdW1tYXJ5LWNvbnRlbnQgLmNhcnQsIC5vcmRlci1kZXRhaWxzLXBhZ2UgLmRhdGEtdGFibGUsIC5yZXR1cm4tcmVxdWVzdC1wYWdlIC5kYXRhLXRhYmxlLCAuZm9ydW0tdGFibGUsIC5wcml2YXRlLW1lc3NhZ2VzLXBhZ2UgLmRhdGEtdGFibGUiKS5mb290YWJsZSgpLDA8cCgiLmNoZWNrb3V0LXBhZ2UiKS5sZW5ndGgmJnAoZG9jdW1lbnQpLmFqYXhTdWNjZXNzKGZ1bmN0aW9uKCl7MDxwKCIub3JkZXItc3VtbWFyeS1jb250ZW50IC5jYXJ0IikubGVuZ3RoJiZwKCIub3JkZXItc3VtbWFyeS1jb250ZW50IC5jYXJ0IikuZm9vdGFibGUoKX0pKSl9fShqUXVlcnksd2luZG93LnNldmVuU3Bpa2VzQ29yZSx3aW5kb3cuc2V2ZW5TcGlrZXNFeD13aW5kb3cuc2V2ZW5TcGlrZXNFeHx8e30pOw0KZnVuY3Rpb24gZGlzcGxheUFqYXhMb2FkaW5nKG4pe24/JCgiLmFqYXgtbG9hZGluZy1ibG9jay13aW5kb3ciKS5zaG93KCk6JCgiLmFqYXgtbG9hZGluZy1ibG9jay13aW5kb3ciKS5mYWRlT3V0KCl9KGZ1bmN0aW9uKG4sdCxyKXtmdW5jdGlvbiBzKCl7dmFyIGY9bigiLnNpZGUtMiAucGFnZS10aXRsZSIpLGU9bigiLmFkbWluLWhlYWRlci1saW5rcyIpLHI9bigiLmF0dHJpYnV0ZXMgZHQiKSxvPW4oIi5wYXltZW50LWRldGFpbHMgbGFiZWwiKSx0PTAsdT0wLGk7bihkb2N1bWVudCkub24oInRoZW1lQnJlYWtwb2ludFBhc3NlZDdTcGlrZXMiLGZ1bmN0aW9uKGkpe3ZhciBoPW4oIi5zZWFyY2gtYm94LnN0b3JlLXNlYXJjaC1ib3giKSxjPW4oIi5oZWFkZXItbGlua3MiKSxzPW4oIi5oZWFkZXItc2VsZWN0b3JzIiksbD1uKCIuZmx5b3V0LWNhcnQtd3JhcHBlciIpO2gucmVtb3ZlQXR0cigic3R5bGUiKTtjLnJlbW92ZUF0dHIoInN0eWxlIik7cy5yZW1vdmVBdHRyKCJzdHlsZSIpO2wucmVtb3ZlQXR0cigic3R5bGUiKTtpLmlzTW9iaWxlUmVzb2x1dGlvbj8oaC5kZXRhY2goKS5hcHBlbmRUbygiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLnNlYXJjaC13cmFwIiksYy5kZXRhY2goKS5hcHBlbmRUbygiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgI2hlYWRlci1saW5rcy1vcGVuZXIiKSxzIT11bmRlZmluZWQmJnMubGVuZ3RoPjA/cy5kZXRhY2goKS5hcHBlbmRUbygiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgI2hlYWRlci1zZWxlY3RvcnMtb3BlbmVyIik6bigiI2hlYWRlci1zZWxlY3RvcnMtb3BlbmVyIikuaGlkZSgpLGwuZGV0YWNoKCkuYXBwZW5kVG8oIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5zaG9wcGluZy1jYXJ0LWxpbmsiKSxlLmRldGFjaCgpLnByZXBlbmRUbygiLm1hc3Rlci13cmFwcGVyLXBhZ2UiKSxmLmRldGFjaCgpLHIuY3NzKCJ3aWR0aCIsIiIpKTooc2V0VGltZW91dChmdW5jdGlvbigpe3Q9MDtyLmVhY2goZnVuY3Rpb24oKXt0PU1hdGgubWF4KHQsbih0aGlzKS5vdXRlcldpZHRoKCkpfSk7ci5jc3MoIndpZHRoIix0KyJweCIpfSwxMDApLGkuaXNJbml0aWFsTG9hZD09PSExJiYoaC5kZXRhY2goKS5hcHBlbmRUbygiLmhlYWRlci1sb3dlciAuY2VudGVyIiksYy5kZXRhY2goKS5hcHBlbmRUbygiLmhlYWRlci1saW5rcy13cmFwcGVyIikscyE9dW5kZWZpbmVkJiZzLmxlbmd0aD4wP3MuZGV0YWNoKCkuYXBwZW5kVG8oIi5oZWFkZXItc2VsZWN0b3JzLXdyYXBwZXIiKTpuKCIjaGVhZGVyLXNlbGVjdG9ycy1vcGVuZXIiKS5zaG93KCksbC5kZXRhY2goKS5hcHBlbmRUbygiLmhlYWRlci1taWRkbGUgLmNlbnRlciIpLGUuZGV0YWNoKCkucHJlcGVuZFRvKCIuaGVhZGVyLXVwcGVyIC5jZW50ZXIiKSxuKCIuc2lkZS0yIikucHJlcGVuZChmKSkpO28uZWFjaChmdW5jdGlvbigpe3U9TWF0aC5tYXgodSxuKHRoaXMpLm91dGVyV2lkdGgoKSl9KTtvLmNzcygid2lkdGgiLHUrInB4Iil9KTtpPW4oIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIikuZmluZCgiLnNob3BwaW5nLWNhcnQtbGluayA+IHNwYW4sICNoZWFkZXItbGlua3Mtb3BlbmVyID4gc3BhbiwgI2hlYWRlci1zZWxlY3RvcnMtb3BlbmVyID4gc3BhbiwgLnNlYXJjaC13cmFwID4gc3BhbiIpO24oIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5tZW51LXRpdGxlLCAucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciAuZmlsdGVycy1idXR0b24sIC5vdmVybGF5T2ZmQ2FudmFzIikub24oImNsaWNrIixmdW5jdGlvbigpe2kubmV4dCgpLnNsaWRlVXAoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bigiLmFkbWluLWhlYWRlci1saW5rcywgLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXItcGFyZW50IikuY3NzKCJ6LWluZGV4IiwiIik7bigiLmhlYWRlciIpLmNzcyh7cG9zaXRpb246IiIsInotaW5kZXgiOiIifSl9LDQwMCl9KTtpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLm5leHQoKTtpLm5leHQoKS5ub3QodCkuc2xpZGVVcCgpO3QuaXMoIjp2aXNpYmxlIik/KHQuc2xpZGVVcCgic2xvdyIpLG4oIi5vdmVybGF5T2ZmQ2FudmFzIikuZmFkZU91dChmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInNob3ciKTtuKCIuYWRtaW4taGVhZGVyLWxpbmtzLCAucmVzcG9uc2l2ZS1uYXYtd3JhcHBlci1wYXJlbnQiKS5jc3MoInotaW5kZXgiLCIiKTtuKCIubW9iaWxlLXN0aWNreS1sb2dvIikubGVuZ3RoPjAmJm4oIi5oZWFkZXIiKS5jc3Moe3Bvc2l0aW9uOiIiLCJ6LWluZGV4IjoiIn0pfSkpOih0LnNsaWRlRG93bigic2xvdyIpLG4oIi5hZG1pbi1oZWFkZXItbGlua3MsIC5yZXNwb25zaXZlLW5hdi13cmFwcGVyLXBhcmVudCIpLmNzcygiei1pbmRleCIsIjEwNzAiKSxuKCIub3ZlcmxheU9mZkNhbnZhcyIpLmFkZENsYXNzKCJzaG93IikuZmFkZUluKCksbigiLm1vYmlsZS1zdGlja3ktbG9nbyIpLmxlbmd0aD4wJiZuKCIuaGVhZGVyIikuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLCJ6LWluZGV4IjoiMTA3MCJ9KSl9KX1mdW5jdGlvbiBmKCl7dmFyIHQ9bigiLnNob3BwaW5nLWNhcnQtbGluayA+IHNwYW4iKSxpPU51bWJlcihuKCIuY2FydC1xdHkiKS5odG1sKCkpO2k+MD90Lmh0bWwoJzxzcGFuIGNsYXNzPSJjYXJ0LXF0eS1tb2JpbGUiPicraSsiPFwvc3Bhbj4iKTp0LmNoaWxkcmVuKCIuY2FydC1xdHktbW9iaWxlIikucmVtb3ZlKCl9ZnVuY3Rpb24gaCgpe24oIi5mb290ZXItYmxvY2sgLnRpdGxlIikuY2xpY2soZnVuY3Rpb24oaSl7dC5nZXRWaWV3UG9ydCgpLndpZHRoPD13aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnQ/bih0aGlzKS5zaWJsaW5ncygiLmxpc3QiKS5zbGlkZVRvZ2dsZSgic2xvdyIpOmkucHJldmVudERlZmF1bHQoKX0pfWZ1bmN0aW9uIGMoKXtpZihuKCIuaGVhZGVyLW1lbnUuY2F0ZWdvcmllcy1pbi1zaWRlLXBhbmVsIikubGVuZ3RoIT09MCl7dmFyIHQ9bigiLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdC13cmFwcGVyID4gLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdCIpLGk9bigiLnRvcC1tZW51ID4gbGkucm9vdC1jYXRlZ29yeS1pdGVtcywgLm1lZ2EtbWVudSA+IGxpLnJvb3QtY2F0ZWdvcnktaXRlbXMsIC5tZWdhLW1lbnUgPiBsaS5jYXRlZ29yeS1tZW51LWl0ZW0gPiAuc3VibGlzdC13cmFwID4gLnN1Ymxpc3QgPiBsaS5yb290LWNhdGVnb3J5LWl0ZW1zIikscj1pLmNsb25lKCEwKTtpZihyLnJlbW92ZUNsYXNzKCJyb290LWNhdGVnb3J5LWl0ZW1zIikuYXBwZW5kVG8odCksbigiLnR3by1jb2x1bW5zLWFyZWEuc2xpZGVyLXJpZ2h0LWNvbHVtbiIpLmxlbmd0aD4wKXQuY3NzKCJkaXNwbGF5IiwiYmxvY2siKTtlbHNlIG4oIi5jYXRlZ29yeS1uYXZpZ2F0aW9uLXRpdGxlIikub24oImNsaWNrIixmdW5jdGlvbigpe3Quc2xpZGVUb2dnbGUoKX0pfX1mdW5jdGlvbiBsKCl7bigiYm9keSIpLm9uKCJjbGljayIsIi5jdXN0b21lci1ibG9ja3MgLnRpdGxlIixmdW5jdGlvbigpe24odGhpcykuaGFzQ2xhc3MoImFjdGl2ZSIpfHxuKCIuY3VzdG9tZXItYmxvY2tzIC50aXRsZSIpLnRvZ2dsZUNsYXNzKCJhY3RpdmUiKTtuKHRoaXMpLnNpYmxpbmdzKCkuaGFzQ2xhc3MoInNob3ciKXx8bigiLmN1c3RvbWVyLWJsb2NrcyAudGl0bGUiKS5zaWJsaW5ncygiLmlubmVyLXdyYXBwZXIiKS50b2dnbGVDbGFzcygic2hvdyIpfSl9ZnVuY3Rpb24gYSgpe24oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWItdGl0bGUiKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7bih0aGlzKS5zaWJsaW5ncygiLmFjY29yZGlvbi10YWItY29udGVudCIpLnNsaWRlVG9nZ2xlKCkuY2xvc2VzdCgiLmFjY29yZGlvbi10YWIiKS50b2dnbGVDbGFzcygiYWN0aXZlIikuc2libGluZ3MoIi5hY2NvcmRpb24tdGFiIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmZpbmQoIi5hY2NvcmRpb24tdGFiLWNvbnRlbnQiKS5zbGlkZVVwKCl9KTtuKCIuc2hvcHBpbmctY2FydC1wYWdlIC5zaGlwcGluZy1yZXN1bHRzIikubGVuZ3RoPjAmJm4oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWIuZXN0aW1hdGUtc2hpcHBpbmcgLmFjY29yZGlvbi10YWItdGl0bGUiKS50cmlnZ2VyKCJjbGljayIpO24oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmNvdXBvbi1ib3giKS5maW5kKCIubWVzc2FnZS1zdWNjZXNzLCAubWVzc2FnZS1mYWlsdXJlIikubGVuZ3RoPjAmJm4oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWIuY291cG9uLWNvZGVzIC5hY2NvcmRpb24tdGFiLXRpdGxlIikudHJpZ2dlcigiY2xpY2siKTtuKCIuc2hvcHBpbmctY2FydC1wYWdlIC5naWZ0Y2FyZC1ib3giKS5maW5kKCIubWVzc2FnZS1zdWNjZXNzLCAubWVzc2FnZS1mYWlsdXJlIikubGVuZ3RoPjAmJm4oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWIuZ2lmdC1jYXJkcyAuYWNjb3JkaW9uLXRhYi10aXRsZSIpLnRyaWdnZXIoImNsaWNrIil9ZnVuY3Rpb24gZSh0KXt2YXIgaT1uKHQpLHI9aS5maW5kKCIjbG9naW4tbW9kYWwtd2luZG93LXN0YXRpYy1yZXNvdXJjZXMiKS5jaGlsZHJlbigpLHU9ci5maWx0ZXIoImxpbmsiKSxmPXIuZmlsdGVyKCJzY3JpcHQiKTt1LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO24oJ2hlYWQgbGlua1tocmVmPSInK3QuYXR0cigiaHJlZiIpKyciXScpLmxlbmd0aD09PTAmJm4oImhlYWQiKS5hcHBlbmQodCl9KTtmLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO24oJ2hlYWQgc2NyaXB0W3NyYz0iJyt0LmF0dHIoInNyYyIpKyciXScpLmxlbmd0aD09PTAmJm4oImhlYWQiKS5hcHBlbmQodCl9KTtpLmZpbmQoIiNsb2dpbi1tb2RhbC13aW5kb3ctc3RhdGljLXJlc291cmNlcyIpLnJlbW92ZSgpO24oIiNsb2dpbi1tb2RhbC13aW5kb3ctb3ZlcmxheSIpLmZhZGVJbigpO24oIiNsb2dpbi1tb2RhbC13aW5kb3ciKS5odG1sKGkpLmNsb3Nlc3QoIi5sb2dpbi1tb2RhbC13aW5kb3ctd3JhcHBlciIpLmZhZGVJbigpfWZ1bmN0aW9uIHYoKXtuKCIuaGVhZGVyLWxpbmtzIC5pY28tbG9naW4ubW9kYWwtbG9naW4iKS5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1uKHRoaXMpO24oImJvZHkiKS5jc3MoIm92ZXJmbG93IiwiaGlkZGVuIikub24oImtleWRvd24ubG9naW5Nb2RhbFdpbmRvdyIsZnVuY3Rpb24odCl7dC53aGljaD09PTI3JiZuKCIubG9naW4tbW9kYWwtd2luZG93LXdyYXBwZXIgPiAuY2xvc2UiKS50cmlnZ2VyKCJjbGljayIpfSk7aWYobigiLmxvZ2luLW1vZGFsLXdpbmRvdy13cmFwcGVyIikubGVuZ3RoPT09MCluKCJib2R5IikuYXBwZW5kKCc8ZGl2IGlkPSJsb2dpbi1tb2RhbC13aW5kb3ctb3ZlcmxheSI+PFwvZGl2PjxkaXYgY2xhc3M9ImxvZ2luLW1vZGFsLXdpbmRvdy13cmFwcGVyIj48c3BhbiBjbGFzcz0iY2xvc2UiPjxcL3NwYW4+PGRpdiBpZD0ibG9naW4tbW9kYWwtd2luZG93Ij48XC9kaXY+PFwvZGl2PicpO2Vsc2V7bigiI2xvZ2luLW1vZGFsLXdpbmRvdy1vdmVybGF5LCAubG9naW4tbW9kYWwtd2luZG93LXdyYXBwZXIiKS5mYWRlSW4oKTtyZXR1cm59bi5hamF4KHt1cmw6aS5hdHRyKCJkYXRhLWxvZ2luVXJsIiksdHlwZToiR0VUIixkYXRhOntpc1BvcHVwOiEwfX0pLmRvbmUoZSkuZmFpbChmdW5jdGlvbigpe24oImJvZHkiKS5jc3MoIm92ZXJmbG93IiwiIik7d2luZG93LmxvY2F0aW9uLmhyZWY9aS5hdHRyKCJkYXRhLWxvZ2luVXJsIil9KX0pO24oImJvZHkiKS5vbigiY2xpY2siLCIjbG9naW4tbW9kYWwtd2luZG93LW92ZXJsYXksIC5sb2dpbi1tb2RhbC13aW5kb3ctd3JhcHBlciA+IC5jbG9zZSIsZnVuY3Rpb24oKXtuKCIjbG9naW4tbW9kYWwtd2luZG93LW92ZXJsYXksIC5sb2dpbi1tb2RhbC13aW5kb3ctd3JhcHBlciIpLmZhZGVPdXQoKTtuKCJib2R5IikuY3NzKCJvdmVyZmxvdyIsIiIpLm9mZigia2V5ZG93bi5sb2dpbk1vZGFsV2luZG93Iil9KTtuKCJib2R5Iikub24oImNsaWNrIiwiLmxvZ2luLW1vZGFsLXdpbmRvdy13cmFwcGVyIC5sb2dpbi1idXR0b24iLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKSxyPWkuc2VyaWFsaXplKCk7bi5hamF4KHt1cmw6aS5hdHRyKCJhY3Rpb24iKSsiP2lzUG9wdXA9dHJ1ZSIsdHlwZTppLmF0dHIoIm1ldGhvZCIpLGRhdGE6cn0pLmRvbmUoZnVuY3Rpb24odCl7dmFyIGk9bih0KTtpLmZpbmQoIiNsb2dpbi1tb2RhbC13aW5kb3ctc3RhdGljLXJlc291cmNlcyIpLmxlbmd0aD4wP2UodCk6d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfSl9KX1mdW5jdGlvbiBvKGkpe3ZhciByPW4oIi5yaWNoLWJsb2ctaG9tZXBhZ2UgLmJsb2ctcG9zdHMiKSxmLGUsdTtpZihyLmxlbmd0aCE9PTAmJihmPSExLGU9ci5jaGlsZHJlbigiLmJsb2ctcG9zdCIpLGUubGVuZ3RoPjEpKXt1PWZ1bmN0aW9uKCl7aWYodC5pc0luVmlld1BvcnQocikmJiFmKXt2YXIgdT1NYXRoLm1pbihpLGUubGVuZ3RoKTtyLnNsaWNrKHtydGw6bigiYm9keSIpLmhhc0NsYXNzKCJydGwiKSxhdXRvcGxheTohMCxpbmZpbml0ZTohMCxwYXVzZU9uSG92ZXI6ITAsYXJyb3dzOiEwLGRvdHM6ITEsc2xpZGVzVG9TY3JvbGw6MSxzbGlkZXNUb1Nob3c6dSxyZXNwb25zaXZlOlt7YnJlYWtwb2ludDoxMDI1LHNldHRpbmdzOntzbGlkZXNUb1Nob3c6MX19XX0pO2Y9ITA7bih3aW5kb3cpLm9mZigic2Nyb2xsLlNldmVuU3Bpa2VzUGF2aWxpb25SaWNoQmxvZ0Nhcm91c2VsIik7bih3aW5kb3cpLm9mZigicmVzaXplLlNldmVuU3Bpa2VzUGF2aWxpb25SaWNoQmxvZ0Nhcm91c2VsIil9fTt1KCk7bih3aW5kb3cpLm9uKCJzY3JvbGwuU2V2ZW5TcGlrZXNQYXZpbGlvblJpY2hCbG9nQ2Fyb3VzZWwiLHUpO24od2luZG93KS5vbigicmVzaXplLlNldmVuU3Bpa2VzUGF2aWxpb25SaWNoQmxvZ0Nhcm91c2VsIix1KX19ZnVuY3Rpb24geSgpe3ZhciBpPW4oIi5wcm9kdWN0LWdyaWQuYmVzdHNlbGxlcnMgLml0ZW0tZ3JpZCIpLHUscjtpZihpLmxlbmd0aCE9PTAmJih1PSExLGkuZmluZCgiLml0ZW0tYm94IikubGVuZ3RoPjEpKXtyPWZ1bmN0aW9uKCl7dC5pc0luVmlld1BvcnQoaSkmJiF1JiYoaS5zbGljayh7cnRsOm4oImJvZHkiKS5oYXNDbGFzcygicnRsIiksYXV0b3BsYXk6ITAsaW5maW5pdGU6ITAscGF1c2VPbkhvdmVyOiEwLGFycm93czohMCxkb3RzOiExLHNsaWRlc1RvU2Nyb2xsOjEsc2xpZGVzVG9TaG93OjJ9KSx1PSEwLG4od2luZG93KS5vZmYoInNjcm9sbC5TZXZlblNwaWtlc1BhdmlsaW9uQmVzdFNlbGxlckNhcm91c2VsIiksbih3aW5kb3cpLm9mZigicmVzaXplLlNldmVuU3Bpa2VzUGF2aWxpb25CZXN0U2VsbGVyQ2Fyb3VzZWwiKSl9O3IoKTtuKHdpbmRvdykub24oInNjcm9sbC5TZXZlblNwaWtlc1BhdmlsaW9uQmVzdFNlbGxlckNhcm91c2VsIixyKTtuKHdpbmRvdykub24oInJlc2l6ZS5TZXZlblNwaWtlc1BhdmlsaW9uQmVzdFNlbGxlckNhcm91c2VsIixyKX19ZnVuY3Rpb24gcCgpe3ZhciB0PW4oIi5yaWNoLWJsb2ctYm9keSAuYmxvZy1zZWFyY2gtYm94Iik7aWYodC5sZW5ndGghPT0wKXt0Lm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe24odGhpcykuYWRkQ2xhc3MoImFjdGl2ZSIpfSk7bihkb2N1bWVudCkub24oImNsaWNrIixmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5jbG9zZXN0KCIuYmxvZy1zZWFyY2gtYm94LCAuYmxvZy1pbnN0YW50LXNlYXJjaCIpLmxlbmd0aD09PTAmJm4oIi5yaWNoLWJsb2ctYm9keSAuYmxvZy1zZWFyY2gtYm94IikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSl9fWZ1bmN0aW9uIHcoKXtuKCIuaGVhZGVyIikub24oIm1vdXNlZW50ZXIiLCIuZmx5b3V0LWNhcnQtd3JhcHBlciIsZnVuY3Rpb24oKXtuKHRoaXMpLmZpbmQoIi5pdGVtIikubGVuZ3RoPjAmJm4oIi5pbnN0YW50U2VhcmNoLCAuYmxvZy1pbnN0YW50LXNlYXJjaCIpLmhpZGUoKX0pO24oIi5jYXRlZ29yeS1uYXZpZ2F0aW9uLWxpc3QgPiBsaSwgLnJvb3QtY2F0ZWdvcnktaXRlbXMiKS5vbigibW91c2VlbnRlciIsZnVuY3Rpb24oKXtuKHRoaXMpLmZpbmQoIi5zdWJsaXN0LXdyYXAiKS5sZW5ndGg+MCYmbigiLmluc3RhbnRTZWFyY2gsIC5ibG9nLWluc3RhbnQtc2VhcmNoIikuaGlkZSgpfSl9ZnVuY3Rpb24gdShpKXt2YXIgZixyO2lmKGkmJm4oIi5mbHlvdXQtY2FydC13cmFwcGVyIC5mbHlvdXQtY2FydCIpLmNzcyh7b3BhY2l0eToiMCIsZGlzcGxheToiYmxvY2sifSksZj10LmdldFZpZXdQb3J0KCkuaGVpZ2h0LHI9bigiLm1pbmktc2hvcHBpbmctY2FydCIpLHIubGVuZ3RoIT09MCl7dmFyIHU9ci5jaGlsZHJlbigiLml0ZW1zIiksZT1yLm9mZnNldCgpLnRvcC1uKHdpbmRvdykuc2Nyb2xsVG9wKCksbz1yLm91dGVySGVpZ2h0KCkscz11Lm91dGVySGVpZ2h0KCksaD1mLWUtKG8tcyktMTA7dS5jc3MoIm1heC1oZWlnaHQiLGgrInB4Iik7dS5wZXJmZWN0U2Nyb2xsYmFyKHtzd2lwZVByb3BhZ2F0aW9uOiExLHdoZWVsU3BlZWQ6MSxzdXBwcmVzc1Njcm9sbFg6ITB9KTtpJiZuKCIuZmx5b3V0LWNhcnQtd3JhcHBlciAuZmx5b3V0LWNhcnQiKS5jc3Moe2Rpc3BsYXk6IiIsb3BhY2l0eToiIn0pfX1mdW5jdGlvbiBiKCl7dSghMCk7bih3aW5kb3cpLm9uKCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3UoITApfSwyMDApfSk7bigiLmhlYWRlciIpLm9uKCJtb3VzZWVudGVyIiwiLmZseW91dC1jYXJ0LXdyYXBwZXIiLGZ1bmN0aW9uKCl7dC5nZXRWaWV3UG9ydCgpLndpZHRoPndpbmRvdy50aGVtZVNldHRpbmdzLnRoZW1lQnJlYWtwb2ludCYmc2V0VGltZW91dCh1LDIwMCl9KTtuKCIucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciIpLm9uKCJjbGljayIsIi5zaG9wcGluZy1jYXJ0LWxpbmsiLGZ1bmN0aW9uKCl7c2V0VGltZW91dCh1LDgwMCl9KX1mdW5jdGlvbiBrKCl7bigiYm9keSIpLm9uKCJjbGljayIsIi5xdWlja1ZpZXdXaW5kb3cgLmFkZC10by1jYXJ0LWJ1dHRvbiIsZnVuY3Rpb24oKXtuKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoKTtuKCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikuaGlkZSgpfSl9ZnVuY3Rpb24gZCgpe3ZhciB0PW4oIi5wcm9kdWN0LWRldGFpbHMtcGFnZSAucHJvZHVjdC1jb2xsYXRlcmFsIikscj10LmNoaWxkcmVuKCksdTtpZihyLmxlbmd0aD09MCl7dC5oaWRlKCk7cmV0dXJufWZvcih1PSEwLGk9MDtpPHIubGVuZ3RoO2krKylpZihuKHJbaV0pLmlzKCI6dmlzaWJsZSIpPT0hMCl7dT0hMTticmVha311PT0hMCYmdC5oaWRlKCl9ZnVuY3Rpb24gZygpe2lmKCF0LmlzTW9iaWxlKCkmJiEodC5nZXRWaWV3UG9ydCgpLndpZHRoPD13aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnQpKXtuKCIuaGVhZGVyLXNlbGVjdG9ycyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe24odGhpcykuYWRkQ2xhc3MoImFjdGl2ZSIpfSkub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7bih0aGlzKS5maW5kKCJzZWxlY3QiKS5pcygiOmZvY3VzIil8fG4oIi5oZWFkZXItc2VsZWN0b3JzIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSkub24oImNsaWNrIixmdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfSk7dmFyIGk9ZnVuY3Rpb24oKXtuKCIuaGVhZGVyLXNlbGVjdG9ycyIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX07bihkb2N1bWVudCkub24oImNsaWNrIixpKTtuKCIuaGVhZGVyLWxpbmtzLXdyYXBwZXIsIC5oZWFkZXItbWlkZGxlLCAuaGVhZGVyLWxvd2VyIikub24oIm1vdXNlZW50ZXIiLGkpfX1mdW5jdGlvbiBudCgpe24oIi5zdGlja3ktZmx5b3V0ID4gbGkgPiAuc3VibGlzdC13cmFwID4gLnN1Ymxpc3QiKS5jc3MoeyJtaW4taGVpZ2h0IjpuKCIuc3RpY2t5LWZseW91dCIpLmhlaWdodCgpKyJweCJ9KX1mdW5jdGlvbiB0dCgpe3ZhciBpPW4oIi5zaGlwcGluZy1hZGRyZXNzLXBhZ2UgI1BpY2tVcEluU3RvcmUiKSx0PW4oIi5uZXctc2hpcHBpbmctYWRkcmVzcyAudGl0bGUsIC5lZGl0LWFkZHJlc3MiKSxyPW4oIi5zaGlwcGluZy1hZGRyZXNzLXBhZ2UgLmJ1dHRvbnMiKTtpLmlzKCI6Y2hlY2tlZCIpPyh0LmhpZGUoKSxyLmFkZENsYXNzKCJjZW50ZXJlZCIpKTp0LnNob3coKTtuKGkpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt0LnRvZ2dsZSgpO3IudG9nZ2xlQ2xhc3MoImNlbnRlcmVkIil9KX13aW5kb3cudGhlbWVTZXR0aW5ncz17dGhlbWVCcmVha3BvaW50OjEwMjQsaXNBY2NvcmRpb25NZW51OiExfTtuKGRvY3VtZW50KS5vbigiZmx5b3V0Q2FydFJlbG9hZGVkRXZlbnQiLGYpO24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGk9e3RoZW1lQnJlYWtwb2ludDp3aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnQsaXNFbmFibGVkOiEwLGlzU2VhcmNoQm94RGV0YWNoYWJsZTohMSxpc0hlYWRlckxpbmtzV3JhcHBlckRldGFjaGFibGU6ITEsZG9lc0Rlc2t0b3BIZWFkZXJNZW51U3RpY2s6ITEsZG9lc1Njcm9sbEFmdGVyRmlsdHJhdGlvbjohMCxkb2VzU3VibGlzdEhhc0luZGVudDohMCxkaXNwbGF5R29Ub1RvcDohMCxoYXNTdGlja3lOYXY6ITAsc2VsZWN0b3JzOnttZW51VGl0bGU6Ii5tZW51LXRpdGxlIixoZWFkZXJNZW51OiIuaGVhZGVyLW1lbnUiLGNsb3NlTWVudToiLmNsb3NlLW1lbnUiLHN1Ymxpc3Q6Ii5oZWFkZXItbWVudSAuc3VibGlzdCIsb3ZlcmxheU9mZkNhbnZhczoiLm92ZXJsYXlPZmZDYW52YXMiLHdpdGhTdWJjYXRlZ29yaWVzOiIud2l0aC1zdWJjYXRlZ29yaWVzIixmaWx0ZXJzQ29udGFpbmVyOiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIixmaWx0ZXJzT3BlbmVyOiIuZmlsdGVycy1idXR0b24gc3BhbiIsc2VhcmNoQm94T3BlbmVyOiIiLHNlYXJjaEJveDoiIixzZWFyY2hCb3hCZWZvcmU6IiIsbmF2V3JhcHBlcjoiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIiLG5hdldyYXBwZXJQYXJlbnQ6Ii5yZXNwb25zaXZlLW5hdi13cmFwcGVyLXBhcmVudCIsaGVhZGVyTGlua3NPcGVuZXI6IiIsaGVhZGVyTGlua3NXcmFwcGVyOiIiLGhlYWRlckxpbmtzV3JhcHBlck1vYmlsZUluc2VydEFmdGVyOiIiLGhlYWRlckxpbmtzV3JhcHBlckRlc2t0b3BQcmVwZW5kVG86IiIsc2hvcHBpbmdDYXJ0TGluazoiLnNob3BwaW5nLWNhcnQtbGluayJ9fSx0O3MoKTtmKCk7aCgpO2MoKTtsKCk7YSgpO3YoKTtwKCk7dygpO2IoKTtrKCk7ZCgpO2coKTtudCgpO3R0KCk7dD1uKCIucHJvZHVjdC1ncmlkLmJlc3RzZWxsZXJzIik7dC5maW5kKCIuaXRlbS1ib3giKS5sZW5ndGg8MT8odC5yZW1vdmUoKSxuKCIucmljaC1ibG9nLWhvbWVwYWdlIikuYWRkQ2xhc3MoImZ1bGwtd2lkdGgiKSxvKDMpKTooeSgpLG8oMSkpO24oZG9jdW1lbnQpLm9uKCJub3BBamF4Q2FydE1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdTaG93biBub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCIsZnVuY3Rpb24oKXt2YXIgdD1uKCIuYXR0cmlidXRlcyBkdCIpLGk9MDt0LmVhY2goZnVuY3Rpb24oKXtpPU1hdGgubWF4KGksbih0aGlzKS5vdXRlcldpZHRoKCkpfSk7dC5jc3MoIndpZHRoIixpKyJweCIpO3QuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykub3V0ZXJXaWR0aCghMCkrbih0aGlzKS5uZXh0KCkub3V0ZXJXaWR0aCghMCk7aWYodD4yODApcmV0dXJuIG4oIi5hdHRyaWJ1dGVzIGRkIikuY3NzKHtmbG9hdDoibm9uZSIsY2xlYXI6ImJvdGgifSksITF9KX0pO3IuaW5pdFJlc3BvbnNpdmVUaGVtZShpKX0pfSkoalF1ZXJ5LHNldmVuU3Bpa2VzQ29yZSxzZXZlblNwaWtlc0V4KTsNCg==","CacheKey":"Izumb2Il6pRC4VgIbT6wqsv9crw"}