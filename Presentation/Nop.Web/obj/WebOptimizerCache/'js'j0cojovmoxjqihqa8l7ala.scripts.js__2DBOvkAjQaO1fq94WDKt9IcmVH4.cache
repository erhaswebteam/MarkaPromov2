{"Headers":{"Last-Modified":"Wed, 17 Apr 2024 12:52:18 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLw0KIWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiOyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUuZG9jdW1lbnQ/dChlLCEwKTpmdW5jdGlvbihlKXtpZighZS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gdChlKX06dChlKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oQyxlKXsidXNlIHN0cmljdCI7dmFyIHQ9W10scj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yscz10LnNsaWNlLGc9dC5mbGF0P2Z1bmN0aW9uKGUpe3JldHVybiB0LmZsYXQuY2FsbChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29uY2F0LmFwcGx5KFtdLGUpfSx1PXQucHVzaCxpPXQuaW5kZXhPZixuPXt9LG89bi50b1N0cmluZyx2PW4uaGFzT3duUHJvcGVydHksYT12LnRvU3RyaW5nLGw9YS5jYWxsKE9iamVjdCkseT17fSxtPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYibnVtYmVyIiE9dHlwZW9mIGUubm9kZVR5cGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlLml0ZW19LHg9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30sRT1DLmRvY3VtZW50LGM9e3R5cGU6ITAsc3JjOiEwLG5vbmNlOiEwLG5vTW9kdWxlOiEwfTtmdW5jdGlvbiBiKGUsdCxuKXt2YXIgcixpLG89KG49bnx8RSkuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aWYoby50ZXh0PWUsdClmb3IociBpbiBjKShpPXRbcl18fHQuZ2V0QXR0cmlidXRlJiZ0LmdldEF0dHJpYnV0ZShyKSkmJm8uc2V0QXR0cmlidXRlKHIsaSk7bi5oZWFkLmFwcGVuZENoaWxkKG8pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gbnVsbD09ZT9lKyIiOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/bltvLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX12YXIgZj0iMy42LjAiLFM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFMuZm4uaW5pdChlLHQpfTtmdW5jdGlvbiBwKGUpe3ZhciB0PSEhZSYmImxlbmd0aCJpbiBlJiZlLmxlbmd0aCxuPXcoZSk7cmV0dXJuIW0oZSkmJiF4KGUpJiYoImFycmF5Ij09PW58fDA9PT10fHwibnVtYmVyIj09dHlwZW9mIHQmJjA8dCYmdC0xIGluIGUpfVMuZm49Uy5wcm90b3R5cGU9e2pxdWVyeTpmLGNvbnN0cnVjdG9yOlMsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBzLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9zLmNhbGwodGhpcyk6ZTwwP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PVMubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBTLmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLm1hcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQsZSl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHMuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXZlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLmdyZXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybih0KzEpJTJ9KSl9LG9kZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhTLmdyZXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybiB0JTJ9KSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKGU8MD90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjaygwPD1uJiZuPHQ/W3RoaXNbbl1dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOnUsc29ydDp0LnNvcnQsc3BsaWNlOnQuc3BsaWNlfSxTLmV4dGVuZD1TLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxhPWFyZ3VtZW50c1swXXx8e30scz0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBhJiYobD1hLGE9YXJndW1lbnRzW3NdfHx7fSxzKyspLCJvYmplY3QiPT10eXBlb2YgYXx8bShhKXx8KGE9e30pLHM9PT11JiYoYT10aGlzLHMtLSk7czx1O3MrKylpZihudWxsIT0oZT1hcmd1bWVudHNbc10pKWZvcih0IGluIGUpcj1lW3RdLCJfX3Byb3RvX18iIT09dCYmYSE9PXImJihsJiZyJiYoUy5pc1BsYWluT2JqZWN0KHIpfHwoaT1BcnJheS5pc0FycmF5KHIpKSk/KG49YVt0XSxvPWkmJiFBcnJheS5pc0FycmF5KG4pP1tdOml8fFMuaXNQbGFpbk9iamVjdChuKT9uOnt9LGk9ITEsYVt0XT1TLmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihhW3RdPXIpKTtyZXR1cm4gYX0sUy5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKGYrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4hKCFlfHwiW29iamVjdCBPYmplY3RdIiE9PW8uY2FsbChlKSkmJighKHQ9cihlKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihuPXYuY2FsbCh0LCJjb25zdHJ1Y3RvciIpJiZ0LmNvbnN0cnVjdG9yKSYmYS5jYWxsKG4pPT09bCl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH0sZ2xvYmFsRXZhbDpmdW5jdGlvbihlLHQsbil7YihlLHtub25jZTp0JiZ0Lm5vbmNlfSxuKX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihwKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKHAoT2JqZWN0KGUpKT9TLm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTp1LmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6aS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxvPWUubGVuZ3RoLGE9IW47aTxvO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLGE9W107aWYocChlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtyZXR1cm4gZyhhKX0sZ3VpZDoxLHN1cHBvcnQ6eX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihTLmZuW1N5bWJvbC5pdGVyYXRvcl09dFtTeW1ib2wuaXRlcmF0b3JdKSxTLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7blsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgZD1mdW5jdGlvbihuKXt2YXIgZSxkLGIsbyxpLGgsZixnLHcsdSxsLFQsQyxhLEUsdixzLGMseSxTPSJzaXp6bGUiKzEqbmV3IERhdGUscD1uLmRvY3VtZW50LGs9MCxyPTAsbT11ZSgpLHg9dWUoKSxBPXVlKCksTj11ZSgpLGo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihsPSEwKSwwfSxEPXt9Lmhhc093blByb3BlcnR5LHQ9W10scT10LnBvcCxMPXQucHVzaCxIPXQucHVzaCxPPXQuc2xpY2UsUD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sUj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLEk9Iig/OlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitNKyI/fFxcXFxbXlxcclxcblxcZl18W1xcdy1dfFteXDAtXFx4N2ZdKSsiLFc9IlxcWyIrTSsiKigiK0krIikoPzoiK00rIiooWypeJHwhfl0/PSkiK00rIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitJKyIpKXwpIitNKyIqXFxdIixGPSI6KCIrSSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrVysiKSopfC4qKVxcKXwpIixCPW5ldyBSZWdFeHAoTSsiKyIsImciKSwkPW5ldyBSZWdFeHAoIl4iK00rIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTSsiKyQiLCJnIiksXz1uZXcgUmVnRXhwKCJeIitNKyIqLCIrTSsiKiIpLHo9bmV3IFJlZ0V4cCgiXiIrTSsiKihbPit+XXwiK00rIikiK00rIioiKSxVPW5ldyBSZWdFeHAoTSsifD4iKSxYPW5ldyBSZWdFeHAoRiksVj1uZXcgUmVnRXhwKCJeIitJKyIkIiksRz17SUQ6bmV3IFJlZ0V4cCgiXiMoIitJKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK0krIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK0krInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitXKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrRiksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitNKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitNKyIqKD86KFsrLV18KSIrTSsiKihcXGQrKXwpKSIrTSsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrUisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK00rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTSsiKigoPzotXFxkKT9cXGQqKSIrTSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWT0vSFRNTCQvaSxRPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksSj0vXmhcZCQvaSxLPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxaPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sZWU9L1srfl0vLHRlPW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitNKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxuZT1mdW5jdGlvbihlLHQpe3ZhciBuPSIweCIrZS5zbGljZSgxKS02NTUzNjtyZXR1cm4gdHx8KG48MD9TdHJpbmcuZnJvbUNoYXJDb2RlKG4rNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUobj4+MTB8NTUyOTYsMTAyMyZufDU2MzIwKSl9LHJlPS8oW1wwLVx4MWZceDdmXXxeLT9cZCl8Xi0kfFteXDAtXHgxZlx4N2YtXHVGRkZGXHctXS9nLGllPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/IlwwIj09PWU/Ilx1ZmZmZCI6ZS5zbGljZSgwLC0xKSsiXFwiK2UuY2hhckNvZGVBdChlLmxlbmd0aC0xKS50b1N0cmluZygxNikrIiAiOiJcXCIrZX0sb2U9ZnVuY3Rpb24oKXtUKCl9LGFlPWJlKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmImZpZWxkc2V0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKX0se2RpcjoicGFyZW50Tm9kZSIsbmV4dDoibGVnZW5kIn0pO3RyeXtILmFwcGx5KHQ9Ty5jYWxsKHAuY2hpbGROb2RlcykscC5jaGlsZE5vZGVzKSx0W3AuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe0g9e2FwcGx5OnQubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7TC5hcHBseShlLE8uY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sZW5ndGgscj0wO3doaWxlKGVbbisrXT10W3IrK10pO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIHNlKHQsZSxuLHIpe3ZhciBpLG8sYSxzLHUsbCxjLGY9ZSYmZS5vd25lckRvY3VtZW50LHA9ZT9lLm5vZGVUeXBlOjk7aWYobj1ufHxbXSwic3RyaW5nIiE9dHlwZW9mIHR8fCF0fHwxIT09cCYmOSE9PXAmJjExIT09cClyZXR1cm4gbjtpZighciYmKFQoZSksZT1lfHxDLEUpKXtpZigxMSE9PXAmJih1PVouZXhlYyh0KSkpaWYoaT11WzFdKXtpZig5PT09cCl7aWYoIShhPWUuZ2V0RWxlbWVudEJ5SWQoaSkpKXJldHVybiBuO2lmKGEuaWQ9PT1pKXJldHVybiBuLnB1c2goYSksbn1lbHNlIGlmKGYmJihhPWYuZ2V0RWxlbWVudEJ5SWQoaSkpJiZ5KGUsYSkmJmEuaWQ9PT1pKXJldHVybiBuLnB1c2goYSksbn1lbHNle2lmKHVbMl0pcmV0dXJuIEguYXBwbHkobixlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpKSxuO2lmKChpPXVbM10pJiZkLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpKSksbn1pZihkLnFzYSYmIU5bdCsiICJdJiYoIXZ8fCF2LnRlc3QodCkpJiYoMSE9PXB8fCJvYmplY3QiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYoYz10LGY9ZSwxPT09cCYmKFUudGVzdCh0KXx8ei50ZXN0KHQpKSl7KGY9ZWUudGVzdCh0KSYmeWUoZS5wYXJlbnROb2RlKXx8ZSk9PT1lJiZkLnNjb3BlfHwoKHM9ZS5nZXRBdHRyaWJ1dGUoImlkIikpP3M9cy5yZXBsYWNlKHJlLGllKTplLnNldEF0dHJpYnV0ZSgiaWQiLHM9UykpLG89KGw9aCh0KSkubGVuZ3RoO3doaWxlKG8tLSlsW29dPShzPyIjIitzOiI6c2NvcGUiKSsiICIreGUobFtvXSk7Yz1sLmpvaW4oIiwiKX10cnl7cmV0dXJuIEguYXBwbHkobixmLnF1ZXJ5U2VsZWN0b3JBbGwoYykpLG59Y2F0Y2goZSl7Tih0LCEwKX1maW5hbGx5e3M9PT1TJiZlLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBnKHQucmVwbGFjZSgkLCIkMSIpLGUsbixyKX1mdW5jdGlvbiB1ZSgpe3ZhciByPVtdO3JldHVybiBmdW5jdGlvbiBlKHQsbil7cmV0dXJuIHIucHVzaCh0KyIgIik+Yi5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbci5zaGlmdCgpXSxlW3QrIiAiXT1ufX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gZVtTXT0hMCxlfWZ1bmN0aW9uIGNlKGUpe3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBmZShlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxyPW4ubGVuZ3RoO3doaWxlKHItLSliLmF0dHJIYW5kbGVbbltyXV09dH1mdW5jdGlvbiBwZShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJmUuc291cmNlSW5kZXgtdC5zb3VyY2VJbmRleDtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmUudHlwZT09PXR9fWZ1bmN0aW9uIGhlKG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT10fHwiYnV0dG9uIj09PXQpJiZlLnR5cGU9PT1ufX1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImZvcm0iaW4gZT9lLnBhcmVudE5vZGUmJiExPT09ZS5kaXNhYmxlZD8ibGFiZWwiaW4gZT8ibGFiZWwiaW4gZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5kaXNhYmxlZD09PXQ6ZS5kaXNhYmxlZD09PXQ6ZS5pc0Rpc2FibGVkPT09dHx8ZS5pc0Rpc2FibGVkIT09IXQmJmFlKGUpPT09dDplLmRpc2FibGVkPT09dDoibGFiZWwiaW4gZSYmZS5kaXNhYmxlZD09PXR9fWZ1bmN0aW9uIHZlKGEpe3JldHVybiBsZShmdW5jdGlvbihvKXtyZXR1cm4gbz0rbyxsZShmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShbXSxlLmxlbmd0aCxvKSxpPXIubGVuZ3RoO3doaWxlKGktLSllW249cltpXV0mJihlW25dPSEodFtuXT1lW25dKSl9KX0pfWZ1bmN0aW9uIHllKGUpe3JldHVybiBlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9Zm9yKGUgaW4gZD1zZS5zdXBwb3J0PXt9LGk9c2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5uYW1lc3BhY2VVUkksbj1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIVkudGVzdCh0fHxuJiZuLm5vZGVOYW1lfHwiSFRNTCIpfSxUPXNlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lP2Uub3duZXJEb2N1bWVudHx8ZTpwO3JldHVybiByIT1DJiY5PT09ci5ub2RlVHlwZSYmci5kb2N1bWVudEVsZW1lbnQmJihhPShDPXIpLmRvY3VtZW50RWxlbWVudCxFPSFpKEMpLHAhPUMmJihuPUMuZGVmYXVsdFZpZXcpJiZuLnRvcCE9PW4mJihuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLG9lLCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsb2UpKSxkLnNjb3BlPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGVuZENoaWxkKGUpLmFwcGVuZENoaWxkKEMuY3JlYXRlRWxlbWVudCgiZGl2IikpLCJ1bmRlZmluZWQiIT10eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsJiYhZS5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSksZC5hdHRyaWJ1dGVzPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT0iaSIsIWUuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLGQuZ2V0RWxlbWVudHNCeVRhZ05hbWU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQoQy5jcmVhdGVDb21tZW50KCIiKSksIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KSxkLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9Sy50ZXN0KEMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksZC5nZXRCeUlkPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGVuZENoaWxkKGUpLmlkPVMsIUMuZ2V0RWxlbWVudHNCeU5hbWV8fCFDLmdldEVsZW1lbnRzQnlOYW1lKFMpLmxlbmd0aH0pLGQuZ2V0QnlJZD8oYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmRSl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciBuPWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIHQmJnQudmFsdWU9PT1ufX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbixyLGksbz10LmdldEVsZW1lbnRCeUlkKGUpO2lmKG8pe2lmKChuPW8uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJm4udmFsdWU9PT1lKXJldHVybltvXTtpPXQuZ2V0RWxlbWVudHNCeU5hbWUoZSkscj0wO3doaWxlKG89aVtyKytdKWlmKChuPW8uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJm4udmFsdWU9PT1lKXJldHVybltvXX1yZXR1cm5bXX19KSxiLmZpbmQuVEFHPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTpkLnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6dm9pZCAwfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiI9PT1lKXt3aGlsZShuPW9baSsrXSkxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxiLmZpbmQuQ0xBU1M9ZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZFKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSl9LHM9W10sdj1bXSwoZC5xc2E9Sy50ZXN0KEMucXVlcnlTZWxlY3RvckFsbCkpJiYoY2UoZnVuY3Rpb24oZSl7dmFyIHQ7YS5hcHBlbmRDaGlsZChlKS5pbm5lckhUTUw9IjxhIGlkPSciK1MrIic+PC9hPjxzZWxlY3QgaWQ9JyIrUysiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZ2LnB1c2goIlsqXiRdPSIrTSsiKig/OicnfFwiXCIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHx2LnB1c2goIlxcWyIrTSsiKig/OnZhbHVlfCIrUisiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK1MrIi1dIikubGVuZ3RofHx2LnB1c2goIn49IiksKHQ9Qy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKSxlLmFwcGVuZENoaWxkKHQpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHx2LnB1c2goIlxcWyIrTSsiKm5hbWUiK00rIio9IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHx2LnB1c2goIjpjaGVja2VkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrUysiKyoiKS5sZW5ndGh8fHYucHVzaCgiLiMuK1srfl0iKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKSx2LnB1c2goIltcXHJcXG5cXGZdIil9KSxjZShmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+Ijt2YXIgdD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZ2LnB1c2goIm5hbWUiK00rIipbKl4kfCF+XT89IiksMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGgmJnYucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLmFwcGVuZENoaWxkKGUpLmRpc2FibGVkPSEwLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjpkaXNhYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGUucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHYucHVzaCgiLC4qOiIpfSkpLChkLm1hdGNoZXNTZWxlY3Rvcj1LLnRlc3QoYz1hLm1hdGNoZXN8fGEud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxhLm1vek1hdGNoZXNTZWxlY3Rvcnx8YS5vTWF0Y2hlc1NlbGVjdG9yfHxhLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmNlKGZ1bmN0aW9uKGUpe2QuZGlzY29ubmVjdGVkTWF0Y2g9Yy5jYWxsKGUsIioiKSxjLmNhbGwoZSwiW3MhPScnXTp4Iikscy5wdXNoKCIhPSIsRil9KSx2PXYubGVuZ3RoJiZuZXcgUmVnRXhwKHYuam9pbigifCIpKSxzPXMubGVuZ3RoJiZuZXcgUmVnRXhwKHMuam9pbigifCIpKSx0PUsudGVzdChhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx5PXR8fEsudGVzdChhLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LGo9dD9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBsPSEwLDA7dmFyIG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIG58fCgxJihuPShlLm93bmVyRG9jdW1lbnR8fGUpPT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhZC5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1uP2U9PUN8fGUub3duZXJEb2N1bWVudD09cCYmeShwLGUpPy0xOnQ9PUN8fHQub3duZXJEb2N1bWVudD09cCYmeShwLHQpPzE6dT9QKHUsZSktUCh1LHQpOjA6NCZuPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBsPSEwLDA7dmFyIG4scj0wLGk9ZS5wYXJlbnROb2RlLG89dC5wYXJlbnROb2RlLGE9W2VdLHM9W3RdO2lmKCFpfHwhbylyZXR1cm4gZT09Qz8tMTp0PT1DPzE6aT8tMTpvPzE6dT9QKHUsZSktUCh1LHQpOjA7aWYoaT09PW8pcmV0dXJuIHBlKGUsdCk7bj1lO3doaWxlKG49bi5wYXJlbnROb2RlKWEudW5zaGlmdChuKTtuPXQ7d2hpbGUobj1uLnBhcmVudE5vZGUpcy51bnNoaWZ0KG4pO3doaWxlKGFbcl09PT1zW3JdKXIrKztyZXR1cm4gcj9wZShhW3JdLHNbcl0pOmFbcl09PXA/LTE6c1tyXT09cD8xOjB9KSxDfSxzZS5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHNlKGUsbnVsbCxudWxsLHQpfSxzZS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtpZihUKGUpLGQubWF0Y2hlc1NlbGVjdG9yJiZFJiYhTlt0KyIgIl0mJighc3x8IXMudGVzdCh0KSkmJighdnx8IXYudGVzdCh0KSkpdHJ5e3ZhciBuPWMuY2FsbChlLHQpO2lmKG58fGQuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChlKXtOKHQsITApfXJldHVybiAwPHNlKHQsQyxudWxsLFtlXSkubGVuZ3RofSxzZS5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT1DJiZUKGUpLHkoZSx0KX0sc2UuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT1DJiZUKGUpO3ZhciBuPWIuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLHI9biYmRC5jYWxsKGIuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP24oZSx0LCFFKTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PXI/cjpkLmF0dHJpYnV0ZXN8fCFFP2UuZ2V0QXR0cmlidXRlKHQpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0sc2UuZXNjYXBlPWZ1bmN0aW9uKGUpe3JldHVybihlKyIiKS5yZXBsYWNlKHJlLGllKX0sc2UuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2UpfSxzZS51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LG49W10scj0wLGk9MDtpZihsPSFkLmRldGVjdER1cGxpY2F0ZXMsdT0hZC5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydChqKSxsKXt3aGlsZSh0PWVbaSsrXSl0PT09ZVtpXSYmKHI9bi5wdXNoKGkpKTt3aGlsZShyLS0pZS5zcGxpY2UobltyXSwxKX1yZXR1cm4gdT1udWxsLGV9LG89c2UuZ2V0VGV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPSIiLHI9MCxpPWUubm9kZVR5cGU7aWYoaSl7aWYoMT09PWl8fDk9PT1pfHwxMT09PWkpe2lmKCJzdHJpbmciPT10eXBlb2YgZS50ZXh0Q29udGVudClyZXR1cm4gZS50ZXh0Q29udGVudDtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpbis9byhlKX1lbHNlIGlmKDM9PT1pfHw0PT09aSlyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSB3aGlsZSh0PWVbcisrXSluKz1vKHQpO3JldHVybiBufSwoYj1zZS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpsZSxtYXRjaDpHLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2UodGUsbmUpLGVbM109KGVbM118fGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKHRlLG5lKSwifj0iPT09ZVsyXSYmKGVbM109IiAiK2VbM10rIiAiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8c2UuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooImV2ZW4iPT09ZVszXXx8Im9kZCI9PT1lWzNdKSksZVs1XT0rKGVbN10rZVs4XXx8Im9kZCI9PT1lWzNdKSk6ZVszXSYmc2UuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIEcuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8IiI6biYmWC50ZXN0KG4pJiYodD1oKG4sITApKSYmKHQ9bi5pbmRleE9mKCIpIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9bVtlKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrTSsiKSIrZSsiKCIrTSsifCQpIikpJiZtKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9c2UuYXR0cihlLG4pO3JldHVybiBudWxsPT10PyIhPSI9PT1yOiFyfHwodCs9IiIsIj0iPT09cj90PT09aToiIT0iPT09cj90IT09aToiXj0iPT09cj9pJiYwPT09dC5pbmRleE9mKGkpOiIqPSI9PT1yP2kmJi0xPHQuaW5kZXhPZihpKToiJD0iPT09cj9pJiZ0LnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT1yPy0xPCgiICIrdC5yZXBsYWNlKEIsIiAiKSsiICIpLmluZGV4T2YoaSk6Inw9Ij09PXImJih0PT09aXx8dC5zbGljZSgwLGkubGVuZ3RoKzEpPT09aSsiLSIpKX19LENISUxEOmZ1bmN0aW9uKGgsZSx0LGcsdil7dmFyIHk9Im50aCIhPT1oLnNsaWNlKDAsMyksbT0ibGFzdCIhPT1oLnNsaWNlKC00KSx4PSJvZi10eXBlIj09PWU7cmV0dXJuIDE9PT1nJiYwPT09dj9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsPXkhPT1tPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsYz1lLnBhcmVudE5vZGUsZj14JiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscD0hbiYmIXgsZD0hMTtpZihjKXtpZih5KXt3aGlsZShsKXthPWU7d2hpbGUoYT1hW2xdKWlmKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSlyZXR1cm4hMTt1PWw9Im9ubHkiPT09aCYmIXUmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYodT1bbT9jLmZpcnN0Q2hpbGQ6Yy5sYXN0Q2hpbGRdLG0mJnApe2Q9KHM9KHI9KGk9KG89KGE9YylbU118fChhW1NdPXt9KSlbYS51bmlxdWVJRF18fChvW2EudW5pcXVlSURdPXt9KSlbaF18fFtdKVswXT09PWsmJnJbMV0pJiZyWzJdLGE9cyYmYy5jaGlsZE5vZGVzW3NdO3doaWxlKGE9KytzJiZhJiZhW2xdfHwoZD1zPTApfHx1LnBvcCgpKWlmKDE9PT1hLm5vZGVUeXBlJiYrK2QmJmE9PT1lKXtpW2hdPVtrLHMsZF07YnJlYWt9fWVsc2UgaWYocCYmKGQ9cz0ocj0oaT0obz0oYT1lKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSksITE9PT1kKXdoaWxlKGE9KytzJiZhJiZhW2xdfHwoZD1zPTApfHx1LnBvcCgpKWlmKCh4P2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWY6MT09PWEubm9kZVR5cGUpJiYrK2QmJihwJiYoKGk9KG89YVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXT1bayxkXSksYT09PWUpKWJyZWFrO3JldHVybihkLT12KT09PWd8fGQlZz09MCYmMDw9ZC9nfX19LFBTRVVETzpmdW5jdGlvbihlLG8pe3ZhciB0LGE9Yi5wc2V1ZG9zW2VdfHxiLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8c2UuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gYVtTXT9hKG8pOjE8YS5sZW5ndGg/KHQ9W2UsZSwiIixvXSxiLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9sZShmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShlLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1QKGUscltpXSldPSEodFtuXT1yW2ldKX0pOmZ1bmN0aW9uKGUpe3JldHVybiBhKGUsMCx0KX0pOmF9fSxwc2V1ZG9zOntub3Q6bGUoZnVuY3Rpb24oZSl7dmFyIHI9W10saT1bXSxzPWYoZS5yZXBsYWNlKCQsIiQxIikpO3JldHVybiBzW1NdP2xlKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG89cyhlLG51bGwscixbXSksYT1lLmxlbmd0aDt3aGlsZShhLS0pKGk9b1thXSkmJihlW2FdPSEodFthXT1pKSl9KTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHJbMF09ZSxzKHIsbnVsbCxuLGkpLHJbMF09bnVsbCwhaS5wb3AoKX19KSxoYXM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAwPHNlKHQsZSkubGVuZ3RofX0pLGNvbnRhaW5zOmxlKGZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZSh0ZSxuZSksZnVuY3Rpb24oZSl7cmV0dXJuLTE8KGUudGV4dENvbnRlbnR8fG8oZSkpLmluZGV4T2YodCl9fSksbGFuZzpsZShmdW5jdGlvbihuKXtyZXR1cm4gVi50ZXN0KG58fCIiKXx8c2UuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UodGUsbmUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oZSl7dmFyIHQ7ZG97aWYodD1FP2UubGFuZzplLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8ZS5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4odD10LnRvTG93ZXJDYXNlKCkpPT09bnx8MD09PXQuaW5kZXhPZihuKyItIil9d2hpbGUoKGU9ZS5wYXJlbnROb2RlKSYmMT09PWUubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihlKXt2YXIgdD1uLmxvY2F0aW9uJiZuLmxvY2F0aW9uLmhhc2g7cmV0dXJuIHQmJnQuc2xpY2UoMSk9PT1lLmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09YX0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1DLmFjdGl2ZUVsZW1lbnQmJighQy5oYXNGb2N1c3x8Qy5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpnZSghMSksZGlzYWJsZWQ6Z2UoITApLGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYhIWUuY2hlY2tlZHx8Im9wdGlvbiI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFiLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gSi50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gUS50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PWUudHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDp2ZShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6dmUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOnZlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46dmUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6dmUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDp2ZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6dDxuP3Q6bjswPD0tLXI7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1iLnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWIucHNldWRvc1tlXT1kZShlKTtmb3IoZSBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWIucHNldWRvc1tlXT1oZShlKTtmdW5jdGlvbiBtZSgpe31mdW5jdGlvbiB4ZShlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9IiI7dDxuO3QrKylyKz1lW3RdLnZhbHVlO3JldHVybiByfWZ1bmN0aW9uIGJlKHMsZSx0KXt2YXIgdT1lLmRpcixsPWUubmV4dCxjPWx8fHUsZj10JiYicGFyZW50Tm9kZSI9PT1jLHA9cisrO3JldHVybiBlLmZpcnN0P2Z1bmN0aW9uKGUsdCxuKXt3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpcmV0dXJuIHMoZSx0LG4pO3JldHVybiExfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9W2sscF07aWYobil7d2hpbGUoZT1lW3VdKWlmKCgxPT09ZS5ub2RlVHlwZXx8ZikmJnMoZSx0LG4pKXJldHVybiEwfWVsc2Ugd2hpbGUoZT1lW3VdKWlmKDE9PT1lLm5vZGVUeXBlfHxmKWlmKGk9KG89ZVtTXXx8KGVbU109e30pKVtlLnVuaXF1ZUlEXXx8KG9bZS51bmlxdWVJRF09e30pLGwmJmw9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZT1lW3VdfHxlO2Vsc2V7aWYoKHI9aVtjXSkmJnJbMF09PT1rJiZyWzFdPT09cClyZXR1cm4gYVsyXT1yWzJdO2lmKChpW2NdPWEpWzJdPXMoZSx0LG4pKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB3ZShpKXtyZXR1cm4gMTxpLmxlbmd0aD9mdW5jdGlvbihlLHQsbil7dmFyIHI9aS5sZW5ndGg7d2hpbGUoci0tKWlmKCFpW3JdKGUsdCxuKSlyZXR1cm4hMTtyZXR1cm4hMH06aVswXX1mdW5jdGlvbiBUZShlLHQsbixyLGkpe2Zvcih2YXIgbyxhPVtdLHM9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDtzPHU7cysrKShvPWVbc10pJiYobiYmIW4obyxyLGkpfHwoYS5wdXNoKG8pLGwmJnQucHVzaChzKSkpO3JldHVybiBhfWZ1bmN0aW9uIENlKGQsaCxnLHYseSxlKXtyZXR1cm4gdiYmIXZbU10mJih2PUNlKHYpKSx5JiYheVtTXSYmKHk9Q2UoeSxlKSksbGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9W10sdT1bXSxsPXQubGVuZ3RoLGM9ZXx8ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKylzZShlLHRbcl0sbik7cmV0dXJuIG59KGh8fCIqIixuLm5vZGVUeXBlP1tuXTpuLFtdKSxmPSFkfHwhZSYmaD9jOlRlKGMscyxkLG4scikscD1nP3l8fChlP2Q6bHx8dik/W106dDpmO2lmKGcmJmcoZixwLG4sciksdil7aT1UZShwLHUpLHYoaSxbXSxuLHIpLG89aS5sZW5ndGg7d2hpbGUoby0tKShhPWlbb10pJiYocFt1W29dXT0hKGZbdVtvXV09YSkpfWlmKGUpe2lmKHl8fGQpe2lmKHkpe2k9W10sbz1wLmxlbmd0aDt3aGlsZShvLS0pKGE9cFtvXSkmJmkucHVzaChmW29dPWEpO3kobnVsbCxwPVtdLGkscil9bz1wLmxlbmd0aDt3aGlsZShvLS0pKGE9cFtvXSkmJi0xPChpPXk/UChlLGEpOnNbb10pJiYoZVtpXT0hKHRbaV09YSkpfX1lbHNlIHA9VGUocD09PXQ/cC5zcGxpY2UobCxwLmxlbmd0aCk6cCkseT95KG51bGwsdCxwLHIpOkguYXBwbHkodCxwKX0pfWZ1bmN0aW9uIEVlKGUpe2Zvcih2YXIgaSx0LG4scj1lLmxlbmd0aCxvPWIucmVsYXRpdmVbZVswXS50eXBlXSxhPW98fGIucmVsYXRpdmVbIiAiXSxzPW8/MTowLHU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pfSxhLCEwKSxsPWJlKGZ1bmN0aW9uKGUpe3JldHVybi0xPFAoaSxlKX0sYSwhMCksYz1bZnVuY3Rpb24oZSx0LG4pe3ZhciByPSFvJiYobnx8dCE9PXcpfHwoKGk9dCkubm9kZVR5cGU/dShlLHQsbik6bChlLHQsbikpO3JldHVybiBpPW51bGwscn1dO3M8cjtzKyspaWYodD1iLnJlbGF0aXZlW2Vbc10udHlwZV0pYz1bYmUod2UoYyksdCldO2Vsc2V7aWYoKHQ9Yi5maWx0ZXJbZVtzXS50eXBlXS5hcHBseShudWxsLGVbc10ubWF0Y2hlcykpW1NdKXtmb3Iobj0rK3M7bjxyO24rKylpZihiLnJlbGF0aXZlW2Vbbl0udHlwZV0pYnJlYWs7cmV0dXJuIENlKDE8cyYmd2UoYyksMTxzJiZ4ZShlLnNsaWNlKDAscy0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbcy0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKCQsIiQxIiksdCxzPG4mJkVlKGUuc2xpY2UocyxuKSksbjxyJiZFZShlPWUuc2xpY2UobikpLG48ciYmeGUoZSkpfWMucHVzaCh0KX1yZXR1cm4gd2UoYyl9cmV0dXJuIG1lLnByb3RvdHlwZT1iLmZpbHRlcnM9Yi5wc2V1ZG9zLGIuc2V0RmlsdGVycz1uZXcgbWUsaD1zZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw9eFtlKyIgIl07aWYobClyZXR1cm4gdD8wOmwuc2xpY2UoMCk7YT1lLHM9W10sdT1iLnByZUZpbHRlcjt3aGlsZShhKXtmb3IobyBpbiBuJiYhKHI9Xy5leGVjKGEpKXx8KHImJihhPWEuc2xpY2UoclswXS5sZW5ndGgpfHxhKSxzLnB1c2goaT1bXSkpLG49ITEsKHI9ei5leGVjKGEpKSYmKG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZSgkLCIgIil9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKSxiLmZpbHRlcikhKHI9R1tvXS5leGVjKGEpKXx8dVtvXSYmIShyPXVbb10ocikpfHwobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6byxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP3NlLmVycm9yKGUpOngoZSxzKS5zbGljZSgwKX0sZj1zZS5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4sdix5LG0seCxyLGk9W10sbz1bXSxhPUFbZSsiICJdO2lmKCFhKXt0fHwodD1oKGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSkoYT1FZSh0W25dKSlbU10/aS5wdXNoKGEpOm8ucHVzaChhKTsoYT1BKGUsKHY9byxtPTA8KHk9aSkubGVuZ3RoLHg9MDx2Lmxlbmd0aCxyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHU9MCxsPSIwIixjPWUmJltdLGY9W10scD13LGQ9ZXx8eCYmYi5maW5kLlRBRygiKiIsaSksaD1rKz1udWxsPT1wPzE6TWF0aC5yYW5kb20oKXx8LjEsZz1kLmxlbmd0aDtmb3IoaSYmKHc9dD09Q3x8dHx8aSk7bCE9PWcmJm51bGwhPShvPWRbbF0pO2wrKyl7aWYoeCYmbyl7YT0wLHR8fG8ub3duZXJEb2N1bWVudD09Q3x8KFQobyksbj0hRSk7d2hpbGUocz12W2ErK10paWYocyhvLHR8fEMsbikpe3IucHVzaChvKTticmVha31pJiYoaz1oKX1tJiYoKG89IXMmJm8pJiZ1LS0sZSYmYy5wdXNoKG8pKX1pZih1Kz1sLG0mJmwhPT11KXthPTA7d2hpbGUocz15W2ErK10pcyhjLGYsdCxuKTtpZihlKXtpZigwPHUpd2hpbGUobC0tKWNbbF18fGZbbF18fChmW2xdPXEuY2FsbChyKSk7Zj1UZShmKX1ILmFwcGx5KHIsZiksaSYmIWUmJjA8Zi5sZW5ndGgmJjE8dSt5Lmxlbmd0aCYmc2UudW5pcXVlU29ydChyKX1yZXR1cm4gaSYmKGs9aCx3PXApLGN9LG0/bGUocik6cikpKS5zZWxlY3Rvcj1lfXJldHVybiBhfSxnPXNlLnNlbGVjdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUsYz0hciYmaChlPWwuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWMubGVuZ3RoKXtpZigyPChvPWNbMF09Y1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGE9b1swXSkudHlwZSYmOT09PXQubm9kZVR5cGUmJkUmJmIucmVsYXRpdmVbb1sxXS50eXBlXSl7aWYoISh0PShiLmZpbmQuSUQoYS5tYXRjaGVzWzBdLnJlcGxhY2UodGUsbmUpLHQpfHxbXSlbMF0pKXJldHVybiBuO2wmJih0PXQucGFyZW50Tm9kZSksZT1lLnNsaWNlKG8uc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9Ry5uZWVkc0NvbnRleHQudGVzdChlKT8wOm8ubGVuZ3RoO3doaWxlKGktLSl7aWYoYT1vW2ldLGIucmVsYXRpdmVbcz1hLnR5cGVdKWJyZWFrO2lmKCh1PWIuZmluZFtzXSkmJihyPXUoYS5tYXRjaGVzWzBdLnJlcGxhY2UodGUsbmUpLGVlLnRlc3Qob1swXS50eXBlKSYmeWUodC5wYXJlbnROb2RlKXx8dCkpKXtpZihvLnNwbGljZShpLDEpLCEoZT1yLmxlbmd0aCYmeGUobykpKXJldHVybiBILmFwcGx5KG4sciksbjticmVha319fXJldHVybihsfHxmKGUsYykpKHIsdCwhRSxuLCF0fHxlZS50ZXN0KGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSxufSxkLnNvcnRTdGFibGU9Uy5zcGxpdCgiIikuc29ydChqKS5qb2luKCIiKT09PVMsZC5kZXRlY3REdXBsaWNhdGVzPSEhbCxUKCksZC5zb3J0RGV0YWNoZWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihDLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikpfSksY2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8ZmUoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGUsdCxuKXtpZighbilyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCwidHlwZSI9PT10LnRvTG93ZXJDYXNlKCk/MToyKX0pLGQuYXR0cmlidXRlcyYmY2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8aW5wdXQvPiIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8ZmUoInZhbHVlIixmdW5jdGlvbihlLHQsbil7aWYoIW4mJiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGUuZGVmYXVsdFZhbHVlfSksY2UoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGZlKFIsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFuKXJldHVybiEwPT09ZVt0XT90LnRvTG93ZXJDYXNlKCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksc2V9KEMpO1MuZmluZD1kLFMuZXhwcj1kLnNlbGVjdG9ycyxTLmV4cHJbIjoiXT1TLmV4cHIucHNldWRvcyxTLnVuaXF1ZVNvcnQ9Uy51bmlxdWU9ZC51bmlxdWVTb3J0LFMudGV4dD1kLmdldFRleHQsUy5pc1hNTERvYz1kLmlzWE1MLFMuY29udGFpbnM9ZC5jb250YWlucyxTLmVzY2FwZVNlbGVjdG9yPWQuZXNjYXBlO3ZhciBoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxpPXZvaWQgMCE9PW47d2hpbGUoKGU9ZVt0XSkmJjkhPT1lLm5vZGVUeXBlKWlmKDE9PT1lLm5vZGVUeXBlKXtpZihpJiZTKGUpLmlzKG4pKWJyZWFrO3IucHVzaChlKX1yZXR1cm4gcn0sVD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn0saz1TLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O2Z1bmN0aW9uIEEoZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfXZhciBOPS9ePChbYS16XVteXC9cMD46XHgyMFx0XHJcblxmXSopW1x4MjBcdFxyXG5cZl0qXC8/Pig/OjxcL1wxPnwpJC9pO2Z1bmN0aW9uIGooZSxuLHIpe3JldHVybiBtKG4pP1MuZ3JlcChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuISFuLmNhbGwoZSx0LGUpIT09cn0pOm4ubm9kZVR5cGU/Uy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1uIT09cn0pOiJzdHJpbmciIT10eXBlb2Ygbj9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4tMTxpLmNhbGwobixlKSE9PXJ9KTpTLmZpbHRlcihuLGUscil9Uy5maWx0ZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07cmV0dXJuIG4mJihlPSI6bm90KCIrZSsiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/Uy5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTpTLmZpbmQubWF0Y2hlcyhlLFMuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sUy5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMubGVuZ3RoLGk9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKFMoZSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MDt0PHI7dCsrKWlmKFMuY29udGFpbnMoaVt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3Iobj10aGlzLnB1c2hTdGFjayhbXSksdD0wO3Q8cjt0KyspUy5maW5kKGUsaVt0XSxuKTtyZXR1cm4gMTxyP1MudW5pcXVlU29ydChuKTpufSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGoodGhpcyxlfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGoodGhpcyxlfHxbXSwhMCkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIWoodGhpcywic3RyaW5nIj09dHlwZW9mIGUmJmsudGVzdChlKT9TKGUpOmV8fFtdLCExKS5sZW5ndGh9fSk7dmFyIEQscT0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSspKSQvOyhTLmZuLmluaXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoIWUpcmV0dXJuIHRoaXM7aWYobj1ufHxELCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIShyPSI8Ij09PWVbMF0mJiI+Ij09PWVbZS5sZW5ndGgtMV0mJjM8PWUubGVuZ3RoP1tudWxsLGUsbnVsbF06cS5leGVjKGUpKXx8IXJbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxuKS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChlKTtpZihyWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBTP3RbMF06dCxTLm1lcmdlKHRoaXMsUy5wYXJzZUhUTUwoclsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpFLCEwKSksTi50ZXN0KHJbMV0pJiZTLmlzUGxhaW5PYmplY3QodCkpZm9yKHIgaW4gdCltKHRoaXNbcl0pP3RoaXNbcl0odFtyXSk6dGhpcy5hdHRyKHIsdFtyXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGk9RS5nZXRFbGVtZW50QnlJZChyWzJdKSkmJih0aGlzWzBdPWksdGhpcy5sZW5ndGg9MSksdGhpc31yZXR1cm4gZS5ub2RlVHlwZT8odGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcyk6bShlKT92b2lkIDAhPT1uLnJlYWR5P24ucmVhZHkoZSk6ZShTKTpTLm1ha2VBcnJheShlLHRoaXMpfSkucHJvdG90eXBlPVMuZm4sRD1TKEUpO3ZhciBMPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEg9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07ZnVuY3Rpb24gTyhlLHQpe3doaWxlKChlPWVbdF0pJiYxIT09ZS5ub2RlVHlwZSk7cmV0dXJuIGV9Uy5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihlKXt2YXIgdD1TKGUsdGhpcyksbj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPG47ZSsrKWlmKFMuY29udGFpbnModGhpcyx0W2VdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dGhpcy5sZW5ndGgsbz1bXSxhPSJzdHJpbmciIT10eXBlb2YgZSYmUyhlKTtpZighay50ZXN0KGUpKWZvcig7cjxpO3IrKylmb3Iobj10aGlzW3JdO24mJm4hPT10O249bi5wYXJlbnROb2RlKWlmKG4ubm9kZVR5cGU8MTEmJihhPy0xPGEuaW5kZXgobik6MT09PW4ubm9kZVR5cGUmJlMuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSkpe28ucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soMTxvLmxlbmd0aD9TLnVuaXF1ZVNvcnQobyk6byl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciPT10eXBlb2YgZT9pLmNhbGwoUyhlKSx0aGlzWzBdKTppLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMudW5pcXVlU29ydChTLm1lcmdlKHRoaXMuZ2V0KCksUyhlLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KSxTLmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsInBhcmVudE5vZGUiLG4pfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBPKGUsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicHJldmlvdXNTaWJsaW5nIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIFQoKGUucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsZSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBUKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lLmNvbnRlbnREb2N1bWVudCYmcihlLmNvbnRlbnREb2N1bWVudCk/ZS5jb250ZW50RG9jdW1lbnQ6KEEoZSwidGVtcGxhdGUiKSYmKGU9ZS5jb250ZW50fHxlKSxTLm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24ocixpKXtTLmZuW3JdPWZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5tYXAodGhpcyxpLGUpO3JldHVybiJVbnRpbCIhPT1yLnNsaWNlKC01KSYmKHQ9ZSksdCYmInN0cmluZyI9PXR5cGVvZiB0JiYobj1TLmZpbHRlcih0LG4pKSwxPHRoaXMubGVuZ3RoJiYoSFtyXXx8Uy51bmlxdWVTb3J0KG4pLEwudGVzdChyKSYmbi5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKG4pfX0pO3ZhciBQPS9bXlx4MjBcdFxyXG5cZl0rL2c7ZnVuY3Rpb24gUihlKXtyZXR1cm4gZX1mdW5jdGlvbiBNKGUpe3Rocm93IGV9ZnVuY3Rpb24gSShlLHQsbixyKXt2YXIgaTt0cnl7ZSYmbShpPWUucHJvbWlzZSk/aS5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZtKGk9ZS50aGVuKT9pLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShyKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19Uy5DYWxsYmFja3M9ZnVuY3Rpb24ocil7dmFyIGUsbjtyPSJzdHJpbmciPT10eXBlb2Ygcj8oZT1yLG49e30sUy5lYWNoKGUubWF0Y2goUCl8fFtdLGZ1bmN0aW9uKGUsdCl7blt0XT0hMH0pLG4pOlMuZXh0ZW5kKHt9LHIpO3ZhciBpLHQsbyxhLHM9W10sdT1bXSxsPS0xLGM9ZnVuY3Rpb24oKXtmb3IoYT1hfHxyLm9uY2Usbz1pPSEwO3UubGVuZ3RoO2w9LTEpe3Q9dS5zaGlmdCgpO3doaWxlKCsrbDxzLmxlbmd0aCkhMT09PXNbbF0uYXBwbHkodFswXSx0WzFdKSYmci5zdG9wT25GYWxzZSYmKGw9cy5sZW5ndGgsdD0hMSl9ci5tZW1vcnl8fCh0PSExKSxpPSExLGEmJihzPXQ/W106IiIpfSxmPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKHQmJiFpJiYobD1zLmxlbmd0aC0xLHUucHVzaCh0KSksZnVuY3Rpb24gbihlKXtTLmVhY2goZSxmdW5jdGlvbihlLHQpe20odCk/ci51bmlxdWUmJmYuaGFzKHQpfHxzLnB1c2godCk6dCYmdC5sZW5ndGgmJiJzdHJpbmciIT09dyh0KSYmbih0KX0pfShhcmd1bWVudHMpLHQmJiFpJiZjKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBTLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGUsdCl7dmFyIG47d2hpbGUoLTE8KG49Uy5pbkFycmF5KHQscyxuKSkpcy5zcGxpY2UobiwxKSxuPD1sJiZsLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/LTE8Uy5pbkFycmF5KGUscyk6MDxzLmxlbmd0aH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKHM9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHM9dD0iIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFzfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT1bXSx0fHxpfHwocz10PSIiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWF9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGF8fCh0PVtlLCh0PXR8fFtdKS5zbGljZT90LnNsaWNlKCk6dF0sdS5wdXNoKHQpLGl8fGMoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBmLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhb319O3JldHVybiBmfSxTLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZSl7dmFyIG89W1sibm90aWZ5IiwicHJvZ3Jlc3MiLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSxTLkNhbGxiYWNrcygibWVtb3J5IiksMl0sWyJyZXNvbHZlIiwiZG9uZSIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMCwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLFMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDEsInJlamVjdGVkIl1dLGk9InBlbmRpbmciLGE9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBzLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gYS50aGVuKG51bGwsZSl9LHBpcGU6ZnVuY3Rpb24oKXt2YXIgaT1hcmd1bWVudHM7cmV0dXJuIFMuRGVmZXJyZWQoZnVuY3Rpb24ocil7Uy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj1tKGlbdFs0XV0pJiZpW3RbNF1dO3NbdFsxXV0oZnVuY3Rpb24oKXt2YXIgZT1uJiZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZtKGUucHJvbWlzZSk/ZS5wcm9taXNlKCkucHJvZ3Jlc3Moci5ub3RpZnkpLmRvbmUoci5yZXNvbHZlKS5mYWlsKHIucmVqZWN0KTpyW3RbMF0rIldpdGgiXSh0aGlzLG4/W2VdOmFyZ3VtZW50cyl9KX0pLGk9bnVsbH0pLnByb21pc2UoKX0sdGhlbjpmdW5jdGlvbih0LG4scil7dmFyIHU9MDtmdW5jdGlvbiBsKGksbyxhLHMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXMscj1hcmd1bWVudHMsZT1mdW5jdGlvbigpe3ZhciBlLHQ7aWYoIShpPHUpKXtpZigoZT1hLmFwcGx5KG4scikpPT09by5wcm9taXNlKCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uIik7dD1lJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkmJmUudGhlbixtKHQpP3M/dC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpKToodSsrLHQuY2FsbChlLGwodSxvLFIscyksbCh1LG8sTSxzKSxsKHUsbyxSLG8ubm90aWZ5V2l0aCkpKTooYSE9PVImJihuPXZvaWQgMCxyPVtlXSksKHN8fG8ucmVzb2x2ZVdpdGgpKG4scikpfX0sdD1zP2U6ZnVuY3Rpb24oKXt0cnl7ZSgpfWNhdGNoKGUpe1MuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmUy5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGUsdC5zdGFja1RyYWNlKSx1PD1pKzEmJihhIT09TSYmKG49dm9pZCAwLHI9W2VdKSxvLnJlamVjdFdpdGgobixyKSl9fTtpP3QoKTooUy5EZWZlcnJlZC5nZXRTdGFja0hvb2smJih0LnN0YWNrVHJhY2U9Uy5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksQy5zZXRUaW1lb3V0KHQpKX19cmV0dXJuIFMuRGVmZXJyZWQoZnVuY3Rpb24oZSl7b1swXVszXS5hZGQobCgwLGUsbShyKT9yOlIsZS5ub3RpZnlXaXRoKSksb1sxXVszXS5hZGQobCgwLGUsbSh0KT90OlIpKSxvWzJdWzNdLmFkZChsKDAsZSxtKG4pP246TSkpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP1MuZXh0ZW5kKGUsYSk6YX19LHM9e307cmV0dXJuIFMuZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIG49dFsyXSxyPXRbNV07YVt0WzFdXT1uLmFkZCxyJiZuLmFkZChmdW5jdGlvbigpe2k9cn0sb1szLWVdWzJdLmRpc2FibGUsb1szLWVdWzNdLmRpc2FibGUsb1swXVsyXS5sb2NrLG9bMF1bM10ubG9jayksbi5hZGQodFszXS5maXJlKSxzW3RbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIHNbdFswXSsiV2l0aCJdKHRoaXM9PT1zP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc30sc1t0WzBdKyJXaXRoIl09bi5maXJlV2l0aH0pLGEucHJvbWlzZShzKSxlJiZlLmNhbGwocyxzKSxzfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsdD1uLHI9QXJyYXkodCksaT1zLmNhbGwoYXJndW1lbnRzKSxvPVMuRGVmZXJyZWQoKSxhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyW3RdPXRoaXMsaVt0XT0xPGFyZ3VtZW50cy5sZW5ndGg/cy5jYWxsKGFyZ3VtZW50cyk6ZSwtLW58fG8ucmVzb2x2ZVdpdGgocixpKX19O2lmKG48PTEmJihJKGUsby5kb25lKGEodCkpLnJlc29sdmUsby5yZWplY3QsIW4pLCJwZW5kaW5nIj09PW8uc3RhdGUoKXx8bShpW3RdJiZpW3RdLnRoZW4pKSlyZXR1cm4gby50aGVuKCk7d2hpbGUodC0tKUkoaVt0XSxhKHQpLG8ucmVqZWN0KTtyZXR1cm4gby5wcm9taXNlKCl9fSk7dmFyIFc9L14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWZ1bmN0aW9uKGUsdCl7Qy5jb25zb2xlJiZDLmNvbnNvbGUud2FybiYmZSYmVy50ZXN0KGUubmFtZSkmJkMuY29uc29sZS53YXJuKCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiK2UubWVzc2FnZSxlLnN0YWNrLHQpfSxTLnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKGUpe0Muc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGV9KX07dmFyIEY9Uy5EZWZlcnJlZCgpO2Z1bmN0aW9uIEIoKXtFLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsQiksUy5yZWFkeSgpfVMuZm4ucmVhZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEYudGhlbihlKVsiY2F0Y2giXShmdW5jdGlvbihlKXtTLnJlYWR5RXhjZXB0aW9uKGUpfSksdGhpc30sUy5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEscmVhZHk6ZnVuY3Rpb24oZSl7KCEwPT09ZT8tLVMucmVhZHlXYWl0OlMuaXNSZWFkeSl8fChTLmlzUmVhZHk9ITApIT09ZSYmMDwtLVMucmVhZHlXYWl0fHxGLnJlc29sdmVXaXRoKEUsW1NdKX19KSxTLnJlYWR5LnRoZW49Ri50aGVuLCJjb21wbGV0ZSI9PT1FLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PUUucmVhZHlTdGF0ZSYmIUUuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP0Muc2V0VGltZW91dChTLnJlYWR5KTooRS5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCKSxDLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLEIpKTt2YXIgJD1mdW5jdGlvbihlLHQsbixyLGksbyxhKXt2YXIgcz0wLHU9ZS5sZW5ndGgsbD1udWxsPT1uO2lmKCJvYmplY3QiPT09dyhuKSlmb3IocyBpbiBpPSEwLG4pJChlLHQscyxuW3NdLCEwLG8sYSk7ZWxzZSBpZih2b2lkIDAhPT1yJiYoaT0hMCxtKHIpfHwoYT0hMCksbCYmKGE/KHQuY2FsbChlLHIpLHQ9bnVsbCk6KGw9dCx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbC5jYWxsKFMoZSksbil9KSksdCkpZm9yKDtzPHU7cysrKXQoZVtzXSxuLGE/cjpyLmNhbGwoZVtzXSxzLHQoZVtzXSxuKSkpO3JldHVybiBpP2U6bD90LmNhbGwoZSk6dT90KGVbMF0sbik6b30sXz0vXi1tcy0vLHo9Ly0oW2Etel0pL2c7ZnVuY3Rpb24gVShlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gWChlKXtyZXR1cm4gZS5yZXBsYWNlKF8sIm1zLSIpLnJlcGxhY2UoeixVKX12YXIgVj1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2Z1bmN0aW9uIEcoKXt0aGlzLmV4cGFuZG89Uy5leHBhbmRvK0cudWlkKyt9Ry51aWQ9MSxHLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxWKGUpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dDpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLmV4cGFuZG8se3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSkpKSx0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9dGhpcy5jYWNoZShlKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaVtYKHQpXT1uO2Vsc2UgZm9yKHIgaW4gdClpW1gocildPXRbcl07cmV0dXJuIGl9LGdldDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMuY2FjaGUoZSk6ZVt0aGlzLmV4cGFuZG9dJiZlW3RoaXMuZXhwYW5kb11bWCh0KV19LGFjY2VzczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXR8fHQmJiJzdHJpbmciPT10eXBlb2YgdCYmdm9pZCAwPT09bj90aGlzLmdldChlLHQpOih0aGlzLnNldChlLHQsbiksdm9pZCAwIT09bj9uOnQpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWVbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1yKXtpZih2b2lkIDAhPT10KXtuPSh0PUFycmF5LmlzQXJyYXkodCk/dC5tYXAoWCk6KHQ9WCh0KSlpbiByP1t0XTp0Lm1hdGNoKFApfHxbXSkubGVuZ3RoO3doaWxlKG4tLSlkZWxldGUgclt0W25dXX0odm9pZCAwPT09dHx8Uy5pc0VtcHR5T2JqZWN0KHIpKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgZVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT10JiYhUy5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIFk9bmV3IEcsUT1uZXcgRyxKPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sSz0vW0EtWl0vZztmdW5jdGlvbiBaKGUsdCxuKXt2YXIgcixpO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoSywiLSQmIikudG9Mb3dlckNhc2UoKSwic3RyaW5nIj09dHlwZW9mKG49ZS5nZXRBdHRyaWJ1dGUocikpKXt0cnl7bj0idHJ1ZSI9PT0oaT1uKXx8ImZhbHNlIiE9PWkmJigibnVsbCI9PT1pP251bGw6aT09PStpKyIiPytpOkoudGVzdChpKT9KU09OLnBhcnNlKGkpOmkpfWNhdGNoKGUpe31RLnNldChlLHQsbil9ZWxzZSBuPXZvaWQgMDtyZXR1cm4gbn1TLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gUS5oYXNEYXRhKGUpfHxZLmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBRLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtRLnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFkuYWNjZXNzKGUsdCxuKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtZLnJlbW92ZShlLHQpfX0pLFMuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sZSl7dmFyIHQscixpLG89dGhpc1swXSxhPW8mJm8uYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGk9US5nZXQobyksMT09PW8ubm9kZVR5cGUmJiFZLmdldChvLCJoYXNEYXRhQXR0cnMiKSkpe3Q9YS5sZW5ndGg7d2hpbGUodC0tKWFbdF0mJjA9PT0ocj1hW3RdLm5hbWUpLmluZGV4T2YoImRhdGEtIikmJihyPVgoci5zbGljZSg1KSksWihvLHIsaVtyXSkpO1kuc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiBpfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtRLnNldCh0aGlzLG4pfSk6JCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKG8mJnZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMCE9PSh0PVEuZ2V0KG8sbikpP3Q6dm9pZCAwIT09KHQ9WihvLG4pKT90OnZvaWQgMDt0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnNldCh0aGlzLG4sZSl9KX0sbnVsbCxlLDE8YXJndW1lbnRzLmxlbmd0aCxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7US5yZW1vdmUodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoZSlyZXR1cm4gdD0odHx8ImZ4IikrInF1ZXVlIixyPVkuZ2V0KGUsdCksbiYmKCFyfHxBcnJheS5pc0FycmF5KG4pP3I9WS5hY2Nlc3MoZSx0LFMubWFrZUFycmF5KG4pKTpyLnB1c2gobikpLHJ8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKGUsdCl7dD10fHwiZngiO3ZhciBuPVMucXVldWUoZSx0KSxyPW4ubGVuZ3RoLGk9bi5zaGlmdCgpLG89Uy5fcXVldWVIb29rcyhlLHQpOyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxmdW5jdGlvbigpe1MuZGVxdWV1ZShlLHQpfSxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrInF1ZXVlSG9va3MiO3JldHVybiBZLmdldChlLG4pfHxZLmFjY2VzcyhlLG4se2VtcHR5OlMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe1kucmVtb3ZlKGUsW3QrInF1ZXVlIixuXSl9KX0pfX0pLFMuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbih0LG4pe3ZhciBlPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9ImZ4IixlLS0pLGFyZ3VtZW50cy5sZW5ndGg8ZT9TLnF1ZXVlKHRoaXNbMF0sdCk6dm9pZCAwPT09bj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPVMucXVldWUodGhpcyx0LG4pO1MuX3F1ZXVlSG9va3ModGhpcyx0KSwiZngiPT09dCYmImlucHJvZ3Jlc3MiIT09ZVswXSYmUy5kZXF1ZXVlKHRoaXMsdCl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKHRoaXMsZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MSxpPVMuRGVmZXJyZWQoKSxvPXRoaXMsYT10aGlzLmxlbmd0aCxzPWZ1bmN0aW9uKCl7LS1yfHxpLnJlc29sdmVXaXRoKG8sW29dKX07InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fCJmeCI7d2hpbGUoYS0tKShuPVkuZ2V0KG9bYV0sZSsicXVldWVIb29rcyIpKSYmbi5lbXB0eSYmKHIrKyxuLmVtcHR5LmFkZChzKSk7cmV0dXJuIHMoKSxpLnByb21pc2UodCl9fSk7dmFyIGVlPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHRlPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitlZSsiKShbYS16JV0qKSQiLCJpIiksbmU9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxyZT1FLmRvY3VtZW50RWxlbWVudCxpZT1mdW5jdGlvbihlKXtyZXR1cm4gUy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9LG9lPXtjb21wb3NlZDohMH07cmUuZ2V0Um9vdE5vZGUmJihpZT1mdW5jdGlvbihlKXtyZXR1cm4gUy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fGUuZ2V0Um9vdE5vZGUob2UpPT09ZS5vd25lckRvY3VtZW50fSk7dmFyIGFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm5vbmUiPT09KGU9dHx8ZSkuc3R5bGUuZGlzcGxheXx8IiI9PT1lLnN0eWxlLmRpc3BsYXkmJmllKGUpJiYibm9uZSI9PT1TLmNzcyhlLCJkaXNwbGF5Iil9O2Z1bmN0aW9uIHNlKGUsdCxuLHIpe3ZhciBpLG8sYT0yMCxzPXI/ZnVuY3Rpb24oKXtyZXR1cm4gci5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gUy5jc3MoZSx0LCIiKX0sdT1zKCksbD1uJiZuWzNdfHwoUy5jc3NOdW1iZXJbdF0/IiI6InB4IiksYz1lLm5vZGVUeXBlJiYoUy5jc3NOdW1iZXJbdF18fCJweCIhPT1sJiYrdSkmJnRlLmV4ZWMoUy5jc3MoZSx0KSk7aWYoYyYmY1szXSE9PWwpe3UvPTIsbD1sfHxjWzNdLGM9K3V8fDE7d2hpbGUoYS0tKVMuc3R5bGUoZSx0LGMrbCksKDEtbykqKDEtKG89cygpL3V8fC41KSk8PTAmJihhPTApLGMvPW87Yyo9MixTLnN0eWxlKGUsdCxjK2wpLG49bnx8W119cmV0dXJuIG4mJihjPStjfHwrdXx8MCxpPW5bMV0/YysoblsxXSsxKSpuWzJdOituWzJdLHImJihyLnVuaXQ9bCxyLnN0YXJ0PWMsci5lbmQ9aSkpLGl9dmFyIHVlPXt9O2Z1bmN0aW9uIGxlKGUsdCl7Zm9yKHZhciBuLHIsaSxvLGEscyx1LGw9W10sYz0wLGY9ZS5sZW5ndGg7YzxmO2MrKykocj1lW2NdKS5zdHlsZSYmKG49ci5zdHlsZS5kaXNwbGF5LHQ/KCJub25lIj09PW4mJihsW2NdPVkuZ2V0KHIsImRpc3BsYXkiKXx8bnVsbCxsW2NdfHwoci5zdHlsZS5kaXNwbGF5PSIiKSksIiI9PT1yLnN0eWxlLmRpc3BsYXkmJmFlKHIpJiYobFtjXT0odT1hPW89dm9pZCAwLGE9KGk9cikub3duZXJEb2N1bWVudCxzPWkubm9kZU5hbWUsKHU9dWVbc10pfHwobz1hLmJvZHkuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KHMpKSx1PVMuY3NzKG8sImRpc3BsYXkiKSxvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyksIm5vbmUiPT09dSYmKHU9ImJsb2NrIiksdWVbc109dSkpKSk6Im5vbmUiIT09biYmKGxbY109Im5vbmUiLFkuc2V0KHIsImRpc3BsYXkiLG4pKSk7Zm9yKGM9MDtjPGY7YysrKW51bGwhPWxbY10mJihlW2NdLnN0eWxlLmRpc3BsYXk9bFtjXSk7cmV0dXJuIGV9Uy5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gbGUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gbGUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YWUodGhpcyk/Uyh0aGlzKS5zaG93KCk6Uyh0aGlzKS5oaWRlKCl9KX19KTt2YXIgY2UsZmUscGU9L14oPzpjaGVja2JveHxyYWRpbykkL2ksZGU9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2ksaGU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO2NlPUUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgiZGl2IikpLChmZT1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksZmUuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGZlLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxjZS5hcHBlbmRDaGlsZChmZSkseS5jaGVja0Nsb25lPWNlLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxjZS5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PC90ZXh0YXJlYT4iLHkubm9DbG9uZUNoZWNrZWQ9ISFjZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsY2UuaW5uZXJIVE1MPSI8b3B0aW9uPjwvb3B0aW9uPiIseS5vcHRpb249ISFjZS5sYXN0Q2hpbGQ7dmFyIGdlPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07ZnVuY3Rpb24gdmUoZSx0KXt2YXIgbjtyZXR1cm4gbj0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsP2UucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJkEoZSx0KT9TLm1lcmdlKFtlXSxuKTpufWZ1bmN0aW9uIHllKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKVkuc2V0KGVbbl0sImdsb2JhbEV2YWwiLCF0fHxZLmdldCh0W25dLCJnbG9iYWxFdmFsIikpfWdlLnRib2R5PWdlLnRmb290PWdlLmNvbGdyb3VwPWdlLmNhcHRpb249Z2UudGhlYWQsZ2UudGg9Z2UudGQseS5vcHRpb258fChnZS5vcHRncm91cD1nZS5vcHRpb249WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSk7dmFyIG1lPS88fCYjP1x3KzsvO2Z1bmN0aW9uIHhlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoIm9iamVjdCI9PT13KG8pKVMubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKG1lLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9Z2Vbc118fGdlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0rUy5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO1MubWVyZ2UocCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmLTE8Uy5pbkFycmF5KG8scikpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD1pZShvKSxhPXZlKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnllKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSloZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9dmFyIGJlPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiB3ZSgpe3JldHVybiEwfWZ1bmN0aW9uIFRlKCl7cmV0dXJuITF9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gZT09PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBFLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7fX0oKT09KCJmb2N1cyI9PT10KX1mdW5jdGlvbiBFZShlLHQsbixyLGksbyl7dmFyIGEscztpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihzIGluInN0cmluZyIhPXR5cGVvZiBuJiYocj1yfHxuLG49dm9pZCAwKSx0KUVlKGUscyxuLHIsdFtzXSxvKTtyZXR1cm4gZX1pZihudWxsPT1yJiZudWxsPT1pPyhpPW4scj1uPXZvaWQgMCk6bnVsbD09aSYmKCJzdHJpbmciPT10eXBlb2Ygbj8oaT1yLHI9dm9pZCAwKTooaT1yLHI9bixuPXZvaWQgMCkpLCExPT09aSlpPVRlO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYoYT1pLChpPWZ1bmN0aW9uKGUpe3JldHVybiBTKCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9Uy5ndWlkKyspKSxlLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9ZnVuY3Rpb24gU2UoZSxpLG8pe28/KFkuc2V0KGUsaSwhMSksUy5ldmVudC5hZGQoZSxpLHtuYW1lc3BhY2U6ITEsaGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdCxuLHI9WS5nZXQodGhpcyxpKTtpZigxJmUuaXNUcmlnZ2VyJiZ0aGlzW2ldKXtpZihyLmxlbmd0aCkoUy5ldmVudC5zcGVjaWFsW2ldfHx7fSkuZGVsZWdhdGVUeXBlJiZlLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2UgaWYocj1zLmNhbGwoYXJndW1lbnRzKSxZLnNldCh0aGlzLGksciksdD1vKHRoaXMsaSksdGhpc1tpXSgpLHIhPT0obj1ZLmdldCh0aGlzLGkpKXx8dD9ZLnNldCh0aGlzLGksITEpOm49e30sciE9PW4pcmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLG4mJm4udmFsdWV9ZWxzZSByLmxlbmd0aCYmKFkuc2V0KHRoaXMsaSx7dmFsdWU6Uy5ldmVudC50cmlnZ2VyKFMuZXh0ZW5kKHJbMF0sUy5FdmVudC5wcm90b3R5cGUpLHIuc2xpY2UoMSksdGhpcyl9KSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19KSk6dm9pZCAwPT09WS5nZXQoZSxpKSYmUy5ldmVudC5hZGQoZSxpLHdlKX1TLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx2PVkuZ2V0KHQpO2lmKFYodCkpe24uaGFuZGxlciYmKG49KG89bikuaGFuZGxlcixpPW8uc2VsZWN0b3IpLGkmJlMuZmluZC5tYXRjaGVzU2VsZWN0b3IocmUsaSksbi5ndWlkfHwobi5ndWlkPVMuZ3VpZCsrKSwodT12LmV2ZW50cyl8fCh1PXYuZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCkpLChhPXYuaGFuZGxlKXx8KGE9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBTJiZTLmV2ZW50LnRyaWdnZXJlZCE9PWUudHlwZT9TLmV2ZW50LmRpc3BhdGNoLmFwcGx5KHQsYXJndW1lbnRzKTp2b2lkIDB9KSxsPShlPShlfHwiIikubWF0Y2goUCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0pZD1nPShzPWJlLmV4ZWMoZVtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCYmKGY9Uy5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9Uy5ldmVudC5zcGVjaWFsW2RdfHx7fSxjPVMuZXh0ZW5kKHt0eXBlOmQsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJlMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKCIuIil9LG8pLChwPXVbZF0pfHwoKHA9dVtkXT1bXSkuZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJiExIT09Zi5zZXR1cC5jYWxsKHQscixoLGEpfHx0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihkLGEpKSxmLmFkZCYmKGYuYWRkLmNhbGwodCxjKSxjLmhhbmRsZXIuZ3VpZHx8KGMuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLGk/cC5zcGxpY2UocC5kZWxlZ2F0ZUNvdW50KyssMCxjKTpwLnB1c2goYyksUy5ldmVudC5nbG9iYWxbZF09ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx2PVkuaGFzRGF0YShlKSYmWS5nZXQoZSk7aWYodiYmKHU9di5ldmVudHMpKXtsPSh0PSh0fHwiIikubWF0Y2goUCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0paWYoZD1nPShzPWJlLmV4ZWModFtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCl7Zj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LHA9dVtkPShyP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkXXx8W10scz1zWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGE9bz1wLmxlbmd0aDt3aGlsZShvLS0pYz1wW29dLCFpJiZnIT09Yy5vcmlnVHlwZXx8biYmbi5ndWlkIT09Yy5ndWlkfHxzJiYhcy50ZXN0KGMubmFtZXNwYWNlKXx8ciYmciE9PWMuc2VsZWN0b3ImJigiKioiIT09cnx8IWMuc2VsZWN0b3IpfHwocC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZwLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTthJiYhcC5sZW5ndGgmJihmLnRlYXJkb3duJiYhMSE9PWYudGVhcmRvd24uY2FsbChlLGgsdi5oYW5kbGUpfHxTLnJlbW92ZUV2ZW50KGUsZCx2LmhhbmRsZSksZGVsZXRlIHVbZF0pfWVsc2UgZm9yKGQgaW4gdSlTLmV2ZW50LnJlbW92ZShlLGQrdFtsXSxuLHIsITApO1MuaXNFbXB0eU9iamVjdCh1KSYmWS5yZW1vdmUoZSwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHM9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHU9Uy5ldmVudC5maXgoZSksbD0oWS5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3UudHlwZV18fFtdLGM9Uy5ldmVudC5zcGVjaWFsW3UudHlwZV18fHt9O2ZvcihzWzBdPXUsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspc1t0XT1hcmd1bWVudHNbdF07aWYodS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHUpKXthPVMuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHUsbCksdD0wO3doaWxlKChpPWFbdCsrXSkmJiF1LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3UuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiF1LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpdS5ybmFtZXNwYWNlJiYhMSE9PW8ubmFtZXNwYWNlJiYhdS5ybmFtZXNwYWNlLnRlc3Qoby5uYW1lc3BhY2UpfHwodS5oYW5kbGVPYmo9byx1LmRhdGE9by5kYXRhLHZvaWQgMCE9PShyPSgoUy5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSxzKSkmJiExPT09KHUucmVzdWx0PXIpJiYodS5wcmV2ZW50RGVmYXVsdCgpLHUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyx1KSx1LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPFMoaSx0aGlzKS5pbmRleChsKTpTLmZpbmQoaSx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbaV0mJm8ucHVzaChyKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6b30pfXJldHVybiBsPXRoaXMsdTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZSh1KX0pLHN9LGFkZFByb3A6ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoUy5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0Om0oZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW1MuZXhwYW5kb10/ZTpuZXcgUy5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmU2UodCwiY2xpY2siLHdlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmU2UodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZZLmdldCh0LCJjbGljayIpfHxBKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxTLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSxTLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgUy5FdmVudCkpcmV0dXJuIG5ldyBTLkV2ZW50KGUsdCk7ZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiYhMT09PWUucmV0dXJuVmFsdWU/d2U6VGUsdGhpcy50YXJnZXQ9ZS50YXJnZXQmJjM9PT1lLnRhcmdldC5ub2RlVHlwZT9lLnRhcmdldC5wYXJlbnROb2RlOmUudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1lLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWUucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWUsdCYmUy5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW1MuZXhwYW5kb109ITB9LFMuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpUZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpUZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpUZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9d2UsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LFMuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0sUy5ldmVudC5hZGRQcm9wKSxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGUsdCl7Uy5ldmVudC5zcGVjaWFsW2VdPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBTZSh0aGlzLGUsQ2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSksITB9LF9kZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRlbGVnYXRlVHlwZTp0fX0pLFMuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oZSxpKXtTLmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTppLGJpbmRUeXBlOmksaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5yZWxhdGVkVGFyZ2V0LHI9ZS5oYW5kbGVPYmo7cmV0dXJuIG4mJihuPT09dGhpc3x8Uy5jb250YWlucyh0aGlzLG4pKXx8KGUudHlwZT1yLm9yaWdUeXBlLHQ9ci5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9aSksdH19fSksUy5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBFZSh0aGlzLGUsdCxuLHIpfSxvbmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4sciwxKX0sb2ZmOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKGUmJmUucHJldmVudERlZmF1bHQmJmUuaGFuZGxlT2JqKXJldHVybiByPWUuaGFuZGxlT2JqLFMoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKHIubmFtZXNwYWNlP3Iub3JpZ1R5cGUrIi4iK3IubmFtZXNwYWNlOnIub3JpZ1R5cGUsci5zZWxlY3RvcixyLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHwobj10LHQ9dm9pZCAwKSwhMT09PW4mJihuPVRlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfX0pO3ZhciBrZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxBZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxOZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7ZnVuY3Rpb24gamUoZSx0KXtyZXR1cm4gQShlLCJ0YWJsZSIpJiZBKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmUyhlKS5jaGlsZHJlbigidGJvZHkiKVswXXx8ZX1mdW5jdGlvbiBEZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIHFlKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBMZShlLHQpe3ZhciBuLHIsaSxvLGEscztpZigxPT09dC5ub2RlVHlwZSl7aWYoWS5oYXNEYXRhKGUpJiYocz1ZLmdldChlKS5ldmVudHMpKWZvcihpIGluIFkucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxzKWZvcihuPTAscj1zW2ldLmxlbmd0aDtuPHI7bisrKVMuZXZlbnQuYWRkKHQsaSxzW2ldW25dKTtRLmhhc0RhdGEoZSkmJihvPVEuYWNjZXNzKGUpLGE9Uy5leHRlbmQoe30sbyksUS5zZXQodCxhKSl9fWZ1bmN0aW9uIEhlKG4scixpLG8pe3I9ZyhyKTt2YXIgZSx0LGEscyx1LGwsYz0wLGY9bi5sZW5ndGgscD1mLTEsZD1yWzBdLGg9bShkKTtpZihofHwxPGYmJiJzdHJpbmciPT10eXBlb2YgZCYmIXkuY2hlY2tDbG9uZSYmQWUudGVzdChkKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZXEoZSk7aCYmKHJbMF09ZC5jYWxsKHRoaXMsZSx0Lmh0bWwoKSkpLEhlKHQscixpLG8pfSk7aWYoZiYmKHQ9KGU9eGUocixuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSkuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9dCksdHx8bykpe2ZvcihzPShhPVMubWFwKHZlKGUsInNjcmlwdCIpLERlKSkubGVuZ3RoO2M8ZjtjKyspdT1lLGMhPT1wJiYodT1TLmNsb25lKHUsITAsITApLHMmJlMubWVyZ2UoYSx2ZSh1LCJzY3JpcHQiKSkpLGkuY2FsbChuW2NdLHUsYyk7aWYocylmb3IobD1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsUy5tYXAoYSxxZSksYz0wO2M8cztjKyspdT1hW2NdLGhlLnRlc3QodS50eXBlfHwiIikmJiFZLmFjY2Vzcyh1LCJnbG9iYWxFdmFsIikmJlMuY29udGFpbnMobCx1KSYmKHUuc3JjJiYibW9kdWxlIiE9PSh1LnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP1MuX2V2YWxVcmwmJiF1Lm5vTW9kdWxlJiZTLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZSgibm9uY2UiKX0sbCk6Yih1LnRleHRDb250ZW50LnJlcGxhY2UoTmUsIiIpLHUsbCkpfXJldHVybiBufWZ1bmN0aW9uIE9lKGUsdCxuKXtmb3IodmFyIHIsaT10P1MuZmlsdGVyKHQsZSk6ZSxvPTA7bnVsbCE9KHI9aVtvXSk7bysrKW58fDEhPT1yLm5vZGVUeXBlfHxTLmNsZWFuRGF0YSh2ZShyKSksci5wYXJlbnROb2RlJiYobiYmaWUocikmJnllKHZlKHIsInNjcmlwdCIpKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpO3JldHVybiBlfVMuZXh0ZW5kKHtodG1sUHJlZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYz1lLmNsb25lTm9kZSghMCksZj1pZShlKTtpZighKHkubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fFMuaXNYTUxEb2MoZSkpKWZvcihhPXZlKGMpLHI9MCxpPShvPXZlKGUpKS5sZW5ndGg7cjxpO3IrKylzPW9bcl0sdT1hW3JdLHZvaWQgMCwiaW5wdXQiPT09KGw9dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmcGUudGVzdChzLnR5cGUpP3UuY2hlY2tlZD1zLmNoZWNrZWQ6ImlucHV0IiE9PWwmJiJ0ZXh0YXJlYSIhPT1sfHwodS5kZWZhdWx0VmFsdWU9cy5kZWZhdWx0VmFsdWUpO2lmKHQpaWYobilmb3Iobz1vfHx2ZShlKSxhPWF8fHZlKGMpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspTGUob1tyXSxhW3JdKTtlbHNlIExlKGUsYyk7cmV0dXJuIDA8KGE9dmUoYywic2NyaXB0IikpLmxlbmd0aCYmeWUoYSwhZiYmdmUoZSwic2NyaXB0IikpLGN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9Uy5ldmVudC5zcGVjaWFsLG89MDt2b2lkIDAhPT0obj1lW29dKTtvKyspaWYoVihuKSl7aWYodD1uW1kuZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/Uy5ldmVudC5yZW1vdmUobixyKTpTLnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltZLmV4cGFuZG9dPXZvaWQgMH1uW1EuZXhwYW5kb10mJihuW1EuZXhwYW5kb109dm9pZCAwKX19fSksUy5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gT2UodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/Uy50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxqZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PWplKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKGUsITEpKSxlLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gUy5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGUmJiFrZS50ZXN0KGUpJiYhZ2VbKGRlLmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPVMuaHRtbFByZWZpbHRlcihlKTt0cnl7Zm9yKDtuPHI7bisrKTE9PT0odD10aGlzW25dfHx7fSkubm9kZVR5cGUmJihTLmNsZWFuRGF0YSh2ZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7Uy5pbkFycmF5KHRoaXMsbik8MCYmKFMuY2xlYW5EYXRhKHZlKHRoaXMpKSx0JiZ0LnJlcGxhY2VDaGlsZChlLHRoaXMpKX0sbil9fSksUy5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSxhKXtTLmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVtdLHI9UyhlKSxpPXIubGVuZ3RoLTEsbz0wO288PWk7bysrKXQ9bz09PWk/dGhpczp0aGlzLmNsb25lKCEwKSxTKHJbb10pW2FdKHQpLHUuYXBwbHkobix0LmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFBlPW5ldyBSZWdFeHAoIl4oIitlZSsiKSg/IXB4KVthLXolXSskIiwiaSIpLFJlPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gdCYmdC5vcGVuZXJ8fCh0PUMpLHQuZ2V0Q29tcHV0ZWRTdHlsZShlKX0sTWU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fTtmb3IoaSBpbiB0KW9baV09ZS5zdHlsZVtpXSxlLnN0eWxlW2ldPXRbaV07Zm9yKGkgaW4gcj1uLmNhbGwoZSksdCllLnN0eWxlW2ldPW9baV07cmV0dXJuIHJ9LEllPW5ldyBSZWdFeHAobmUuam9pbigifCIpLCJpIik7ZnVuY3Rpb24gV2UoZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5zdHlsZTtyZXR1cm4obj1ufHxSZShlKSkmJigiIiE9PShhPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSl8fGllKGUpfHwoYT1TLnN0eWxlKGUsdCkpLCF5LnBpeGVsQm94U3R5bGVzKCkmJlBlLnRlc3QoYSkmJkllLnRlc3QodCkmJihyPXMud2lkdGgsaT1zLm1pbldpZHRoLG89cy5tYXhXaWR0aCxzLm1pbldpZHRoPXMubWF4V2lkdGg9cy53aWR0aD1hLGE9bi53aWR0aCxzLndpZHRoPXIscy5taW5XaWR0aD1pLHMubWF4V2lkdGg9bykpLHZvaWQgMCE9PWE/YSsiIjphfWZ1bmN0aW9uIEZlKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe2lmKCFlKCkpcmV0dXJuKHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkZWxldGUgdGhpcy5nZXR9fX0hZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aWYobCl7dS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIixsLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiLHJlLmFwcGVuZENoaWxkKHUpLmFwcGVuZENoaWxkKGwpO3ZhciBlPUMuZ2V0Q29tcHV0ZWRTdHlsZShsKTtuPSIxJSIhPT1lLnRvcCxzPTEyPT09dChlLm1hcmdpbkxlZnQpLGwuc3R5bGUucmlnaHQ9IjYwJSIsbz0zNj09PXQoZS5yaWdodCkscj0zNj09PXQoZS53aWR0aCksbC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGk9MTI9PT10KGwub2Zmc2V0V2lkdGgvMykscmUucmVtb3ZlQ2hpbGQodSksbD1udWxsfX1mdW5jdGlvbiB0KGUpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZSkpfXZhciBuLHIsaSxvLGEscyx1PUUuY3JlYXRlRWxlbWVudCgiZGl2IiksbD1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuc3R5bGUmJihsLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsbC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLHkuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1sLnN0eWxlLmJhY2tncm91bmRDbGlwLFMuZXh0ZW5kKHkse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxyfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiBlKCksb30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBlKCksbn0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxzfSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxpfSxyZWxpYWJsZVRyRGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciBlLHQsbixyO3JldHVybiBudWxsPT1hJiYoZT1FLmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksdD1FLmNyZWF0ZUVsZW1lbnQoInRyIiksbj1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbGFwc2U6c2VwYXJhdGUiLHQuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjFweCBzb2xpZCIsdC5zdHlsZS5oZWlnaHQ9IjFweCIsbi5zdHlsZS5oZWlnaHQ9IjlweCIsbi5zdHlsZS5kaXNwbGF5PSJibG9jayIscmUuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQodCkuYXBwZW5kQ2hpbGQobikscj1DLmdldENvbXB1dGVkU3R5bGUodCksYT1wYXJzZUludChyLmhlaWdodCwxMCkrcGFyc2VJbnQoci5ib3JkZXJUb3BXaWR0aCwxMCkrcGFyc2VJbnQoci5ib3JkZXJCb3R0b21XaWR0aCwxMCk9PT10Lm9mZnNldEhlaWdodCxyZS5yZW1vdmVDaGlsZChlKSksYX19KSl9KCk7dmFyIEJlPVsiV2Via2l0IiwiTW96IiwibXMiXSwkZT1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLF9lPXt9O2Z1bmN0aW9uIHplKGUpe3ZhciB0PVMuY3NzUHJvcHNbZV18fF9lW2VdO3JldHVybiB0fHwoZSBpbiAkZT9lOl9lW2VdPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLG49QmUubGVuZ3RoO3doaWxlKG4tLSlpZigoZT1CZVtuXSt0KWluICRlKXJldHVybiBlfShlKXx8ZSl9dmFyIFVlPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxYZT0vXi0tLyxWZT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sR2U9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2Z1bmN0aW9uIFllKGUsdCxuKXt2YXIgcj10ZS5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0obnx8MCkpKyhyWzNdfHwicHgiKTp0fWZ1bmN0aW9uIFFlKGUsdCxuLHIsaSxvKXt2YXIgYT0id2lkdGgiPT09dD8xOjAscz0wLHU9MDtpZihuPT09KHI/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKSJtYXJnaW4iPT09biYmKHUrPVMuY3NzKGUsbituZVthXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKHUtPVMuY3NzKGUsInBhZGRpbmciK25lW2FdLCEwLGkpKSwibWFyZ2luIiE9PW4mJih1LT1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpKToodSs9Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSksInBhZGRpbmciIT09bj91Kz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSk6cys9Uy5jc3MoZSwiYm9yZGVyIituZVthXSsiV2lkdGgiLCEwLGkpKTtyZXR1cm4hciYmMDw9byYmKHUrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLW8tdS1zLS41KSl8fDApLHV9ZnVuY3Rpb24gSmUoZSx0LG4pe3ZhciByPVJlKGUpLGk9KCF5LmJveFNpemluZ1JlbGlhYmxlKCl8fG4pJiYiYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLG89aSxhPVdlKGUsdCxyKSxzPSJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2lmKFBlLnRlc3QoYSkpe2lmKCFuKXJldHVybiBhO2E9ImF1dG8ifXJldHVybigheS5ib3hTaXppbmdSZWxpYWJsZSgpJiZpfHwheS5yZWxpYWJsZVRyRGltZW5zaW9ucygpJiZBKGUsInRyIil8fCJhdXRvIj09PWF8fCFwYXJzZUZsb2F0KGEpJiYiaW5saW5lIj09PVMuY3NzKGUsImRpc3BsYXkiLCExLHIpKSYmZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKGk9ImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxyKSwobz1zIGluIGUpJiYoYT1lW3NdKSksKGE9cGFyc2VGbG9hdChhKXx8MCkrUWUoZSx0LG58fChpPyJib3JkZXIiOiJjb250ZW50IiksbyxyLGEpKyJweCJ9ZnVuY3Rpb24gS2UoZSx0LG4scixpKXtyZXR1cm4gbmV3IEtlLnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9Uy5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj1XZShlLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1uPyIxIjpufX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihlLHQsbixyKXtpZihlJiYzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJmUuc3R5bGUpe3ZhciBpLG8sYSxzPVgodCksdT1YZS50ZXN0KHQpLGw9ZS5zdHlsZTtpZih1fHwodD16ZShzKSksYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdLHZvaWQgMD09PW4pcmV0dXJuIGEmJiJnZXQiaW4gYSYmdm9pZCAwIT09KGk9YS5nZXQoZSwhMSxyKSk/aTpsW3RdOyJzdHJpbmciPT09KG89dHlwZW9mIG4pJiYoaT10ZS5leGVjKG4pKSYmaVsxXSYmKG49c2UoZSx0LGkpLG89Im51bWJlciIpLG51bGwhPW4mJm49PW4mJigibnVtYmVyIiE9PW98fHV8fChuKz1pJiZpWzNdfHwoUy5jc3NOdW1iZXJbc10/IiI6InB4IikpLHkuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PW58fDAhPT10LmluZGV4T2YoImJhY2tncm91bmQiKXx8KGxbdF09ImluaGVyaXQiKSxhJiYic2V0ImluIGEmJnZvaWQgMD09PShuPWEuc2V0KGUsbixyKSl8fCh1P2wuc2V0UHJvcGVydHkodCxuKTpsW3RdPW4pKX19LGNzczpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1YKHQpO3JldHVybiBYZS50ZXN0KHQpfHwodD16ZShzKSksKGE9Uy5jc3NIb29rc1t0XXx8Uy5jc3NIb29rc1tzXSkmJiJnZXQiaW4gYSYmKGk9YS5nZXQoZSwhMCxuKSksdm9pZCAwPT09aSYmKGk9V2UoZSx0LHIpKSwibm9ybWFsIj09PWkmJnQgaW4gR2UmJihpPUdlW3RdKSwiIj09PW58fG4/KG89cGFyc2VGbG9hdChpKSwhMD09PW58fGlzRmluaXRlKG8pP298fDA6aSk6aX19KSxTLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGUsdSl7Uy5jc3NIb29rc1t1XT17Z2V0OmZ1bmN0aW9uKGUsdCxuKXtpZih0KXJldHVybiFVZS50ZXN0KFMuY3NzKGUsImRpc3BsYXkiKSl8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/SmUoZSx1LG4pOk1lKGUsVmUsZnVuY3Rpb24oKXtyZXR1cm4gSmUoZSx1LG4pfSl9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1SZShlKSxvPSF5LnNjcm9sbGJveFNpemUoKSYmImFic29sdXRlIj09PWkucG9zaXRpb24sYT0ob3x8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsaSkscz1uP1FlKGUsdSxuLGEsaSk6MDtyZXR1cm4gYSYmbyYmKHMtPU1hdGguY2VpbChlWyJvZmZzZXQiK3VbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGlbdV0pLVFlKGUsdSwiYm9yZGVyIiwhMSxpKS0uNSkpLHMmJihyPXRlLmV4ZWModCkpJiYicHgiIT09KHJbM118fCJweCIpJiYoZS5zdHlsZVt1XT10LHQ9Uy5jc3MoZSx1KSksWWUoMCx0LHMpfX19KSxTLmNzc0hvb2tzLm1hcmdpbkxlZnQ9RmUoeS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KFdlKGUsIm1hcmdpbkxlZnQiKSl8fGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1NZShlLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSksUy5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oaSxvKXtTLmNzc0hvb2tzW2krb109e2V4cGFuZDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXt9LHI9InN0cmluZyI9PXR5cGVvZiBlP2Uuc3BsaXQoIiAiKTpbZV07dDw0O3QrKyluW2krbmVbdF0rb109clt0XXx8clt0LTJdfHxyWzBdO3JldHVybiBufX0sIm1hcmdpbiIhPT1pJiYoUy5jc3NIb29rc1tpK29dLnNldD1ZZSl9KSxTLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9LGE9MDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3Iocj1SZShlKSxpPXQubGVuZ3RoO2E8aTthKyspb1t0W2FdXT1TLmNzcyhlLHRbYV0sITEscik7cmV0dXJuIG99cmV0dXJuIHZvaWQgMCE9PW4/Uy5zdHlsZShlLHQsbik6Uy5jc3MoZSx0KX0sZSx0LDE8YXJndW1lbnRzLmxlbmd0aCl9fSksKChTLlR3ZWVuPUtlKS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOktlLGluaXQ6ZnVuY3Rpb24oZSx0LG4scixpLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPWl8fFMuZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1yLHRoaXMudW5pdD1vfHwoUy5jc3NOdW1iZXJbbl0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpLZS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1LZS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPXQ9Uy5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319KS5pbml0LnByb3RvdHlwZT1LZS5wcm90b3R5cGUsKEtlLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gMSE9PWUuZWxlbS5ub2RlVHlwZXx8bnVsbCE9ZS5lbGVtW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtlLnByb3BdP2UuZWxlbVtlLnByb3BdOih0PVMuY3NzKGUuZWxlbSxlLnByb3AsIiIpKSYmImF1dG8iIT09dD90OjB9LHNldDpmdW5jdGlvbihlKXtTLmZ4LnN0ZXBbZS5wcm9wXT9TLmZ4LnN0ZXBbZS5wcm9wXShlKToxIT09ZS5lbGVtLm5vZGVUeXBlfHwhUy5jc3NIb29rc1tlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbemUoZS5wcm9wKV0/ZS5lbGVtW2UucHJvcF09ZS5ub3c6Uy5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCl9fX0pLnNjcm9sbFRvcD1LZS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSxTLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LFMuZng9S2UucHJvdG90eXBlLmluaXQsUy5meC5zdGVwPXt9O3ZhciBaZSxldCx0dCxudCxydD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8saXQ9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBvdCgpe2V0JiYoITE9PT1FLmhpZGRlbiYmQy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/Qy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob3QpOkMuc2V0VGltZW91dChvdCxTLmZ4LmludGVydmFsKSxTLmZ4LnRpY2soKSl9ZnVuY3Rpb24gYXQoKXtyZXR1cm4gQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7WmU9dm9pZCAwfSksWmU9RGF0ZS5ub3coKX1mdW5jdGlvbiBzdChlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyhuPW5lW3JdKV09aVsicGFkZGluZyIrbl09ZTtyZXR1cm4gdCYmKGkub3BhY2l0eT1pLndpZHRoPWUpLGl9ZnVuY3Rpb24gdXQoZSx0LG4pe2Zvcih2YXIgcixpPShsdC50d2VlbmVyc1t0XXx8W10pLmNvbmNhdChsdC50d2VlbmVyc1siKiJdKSxvPTAsYT1pLmxlbmd0aDtvPGE7bysrKWlmKHI9aVtvXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBsdChvLGUsdCl7dmFyIG4sYSxyPTAsaT1sdC5wcmVmaWx0ZXJzLmxlbmd0aCxzPVMuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgdS5lbGVtfSksdT1mdW5jdGlvbigpe2lmKGEpcmV0dXJuITE7Zm9yKHZhciBlPVplfHxhdCgpLHQ9TWF0aC5tYXgoMCxsLnN0YXJ0VGltZStsLmR1cmF0aW9uLWUpLG49MS0odC9sLmR1cmF0aW9ufHwwKSxyPTAsaT1sLnR3ZWVucy5sZW5ndGg7cjxpO3IrKylsLnR3ZWVuc1tyXS5ydW4obik7cmV0dXJuIHMubm90aWZ5V2l0aChvLFtsLG4sdF0pLG48MSYmaT90OihpfHxzLm5vdGlmeVdpdGgobyxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKG8sW2xdKSwhMSl9LGw9cy5wcm9taXNlKHtlbGVtOm8scHJvcHM6Uy5leHRlbmQoe30sZSksb3B0czpTLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6Uy5lYXNpbmcuX2RlZmF1bHR9LHQpLG9yaWdpbmFsUHJvcGVydGllczplLG9yaWdpbmFsT3B0aW9uczp0LHN0YXJ0VGltZTpaZXx8YXQoKSxkdXJhdGlvbjp0LmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihlLHQpe3ZhciBuPVMuVHdlZW4obyxsLm9wdHMsZSx0LGwub3B0cy5zcGVjaWFsRWFzaW5nW2VdfHxsLm9wdHMuZWFzaW5nKTtyZXR1cm4gbC50d2VlbnMucHVzaChuKSxufSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1lP2wudHdlZW5zLmxlbmd0aDowO2lmKGEpcmV0dXJuIHRoaXM7Zm9yKGE9ITA7dDxuO3QrKylsLnR3ZWVuc1t0XS5ydW4oMSk7cmV0dXJuIGU/KHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbCxlXSkpOnMucmVqZWN0V2l0aChvLFtsLGVdKSx0aGlzfX0pLGM9bC5wcm9wcztmb3IoIWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKGk9dFtyPVgobildLG89ZVtuXSxBcnJheS5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSksKGE9Uy5jc3NIb29rc1tyXSkmJiJleHBhbmQiaW4gYSlmb3IobiBpbiBvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdLG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSk7ZWxzZSB0W3JdPWl9KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO3I8aTtyKyspaWYobj1sdC5wcmVmaWx0ZXJzW3JdLmNhbGwobCxvLGMsbC5vcHRzKSlyZXR1cm4gbShuLnN0b3ApJiYoUy5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPW4uc3RvcC5iaW5kKG4pKSxuO3JldHVybiBTLm1hcChjLHV0LGwpLG0obC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwobyxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSxTLmZ4LnRpbWVyKFMuZXh0ZW5kKHUse2VsZW06byxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9Uy5BbmltYXRpb249Uy5leHRlbmQobHQse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVhdGVUd2VlbihlLHQpO3JldHVybiBzZShuLmVsZW0sZSx0ZS5leGVjKHQpLG4pLG59XX0sdHdlZW5lcjpmdW5jdGlvbihlLHQpe20oZSk/KHQ9ZSxlPVsiKiJdKTplPWUubWF0Y2goUCk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLGx0LnR3ZWVuZXJzW25dPWx0LnR3ZWVuZXJzW25dfHxbXSxsdC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYyxmPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQscD10aGlzLGQ9e30saD1lLnN0eWxlLGc9ZS5ub2RlVHlwZSYmYWUoZSksdj1ZLmdldChlLCJmeHNob3ciKTtmb3IociBpbiBuLnF1ZXVlfHwobnVsbD09KGE9Uy5fcXVldWVIb29rcyhlLCJmeCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxzPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxzKCl9KSxhLnVucXVldWVkKysscC5hbHdheXMoZnVuY3Rpb24oKXtwLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSxTLnF1ZXVlKGUsImZ4IikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoaT10W3JdLHJ0LnRlc3QoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8InRvZ2dsZSI9PT1pLGk9PT0oZz8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09aXx8IXZ8fHZvaWQgMD09PXZbcl0pY29udGludWU7Zz0hMH1kW3JdPXYmJnZbcl18fFMuc3R5bGUoZSxyKX1pZigodT0hUy5pc0VtcHR5T2JqZWN0KHQpKXx8IVMuaXNFbXB0eU9iamVjdChkKSlmb3IociBpbiBmJiYxPT09ZS5ub2RlVHlwZSYmKG4ub3ZlcmZsb3c9W2gub3ZlcmZsb3csaC5vdmVyZmxvd1gsaC5vdmVyZmxvd1ldLG51bGw9PShsPXYmJnYuZGlzcGxheSkmJihsPVkuZ2V0KGUsImRpc3BsYXkiKSksIm5vbmUiPT09KGM9Uy5jc3MoZSwiZGlzcGxheSIpKSYmKGw/Yz1sOihsZShbZV0sITApLGw9ZS5zdHlsZS5kaXNwbGF5fHxsLGM9Uy5jc3MoZSwiZGlzcGxheSIpLGxlKFtlXSkpKSwoImlubGluZSI9PT1jfHwiaW5saW5lLWJsb2NrIj09PWMmJm51bGwhPWwpJiYibm9uZSI9PT1TLmNzcyhlLCJmbG9hdCIpJiYodXx8KHAuZG9uZShmdW5jdGlvbigpe2guZGlzcGxheT1sfSksbnVsbD09bCYmKGM9aC5kaXNwbGF5LGw9Im5vbmUiPT09Yz8iIjpjKSksaC5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksbi5vdmVyZmxvdyYmKGgub3ZlcmZsb3c9ImhpZGRlbiIscC5hbHdheXMoZnVuY3Rpb24oKXtoLm92ZXJmbG93PW4ub3ZlcmZsb3dbMF0saC5vdmVyZmxvd1g9bi5vdmVyZmxvd1sxXSxoLm92ZXJmbG93WT1uLm92ZXJmbG93WzJdfSkpLHU9ITEsZCl1fHwodj8iaGlkZGVuImluIHYmJihnPXYuaGlkZGVuKTp2PVkuYWNjZXNzKGUsImZ4c2hvdyIse2Rpc3BsYXk6bH0pLG8mJih2LmhpZGRlbj0hZyksZyYmbGUoW2VdLCEwKSxwLmRvbmUoZnVuY3Rpb24oKXtmb3IociBpbiBnfHxsZShbZV0pLFkucmVtb3ZlKGUsImZ4c2hvdyIpLGQpUy5zdHlsZShlLHIsZFtyXSl9KSksdT11dChnP3Zbcl06MCxyLHApLHIgaW4gdnx8KHZbcl09dS5zdGFydCxnJiYodS5lbmQ9dS5zdGFydCx1LnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/bHQucHJlZmlsdGVycy51bnNoaWZ0KGUpOmx0LnByZWZpbHRlcnMucHVzaChlKX19KSxTLnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiYib2JqZWN0Ij09dHlwZW9mIGU/Uy5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHxtKGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiFtKHQpJiZ0fTtyZXR1cm4gUy5meC5vZmY/ci5kdXJhdGlvbj0wOiJudW1iZXIiIT10eXBlb2Ygci5kdXJhdGlvbiYmKHIuZHVyYXRpb24gaW4gUy5meC5zcGVlZHM/ci5kdXJhdGlvbj1TLmZ4LnNwZWVkc1tyLmR1cmF0aW9uXTpyLmR1cmF0aW9uPVMuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1yLnF1ZXVlJiYhMCE9PXIucXVldWV8fChyLnF1ZXVlPSJmeCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe20oci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJlMuZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSxTLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihhZSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxlLG4scil9LGFuaW1hdGU6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9Uy5pc0VtcHR5T2JqZWN0KHQpLG89Uy5zcGVlZChlLG4sciksYT1mdW5jdGlvbigpe3ZhciBlPWx0KHRoaXMsUy5leHRlbmQoe30sdCksbyk7KGl8fFkuZ2V0KHRoaXMsImZpbmlzaCIpKSYmZS5zdG9wKCEwKX07cmV0dXJuIGEuZmluaXNoPWEsaXx8ITE9PT1vLnF1ZXVlP3RoaXMuZWFjaChhKTp0aGlzLnF1ZXVlKG8ucXVldWUsYSl9LHN0b3A6ZnVuY3Rpb24oaSxlLG8pe3ZhciBhPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RvcDtkZWxldGUgZS5zdG9wLHQobyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgaSYmKG89ZSxlPWksaT12b2lkIDApLGUmJnRoaXMucXVldWUoaXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9ITAsdD1udWxsIT1pJiZpKyJxdWV1ZUhvb2tzIixuPVMudGltZXJzLHI9WS5nZXQodGhpcyk7aWYodClyW3RdJiZyW3RdLnN0b3AmJmEoclt0XSk7ZWxzZSBmb3IodCBpbiByKXJbdF0mJnJbdF0uc3RvcCYmaXQudGVzdCh0KSYmYShyW3RdKTtmb3IodD1uLmxlbmd0aDt0LS07KW5bdF0uZWxlbSE9PXRoaXN8fG51bGwhPWkmJm5bdF0ucXVldWUhPT1pfHwoblt0XS5hbmltLnN0b3AobyksZT0hMSxuLnNwbGljZSh0LDEpKTshZSYmb3x8Uy5kZXF1ZXVlKHRoaXMsaSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiExIT09YSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdD1ZLmdldCh0aGlzKSxuPXRbYSsicXVldWUiXSxyPXRbYSsicXVldWVIb29rcyJdLGk9Uy50aW1lcnMsbz1uP24ubGVuZ3RoOjA7Zm9yKHQuZmluaXNoPSEwLFMucXVldWUodGhpcyxhLFtdKSxyJiZyLnN0b3AmJnIuc3RvcC5jYWxsKHRoaXMsITApLGU9aS5sZW5ndGg7ZS0tOylpW2VdLmVsZW09PT10aGlzJiZpW2VdLnF1ZXVlPT09YSYmKGlbZV0uYW5pbS5zdG9wKCEwKSxpLnNwbGljZShlLDEpKTtmb3IoZT0wO2U8bztlKyspbltlXSYmbltlXS5maW5pc2gmJm5bZV0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIHQuZmluaXNofSl9fSksUy5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihlLHIpe3ZhciBpPVMuZm5bcl07Uy5mbltyXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKHN0KHIsITApLGUsdCxuKX19KSxTLmVhY2goe3NsaWRlRG93bjpzdCgic2hvdyIpLHNsaWRlVXA6c3QoImhpZGUiKSxzbGlkZVRvZ2dsZTpzdCgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihlLHIpe1MuZm5bZV09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmFuaW1hdGUocixlLHQsbil9fSksUy50aW1lcnM9W10sUy5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49Uy50aW1lcnM7Zm9yKFplPURhdGUubm93KCk7dDxuLmxlbmd0aDt0KyspKGU9blt0XSkoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8Uy5meC5zdG9wKCksWmU9dm9pZCAwfSxTLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe1MudGltZXJzLnB1c2goZSksUy5meC5zdGFydCgpfSxTLmZ4LmludGVydmFsPTEzLFMuZnguc3RhcnQ9ZnVuY3Rpb24oKXtldHx8KGV0PSEwLG90KCkpfSxTLmZ4LnN0b3A9ZnVuY3Rpb24oKXtldD1udWxsfSxTLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxTLmZuLmRlbGF5PWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHI9Uy5meCYmUy5meC5zcGVlZHNbcl18fHIsZT1lfHwiZngiLHRoaXMucXVldWUoZSxmdW5jdGlvbihlLHQpe3ZhciBuPUMuc2V0VGltZW91dChlLHIpO3Quc3RvcD1mdW5jdGlvbigpe0MuY2xlYXJUaW1lb3V0KG4pfX0pfSx0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksbnQ9RS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChFLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSx0dC50eXBlPSJjaGVja2JveCIseS5jaGVja09uPSIiIT09dHQudmFsdWUseS5vcHRTZWxlY3RlZD1udC5zZWxlY3RlZCwodHQ9RS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS52YWx1ZT0idCIsdHQudHlwZT0icmFkaW8iLHkucmFkaW9WYWx1ZT0idCI9PT10dC52YWx1ZTt2YXIgY3QsZnQ9Uy5leHByLmF0dHJIYW5kbGU7Uy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMuYXR0cixlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uy5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxTLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP1MucHJvcChlLHQsbik6KDE9PT1vJiZTLmlzWE1MRG9jKGUpfHwoaT1TLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoUy5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9jdDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgUy5yZW1vdmVBdHRyKGUsdCk6aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjpudWxsPT0ocj1TLmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIXkucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJkEoZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10JiZ0Lm1hdGNoKFApO2lmKGkmJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49aVtyKytdKWUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLGN0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09dD9TLnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxTLmVhY2goUy5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgYT1mdFt0XXx8Uy5maW5kLmF0dHI7ZnRbdF09ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIG58fChpPWZ0W29dLGZ0W29dPXIscj1udWxsIT1hKGUsdCxuKT9vOm51bGwsZnRbb109aSkscn19KTt2YXIgcHQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxkdD0vXig/OmF8YXJlYSkkL2k7ZnVuY3Rpb24gaHQoZSl7cmV0dXJuKGUubWF0Y2goUCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24gZ3QoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZToic3RyaW5nIj09dHlwZW9mIGUmJmUubWF0Y2goUCl8fFtdfVMuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuICQodGhpcyxTLnByb3AsZSx0LDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW1MucHJvcEZpeFtlXXx8ZV19KX19KSxTLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gMT09PW8mJlMuaXNYTUxEb2MoZSl8fCh0PVMucHJvcEZpeFt0XXx8dCxpPVMucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJiJzZXQiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD1TLmZpbmQuYXR0cihlLCJ0YWJpbmRleCIpO3JldHVybiB0P3BhcnNlSW50KHQsMTApOnB0LnRlc3QoZS5ub2RlTmFtZSl8fGR0LnRlc3QoZS5ub2RlTmFtZSkmJmUuaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pLHkub3B0U2VsZWN0ZWR8fChTLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksUy5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtTLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSksUy5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzLHU9MDtpZihtKHQpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS5hZGRDbGFzcyh0LmNhbGwodGhpcyxlLGd0KHRoaXMpKSl9KTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXIuaW5kZXhPZigiICIrbysiICIpPDAmJihyKz1vKyIgIik7aSE9PShzPWh0KHIpKSYmbi5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnJlbW92ZUNsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKGU9dnQodCkpLmxlbmd0aCl3aGlsZShuPXRoaXNbdSsrXSlpZihpPWd0KG4pLHI9MT09PW4ubm9kZVR5cGUmJiIgIitodChpKSsiICIpe2E9MDt3aGlsZShvPWVbYSsrXSl3aGlsZSgtMTxyLmluZGV4T2YoIiAiK28rIiAiKSlyPXIucmVwbGFjZSgiICIrbysiICIsIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihpLHQpe3ZhciBvPXR5cGVvZiBpLGE9InN0cmluZyI9PT1vfHxBcnJheS5pc0FycmF5KGkpO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmE/dD90aGlzLmFkZENsYXNzKGkpOnRoaXMucmVtb3ZlQ2xhc3MoaSk6bShpKT90aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS50b2dnbGVDbGFzcyhpLmNhbGwodGhpcyxlLGd0KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7aWYoYSl7dD0wLG49Uyh0aGlzKSxyPXZ0KGkpO3doaWxlKGU9clt0KytdKW4uaGFzQ2xhc3MoZSk/bi5yZW1vdmVDbGFzcyhlKTpuLmFkZENsYXNzKGUpfWVsc2Ugdm9pZCAwIT09aSYmImJvb2xlYW4iIT09b3x8KChlPWd0KHRoaXMpKSYmWS5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsZSksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsZXx8ITE9PT1pPyIiOlkuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MDt0PSIgIitlKyIgIjt3aGlsZShuPXRoaXNbcisrXSlpZigxPT09bi5ub2RlVHlwZSYmLTE8KCIgIitodChndChuKSkrIiAiKS5pbmRleE9mKHQpKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB5dD0vXHIvZztTLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciByLGUsaSx0PXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bShuKSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odD1pP24uY2FsbCh0aGlzLGUsUyh0aGlzKS52YWwoKSk6bik/dD0iIjoibnVtYmVyIj09dHlwZW9mIHQ/dCs9IiI6QXJyYXkuaXNBcnJheSh0KSYmKHQ9Uy5tYXAodCxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpLChyPVMudmFsSG9va3NbdGhpcy50eXBlXXx8Uy52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiByJiZ2b2lkIDAhPT1yLnNldCh0aGlzLHQsInZhbHVlIil8fCh0aGlzLnZhbHVlPXQpKX0pKTp0PyhyPVMudmFsSG9va3NbdC50eXBlXXx8Uy52YWxIb29rc1t0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LCJ2YWx1ZSIpKT9lOiJzdHJpbmciPT10eXBlb2YoZT10LnZhbHVlKT9lLnJlcGxhY2UoeXQsIiIpOm51bGw9PWU/IiI6ZTp2b2lkIDB9fSksUy5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1TLmZpbmQuYXR0cihlLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6aHQoUy50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPSJzZWxlY3Qtb25lIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IUEobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD1TKG4pLnZhbCgpLGEpcmV0dXJuIHQ7cy5wdXNoKHQpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89Uy5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pKChyPWlbYV0pLnNlbGVjdGVkPS0xPFMuaW5BcnJheShTLnZhbEhvb2tzLm9wdGlvbi5nZXQociksbykpJiYobj0hMCk7cmV0dXJuIG58fChlLnNlbGVjdGVkSW5kZXg9LTEpLG99fX19KSxTLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtTLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlLmNoZWNrZWQ9LTE8Uy5pbkFycmF5KFMoZSkudmFsKCksdCl9fSx5LmNoZWNrT258fChTLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6ZS52YWx1ZX0pfSkseS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gQzt2YXIgbXQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLHh0PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O1MuZXh0ZW5kKFMuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsLGMsZixwPVtufHxFXSxkPXYuY2FsbChlLCJ0eXBlIik/ZS50eXBlOmUsaD12LmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihvPWY9YT1uPW58fEUsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhbXQudGVzdChkK1MuZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGQuaW5kZXhPZigiLiIpJiYoZD0oaD1kLnNwbGl0KCIuIikpLnNoaWZ0KCksaC5zb3J0KCkpLHU9ZC5pbmRleE9mKCI6Iik8MCYmIm9uIitkLChlPWVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGQsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPWguam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTpTLm1ha2VBcnJheSh0LFtlXSksYz1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LHJ8fCFjLnRyaWdnZXJ8fCExIT09Yy50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighciYmIWMubm9CdWJibGUmJiF4KG4pKXtmb3Iocz1jLmRlbGVnYXRlVHlwZXx8ZCxtdC50ZXN0KHMrZCl8fChvPW8ucGFyZW50Tm9kZSk7bztvPW8ucGFyZW50Tm9kZSlwLnB1c2gobyksYT1vO2E9PT0obi5vd25lckRvY3VtZW50fHxFKSYmcC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxDKX1pPTA7d2hpbGUoKG89cFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fGQsKGw9KFkuZ2V0KG8sImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVtlLnR5cGVdJiZZLmdldChvLCJoYW5kbGUiKSkmJmwuYXBwbHkobyx0KSwobD11JiZvW3VdKSYmbC5hcHBseSYmVihvKSYmKGUucmVzdWx0PWwuYXBwbHkobyx0KSwhMT09PWUucmVzdWx0JiZlLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBlLnR5cGU9ZCxyfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjLl9kZWZhdWx0JiYhMSE9PWMuX2RlZmF1bHQuYXBwbHkocC5wb3AoKSx0KXx8IVYobil8fHUmJm0obltkXSkmJiF4KG4pJiYoKGE9blt1XSkmJihuW3VdPW51bGwpLFMuZXZlbnQudHJpZ2dlcmVkPWQsZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLmFkZEV2ZW50TGlzdGVuZXIoZCx4dCksbltkXSgpLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmZi5yZW1vdmVFdmVudExpc3RlbmVyKGQseHQpLFMuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxhJiYoblt1XT1hKSksZS5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9Uy5leHRlbmQobmV3IFMuRXZlbnQsbix7dHlwZTplLGlzU2ltdWxhdGVkOiEwfSk7Uy5ldmVudC50cmlnZ2VyKHIsbnVsbCx0KX19KSxTLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpc1swXTtpZihuKXJldHVybiBTLmV2ZW50LnRyaWdnZXIoZSx0LG4sITApfX0pLHkuZm9jdXNpbnx8Uy5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHIpe3ZhciBpPWZ1bmN0aW9uKGUpe1MuZXZlbnQuc2ltdWxhdGUocixlLnRhcmdldCxTLmV2ZW50LmZpeChlKSl9O1MuZXZlbnQuc3BlY2lhbFtyXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpO3R8fGUuYWRkRXZlbnRMaXN0ZW5lcihuLGksITApLFkuYWNjZXNzKGUsciwodHx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLHQ9WS5hY2Nlc3MoZSxyKS0xO3Q/WS5hY2Nlc3MoZSxyLHQpOihlLnJlbW92ZUV2ZW50TGlzdGVuZXIobixpLCEwKSxZLnJlbW92ZShlLHIpKX19fSk7dmFyIGJ0PUMubG9jYXRpb24sd3Q9e2d1aWQ6RGF0ZS5ub3coKX0sVHQ9L1w/LztTLnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7dD0obmV3IEMuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChlKXt9cmV0dXJuIG49dCYmdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKVswXSx0JiYhbnx8Uy5lcnJvcigiSW52YWxpZCBYTUw6ICIrKG4/Uy5tYXAobi5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHRDb250ZW50fSkuam9pbigiXG4iKTplKSksdH07dmFyIEN0PS9cW1xdJC8sRXQ9L1xyP1xuL2csU3Q9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGt0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBBdChuLGUscixpKXt2YXIgdDtpZihBcnJheS5pc0FycmF5KGUpKVMuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cnx8Q3QudGVzdChuKT9pKG4sdCk6QXQobisiWyIrKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dD9lOiIiKSsiXSIsdCxyLGkpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PXcoZSkpaShuLGUpO2Vsc2UgZm9yKHQgaW4gZSlBdChuKyJbIit0KyJdIixlW3RdLHIsaSl9Uy5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3ZhciBuPW0odCk/dCgpOnQ7cltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09bj8iIjpuKX07aWYobnVsbD09ZSlyZXR1cm4iIjtpZihBcnJheS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIVMuaXNQbGFpbk9iamVjdChlKSlTLmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKUF0KG4sZVtuXSx0LGkpO3JldHVybiByLmpvaW4oIiYiKX0sUy5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBTLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9Uy5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGU/Uy5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhUyh0aGlzKS5pcygiOmRpc2FibGVkIikmJmt0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFTdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhcGUudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1TKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1uP251bGw6QXJyYXkuaXNBcnJheShuKT9TLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoRXQsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKEV0LCJcclxuIil9fSkuZ2V0KCl9fSk7dmFyIE50PS8lMjAvZyxqdD0vIy4qJC8sRHQ9LyhbPyZdKV89W14mXSovLHF0PS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sTHQ9L14oPzpHRVR8SEVBRCkkLyxIdD0vXlwvXC8vLE90PXt9LFB0PXt9LFJ0PSIqLyIuY29uY2F0KCIqIiksTXQ9RS5jcmVhdGVFbGVtZW50KCJhIik7ZnVuY3Rpb24gSXQobyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9IioiKTt2YXIgbixyPTAsaT1lLnRvTG93ZXJDYXNlKCkubWF0Y2goUCl8fFtdO2lmKG0odCkpd2hpbGUobj1pW3IrK10pIisiPT09blswXT8obj1uLnNsaWNlKDEpfHwiKiIsKG9bbl09b1tuXXx8W10pLnVuc2hpZnQodCkpOihvW25dPW9bbl18fFtdKS5wdXNoKHQpfX1mdW5jdGlvbiBXdCh0LGksbyxhKXt2YXIgcz17fSx1PXQ9PT1QdDtmdW5jdGlvbiBsKGUpe3ZhciByO3JldHVybiBzW2VdPSEwLFMuZWFjaCh0W2VdfHxbXSxmdW5jdGlvbihlLHQpe3ZhciBuPXQoaSxvLGEpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbIioiXSYmbCgiKiIpfWZ1bmN0aW9uIEZ0KGUsdCl7dmFyIG4scixpPVMuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJlMuZXh0ZW5kKCEwLGUsciksZX1NdC5ocmVmPWJ0LmhyZWYsUy5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmJ0LmhyZWYsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoYnQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UnQsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOlMucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P0Z0KEZ0KGUsUy5hamF4U2V0dGluZ3MpLHQpOkZ0KFMuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOkl0KE90KSxhamF4VHJhbnNwb3J0Okl0KFB0KSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9Uy5hamF4U2V0dXAoe30sdCkseT12LmNvbnRleHR8fHYsbT12LmNvbnRleHQmJih5Lm5vZGVUeXBlfHx5LmpxdWVyeSk/Uyh5KTpTLmV2ZW50LHg9Uy5EZWZlcnJlZCgpLGI9Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksdz12LnN0YXR1c0NvZGV8fHt9LGE9e30scz17fSx1PSJjYW5jZWxlZCIsVD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGgpe2lmKCFuKXtuPXt9O3doaWxlKHQ9cXQuZXhlYyhwKSluW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPShuW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pfXQ9bltlLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGg/cDpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWgmJihlPXNbZS50b0xvd2VyQ2FzZSgpXT1zW2UudG9Mb3dlckNhc2UoKV18fGUsYVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1oJiYodi5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoaClULmFsd2F5cyhlW1Quc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBlKXdbdF09W3dbdF0sZVt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWV8fHU7cmV0dXJuIGMmJmMuYWJvcnQodCksbCgwLHQpLHRoaXN9fTtpZih4LnByb21pc2UoVCksdi51cmw9KChlfHx2LnVybHx8YnQuaHJlZikrIiIpLnJlcGxhY2UoSHQsYnQucHJvdG9jb2wrIi8vIiksdi50eXBlPXQubWV0aG9kfHx0LnR5cGV8fHYubWV0aG9kfHx2LnR5cGUsdi5kYXRhVHlwZXM9KHYuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8WyIiXSxudWxsPT12LmNyb3NzRG9tYWluKXtyPUUuY3JlYXRlRWxlbWVudCgiYSIpO3RyeXtyLmhyZWY9di51cmwsci5ocmVmPXIuaHJlZix2LmNyb3NzRG9tYWluPU10LnByb3RvY29sKyIvLyIrTXQuaG9zdCE9ci5wcm90b2NvbCsiLy8iK3IuaG9zdH1jYXRjaChlKXt2LmNyb3NzRG9tYWluPSEwfX1pZih2LmRhdGEmJnYucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygdi5kYXRhJiYodi5kYXRhPVMucGFyYW0odi5kYXRhLHYudHJhZGl0aW9uYWwpKSxXdChPdCx2LHQsVCksaClyZXR1cm4gVDtmb3IoaSBpbihnPVMuZXZlbnQmJnYuZ2xvYmFsKSYmMD09Uy5hY3RpdmUrKyYmUy5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSx2LnR5cGU9di50eXBlLnRvVXBwZXJDYXNlKCksdi5oYXNDb250ZW50PSFMdC50ZXN0KHYudHlwZSksZj12LnVybC5yZXBsYWNlKGp0LCIiKSx2Lmhhc0NvbnRlbnQ/di5kYXRhJiZ2LnByb2Nlc3NEYXRhJiYwPT09KHYuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHYuZGF0YT12LmRhdGEucmVwbGFjZShOdCwiKyIpKToobz12LnVybC5zbGljZShmLmxlbmd0aCksdi5kYXRhJiYodi5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB2LmRhdGEpJiYoZis9KFR0LnRlc3QoZik/IiYiOiI/Iikrdi5kYXRhLGRlbGV0ZSB2LmRhdGEpLCExPT09di5jYWNoZSYmKGY9Zi5yZXBsYWNlKER0LCIkMSIpLG89KFR0LnRlc3QoZik/IiYiOiI/IikrIl89Iit3dC5ndWlkKysrbyksdi51cmw9ZitvKSx2LmlmTW9kaWZpZWQmJihTLmxhc3RNb2RpZmllZFtmXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsUy5sYXN0TW9kaWZpZWRbZl0pLFMuZXRhZ1tmXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixTLmV0YWdbZl0pKSwodi5kYXRhJiZ2Lmhhc0NvbnRlbnQmJiExIT09di5jb250ZW50VHlwZXx8dC5jb250ZW50VHlwZSkmJlQuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIix2LmNvbnRlbnRUeXBlKSxULnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsdi5kYXRhVHlwZXNbMF0mJnYuYWNjZXB0c1t2LmRhdGFUeXBlc1swXV0/di5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXSsoIioiIT09di5kYXRhVHlwZXNbMF0/IiwgIitSdCsiOyBxPTAuMDEiOiIiKTp2LmFjY2VwdHNbIioiXSksdi5oZWFkZXJzKVQuc2V0UmVxdWVzdEhlYWRlcihpLHYuaGVhZGVyc1tpXSk7aWYodi5iZWZvcmVTZW5kJiYoITE9PT12LmJlZm9yZVNlbmQuY2FsbCh5LFQsdil8fGgpKXJldHVybiBULmFib3J0KCk7aWYodT0iYWJvcnQiLGIuYWRkKHYuY29tcGxldGUpLFQuZG9uZSh2LnN1Y2Nlc3MpLFQuZmFpbCh2LmVycm9yKSxjPVd0KFB0LHYsdCxUKSl7aWYoVC5yZWFkeVN0YXRlPTEsZyYmbS50cmlnZ2VyKCJhamF4U2VuZCIsW1Qsdl0pLGgpcmV0dXJuIFQ7di5hc3luYyYmMDx2LnRpbWVvdXQmJihkPUMuc2V0VGltZW91dChmdW5jdGlvbigpe1QuYWJvcnQoInRpbWVvdXQiKX0sdi50aW1lb3V0KSk7dHJ5e2g9ITEsYy5zZW5kKGEsbCl9Y2F0Y2goZSl7aWYoaCl0aHJvdyBlO2woLTEsZSl9fWVsc2UgbCgtMSwiTm8gVHJhbnNwb3J0Iik7ZnVuY3Rpb24gbChlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9dDtofHwoaD0hMCxkJiZDLmNsZWFyVGltZW91dChkKSxjPXZvaWQgMCxwPXJ8fCIiLFQucmVhZHlTdGF0ZT0wPGU/NDowLGk9MjAwPD1lJiZlPDMwMHx8MzA0PT09ZSxuJiYocz1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX0odixULG4pKSwhaSYmLTE8Uy5pbkFycmF5KCJzY3JpcHQiLHYuZGF0YVR5cGVzKSYmUy5pbkFycmF5KCJqc29uIix2LmRhdGFUeXBlcyk8MCYmKHYuY29udmVydGVyc1sidGV4dCBzY3JpcHQiXT1mdW5jdGlvbigpe30pLHM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPXt9LGM9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihhIGluIGUuY29udmVydGVycylsW2EudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW2FdO289Yy5zaGlmdCgpO3doaWxlKG8paWYoZS5yZXNwb25zZUZpZWxkc1tvXSYmKG5bZS5yZXNwb25zZUZpZWxkc1tvXV09dCksIXUmJnImJmUuZGF0YUZpbHRlciYmKHQ9ZS5kYXRhRmlsdGVyKHQsZS5kYXRhVHlwZSkpLHU9byxvPWMuc2hpZnQoKSlpZigiKiI9PT1vKW89dTtlbHNlIGlmKCIqIiE9PXUmJnUhPT1vKXtpZighKGE9bFt1KyIgIitvXXx8bFsiKiAiK29dKSlmb3IoaSBpbiBsKWlmKChzPWkuc3BsaXQoIiAiKSlbMV09PT1vJiYoYT1sW3UrIiAiK3NbMF1dfHxsWyIqICIrc1swXV0pKXshMD09PWE/YT1sW2ldOiEwIT09bFtpXSYmKG89c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKCEwIT09YSlpZihhJiZlWyJ0aHJvd3MiXSl0PWEodCk7ZWxzZSB0cnl7dD1hKHQpfWNhdGNoKGUpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmE/ZToiTm8gY29udmVyc2lvbiBmcm9tICIrdSsiIHRvICIrb319fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX0odixzLFQsaSksaT8odi5pZk1vZGlmaWVkJiYoKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKSYmKFMubGFzdE1vZGlmaWVkW2ZdPXUpLCh1PVQuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSkmJihTLmV0YWdbZl09dSkpLDIwND09PWV8fCJIRUFEIj09PXYudHlwZT9sPSJub2NvbnRlbnQiOjMwND09PWU/bD0ibm90bW9kaWZpZWQiOihsPXMuc3RhdGUsbz1zLmRhdGEsaT0hKGE9cy5lcnJvcikpKTooYT1sLCFlJiZsfHwobD0iZXJyb3IiLGU8MCYmKGU9MCkpKSxULnN0YXR1cz1lLFQuc3RhdHVzVGV4dD0odHx8bCkrIiIsaT94LnJlc29sdmVXaXRoKHksW28sbCxUXSk6eC5yZWplY3RXaXRoKHksW1QsbCxhXSksVC5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLGcmJm0udHJpZ2dlcihpPyJhamF4U3VjY2VzcyI6ImFqYXhFcnJvciIsW1QsdixpP286YV0pLGIuZmlyZVdpdGgoeSxbVCxsXSksZyYmKG0udHJpZ2dlcigiYWpheENvbXBsZXRlIixbVCx2XSksLS1TLmFjdGl2ZXx8Uy5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9cmV0dXJuIFR9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmdldChlLHQsbiwianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUy5nZXQoZSx2b2lkIDAsdCwic2NyaXB0Iil9fSksUy5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGUsaSl7U1tpXT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbSh0KSYmKHI9cnx8bixuPXQsdD12b2lkIDApLFMuYWpheChTLmV4dGVuZCh7dXJsOmUsdHlwZTppLGRhdGFUeXBlOnIsZGF0YTp0LHN1Y2Nlc3M6bn0sUy5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUuaGVhZGVycykiY29udGVudC10eXBlIj09PXQudG9Mb3dlckNhc2UoKSYmKGUuY29udGVudFR5cGU9ZS5oZWFkZXJzW3RdfHwiIil9KSxTLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUy5hamF4KHt1cmw6ZSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKCl7fX0sZGF0YUZpbHRlcjpmdW5jdGlvbihlKXtTLmdsb2JhbEV2YWwoZSx0LG4pfX0pfSxTLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKG0oZSkmJihlPWUuY2FsbCh0aGlzWzBdKSksdD1TKGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdEVsZW1lbnRDaGlsZCllPWUuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGV9KS5hcHBlbmQodGhpcykpLHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihuKXtyZXR1cm4gbShuKT90aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS53cmFwSW5uZXIobi5jYWxsKHRoaXMsZSkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uyh0aGlzKSx0PWUuY29udGVudHMoKTt0Lmxlbmd0aD90LndyYXBBbGwobik6ZS5hcHBlbmQobil9KX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgbj1tKHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Uyh0aGlzKS53cmFwQWxsKG4/dC5jYWxsKHRoaXMsZSk6dCl9KX0sdW53cmFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudChlKS5ub3QoImJvZHkiKS5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSksdGhpc319KSxTLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIVMuZXhwci5wc2V1ZG9zLnZpc2libGUoZSl9LFMuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5vZmZzZXRXaWR0aHx8ZS5vZmZzZXRIZWlnaHR8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSxTLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBDLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe319O3ZhciBCdD17MDoyMDAsMTIyMzoyMDR9LCR0PVMuYWpheFNldHRpbmdzLnhocigpO3kuY29ycz0hISR0JiYid2l0aENyZWRlbnRpYWxzImluICR0LHkuYWpheD0kdD0hISR0LFMuYWpheFRyYW5zcG9ydChmdW5jdGlvbihpKXt2YXIgbyxhO2lmKHkuY29yc3x8JHQmJiFpLmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1pLnhocigpO2lmKHIub3BlbihpLnR5cGUsaS51cmwsaS5hc3luYyxpLnVzZXJuYW1lLGkucGFzc3dvcmQpLGkueGhyRmllbGRzKWZvcihuIGluIGkueGhyRmllbGRzKXJbbl09aS54aHJGaWVsZHNbbl07Zm9yKG4gaW4gaS5taW1lVHlwZSYmci5vdmVycmlkZU1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUoaS5taW1lVHlwZSksaS5jcm9zc0RvbWFpbnx8ZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLGUpci5zZXRSZXF1ZXN0SGVhZGVyKG4sZVtuXSk7bz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtvJiYobz1hPXIub25sb2FkPXIub25lcnJvcj1yLm9uYWJvcnQ9ci5vbnRpbWVvdXQ9ci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09ZT9yLmFib3J0KCk6ImVycm9yIj09PWU/Im51bWJlciIhPXR5cGVvZiByLnN0YXR1cz90KDAsImVycm9yIik6dChyLnN0YXR1cyxyLnN0YXR1c1RleHQpOnQoQnRbci5zdGF0dXNdfHxyLnN0YXR1cyxyLnN0YXR1c1RleHQsInRleHQiIT09KHIucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIHIucmVzcG9uc2VUZXh0P3tiaW5hcnk6ci5yZXNwb25zZX06e3RleHQ6ci5yZXNwb25zZVRleHR9LHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LHIub25sb2FkPW8oKSxhPXIub25lcnJvcj1yLm9udGltZW91dD1vKCJlcnJvciIpLHZvaWQgMCE9PXIub25hYm9ydD9yLm9uYWJvcnQ9YTpyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1yLnJlYWR5U3RhdGUmJkMuc2V0VGltZW91dChmdW5jdGlvbigpe28mJmEoKX0pfSxvPW8oImFib3J0Iik7dHJ5e3Iuc2VuZChpLmhhc0NvbnRlbnQmJmkuZGF0YXx8bnVsbCl9Y2F0Y2goZSl7aWYobyl0aHJvdyBlfX0sYWJvcnQ6ZnVuY3Rpb24oKXtvJiZvKCl9fX0pLFMuYWpheFByZWZpbHRlcihmdW5jdGlvbihlKXtlLmNyb3NzRG9tYWluJiYoZS5jb250ZW50cy5zY3JpcHQ9ITEpfSksUy5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZ2xvYmFsRXZhbChlKSxlfX19KSxTLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5jYWNoZSYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9IkdFVCIpfSksUy5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKG4pe3ZhciByLGk7aWYobi5jcm9zc0RvbWFpbnx8bi5zY3JpcHRBdHRycylyZXR1cm57c2VuZDpmdW5jdGlvbihlLHQpe3I9UygiPHNjcmlwdD4iKS5hdHRyKG4uc2NyaXB0QXR0cnN8fHt9KS5wcm9wKHtjaGFyc2V0Om4uc2NyaXB0Q2hhcnNldCxzcmM6bi51cmx9KS5vbigibG9hZCBlcnJvciIsaT1mdW5jdGlvbihlKXtyLnJlbW92ZSgpLGk9bnVsbCxlJiZ0KCJlcnJvciI9PT1lLnR5cGU/NDA0OjIwMCxlLnR5cGUpfSksRS5oZWFkLmFwcGVuZENoaWxkKHJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2kmJmkoKX19fSk7dmFyIF90LHp0PVtdLFV0PS8oPSlcPyg/PSZ8JCl8XD9cPy87Uy5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXp0LnBvcCgpfHxTLmV4cGFuZG8rIl8iK3d0Lmd1aWQrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLFMuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPSExIT09ZS5qc29ucCYmKFV0LnRlc3QoZS51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmVXQudGVzdChlLmRhdGEpJiYiZGF0YSIpO2lmKGF8fCJqc29ucCI9PT1lLmRhdGFUeXBlc1swXSlyZXR1cm4gcj1lLmpzb25wQ2FsbGJhY2s9bShlLmpzb25wQ2FsbGJhY2spP2UuanNvbnBDYWxsYmFjaygpOmUuanNvbnBDYWxsYmFjayxhP2VbYV09ZVthXS5yZXBsYWNlKFV0LCIkMSIrcik6ITEhPT1lLmpzb25wJiYoZS51cmwrPShUdC50ZXN0KGUudXJsKT8iJiI6Ij8iKStlLmpzb25wKyI9IityKSxlLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gb3x8Uy5lcnJvcihyKyIgd2FzIG5vdCBjYWxsZWQiKSxvWzBdfSxlLmRhdGFUeXBlc1swXT0ianNvbiIsaT1DW3JdLENbcl09ZnVuY3Rpb24oKXtvPWFyZ3VtZW50c30sbi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1pP1MoQykucmVtb3ZlUHJvcChyKTpDW3JdPWksZVtyXSYmKGUuanNvbnBDYWxsYmFjaz10Lmpzb25wQ2FsbGJhY2ssenQucHVzaChyKSksbyYmbShpKSYmaShvWzBdKSxvPWk9dm9pZCAwfSksInNjcmlwdCJ9KSx5LmNyZWF0ZUhUTUxEb2N1bWVudD0oKF90PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09X3QuY2hpbGROb2Rlcy5sZW5ndGgpLFMucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdHx8KHkuY3JlYXRlSFRNTERvY3VtZW50Pygocj0odD1FLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLmNyZWF0ZUVsZW1lbnQoImJhc2UiKSkuaHJlZj1FLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHIpKTp0PUUpLG89IW4mJltdLChpPU4uZXhlYyhlKSk/W3QuY3JlYXRlRWxlbWVudChpWzFdKV06KGk9eGUoW2VdLHQsbyksbyYmby5sZW5ndGgmJlMobykucmVtb3ZlKCksUy5tZXJnZShbXSxpLmNoaWxkTm9kZXMpKSk7dmFyIHIsaSxvfSxTLmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxzJiYocj1odChlLnNsaWNlKHMpKSxlPWUuc2xpY2UoMCxzKSksbSh0KT8obj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihpPSJQT1NUIiksMDxhLmxlbmd0aCYmUy5hamF4KHt1cmw6ZSx0eXBlOml8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLGEuaHRtbChyP1MoIjxkaXY+IikuYXBwZW5kKFMucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuYWx3YXlzKG4mJmZ1bmN0aW9uKGUsdCl7YS5lYWNoKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pfSksdGhpc30sUy5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFMuZ3JlcChTLnRpbWVycyxmdW5jdGlvbihlKXtyZXR1cm4gdD09PWUuZWxlbX0pLmxlbmd0aH0sUy5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9Uy5jc3MoZSwicG9zaXRpb24iKSxjPVMoZSksZj17fTsic3RhdGljIj09PWwmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHM9Yy5vZmZzZXQoKSxvPVMuY3NzKGUsInRvcCIpLHU9Uy5jc3MoZSwibGVmdCIpLCgiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwobyt1KS5pbmRleE9mKCJhdXRvIik/KGE9KHI9Yy5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSxtKHQpJiYodD10LmNhbGwoZSxuLFMuZXh0ZW5kKHt9LHMpKSksbnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1zLnRvcCthKSxudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LXMubGVmdCtpKSwidXNpbmciaW4gdD90LnVzaW5nLmNhbGwoZSxmKTpjLmNzcyhmKX19LFMuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09dD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihlKXtTLm9mZnNldC5zZXRPZmZzZXQodGhpcyx0LGUpfSk7dmFyIGUsbixyPXRoaXNbMF07cmV0dXJuIHI/ci5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ZS50b3Arbi5wYWdlWU9mZnNldCxsZWZ0OmUubGVmdCtuLnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH06dm9pZCAwfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09Uy5jc3MociwicG9zaXRpb24iKSl0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXt0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7d2hpbGUoZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09Uy5jc3MoZSwicG9zaXRpb24iKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT1TKGUpLm9mZnNldCgpKS50b3ArPVMuY3NzKGUsImJvcmRlclRvcFdpZHRoIiwhMCksaS5sZWZ0Kz1TLmNzcyhlLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC1TLmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtUy5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGUmJiJzdGF0aWMiPT09Uy5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxyZX0pfX0pLFMuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbih0LGkpe3ZhciBvPSJwYWdlWU9mZnNldCI9PT1pO1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoeChlKT9yPWU6OT09PWUubm9kZVR5cGUmJihyPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PW4pcmV0dXJuIHI/cltpXTplW3RdO3I/ci5zY3JvbGxUbyhvP3IucGFnZVhPZmZzZXQ6bixvP246ci5wYWdlWU9mZnNldCk6ZVt0XT1ufSx0LGUsYXJndW1lbnRzLmxlbmd0aCl9fSksUy5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsbil7Uy5jc3NIb29rc1tuXT1GZSh5LnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiB0PVdlKGUsbiksUGUudGVzdCh0KT9TKGUpLnBvc2l0aW9uKClbbl0rInB4Ijp0fSl9KSxTLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLHMpe1MuZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpzLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24ocixvKXtTLmZuW29dPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCYmKHJ8fCJib29sZWFuIiE9dHlwZW9mIGUpLGk9cnx8KCEwPT09ZXx8ITA9PT10PyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4geChlKT8wPT09by5pbmRleE9mKCJvdXRlciIpP2VbImlubmVyIithXTplLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09ZS5ub2RlVHlwZT8ocj1lLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChlLmJvZHlbInNjcm9sbCIrYV0sclsic2Nyb2xsIithXSxlLmJvZHlbIm9mZnNldCIrYV0sclsib2Zmc2V0IithXSxyWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09bj9TLmNzcyhlLHQsaSk6Uy5zdHlsZShlLHQsbixpKX0scyxuP2U6dm9pZCAwLG4pfX0pfSksUy5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oZSx0KXtTLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSksUy5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsIioqIik6dGhpcy5vZmYodCxlfHwiKioiLG4pfSxob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX19KSxTLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSxuKXtTLmZuW25dPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKG4sbnVsbCxlLHQpOnRoaXMudHJpZ2dlcihuKX19KTt2YXIgWHQ9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO1MucHJveHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLG0oZSkpcmV0dXJuIHI9cy5jYWxsKGFyZ3VtZW50cywyKSwoaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQocy5jYWxsKGFyZ3VtZW50cykpKX0pLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8Uy5ndWlkKyssaX0sUy5ob2xkUmVhZHk9ZnVuY3Rpb24oZSl7ZT9TLnJlYWR5V2FpdCsrOlMucmVhZHkoITApfSxTLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxTLnBhcnNlSlNPTj1KU09OLnBhcnNlLFMubm9kZU5hbWU9QSxTLmlzRnVuY3Rpb249bSxTLmlzV2luZG93PXgsUy5jYW1lbENhc2U9WCxTLnR5cGU9dyxTLm5vdz1EYXRlLm5vdyxTLmlzTnVtZXJpYz1mdW5jdGlvbihlKXt2YXIgdD1TLnR5cGUoZSk7cmV0dXJuKCJudW1iZXIiPT09dHx8InN0cmluZyI9PT10KSYmIWlzTmFOKGUtcGFyc2VGbG9hdChlKSl9LFMudHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZShYdCwiIil9LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBTfSk7dmFyIFZ0PUMualF1ZXJ5LEd0PUMuJDtyZXR1cm4gUy5ub0NvbmZsaWN0PWZ1bmN0aW9uKGUpe3JldHVybiBDLiQ9PT1TJiYoQy4kPUd0KSxlJiZDLmpRdWVyeT09PVMmJihDLmpRdWVyeT1WdCksU30sInVuZGVmaW5lZCI9PXR5cGVvZiBlJiYoQy5qUXVlcnk9Qy4kPVMpLFN9KTsNCg0KLyohIGpRdWVyeSBWYWxpZGF0aW9uIFBsdWdpbiAtIHYxLjE5LjUgLSA3LzEvMjAyMg0KICogaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy8NCiAqIENvcHlyaWdodCAoYykgMjAyMiBKw7ZybiBaYWVmZmVyZXI7IExpY2Vuc2VkIE1JVCAqLw0KIWZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sYSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZSgianF1ZXJ5IikpOmEoalF1ZXJ5KX0oZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5mbix7dmFsaWRhdGU6ZnVuY3Rpb24oYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB2b2lkKGImJmIuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIk5vdGhpbmcgc2VsZWN0ZWQsIGNhbid0IHZhbGlkYXRlLCByZXR1cm5pbmcgbm90aGluZy4iKSk7dmFyIGM9YS5kYXRhKHRoaXNbMF0sInZhbGlkYXRvciIpO3JldHVybiBjP2M6KHRoaXMuYXR0cigibm92YWxpZGF0ZSIsIm5vdmFsaWRhdGUiKSxjPW5ldyBhLnZhbGlkYXRvcihiLHRoaXNbMF0pLGEuZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiLGMpLGMuc2V0dGluZ3Mub25zdWJtaXQmJih0aGlzLm9uKCJjbGljay52YWxpZGF0ZSIsIjpzdWJtaXQiLGZ1bmN0aW9uKGIpe2Muc3VibWl0QnV0dG9uPWIuY3VycmVudFRhcmdldCxhKHRoaXMpLmhhc0NsYXNzKCJjYW5jZWwiKSYmKGMuY2FuY2VsU3VibWl0PSEwKSx2b2lkIDAhPT1hKHRoaXMpLmF0dHIoImZvcm1ub3ZhbGlkYXRlIikmJihjLmNhbmNlbFN1Ym1pdD0hMCl9KSx0aGlzLm9uKCJzdWJtaXQudmFsaWRhdGUiLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoKXt2YXIgZCxlO3JldHVybiBjLnN1Ym1pdEJ1dHRvbiYmKGMuc2V0dGluZ3Muc3VibWl0SGFuZGxlcnx8Yy5mb3JtU3VibWl0dGVkKSYmKGQ9YSgiPGlucHV0IHR5cGU9J2hpZGRlbicvPiIpLmF0dHIoIm5hbWUiLGMuc3VibWl0QnV0dG9uLm5hbWUpLnZhbChhKGMuc3VibWl0QnV0dG9uKS52YWwoKSkuYXBwZW5kVG8oYy5jdXJyZW50Rm9ybSkpLCEoYy5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyJiYhYy5zZXR0aW5ncy5kZWJ1Zyl8fChlPWMuc2V0dGluZ3Muc3VibWl0SGFuZGxlci5jYWxsKGMsYy5jdXJyZW50Rm9ybSxiKSxkJiZkLnJlbW92ZSgpLHZvaWQgMCE9PWUmJmUpfXJldHVybiBjLnNldHRpbmdzLmRlYnVnJiZiLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWxTdWJtaXQ/KGMuY2FuY2VsU3VibWl0PSExLGQoKSk6Yy5mb3JtKCk/Yy5wZW5kaW5nUmVxdWVzdD8oYy5mb3JtU3VibWl0dGVkPSEwLCExKTpkKCk6KGMuZm9jdXNJbnZhbGlkKCksITEpfSkpLGMpfSx2YWxpZDpmdW5jdGlvbigpe3ZhciBiLGMsZDtyZXR1cm4gYSh0aGlzWzBdKS5pcygiZm9ybSIpP2I9dGhpcy52YWxpZGF0ZSgpLmZvcm0oKTooZD1bXSxiPSEwLGM9YSh0aGlzWzBdLmZvcm0pLnZhbGlkYXRlKCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yj1jLmVsZW1lbnQodGhpcykmJmIsYnx8KGQ9ZC5jb25jYXQoYy5lcnJvckxpc3QpKX0pLGMuZXJyb3JMaXN0PWQpLGJ9LHJ1bGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaCxpLGo9dGhpc1swXSxrPSJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYobnVsbCE9aiYmKCFqLmZvcm0mJmsmJihqLmZvcm09dGhpcy5jbG9zZXN0KCJmb3JtIilbMF0sai5uYW1lPXRoaXMuYXR0cigibmFtZSIpKSxudWxsIT1qLmZvcm0pKXtpZihiKXN3aXRjaChkPWEuZGF0YShqLmZvcm0sInZhbGlkYXRvciIpLnNldHRpbmdzLGU9ZC5ydWxlcyxmPWEudmFsaWRhdG9yLnN0YXRpY1J1bGVzKGopLGIpe2Nhc2UiYWRkIjphLmV4dGVuZChmLGEudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoYykpLGRlbGV0ZSBmLm1lc3NhZ2VzLGVbai5uYW1lXT1mLGMubWVzc2FnZXMmJihkLm1lc3NhZ2VzW2oubmFtZV09YS5leHRlbmQoZC5tZXNzYWdlc1tqLm5hbWVdLGMubWVzc2FnZXMpKTticmVhaztjYXNlInJlbW92ZSI6cmV0dXJuIGM/KGk9e30sYS5lYWNoKGMuc3BsaXQoL1xzLyksZnVuY3Rpb24oYSxiKXtpW2JdPWZbYl0sZGVsZXRlIGZbYl19KSxpKTooZGVsZXRlIGVbai5uYW1lXSxmKX1yZXR1cm4gZz1hLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlcyhhLmV4dGVuZCh7fSxhLnZhbGlkYXRvci5jbGFzc1J1bGVzKGopLGEudmFsaWRhdG9yLmF0dHJpYnV0ZVJ1bGVzKGopLGEudmFsaWRhdG9yLmRhdGFSdWxlcyhqKSxhLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhqKSksaiksZy5yZXF1aXJlZCYmKGg9Zy5yZXF1aXJlZCxkZWxldGUgZy5yZXF1aXJlZCxnPWEuZXh0ZW5kKHtyZXF1aXJlZDpofSxnKSksZy5yZW1vdGUmJihoPWcucmVtb3RlLGRlbGV0ZSBnLnJlbW90ZSxnPWEuZXh0ZW5kKGcse3JlbW90ZTpofSkpLGd9fX0pO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX07YS5leHRlbmQoYS5leHByLnBzZXVkb3N8fGEuZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbihjKXtyZXR1cm4hYigiIithKGMpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKGMpe3ZhciBkPWEoYykudmFsKCk7cmV0dXJuIG51bGwhPT1kJiYhIWIoIiIrZCl9LHVuY2hlY2tlZDpmdW5jdGlvbihiKXtyZXR1cm4hYShiKS5wcm9wKCJjaGVja2VkIil9fSksYS52YWxpZGF0b3I9ZnVuY3Rpb24oYixjKXt0aGlzLnNldHRpbmdzPWEuZXh0ZW5kKCEwLHt9LGEudmFsaWRhdG9yLmRlZmF1bHRzLGIpLHRoaXMuY3VycmVudEZvcm09Yyx0aGlzLmluaXQoKX0sYS52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGM9YS5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gYy51bnNoaWZ0KGIpLGEudmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGMpfTp2b2lkIDA9PT1jP2I6KGFyZ3VtZW50cy5sZW5ndGg+MiYmYy5jb25zdHJ1Y3RvciE9PUFycmF5JiYoYz1hLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxjLmNvbnN0cnVjdG9yIT09QXJyYXkmJihjPVtjXSksYS5lYWNoKGMsZnVuY3Rpb24oYSxjKXtiPWIucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK2ErIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBjfSl9KSxiKX0sYS5leHRlbmQoYS52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6YShbXSksZXJyb3JMYWJlbENvbnRhaW5lcjphKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihhKXt0aGlzLmxhc3RBY3RpdmU9YSx0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGEsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IoYSkpKX0sb25mb2N1c291dDpmdW5jdGlvbihhKXt0aGlzLmNoZWNrYWJsZShhKXx8IShhLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQpJiZ0aGlzLm9wdGlvbmFsKGEpfHx0aGlzLmVsZW1lbnQoYSl9LG9ua2V5dXA6ZnVuY3Rpb24oYixjKXt2YXIgZD1bMTYsMTcsMTgsMjAsMzUsMzYsMzcsMzgsMzksNDAsNDUsMTQ0LDIyNV07OT09PWMud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUoYil8fGEuaW5BcnJheShjLmtleUNvZGUsZCkhPT0tMXx8KGIubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZHx8Yi5uYW1lIGluIHRoaXMuaW52YWxpZCkmJnRoaXMuZWxlbWVudChiKX0sb25jbGljazpmdW5jdGlvbihhKXthLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQ/dGhpcy5lbGVtZW50KGEpOmEucGFyZW50Tm9kZS5uYW1lIGluIHRoaXMuc3VibWl0dGVkJiZ0aGlzLmVsZW1lbnQoYS5wYXJlbnROb2RlKX0saGlnaGxpZ2h0OmZ1bmN0aW9uKGIsYyxkKXsicmFkaW8iPT09Yi50eXBlP3RoaXMuZmluZEJ5TmFtZShiLm5hbWUpLmFkZENsYXNzKGMpLnJlbW92ZUNsYXNzKGQpOmEoYikuYWRkQ2xhc3MoYykucmVtb3ZlQ2xhc3MoZCl9LHVuaGlnaGxpZ2h0OmZ1bmN0aW9uKGIsYyxkKXsicmFkaW8iPT09Yi50eXBlP3RoaXMuZmluZEJ5TmFtZShiLm5hbWUpLnJlbW92ZUNsYXNzKGMpLmFkZENsYXNzKGQpOmEoYikucmVtb3ZlQ2xhc3MoYykuYWRkQ2xhc3MoZCl9fSxzZXREZWZhdWx0czpmdW5jdGlvbihiKXthLmV4dGVuZChhLnZhbGlkYXRvci5kZWZhdWx0cyxiKX0sbWVzc2FnZXM6e3JlcXVpcmVkOiJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLiIscmVtb3RlOiJQbGVhc2UgZml4IHRoaXMgZmllbGQuIixlbWFpbDoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4iLHVybDoiUGxlYXNlIGVudGVyIGEgdmFsaWQgVVJMLiIsZGF0ZToiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZS4iLGRhdGVJU086IlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUgKElTTykuIixudW1iZXI6IlBsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlci4iLGRpZ2l0czoiUGxlYXNlIGVudGVyIG9ubHkgZGlnaXRzLiIsZXF1YWxUbzoiUGxlYXNlIGVudGVyIHRoZSBzYW1lIHZhbHVlIGFnYWluLiIsbWF4bGVuZ3RoOmEudmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIG5vIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVycy4iKSxtaW5sZW5ndGg6YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYXQgbGVhc3QgezB9IGNoYXJhY3RlcnMuIikscmFuZ2VsZW5ndGg6YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9IGNoYXJhY3RlcnMgbG9uZy4iKSxyYW5nZTphLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0uIiksbWF4OmEudmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHswfS4iKSxtaW46YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLHN0ZXA6YS52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSBtdWx0aXBsZSBvZiB7MH0uIil9LGF1dG9DcmVhdGVSYW5nZXM6ITEscHJvdG90eXBlOntpbml0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEodGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1hKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKCF0aGlzLmZvcm0mJmMmJih0aGlzLmZvcm09YSh0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPWEodGhpcykuYXR0cigibmFtZSIpKSxkPT09dGhpcy5mb3JtKXt2YXIgZT1hLmRhdGEodGhpcy5mb3JtLCJ2YWxpZGF0b3IiKSxmPSJvbiIrYi50eXBlLnJlcGxhY2UoL152YWxpZGF0ZS8sIiIpLGc9ZS5zZXR0aW5ncztnW2ZdJiYhYSh0aGlzKS5pcyhnLmlnbm9yZSkmJmdbZl0uY2FsbChlLHRoaXMsYil9fXRoaXMubGFiZWxDb250YWluZXI9YSh0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpLHRoaXMuZXJyb3JDb250ZXh0PXRoaXMubGFiZWxDb250YWluZXIubGVuZ3RoJiZ0aGlzLmxhYmVsQ29udGFpbmVyfHxhKHRoaXMuY3VycmVudEZvcm0pLHRoaXMuY29udGFpbmVycz1hKHRoaXMuc2V0dGluZ3MuZXJyb3JDb250YWluZXIpLmFkZCh0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpLHRoaXMuc3VibWl0dGVkPXt9LHRoaXMudmFsdWVDYWNoZT17fSx0aGlzLnBlbmRpbmdSZXF1ZXN0PTAsdGhpcy5wZW5kaW5nPXt9LHRoaXMuaW52YWxpZD17fSx0aGlzLnJlc2V0KCk7dmFyIGMsZD10aGlzLmN1cnJlbnRGb3JtLGU9dGhpcy5ncm91cHM9e307YS5lYWNoKHRoaXMuc2V0dGluZ3MuZ3JvdXBzLGZ1bmN0aW9uKGIsYyl7InN0cmluZyI9PXR5cGVvZiBjJiYoYz1jLnNwbGl0KC9ccy8pKSxhLmVhY2goYyxmdW5jdGlvbihhLGMpe2VbY109Yn0pfSksYz10aGlzLnNldHRpbmdzLnJ1bGVzLGEuZWFjaChjLGZ1bmN0aW9uKGIsZCl7Y1tiXT1hLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGQpfSksYSh0aGlzLmN1cnJlbnRGb3JtKS5vbigiZm9jdXNpbi52YWxpZGF0ZSBmb2N1c291dC52YWxpZGF0ZSBrZXl1cC52YWxpZGF0ZSIsIjp0ZXh0LCBbdHlwZT0ncGFzc3dvcmQnXSwgW3R5cGU9J2ZpbGUnXSwgc2VsZWN0LCB0ZXh0YXJlYSwgW3R5cGU9J251bWJlciddLCBbdHlwZT0nc2VhcmNoJ10sIFt0eXBlPSd0ZWwnXSwgW3R5cGU9J3VybCddLCBbdHlwZT0nZW1haWwnXSwgW3R5cGU9J2RhdGV0aW1lJ10sIFt0eXBlPSdkYXRlJ10sIFt0eXBlPSdtb250aCddLCBbdHlwZT0nd2VlayddLCBbdHlwZT0ndGltZSddLCBbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgW3R5cGU9J3JhbmdlJ10sIFt0eXBlPSdjb2xvciddLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10sIFtjb250ZW50ZWRpdGFibGVdLCBbdHlwZT0nYnV0dG9uJ10iLGIpLm9uKCJjbGljay52YWxpZGF0ZSIsInNlbGVjdCwgb3B0aW9uLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10iLGIpLHRoaXMuc2V0dGluZ3MuaW52YWxpZEhhbmRsZXImJmEodGhpcy5jdXJyZW50Rm9ybSkub24oImludmFsaWQtZm9ybS52YWxpZGF0ZSIsdGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlcil9LGZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja0Zvcm0oKSxhLmV4dGVuZCh0aGlzLnN1Ym1pdHRlZCx0aGlzLmVycm9yTWFwKSx0aGlzLmludmFsaWQ9YS5leHRlbmQoe30sdGhpcy5lcnJvck1hcCksdGhpcy52YWxpZCgpfHxhKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5zaG93RXJyb3JzKCksdGhpcy52YWxpZCgpfSxjaGVja0Zvcm06ZnVuY3Rpb24oKXt0aGlzLnByZXBhcmVGb3JtKCk7Zm9yKHZhciBhPTAsYj10aGlzLmN1cnJlbnRFbGVtZW50cz10aGlzLmVsZW1lbnRzKCk7YlthXTthKyspdGhpcy5jaGVjayhiW2FdKTtyZXR1cm4gdGhpcy52YWxpZCgpfSxlbGVtZW50OmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT10aGlzLmNsZWFuKGIpLGY9dGhpcy52YWxpZGF0aW9uVGFyZ2V0Rm9yKGUpLGc9dGhpcyxoPSEwO3JldHVybiB2b2lkIDA9PT1mP2RlbGV0ZSB0aGlzLmludmFsaWRbZS5uYW1lXToodGhpcy5wcmVwYXJlRWxlbWVudChmKSx0aGlzLmN1cnJlbnRFbGVtZW50cz1hKGYpLGQ9dGhpcy5ncm91cHNbZi5uYW1lXSxkJiZhLmVhY2godGhpcy5ncm91cHMsZnVuY3Rpb24oYSxiKXtiPT09ZCYmYSE9PWYubmFtZSYmKGU9Zy52YWxpZGF0aW9uVGFyZ2V0Rm9yKGcuY2xlYW4oZy5maW5kQnlOYW1lKGEpKSksZSYmZS5uYW1lIGluIGcuaW52YWxpZCYmKGcuY3VycmVudEVsZW1lbnRzLnB1c2goZSksaD1nLmNoZWNrKGUpJiZoKSl9KSxjPXRoaXMuY2hlY2soZikhPT0hMSxoPWgmJmMsYz90aGlzLmludmFsaWRbZi5uYW1lXT0hMTp0aGlzLmludmFsaWRbZi5uYW1lXT0hMCx0aGlzLm51bWJlck9mSW52YWxpZHMoKXx8KHRoaXMudG9IaWRlPXRoaXMudG9IaWRlLmFkZCh0aGlzLmNvbnRhaW5lcnMpKSx0aGlzLnNob3dFcnJvcnMoKSxhKGIpLmF0dHIoImFyaWEtaW52YWxpZCIsIWMpKSxofSxzaG93RXJyb3JzOmZ1bmN0aW9uKGIpe2lmKGIpe3ZhciBjPXRoaXM7YS5leHRlbmQodGhpcy5lcnJvck1hcCxiKSx0aGlzLmVycm9yTGlzdD1hLm1hcCh0aGlzLmVycm9yTWFwLGZ1bmN0aW9uKGEsYil7cmV0dXJue21lc3NhZ2U6YSxlbGVtZW50OmMuZmluZEJ5TmFtZShiKVswXX19KSx0aGlzLnN1Y2Nlc3NMaXN0PWEuZ3JlcCh0aGlzLnN1Y2Nlc3NMaXN0LGZ1bmN0aW9uKGEpe3JldHVybiEoYS5uYW1lIGluIGIpfSl9dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzP3RoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycy5jYWxsKHRoaXMsdGhpcy5lcnJvck1hcCx0aGlzLmVycm9yTGlzdCk6dGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpfSxyZXNldEZvcm06ZnVuY3Rpb24oKXthLmZuLnJlc2V0Rm9ybSYmYSh0aGlzLmN1cnJlbnRGb3JtKS5yZXNldEZvcm0oKSx0aGlzLmludmFsaWQ9e30sdGhpcy5zdWJtaXR0ZWQ9e30sdGhpcy5wcmVwYXJlRm9ybSgpLHRoaXMuaGlkZUVycm9ycygpO3ZhciBiPXRoaXMuZWxlbWVudHMoKS5yZW1vdmVEYXRhKCJwcmV2aW91c1ZhbHVlIikucmVtb3ZlQXR0cigiYXJpYS1pbnZhbGlkIik7dGhpcy5yZXNldEVsZW1lbnRzKGIpfSxyZXNldEVsZW1lbnRzOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKGI9MDthW2JdO2IrKyl0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxhW2JdLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcywiIiksdGhpcy5maW5kQnlOYW1lKGFbYl0ubmFtZSkucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKTtlbHNlIGEucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpfSxudW1iZXJPZkludmFsaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKHRoaXMuaW52YWxpZCl9LG9iamVjdExlbmd0aDpmdW5jdGlvbihhKXt2YXIgYixjPTA7Zm9yKGIgaW4gYSl2b2lkIDAhPT1hW2JdJiZudWxsIT09YVtiXSYmYVtiXSE9PSExJiZjKys7cmV0dXJuIGN9LGhpZGVFcnJvcnM6ZnVuY3Rpb24oKXt0aGlzLmhpZGVUaGVzZSh0aGlzLnRvSGlkZSl9LGhpZGVUaGVzZTpmdW5jdGlvbihhKXthLm5vdCh0aGlzLmNvbnRhaW5lcnMpLnRleHQoIiIpLHRoaXMuYWRkV3JhcHBlcihhKS5oaWRlKCl9LHZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemUoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yTGlzdC5sZW5ndGh9LGZvY3VzSW52YWxpZDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuZm9jdXNJbnZhbGlkKXRyeXthKHRoaXMuZmluZExhc3RBY3RpdmUoKXx8dGhpcy5lcnJvckxpc3QubGVuZ3RoJiZ0aGlzLmVycm9yTGlzdFswXS5lbGVtZW50fHxbXSkuZmlsdGVyKCI6dmlzaWJsZSIpLnRyaWdnZXIoImZvY3VzIikudHJpZ2dlcigiZm9jdXNpbiIpfWNhdGNoKGIpe319LGZpbmRMYXN0QWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5sYXN0QWN0aXZlO3JldHVybiBiJiYxPT09YS5ncmVwKHRoaXMuZXJyb3JMaXN0LGZ1bmN0aW9uKGEpe3JldHVybiBhLmVsZW1lbnQubmFtZT09PWIubmFtZX0pLmxlbmd0aCYmYn0sZWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9e307cmV0dXJuIGEodGhpcy5jdXJyZW50Rm9ybSkuZmluZCgiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFtjb250ZW50ZWRpdGFibGVdIikubm90KCI6c3VibWl0LCA6cmVzZXQsIDppbWFnZSwgOmRpc2FibGVkIikubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZD10aGlzLm5hbWV8fGEodGhpcykuYXR0cigibmFtZSIpLGU9InVuZGVmaW5lZCIhPXR5cGVvZiBhKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpJiYiZmFsc2UiIT09YSh0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKTtyZXR1cm4hZCYmYi5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoIiVvIGhhcyBubyBuYW1lIGFzc2lnbmVkIix0aGlzKSxlJiYodGhpcy5mb3JtPWEodGhpcykuY2xvc2VzdCgiZm9ybSIpWzBdLHRoaXMubmFtZT1kKSx0aGlzLmZvcm09PT1iLmN1cnJlbnRGb3JtJiYoIShkIGluIGN8fCFiLm9iamVjdExlbmd0aChhKHRoaXMpLnJ1bGVzKCkpKSYmKGNbZF09ITAsITApKX0pfSxjbGVhbjpmdW5jdGlvbihiKXtyZXR1cm4gYShiKVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBhKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIitiLHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdLHRoaXMuZXJyb3JMaXN0PVtdLHRoaXMuZXJyb3JNYXA9e30sdGhpcy50b1Nob3c9YShbXSksdGhpcy50b0hpZGU9YShbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpLHRoaXMuY3VycmVudEVsZW1lbnRzPWEoW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKSx0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLnJlc2V0KCksdGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3IoYSl9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbihiKXt2YXIgYyxkLGU9YShiKSxmPWIudHlwZSxnPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PWUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZShiLm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgYi52YWxpZGl0eT9iLnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOmUudmFsKCk6KGM9Zz9lLnRleHQoKTplLnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWMuc3Vic3RyKDAsMTIpP2Muc3Vic3RyKDEyKTooZD1jLmxhc3RJbmRleE9mKCIvIiksZD49MD9jLnN1YnN0cihkKzEpOihkPWMubGFzdEluZGV4T2YoIlxcIiksZD49MD9jLnN1YnN0cihkKzEpOmMpKToic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKC9cci9nLCIiKTpjKX0sY2hlY2s6ZnVuY3Rpb24oYil7Yj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbihiKSk7dmFyIGMsZCxlLGYsZz1hKGIpLnJ1bGVzKCksaD1hLm1hcChnLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KS5sZW5ndGgsaT0hMSxqPXRoaXMuZWxlbWVudFZhbHVlKGIpOyJmdW5jdGlvbiI9PXR5cGVvZiBnLm5vcm1hbGl6ZXI/Zj1nLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGY9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKSxmJiYoaj1mLmNhbGwoYixqKSxkZWxldGUgZy5ub3JtYWxpemVyKTtmb3IoZCBpbiBnKXtlPXttZXRob2Q6ZCxwYXJhbWV0ZXJzOmdbZF19O3RyeXtpZihjPWEudmFsaWRhdG9yLm1ldGhvZHNbZF0uY2FsbCh0aGlzLGosYixlLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PWMmJjE9PT1oKXtpPSEwO2NvbnRpbnVlfWlmKGk9ITEsInBlbmRpbmciPT09YylyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IoYikpKTtpZighYylyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQoYixlKSwhMX1jYXRjaChrKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIitiLmlkKyIsIGNoZWNrIHRoZSAnIitlLm1ldGhvZCsiJyBtZXRob2QuIixrKSxrIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoay5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK2IuaWQrIiwgY2hlY2sgdGhlICciK2UubWV0aG9kKyInIG1ldGhvZC4iKSxrfX1pZighaSlyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgoZykmJnRoaXMuc3VjY2Vzc0xpc3QucHVzaChiKSwhMH0sY3VzdG9tRGF0YU1lc3NhZ2U6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiKS5kYXRhKCJtc2ciK2MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSl8fGEoYikuZGF0YSgibXNnIil9LGN1c3RvbU1lc3NhZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2FdO3JldHVybiBjJiYoYy5jb25zdHJ1Y3Rvcj09PVN0cmluZz9jOmNbYl0pfSxmaW5kRGVmaW5lZDpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaWYodm9pZCAwIT09YXJndW1lbnRzW2FdKXJldHVybiBhcmd1bWVudHNbYV19LGRlZmF1bHRNZXNzYWdlOmZ1bmN0aW9uKGIsYyl7InN0cmluZyI9PXR5cGVvZiBjJiYoYz17bWV0aG9kOmN9KTt2YXIgZD10aGlzLmZpbmREZWZpbmVkKHRoaXMuY3VzdG9tTWVzc2FnZShiLm5hbWUsYy5tZXRob2QpLHRoaXMuY3VzdG9tRGF0YU1lc3NhZ2UoYixjLm1ldGhvZCksIXRoaXMuc2V0dGluZ3MuaWdub3JlVGl0bGUmJmIudGl0bGV8fHZvaWQgMCxhLnZhbGlkYXRvci5tZXNzYWdlc1tjLm1ldGhvZF0sIjxzdHJvbmc+V2FybmluZzogTm8gbWVzc2FnZSBkZWZpbmVkIGZvciAiK2IubmFtZSsiPC9zdHJvbmc+IiksZT0vXCQ/XHsoXGQrKVx9L2c7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGQ/ZD1kLmNhbGwodGhpcyxjLnBhcmFtZXRlcnMsYik6ZS50ZXN0KGQpJiYoZD1hLnZhbGlkYXRvci5mb3JtYXQoZC5yZXBsYWNlKGUsInskMX0iKSxjLnBhcmFtZXRlcnMpKSxkfSxmb3JtYXRBbmRBZGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmRlZmF1bHRNZXNzYWdlKGEsYik7dGhpcy5lcnJvckxpc3QucHVzaCh7bWVzc2FnZTpjLGVsZW1lbnQ6YSxtZXRob2Q6Yi5tZXRob2R9KSx0aGlzLmVycm9yTWFwW2EubmFtZV09Yyx0aGlzLnN1Ym1pdHRlZFthLm5hbWVdPWN9LGFkZFdyYXBwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2V0dGluZ3Mud3JhcHBlciYmKGE9YS5hZGQoYS5wYXJlbnQodGhpcy5zZXR0aW5ncy53cmFwcGVyKSkpLGF9LGRlZmF1bHRTaG93RXJyb3JzOmZ1bmN0aW9uKCl7dmFyIGEsYixjO2ZvcihhPTA7dGhpcy5lcnJvckxpc3RbYV07YSsrKWM9dGhpcy5lcnJvckxpc3RbYV0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyxjLmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwoYy5lbGVtZW50LGMubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3IoYT0wO3RoaXMuc3VjY2Vzc0xpc3RbYV07YSsrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3RbYV0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKGE9MCxiPXRoaXMudmFsaWRFbGVtZW50cygpO2JbYV07YSsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGJbYV0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KSx0aGlzLmhpZGVFcnJvcnMoKSx0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBhKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5lcnJvcnNGb3IoYiksaT10aGlzLmlkT3JOYW1lKGIpLGo9YShiKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7aC5sZW5ndGg/KGgucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLGguaHRtbChjKSk6KGg9YSgiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaSsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGN8fCIiKSxkPWgsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYoZD1oLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZChkKTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLGQsYShiKSk6ZC5pbnNlcnRBZnRlcihiKSxoLmlzKCJsYWJlbCIpP2guYXR0cigiZm9yIixpKTowPT09aC5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGkpKyInXSIpLmxlbmd0aCYmKGY9aC5hdHRyKCJpZCIpLGo/ai5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShmKSsiXFxiIikpfHwoais9IiAiK2YpOmo9ZixhKGIpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGopLGU9dGhpcy5ncm91cHNbYi5uYW1lXSxlJiYoZz10aGlzLGEuZWFjaChnLmdyb3VwcyxmdW5jdGlvbihiLGMpe2M9PT1lJiZhKCJbbmFtZT0nIitnLmVzY2FwZUNzc01ldGEoYikrIiddIixnLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixoLmF0dHIoImlkIikpfSkpKSksIWMmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKGgudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/aC5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhoLGIpKSx0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQoaCl9LGVycm9yc0ZvcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZShiKSksZD1hKGIpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxlPSJsYWJlbFtmb3I9JyIrYysiJ10sIGxhYmVsW2Zvcj0nIitjKyInXSAqIjtyZXR1cm4gZCYmKGU9ZSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEoZCkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihlKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT8iIjphLnJlcGxhY2UoLyhbXFwhIiMkJSYnKCkqKywuLzo7PD0+P0BcW1xdXmB7fH1+XSkvZywiXFwkMSIpfSxpZE9yTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncm91cHNbYS5uYW1lXXx8KHRoaXMuY2hlY2thYmxlKGEpP2EubmFtZTphLmlkfHxhLm5hbWUpfSx2YWxpZGF0aW9uVGFyZ2V0Rm9yOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmNoZWNrYWJsZShiKSYmKGI9dGhpcy5maW5kQnlOYW1lKGIubmFtZSkpLGEoYikubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKVswXX0sY2hlY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybi9yYWRpb3xjaGVja2JveC9pLnRlc3QoYS50eXBlKX0sZmluZEJ5TmFtZTpmdW5jdGlvbihiKXtyZXR1cm4gYSh0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJbbmFtZT0nIit0aGlzLmVzY2FwZUNzc01ldGEoYikrIiddIil9LGdldExlbmd0aDpmdW5jdGlvbihiLGMpe3N3aXRjaChjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2Uic2VsZWN0IjpyZXR1cm4gYSgib3B0aW9uOnNlbGVjdGVkIixjKS5sZW5ndGg7Y2FzZSJpbnB1dCI6aWYodGhpcy5jaGVja2FibGUoYykpcmV0dXJuIHRoaXMuZmluZEJ5TmFtZShjLm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS5sZW5ndGh9cmV0dXJuIGIubGVuZ3RofSxkZXBlbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5kZXBlbmRUeXBlc1t0eXBlb2YgYV18fHRoaXMuZGVwZW5kVHlwZXNbdHlwZW9mIGFdKGEsYil9LGRlcGVuZFR5cGVzOnsiYm9vbGVhbiI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN0cmluZzpmdW5jdGlvbihiLGMpe3JldHVybiEhYShiLGMuZm9ybSkubGVuZ3RofSwiZnVuY3Rpb24iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEoYil9fSxvcHRpb25hbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnRWYWx1ZShiKTtyZXR1cm4hYS52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsYyxiKSYmImRlcGVuZGVuY3ktbWlzbWF0Y2gifSxzdGFydFJlcXVlc3Q6ZnVuY3Rpb24oYil7dGhpcy5wZW5kaW5nW2IubmFtZV18fCh0aGlzLnBlbmRpbmdSZXF1ZXN0KyssYShiKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyksdGhpcy5wZW5kaW5nW2IubmFtZV09ITApfSxzdG9wUmVxdWVzdDpmdW5jdGlvbihiLGMpe3RoaXMucGVuZGluZ1JlcXVlc3QtLSx0aGlzLnBlbmRpbmdSZXF1ZXN0PDAmJih0aGlzLnBlbmRpbmdSZXF1ZXN0PTApLGRlbGV0ZSB0aGlzLnBlbmRpbmdbYi5uYW1lXSxhKGIpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKSxjJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiZ0aGlzLmZvcm0oKSYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3Q/KGEodGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlcigic3VibWl0IiksdGhpcy5zdWJtaXRCdXR0b24mJmEoImlucHV0OmhpZGRlbltuYW1lPSciK3RoaXMuc3VibWl0QnV0dG9uLm5hbWUrIiddIix0aGlzLmN1cnJlbnRGb3JtKS5yZW1vdmUoKSx0aGlzLmZvcm1TdWJtaXR0ZWQ9ITEpOiFjJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiYoYSh0aGlzLmN1cnJlbnRGb3JtKS50cmlnZ2VySGFuZGxlcigiaW52YWxpZC1mb3JtIixbdGhpc10pLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSl9LHByZXZpb3VzVmFsdWU6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYz0ic3RyaW5nIj09dHlwZW9mIGMmJmN8fCJyZW1vdGUiLGEuZGF0YShiLCJwcmV2aW91c1ZhbHVlIil8fGEuZGF0YShiLCJwcmV2aW91c1ZhbHVlIix7b2xkOm51bGwsdmFsaWQ6ITAsbWVzc2FnZTp0aGlzLmRlZmF1bHRNZXNzYWdlKGIse21ldGhvZDpjfSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmVzZXRGb3JtKCksYSh0aGlzLmN1cnJlbnRGb3JtKS5vZmYoIi52YWxpZGF0ZSIpLnJlbW92ZURhdGEoInZhbGlkYXRvciIpLmZpbmQoIi52YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1lcXVhbFRvIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikub2ZmKCIudmFsaWRhdGUtbGVzc1RoYW4iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW4tYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1sZXNzVGhhbkVxdWFsLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbkVxdWFsIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIikub2ZmKCIudmFsaWRhdGUtZ3JlYXRlclRoYW4iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW4tYmx1ciIpfX0sY2xhc3NSdWxlU2V0dGluZ3M6e3JlcXVpcmVkOntyZXF1aXJlZDohMH0sZW1haWw6e2VtYWlsOiEwfSx1cmw6e3VybDohMH0sZGF0ZTp7ZGF0ZTohMH0sZGF0ZUlTTzp7ZGF0ZUlTTzohMH0sbnVtYmVyOntudW1iZXI6ITB9LGRpZ2l0czp7ZGlnaXRzOiEwfSxjcmVkaXRjYXJkOntjcmVkaXRjYXJkOiEwfX0sYWRkQ2xhc3NSdWxlczpmdW5jdGlvbihiLGMpe2IuY29uc3RydWN0b3I9PT1TdHJpbmc/dGhpcy5jbGFzc1J1bGVTZXR0aW5nc1tiXT1jOmEuZXh0ZW5kKHRoaXMuY2xhc3NSdWxlU2V0dGluZ3MsYil9LGNsYXNzUnVsZXM6ZnVuY3Rpb24oYil7dmFyIGM9e30sZD1hKGIpLmF0dHIoImNsYXNzIik7cmV0dXJuIGQmJmEuZWFjaChkLnNwbGl0KCIgIiksZnVuY3Rpb24oKXt0aGlzIGluIGEudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzJiZhLmV4dGVuZChjLGEudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzW3RoaXNdKX0pLGN9LG5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGU6ZnVuY3Rpb24oYSxiLGMsZCl7L21pbnxtYXh8c3RlcC8udGVzdChjKSYmKG51bGw9PT1ifHwvbnVtYmVyfHJhbmdlfHRleHQvLnRlc3QoYikpJiYoZD1OdW1iZXIoZCksaXNOYU4oZCkmJihkPXZvaWQgMCkpLGR8fDA9PT1kP2FbY109ZDpiPT09YyYmInJhbmdlIiE9PWImJihhWyJkYXRlIj09PWI/ImRhdGVJU08iOmNdPSEwKX0sYXR0cmlidXRlUnVsZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPXt9LGY9YShiKSxnPWIuZ2V0QXR0cmlidXRlKCJ0eXBlIik7Zm9yKGMgaW4gYS52YWxpZGF0b3IubWV0aG9kcykicmVxdWlyZWQiPT09Yz8oZD1iLmdldEF0dHJpYnV0ZShjKSwiIj09PWQmJihkPSEwKSxkPSEhZCk6ZD1mLmF0dHIoYyksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKGUsZyxjLGQpO3JldHVybiBlLm1heGxlbmd0aCYmLy0xfDIxNDc0ODM2NDd8NTI0Mjg4Ly50ZXN0KGUubWF4bGVuZ3RoKSYmZGVsZXRlIGUubWF4bGVuZ3RoLGV9LGRhdGFSdWxlczpmdW5jdGlvbihiKXt2YXIgYyxkLGU9e30sZj1hKGIpLGc9Yi5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IoYyBpbiBhLnZhbGlkYXRvci5tZXRob2RzKWQ9Zi5kYXRhKCJydWxlIitjLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpLCIiPT09ZCYmKGQ9ITApLHRoaXMubm9ybWFsaXplQXR0cmlidXRlUnVsZShlLGcsYyxkKTtyZXR1cm4gZX0sc3RhdGljUnVsZXM6ZnVuY3Rpb24oYil7dmFyIGM9e30sZD1hLmRhdGEoYi5mb3JtLCJ2YWxpZGF0b3IiKTtyZXR1cm4gZC5zZXR0aW5ncy5ydWxlcyYmKGM9YS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShkLnNldHRpbmdzLnJ1bGVzW2IubmFtZV0pfHx7fSksY30sbm9ybWFsaXplUnVsZXM6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5lYWNoKGIsZnVuY3Rpb24oZCxlKXtpZihlPT09ITEpcmV0dXJuIHZvaWQgZGVsZXRlIGJbZF07aWYoZS5wYXJhbXx8ZS5kZXBlbmRzKXt2YXIgZj0hMDtzd2l0Y2godHlwZW9mIGUuZGVwZW5kcyl7Y2FzZSJzdHJpbmciOmY9ISFhKGUuZGVwZW5kcyxjLmZvcm0pLmxlbmd0aDticmVhaztjYXNlImZ1bmN0aW9uIjpmPWUuZGVwZW5kcy5jYWxsKGMsYyl9Zj9iW2RdPXZvaWQgMD09PWUucGFyYW18fGUucGFyYW06KGEuZGF0YShjLmZvcm0sInZhbGlkYXRvciIpLnJlc2V0RWxlbWVudHMoYShjKSksZGVsZXRlIGJbZF0pfX0pLGEuZWFjaChiLGZ1bmN0aW9uKGEsZCl7YlthXT0iZnVuY3Rpb24iPT10eXBlb2YgZCYmIm5vcm1hbGl6ZXIiIT09YT9kKGMpOmR9KSxhLmVhY2goWyJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiXSxmdW5jdGlvbigpe2JbdGhpc10mJihiW3RoaXNdPU51bWJlcihiW3RoaXNdKSl9KSxhLmVhY2goWyJyYW5nZWxlbmd0aCIsInJhbmdlIl0sZnVuY3Rpb24oKXt2YXIgYTtiW3RoaXNdJiYoQXJyYXkuaXNBcnJheShiW3RoaXNdKT9iW3RoaXNdPVtOdW1iZXIoYlt0aGlzXVswXSksTnVtYmVyKGJbdGhpc11bMV0pXToic3RyaW5nIj09dHlwZW9mIGJbdGhpc10mJihhPWJbdGhpc10ucmVwbGFjZSgvW1xbXF1dL2csIiIpLnNwbGl0KC9bXHMsXSsvKSxiW3RoaXNdPVtOdW1iZXIoYVswXSksTnVtYmVyKGFbMV0pXSkpfSksYS52YWxpZGF0b3IuYXV0b0NyZWF0ZVJhbmdlcyYmKG51bGwhPWIubWluJiZudWxsIT1iLm1heCYmKGIucmFuZ2U9W2IubWluLGIubWF4XSxkZWxldGUgYi5taW4sZGVsZXRlIGIubWF4KSxudWxsIT1iLm1pbmxlbmd0aCYmbnVsbCE9Yi5tYXhsZW5ndGgmJihiLnJhbmdlbGVuZ3RoPVtiLm1pbmxlbmd0aCxiLm1heGxlbmd0aF0sZGVsZXRlIGIubWlubGVuZ3RoLGRlbGV0ZSBiLm1heGxlbmd0aCkpLGJ9LG5vcm1hbGl6ZVJ1bGU6ZnVuY3Rpb24oYil7aWYoInN0cmluZyI9PXR5cGVvZiBiKXt2YXIgYz17fTthLmVhY2goYi5zcGxpdCgvXHMvKSxmdW5jdGlvbigpe2NbdGhpc109ITB9KSxiPWN9cmV0dXJuIGJ9LGFkZE1ldGhvZDpmdW5jdGlvbihiLGMsZCl7YS52YWxpZGF0b3IubWV0aG9kc1tiXT1jLGEudmFsaWRhdG9yLm1lc3NhZ2VzW2JdPXZvaWQgMCE9PWQ/ZDphLnZhbGlkYXRvci5tZXNzYWdlc1tiXSxjLmxlbmd0aDwzJiZhLnZhbGlkYXRvci5hZGRDbGFzc1J1bGVzKGIsYS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShiKSl9LG1ldGhvZHM6e3JlcXVpcmVkOmZ1bmN0aW9uKGIsYyxkKXtpZighdGhpcy5kZXBlbmQoZCxjKSlyZXR1cm4iZGVwZW5kZW5jeS1taXNtYXRjaCI7aWYoInNlbGVjdCI9PT1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPWEoYykudmFsKCk7cmV0dXJuIGUmJmUubGVuZ3RoPjB9cmV0dXJuIHRoaXMuY2hlY2thYmxlKGMpP3RoaXMuZ2V0TGVuZ3RoKGIsYyk+MDp2b2lkIDAhPT1iJiZudWxsIT09YiYmYi5sZW5ndGg+MH0sZW1haWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15bYS16QS1aMC05LiEjJCUmJyorXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvLnRlc3QoYSl9LHVybDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbmFsKGIpfHwvXig/Oig/Oig/Omh0dHBzP3xmdHApOik/XC9cLykoPzooPzpbXlxdXFs/XC88fiNgIUAkXiYqKCkrPX18OiI7Jyw+eyBdfCVbMC05QS1GYS1mXXsyfSkrKD86Oig/OlteXF1cWz9cLzx+I2AhQCReJiooKSs9fXw6IjsnLD57IF18JVswLTlBLUZhLWZdezJ9KSopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcLlxkezEsM30pezN9KSg/ISg/OjE2OVwuMjU0fDE5MlwuMTY4KSg/OlwuXGR7MSwzfSl7Mn0pKD8hMTcyXC4oPzoxWzYtOV18MlxkfDNbMC0xXSkoPzpcLlxkezEsM30pezJ9KSg/OlsxLTldXGQ/fDFcZFxkfDJbMDFdXGR8MjJbMC0zXSkoPzpcLig/OjE/XGR7MSwyfXwyWzAtNF1cZHwyNVswLTVdKSl7Mn0oPzpcLig/OlsxLTldXGQ/fDFcZFxkfDJbMC00XVxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XHUwMGExLVx1ZmZmZl1bYS16MC05XHUwMGExLVx1ZmZmZl8tXXswLDYyfSk/W2EtejAtOVx1MDBhMS1cdWZmZmZdXC4pKyg/OlthLXpcdTAwYTEtXHVmZmZmXXsyLH1cLj8pKSg/OjpcZHsyLDV9KT8oPzpbLz8jXVxTKik/JC9pLnRlc3QoYSl9LGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYXx8KGE9ITAsdGhpcy5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybigiVGhlIGBkYXRlYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gJzIuMC4wJy5cblBsZWFzZSBkb24ndCB1c2UgaXQsIHNpbmNlIGl0IHJlbGllcyBvbiB0aGUgRGF0ZSBjb25zdHJ1Y3Rvciwgd2hpY2hcbmJlaGF2ZXMgdmVyeSBkaWZmZXJlbnRseSBhY3Jvc3MgYnJvd3NlcnMgYW5kIGxvY2FsZXMuIFVzZSBgZGF0ZUlTT2Bcbmluc3RlYWQgb3Igb25lIG9mIHRoZSBsb2NhbGUgc3BlY2lmaWMgbWV0aG9kcyBpbiBgbG9jYWxpemF0aW9ucy9gXG5hbmQgYGFkZGl0aW9uYWwtbWV0aG9kcy5qc2AuIikpLHRoaXMub3B0aW9uYWwoYyl8fCEvSW52YWxpZHxOYU4vLnRlc3QobmV3IERhdGUoYikudG9TdHJpbmcoKSl9fSgpLGRhdGVJU086ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15cZHs0fVtcL1wtXSgwP1sxLTldfDFbMDEyXSlbXC9cLV0oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC8udGVzdChhKX0sbnVtYmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fC9eKD86LT9cZCt8LT9cZHsxLDN9KD86LFxkezN9KSspPyg/OlwuXGQrKT8kLy50ZXN0KGEpfSxkaWdpdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15cZCskLy50ZXN0KGEpfSxtaW5sZW5ndGg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUFycmF5LmlzQXJyYXkoYSk/YS5sZW5ndGg6dGhpcy5nZXRMZW5ndGgoYSxiKTtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8ZD49Y30sbWF4bGVuZ3RoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1BcnJheS5pc0FycmF5KGEpP2EubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKGEsYik7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGQ8PWN9LHJhbmdlbGVuZ3RoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1BcnJheS5pc0FycmF5KGEpP2EubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKGEsYik7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGQ+PWNbMF0mJmQ8PWNbMV19LG1pbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGE+PWN9LG1heDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGE8PWN9LHJhbmdlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8YT49Y1swXSYmYTw9Y1sxXX0sc3RlcDpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj1hKGMpLmF0dHIoInR5cGUiKSxnPSJTdGVwIGF0dHJpYnV0ZSBvbiBpbnB1dCB0eXBlICIrZisiIGlzIG5vdCBzdXBwb3J0ZWQuIixoPVsidGV4dCIsIm51bWJlciIsInJhbmdlIl0saT1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGo9ZiYmIWkudGVzdChoLmpvaW4oKSksaz1mdW5jdGlvbihhKXt2YXIgYj0oIiIrYSkubWF0Y2goLyg/OlwuKFxkKykpPyQvKTtyZXR1cm4gYiYmYlsxXT9iWzFdLmxlbmd0aDowfSxsPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKGEqTWF0aC5wb3coMTAsZSkpfSxtPSEwO2lmKGopdGhyb3cgbmV3IEVycm9yKGcpO3JldHVybiBlPWsoZCksKGsoYik+ZXx8bChiKSVsKGQpIT09MCkmJihtPSExKSx0aGlzLm9wdGlvbmFsKGMpfHxtfSxlcXVhbFRvOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hKGQpO3JldHVybiB0aGlzLnNldHRpbmdzLm9uZm9jdXNvdXQmJmUubm90KCIudmFsaWRhdGUtZXF1YWxUby1ibHVyIikubGVuZ3RoJiZlLmFkZENsYXNzKCJ2YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5vbigiYmx1ci52YWxpZGF0ZS1lcXVhbFRvIixmdW5jdGlvbigpe2EoYykudmFsaWQoKX0pLGI9PT1lLnZhbCgpfSxyZW1vdGU6ZnVuY3Rpb24oYixjLGQsZSl7aWYodGhpcy5vcHRpb25hbChjKSlyZXR1cm4iZGVwZW5kZW5jeS1taXNtYXRjaCI7ZT0ic3RyaW5nIj09dHlwZW9mIGUmJmV8fCJyZW1vdGUiO3ZhciBmLGcsaCxpPXRoaXMucHJldmlvdXNWYWx1ZShjLGUpO3JldHVybiB0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV18fCh0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV09e30pLGkub3JpZ2luYWxNZXNzYWdlPWkub3JpZ2luYWxNZXNzYWdlfHx0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV1bZV0sdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tjLm5hbWVdW2VdPWkubWVzc2FnZSxkPSJzdHJpbmciPT10eXBlb2YgZCYme3VybDpkfXx8ZCxoPWEucGFyYW0oYS5leHRlbmQoe2RhdGE6Yn0sZC5kYXRhKSksaS5vbGQ9PT1oP2kudmFsaWQ6KGkub2xkPWgsZj10aGlzLHRoaXMuc3RhcnRSZXF1ZXN0KGMpLGc9e30sZ1tjLm5hbWVdPWIsYS5hamF4KGEuZXh0ZW5kKCEwLHttb2RlOiJhYm9ydCIscG9ydDoidmFsaWRhdGUiK2MubmFtZSxkYXRhVHlwZToianNvbiIsZGF0YTpnLGNvbnRleHQ6Zi5jdXJyZW50Rm9ybSxzdWNjZXNzOmZ1bmN0aW9uKGEpe3ZhciBkLGcsaCxqPWE9PT0hMHx8InRydWUiPT09YTtmLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV1bZV09aS5vcmlnaW5hbE1lc3NhZ2Usaj8oaD1mLmZvcm1TdWJtaXR0ZWQsZi5yZXNldEludGVybmFscygpLGYudG9IaWRlPWYuZXJyb3JzRm9yKGMpLGYuZm9ybVN1Ym1pdHRlZD1oLGYuc3VjY2Vzc0xpc3QucHVzaChjKSxmLmludmFsaWRbYy5uYW1lXT0hMSxmLnNob3dFcnJvcnMoKSk6KGQ9e30sZz1hfHxmLmRlZmF1bHRNZXNzYWdlKGMse21ldGhvZDplLHBhcmFtZXRlcnM6Yn0pLGRbYy5uYW1lXT1pLm1lc3NhZ2U9ZyxmLmludmFsaWRbYy5uYW1lXT0hMCxmLnNob3dFcnJvcnMoZCkpLGkudmFsaWQ9aixmLnN0b3BSZXF1ZXN0KGMsail9fSxkKSksInBlbmRpbmciKX19fSk7dmFyIGMsZD17fTtyZXR1cm4gYS5hamF4UHJlZmlsdGVyP2EuYWpheFByZWZpbHRlcihmdW5jdGlvbihhLGIsYyl7dmFyIGU9YS5wb3J0OyJhYm9ydCI9PT1hLm1vZGUmJihkW2VdJiZkW2VdLmFib3J0KCksZFtlXT1jKX0pOihjPWEuYWpheCxhLmFqYXg9ZnVuY3Rpb24oYil7dmFyIGU9KCJtb2RlImluIGI/YjphLmFqYXhTZXR0aW5ncykubW9kZSxmPSgicG9ydCJpbiBiP2I6YS5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWU/KGRbZl0mJmRbZl0uYWJvcnQoKSxkW2ZdPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGRbZl0pOmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksYX0pOw0KLyoqDQogKiBAbGljZW5zZQ0KICogVW5vYnRydXNpdmUgdmFsaWRhdGlvbiBzdXBwb3J0IGxpYnJhcnkgZm9yIGpRdWVyeSBhbmQgalF1ZXJ5IFZhbGlkYXRlDQogKiBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLg0KICogQHZlcnNpb24gdjQuMC4wDQogKi8NCiFmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LnZhbGlkYXRlLnVub2J0cnVzaXZlIixbImpxdWVyeS12YWxpZGF0aW9uIl0sYSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZSgianF1ZXJ5LXZhbGlkYXRpb24iKSk6alF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZT1hKGpRdWVyeSl9KGZ1bmN0aW9uKHMpe3ZhciBhLG89cy52YWxpZGF0b3IsZD0idW5vYnRydXNpdmVWYWxpZGF0aW9uIjtmdW5jdGlvbiBsKGEsZSxuKXthLnJ1bGVzW2VdPW4sYS5tZXNzYWdlJiYoYS5tZXNzYWdlc1tlXT1hLm1lc3NhZ2UpfWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BcW1xcXF1eYHt8fX5dKS9nLCJcXCQxIil9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYS5zdWJzdHIoMCxhLmxhc3RJbmRleE9mKCIuIikrMSl9ZnVuY3Rpb24gbShhLGUpe3JldHVybiBhPTA9PT1hLmluZGV4T2YoIiouIik/YS5yZXBsYWNlKCIqLiIsZSk6YX1mdW5jdGlvbiBmKGEpe3ZhciBlPXModGhpcyksbj0iX19qcXVlcnlfdW5vYnRydXNpdmVfdmFsaWRhdGlvbl9mb3JtX3Jlc2V0IjtpZighZS5kYXRhKG4pKXtlLmRhdGEobiwhMCk7dHJ5e2UuZGF0YSgidmFsaWRhdG9yIikucmVzZXRGb3JtKCl9ZmluYWxseXtlLnJlbW92ZURhdGEobil9ZS5maW5kKCIudmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9ycyIpLmFkZENsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktdmFsaWQiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9ycyIpLGUuZmluZCgiLmZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKS5maW5kKCI+KiIpLnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIil9fWZ1bmN0aW9uIHAobil7ZnVuY3Rpb24gYShhLGUpeyhhPXJbYV0pJiZzLmlzRnVuY3Rpb24oYSkmJmEuYXBwbHkobixlKX12YXIgZT1zKG4pLHQ9ZS5kYXRhKGQpLGk9cy5wcm94eShmLG4pLHI9by51bm9idHJ1c2l2ZS5vcHRpb25zfHx7fTtyZXR1cm4gdHx8KHQ9e29wdGlvbnM6e2Vycm9yQ2xhc3M6ci5lcnJvckNsYXNzfHwiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIsZXJyb3JFbGVtZW50OnIuZXJyb3JFbGVtZW50fHwic3BhbiIsZXJyb3JQbGFjZW1lbnQ6ZnVuY3Rpb24oKXshZnVuY3Rpb24oYSxlKXt2YXIgZT1zKHRoaXMpLmZpbmQoIltkYXRhLXZhbG1zZy1mb3I9JyIrdShlWzBdLm5hbWUpKyInXSIpLG49KG49ZS5hdHRyKCJkYXRhLXZhbG1zZy1yZXBsYWNlIikpPyExIT09cy5wYXJzZUpTT04obik6bnVsbDtlLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikuYWRkQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKSxhLmRhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIixlKSxuPyhlLmVtcHR5KCksYS5yZW1vdmVDbGFzcygiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIpLmFwcGVuZFRvKGUpKTphLmhpZGUoKX0uYXBwbHkobixhcmd1bWVudHMpLGEoImVycm9yUGxhY2VtZW50Iixhcmd1bWVudHMpfSxpbnZhbGlkSGFuZGxlcjpmdW5jdGlvbigpeyFmdW5jdGlvbihhLGUpe3ZhciBuPXModGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLXN1bW1hcnk9dHJ1ZV0iKSx0PW4uZmluZCgidWwiKTt0JiZ0Lmxlbmd0aCYmZS5lcnJvckxpc3QubGVuZ3RoJiYodC5lbXB0eSgpLG4uYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIikscy5lYWNoKGUuZXJyb3JMaXN0LGZ1bmN0aW9uKCl7cygiPGxpIC8+IikuaHRtbCh0aGlzLm1lc3NhZ2UpLmFwcGVuZFRvKHQpfSkpfS5hcHBseShuLGFyZ3VtZW50cyksYSgiaW52YWxpZEhhbmRsZXIiLGFyZ3VtZW50cyl9LG1lc3NhZ2VzOnt9LHJ1bGVzOnt9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXshZnVuY3Rpb24oYSl7dmFyIGUsbj1hLmRhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIik7biYmKGU9KGU9bi5hdHRyKCJkYXRhLXZhbG1zZy1yZXBsYWNlIikpP3MucGFyc2VKU09OKGUpOm51bGwsbi5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIiksYS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLGUmJm4uZW1wdHkoKSl9LmFwcGx5KG4sYXJndW1lbnRzKSxhKCJzdWNjZXNzIixhcmd1bWVudHMpfX0sYXR0YWNoVmFsaWRhdGlvbjpmdW5jdGlvbigpe2Uub2ZmKCJyZXNldC4iK2QsaSkub24oInJlc2V0LiIrZCxpKS52YWxpZGF0ZSh0aGlzLm9wdGlvbnMpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiBlLnZhbGlkYXRlKCksZS52YWxpZCgpfX0sZS5kYXRhKGQsdCkpLHR9cmV0dXJuIG8udW5vYnRydXNpdmU9e2FkYXB0ZXJzOltdLHBhcnNlRWxlbWVudDpmdW5jdGlvbih0LGEpe3ZhciBlLGkscixvPXModCksZD1vLnBhcmVudHMoImZvcm0iKVswXTtkJiYoKGU9cChkKSkub3B0aW9ucy5ydWxlc1t0Lm5hbWVdPWk9e30sZS5vcHRpb25zLm1lc3NhZ2VzW3QubmFtZV09cj17fSxzLmVhY2godGhpcy5hZGFwdGVycyxmdW5jdGlvbigpe3ZhciBhPSJkYXRhLXZhbC0iK3RoaXMubmFtZSxlPW8uYXR0cihhKSxuPXt9O3ZvaWQgMCE9PWUmJihhKz0iLSIscy5lYWNoKHRoaXMucGFyYW1zLGZ1bmN0aW9uKCl7blt0aGlzXT1vLmF0dHIoYSt0aGlzKX0pLHRoaXMuYWRhcHQoe2VsZW1lbnQ6dCxmb3JtOmQsbWVzc2FnZTplLHBhcmFtczpuLHJ1bGVzOmksbWVzc2FnZXM6cn0pKX0pLHMuZXh0ZW5kKGkse19fZHVtbXlfXzohMH0pLGF8fGUuYXR0YWNoVmFsaWRhdGlvbigpKX0scGFyc2U6ZnVuY3Rpb24oYSl7dmFyIGE9cyhhKSxlPWEucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoImZvcm0iKS5hZGQoYS5maW5kKCJmb3JtIikpLmhhcygiW2RhdGEtdmFsPXRydWVdIik7YS5maW5kKCJbZGF0YS12YWw9dHJ1ZV0iKS5lYWNoKGZ1bmN0aW9uKCl7by51bm9idHJ1c2l2ZS5wYXJzZUVsZW1lbnQodGhpcywhMCl9KSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1wKHRoaXMpO2EmJmEuYXR0YWNoVmFsaWRhdGlvbigpfSl9fSwoYT1vLnVub2J0cnVzaXZlLmFkYXB0ZXJzKS5hZGQ9ZnVuY3Rpb24oYSxlLG4pe3JldHVybiBufHwobj1lLGU9W10pLHRoaXMucHVzaCh7bmFtZTphLHBhcmFtczplLGFkYXB0Om59KSx0aGlzfSxhLmFkZEJvb2w9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5hZGQoZSxmdW5jdGlvbihhKXtsKGEsbnx8ZSwhMCl9KX0sYS5hZGRNaW5NYXg9ZnVuY3Rpb24oYSx0LGkscixlLG4pe3JldHVybiB0aGlzLmFkZChhLFtlfHwibWluIixufHwibWF4Il0sZnVuY3Rpb24oYSl7dmFyIGU9YS5wYXJhbXMubWluLG49YS5wYXJhbXMubWF4O2UmJm4/bChhLHIsW2Usbl0pOmU/bChhLHQsZSk6biYmbChhLGksbil9KX0sYS5hZGRTaW5nbGVWYWw9ZnVuY3Rpb24oZSxuLHQpe3JldHVybiB0aGlzLmFkZChlLFtufHwidmFsIl0sZnVuY3Rpb24oYSl7bChhLHR8fGUsYS5wYXJhbXNbbl0pfSl9LG8uYWRkTWV0aG9kKCJfX2R1bW15X18iLGZ1bmN0aW9uKGEsZSxuKXtyZXR1cm4hMH0pLG8uYWRkTWV0aG9kKCJyZWdleCIsZnVuY3Rpb24oYSxlLG4pe3JldHVybiEhdGhpcy5vcHRpb25hbChlKXx8KGU9bmV3IFJlZ0V4cChuKS5leGVjKGEpKSYmMD09PWUuaW5kZXgmJmVbMF0ubGVuZ3RoPT09YS5sZW5ndGh9KSxvLmFkZE1ldGhvZCgibm9uYWxwaGFtaW4iLGZ1bmN0aW9uKGEsZSxuKXt2YXIgdDtyZXR1cm4gdD1uPyh0PWEubWF0Y2goL1xXL2cpKSYmdC5sZW5ndGg+PW46dH0pLG8ubWV0aG9kcy5leHRlbnNpb24/KGEuYWRkU2luZ2xlVmFsKCJhY2NlcHQiLCJtaW10eXBlIiksYS5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIpKTphLmFkZFNpbmdsZVZhbCgiZXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwiYWNjZXB0IiksYS5hZGRTaW5nbGVWYWwoInJlZ2V4IiwicGF0dGVybiIpLGEuYWRkQm9vbCgiY3JlZGl0Y2FyZCIpLmFkZEJvb2woImRhdGUiKS5hZGRCb29sKCJkaWdpdHMiKS5hZGRCb29sKCJlbWFpbCIpLmFkZEJvb2woIm51bWJlciIpLmFkZEJvb2woInVybCIpLGEuYWRkTWluTWF4KCJsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJyYW5nZWxlbmd0aCIpLmFkZE1pbk1heCgicmFuZ2UiLCJtaW4iLCJtYXgiLCJyYW5nZSIpLGEuYWRkTWluTWF4KCJtaW5sZW5ndGgiLCJtaW5sZW5ndGgiKS5hZGRNaW5NYXgoIm1heGxlbmd0aCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIpLGEuYWRkKCJlcXVhbHRvIixbIm90aGVyIl0sZnVuY3Rpb24oYSl7dmFyIGU9bihhLmVsZW1lbnQubmFtZSksZT1tKGEucGFyYW1zLm90aGVyLGUpO2woYSwiZXF1YWxUbyIscyhhLmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrdShlKSsiJ10iKVswXSl9KSxhLmFkZCgicmVxdWlyZWQiLGZ1bmN0aW9uKGEpeyJJTlBVVCI9PT1hLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYiQ0hFQ0tCT1giPT09YS5lbGVtZW50LnR5cGUudG9VcHBlckNhc2UoKXx8bChhLCJyZXF1aXJlZCIsITApfSksYS5hZGQoInJlbW90ZSIsWyJ1cmwiLCJ0eXBlIiwiYWRkaXRpb25hbGZpZWxkcyJdLGZ1bmN0aW9uKHQpe3ZhciBpPXt1cmw6dC5wYXJhbXMudXJsLHR5cGU6dC5wYXJhbXMudHlwZXx8IkdFVCIsZGF0YTp7fX0scj1uKHQuZWxlbWVudC5uYW1lKTtzLmVhY2goKHQucGFyYW1zLmFkZGl0aW9uYWxmaWVsZHN8fHQuZWxlbWVudC5uYW1lKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikuc3BsaXQoL1xzKixccyovZyksZnVuY3Rpb24oYSxlKXt2YXIgbj1tKGUscik7aS5kYXRhW25dPWZ1bmN0aW9uKCl7dmFyIGE9cyh0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrdShuKSsiJ10iKTtyZXR1cm4gYS5pcygiOmNoZWNrYm94Iik/YS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCl8fGEuZmlsdGVyKCI6aGlkZGVuIikudmFsKCl8fCIiOmEuaXMoIjpyYWRpbyIpP2EuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHwiIjphLnZhbCgpfX0pLGwodCwicmVtb3RlIixpKX0pLGEuYWRkKCJwYXNzd29yZCIsWyJtaW4iLCJub25hbHBoYW1pbiIsInJlZ2V4Il0sZnVuY3Rpb24oYSl7YS5wYXJhbXMubWluJiZsKGEsIm1pbmxlbmd0aCIsYS5wYXJhbXMubWluKSxhLnBhcmFtcy5ub25hbHBoYW1pbiYmbChhLCJub25hbHBoYW1pbiIsYS5wYXJhbXMubm9uYWxwaGFtaW4pLGEucGFyYW1zLnJlZ2V4JiZsKGEsInJlZ2V4IixhLnBhcmFtcy5yZWdleCl9KSxhLmFkZCgiZmlsZWV4dGVuc2lvbnMiLFsiZXh0ZW5zaW9ucyJdLGZ1bmN0aW9uKGEpe2woYSwiZXh0ZW5zaW9uIixhLnBhcmFtcy5leHRlbnNpb25zKX0pLHMoZnVuY3Rpb24oKXtvLnVub2J0cnVzaXZlLnBhcnNlKGRvY3VtZW50KX0pLG8udW5vYnRydXNpdmV9KTsNCi8qISBqUXVlcnkgVUkgLSB2MS4xMy4yIC0gMjAyMi0wNy0xNA0KKiBodHRwOi8vanF1ZXJ5dWkuY29tDQoqIEluY2x1ZGVzOiB3aWRnZXQuanMsIHBvc2l0aW9uLmpzLCBkYXRhLmpzLCBkaXNhYmxlLXNlbGVjdGlvbi5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzLCBmb2N1c2FibGUuanMsIGZvcm0tcmVzZXQtbWl4aW4uanMsIGpxdWVyeS1wYXRjaC5qcywga2V5Y29kZS5qcywgbGFiZWxzLmpzLCBzY3JvbGwtcGFyZW50LmpzLCB0YWJiYWJsZS5qcywgdW5pcXVlLWlkLmpzLCB3aWRnZXRzL2FjY29yZGlvbi5qcywgd2lkZ2V0cy9hdXRvY29tcGxldGUuanMsIHdpZGdldHMvYnV0dG9uLmpzLCB3aWRnZXRzL2NoZWNrYm94cmFkaW8uanMsIHdpZGdldHMvY29udHJvbGdyb3VwLmpzLCB3aWRnZXRzL2RhdGVwaWNrZXIuanMsIHdpZGdldHMvZGlhbG9nLmpzLCB3aWRnZXRzL2RyYWdnYWJsZS5qcywgd2lkZ2V0cy9kcm9wcGFibGUuanMsIHdpZGdldHMvbWVudS5qcywgd2lkZ2V0cy9tb3VzZS5qcywgd2lkZ2V0cy9wcm9ncmVzc2Jhci5qcywgd2lkZ2V0cy9yZXNpemFibGUuanMsIHdpZGdldHMvc2VsZWN0YWJsZS5qcywgd2lkZ2V0cy9zZWxlY3RtZW51LmpzLCB3aWRnZXRzL3NsaWRlci5qcywgd2lkZ2V0cy9zb3J0YWJsZS5qcywgd2lkZ2V0cy9zcGlubmVyLmpzLCB3aWRnZXRzL3RhYnMuanMsIHdpZGdldHMvdG9vbHRpcC5qcw0KKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovDQoNCiFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSx0KTp0KGpRdWVyeSl9KGZ1bmN0aW9uKFYpeyJ1c2Ugc3RyaWN0IjtWLnVpPVYudWl8fHt9O1YudWkudmVyc2lvbj0iMS4xMy4yIjt2YXIgbixpPTAsYT1BcnJheS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscj1BcnJheS5wcm90b3R5cGUuc2xpY2U7Vi5jbGVhbkRhdGE9KG49Vi5jbGVhbkRhdGEsZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscz0wO251bGwhPShpPXRbc10pO3MrKykoZT1WLl9kYXRhKGksImV2ZW50cyIpKSYmZS5yZW1vdmUmJlYoaSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO24odCl9KSxWLndpZGdldD1mdW5jdGlvbih0LGksZSl7dmFyIHMsbixvLGE9e30scj10LnNwbGl0KCIuIilbMF0sbD1yKyItIisodD10LnNwbGl0KCIuIilbMV0pO3JldHVybiBlfHwoZT1pLGk9Vi5XaWRnZXQpLEFycmF5LmlzQXJyYXkoZSkmJihlPVYuZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQoZSkpKSxWLmV4cHIucHNldWRvc1tsLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhVi5kYXRhKHQsbCl9LFZbcl09VltyXXx8e30scz1WW3JdW3RdLG49VltyXVt0XT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzfHwhdGhpcy5fY3JlYXRlV2lkZ2V0KXJldHVybiBuZXcgbih0LGUpO2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldCh0LGUpfSxWLmV4dGVuZChuLHMse3ZlcnNpb246ZS52ZXJzaW9uLF9wcm90bzpWLmV4dGVuZCh7fSxlKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSwobz1uZXcgaSkub3B0aW9ucz1WLndpZGdldC5leHRlbmQoe30sby5vcHRpb25zKSxWLmVhY2goZSxmdW5jdGlvbihlLHMpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gaS5wcm90b3R5cGVbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIGkucHJvdG90eXBlW2VdLmFwcGx5KHRoaXMsdCl9YVtlXT0iZnVuY3Rpb24iPT10eXBlb2Ygcz9mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fc3VwZXIsaT10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1uLHRoaXMuX3N1cGVyQXBwbHk9byx0PXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWUsdGhpcy5fc3VwZXJBcHBseT1pLHR9OnN9KSxuLnByb3RvdHlwZT1WLndpZGdldC5leHRlbmQobyx7d2lkZ2V0RXZlbnRQcmVmaXg6cyYmby53aWRnZXRFdmVudFByZWZpeHx8dH0sYSx7Y29uc3RydWN0b3I6bixuYW1lc3BhY2U6cix3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6bH0pLHM/KFYuZWFjaChzLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGUpe3ZhciBpPWUucHJvdG90eXBlO1Yud2lkZ2V0KGkubmFtZXNwYWNlKyIuIitpLndpZGdldE5hbWUsbixlLl9wcm90byl9KSxkZWxldGUgcy5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2gobiksVi53aWRnZXQuYnJpZGdlKHQsbiksbn0sVi53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLHM9ci5jYWxsKGFyZ3VtZW50cywxKSxuPTAsbz1zLmxlbmd0aDtuPG87bisrKWZvcihlIGluIHNbbl0paT1zW25dW2VdLGEuY2FsbChzW25dLGUpJiZ2b2lkIDAhPT1pJiYoVi5pc1BsYWluT2JqZWN0KGkpP3RbZV09Vi5pc1BsYWluT2JqZWN0KHRbZV0pP1Yud2lkZ2V0LmV4dGVuZCh7fSx0W2VdLGkpOlYud2lkZ2V0LmV4dGVuZCh7fSxpKTp0W2VdPWkpO3JldHVybiB0fSxWLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24obyxlKXt2YXIgYT1lLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8bztWLmZuW29dPWZ1bmN0aW9uKGkpe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgaSxzPXIuY2FsbChhcmd1bWVudHMsMSksbj10aGlzO3JldHVybiB0P3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09aT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPVYuZGF0YSh0aGlzLGEpO3JldHVybiJpbnN0YW5jZSI9PT1pPyhuPWUsITEpOmU/ImZ1bmN0aW9uIiE9dHlwZW9mIGVbaV18fCJfIj09PWkuY2hhckF0KDApP1YuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2krIicgZm9yICIrbysiIHdpZGdldCBpbnN0YW5jZSIpOih0PWVbaV0uYXBwbHkoZSxzKSkhPT1lJiZ2b2lkIDAhPT10PyhuPXQmJnQuanF1ZXJ5P24ucHVzaFN0YWNrKHQuZ2V0KCkpOnQsITEpOnZvaWQgMDpWLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrbysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIraSsiJyIpfSk6bj12b2lkIDA6KHMubGVuZ3RoJiYoaT1WLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbaV0uY29uY2F0KHMpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vi5kYXRhKHRoaXMsYSk7dD8odC5vcHRpb24oaXx8e30pLHQuX2luaXQmJnQuX2luaXQoKSk6Vi5kYXRhKHRoaXMsYSxuZXcgZShpLHRoaXMpKX0pKSxufX0sVi5XaWRnZXQ9ZnVuY3Rpb24oKXt9LFYuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxWLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntjbGFzc2VzOnt9LGRpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsZSl7ZT1WKGV8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1WKGUpLHRoaXMudXVpZD1pKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLmJpbmRpbmdzPVYoKSx0aGlzLmhvdmVyYWJsZT1WKCksdGhpcy5mb2N1c2FibGU9VigpLHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e30sZSE9PXRoaXMmJihWLmRhdGEoZSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKHQpe3QudGFyZ2V0PT09ZSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1WKGUuc3R5bGU/ZS5vd25lckRvY3VtZW50OmUuZG9jdW1lbnR8fGUpLHRoaXMud2luZG93PVYodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLm9wdGlvbnM9Vi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCksdGhpcy5fY3JlYXRlKCksdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOlYubm9vcCxfY3JlYXRlOlYubm9vcCxfaW5pdDpWLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciBpPXRoaXM7dGhpcy5fZGVzdHJveSgpLFYuZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKHQsZSl7aS5fcmVtb3ZlQ2xhc3MoZSx0KX0pLHRoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKSx0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95OlYubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG4sbz10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBWLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYobz17fSx0PShpPXQuc3BsaXQoIi4iKSkuc2hpZnQoKSxpLmxlbmd0aCl7Zm9yKHM9b1t0XT1WLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxuPTA7bjxpLmxlbmd0aC0xO24rKylzW2lbbl1dPXNbaVtuXV18fHt9LHM9c1tpW25dXTtpZih0PWkucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXNbdF0/bnVsbDpzW3RdO3NbdF09ZX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07b1t0XT1lfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKG8pLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KXRoaXMuX3NldE9wdGlvbihlLHRbZV0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuImNsYXNzZXMiPT09dCYmdGhpcy5fc2V0T3B0aW9uQ2xhc3NlcyhlKSx0aGlzLm9wdGlvbnNbdF09ZSwiZGlzYWJsZWQiPT09dCYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoZSksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2ZvcihlIGluIHQpcz10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2VdLHRbZV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tlXSYmcyYmcy5sZW5ndGgmJihpPVYocy5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocyxlKSxpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6aSxrZXlzOmUsY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIXQpLHQmJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbihuKXt2YXIgbz1bXSxhPXRoaXM7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaSxzPTA7czx0Lmxlbmd0aDtzKyspaT1hLmNsYXNzZXNFbGVtZW50TG9va3VwW3Rbc11dfHxWKCksaT1uLmFkZD8oZnVuY3Rpb24oKXt2YXIgaT1bXTtuLmVsZW1lbnQuZWFjaChmdW5jdGlvbih0LGUpe1YubWFwKGEuY2xhc3Nlc0VsZW1lbnRMb29rdXAsZnVuY3Rpb24odCl7cmV0dXJuIHR9KS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzKGUpfSl8fGkucHVzaChlKX0pLGEuX29uKFYoaSkse3JlbW92ZToiX3VudHJhY2tDbGFzc2VzRWxlbWVudCJ9KX0oKSxWKFYudW5pcXVlU29ydChpLmdldCgpLmNvbmNhdChuLmVsZW1lbnQuZ2V0KCkpKSkpOlYoaS5ub3Qobi5lbGVtZW50KS5nZXQoKSksYS5jbGFzc2VzRWxlbWVudExvb2t1cFt0W3NdXT1pLG8ucHVzaCh0W3NdKSxlJiZuLmNsYXNzZXNbdFtzXV0mJm8ucHVzaChuLmNsYXNzZXNbdFtzXV0pfXJldHVybihuPVYuZXh0ZW5kKHtlbGVtZW50OnRoaXMuZWxlbWVudCxjbGFzc2VzOnRoaXMub3B0aW9ucy5jbGFzc2VzfHx7fX0sbikpLmtleXMmJnQobi5rZXlzLm1hdGNoKC9cUysvZyl8fFtdLCEwKSxuLmV4dHJhJiZ0KG4uZXh0cmEubWF0Y2goL1xTKy9nKXx8W10pLG8uam9pbigiICIpfSxfdW50cmFja0NsYXNzZXNFbGVtZW50OmZ1bmN0aW9uKGkpe3ZhciBzPXRoaXM7Vi5lYWNoKHMuY2xhc3Nlc0VsZW1lbnRMb29rdXAsZnVuY3Rpb24odCxlKXstMSE9PVYuaW5BcnJheShpLnRhcmdldCxlKSYmKHMuY2xhc3Nlc0VsZW1lbnRMb29rdXBbdF09VihlLm5vdChpLnRhcmdldCkuZ2V0KCkpKX0pLHRoaXMuX29mZihWKGkudGFyZ2V0KSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKHQsZSxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3ModCxlLGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49InN0cmluZyI9PXR5cGVvZiB0fHxudWxsPT09dCxpPXtleHRyYTpuP2U6aSxrZXlzOm4/dDplLGVsZW1lbnQ6bj90aGlzLmVsZW1lbnQ6dCxhZGQ6cz0iYm9vbGVhbiI9PXR5cGVvZiBzP3M6aX07cmV0dXJuIGkuZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLl9jbGFzc2VzKGkpLHMpLHRoaXN9LF9vbjpmdW5jdGlvbihuLG8sdCl7dmFyIGEscj10aGlzOyJib29sZWFuIiE9dHlwZW9mIG4mJih0PW8sbz1uLG49ITEpLHQ/KG89YT1WKG8pLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQobykpOih0PW8sbz10aGlzLmVsZW1lbnQsYT10aGlzLndpZGdldCgpKSxWLmVhY2godCxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtpZihufHwhMCE9PXIub3B0aW9ucy5kaXNhYmxlZCYmIVYodGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikpcmV0dXJuKCJzdHJpbmciPT10eXBlb2YgZT9yW2VdOmUpLmFwcGx5KHIsYXJndW1lbnRzKX0ic3RyaW5nIiE9dHlwZW9mIGUmJihpLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8aS5ndWlkfHxWLmd1aWQrKyk7dmFyIHM9dC5tYXRjaCgvXihbXHc6LV0qKVxzKiguKikkLyksdD1zWzFdK3IuZXZlbnROYW1lc3BhY2Uscz1zWzJdO3M/YS5vbih0LHMsaSk6by5vbih0LGkpfSl9LF9vZmY6ZnVuY3Rpb24odCxlKXtlPShlfHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLHQub2ZmKGUpLHRoaXMuYmluZGluZ3M9Vih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSksdGhpcy5mb2N1c2FibGU9Vih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpLHRoaXMuaG92ZXJhYmxlPVYodGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIHQ/aVt0XTp0KS5hcHBseShpLGFyZ3VtZW50cyl9LGV8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKFYodC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKFYodC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKFYodC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhWKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG4sbz10aGlzLm9wdGlvbnNbdF07aWYoaT1pfHx7fSwoZT1WLkV2ZW50KGUpKS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxlLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sbj1lLm9yaWdpbmFsRXZlbnQpZm9yKHMgaW4gbilzIGluIGV8fChlW3NdPW5bc10pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihlLGkpLCEoImZ1bmN0aW9uIj09dHlwZW9mIG8mJiExPT09by5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2VdLmNvbmNhdChpKSl8fGUuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sVi5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihvLGEpe1YuV2lkZ2V0LnByb3RvdHlwZVsiXyIrb109ZnVuY3Rpb24oZSx0LGkpe3ZhciBzLG49KHQ9InN0cmluZyI9PXR5cGVvZiB0P3tlZmZlY3Q6dH06dCk/ITAhPT10JiYibnVtYmVyIiE9dHlwZW9mIHQmJnQuZWZmZWN0fHxhOm87Im51bWJlciI9PXR5cGVvZih0PXR8fHt9KT90PXtkdXJhdGlvbjp0fTohMD09PXQmJih0PXt9KSxzPSFWLmlzRW1wdHlPYmplY3QodCksdC5jb21wbGV0ZT1pLHQuZGVsYXkmJmUuZGVsYXkodC5kZWxheSkscyYmVi5lZmZlY3RzJiZWLmVmZmVjdHMuZWZmZWN0W25dP2Vbb10odCk6biE9PW8mJmVbbl0/ZVtuXSh0LmR1cmF0aW9uLHQuZWFzaW5nLGkpOmUucXVldWUoZnVuY3Rpb24odCl7Vih0aGlzKVtvXSgpLGkmJmkuY2FsbChlWzBdKSx0KCl9KX19KTt2YXIgcyx4LGssbyxsLGgsYyx1LEM7Vi53aWRnZXQ7ZnVuY3Rpb24gRCh0LGUsaSl7cmV0dXJuW3BhcnNlRmxvYXQodFswXSkqKHUudGVzdCh0WzBdKT9lLzEwMDoxKSxwYXJzZUZsb2F0KHRbMV0pKih1LnRlc3QodFsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIEkodCxlKXtyZXR1cm4gcGFyc2VJbnQoVi5jc3ModCxlKSwxMCl8fDB9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gbnVsbCE9dCYmdD09PXQud2luZG93fXg9TWF0aC5tYXgsaz1NYXRoLmFicyxvPS9sZWZ0fGNlbnRlcnxyaWdodC8sbD0vdG9wfGNlbnRlcnxib3R0b20vLGg9L1tcK1wtXVxkKyhcLltcZF0rKT8lPy8sYz0vXlx3Ky8sdT0vJSQvLEM9Vi5mbi5wb3NpdGlvbixWLnBvc2l0aW9uPXtzY3JvbGxiYXJXaWR0aDpmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXMpcmV0dXJuIHM7dmFyIHQsZT1WKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwMHB4O2hlaWdodDoyMDBweDtvdmVyZmxvdzpoaWRkZW47Jz48ZGl2IHN0eWxlPSdoZWlnaHQ6MzAwcHg7d2lkdGg6YXV0bzsnPjwvZGl2PjwvZGl2PiIpLGk9ZS5jaGlsZHJlbigpWzBdO3JldHVybiBWKCJib2R5IikuYXBwZW5kKGUpLHQ9aS5vZmZzZXRXaWR0aCxlLmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSx0PT09KGk9aS5vZmZzZXRXaWR0aCkmJihpPWVbMF0uY2xpZW50V2lkdGgpLGUucmVtb3ZlKCkscz10LWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGU9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxpPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksZT0ic2Nyb2xsIj09PWV8fCJhdXRvIj09PWUmJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoO3JldHVybnt3aWR0aDoic2Nyb2xsIj09PWl8fCJhdXRvIj09PWkmJnQuaGVpZ2h0PHQuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ/Vi5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjAsaGVpZ2h0OmU/Vi5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjB9fSxnZXRXaXRoaW5JbmZvOmZ1bmN0aW9uKHQpe3ZhciBlPVYodHx8d2luZG93KSxpPVQoZVswXSkscz0hIWVbMF0mJjk9PT1lWzBdLm5vZGVUeXBlO3JldHVybntlbGVtZW50OmUsaXNXaW5kb3c6aSxpc0RvY3VtZW50OnMsb2Zmc2V0OiFpJiYhcz9WKHQpLm9mZnNldCgpOntsZWZ0OjAsdG9wOjB9LHNjcm9sbExlZnQ6ZS5zY3JvbGxMZWZ0KCksc2Nyb2xsVG9wOmUuc2Nyb2xsVG9wKCksd2lkdGg6ZS5vdXRlcldpZHRoKCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoKX19fSxWLmZuLnBvc2l0aW9uPWZ1bmN0aW9uKHUpe2lmKCF1fHwhdS5vZilyZXR1cm4gQy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQscCxmLGcsbSx0LF89InN0cmluZyI9PXR5cGVvZih1PVYuZXh0ZW5kKHt9LHUpKS5vZj9WKGRvY3VtZW50KS5maW5kKHUub2YpOlYodS5vZiksdj1WLnBvc2l0aW9uLmdldFdpdGhpbkluZm8odS53aXRoaW4pLGI9Vi5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKHYpLHk9KHUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksdz17fSxlPTk9PT0odD0oZT1fKVswXSkubm9kZVR5cGU/e3dpZHRoOmUud2lkdGgoKSxoZWlnaHQ6ZS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDowLGxlZnQ6MH19OlQodCk/e3dpZHRoOmUud2lkdGgoKSxoZWlnaHQ6ZS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDplLnNjcm9sbFRvcCgpLGxlZnQ6ZS5zY3JvbGxMZWZ0KCl9fTp0LnByZXZlbnREZWZhdWx0P3t3aWR0aDowLGhlaWdodDowLG9mZnNldDp7dG9wOnQucGFnZVksbGVmdDp0LnBhZ2VYfX06e3dpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCksb2Zmc2V0OmUub2Zmc2V0KCl9O3JldHVybiBfWzBdLnByZXZlbnREZWZhdWx0JiYodS5hdD0ibGVmdCB0b3AiKSxwPWUud2lkdGgsZj1lLmhlaWdodCxtPVYuZXh0ZW5kKHt9LGc9ZS5vZmZzZXQpLFYuZWFjaChbIm15IiwiYXQiXSxmdW5jdGlvbigpe3ZhciB0LGUsaT0odVt0aGlzXXx8IiIpLnNwbGl0KCIgIik7KGk9MT09PWkubGVuZ3RoP28udGVzdChpWzBdKT9pLmNvbmNhdChbImNlbnRlciJdKTpsLnRlc3QoaVswXSk/WyJjZW50ZXIiXS5jb25jYXQoaSk6WyJjZW50ZXIiLCJjZW50ZXIiXTppKVswXT1vLnRlc3QoaVswXSk/aVswXToiY2VudGVyIixpWzFdPWwudGVzdChpWzFdKT9pWzFdOiJjZW50ZXIiLHQ9aC5leGVjKGlbMF0pLGU9aC5leGVjKGlbMV0pLHdbdGhpc109W3Q/dFswXTowLGU/ZVswXTowXSx1W3RoaXNdPVtjLmV4ZWMoaVswXSlbMF0sYy5leGVjKGlbMV0pWzBdXX0pLDE9PT15Lmxlbmd0aCYmKHlbMV09eVswXSksInJpZ2h0Ij09PXUuYXRbMF0/bS5sZWZ0Kz1wOiJjZW50ZXIiPT09dS5hdFswXSYmKG0ubGVmdCs9cC8yKSwiYm90dG9tIj09PXUuYXRbMV0/bS50b3ArPWY6ImNlbnRlciI9PT11LmF0WzFdJiYobS50b3ArPWYvMiksZD1EKHcuYXQscCxmKSxtLmxlZnQrPWRbMF0sbS50b3ArPWRbMV0sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksdCxhPVYodGhpcykscj1hLm91dGVyV2lkdGgoKSxsPWEub3V0ZXJIZWlnaHQoKSxlPUkodGhpcywibWFyZ2luTGVmdCIpLHM9SSh0aGlzLCJtYXJnaW5Ub3AiKSxuPXIrZStJKHRoaXMsIm1hcmdpblJpZ2h0IikrYi53aWR0aCxvPWwrcytJKHRoaXMsIm1hcmdpbkJvdHRvbSIpK2IuaGVpZ2h0LGg9Vi5leHRlbmQoe30sbSksYz1EKHcubXksYS5vdXRlcldpZHRoKCksYS5vdXRlckhlaWdodCgpKTsicmlnaHQiPT09dS5teVswXT9oLmxlZnQtPXI6ImNlbnRlciI9PT11Lm15WzBdJiYoaC5sZWZ0LT1yLzIpLCJib3R0b20iPT09dS5teVsxXT9oLnRvcC09bDoiY2VudGVyIj09PXUubXlbMV0mJihoLnRvcC09bC8yKSxoLmxlZnQrPWNbMF0saC50b3ArPWNbMV0saT17bWFyZ2luTGVmdDplLG1hcmdpblRvcDpzfSxWLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24odCxlKXtWLnVpLnBvc2l0aW9uW3lbdF1dJiZWLnVpLnBvc2l0aW9uW3lbdF1dW2VdKGgse3RhcmdldFdpZHRoOnAsdGFyZ2V0SGVpZ2h0OmYsZWxlbVdpZHRoOnIsZWxlbUhlaWdodDpsLGNvbGxpc2lvblBvc2l0aW9uOmksY29sbGlzaW9uV2lkdGg6bixjb2xsaXNpb25IZWlnaHQ6byxvZmZzZXQ6W2RbMF0rY1swXSxkWzFdK2NbMV1dLG15OnUubXksYXQ6dS5hdCx3aXRoaW46dixlbGVtOmF9KX0pLHUudXNpbmcmJih0PWZ1bmN0aW9uKHQpe3ZhciBlPWcubGVmdC1oLmxlZnQsaT1lK3AtcixzPWcudG9wLWgudG9wLG49cytmLWwsbz17dGFyZ2V0OntlbGVtZW50Ol8sbGVmdDpnLmxlZnQsdG9wOmcudG9wLHdpZHRoOnAsaGVpZ2h0OmZ9LGVsZW1lbnQ6e2VsZW1lbnQ6YSxsZWZ0OmgubGVmdCx0b3A6aC50b3Asd2lkdGg6cixoZWlnaHQ6bH0saG9yaXpvbnRhbDppPDA/ImxlZnQiOjA8ZT8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOm48MD8idG9wIjowPHM/ImJvdHRvbSI6Im1pZGRsZSJ9O3A8ciYmayhlK2kpPHAmJihvLmhvcml6b250YWw9ImNlbnRlciIpLGY8bCYmayhzK24pPGYmJihvLnZlcnRpY2FsPSJtaWRkbGUiKSx4KGsoZSksayhpKSk+eChrKHMpLGsobikpP28uaW1wb3J0YW50PSJob3Jpem9udGFsIjpvLmltcG9ydGFudD0idmVydGljYWwiLHUudXNpbmcuY2FsbCh0aGlzLHQsbyl9KSxhLm9mZnNldChWLmV4dGVuZChoLHt1c2luZzp0fSkpfSl9LFYudWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpPWUud2l0aGluLHM9aS5pc1dpbmRvdz9pLnNjcm9sbExlZnQ6aS5vZmZzZXQubGVmdCxuPWkud2lkdGgsbz10LmxlZnQtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGE9cy1vLHI9bytlLmNvbGxpc2lvbldpZHRoLW4tcztlLmNvbGxpc2lvbldpZHRoPm4/MDxhJiZyPD0wPyhpPXQubGVmdCthK2UuY29sbGlzaW9uV2lkdGgtbi1zLHQubGVmdCs9YS1pKTp0LmxlZnQ9ISgwPHImJmE8PTApJiZyPGE/cytuLWUuY29sbGlzaW9uV2lkdGg6czowPGE/dC5sZWZ0Kz1hOjA8cj90LmxlZnQtPXI6dC5sZWZ0PXgodC5sZWZ0LW8sdC5sZWZ0KX0sdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53aXRoaW4scz1pLmlzV2luZG93P2kuc2Nyb2xsVG9wOmkub2Zmc2V0LnRvcCxuPWUud2l0aGluLmhlaWdodCxvPXQudG9wLWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLGE9cy1vLHI9bytlLmNvbGxpc2lvbkhlaWdodC1uLXM7ZS5jb2xsaXNpb25IZWlnaHQ+bj8wPGEmJnI8PTA/KGk9dC50b3ArYStlLmNvbGxpc2lvbkhlaWdodC1uLXMsdC50b3ArPWEtaSk6dC50b3A9ISgwPHImJmE8PTApJiZyPGE/cytuLWUuY29sbGlzaW9uSGVpZ2h0OnM6MDxhP3QudG9wKz1hOjA8cj90LnRvcC09cjp0LnRvcD14KHQudG9wLW8sdC50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpPWUud2l0aGluLHM9aS5vZmZzZXQubGVmdCtpLnNjcm9sbExlZnQsbj1pLndpZHRoLG89aS5pc1dpbmRvdz9pLnNjcm9sbExlZnQ6aS5vZmZzZXQubGVmdCxhPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQscj1hLW8sbD1hK2UuY29sbGlzaW9uV2lkdGgtbi1vLGg9ImxlZnQiPT09ZS5teVswXT8tZS5lbGVtV2lkdGg6InJpZ2h0Ij09PWUubXlbMF0/ZS5lbGVtV2lkdGg6MCxpPSJsZWZ0Ij09PWUuYXRbMF0/ZS50YXJnZXRXaWR0aDoicmlnaHQiPT09ZS5hdFswXT8tZS50YXJnZXRXaWR0aDowLGE9LTIqZS5vZmZzZXRbMF07cjwwPygocz10LmxlZnQraCtpK2ErZS5jb2xsaXNpb25XaWR0aC1uLXMpPDB8fHM8ayhyKSkmJih0LmxlZnQrPWgraSthKTowPGwmJigwPChvPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQraCtpK2Etbyl8fGsobyk8bCkmJih0LmxlZnQrPWgraSthKX0sdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53aXRoaW4scz1pLm9mZnNldC50b3AraS5zY3JvbGxUb3Asbj1pLmhlaWdodCxvPWkuaXNXaW5kb3c/aS5zY3JvbGxUb3A6aS5vZmZzZXQudG9wLGE9dC50b3AtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3Ascj1hLW8sbD1hK2UuY29sbGlzaW9uSGVpZ2h0LW4tbyxoPSJ0b3AiPT09ZS5teVsxXT8tZS5lbGVtSGVpZ2h0OiJib3R0b20iPT09ZS5teVsxXT9lLmVsZW1IZWlnaHQ6MCxpPSJ0b3AiPT09ZS5hdFsxXT9lLnRhcmdldEhlaWdodDoiYm90dG9tIj09PWUuYXRbMV0/LWUudGFyZ2V0SGVpZ2h0OjAsYT0tMiplLm9mZnNldFsxXTtyPDA/KChzPXQudG9wK2graSthK2UuY29sbGlzaW9uSGVpZ2h0LW4tcyk8MHx8czxrKHIpKSYmKHQudG9wKz1oK2krYSk6MDxsJiYoMDwobz10LnRvcC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCtoK2krYS1vKXx8ayhvKTxsKSYmKHQudG9wKz1oK2krYSl9fSxmbGlwZml0OntsZWZ0OmZ1bmN0aW9uKCl7Vi51aS5wb3NpdGlvbi5mbGlwLmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLFYudWkucG9zaXRpb24uZml0LmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0b3A6ZnVuY3Rpb24oKXtWLnVpLnBvc2l0aW9uLmZsaXAudG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxWLnVpLnBvc2l0aW9uLmZpdC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O1YudWkucG9zaXRpb24sVi5leHRlbmQoVi5leHByLnBzZXVkb3Mse2RhdGE6Vi5leHByLmNyZWF0ZVBzZXVkbz9WLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIVYuZGF0YSh0LGUpfX0pOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4hIVYuZGF0YSh0LGlbM10pfX0pLFYuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOih0PSJvbnNlbGVjdHN0YXJ0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbih0KyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSl9KSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmYoIi51aS1kaXNhYmxlU2VsZWN0aW9uIil9fSk7dmFyIHQsZD1WLHA9e30sZT1wLnRvU3RyaW5nLGY9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyxnPVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bdFsxXSx0WzJdLHRbM10sdFs0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bMi41NSp0WzFdLDIuNTUqdFsyXSwyLjU1KnRbM10sdFs0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pPy8scGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuW3BhcnNlSW50KHRbMV0sMTYpLHBhcnNlSW50KHRbMl0sMTYpLHBhcnNlSW50KHRbM10sMTYpLHRbNF0/KHBhcnNlSW50KHRbNF0sMTYpLzI1NSkudG9GaXhlZCgyKToxXX19LHtyZTovIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSk/LyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSt0WzFdLDE2KSxwYXJzZUludCh0WzJdK3RbMl0sMTYpLHBhcnNlSW50KHRbM10rdFszXSwxNiksdFs0XT8ocGFyc2VJbnQodFs0XSt0WzRdLDE2KS8yNTUpLnRvRml4ZWQoMik6MV19fSx7cmU6L2hzbGE/XChccyooXGQrKD86XC5cZCspPylccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8sc3BhY2U6ImhzbGEiLHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVyblt0WzFdLHRbMl0vMTAwLHRbM10vMTAwLHRbNF1dfX1dLG09ZC5Db2xvcj1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gbmV3IGQuQ29sb3IuZm4ucGFyc2UodCxlLGkscyl9LF89e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6ImJ5dGUifSxncmVlbjp7aWR4OjEsdHlwZToiYnl0ZSJ9LGJsdWU6e2lkeDoyLHR5cGU6ImJ5dGUifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6ImRlZ3JlZXMifSxzYXR1cmF0aW9uOntpZHg6MSx0eXBlOiJwZXJjZW50In0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOiJwZXJjZW50In19fX0sdj17Ynl0ZTp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxiPW0uc3VwcG9ydD17fSx5PWQoIjxwPiIpWzBdLHc9ZC5lYWNoO2Z1bmN0aW9uIFAodCl7cmV0dXJuIG51bGw9PXQ/dCsiIjoib2JqZWN0Ij09dHlwZW9mIHQ/cFtlLmNhbGwodCldfHwib2JqZWN0Ijp0eXBlb2YgdH1mdW5jdGlvbiBNKHQsZSxpKXt2YXIgcz12W2UudHlwZV18fHt9O3JldHVybiBudWxsPT10P2l8fCFlLmRlZj9udWxsOmUuZGVmOih0PXMuZmxvb3I/fn50OnBhcnNlRmxvYXQodCksaXNOYU4odCk/ZS5kZWY6cy5tb2Q/KHQrcy5tb2QpJXMubW9kOk1hdGgubWluKHMubWF4LE1hdGgubWF4KDAsdCkpKX1mdW5jdGlvbiBTKHMpe3ZhciBuPW0oKSxvPW4uX3JnYmE9W107cmV0dXJuIHM9cy50b0xvd2VyQ2FzZSgpLHcoZyxmdW5jdGlvbih0LGUpe3ZhciBpPWUucmUuZXhlYyhzKSxpPWkmJmUucGFyc2UoaSksZT1lLnNwYWNlfHwicmdiYSI7aWYoaSlyZXR1cm4gaT1uW2VdKGkpLG5bX1tlXS5jYWNoZV09aVtfW2VdLmNhY2hlXSxvPW4uX3JnYmE9aS5fcmdiYSwhMX0pLG8ubGVuZ3RoPygiMCwwLDAsMCI9PT1vLmpvaW4oKSYmZC5leHRlbmQobyxCLnRyYW5zcGFyZW50KSxuKTpCW3NdfWZ1bmN0aW9uIEgodCxlLGkpe3JldHVybiA2KihpPShpKzEpJTEpPDE/dCsoZS10KSppKjY6MippPDE/ZTozKmk8Mj90KyhlLXQpKigyLzMtaSkqNjp0fXkuc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSIsYi5yZ2JhPS0xPHkuc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoInJnYmEiKSx3KF8sZnVuY3Rpb24odCxlKXtlLmNhY2hlPSJfIit0LGUucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6InBlcmNlbnQiLGRlZjoxfX0pLGQuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24odCxlKXtwWyJbb2JqZWN0ICIrZSsiXSJdPWUudG9Mb3dlckNhc2UoKX0pLChtLmZuPWQuZXh0ZW5kKG0ucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihuLHQsZSxpKXtpZih2b2lkIDA9PT1uKXJldHVybiB0aGlzLl9yZ2JhPVtudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzOyhuLmpxdWVyeXx8bi5ub2RlVHlwZSkmJihuPWQobikuY3NzKHQpLHQ9dm9pZCAwKTt2YXIgbz10aGlzLHM9UChuKSxhPXRoaXMuX3JnYmE9W107cmV0dXJuIHZvaWQgMCE9PXQmJihuPVtuLHQsZSxpXSxzPSJhcnJheSIpLCJzdHJpbmciPT09cz90aGlzLnBhcnNlKFMobil8fEIuX2RlZmF1bHQpOiJhcnJheSI9PT1zPyh3KF8ucmdiYS5wcm9wcyxmdW5jdGlvbih0LGUpe2FbZS5pZHhdPU0obltlLmlkeF0sZSl9KSx0aGlzKToib2JqZWN0Ij09PXM/KHcoXyxuIGluc3RhbmNlb2YgbT9mdW5jdGlvbih0LGUpe25bZS5jYWNoZV0mJihvW2UuY2FjaGVdPW5bZS5jYWNoZV0uc2xpY2UoKSl9OmZ1bmN0aW9uKHQsaSl7dmFyIHM9aS5jYWNoZTt3KGkucHJvcHMsZnVuY3Rpb24odCxlKXtpZighb1tzXSYmaS50byl7aWYoImFscGhhIj09PXR8fG51bGw9PW5bdF0pcmV0dXJuO29bc109aS50byhvLl9yZ2JhKX1vW3NdW2UuaWR4XT1NKG5bdF0sZSwhMCl9KSxvW3NdJiZkLmluQXJyYXkobnVsbCxvW3NdLnNsaWNlKDAsMykpPDAmJihudWxsPT1vW3NdWzNdJiYob1tzXVszXT0xKSxpLmZyb20mJihvLl9yZ2JhPWkuZnJvbShvW3NdKSkpfSksdGhpcyk6dm9pZCAwfSxpczpmdW5jdGlvbih0KXt2YXIgbj1tKHQpLG89ITAsYT10aGlzO3JldHVybiB3KF8sZnVuY3Rpb24odCxlKXt2YXIgaSxzPW5bZS5jYWNoZV07cmV0dXJuIHMmJihpPWFbZS5jYWNoZV18fGUudG8mJmUudG8oYS5fcmdiYSl8fFtdLHcoZS5wcm9wcyxmdW5jdGlvbih0LGUpe2lmKG51bGwhPXNbZS5pZHhdKXJldHVybiBvPXNbZS5pZHhdPT09aVtlLmlkeF19KSksb30pLG99LF9zcGFjZTpmdW5jdGlvbigpe3ZhciBpPVtdLHM9dGhpcztyZXR1cm4gdyhfLGZ1bmN0aW9uKHQsZSl7c1tlLmNhY2hlXSYmaS5wdXNoKHQpfSksaS5wb3AoKX0sdHJhbnNpdGlvbjpmdW5jdGlvbih0LGEpe3ZhciBlPShoPW0odCkpLl9zcGFjZSgpLGk9X1tlXSx0PTA9PT10aGlzLmFscGhhKCk/bSgidHJhbnNwYXJlbnQiKTp0aGlzLHI9dFtpLmNhY2hlXXx8aS50byh0Ll9yZ2JhKSxsPXIuc2xpY2UoKSxoPWhbaS5jYWNoZV07cmV0dXJuIHcoaS5wcm9wcyxmdW5jdGlvbih0LGUpe3ZhciBpPWUuaWR4LHM9cltpXSxuPWhbaV0sbz12W2UudHlwZV18fHt9O251bGwhPT1uJiYobnVsbD09PXM/bFtpXT1uOihvLm1vZCYmKG4tcz5vLm1vZC8yP3MrPW8ubW9kOnMtbj5vLm1vZC8yJiYocy09by5tb2QpKSxsW2ldPU0oKG4tcykqYStzLGUpKSl9KSx0aGlzW2VdKGwpfSxibGVuZDpmdW5jdGlvbih0KXtpZigxPT09dGhpcy5fcmdiYVszXSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9yZ2JhLnNsaWNlKCksaT1lLnBvcCgpLHM9bSh0KS5fcmdiYTtyZXR1cm4gbShkLm1hcChlLGZ1bmN0aW9uKHQsZSl7cmV0dXJuKDEtaSkqc1tlXStpKnR9KSl9LHRvUmdiYVN0cmluZzpmdW5jdGlvbigpe3ZhciB0PSJyZ2JhKCIsZT1kLm1hcCh0aGlzLl9yZ2JhLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQ/dDoyPGU/MTowfSk7cmV0dXJuIDE9PT1lWzNdJiYoZS5wb3AoKSx0PSJyZ2IoIiksdCtlLmpvaW4oKSsiKSJ9LHRvSHNsYVN0cmluZzpmdW5jdGlvbigpe3ZhciB0PSJoc2xhKCIsZT1kLm1hcCh0aGlzLmhzbGEoKSxmdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10JiYodD0yPGU/MTowKSx0PWUmJmU8Mz9NYXRoLnJvdW5kKDEwMCp0KSsiJSI6dH0pO3JldHVybiAxPT09ZVszXSYmKGUucG9wKCksdD0iaHNsKCIpLHQrZS5qb2luKCkrIikifSx0b0hleFN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZ2JhLnNsaWNlKCksaT1lLnBvcCgpO3JldHVybiB0JiZlLnB1c2gofn4oMjU1KmkpKSwiIyIrZC5tYXAoZSxmdW5jdGlvbih0KXtyZXR1cm4gMT09PSh0PSh0fHwwKS50b1N0cmluZygxNikpLmxlbmd0aD8iMCIrdDp0fSkuam9pbigiIil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9yZ2JhWzNdPyJ0cmFuc3BhcmVudCI6dGhpcy50b1JnYmFTdHJpbmcoKX19KSkucGFyc2UucHJvdG90eXBlPW0uZm4sXy5oc2xhLnRvPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRbMF18fG51bGw9PXRbMV18fG51bGw9PXRbMl0pcmV0dXJuW251bGwsbnVsbCxudWxsLHRbM11dO3ZhciBlPXRbMF0vMjU1LGk9dFsxXS8yNTUscz10WzJdLzI1NSxuPXRbM10sbz1NYXRoLm1heChlLGkscyksYT1NYXRoLm1pbihlLGkscykscj1vLWEsbD1vK2EsdD0uNSpsLGk9YT09PW8/MDplPT09bz82MCooaS1zKS9yKzM2MDppPT09bz82MCoocy1lKS9yKzEyMDo2MCooZS1pKS9yKzI0MCxsPTA9PXI/MDp0PD0uNT9yL2w6ci8oMi1sKTtyZXR1cm5bTWF0aC5yb3VuZChpKSUzNjAsbCx0LG51bGw9PW4/MTpuXX0sXy5oc2xhLmZyb209ZnVuY3Rpb24odCl7aWYobnVsbD09dFswXXx8bnVsbD09dFsxXXx8bnVsbD09dFsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsdFszXV07dmFyIGU9dFswXS8zNjAsaT10WzFdLHM9dFsyXSx0PXRbM10saT1zPD0uNT9zKigxK2kpOnMraS1zKmkscz0yKnMtaTtyZXR1cm5bTWF0aC5yb3VuZCgyNTUqSChzLGksZSsxLzMpKSxNYXRoLnJvdW5kKDI1NSpIKHMsaSxlKSksTWF0aC5yb3VuZCgyNTUqSChzLGksZS0xLzMpKSx0XX0sdyhfLGZ1bmN0aW9uKGwsdCl7dmFyIGU9dC5wcm9wcyxvPXQuY2FjaGUsYT10LnRvLHI9dC5mcm9tO20uZm5bbF09ZnVuY3Rpb24odCl7aWYoYSYmIXRoaXNbb10mJih0aGlzW29dPWEodGhpcy5fcmdiYSkpLHZvaWQgMD09PXQpcmV0dXJuIHRoaXNbb10uc2xpY2UoKTt2YXIgaT1QKHQpLHM9ImFycmF5Ij09PWl8fCJvYmplY3QiPT09aT90OmFyZ3VtZW50cyxuPXRoaXNbb10uc2xpY2UoKTtyZXR1cm4gdyhlLGZ1bmN0aW9uKHQsZSl7dD1zWyJvYmplY3QiPT09aT90OmUuaWR4XTtudWxsPT10JiYodD1uW2UuaWR4XSksbltlLmlkeF09TSh0LGUpfSkscj8oKHQ9bShyKG4pKSlbb109bix0KTptKG4pfSx3KGUsZnVuY3Rpb24oYSxyKXttLmZuW2FdfHwobS5mblthXT1mdW5jdGlvbih0KXt2YXIgZSxpPVAodCkscz0iYWxwaGEiPT09YT90aGlzLl9oc2xhPyJoc2xhIjoicmdiYSI6bCxuPXRoaXNbc10oKSxvPW5bci5pZHhdO3JldHVybiJ1bmRlZmluZWQiPT09aT9vOigiZnVuY3Rpb24iPT09aSYmKGk9UCh0PXQuY2FsbCh0aGlzLG8pKSksbnVsbD09dCYmci5lbXB0eT90aGlzOigic3RyaW5nIj09PWkmJihlPWYuZXhlYyh0KSkmJih0PW8rcGFyc2VGbG9hdChlWzJdKSooIisiPT09ZVsxXT8xOi0xKSksbltyLmlkeF09dCx0aGlzW3NdKG4pKSl9KX0pfSksKG0uaG9vaz1mdW5jdGlvbih0KXt0PXQuc3BsaXQoIiAiKTt3KHQsZnVuY3Rpb24odCxvKXtkLmNzc0hvb2tzW29dPXtzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49IiI7aWYoInRyYW5zcGFyZW50IiE9PWUmJigic3RyaW5nIiE9PVAoZSl8fChpPVMoZSkpKSl7aWYoZT1tKGl8fGUpLCFiLnJnYmEmJjEhPT1lLl9yZ2JhWzNdKXtmb3Iocz0iYmFja2dyb3VuZENvbG9yIj09PW8/dC5wYXJlbnROb2RlOnQ7KCIiPT09bnx8InRyYW5zcGFyZW50Ij09PW4pJiZzJiZzLnN0eWxlOyl0cnl7bj1kLmNzcyhzLCJiYWNrZ3JvdW5kQ29sb3IiKSxzPXMucGFyZW50Tm9kZX1jYXRjaCh0KXt9ZT1lLmJsZW5kKG4mJiJ0cmFuc3BhcmVudCIhPT1uP246Il9kZWZhdWx0Iil9ZT1lLnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW29dPWV9Y2F0Y2godCl7fX19LGQuZnguc3RlcFtvXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9bSh0LmVsZW0sbyksdC5lbmQ9bSh0LmVuZCksdC5jb2xvckluaXQ9ITApLGQuY3NzSG9va3Nbb10uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX0pKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIiksZC5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKGkpe3ZhciBzPXt9O3JldHVybiB3KFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24odCxlKXtzWyJib3JkZXIiK2UrIkNvbG9yIl09aX0pLHN9fTt2YXIgeixBLE8sTixFLFcsRixMLFIsWSxCPWQuQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn0saj0idWktZWZmZWN0cy0iLHE9InVpLWVmZmVjdHMtc3R5bGUiLEs9InVpLWVmZmVjdHMtYW5pbWF0ZWQiO2Z1bmN0aW9uIFUodCl7dmFyIGUsaSxzPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpOnQuY3VycmVudFN0eWxlLG49e307aWYocyYmcy5sZW5ndGgmJnNbMF0mJnNbc1swXV0pZm9yKGk9cy5sZW5ndGg7aS0tOykic3RyaW5nIj09dHlwZW9mIHNbZT1zW2ldXSYmKG5bZS5yZXBsYWNlKC8tKFtcZGEtel0pL2dpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pXT1zW2VdKTtlbHNlIGZvcihlIGluIHMpInN0cmluZyI9PXR5cGVvZiBzW2VdJiYobltlXT1zW2VdKTtyZXR1cm4gbn1mdW5jdGlvbiBYKHQsZSxpLHMpe3JldHVybiB0PXtlZmZlY3Q6dD1WLmlzUGxhaW5PYmplY3QodCk/KGU9dCkuZWZmZWN0OnR9LCJmdW5jdGlvbiI9PXR5cGVvZihlPW51bGw9PWU/e306ZSkmJihzPWUsaT1udWxsLGU9e30pLCJudW1iZXIiIT10eXBlb2YgZSYmIVYuZnguc3BlZWRzW2VdfHwocz1pLGk9ZSxlPXt9KSwiZnVuY3Rpb24iPT10eXBlb2YgaSYmKHM9aSxpPW51bGwpLGUmJlYuZXh0ZW5kKHQsZSksaT1pfHxlLmR1cmF0aW9uLHQuZHVyYXRpb249Vi5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIGk/aTppIGluIFYuZnguc3BlZWRzP1YuZnguc3BlZWRzW2ldOlYuZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9c3x8ZS5jb21wbGV0ZSx0fWZ1bmN0aW9uICQodCl7cmV0dXJuIXR8fCJudW1iZXIiPT10eXBlb2YgdHx8Vi5meC5zcGVlZHNbdF18fCgic3RyaW5nIj09dHlwZW9mIHQmJiFWLmVmZmVjdHMuZWZmZWN0W3RdfHwoImZ1bmN0aW9uIj09dHlwZW9mIHR8fCJvYmplY3QiPT10eXBlb2YgdCYmIXQuZWZmZWN0KSl9ZnVuY3Rpb24gRyh0LGUpe3ZhciBpPWUub3V0ZXJXaWR0aCgpLGU9ZS5vdXRlckhlaWdodCgpLHQ9L15yZWN0XCgoLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0bylcKSQvLmV4ZWModCl8fFsiIiwwLGksZSwwXTtyZXR1cm57dG9wOnBhcnNlRmxvYXQodFsxXSl8fDAscmlnaHQ6ImF1dG8iPT09dFsyXT9pOnBhcnNlRmxvYXQodFsyXSksYm90dG9tOiJhdXRvIj09PXRbM10/ZTpwYXJzZUZsb2F0KHRbM10pLGxlZnQ6cGFyc2VGbG9hdCh0WzRdKXx8MH19Vi5lZmZlY3RzPXtlZmZlY3Q6e319LE49WyJhZGQiLCJyZW1vdmUiLCJ0b2dnbGUiXSxFPXtib3JkZXI6MSxib3JkZXJCb3R0b206MSxib3JkZXJDb2xvcjoxLGJvcmRlckxlZnQ6MSxib3JkZXJSaWdodDoxLGJvcmRlclRvcDoxLGJvcmRlcldpZHRoOjEsbWFyZ2luOjEscGFkZGluZzoxfSxWLmVhY2goWyJib3JkZXJMZWZ0U3R5bGUiLCJib3JkZXJSaWdodFN0eWxlIiwiYm9yZGVyQm90dG9tU3R5bGUiLCJib3JkZXJUb3BTdHlsZSJdLGZ1bmN0aW9uKHQsZSl7Vi5meC5zdGVwW2VdPWZ1bmN0aW9uKHQpeygibm9uZSIhPT10LmVuZCYmIXQuc2V0QXR0cnx8MT09PXQucG9zJiYhdC5zZXRBdHRyKSYmKGQuc3R5bGUodC5lbGVtLGUsdC5lbmQpLHQuc2V0QXR0cj0hMCl9fSksVi5mbi5hZGRCYWNrfHwoVi5mbi5hZGRCYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZChudWxsPT10P3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKHQpKX0pLFYuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24obix0LGUsaSl7dmFyIG89Vi5zcGVlZCh0LGUsaSk7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgaT1WKHRoaXMpLHQ9aS5hdHRyKCJjbGFzcyIpfHwiIixlPShlPW8uY2hpbGRyZW4/aS5maW5kKCIqIikuYWRkQmFjaygpOmkpLm1hcChmdW5jdGlvbigpe3JldHVybntlbDpWKHRoaXMpLHN0YXJ0OlUodGhpcyl9fSkscz1mdW5jdGlvbigpe1YuZWFjaChOLGZ1bmN0aW9uKHQsZSl7bltlXSYmaVtlKyJDbGFzcyJdKG5bZV0pfSl9O3MoKSxlPWUubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPVUodGhpcy5lbFswXSksdGhpcy5kaWZmPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuPXt9O2ZvcihpIGluIGUpcz1lW2ldLHRbaV0hPT1zJiYoRVtpXXx8IVYuZnguc3RlcFtpXSYmaXNOYU4ocGFyc2VGbG9hdChzKSl8fChuW2ldPXMpKTtyZXR1cm4gbn0odGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pLGkuYXR0cigiY2xhc3MiLHQpLGU9ZS5tYXAoZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9Vi5EZWZlcnJlZCgpLGk9Vi5leHRlbmQoe30sbyx7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXtlLnJlc29sdmUodCl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYsaSksZS5wcm9taXNlKCl9KSxWLndoZW4uYXBwbHkoVixlLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7cygpLFYuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsO1YuZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24odCl7ZS5jc3ModCwiIil9KX0pLG8uY29tcGxldGUuY2FsbChpWzBdKX0pfSl9LFYuZm4uZXh0ZW5kKHthZGRDbGFzczooTz1WLmZuLmFkZENsYXNzLGZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBlP1YuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6dH0sZSxpLHMpOk8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSkscmVtb3ZlQ2xhc3M6KEE9Vi5mbi5yZW1vdmVDbGFzcyxmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gMTxhcmd1bWVudHMubGVuZ3RoP1YuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6dH0sZSxpLHMpOkEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdG9nZ2xlQ2xhc3M6KHo9Vi5mbi50b2dnbGVDbGFzcyxmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiJib29sZWFuIj09dHlwZW9mIGV8fHZvaWQgMD09PWU/aT9WLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyxlP3thZGQ6dH06e3JlbW92ZTp0fSxpLHMsbik6ei5hcHBseSh0aGlzLGFyZ3VtZW50cyk6Vi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3RvZ2dsZTp0fSxlLGkscyl9KSxzd2l0Y2hDbGFzczpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiBWLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOmUscmVtb3ZlOnR9LGkscyxuKX19KSxWLmV4cHImJlYuZXhwci5wc2V1ZG9zJiZWLmV4cHIucHNldWRvcy5hbmltYXRlZCYmKFYuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPShXPVYuZXhwci5wc2V1ZG9zLmFuaW1hdGVkLGZ1bmN0aW9uKHQpe3JldHVybiEhVih0KS5kYXRhKEspfHxXKHQpfSkpLCExIT09Vi51aUJhY2tDb21wYXQmJlYuZXh0ZW5kKFYuZWZmZWN0cyx7c2F2ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHM9ZS5sZW5ndGg7aTxzO2krKyludWxsIT09ZVtpXSYmdC5kYXRhKGorZVtpXSx0WzBdLnN0eWxlW2VbaV1dKX0scmVzdG9yZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxzPTAsbj1lLmxlbmd0aDtzPG47cysrKW51bGwhPT1lW3NdJiYoaT10LmRhdGEoaitlW3NdKSx0LmNzcyhlW3NdLGkpKX0sc2V0TW9kZTpmdW5jdGlvbih0LGUpe3JldHVybiBlPSJ0b2dnbGUiPT09ZT90LmlzKCI6aGlkZGVuIik/InNob3ciOiJoaWRlIjplfSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKGkpe2lmKGkucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gaS5wYXJlbnQoKTt2YXIgcz17d2lkdGg6aS5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6aS5vdXRlckhlaWdodCghMCksZmxvYXQ6aS5jc3MoImZsb2F0Iil9LHQ9VigiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktZWZmZWN0cy13cmFwcGVyIikuY3NzKHtmb250U2l6ZToiMTAwJSIsYmFja2dyb3VuZDoidHJhbnNwYXJlbnQiLGJvcmRlcjoibm9uZSIsbWFyZ2luOjAscGFkZGluZzowfSksZT17d2lkdGg6aS53aWR0aCgpLGhlaWdodDppLmhlaWdodCgpfSxuPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7dHJ5e24uaWR9Y2F0Y2godCl7bj1kb2N1bWVudC5ib2R5fXJldHVybiBpLndyYXAodCksaVswXSE9PW4mJiFWLmNvbnRhaW5zKGlbMF0sbil8fFYobikudHJpZ2dlcigiZm9jdXMiKSx0PWkucGFyZW50KCksInN0YXRpYyI9PT1pLmNzcygicG9zaXRpb24iKT8odC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KSxpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pKTooVi5leHRlbmQocyx7cG9zaXRpb246aS5jc3MoInBvc2l0aW9uIiksekluZGV4OmkuY3NzKCJ6LWluZGV4Iil9KSxWLmVhY2goWyJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiXSxmdW5jdGlvbih0LGUpe3NbZV09aS5jc3MoZSksaXNOYU4ocGFyc2VJbnQoc1tlXSwxMCkpJiYoc1tlXT0iYXV0byIpfSksaS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOjAsbGVmdDowLHJpZ2h0OiJhdXRvIixib3R0b206ImF1dG8ifSkpLGkuY3NzKGUpLHQuY3NzKHMpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3JldHVybiB0LnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikmJih0LnBhcmVudCgpLnJlcGxhY2VXaXRoKHQpLHRbMF0hPT1lJiYhVi5jb250YWlucyh0WzBdLGUpfHxWKGUpLnRyaWdnZXIoImZvY3VzIikpLHR9fSksVi5leHRlbmQoVi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmluZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGl8fChpPWUsZT0iZWZmZWN0IiksVi5lZmZlY3RzLmVmZmVjdFt0XT1pLFYuZWZmZWN0cy5lZmZlY3RbdF0ubW9kZT1lLGl9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24odCxlLGkpe2lmKDA9PT1lKXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcz0iaG9yaXpvbnRhbCIhPT1pPyhlfHwxMDApLzEwMDoxLGU9InZlcnRpY2FsIiE9PWk/KGV8fDEwMCkvMTAwOjE7cmV0dXJue2hlaWdodDp0LmhlaWdodCgpKmUsd2lkdGg6dC53aWR0aCgpKnMsb3V0ZXJIZWlnaHQ6dC5vdXRlckhlaWdodCgpKmUsb3V0ZXJXaWR0aDp0Lm91dGVyV2lkdGgoKSpzfX0sY2xpcFRvQm94OmZ1bmN0aW9uKHQpe3JldHVybnt3aWR0aDp0LmNsaXAucmlnaHQtdC5jbGlwLmxlZnQsaGVpZ2h0OnQuY2xpcC5ib3R0b20tdC5jbGlwLnRvcCxsZWZ0OnQuY2xpcC5sZWZ0LHRvcDp0LmNsaXAudG9wfX0sdW5zaGlmdDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dC5xdWV1ZSgpOzE8ZSYmcy5zcGxpY2UuYXBwbHkocyxbMSwwXS5jb25jYXQocy5zcGxpY2UoZSxpKSkpLHQuZGVxdWV1ZSgpfSxzYXZlU3R5bGU6ZnVuY3Rpb24odCl7dC5kYXRhKHEsdFswXS5zdHlsZS5jc3NUZXh0KX0scmVzdG9yZVN0eWxlOmZ1bmN0aW9uKHQpe3RbMF0uc3R5bGUuY3NzVGV4dD10LmRhdGEocSl8fCIiLHQucmVtb3ZlRGF0YShxKX0sbW9kZTpmdW5jdGlvbih0LGUpe3Q9dC5pcygiOmhpZGRlbiIpO3JldHVybiJ0b2dnbGUiPT09ZSYmKGU9dD8ic2hvdyI6ImhpZGUiKSxlPSh0PyJoaWRlIj09PWU6InNob3ciPT09ZSk/Im5vbmUiOmV9LGdldEJhc2VsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGkscztzd2l0Y2godFswXSl7Y2FzZSJ0b3AiOmk9MDticmVhaztjYXNlIm1pZGRsZSI6aT0uNTticmVhaztjYXNlImJvdHRvbSI6aT0xO2JyZWFrO2RlZmF1bHQ6aT10WzBdL2UuaGVpZ2h0fXN3aXRjaCh0WzFdKXtjYXNlImxlZnQiOnM9MDticmVhaztjYXNlImNlbnRlciI6cz0uNTticmVhaztjYXNlInJpZ2h0IjpzPTE7YnJlYWs7ZGVmYXVsdDpzPXRbMV0vZS53aWR0aH1yZXR1cm57eDpzLHk6aX19LGNyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5jc3MoInBvc2l0aW9uIikscz10LnBvc2l0aW9uKCk7cmV0dXJuIHQuY3NzKHttYXJnaW5Ub3A6dC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpbkJvdHRvbTp0LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblJpZ2h0OnQuY3NzKCJtYXJnaW5SaWdodCIpfSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKSwvXihzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KGkpJiYoaT0iYWJzb2x1dGUiLGU9VigiPCIrdFswXS5ub2RlTmFtZSsiPiIpLmluc2VydEFmdGVyKHQpLmNzcyh7ZGlzcGxheTovXihpbmxpbmV8cnVieSkvLnRlc3QodC5jc3MoImRpc3BsYXkiKSk/ImlubGluZS1ibG9jayI6ImJsb2NrIix2aXNpYmlsaXR5OiJoaWRkZW4iLG1hcmdpblRvcDp0LmNzcygibWFyZ2luVG9wIiksbWFyZ2luQm90dG9tOnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnQuY3NzKCJtYXJnaW5MZWZ0IiksbWFyZ2luUmlnaHQ6dC5jc3MoIm1hcmdpblJpZ2h0IiksZmxvYXQ6dC5jc3MoImZsb2F0Iil9KS5vdXRlcldpZHRoKHQub3V0ZXJXaWR0aCgpKS5vdXRlckhlaWdodCh0Lm91dGVySGVpZ2h0KCkpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLXBsYWNlaG9sZGVyIiksdC5kYXRhKGorInBsYWNlaG9sZGVyIixlKSksdC5jc3Moe3Bvc2l0aW9uOmksbGVmdDpzLmxlZnQsdG9wOnMudG9wfSksZX0scmVtb3ZlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dmFyIGU9aisicGxhY2Vob2xkZXIiLGk9dC5kYXRhKGUpO2kmJihpLnJlbW92ZSgpLHQucmVtb3ZlRGF0YShlKSl9LGNsZWFuVXA6ZnVuY3Rpb24odCl7Vi5lZmZlY3RzLnJlc3RvcmVTdHlsZSh0KSxWLmVmZmVjdHMucmVtb3ZlUGxhY2Vob2xkZXIodCl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24ocyx0LG4sbyl7cmV0dXJuIG89b3x8e30sVi5lYWNoKHQsZnVuY3Rpb24odCxlKXt2YXIgaT1zLmNzc1VuaXQoZSk7MDxpWzBdJiYob1tlXT1pWzBdKm4raVsxXSl9KSxvfX0pLFYuZm4uZXh0ZW5kKHtlZmZlY3Q6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPVYodGhpcyksaT1WLmVmZmVjdHMubW9kZShlLHIpfHxvO2UuZGF0YShLLCEwKSxsLnB1c2goaSksbyYmKCJzaG93Ij09PWl8fGk9PT1vJiYiaGlkZSI9PT1pKSYmZS5zaG93KCksbyYmIm5vbmUiPT09aXx8Vi5lZmZlY3RzLnNhdmVTdHlsZShlKSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmdCgpfXZhciBzPVguYXBwbHkodGhpcyxhcmd1bWVudHMpLG49Vi5lZmZlY3RzLmVmZmVjdFtzLmVmZmVjdF0sbz1uLm1vZGUsZT1zLnF1ZXVlLGk9ZXx8ImZ4IixhPXMuY29tcGxldGUscj1zLm1vZGUsbD1bXTtyZXR1cm4gVi5meC5vZmZ8fCFuP3I/dGhpc1tyXShzLmR1cmF0aW9uLGEpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EmJmEuY2FsbCh0aGlzKX0pOiExPT09ZT90aGlzLmVhY2godCkuZWFjaChoKTp0aGlzLnF1ZXVlKGksdCkucXVldWUoaSxoKTtmdW5jdGlvbiBoKHQpe3ZhciBlPVYodGhpcyk7ZnVuY3Rpb24gaSgpeyJmdW5jdGlvbiI9PXR5cGVvZiBhJiZhLmNhbGwoZVswXSksImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQoKX1zLm1vZGU9bC5zaGlmdCgpLCExPT09Vi51aUJhY2tDb21wYXR8fG8/Im5vbmUiPT09cy5tb2RlPyhlW3JdKCksaSgpKTpuLmNhbGwoZVswXSxzLGZ1bmN0aW9uKCl7ZS5yZW1vdmVEYXRhKEspLFYuZWZmZWN0cy5jbGVhblVwKGUpLCJoaWRlIj09PXMubW9kZSYmZS5oaWRlKCksaSgpfSk6KGUuaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhlW3JdKCksaSgpKTpuLmNhbGwoZVswXSxzLGkpfX0sc2hvdzooUj1WLmZuLnNob3csZnVuY3Rpb24odCl7aWYoJCh0KSlyZXR1cm4gUi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dD1YLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdC5tb2RlPSJzaG93Iix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsdCl9KSxoaWRlOihMPVYuZm4uaGlkZSxmdW5jdGlvbih0KXtpZigkKHQpKXJldHVybiBMLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0PVguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0Lm1vZGU9ImhpZGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx0KX0pLHRvZ2dsZTooRj1WLmZuLnRvZ2dsZSxmdW5jdGlvbih0KXtpZigkKHQpfHwiYm9vbGVhbiI9PXR5cGVvZiB0KXJldHVybiBGLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0PVguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0Lm1vZGU9InRvZ2dsZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHQpfSksY3NzVW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNzcyh0KSxzPVtdO3JldHVybiBWLmVhY2goWyJlbSIsInB4IiwiJSIsInB0Il0sZnVuY3Rpb24odCxlKXswPGkuaW5kZXhPZihlKSYmKHM9W3BhcnNlRmxvYXQoaSksZV0pfSksc30sY3NzQ2xpcDpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmNzcygiY2xpcCIsInJlY3QoIit0LnRvcCsicHggIit0LnJpZ2h0KyJweCAiK3QuYm90dG9tKyJweCAiK3QubGVmdCsicHgpIik6Ryh0aGlzLmNzcygiY2xpcCIpLHRoaXMpfSx0cmFuc2ZlcjpmdW5jdGlvbih0LGUpe3ZhciBpPVYodGhpcykscz1WKHQudG8pLG49ImZpeGVkIj09PXMuY3NzKCJwb3NpdGlvbiIpLG89VigiYm9keSIpLGE9bj9vLnNjcm9sbFRvcCgpOjAscj1uP28uc2Nyb2xsTGVmdCgpOjAsbz1zLm9mZnNldCgpLG89e3RvcDpvLnRvcC1hLGxlZnQ6by5sZWZ0LXIsaGVpZ2h0OnMuaW5uZXJIZWlnaHQoKSx3aWR0aDpzLmlubmVyV2lkdGgoKX0scz1pLm9mZnNldCgpLGw9VigiPGRpdiBjbGFzcz0ndWktZWZmZWN0cy10cmFuc2Zlcic+PC9kaXY+Iik7bC5hcHBlbmRUbygiYm9keSIpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpzLnRvcC1hLGxlZnQ6cy5sZWZ0LXIsaGVpZ2h0OmkuaW5uZXJIZWlnaHQoKSx3aWR0aDppLmlubmVyV2lkdGgoKSxwb3NpdGlvbjpuPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUobyx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7bC5yZW1vdmUoKSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmZSgpfSl9fSksVi5meC5zdGVwLmNsaXA9ZnVuY3Rpb24odCl7dC5jbGlwSW5pdHx8KHQuc3RhcnQ9Vih0LmVsZW0pLmNzc0NsaXAoKSwic3RyaW5nIj09dHlwZW9mIHQuZW5kJiYodC5lbmQ9Ryh0LmVuZCx0LmVsZW0pKSx0LmNsaXBJbml0PSEwKSxWKHQuZWxlbSkuY3NzQ2xpcCh7dG9wOnQucG9zKih0LmVuZC50b3AtdC5zdGFydC50b3ApK3Quc3RhcnQudG9wLHJpZ2h0OnQucG9zKih0LmVuZC5yaWdodC10LnN0YXJ0LnJpZ2h0KSt0LnN0YXJ0LnJpZ2h0LGJvdHRvbTp0LnBvcyoodC5lbmQuYm90dG9tLXQuc3RhcnQuYm90dG9tKSt0LnN0YXJ0LmJvdHRvbSxsZWZ0OnQucG9zKih0LmVuZC5sZWZ0LXQuc3RhcnQubGVmdCkrdC5zdGFydC5sZWZ0fSl9LFk9e30sVi5lYWNoKFsiUXVhZCIsIkN1YmljIiwiUXVhcnQiLCJRdWludCIsIkV4cG8iXSxmdW5jdGlvbihlLHQpe1lbdF09ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsZSsyKX19KSxWLmV4dGVuZChZLHtTaW5lOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sQ2lyYzpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxFbGFzdGljOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dHx8MT09PXQ/dDotTWF0aC5wb3coMiw4Kih0LTEpKSpNYXRoLnNpbigoODAqKHQtMSktNy41KSpNYXRoLlBJLzE1KX0sQmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigzKnQtMil9LEJvdW5jZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT00O3Q8KChlPU1hdGgucG93KDIsLS1pKSktMSkvMTE7KTtyZXR1cm4gMS9NYXRoLnBvdyg0LDMtaSktNy41NjI1Kk1hdGgucG93KCgzKmUtMikvMjItdCwyKX19KSxWLmVhY2goWSxmdW5jdGlvbih0LGUpe1YuZWFzaW5nWyJlYXNlSW4iK3RdPWUsVi5lYXNpbmdbImVhc2VPdXQiK3RdPWZ1bmN0aW9uKHQpe3JldHVybiAxLWUoMS10KX0sVi5lYXNpbmdbImVhc2VJbk91dCIrdF09ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/ZSgyKnQpLzI6MS1lKC0yKnQrMikvMn19KTt5PVYuZWZmZWN0cyxWLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsZSl7dmFyIGk9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSxzPVYodGhpcyksbj10LmRpcmVjdGlvbnx8InVwIixvPXMuY3NzQ2xpcCgpLGE9e2NsaXA6Vi5leHRlbmQoe30sbyl9LHI9Vi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHMpO2EuY2xpcFtpW25dWzBdXT1hLmNsaXBbaVtuXVsxXV0sInNob3ciPT09dC5tb2RlJiYocy5jc3NDbGlwKGEuY2xpcCksciYmci5jc3MoVi5lZmZlY3RzLmNsaXBUb0JveChhKSksYS5jbGlwPW8pLHImJnIuYW5pbWF0ZShWLmVmZmVjdHMuY2xpcFRvQm94KGEpLHQuZHVyYXRpb24sdC5lYXNpbmcpLHMuYW5pbWF0ZShhLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTplfSl9KSxWLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuPVYodGhpcyksbz10Lm1vZGUsYT0iaGlkZSI9PT1vLHI9InNob3ciPT09byxsPXQuZGlyZWN0aW9ufHwidXAiLGg9dC5kaXN0YW5jZSxjPXQudGltZXN8fDUsbz0yKmMrKHJ8fGE/MTowKSx1PXQuZHVyYXRpb24vbyxkPXQuZWFzaW5nLHA9InVwIj09PWx8fCJkb3duIj09PWw/InRvcCI6ImxlZnQiLGY9InVwIj09PWx8fCJsZWZ0Ij09PWwsZz0wLHQ9bi5xdWV1ZSgpLmxlbmd0aDtmb3IoVi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKG4pLGw9bi5jc3MocCksaD1ofHxuWyJ0b3AiPT1wPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSgpLzMsciYmKChzPXtvcGFjaXR5OjF9KVtwXT1sLG4uY3NzKCJvcGFjaXR5IiwwKS5jc3MocCxmPzIqLWg6MipoKS5hbmltYXRlKHMsdSxkKSksYSYmKGgvPU1hdGgucG93KDIsYy0xKSksKHM9e30pW3BdPWw7ZzxjO2crKykoaT17fSlbcF09KGY/Ii09IjoiKz0iKStoLG4uYW5pbWF0ZShpLHUsZCkuYW5pbWF0ZShzLHUsZCksaD1hPzIqaDpoLzI7YSYmKChpPXtvcGFjaXR5OjB9KVtwXT0oZj8iLT0iOiIrPSIpK2gsbi5hbmltYXRlKGksdSxkKSksbi5xdWV1ZShlKSxWLmVmZmVjdHMudW5zaGlmdChuLHQsMStvKX0pLFYuZWZmZWN0cy5kZWZpbmUoImNsaXAiLCJoaWRlIixmdW5jdGlvbih0LGUpe3ZhciBpPXt9LHM9Vih0aGlzKSxuPXQuZGlyZWN0aW9ufHwidmVydGljYWwiLG89ImJvdGgiPT09bixhPW98fCJob3Jpem9udGFsIj09PW4sbz1vfHwidmVydGljYWwiPT09bixuPXMuY3NzQ2xpcCgpO2kuY2xpcD17dG9wOm8/KG4uYm90dG9tLW4udG9wKS8yOm4udG9wLHJpZ2h0OmE/KG4ucmlnaHQtbi5sZWZ0KS8yOm4ucmlnaHQsYm90dG9tOm8/KG4uYm90dG9tLW4udG9wKS8yOm4uYm90dG9tLGxlZnQ6YT8obi5yaWdodC1uLmxlZnQpLzI6bi5sZWZ0fSxWLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIocyksInNob3ciPT09dC5tb2RlJiYocy5jc3NDbGlwKGkuY2xpcCksaS5jbGlwPW4pLHMuYW5pbWF0ZShpLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTplfSl9KSxWLmVmZmVjdHMuZGVmaW5lKCJkcm9wIiwiaGlkZSIsZnVuY3Rpb24odCxlKXt2YXIgaT1WKHRoaXMpLHM9InNob3ciPT09dC5tb2RlLG49dC5kaXJlY3Rpb258fCJsZWZ0IixvPSJ1cCI9PT1ufHwiZG93biI9PT1uPyJ0b3AiOiJsZWZ0IixhPSJ1cCI9PT1ufHwibGVmdCI9PT1uPyItPSI6Iis9IixyPSIrPSI9PWE/Ii09IjoiKz0iLGw9e29wYWNpdHk6MH07Vi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGkpLG49dC5kaXN0YW5jZXx8aVsidG9wIj09bz8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzIsbFtvXT1hK24scyYmKGkuY3NzKGwpLGxbb109cituLGwub3BhY2l0eT0xKSxpLmFuaW1hdGUobCx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZX0pfSksVi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLG8sYSxyLGw9dC5waWVjZXM/TWF0aC5yb3VuZChNYXRoLnNxcnQodC5waWVjZXMpKTozLGg9bCxjPVYodGhpcyksdT0ic2hvdyI9PT10Lm1vZGUsZD1jLnNob3coKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKS5vZmZzZXQoKSxwPU1hdGguY2VpbChjLm91dGVyV2lkdGgoKS9oKSxmPU1hdGguY2VpbChjLm91dGVySGVpZ2h0KCkvbCksZz1bXTtmdW5jdGlvbiBtKCl7Zy5wdXNoKHRoaXMpLGcubGVuZ3RoPT09bCpoJiYoYy5jc3Moe3Zpc2liaWxpdHk6InZpc2libGUifSksVihnKS5yZW1vdmUoKSxlKCkpfWZvcihpPTA7aTxsO2krKylmb3Iobz1kLnRvcCtpKmYscj1pLShsLTEpLzIscz0wO3M8aDtzKyspbj1kLmxlZnQrcypwLGE9cy0oaC0xKS8yLGMuY2xvbmUoKS5hcHBlbmRUbygiYm9keSIpLndyYXAoIjxkaXY+PC9kaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6InZpc2libGUiLGxlZnQ6LXMqcCx0b3A6LWkqZn0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6cCxoZWlnaHQ6ZixsZWZ0Om4rKHU/YSpwOjApLHRvcDpvKyh1P3IqZjowKSxvcGFjaXR5OnU/MDoxfSkuYW5pbWF0ZSh7bGVmdDpuKyh1PzA6YSpwKSx0b3A6bysodT8wOnIqZiksb3BhY2l0eTp1PzE6MH0sdC5kdXJhdGlvbnx8NTAwLHQuZWFzaW5nLG0pfSksVi5lZmZlY3RzLmRlZmluZSgiZmFkZSIsInRvZ2dsZSIsZnVuY3Rpb24odCxlKXt2YXIgaT0ic2hvdyI9PT10Lm1vZGU7Vih0aGlzKS5jc3MoIm9wYWNpdHkiLGk/MDoxKS5hbmltYXRlKHtvcGFjaXR5Omk/MTowfSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZX0pfSksVi5lZmZlY3RzLmRlZmluZSgiZm9sZCIsImhpZGUiLGZ1bmN0aW9uKGUsdCl7dmFyIGk9Vih0aGlzKSxzPWUubW9kZSxuPSJzaG93Ij09PXMsbz0iaGlkZSI9PT1zLGE9ZS5zaXplfHwxNSxyPS8oWzAtOV0rKSUvLmV4ZWMoYSksbD0hIWUuaG9yaXpGaXJzdD9bInJpZ2h0IiwiYm90dG9tIl06WyJib3R0b20iLCJyaWdodCJdLGg9ZS5kdXJhdGlvbi8yLGM9Vi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGkpLHU9aS5jc3NDbGlwKCksZD17Y2xpcDpWLmV4dGVuZCh7fSx1KX0scD17Y2xpcDpWLmV4dGVuZCh7fSx1KX0sZj1bdVtsWzBdXSx1W2xbMV1dXSxzPWkucXVldWUoKS5sZW5ndGg7ciYmKGE9cGFyc2VJbnQoclsxXSwxMCkvMTAwKmZbbz8wOjFdKSxkLmNsaXBbbFswXV09YSxwLmNsaXBbbFswXV09YSxwLmNsaXBbbFsxXV09MCxuJiYoaS5jc3NDbGlwKHAuY2xpcCksYyYmYy5jc3MoVi5lZmZlY3RzLmNsaXBUb0JveChwKSkscC5jbGlwPXUpLGkucXVldWUoZnVuY3Rpb24odCl7YyYmYy5hbmltYXRlKFYuZWZmZWN0cy5jbGlwVG9Cb3goZCksaCxlLmVhc2luZykuYW5pbWF0ZShWLmVmZmVjdHMuY2xpcFRvQm94KHApLGgsZS5lYXNpbmcpLHQoKX0pLmFuaW1hdGUoZCxoLGUuZWFzaW5nKS5hbmltYXRlKHAsaCxlLmVhc2luZykucXVldWUodCksVi5lZmZlY3RzLnVuc2hpZnQoaSxzLDQpfSksVi5lZmZlY3RzLmRlZmluZSgiaGlnaGxpZ2h0Iiwic2hvdyIsZnVuY3Rpb24odCxlKXt2YXIgaT1WKHRoaXMpLHM9e2JhY2tncm91bmRDb2xvcjppLmNzcygiYmFja2dyb3VuZENvbG9yIil9OyJoaWRlIj09PXQubW9kZSYmKHMub3BhY2l0eT0wKSxWLmVmZmVjdHMuc2F2ZVN0eWxlKGkpLGkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6Im5vbmUiLGJhY2tncm91bmRDb2xvcjp0LmNvbG9yfHwiI2ZmZmY5OSJ9KS5hbmltYXRlKHMse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmV9KX0pLFYuZWZmZWN0cy5kZWZpbmUoInNpemUiLGZ1bmN0aW9uKHMsZSl7dmFyIG4saT1WKHRoaXMpLHQ9WyJmb250U2l6ZSJdLG89WyJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxhPVsiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0scj1zLm1vZGUsbD0iZWZmZWN0IiE9PXIsaD1zLnNjYWxlfHwiYm90aCIsYz1zLm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXSx1PWkuY3NzKCJwb3NpdGlvbiIpLGQ9aS5wb3NpdGlvbigpLHA9Vi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSksZj1zLmZyb218fHAsZz1zLnRvfHxWLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhpLDApO1YuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihpKSwic2hvdyI9PT1yJiYocj1mLGY9ZyxnPXIpLG49e2Zyb206e3k6Zi5oZWlnaHQvcC5oZWlnaHQseDpmLndpZHRoL3Aud2lkdGh9LHRvOnt5OmcuaGVpZ2h0L3AuaGVpZ2h0LHg6Zy53aWR0aC9wLndpZHRofX0sImJveCIhPT1oJiYiYm90aCIhPT1ofHwobi5mcm9tLnkhPT1uLnRvLnkmJihmPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksbyxuLmZyb20ueSxmKSxnPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksbyxuLnRvLnksZykpLG4uZnJvbS54IT09bi50by54JiYoZj1WLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGEsbi5mcm9tLngsZiksZz1WLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGEsbi50by54LGcpKSksImNvbnRlbnQiIT09aCYmImJvdGgiIT09aHx8bi5mcm9tLnkhPT1uLnRvLnkmJihmPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksdCxuLmZyb20ueSxmKSxnPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksdCxuLnRvLnksZykpLGMmJihjPVYuZWZmZWN0cy5nZXRCYXNlbGluZShjLHApLGYudG9wPShwLm91dGVySGVpZ2h0LWYub3V0ZXJIZWlnaHQpKmMueStkLnRvcCxmLmxlZnQ9KHAub3V0ZXJXaWR0aC1mLm91dGVyV2lkdGgpKmMueCtkLmxlZnQsZy50b3A9KHAub3V0ZXJIZWlnaHQtZy5vdXRlckhlaWdodCkqYy55K2QudG9wLGcubGVmdD0ocC5vdXRlcldpZHRoLWcub3V0ZXJXaWR0aCkqYy54K2QubGVmdCksZGVsZXRlIGYub3V0ZXJIZWlnaHQsZGVsZXRlIGYub3V0ZXJXaWR0aCxpLmNzcyhmKSwiY29udGVudCIhPT1oJiYiYm90aCIhPT1ofHwobz1vLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodCksYT1hLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSxpLmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyksZT1WLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh0KSxpPXtoZWlnaHQ6ZS5oZWlnaHQqbi5mcm9tLnksd2lkdGg6ZS53aWR0aCpuLmZyb20ueCxvdXRlckhlaWdodDplLm91dGVySGVpZ2h0Km4uZnJvbS55LG91dGVyV2lkdGg6ZS5vdXRlcldpZHRoKm4uZnJvbS54fSxlPXtoZWlnaHQ6ZS5oZWlnaHQqbi50by55LHdpZHRoOmUud2lkdGgqbi50by54LG91dGVySGVpZ2h0OmUuaGVpZ2h0Km4udG8ueSxvdXRlcldpZHRoOmUud2lkdGgqbi50by54fTtuLmZyb20ueSE9PW4udG8ueSYmKGk9Vi5lZmZlY3RzLnNldFRyYW5zaXRpb24odCxvLG4uZnJvbS55LGkpLGU9Vi5lZmZlY3RzLnNldFRyYW5zaXRpb24odCxvLG4udG8ueSxlKSksbi5mcm9tLnghPT1uLnRvLngmJihpPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHQsYSxuLmZyb20ueCxpKSxlPVYuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHQsYSxuLnRvLngsZSkpLGwmJlYuZWZmZWN0cy5zYXZlU3R5bGUodCksdC5jc3MoaSksdC5hbmltYXRlKGUscy5kdXJhdGlvbixzLmVhc2luZyxmdW5jdGlvbigpe2wmJlYuZWZmZWN0cy5yZXN0b3JlU3R5bGUodCl9KX0pKSxpLmFuaW1hdGUoZyx7cXVldWU6ITEsZHVyYXRpb246cy5kdXJhdGlvbixlYXNpbmc6cy5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD1pLm9mZnNldCgpOzA9PT1nLm9wYWNpdHkmJmkuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpLGx8fChpLmNzcygicG9zaXRpb24iLCJzdGF0aWMiPT09dT8icmVsYXRpdmUiOnUpLm9mZnNldCh0KSxWLmVmZmVjdHMuc2F2ZVN0eWxlKGkpKSxlKCl9fSl9KSxWLmVmZmVjdHMuZGVmaW5lKCJzY2FsZSIsZnVuY3Rpb24odCxlKXt2YXIgaT1WKHRoaXMpLHM9dC5tb2RlLHM9cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8KDA9PT1wYXJzZUludCh0LnBlcmNlbnQsMTApfHwiZWZmZWN0IiE9PXM/MDoxMDApLHM9Vi5leHRlbmQoITAse2Zyb206Vi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSksdG86Vi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSxzLHQuZGlyZWN0aW9ufHwiYm90aCIpLG9yaWdpbjp0Lm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXX0sdCk7dC5mYWRlJiYocy5mcm9tLm9wYWNpdHk9MSxzLnRvLm9wYWNpdHk9MCksVi5lZmZlY3RzLmVmZmVjdC5zaXplLmNhbGwodGhpcyxzLGUpfSksVi5lZmZlY3RzLmRlZmluZSgicHVmZiIsImhpZGUiLGZ1bmN0aW9uKHQsZSl7dD1WLmV4dGVuZCghMCx7fSx0LHtmYWRlOiEwLHBlcmNlbnQ6cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8MTUwfSk7Vi5lZmZlY3RzLmVmZmVjdC5zY2FsZS5jYWxsKHRoaXMsdCxlKX0pLFYuZWZmZWN0cy5kZWZpbmUoInB1bHNhdGUiLCJzaG93IixmdW5jdGlvbih0LGUpe3ZhciBpPVYodGhpcykscz10Lm1vZGUsbj0ic2hvdyI9PT1zLG89MioodC50aW1lc3x8NSkrKG58fCJoaWRlIj09PXM/MTowKSxhPXQuZHVyYXRpb24vbyxyPTAsbD0xLHM9aS5xdWV1ZSgpLmxlbmd0aDtmb3IoIW4mJmkuaXMoIjp2aXNpYmxlIil8fChpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLHI9MSk7bDxvO2wrKylpLmFuaW1hdGUoe29wYWNpdHk6cn0sYSx0LmVhc2luZykscj0xLXI7aS5hbmltYXRlKHtvcGFjaXR5OnJ9LGEsdC5lYXNpbmcpLGkucXVldWUoZSksVi5lZmZlY3RzLnVuc2hpZnQoaSxzLDErbyl9KSxWLmVmZmVjdHMuZGVmaW5lKCJzaGFrZSIsZnVuY3Rpb24odCxlKXt2YXIgaT0xLHM9Vih0aGlzKSxuPXQuZGlyZWN0aW9ufHwibGVmdCIsbz10LmRpc3RhbmNlfHwyMCxhPXQudGltZXN8fDMscj0yKmErMSxsPU1hdGgucm91bmQodC5kdXJhdGlvbi9yKSxoPSJ1cCI9PT1ufHwiZG93biI9PT1uPyJ0b3AiOiJsZWZ0IixjPSJ1cCI9PT1ufHwibGVmdCI9PT1uLHU9e30sZD17fSxwPXt9LG49cy5xdWV1ZSgpLmxlbmd0aDtmb3IoVi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHMpLHVbaF09KGM/Ii09IjoiKz0iKStvLGRbaF09KGM/Iis9IjoiLT0iKSsyKm8scFtoXT0oYz8iLT0iOiIrPSIpKzIqbyxzLmFuaW1hdGUodSxsLHQuZWFzaW5nKTtpPGE7aSsrKXMuYW5pbWF0ZShkLGwsdC5lYXNpbmcpLmFuaW1hdGUocCxsLHQuZWFzaW5nKTtzLmFuaW1hdGUoZCxsLHQuZWFzaW5nKS5hbmltYXRlKHUsbC8yLHQuZWFzaW5nKS5xdWV1ZShlKSxWLmVmZmVjdHMudW5zaGlmdChzLG4sMStyKX0pLFYuZWZmZWN0cy5kZWZpbmUoInNsaWRlIiwic2hvdyIsZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49Vih0aGlzKSxvPXt1cDpbImJvdHRvbSIsInRvcCJdLGRvd246WyJ0b3AiLCJib3R0b20iXSxsZWZ0OlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sYT10Lm1vZGUscj10LmRpcmVjdGlvbnx8ImxlZnQiLGw9InVwIj09PXJ8fCJkb3duIj09PXI/InRvcCI6ImxlZnQiLGg9InVwIj09PXJ8fCJsZWZ0Ij09PXIsYz10LmRpc3RhbmNlfHxuWyJ0b3AiPT1sPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSghMCksdT17fTtWLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIobiksaT1uLmNzc0NsaXAoKSxzPW4ucG9zaXRpb24oKVtsXSx1W2xdPShoPy0xOjEpKmMrcyx1LmNsaXA9bi5jc3NDbGlwKCksdS5jbGlwW29bcl1bMV1dPXUuY2xpcFtvW3JdWzBdXSwic2hvdyI9PT1hJiYobi5jc3NDbGlwKHUuY2xpcCksbi5jc3MobCx1W2xdKSx1LmNsaXA9aSx1W2xdPXMpLG4uYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTplfSl9KSx5PSExIT09Vi51aUJhY2tDb21wYXQ/Vi5lZmZlY3RzLmRlZmluZSgidHJhbnNmZXIiLGZ1bmN0aW9uKHQsZSl7Vih0aGlzKS50cmFuc2Zlcih0LGUpfSk6eTtWLnVpLmZvY3VzYWJsZT1mdW5jdGlvbih0LGUpe3ZhciBpLHMsbixvLGE9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJhcmVhIj09PWE/KHM9KGk9dC5wYXJlbnROb2RlKS5uYW1lLCEoIXQuaHJlZnx8IXN8fCJtYXAiIT09aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmKDA8KHM9VigiaW1nW3VzZW1hcD0nIyIrcysiJ10iKSkubGVuZ3RoJiZzLmlzKCI6dmlzaWJsZSIpKSk6KC9eKGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvLnRlc3QoYSk/KG49IXQuZGlzYWJsZWQpJiYobz1WKHQpLmNsb3Nlc3QoImZpZWxkc2V0IilbMF0pJiYobj0hby5kaXNhYmxlZCk6bj0iYSI9PT1hJiZ0LmhyZWZ8fGUsbiYmVih0KS5pcygiOnZpc2libGUiKSYmZnVuY3Rpb24odCl7dmFyIGU9dC5jc3MoInZpc2liaWxpdHkiKTtmb3IoOyJpbmhlcml0Ij09PWU7KXQ9dC5wYXJlbnQoKSxlPXQuY3NzKCJ2aXNpYmlsaXR5Iik7cmV0dXJuInZpc2libGUiPT09ZX0oVih0KSkpfSxWLmV4dGVuZChWLmV4cHIucHNldWRvcyx7Zm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3JldHVybiBWLnVpLmZvY3VzYWJsZSh0LG51bGwhPVYuYXR0cih0LCJ0YWJpbmRleCIpKX19KTt2YXIgUSxKO1YudWkuZm9jdXNhYmxlLFYuZm4uX2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHRoaXNbMF0uZm9ybT90aGlzLmNsb3Nlc3QoImZvcm0iKTpWKHRoaXNbMF0uZm9ybSl9LFYudWkuZm9ybVJlc2V0TWl4aW49e19mb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIGU9Vih0aGlzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9ZS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpO1YuZWFjaCh0LGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9KX0pfSxfYmluZEZvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmZvcm09dGhpcy5lbGVtZW50Ll9mb3JtKCksdGhpcy5mb3JtLmxlbmd0aCYmKCh0PXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpfHxbXSkubGVuZ3RofHx0aGlzLmZvcm0ub24oInJlc2V0LnVpLWZvcm0tcmVzZXQiLHRoaXMuX2Zvcm1SZXNldEhhbmRsZXIpLHQucHVzaCh0aGlzKSx0aGlzLmZvcm0uZGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiLHQpKX0sX3VuYmluZEZvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmZvcm0ubGVuZ3RoJiYoKHQ9dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIikpLnNwbGljZShWLmluQXJyYXkodGhpcyx0KSwxKSx0Lmxlbmd0aD90aGlzLmZvcm0uZGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiLHQpOnRoaXMuZm9ybS5yZW1vdmVEYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpLm9mZigicmVzZXQudWktZm9ybS1yZXNldCIpKX19O1YuZXhwci5wc2V1ZG9zfHwoVi5leHByLnBzZXVkb3M9Vi5leHByWyI6Il0pLFYudW5pcXVlU29ydHx8KFYudW5pcXVlU29ydD1WLnVuaXF1ZSksVi5lc2NhcGVTZWxlY3Rvcnx8KFE9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15ceDgwLVx1RkZGRlx3LV0vZyxKPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/IlwwIj09PXQ/Iu+/vSI6dC5zbGljZSgwLC0xKSsiXFwiK3QuY2hhckNvZGVBdCh0Lmxlbmd0aC0xKS50b1N0cmluZygxNikrIiAiOiJcXCIrdH0sVi5lc2NhcGVTZWxlY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4odCsiIikucmVwbGFjZShRLEopfSksVi5mbi5ldmVuJiZWLmZuLm9kZHx8Vi5mbi5leHRlbmQoe2V2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQlMj09MH0pfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQlMj09MX0pfX0pO3ZhciBaO1YudWkua2V5Q29kZT17QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9LFYuZm4ubGFiZWxzPWZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiB0aGlzLmxlbmd0aD90aGlzWzBdLmxhYmVscyYmdGhpc1swXS5sYWJlbHMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKHRoaXNbMF0ubGFiZWxzKTooZT10aGlzLmVxKDApLnBhcmVudHMoImxhYmVsIiksKHQ9dGhpcy5hdHRyKCJpZCIpKSYmKGk9KGk9dGhpcy5lcSgwKS5wYXJlbnRzKCkubGFzdCgpKS5hZGQoKGkubGVuZ3RoP2k6dGhpcykuc2libGluZ3MoKSksdD0ibGFiZWxbZm9yPSciK1YuZXNjYXBlU2VsZWN0b3IodCkrIiddIixlPWUuYWRkKGkuZmluZCh0KS5hZGRCYWNrKHQpKSksdGhpcy5wdXNoU3RhY2soZSkpOnRoaXMucHVzaFN0YWNrKFtdKX0sVi5mbi5zY3JvbGxQYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jc3MoInBvc2l0aW9uIiksaT0iYWJzb2x1dGUiPT09ZSxzPXQ/LyhhdXRvfHNjcm9sbHxoaWRkZW4pLzovKGF1dG98c2Nyb2xsKS8sdD10aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO3JldHVybighaXx8InN0YXRpYyIhPT10LmNzcygicG9zaXRpb24iKSkmJnMudGVzdCh0LmNzcygib3ZlcmZsb3ciKSt0LmNzcygib3ZlcmZsb3cteSIpK3QuY3NzKCJvdmVyZmxvdy14IikpfSkuZXEoMCk7cmV0dXJuImZpeGVkIiE9PWUmJnQubGVuZ3RoP3Q6Vih0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50KX0sVi5leHRlbmQoVi5leHByLnBzZXVkb3Mse3RhYmJhYmxlOmZ1bmN0aW9uKHQpe3ZhciBlPVYuYXR0cih0LCJ0YWJpbmRleCIpLGk9bnVsbCE9ZTtyZXR1cm4oIWl8fDA8PWUpJiZWLnVpLmZvY3VzYWJsZSh0LGkpfX0pLFYuZm4uZXh0ZW5kKHt1bmlxdWVJZDooWj0wLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaWR8fCh0aGlzLmlkPSJ1aS1pZC0iKyArK1opfSl9KSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJlYodGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pLFYud2lkZ2V0KCJ1aS5hY2NvcmRpb24iLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY2xhc3Nlczp7InVpLWFjY29yZGlvbi1oZWFkZXIiOiJ1aS1jb3JuZXItdG9wIiwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiOiJ1aS1jb3JuZXItYWxsIiwidWktYWNjb3JkaW9uLWNvbnRlbnQiOiJ1aS1jb3JuZXItYm90dG9tIn0sY29sbGFwc2libGU6ITEsZXZlbnQ6ImNsaWNrIixoZWFkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmluZCgiPiBsaSA+IDpmaXJzdC1jaGlsZCIpLmFkZCh0LmZpbmQoIj4gOm5vdChsaSkiKS5ldmVuKCkpfSxoZWlnaHRTdHlsZToiYXV0byIsaWNvbnM6e2FjdGl2ZUhlYWRlcjoidWktaWNvbi10cmlhbmdsZS0xLXMiLGhlYWRlcjoidWktaWNvbi10cmlhbmdsZS0xLWUifSxhY3RpdmF0ZTpudWxsLGJlZm9yZUFjdGl2YXRlOm51bGx9LGhpZGVQcm9wczp7Ym9yZGVyVG9wV2lkdGg6ImhpZGUiLGJvcmRlckJvdHRvbVdpZHRoOiJoaWRlIixwYWRkaW5nVG9wOiJoaWRlIixwYWRkaW5nQm90dG9tOiJoaWRlIixoZWlnaHQ6ImhpZGUifSxzaG93UHJvcHM6e2JvcmRlclRvcFdpZHRoOiJzaG93Iixib3JkZXJCb3R0b21XaWR0aDoic2hvdyIscGFkZGluZ1RvcDoic2hvdyIscGFkZGluZ0JvdHRvbToic2hvdyIsaGVpZ2h0OiJzaG93In0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0aGlzLnByZXZTaG93PXRoaXMucHJldkhpZGU9VigpLHRoaXMuX2FkZENsYXNzKCJ1aS1hY2NvcmRpb24iLCJ1aS13aWRnZXQgdWktaGVscGVyLXJlc2V0IiksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0YWJsaXN0IiksdC5jb2xsYXBzaWJsZXx8ITEhPT10LmFjdGl2ZSYmbnVsbCE9dC5hY3RpdmV8fCh0LmFjdGl2ZT0wKSx0aGlzLl9wcm9jZXNzUGFuZWxzKCksdC5hY3RpdmU8MCYmKHQuYWN0aXZlKz10aGlzLmhlYWRlcnMubGVuZ3RoKSx0aGlzLl9yZWZyZXNoKCl9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57aGVhZGVyOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5uZXh0KCk6VigpfX0sX2NyZWF0ZUljb25zOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbnMuaWNvbnM7ZSYmKHQ9VigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3ModCwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiwidWktaWNvbiAiK2UuaGVhZGVyKSx0LnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLHQ9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyh0LGUuaGVhZGVyKS5fYWRkQ2xhc3ModCxudWxsLGUuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpLHRoaXMuaGVhZGVycy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIiksdGhpcy5oZWFkZXJzLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpLHRoaXMuX2Rlc3Ryb3lJY29ucygpLHQ9dGhpcy5oZWFkZXJzLm5leHQoKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0LmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiYWN0aXZlIiE9PXQ/KCJldmVudCI9PT10JiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHMoZSkpLHRoaXMuX3N1cGVyKHQsZSksImNvbGxhcHNpYmxlIiE9PXR8fGV8fCExIT09dGhpcy5vcHRpb25zLmFjdGl2ZXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PXQmJih0aGlzLl9kZXN0cm95SWNvbnMoKSxlJiZ0aGlzLl9jcmVhdGVJY29ucygpKSk6dGhpcy5fYWN0aXZhdGUoZSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl9zdXBlcih0KSx0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1kaXNhYmxlZCIsdCksdGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhdCksdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KX0sX2tleWRvd246ZnVuY3Rpb24odCl7aWYoIXQuYWx0S2V5JiYhdC5jdHJsS2V5KXt2YXIgZT1WLnVpLmtleUNvZGUsaT10aGlzLmhlYWRlcnMubGVuZ3RoLHM9dGhpcy5oZWFkZXJzLmluZGV4KHQudGFyZ2V0KSxuPSExO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5SSUdIVDpjYXNlIGUuRE9XTjpuPXRoaXMuaGVhZGVyc1socysxKSVpXTticmVhaztjYXNlIGUuTEVGVDpjYXNlIGUuVVA6bj10aGlzLmhlYWRlcnNbKHMtMStpKSVpXTticmVhaztjYXNlIGUuU1BBQ0U6Y2FzZSBlLkVOVEVSOnRoaXMuX2V2ZW50SGFuZGxlcih0KTticmVhaztjYXNlIGUuSE9NRTpuPXRoaXMuaGVhZGVyc1swXTticmVhaztjYXNlIGUuRU5EOm49dGhpcy5oZWFkZXJzW2ktMV19biYmKFYodC50YXJnZXQpLmF0dHIoInRhYkluZGV4IiwtMSksVihuKS5hdHRyKCJ0YWJJbmRleCIsMCksVihuKS50cmlnZ2VyKCJmb2N1cyIpLHQucHJldmVudERlZmF1bHQoKSl9fSxfcGFuZWxLZXlEb3duOmZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PVYudWkua2V5Q29kZS5VUCYmdC5jdHJsS2V5JiZWKHQuY3VycmVudFRhcmdldCkucHJldigpLnRyaWdnZXIoImZvY3VzIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5fcHJvY2Vzc1BhbmVscygpLCExPT09dC5hY3RpdmUmJiEwPT09dC5jb2xsYXBzaWJsZXx8IXRoaXMuaGVhZGVycy5sZW5ndGg/KHQuYWN0aXZlPSExLHRoaXMuYWN0aXZlPVYoKSk6ITE9PT10LmFjdGl2ZT90aGlzLl9hY3RpdmF0ZSgwKTp0aGlzLmFjdGl2ZS5sZW5ndGgmJiFWLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy5oZWFkZXJzLmxlbmd0aD09PXRoaXMuaGVhZGVycy5maW5kKCIudWktc3RhdGUtZGlzYWJsZWQiKS5sZW5ndGg/KHQuYWN0aXZlPSExLHRoaXMuYWN0aXZlPVYoKSk6dGhpcy5fYWN0aXZhdGUoTWF0aC5tYXgoMCx0LmFjdGl2ZS0xKSk6dC5hY3RpdmU9dGhpcy5oZWFkZXJzLmluZGV4KHRoaXMuYWN0aXZlKSx0aGlzLl9kZXN0cm95SWNvbnMoKSx0aGlzLl9yZWZyZXNoKCl9LF9wcm9jZXNzUGFuZWxzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oZWFkZXJzLGU9dGhpcy5wYW5lbHM7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5oZWFkZXI/dGhpcy5oZWFkZXJzPXRoaXMub3B0aW9ucy5oZWFkZXIodGhpcy5lbGVtZW50KTp0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhlYWRlciksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taGVhZGVyIHVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiwidWktc3RhdGUtZGVmYXVsdCIpLHRoaXMucGFuZWxzPXRoaXMuaGVhZGVycy5uZXh0KCkuZmlsdGVyKCI6bm90KC51aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUpIikuaGlkZSgpLHRoaXMuX2FkZENsYXNzKHRoaXMucGFuZWxzLCJ1aS1hY2NvcmRpb24tY29udGVudCIsInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCIpLGUmJih0aGlzLl9vZmYodC5ub3QodGhpcy5oZWFkZXJzKSksdGhpcy5fb2ZmKGUubm90KHRoaXMucGFuZWxzKSkpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciBpLHQ9dGhpcy5vcHRpb25zLGU9dC5oZWlnaHRTdHlsZSxzPXRoaXMuZWxlbWVudC5wYXJlbnQoKTt0aGlzLmFjdGl2ZT10aGlzLl9maW5kQWN0aXZlKHQuYWN0aXZlKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKS5fcmVtb3ZlQ2xhc3ModGhpcy5hY3RpdmUsInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5hY3RpdmUubmV4dCgpLCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKSx0aGlzLmFjdGl2ZS5uZXh0KCkuc2hvdygpLHRoaXMuaGVhZGVycy5hdHRyKCJyb2xlIiwidGFiIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyksZT10LnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxpPXQubmV4dCgpLHM9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixzKSxpLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsZSl9KS5uZXh0KCkuYXR0cigicm9sZSIsInRhYnBhbmVsIiksdGhpcy5oZWFkZXJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsdGFiSW5kZXg6LTF9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KS5oaWRlKCksdGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSkubmV4dCgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pOnRoaXMuaGVhZGVycy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCksdGhpcy5fY3JlYXRlSWNvbnMoKSx0aGlzLl9zZXR1cEV2ZW50cyh0LmV2ZW50KSwiZmlsbCI9PT1lPyhpPXMuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKCI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLGU9dC5jc3MoInBvc2l0aW9uIik7ImFic29sdXRlIiE9PWUmJiJmaXhlZCIhPT1lJiYoaS09dC5vdXRlckhlaWdodCghMCkpfSksdGhpcy5oZWFkZXJzLmVhY2goZnVuY3Rpb24oKXtpLT1WKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe1YodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1WKHRoaXMpLmlubmVySGVpZ2h0KCkrVih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09ZSYmKGk9MCx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLmlzKCI6dmlzaWJsZSIpO3R8fFYodGhpcykuc2hvdygpLGk9TWF0aC5tYXgoaSxWKHRoaXMpLmNzcygiaGVpZ2h0IiwiIikuaGVpZ2h0KCkpLHR8fFYodGhpcykuaGlkZSgpfSkuaGVpZ2h0KGkpKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTt0IT09dGhpcy5hY3RpdmVbMF0mJih0PXR8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OnQsY3VycmVudFRhcmdldDp0LHByZXZlbnREZWZhdWx0OlYubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTpWKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZWLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsZSl7aVtlXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSksdGhpcy5fb24odGhpcy5oZWFkZXJzLGkpLHRoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSksdGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyksdGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9dGhpcy5hY3RpdmUscz1WKHQuY3VycmVudFRhcmdldCksbj1zWzBdPT09aVswXSxvPW4mJmUuY29sbGFwc2libGUsYT1vP1YoKTpzLm5leHQoKSxyPWkubmV4dCgpLGE9e29sZEhlYWRlcjppLG9sZFBhbmVsOnIsbmV3SGVhZGVyOm8/VigpOnMsbmV3UGFuZWw6YX07dC5wcmV2ZW50RGVmYXVsdCgpLG4mJiFlLmNvbGxhcHNpYmxlfHwhMT09PXRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIix0LGEpfHwoZS5hY3RpdmU9IW8mJnRoaXMuaGVhZGVycy5pbmRleChzKSx0aGlzLmFjdGl2ZT1uP1YoKTpzLHRoaXMuX3RvZ2dsZShhKSx0aGlzLl9yZW1vdmVDbGFzcyhpLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGUuaWNvbnMmJihpPWkuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsZS5pY29ucy5hY3RpdmVIZWFkZXIpLl9hZGRDbGFzcyhpLG51bGwsZS5pY29ucy5oZWFkZXIpKSxufHwodGhpcy5fcmVtb3ZlQ2xhc3MocywidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKS5fYWRkQ2xhc3MocywidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKSxlLmljb25zJiYobj1zLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MobixudWxsLGUuaWNvbnMuaGVhZGVyKS5fYWRkQ2xhc3MobixudWxsLGUuaWNvbnMuYWN0aXZlSGVhZGVyKSksdGhpcy5fYWRkQ2xhc3Mocy5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpKSl9LF90b2dnbGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5uZXdQYW5lbCxpPXRoaXMucHJldlNob3cubGVuZ3RoP3RoaXMucHJldlNob3c6dC5vbGRQYW5lbDt0aGlzLnByZXZTaG93LmFkZCh0aGlzLnByZXZIaWRlKS5zdG9wKCEwLCEwKSx0aGlzLnByZXZTaG93PWUsdGhpcy5wcmV2SGlkZT1pLHRoaXMub3B0aW9ucy5hbmltYXRlP3RoaXMuX2FuaW1hdGUoZSxpLHQpOihpLmhpZGUoKSxlLnNob3coKSx0aGlzLl90b2dnbGVDb21wbGV0ZSh0KSksaS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLGkucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSksZS5sZW5ndGgmJmkubGVuZ3RoP2kucHJldigpLmF0dHIoe3RhYkluZGV4Oi0xLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSk6ZS5sZW5ndGgmJnRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PXBhcnNlSW50KFYodGhpcykuYXR0cigidGFiSW5kZXgiKSwxMCl9KS5hdHRyKCJ0YWJJbmRleCIsLTEpLGUuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpLnByZXYoKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYW5pbWF0ZTpmdW5jdGlvbih0LGksZSl7dmFyIHMsbixvLGE9dGhpcyxyPTAsbD10LmNzcygiYm94LXNpemluZyIpLGg9dC5sZW5ndGgmJighaS5sZW5ndGh8fHQuaW5kZXgoKTxpLmluZGV4KCkpLGM9dGhpcy5vcHRpb25zLmFuaW1hdGV8fHt9LHU9aCYmYy5kb3dufHxjLGg9ZnVuY3Rpb24oKXthLl90b2dnbGVDb21wbGV0ZShlKX07cmV0dXJuIG49KG49InN0cmluZyI9PXR5cGVvZiB1P3U6bil8fHUuZWFzaW5nfHxjLmVhc2luZyxvPShvPSJudW1iZXIiPT10eXBlb2YgdT91Om8pfHx1LmR1cmF0aW9ufHxjLmR1cmF0aW9uLGkubGVuZ3RoP3QubGVuZ3RoPyhzPXQuc2hvdygpLm91dGVySGVpZ2h0KCksaS5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjpvLGVhc2luZzpuLHN0ZXA6ZnVuY3Rpb24odCxlKXtlLm5vdz1NYXRoLnJvdW5kKHQpfX0pLHZvaWQgdC5oaWRlKCkuYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx7ZHVyYXRpb246byxlYXNpbmc6bixjb21wbGV0ZTpoLHN0ZXA6ZnVuY3Rpb24odCxlKXtlLm5vdz1NYXRoLnJvdW5kKHQpLCJoZWlnaHQiIT09ZS5wcm9wPyJjb250ZW50LWJveCI9PT1sJiYocis9ZS5ub3cpOiJjb250ZW50IiE9PWEub3B0aW9ucy5oZWlnaHRTdHlsZSYmKGUubm93PU1hdGgucm91bmQocy1pLm91dGVySGVpZ2h0KCktcikscj0wKX19KSk6aS5hbmltYXRlKHRoaXMuaGlkZVByb3BzLG8sbixoKTp0LmFuaW1hdGUodGhpcy5zaG93UHJvcHMsbyxuLGgpfSxfdG9nZ2xlQ29tcGxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5vbGRQYW5lbCxpPWUucHJldigpO3RoaXMuX3JlbW92ZUNsYXNzKGUsInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpLHRoaXMuX3JlbW92ZUNsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIikuX2FkZENsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiksZS5sZW5ndGgmJihlLnBhcmVudCgpWzBdLmNsYXNzTmFtZT1lLnBhcmVudCgpWzBdLmNsYXNzTmFtZSksdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLG51bGwsdCl9fSksVi51aS5zYWZlQWN0aXZlRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgaTt0cnl7aT1lLmFjdGl2ZUVsZW1lbnR9Y2F0Y2godCl7aT1lLmJvZHl9cmV0dXJuIGk9IShpPWl8fGUuYm9keSkubm9kZU5hbWU/ZS5ib2R5Oml9LFYud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMy4yIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudCx0aGlzLm1vdXNlSGFuZGxlZD0hMSx0aGlzLmxhc3RNb3VzZVBvc2l0aW9uPXt4Om51bGwseTpudWxsfSx0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KSx0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHRoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmF0ZUl0ZW0odCl9LCJjbGljayAudWktbWVudS1pdGVtIjpmdW5jdGlvbih0KXt2YXIgZT1WKHQudGFyZ2V0KSxpPVYoVi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7IXRoaXMubW91c2VIYW5kbGVkJiZlLm5vdCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoJiYodGhpcy5zZWxlY3QodCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpfHwodGhpcy5tb3VzZUhhbmRsZWQ9ITApLGUuaGFzKCIudWktbWVudSIpLmxlbmd0aD90aGlzLmV4cGFuZCh0KTohdGhpcy5lbGVtZW50LmlzKCI6Zm9jdXMiKSYmaS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aCYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIsWyEwXSksdGhpcy5hY3RpdmUmJjE9PT10aGlzLmFjdGl2ZS5wYXJlbnRzKCIudWktbWVudSIpLmxlbmd0aCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSl9LCJtb3VzZWVudGVyIC51aS1tZW51LWl0ZW0iOiJfYWN0aXZhdGVJdGVtIiwibW91c2Vtb3ZlIC51aS1tZW51LWl0ZW0iOiJfYWN0aXZhdGVJdGVtIixtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5fbWVudUl0ZW1zKCkuZmlyc3QoKTtlfHx0aGlzLmZvY3VzKHQsaSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtWLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSxWLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKXx8dGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayh0KSYmdGhpcy5jb2xsYXBzZUFsbCh0LCEwKSx0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2FjdGl2YXRlSXRlbTpmdW5jdGlvbih0KXt2YXIgZSxpO3RoaXMucHJldmlvdXNGaWx0ZXJ8fHQuY2xpZW50WD09PXRoaXMubGFzdE1vdXNlUG9zaXRpb24ueCYmdC5jbGllbnRZPT09dGhpcy5sYXN0TW91c2VQb3NpdGlvbi55fHwodGhpcy5sYXN0TW91c2VQb3NpdGlvbj17eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LGU9Vih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLGk9Vih0LmN1cnJlbnRUYXJnZXQpLGVbMF09PT1pWzBdJiYoaS5pcygiLnVpLXN0YXRlLWFjdGl2ZSIpfHwodGhpcy5fcmVtb3ZlQ2xhc3MoaS5zaWJsaW5ncygpLmNoaWxkcmVuKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5mb2N1cyh0LGkpKSkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudS1pdGVtIikucmVtb3ZlQXR0cigicm9sZSBhcmlhLWRpc2FibGVkIikuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQXR0cigidGFiSW5kZXggcm9sZSBhcmlhLWhhc3BvcHVwIik7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpLmZpbmQoIi51aS1tZW51IikuYWRkQmFjaygpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1sYWJlbGxlZGJ5IGFyaWEtZXhwYW5kZWQgYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpLHQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKTt0LmRhdGEoInVpLW1lbnUtc3VibWVudS1jYXJldCIpJiZ0LnJlbW92ZSgpfSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgVi51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5wcmV2aW91c1BhZ2UodCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMubmV4dFBhZ2UodCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuSE9NRTp0aGlzLl9tb3ZlKCJmaXJzdCIsImZpcnN0Iix0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6dGhpcy5fbW92ZSgibGFzdCIsImxhc3QiLHQpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXModCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuRE9XTjp0aGlzLm5leHQodCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuTEVGVDp0aGlzLmNvbGxhcHNlKHQpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZ0aGlzLmV4cGFuZCh0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTlRFUjpjYXNlIFYudWkua2V5Q29kZS5TUEFDRTp0aGlzLl9hY3RpdmF0ZSh0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jb2xsYXBzZSh0KTticmVhaztkZWZhdWx0OmU9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiIscz1uPSExLGk9OTY8PXQua2V5Q29kZSYmdC5rZXlDb2RlPD0xMDU/KHQua2V5Q29kZS05NikudG9TdHJpbmcoKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSksY2xlYXJUaW1lb3V0KHRoaXMuZmlsdGVyVGltZXIpLGk9PT1lP3M9ITA6aT1lK2ksZT10aGlzLl9maWx0ZXJNZW51SXRlbXMoaSksKGU9cyYmLTEhPT1lLmluZGV4KHRoaXMuYWN0aXZlLm5leHQoKSk/dGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpOmUpLmxlbmd0aHx8KGk9U3RyaW5nLmZyb21DaGFyQ29kZSh0LmtleUNvZGUpLGU9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKGkpKSxlLmxlbmd0aD8odGhpcy5mb2N1cyh0LGUpLHRoaXMucHJldmlvdXNGaWx0ZXI9aSx0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfW4mJnQucHJldmVudERlZmF1bHQoKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiYodGhpcy5hY3RpdmUuY2hpbGRyZW4oIlthcmlhLWhhc3BvcHVwPSd0cnVlJ10iKS5sZW5ndGg/dGhpcy5leHBhbmQodCk6dGhpcy5zZWxlY3QodCkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsZSxzPXRoaXMsbj10aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxpPXRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5tZW51cyk7dGhpcy5fdG9nZ2xlQ2xhc3MoInVpLW1lbnUtaWNvbnMiLG51bGwsISF0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWljb24iKS5sZW5ndGgpLGU9aS5maWx0ZXIoIjpub3QoLnVpLW1lbnUpIikuaGlkZSgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXQucHJldigpLGk9VigiPHNwYW4+IikuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IiwhMCk7cy5fYWRkQ2xhc3MoaSwidWktbWVudS1pY29uIiwidWktaWNvbiAiK24pLGUuYXR0cigiYXJpYS1oYXNwb3B1cCIsInRydWUiKS5wcmVwZW5kKGkpLHQuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixlLmF0dHIoImlkIikpfSksdGhpcy5fYWRkQ2xhc3MoZSwidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpLCh0PWkuYWRkKHRoaXMuZWxlbWVudCkuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpKS5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKTtzLl9pc0RpdmlkZXIodCkmJnMuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KSxpPShlPXQubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIikpLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSksdGhpcy5fYWRkQ2xhc3MoZSwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGksInVpLW1lbnUtaXRlbS13cmFwcGVyIiksdC5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmUmJiFWLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpOyJpY29ucyI9PT10JiYoaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCxlLnN1Ym1lbnUpKSx0aGlzLl9zdXBlcih0LGUpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLFN0cmluZyh0KSksdGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhdCl9LGZvY3VzOmZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5ibHVyKHQsdCYmImZvY3VzIj09PXQudHlwZSksdGhpcy5fc2Nyb2xsSW50b1ZpZXcoZSksdGhpcy5hY3RpdmU9ZS5maXJzdCgpLGk9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLHRoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5vcHRpb25zLnJvbGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGkuYXR0cigiaWQiKSksaT10aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIikuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLHRoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdCYmImtleWRvd24iPT09dC50eXBlP3RoaXMuX2Nsb3NlKCk6dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCl9LHRoaXMuZGVsYXkpLChpPWUuY2hpbGRyZW4oIi51aS1tZW51IikpLmxlbmd0aCYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpJiZ0aGlzLl9zdGFydE9wZW5pbmcoaSksdGhpcy5hY3RpdmVNZW51PWUucGFyZW50KCksdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06ZX0pfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO3RoaXMuX2hhc1Njcm9sbCgpJiYoaT1wYXJzZUZsb2F0KFYuY3NzKHRoaXMuYWN0aXZlTWVudVswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAscz1wYXJzZUZsb2F0KFYuY3NzKHRoaXMuYWN0aXZlTWVudVswXSwicGFkZGluZ1RvcCIpKXx8MCxlPXQub2Zmc2V0KCkudG9wLXRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3AtaS1zLGk9dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpLHM9dGhpcy5hY3RpdmVNZW51LmhlaWdodCgpLHQ9dC5vdXRlckhlaWdodCgpLGU8MD90aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKGkrZSk6czxlK3QmJnRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoaStlLXMrdCkpfSxibHVyOmZ1bmN0aW9uKHQsZSl7ZXx8Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuYWN0aXZlJiYodGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX3RyaWdnZXIoImJsdXIiLHQse2l0ZW06dGhpcy5hY3RpdmV9KSx0aGlzLmFjdGl2ZT1udWxsKX0sX3N0YXJ0T3BlbmluZzpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy50aW1lciksInRydWUiPT09dC5hdHRyKCJhcmlhLWhpZGRlbiIpJiYodGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCksdGhpcy5fb3Blbih0KX0sdGhpcy5kZWxheSkpfSxfb3BlbjpmdW5jdGlvbih0KXt2YXIgZT1WLmV4dGVuZCh7b2Y6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKSx0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oZSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKGUsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgdD1pP3RoaXMuZWxlbWVudDpWKGUmJmUudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTt0Lmxlbmd0aHx8KHQ9dGhpcy5lbGVtZW50KSx0aGlzLl9jbG9zZSh0KSx0aGlzLmJsdXIoZSksdGhpcy5fcmVtb3ZlQ2xhc3ModC5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5hY3RpdmVNZW51PXR9LGk/MDp0aGlzLmRlbGF5KX0sX2Nsb3NlOmZ1bmN0aW9uKHQpeyh0PXR8fCh0aGlzLmFjdGl2ZT90aGlzLmFjdGl2ZS5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpKS5maW5kKCIudWktbWVudSIpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKX0sX2Nsb3NlT25Eb2N1bWVudENsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiFWKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aH0sX2lzRGl2aWRlcjpmdW5jdGlvbih0KXtyZXR1cm4hL1teXC1cdTIwMTRcdTIwMTNcc10vLnRlc3QodC50ZXh0KCkpfSxjb2xsYXBzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIsdGhpcy5lbGVtZW50KTtlJiZlLmxlbmd0aCYmKHRoaXMuX2Nsb3NlKCksdGhpcy5mb2N1cyh0LGUpKX0sZXhwYW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlJiZ0aGlzLl9tZW51SXRlbXModGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51IikpLmZpcnN0KCk7ZSYmZS5sZW5ndGgmJih0aGlzLl9vcGVuKGUucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyh0LGUpfSkpfSxuZXh0OmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoIm5leHQiLCJmaXJzdCIsdCl9LHByZXZpb3VzOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoInByZXYiLCJsYXN0Iix0KX0saXNGaXJzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aH0sX21lbnVJdGVtczpmdW5jdGlvbih0KXtyZXR1cm4odHx8dGhpcy5lbGVtZW50KS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlsdGVyKCIudWktbWVudS1pdGVtIil9LF9tb3ZlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgczsocz10aGlzLmFjdGl2ZT8iZmlyc3QiPT09dHx8Imxhc3QiPT09dD90aGlzLmFjdGl2ZVsiZmlyc3QiPT09dD8icHJldkFsbCI6Im5leHRBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmxhc3QoKTp0aGlzLmFjdGl2ZVt0KyJBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmZpcnN0KCk6cykmJnMubGVuZ3RoJiZ0aGlzLmFjdGl2ZXx8KHM9dGhpcy5fbWVudUl0ZW1zKHRoaXMuYWN0aXZlTWVudSlbZV0oKSksdGhpcy5mb2N1cyhpLHMpfSxuZXh0UGFnZTpmdW5jdGlvbih0KXt2YXIgZSxpLHM7dGhpcy5hY3RpdmU/dGhpcy5pc0xhc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8oaT10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Ascz10aGlzLmVsZW1lbnQuaW5uZXJIZWlnaHQoKSwwPT09Vi5mbi5qcXVlcnkuaW5kZXhPZigiMy4yLiIpJiYocys9dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodC10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSksdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4oZT1WKHRoaXMpKS5vZmZzZXQoKS50b3AtaS1zPDB9KSx0aGlzLmZvY3VzKHQsZSkpOnRoaXMuZm9jdXModCx0aGlzLl9tZW51SXRlbXModGhpcy5hY3RpdmVNZW51KVt0aGlzLmFjdGl2ZT8ibGFzdCI6ImZpcnN0Il0oKSkpOnRoaXMubmV4dCh0KX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBlLGksczt0aGlzLmFjdGl2ZT90aGlzLmlzRmlyc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8oaT10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Ascz10aGlzLmVsZW1lbnQuaW5uZXJIZWlnaHQoKSwwPT09Vi5mbi5qcXVlcnkuaW5kZXhPZigiMy4yLiIpJiYocys9dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodC10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSksdGhpcy5hY3RpdmUucHJldkFsbCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gMDwoZT1WKHRoaXMpKS5vZmZzZXQoKS50b3AtaStzfSksdGhpcy5mb2N1cyh0LGUpKTp0aGlzLmZvY3VzKHQsdGhpcy5fbWVudUl0ZW1zKHRoaXMuYWN0aXZlTWVudSkuZmlyc3QoKSkpOnRoaXMubmV4dCh0KX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8Vih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpO3ZhciBlPXtpdGVtOnRoaXMuYWN0aXZlfTt0aGlzLmFjdGl2ZS5oYXMoIi51aS1tZW51IikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKHQsITApLHRoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCxlKX0sX2ZpbHRlck1lbnVJdGVtczpmdW5jdGlvbih0KXt2YXIgdD10LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKSxlPW5ldyBSZWdFeHAoIl4iK3QsImkiKTtyZXR1cm4gdGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maWx0ZXIoIi51aS1tZW51LWl0ZW0iKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gZS50ZXN0KFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKFYodGhpcykuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnRleHQoKSkpfSl9fSk7Vi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLGxpdmVSZWdpb25UaW1lcjpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaSxzLG4sdD10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxlPSJ0ZXh0YXJlYSI9PT10LHQ9ImlucHV0Ij09PXQ7dGhpcy5pc011bHRpTGluZT1lfHwhdCYmdGhpcy5faXNDb250ZW50RWRpdGFibGUodGhpcy5lbGVtZW50KSx0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFtlfHx0PyJ2YWwiOiJ0ZXh0Il0sdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpLHRoaXMuZWxlbWVudC5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5lbGVtZW50LnByb3AoInJlYWRPbmx5Iikpcz1uPWk9ITA7ZWxzZXtzPW49aT0hMTt2YXIgZT1WLnVpLmtleUNvZGU7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBlLlBBR0VfVVA6aT0hMCx0aGlzLl9tb3ZlKCJwcmV2aW91c1BhZ2UiLHQpO2JyZWFrO2Nhc2UgZS5QQUdFX0RPV046aT0hMCx0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdCk7YnJlYWs7Y2FzZSBlLlVQOmk9ITAsdGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIix0KTticmVhaztjYXNlIGUuRE9XTjppPSEwLHRoaXMuX2tleUV2ZW50KCJuZXh0Iix0KTticmVhaztjYXNlIGUuRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKGk9ITAsdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QodCkpO2JyZWFrO2Nhc2UgZS5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdCh0KTticmVhaztjYXNlIGUuRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKHQpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDpzPSEwLHRoaXMuX3NlYXJjaFRpbWVvdXQodCl9fX0sa2V5cHJlc3M6ZnVuY3Rpb24odCl7aWYoaSlyZXR1cm4gaT0hMSx2b2lkKHRoaXMuaXNNdWx0aUxpbmUmJiF0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKXx8dC5wcmV2ZW50RGVmYXVsdCgpKTtpZighcyl7dmFyIGU9Vi51aS5rZXlDb2RlO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5QQUdFX1VQOnRoaXMuX21vdmUoInByZXZpb3VzUGFnZSIsdCk7YnJlYWs7Y2FzZSBlLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdCk7YnJlYWs7Y2FzZSBlLlVQOnRoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIsdCk7YnJlYWs7Y2FzZSBlLkRPV046dGhpcy5fa2V5RXZlbnQoIm5leHQiLHQpfX19LGlucHV0OmZ1bmN0aW9uKHQpe2lmKG4pcmV0dXJuIG49ITEsdm9pZCB0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5fc2VhcmNoVGltZW91dCh0KX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuY2xvc2UodCksdGhpcy5fY2hhbmdlKHQpfX0pLHRoaXMuX2luaXRTb3VyY2UoKSx0aGlzLm1lbnU9VigiPHVsPiIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLm1lbnUoe3JvbGU6bnVsbH0pLmhpZGUoKS5hdHRyKHt1bnNlbGVjdGFibGU6Im9uIn0pLm1lbnUoImluc3RhbmNlIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5tZW51LmVsZW1lbnQsInVpLWF1dG9jb21wbGV0ZSIsInVpLWZyb250IiksdGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LG1lbnVmb2N1czpmdW5jdGlvbih0LGUpe3ZhciBpLHM7aWYodGhpcy5pc05ld01lbnUmJih0aGlzLmlzTmV3TWVudT0hMSx0Lm9yaWdpbmFsRXZlbnQmJi9ebW91c2UvLnRlc3QodC5vcmlnaW5hbEV2ZW50LnR5cGUpKSlyZXR1cm4gdGhpcy5tZW51LmJsdXIoKSx2b2lkIHRoaXMuZG9jdW1lbnQub25lKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Vih0LnRhcmdldCkudHJpZ2dlcih0Lm9yaWdpbmFsRXZlbnQpfSk7cz1lLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSwhMSE9PXRoaXMuX3RyaWdnZXIoImZvY3VzIix0LHtpdGVtOnN9KSYmdC5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKHMudmFsdWUpLChpPWUuaXRlbS5hdHRyKCJhcmlhLWxhYmVsIil8fHMudmFsdWUpJiZTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbChpKS5sZW5ndGgmJihjbGVhclRpbWVvdXQodGhpcy5saXZlUmVnaW9uVGltZXIpLHRoaXMubGl2ZVJlZ2lvblRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5saXZlUmVnaW9uLmh0bWwoVigiPGRpdj4iKS50ZXh0KGkpKX0sMTAwKSl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSxzPXRoaXMucHJldmlvdXM7dGhpcy5lbGVtZW50WzBdIT09Vi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9cyx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9cyx0aGlzLnNlbGVjdGVkSXRlbT1pfSkpLCExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOml9KSYmdGhpcy5fdmFsdWUoaS52YWx1ZSksdGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCksdGhpcy5jbG9zZSh0KSx0aGlzLnNlbGVjdGVkSXRlbT1pfX0pLHRoaXMubGl2ZVJlZ2lvbj1WKCI8ZGl2PiIse3JvbGU6InN0YXR1cyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KSx0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIiksdGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKSx0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKSx0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt0aGlzLl9zdXBlcih0LGUpLCJzb3VyY2UiPT09dCYmdGhpcy5faW5pdFNvdXJjZSgpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSwiZGlzYWJsZWQiPT09dCYmZSYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tZW51LmVsZW1lbnRbMF07cmV0dXJuIHQudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdfHx0LnRhcmdldD09PWV8fFYuY29udGFpbnMoZSx0LnRhcmdldCl9LF9jbG9zZU9uQ2xpY2tPdXRzaWRlOmZ1bmN0aW9uKHQpe3RoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldCh0KXx8dGhpcy5jbG9zZSgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQ9ISh0PSEodD10JiYodC5qcXVlcnl8fHQubm9kZVR5cGU/Vih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpKXx8IXRbMF0/dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik6dCkubGVuZ3RoP3RoaXMuZG9jdW1lbnRbMF0uYm9keTp0fSxfaW5pdFNvdXJjZTpmdW5jdGlvbigpe3ZhciBpLHMsbj10aGlzO0FycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LGUpe2UoVi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KHM9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LGUpe24ueGhyJiZuLnhoci5hYm9ydCgpLG4ueGhyPVYuYWpheCh7dXJsOnMsZGF0YTp0LGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKHQpe2UodCl9LGVycm9yOmZ1bmN0aW9uKCl7ZShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihzKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxlPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLGk9cy5hbHRLZXl8fHMuY3RybEtleXx8cy5tZXRhS2V5fHxzLnNoaWZ0S2V5O3QmJihlfHxpKXx8KHRoaXMuc2VsZWN0ZWRJdGVtPW51bGwsdGhpcy5zZWFyY2gobnVsbCxzKSl9LHRoaXMub3B0aW9ucy5kZWxheSl9LHNlYXJjaDpmdW5jdGlvbih0LGUpe3JldHVybiB0PW51bGwhPXQ/dDp0aGlzLl92YWx1ZSgpLHRoaXMudGVybT10aGlzLl92YWx1ZSgpLHQubGVuZ3RoPHRoaXMub3B0aW9ucy5taW5MZW5ndGg/dGhpcy5jbG9zZShlKTohMSE9PXRoaXMuX3RyaWdnZXIoInNlYXJjaCIsZSk/dGhpcy5fc2VhcmNoKHQpOnZvaWQgMH0sX3NlYXJjaDpmdW5jdGlvbih0KXt0aGlzLnBlbmRpbmcrKyx0aGlzLl9hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKSx0aGlzLmNhbmNlbFNlYXJjaD0hMSx0aGlzLnNvdXJjZSh7dGVybTp0fSx0aGlzLl9yZXNwb25zZSgpKX0sX3Jlc3BvbnNlOmZ1bmN0aW9uKCl7dmFyIGU9Kyt0aGlzLnJlcXVlc3RJbmRleDtyZXR1cm4gZnVuY3Rpb24odCl7ZT09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2UodCksdGhpcy5wZW5kaW5nLS0sdGhpcy5wZW5kaW5nfHx0aGlzLl9yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0uYmluZCh0aGlzKX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt0PXQmJnRoaXMuX25vcm1hbGl6ZSh0KSx0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDp0fSksIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdCYmdC5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdCh0KSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKHQpe3RoaXMuY2FuY2VsU2VhcmNoPSEwLHRoaXMuX2Nsb3NlKHQpfSxfY2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsIm1vdXNlZG93biIpLHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQpKX0sX2NoYW5nZTpmdW5jdGlvbih0KXt0aGlzLnByZXZpb3VzIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmxhYmVsJiZ0WzBdLnZhbHVlP3Q6Vi5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/e2xhYmVsOnQsdmFsdWU6dH06Vi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGUsdCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5tZW51LnJlZnJlc2goKSxlLnNob3coKSx0aGlzLl9yZXNpemVNZW51KCksZS5wb3NpdGlvbihWLmV4dGVuZCh7b2Y6dGhpcy5lbGVtZW50fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKSx0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLm1lbnUubmV4dCgpLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlZG93bjoiX2Nsb3NlT25DbGlja091dHNpZGUifSl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tZW51LmVsZW1lbnQ7dC5vdXRlcldpZHRoKE1hdGgubWF4KHQud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24oaSx0KXt2YXIgcz10aGlzO1YuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7cy5fcmVuZGVySXRlbURhdGEoaSxlKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbSh0LGUpLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIixlKX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCxlKXtyZXR1cm4gVigiPGxpPiIpLmFwcGVuZChWKCI8ZGl2PiIpLnRleHQoZS5sYWJlbCkpLmFwcGVuZFRvKHQpfSxfbW92ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKXJldHVybiB0aGlzLm1lbnUuaXNGaXJzdEl0ZW0oKSYmL15wcmV2aW91cy8udGVzdCh0KXx8dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSYmL15uZXh0Ly50ZXN0KHQpPyh0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHZvaWQgdGhpcy5tZW51LmJsdXIoKSk6dm9pZCB0aGlzLm1lbnVbdF0oZSk7dGhpcy5zZWFyY2gobnVsbCxlKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50fSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSh0aGlzLmVsZW1lbnQsYXJndW1lbnRzKX0sX2tleUV2ZW50OmZ1bmN0aW9uKHQsZSl7dGhpcy5pc011bHRpTGluZSYmIXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpfHwodGhpcy5fbW92ZSh0LGUpLGUucHJldmVudERlZmF1bHQoKSl9LF9pc0NvbnRlbnRFZGl0YWJsZTpmdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIGU9dC5wcm9wKCJjb250ZW50RWRpdGFibGUiKTtyZXR1cm4iaW5oZXJpdCI9PT1lP3RoaXMuX2lzQ29udGVudEVkaXRhYmxlKHQucGFyZW50KCkpOiJ0cnVlIj09PWV9fSksVi5leHRlbmQoVi51aS5hdXRvY29tcGxldGUse2VzY2FwZVJlZ2V4OmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX0sZmlsdGVyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IFJlZ0V4cChWLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChlKSwiaSIpO3JldHVybiBWLmdyZXAodCxmdW5jdGlvbih0KXtyZXR1cm4gaS50ZXN0KHQubGFiZWx8fHQudmFsdWV8fHQpfSl9fSksVi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsVi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbih0KXtyZXR1cm4gdCsoMTx0PyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGU9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsY2xlYXJUaW1lb3V0KHRoaXMubGl2ZVJlZ2lvblRpbWVyKSx0aGlzLmxpdmVSZWdpb25UaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMubGl2ZVJlZ2lvbi5odG1sKFYoIjxkaXY+IikudGV4dChlKSl9LDEwMCkpfX0pO1YudWkuYXV0b2NvbXBsZXRlO3ZhciB0dD0vdWktY29ybmVyLShbYS16XSl7Miw2fS9nO1Yud2lkZ2V0KCJ1aS5jb250cm9sZ3JvdXAiLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlyZWN0aW9uOiJob3Jpem9udGFsIixkaXNhYmxlZDpudWxsLG9ubHlWaXNpYmxlOiEwLGl0ZW1zOntidXR0b246ImlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgYnV0dG9uLCBhIixjb250cm9sZ3JvdXBMYWJlbDoiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIsY2hlY2tib3hyYWRpbzoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSwgaW5wdXRbdHlwZT0ncmFkaW8nXSIsc2VsZWN0bWVudToic2VsZWN0IixzcGlubmVyOiIudWktc3Bpbm5lci1pbnB1dCJ9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidG9vbGJhciIpLHRoaXMucmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2NhbGxDaGlsZE1ldGhvZCgiZGVzdHJveSIpLHRoaXMuY2hpbGRXaWRnZXRzLnJlbW92ZURhdGEoInVpLWNvbnRyb2xncm91cC1kYXRhIiksdGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLm9wdGlvbnMuaXRlbXMuY29udHJvbGdyb3VwTGFiZWwmJnRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCkuZmluZCgiLnVpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyIpLmNvbnRlbnRzKCkudW53cmFwKCl9LF9pbml0V2lkZ2V0czpmdW5jdGlvbigpe3ZhciBvPXRoaXMsYT1bXTtWLmVhY2godGhpcy5vcHRpb25zLml0ZW1zLGZ1bmN0aW9uKHMsdCl7dmFyIGUsbj17fTtpZih0KXJldHVybiJjb250cm9sZ3JvdXBMYWJlbCI9PT1zPygoZT1vLmVsZW1lbnQuZmluZCh0KSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyk7dC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyIpLmxlbmd0aHx8dC5jb250ZW50cygpLndyYXBBbGwoIjxzcGFuIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwtY29udGVudHMnPjwvc3Bhbj4iKX0pLG8uX2FkZENsYXNzKGUsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSx2b2lkKGE9YS5jb25jYXQoZS5nZXQoKSkpKTp2b2lkKFYuZm5bc10mJihuPW9bIl8iK3MrIk9wdGlvbnMiXT9vWyJfIitzKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSxvLmVsZW1lbnQuZmluZCh0KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXRbc10oImluc3RhbmNlIiksaT1WLndpZGdldC5leHRlbmQoe30sbik7ImJ1dHRvbiI9PT1zJiZ0LnBhcmVudCgiLnVpLXNwaW5uZXIiKS5sZW5ndGh8fCgoZT1lfHx0W3NdKClbc10oImluc3RhbmNlIikpJiYoaS5jbGFzc2VzPW8uX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGkuY2xhc3NlcyxlKSksdFtzXShpKSxpPXRbc10oIndpZGdldCIpLFYuZGF0YShpWzBdLCJ1aS1jb250cm9sZ3JvdXAtZGF0YSIsZXx8dFtzXSgiaW5zdGFuY2UiKSksYS5wdXNoKGlbMF0pKX0pKSl9KSx0aGlzLmNoaWxkV2lkZ2V0cz1WKFYudW5pcXVlU29ydChhKSksdGhpcy5fYWRkQ2xhc3ModGhpcy5jaGlsZFdpZGdldHMsInVpLWNvbnRyb2xncm91cC1pdGVtIil9LF9jYWxsQ2hpbGRNZXRob2Q6ZnVuY3Rpb24oZSl7dGhpcy5jaGlsZFdpZGdldHMuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0JiZ0W2VdJiZ0W2VdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKHQsZSl7ZT10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMoZSwibGFiZWwiKS5jbGFzc2VzLmxhYmVsO3RoaXMuX3JlbW92ZUNsYXNzKHQsbnVsbCwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1sZWZ0IHVpLWNvcm5lci1yaWdodCB1aS1jb3JuZXItYWxsIiksdGhpcy5fYWRkQ2xhc3ModCxudWxsLGUpfSxfYnVpbGRTaW1wbGVPcHRpb25zOmZ1bmN0aW9uKHQsZSl7dmFyIGk9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24scz17Y2xhc3Nlczp7fX07cmV0dXJuIHMuY2xhc3Nlc1tlXT17bWlkZGxlOiIiLGZpcnN0OiJ1aS1jb3JuZXItIisoaT8idG9wIjoibGVmdCIpLGxhc3Q6InVpLWNvcm5lci0iKyhpPyJib3R0b20iOiJyaWdodCIpLG9ubHk6InVpLWNvcm5lci1hbGwifVt0XSxzfSxfc3Bpbm5lck9wdGlvbnM6ZnVuY3Rpb24odCl7dD10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCwidWktc3Bpbm5lciIpO3JldHVybiB0LmNsYXNzZXNbInVpLXNwaW5uZXItdXAiXT0iIix0LmNsYXNzZXNbInVpLXNwaW5uZXItZG93biJdPSIiLHR9LF9idXR0b25PcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCwidWktYnV0dG9uIil9LF9jaGVja2JveHJhZGlvT3B0aW9uczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKHQsInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiKX0sX3NlbGVjdG1lbnVPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uO3JldHVybnt3aWR0aDplJiYiYXV0byIsY2xhc3Nlczp7bWlkZGxlOnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6IiIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6IiJ9LGZpcnN0OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci0iKyhlPyJ0b3AiOiJ0bCIpLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItIisoZT8idG9wIjoibGVmdCIpfSxsYXN0OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6ZT8iIjoidWktY29ybmVyLXRyIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKGU/ImJvdHRvbSI6InJpZ2h0Iil9LG9ubHk6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjoidWktY29ybmVyLXRvcCIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci1hbGwifX1bdF19fSxfcmVzb2x2ZUNsYXNzZXNWYWx1ZXM6ZnVuY3Rpb24oaSxzKXt2YXIgbj17fTtyZXR1cm4gVi5lYWNoKGksZnVuY3Rpb24odCl7dmFyIGU9cy5vcHRpb25zLmNsYXNzZXNbdF18fCIiLGU9U3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwoZS5yZXBsYWNlKHR0LCIiKSk7blt0XT0oZSsiICIraVt0XSkucmVwbGFjZSgvXHMrL2csIiAiKX0pLG59LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiZGlyZWN0aW9uIj09PXQmJnRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKSx0aGlzLl9zdXBlcih0LGUpLCJkaXNhYmxlZCIhPT10P3RoaXMucmVmcmVzaCgpOnRoaXMuX2NhbGxDaGlsZE1ldGhvZChlPyJkaXNhYmxlIjoiZW5hYmxlIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbixvPXRoaXM7dGhpcy5fYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKSwiaG9yaXpvbnRhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uJiZ0aGlzLl9hZGRDbGFzcyhudWxsLCJ1aS1oZWxwZXItY2xlYXJmaXgiKSx0aGlzLl9pbml0V2lkZ2V0cygpLG49dGhpcy5jaGlsZFdpZGdldHMsKG49dGhpcy5vcHRpb25zLm9ubHlWaXNpYmxlP24uZmlsdGVyKCI6dmlzaWJsZSIpOm4pLmxlbmd0aCYmKFYuZWFjaChbImZpcnN0IiwibGFzdCJdLGZ1bmN0aW9uKHQsZSl7dmFyIGkscz1uW2VdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtzJiZvWyJfIitzLndpZGdldE5hbWUrIk9wdGlvbnMiXT8oKGk9b1siXyIrcy53aWRnZXROYW1lKyJPcHRpb25zIl0oMT09PW4ubGVuZ3RoPyJvbmx5IjplKSkuY2xhc3Nlcz1vLl9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhpLmNsYXNzZXMscykscy5lbGVtZW50W3Mud2lkZ2V0TmFtZV0oaSkpOm8uX3VwZGF0ZUNvcm5lckNsYXNzKG5bZV0oKSxlKX0pLHRoaXMuX2NhbGxDaGlsZE1ldGhvZCgicmVmcmVzaCIpKX19KTtWLndpZGdldCgidWkuY2hlY2tib3hyYWRpbyIsW1YudWkuZm9ybVJlc2V0TWl4aW4se3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7ZGlzYWJsZWQ6bnVsbCxsYWJlbDpudWxsLGljb246ITAsY2xhc3Nlczp7InVpLWNoZWNrYm94cmFkaW8tbGFiZWwiOiJ1aS1jb3JuZXItYWxsIiwidWktY2hlY2tib3hyYWRpby1pY29uIjoidWktY29ybmVyLWFsbCJ9fSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuX3JlYWRUeXBlKCksdD10aGlzLmVsZW1lbnQubGFiZWxzKCksdGhpcy5sYWJlbD1WKHRbdC5sZW5ndGgtMV0pLHRoaXMubGFiZWwubGVuZ3RofHxWLmVycm9yKCJObyBsYWJlbCBmb3VuZCBmb3IgY2hlY2tib3hyYWRpbyB3aWRnZXQiKSx0aGlzLm9yaWdpbmFsTGFiZWw9IiIsKHQ9dGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pKS5sZW5ndGgmJih0aGlzLm9yaWdpbmFsTGFiZWwrPXQuY2xvbmUoKS53cmFwQWxsKCI8ZGl2PjwvZGl2PiIpLnBhcmVudCgpLmh0bWwoKSksdGhpcy5vcmlnaW5hbExhYmVsJiYoZS5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLG51bGwhPSh0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCkmJihlLmRpc2FibGVkPXQpLGV9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZDt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpLG51bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fYWRkQ2xhc3MoInVpLWNoZWNrYm94cmFkaW8iLCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWxhYmVsIiwidWktYnV0dG9uIHVpLXdpZGdldCIpLCJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tcmFkaW8tbGFiZWwiKSx0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbD90aGlzLl91cGRhdGVMYWJlbCgpOnRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMub3B0aW9ucy5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLHRoaXMuX2VuaGFuY2UoKSx0JiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9vbih7Y2hhbmdlOiJfdG9nZ2xlQ2xhc3NlcyIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWZvY3VzIHVpLXZpc3VhbC1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX19KX0sX3JlYWRUeXBlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy50eXBlPXRoaXMuZWxlbWVudFswXS50eXBlLCJpbnB1dCI9PT10JiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8Vi5lcnJvcigiQ2FuJ3QgY3JlYXRlIGNoZWNrYm94cmFkaW8gb24gZWxlbWVudC5ub2RlTmFtZT0iK3QrIiBhbmQgZWxlbWVudC50eXBlPSIrdGhpcy50eXBlKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVJY29uKHRoaXMuZWxlbWVudFswXS5jaGVja2VkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LF9nZXRSYWRpb0dyb3VwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5hbWUsZT0iaW5wdXRbbmFtZT0nIitWLmVzY2FwZVNlbGVjdG9yKHQpKyInXSI7cmV0dXJuIHQ/KHRoaXMuZm9ybS5sZW5ndGg/Vih0aGlzLmZvcm1bMF0uZWxlbWVudHMpLmZpbHRlcihlKTpWKGUpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09Vih0aGlzKS5fZm9ybSgpLmxlbmd0aH0pKS5ub3QodGhpcy5lbGVtZW50KTpWKFtdKX0sX3RvZ2dsZUNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiLHQpLHRoaXMub3B0aW9ucy5pY29uJiYiY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIix0KS5fdG9nZ2xlQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLWljb24tYmxhbmsiLCF0KSwicmFkaW8iPT09dGhpcy50eXBlJiZ0aGlzLl9nZXRSYWRpb0dyb3VwKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuY2hlY2tib3hyYWRpbygiaW5zdGFuY2UiKTt0JiZ0Ll9yZW1vdmVDbGFzcyh0LmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3VuYmluZEZvcm1SZXNldEhhbmRsZXIoKSx0aGlzLmljb24mJih0aGlzLmljb24ucmVtb3ZlKCksdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7aWYoImxhYmVsIiE9PXR8fGUpe2lmKHRoaXMuX3N1cGVyKHQsZSksImRpc2FibGVkIj09PXQpcmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLGUpLHZvaWQodGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPWUpO3RoaXMucmVmcmVzaCgpfX0sX3VwZGF0ZUljb246ZnVuY3Rpb24odCl7dmFyIGU9InVpLWljb24gdWktaWNvbi1iYWNrZ3JvdW5kICI7dGhpcy5vcHRpb25zLmljb24/KHRoaXMuaWNvbnx8KHRoaXMuaWNvbj1WKCI8c3Bhbj4iKSx0aGlzLmljb25TcGFjZT1WKCI8c3Bhbj4gPC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1jaGVja2JveHJhZGlvLWljb24tc3BhY2UiKSksImNoZWNrYm94Ij09PXRoaXMudHlwZT8oZSs9dD8idWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIjoidWktaWNvbi1ibGFuayIsdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsdD8idWktaWNvbi1ibGFuayI6InVpLWljb24tY2hlY2siKSk6ZSs9InVpLWljb24tYmxhbmsiLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktY2hlY2tib3hyYWRpby1pY29uIixlKSx0fHx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIiksdGhpcy5pY29uLnByZXBlbmRUbyh0aGlzLmxhYmVsKS5hZnRlcih0aGlzLmljb25TcGFjZSkpOnZvaWQgMCE9PXRoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSxkZWxldGUgdGhpcy5pY29uKX0sX3VwZGF0ZUxhYmVsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pO3RoaXMuaWNvbiYmKHQ9dC5ub3QodGhpcy5pY29uWzBdKSksKHQ9dGhpcy5pY29uU3BhY2U/dC5ub3QodGhpcy5pY29uU3BhY2VbMF0pOnQpLnJlbW92ZSgpLHRoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCxlPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKHQpLHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsdCksbnVsbCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5fdXBkYXRlTGFiZWwoKSxlIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDplfSl9fV0pO3ZhciBldDtWLnVpLmNoZWNrYm94cmFkaW87Vi53aWRnZXQoInVpLmJ1dHRvbiIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxidXR0b24+IixvcHRpb25zOntjbGFzc2VzOnsidWktYnV0dG9uIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbjpudWxsLGljb25Qb3NpdGlvbjoiYmVnaW5uaW5nIixsYWJlbDpudWxsLHNob3dMYWJlbDohMH0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX3N1cGVyKCl8fHt9O3JldHVybiB0aGlzLmlzSW5wdXQ9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpLG51bGwhPSh0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCkmJihlLmRpc2FibGVkPXQpLHRoaXMub3JpZ2luYWxMYWJlbD10aGlzLmlzSW5wdXQ/dGhpcy5lbGVtZW50LnZhbCgpOnRoaXMuZWxlbWVudC5odG1sKCksdGhpcy5vcmlnaW5hbExhYmVsJiYoZS5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLGV9LF9jcmVhdGU6ZnVuY3Rpb24oKXshdGhpcy5vcHRpb24uc2hvd0xhYmVsJiF0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9ITApLG51bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWR8fCExKSx0aGlzLmhhc1RpdGxlPSEhdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIiksdGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLm9wdGlvbnMubGFiZWwhPT10aGlzLm9yaWdpbmFsTGFiZWwmJih0aGlzLmlzSW5wdXQ/dGhpcy5lbGVtZW50LnZhbCh0aGlzLm9wdGlvbnMubGFiZWwpOnRoaXMuZWxlbWVudC5odG1sKHRoaXMub3B0aW9ucy5sYWJlbCkpLHRoaXMuX2FkZENsYXNzKCJ1aS1idXR0b24iLCJ1aS13aWRnZXQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX2VuaGFuY2UoKSx0aGlzLmVsZW1lbnQuaXMoImEiKSYmdGhpcy5fb24oe2tleXVwOmZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PVYudWkua2V5Q29kZS5TUEFDRSYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmVsZW1lbnRbMF0uY2xpY2s/dGhpcy5lbGVtZW50WzBdLmNsaWNrKCk6dGhpcy5lbGVtZW50LnRyaWdnZXIoImNsaWNrIikpfX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiYnV0dG9uIil8fHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwiYnV0dG9uIiksdGhpcy5vcHRpb25zLmljb24mJih0aGlzLl91cGRhdGVJY29uKCJpY29uIix0aGlzLm9wdGlvbnMuaWNvbiksdGhpcy5fdXBkYXRlVG9vbHRpcCgpKX0sX3VwZGF0ZVRvb2x0aXA6ZnVuY3Rpb24oKXt0aGlzLnRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpLHRoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMudGl0bGV8fHRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIsdGhpcy5vcHRpb25zLmxhYmVsKX0sX3VwZGF0ZUljb246ZnVuY3Rpb24odCxlKXt2YXIgaT0iaWNvblBvc2l0aW9uIiE9PXQscz1pP3RoaXMub3B0aW9ucy5pY29uUG9zaXRpb246ZSx0PSJ0b3AiPT09c3x8ImJvdHRvbSI9PT1zO3RoaXMuaWNvbj9pJiZ0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0aGlzLm9wdGlvbnMuaWNvbik6KHRoaXMuaWNvbj1WKCI8c3Bhbj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sInVpLWJ1dHRvbi1pY29uIiwidWktaWNvbiIpLHRoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMuX2FkZENsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IikpLGkmJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLGUpLHRoaXMuX2F0dGFjaEljb24ocyksdD8odGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLXdpZGdldC1pY29uLWJsb2NrIiksdGhpcy5pY29uU3BhY2UmJnRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKToodGhpcy5pY29uU3BhY2V8fCh0aGlzLmljb25TcGFjZT1WKCI8c3Bhbj4gPC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1idXR0b24taWNvbi1zcGFjZSIpKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lnZXQtaWNvbi1ibG9jayIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShzKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmljb24mJnRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCksdGhpcy5oYXNUaXRsZXx8dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9hdHRhY2hJY29uU3BhY2U6ZnVuY3Rpb24odCl7dGhpcy5pY29uWy9eKD86ZW5kfGJvdHRvbSkvLnRlc3QodCk/ImJlZm9yZSI6ImFmdGVyIl0odGhpcy5pY29uU3BhY2UpfSxfYXR0YWNoSWNvbjpmdW5jdGlvbih0KXt0aGlzLmVsZW1lbnRbL14oPzplbmR8Ym90dG9tKS8udGVzdCh0KT8iYXBwZW5kIjoicHJlcGVuZCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10LnNob3dMYWJlbD90aGlzLm9wdGlvbnM6dCkuc2hvd0xhYmVsLGk9KHZvaWQgMD09PXQuaWNvbj90aGlzLm9wdGlvbnM6dCkuaWNvbjtlfHxpfHwodC5zaG93TGFiZWw9ITApLHRoaXMuX3N1cGVyKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7Imljb24iPT09dCYmKGU/dGhpcy5fdXBkYXRlSWNvbih0LGUpOnRoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpKSwiaWNvblBvc2l0aW9uIj09PXQmJnRoaXMuX3VwZGF0ZUljb24odCxlKSwic2hvd0xhYmVsIj09PXQmJih0aGlzLl90b2dnbGVDbGFzcygidWktYnV0dG9uLWljb24tb25seSIsbnVsbCwhZSksdGhpcy5fdXBkYXRlVG9vbHRpcCgpKSwibGFiZWwiPT09dCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKGUpOih0aGlzLmVsZW1lbnQuaHRtbChlKSx0aGlzLmljb24mJih0aGlzLl9hdHRhY2hJY29uKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pLHRoaXMuX2F0dGFjaEljb25TcGFjZSh0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uKSkpKSx0aGlzLl9zdXBlcih0LGUpLCJkaXNhYmxlZCI9PT10JiYodGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLGUpLCh0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ9ZSkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJibHVyIikpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCwgYnV0dG9uIik/dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkOnRoaXMuZWxlbWVudC5oYXNDbGFzcygidWktYnV0dG9uLWRpc2FibGVkIik7dCE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dH0pLHRoaXMuX3VwZGF0ZVRvb2x0aXAoKX19KSwhMSE9PVYudWlCYWNrQ29tcGF0JiYoVi53aWRnZXQoInVpLmJ1dHRvbiIsVi51aS5idXR0b24se29wdGlvbnM6e3RleHQ6ITAsaWNvbnM6e3ByaW1hcnk6bnVsbCxzZWNvbmRhcnk6bnVsbH19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiYhdGhpcy5vcHRpb25zLnRleHQmJih0aGlzLm9wdGlvbnMuc2hvd0xhYmVsPXRoaXMub3B0aW9ucy50ZXh0KSwhdGhpcy5vcHRpb25zLnNob3dMYWJlbCYmdGhpcy5vcHRpb25zLnRleHQmJih0aGlzLm9wdGlvbnMudGV4dD10aGlzLm9wdGlvbnMuc2hvd0xhYmVsKSx0aGlzLm9wdGlvbnMuaWNvbnx8IXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5JiYhdGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeT90aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5PXRoaXMub3B0aW9ucy5pY29uKTp0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeT90aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeToodGhpcy5vcHRpb25zLmljb249dGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeSx0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uPSJlbmQiKSx0aGlzLl9zdXBlcigpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7InRleHQiIT09dD8oInNob3dMYWJlbCI9PT10JiYodGhpcy5vcHRpb25zLnRleHQ9ZSksImljb24iPT09dCYmKHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5PWUpLCJpY29ucyI9PT10JiYoZS5wcmltYXJ5Pyh0aGlzLl9zdXBlcigiaWNvbiIsZS5wcmltYXJ5KSx0aGlzLl9zdXBlcigiaWNvblBvc2l0aW9uIiwiYmVnaW5uaW5nIikpOmUuc2Vjb25kYXJ5JiYodGhpcy5fc3VwZXIoImljb24iLGUuc2Vjb25kYXJ5KSx0aGlzLl9zdXBlcigiaWNvblBvc2l0aW9uIiwiZW5kIikpKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykpOnRoaXMuX3N1cGVyKCJzaG93TGFiZWwiLGUpfX0pLFYuZm4uYnV0dG9uPShldD1WLmZuLmJ1dHRvbixmdW5jdGlvbihpKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGkscz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj10aGlzO3JldHVybiB0P3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09aT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLmF0dHIoInR5cGUiKSxlPVYuZGF0YSh0aGlzLCJ1aS0iKygiY2hlY2tib3giIT09dCYmInJhZGlvIiE9PXQ/ImJ1dHRvbiI6ImNoZWNrYm94cmFkaW8iKSk7cmV0dXJuImluc3RhbmNlIj09PWk/KG49ZSwhMSk6ZT8iZnVuY3Rpb24iIT10eXBlb2YgZVtpXXx8Il8iPT09aS5jaGFyQXQoMCk/Vi5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIraSsiJyBmb3IgYnV0dG9uIHdpZGdldCBpbnN0YW5jZSIpOih0PWVbaV0uYXBwbHkoZSxzKSkhPT1lJiZ2b2lkIDAhPT10PyhuPXQmJnQuanF1ZXJ5P24ucHVzaFN0YWNrKHQuZ2V0KCkpOnQsITEpOnZvaWQgMDpWLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIGJ1dHRvbiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2krIiciKX0pOm49dm9pZCAwOihzLmxlbmd0aCYmKGk9Vi53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ldLmNvbmNhdChzKSkpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuYXR0cigidHlwZSIpLGU9ImNoZWNrYm94IiE9PXQmJiJyYWRpbyIhPT10PyJidXR0b24iOiJjaGVja2JveHJhZGlvIix0PVYuZGF0YSh0aGlzLCJ1aS0iK2UpO3Q/KHQub3B0aW9uKGl8fHt9KSx0Ll9pbml0JiZ0Ll9pbml0KCkpOiJidXR0b24iIT1lP1YodGhpcykuY2hlY2tib3hyYWRpbyhWLmV4dGVuZCh7aWNvbjohMX0saSkpOmV0LmNhbGwoVih0aGlzKSxpKX0pKSxufSksVi5mbi5idXR0b25zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVi51aS5jb250cm9sZ3JvdXB8fFYuZXJyb3IoIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZyIpLCJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMl0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iLGFyZ3VtZW50c1syXV0pOiJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIl0pOigib2JqZWN0Ij09dHlwZW9mIGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLml0ZW1zJiYoYXJndW1lbnRzWzBdLml0ZW1zPXtidXR0b246YXJndW1lbnRzWzBdLml0ZW1zfSksdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pO3ZhciBpdDtWLnVpLmJ1dHRvbjtmdW5jdGlvbiBzdCgpe3RoaXMuX2N1ckluc3Q9bnVsbCx0aGlzLl9rZXlFdmVudD0hMSx0aGlzLl9kaXNhYmxlZElucHV0cz1bXSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMSx0aGlzLl9pbkRpYWxvZz0hMSx0aGlzLl9tYWluRGl2SWQ9InVpLWRhdGVwaWNrZXItZGl2Iix0aGlzLl9pbmxpbmVDbGFzcz0idWktZGF0ZXBpY2tlci1pbmxpbmUiLHRoaXMuX2FwcGVuZENsYXNzPSJ1aS1kYXRlcGlja2VyLWFwcGVuZCIsdGhpcy5fdHJpZ2dlckNsYXNzPSJ1aS1kYXRlcGlja2VyLXRyaWdnZXIiLHRoaXMuX2RpYWxvZ0NsYXNzPSJ1aS1kYXRlcGlja2VyLWRpYWxvZyIsdGhpcy5fZGlzYWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWRpc2FibGVkIix0aGlzLl91bnNlbGVjdGFibGVDbGFzcz0idWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGUiLHRoaXMuX2N1cnJlbnRDbGFzcz0idWktZGF0ZXBpY2tlci1jdXJyZW50LWRheSIsdGhpcy5fZGF5T3ZlckNsYXNzPSJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyIix0aGlzLnJlZ2lvbmFsPVtdLHRoaXMucmVnaW9uYWxbIiJdPXtjbG9zZVRleHQ6IkRvbmUiLHByZXZUZXh0OiJQcmV2IixuZXh0VGV4dDoiTmV4dCIsY3VycmVudFRleHQ6IlRvZGF5Iixtb250aE5hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aE5hbWVzU2hvcnQ6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlOYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5TmFtZXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLGRheU5hbWVzTWluOlsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXSx3ZWVrSGVhZGVyOiJXayIsZGF0ZUZvcm1hdDoibW0vZGQveXkiLGZpcnN0RGF5OjAsaXNSVEw6ITEsc2hvd01vbnRoQWZ0ZXJZZWFyOiExLHllYXJTdWZmaXg6IiIsc2VsZWN0TW9udGhMYWJlbDoiU2VsZWN0IG1vbnRoIixzZWxlY3RZZWFyTGFiZWw6IlNlbGVjdCB5ZWFyIn0sdGhpcy5fZGVmYXVsdHM9e3Nob3dPbjoiZm9jdXMiLHNob3dBbmltOiJmYWRlSW4iLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDoiIixidXR0b25UZXh0OiIuLi4iLGJ1dHRvbkltYWdlOiIiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6IisxMCIsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG9uVXBkYXRlRGF0ZXBpY2tlcjpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDohMCxzaG93QnV0dG9uUGFuZWw6ITEsYXV0b1NpemU6ITEsZGlzYWJsZWQ6ITF9LFYuZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLnJlZ2lvbmFsLmVuPVYuZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLnJlZ2lvbmFsWyJlbi1VUyJdPVYuZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWwuZW4pLHRoaXMuZHBEaXY9bnQoVigiPGRpdiBpZD0nIit0aGlzLl9tYWluRGl2SWQrIicgY2xhc3M9J3VpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSl9ZnVuY3Rpb24gbnQodCl7dmFyIGU9ImJ1dHRvbiwgLnVpLWRhdGVwaWNrZXItcHJldiwgLnVpLWRhdGVwaWNrZXItbmV4dCwgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgYSI7cmV0dXJuIHQub24oIm1vdXNlb3V0IixlLGZ1bmN0aW9uKCl7Vih0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSwtMSE9PXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItcHJldiIpJiZWKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXIiKSwtMSE9PXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItbmV4dCIpJiZWKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX0pLm9uKCJtb3VzZW92ZXIiLGUsb3QpfWZ1bmN0aW9uIG90KCl7Vi5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcigoaXQuaW5saW5lP2l0LmRwRGl2LnBhcmVudCgpOml0LmlucHV0KVswXSl8fChWKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLFYodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmVih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmVih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIGF0KHQsZSl7Zm9yKHZhciBpIGluIFYuZXh0ZW5kKHQsZSksZSludWxsPT1lW2ldJiYodFtpXT1lW2ldKTtyZXR1cm4gdH1WLmV4dGVuZChWLnVpLHtkYXRlcGlja2VyOnt2ZXJzaW9uOiIxLjEzLjIifX0pLFYuZXh0ZW5kKHN0LnByb3RvdHlwZSx7bWFya2VyQ2xhc3NOYW1lOiJoYXNEYXRlcGlja2VyIixtYXhSb3dzOjQsX3dpZGdldERhdGVwaWNrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcERpdn0sc2V0RGVmYXVsdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGF0KHRoaXMuX2RlZmF1bHRzLHR8fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpLHM9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG49ImRpdiI9PT1zfHwic3BhbiI9PT1zO3QuaWR8fCh0aGlzLnV1aWQrPTEsdC5pZD0iZHAiK3RoaXMudXVpZCksKGk9dGhpcy5fbmV3SW5zdChWKHQpLG4pKS5zZXR0aW5ncz1WLmV4dGVuZCh7fSxlfHx7fSksImlucHV0Ij09PXM/dGhpcy5fY29ubmVjdERhdGVwaWNrZXIodCxpKTpuJiZ0aGlzLl9pbmxpbmVEYXRlcGlja2VyKHQsaSl9LF9uZXdJbnN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJue2lkOnRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIiksaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTplLGRwRGl2OmU/bnQoVigiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpPVYodCk7ZS5hcHBlbmQ9VihbXSksZS50cmlnZ2VyPVYoW10pLGkuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMoaSxlKSxpLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vbigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9uKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoZSksVi5kYXRhKHQsImRhdGVwaWNrZXIiLGUpLGUuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscz10aGlzLl9nZXQoZSwiYXBwZW5kVGV4dCIpLG49dGhpcy5fZ2V0KGUsImlzUlRMIik7ZS5hcHBlbmQmJmUuYXBwZW5kLnJlbW92ZSgpLHMmJihlLmFwcGVuZD1WKCI8c3Bhbj4iKS5hZGRDbGFzcyh0aGlzLl9hcHBlbmRDbGFzcykudGV4dChzKSx0W24/ImJlZm9yZSI6ImFmdGVyIl0oZS5hcHBlbmQpKSx0Lm9mZigiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKSxlLnRyaWdnZXImJmUudHJpZ2dlci5yZW1vdmUoKSwiZm9jdXMiIT09KGk9dGhpcy5fZ2V0KGUsInNob3dPbiIpKSYmImJvdGgiIT09aXx8dC5vbigiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKSwiYnV0dG9uIiE9PWkmJiJib3RoIiE9PWl8fChzPXRoaXMuX2dldChlLCJidXR0b25UZXh0IiksaT10aGlzLl9nZXQoZSwiYnV0dG9uSW1hZ2UiKSx0aGlzLl9nZXQoZSwiYnV0dG9uSW1hZ2VPbmx5Iik/ZS50cmlnZ2VyPVYoIjxpbWc+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6aSxhbHQ6cyx0aXRsZTpzfSk6KGUudHJpZ2dlcj1WKCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKSxpP2UudHJpZ2dlci5odG1sKFYoIjxpbWc+IikuYXR0cih7c3JjOmksYWx0OnMsdGl0bGU6c30pKTplLnRyaWdnZXIudGV4dChzKSksdFtuPyJiZWZvcmUiOiJhZnRlciJdKGUudHJpZ2dlciksZS50cmlnZ2VyLm9uKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmVi5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9PT10WzBdP1YuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTooVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmVi5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdJiZWLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksVi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSksITF9KSl9LF9hdXRvU2l6ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvLGE7dGhpcy5fZ2V0KHQsImF1dG9TaXplIikmJiF0LmlubGluZSYmKG89bmV3IERhdGUoMjAwOSwxMSwyMCksKGE9dGhpcy5fZ2V0KHQsImRhdGVGb3JtYXQiKSkubWF0Y2goL1tETV0vKSYmKGU9ZnVuY3Rpb24odCl7Zm9yKG49cz1pPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5sZW5ndGg+aSYmKGk9dFtuXS5sZW5ndGgscz1uKTtyZXR1cm4gc30sby5zZXRNb250aChlKHRoaXMuX2dldCh0LGEubWF0Y2goL01NLyk/Im1vbnRoTmFtZXMiOiJtb250aE5hbWVzU2hvcnQiKSkpLG8uc2V0RGF0ZShlKHRoaXMuX2dldCh0LGEubWF0Y2goL0RELyk/ImRheU5hbWVzIjoiZGF5TmFtZXNTaG9ydCIpKSsyMC1vLmdldERheSgpKSksdC5pbnB1dC5hdHRyKCJzaXplIix0aGlzLl9mb3JtYXREYXRlKHQsbykubGVuZ3RoKSl9LF9pbmxpbmVEYXRlcGlja2VyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9Vih0KTtpLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKXx8KGkuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmFwcGVuZChlLmRwRGl2KSxWLmRhdGEodCwiZGF0ZXBpY2tlciIsZSksdGhpcy5fc2V0RGF0ZShlLHRoaXMuX2dldERlZmF1bHREYXRlKGUpLCEwKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGUpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShlKSxlLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KSxlLmRwRGl2LmNzcygiZGlzcGxheSIsImJsb2NrIikpfSxfZGlhbG9nRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUsaSxzLG4pe3ZhciBvLGE9dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gYXx8KHRoaXMudXVpZCs9MSxvPSJkcCIrdGhpcy51dWlkLHRoaXMuX2RpYWxvZ0lucHV0PVYoIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIitvKyInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPiIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLFYoImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLChhPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCwhMSkpLnNldHRpbmdzPXt9LFYuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSkpLGF0KGEuc2V0dGluZ3Msc3x8e30pLGU9ZSYmZS5jb25zdHJ1Y3Rvcj09PURhdGU/dGhpcy5fZm9ybWF0RGF0ZShhLGUpOmUsdGhpcy5fZGlhbG9nSW5wdXQudmFsKGUpLHRoaXMuX3Bvcz1uP24ubGVuZ3RoP246W24ucGFnZVgsbi5wYWdlWV06bnVsbCx0aGlzLl9wb3N8fChvPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LG49ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsdGhpcy5fcG9zPVtvLzItMTAwK2Uscy8yLTE1MCtuXSksdGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKSxhLnNldHRpbmdzLm9uU2VsZWN0PWksdGhpcy5faW5EaWFsb2c9ITAsdGhpcy5kcERpdi5hZGRDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcyksdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pLFYuYmxvY2tVSSYmVi5ibG9ja1VJKHRoaXMuZHBEaXYpLFYuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSksdGhpc30sX2Rlc3Ryb3lEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBlLGk9Vih0KSxzPVYuZGF0YSh0LCJkYXRlcGlja2VyIik7aS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxWLnJlbW92ZURhdGEodCwiZGF0ZXBpY2tlciIpLCJpbnB1dCI9PT1lPyhzLmFwcGVuZC5yZW1vdmUoKSxzLnRyaWdnZXIucmVtb3ZlKCksaS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLm9mZigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vZmYoImtleXByZXNzIix0aGlzLl9kb0tleVByZXNzKS5vZmYoImtleXVwIix0aGlzLl9kb0tleVVwKSk6ImRpdiIhPT1lJiYic3BhbiIhPT1lfHxpLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpLGl0PT09cyYmKGl0PW51bGwsdGhpcy5fY3VySW5zdD1udWxsKSl9LF9lbmFibGVEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3ZhciB0LGk9VihlKSxzPVYuZGF0YShlLCJkYXRlcGlja2VyIik7aS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJigiaW5wdXQiPT09KHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT8oZS5kaXNhYmxlZD0hMSxzLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKToiZGl2IiE9PXQmJiJzcGFuIiE9PXR8fCgoaT1pLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiksaS5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMSkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPVYubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZT9udWxsOnR9KSl9LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbihlKXt2YXIgdCxpPVYoZSkscz1WLmRhdGEoZSwiZGF0ZXBpY2tlciIpO2kuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoImlucHV0Ij09PSh0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/KGUuZGlzYWJsZWQ9ITAscy50cmlnZ2VyLmZpbHRlcigiYnV0dG9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMC41IixjdXJzb3I6ImRlZmF1bHQifSkpOiJkaXYiIT09dCYmInNwYW4iIT09dHx8KChpPWkuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKSkuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxpLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCEwKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9Vi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lP251bGw6dH0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09ZSl9LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDtlKyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbZV09PT10KXJldHVybiEwO3JldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIFYuZGF0YSh0LCJkYXRlcGlja2VyIil9Y2F0Y2godCl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIifX0sX29wdGlvbkRhdGVwaWNrZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG4sbz10aGlzLl9nZXRJbnN0KHQpO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuImRlZmF1bHRzIj09PWU/Vi5leHRlbmQoe30sVi5kYXRlcGlja2VyLl9kZWZhdWx0cyk6bz8iYWxsIj09PWU/Vi5leHRlbmQoe30sby5zZXR0aW5ncyk6dGhpcy5fZ2V0KG8sZSk6bnVsbDtzPWV8fHt9LCJzdHJpbmciPT10eXBlb2YgZSYmKChzPXt9KVtlXT1pKSxvJiYodGhpcy5fY3VySW5zdD09PW8mJnRoaXMuX2hpZGVEYXRlcGlja2VyKCksbj10aGlzLl9nZXREYXRlRGF0ZXBpY2tlcih0LCEwKSxlPXRoaXMuX2dldE1pbk1heERhdGUobywibWluIiksaT10aGlzLl9nZXRNaW5NYXhEYXRlKG8sIm1heCIpLGF0KG8uc2V0dGluZ3MscyksbnVsbCE9PWUmJnZvaWQgMCE9PXMuZGF0ZUZvcm1hdCYmdm9pZCAwPT09cy5taW5EYXRlJiYoby5zZXR0aW5ncy5taW5EYXRlPXRoaXMuX2Zvcm1hdERhdGUobyxlKSksbnVsbCE9PWkmJnZvaWQgMCE9PXMuZGF0ZUZvcm1hdCYmdm9pZCAwPT09cy5tYXhEYXRlJiYoby5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUobyxpKSksImRpc2FibGVkImluIHMmJihzLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIodCkpLHRoaXMuX2F0dGFjaG1lbnRzKFYodCksbyksdGhpcy5fYXV0b1NpemUobyksdGhpcy5fc2V0RGF0ZShvLG4pLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShvKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKG8pKX0sX2NoYW5nZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX29wdGlvbkRhdGVwaWNrZXIodCxlLGkpfSxfcmVmcmVzaERhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dD10aGlzLl9nZXRJbnN0KHQpO3QmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3Q9dGhpcy5fZ2V0SW5zdCh0KTt0JiYodGhpcy5fc2V0RGF0ZSh0LGUpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKHQpKX0sX2dldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQsZSl7dD10aGlzLl9nZXRJbnN0KHQpO3JldHVybiB0JiYhdC5pbmxpbmUmJnRoaXMuX3NldERhdGVGcm9tRmllbGQodCxlKSx0P3RoaXMuX2dldERhdGUodCk6bnVsbH0sX2RvS2V5RG93bjpmdW5jdGlvbih0KXt2YXIgZSxpLHM9Vi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KSxuPSEwLG89cy5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7aWYocy5fa2V5RXZlbnQ9ITAsVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZylzd2l0Y2godC5rZXlDb2RlKXtjYXNlIDk6Vi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLG49ITE7YnJlYWs7Y2FzZSAxMzpyZXR1cm4oaT1WKCJ0ZC4iK1YuZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzKyI6bm90KC4iK1YuZGF0ZXBpY2tlci5fY3VycmVudENsYXNzKyIpIixzLmRwRGl2KSlbMF0mJlYuZGF0ZXBpY2tlci5fc2VsZWN0RGF5KHQudGFyZ2V0LHMuc2VsZWN0ZWRNb250aCxzLnNlbGVjdGVkWWVhcixpWzBdKSwoZT1WLmRhdGVwaWNrZXIuX2dldChzLCJvblNlbGVjdCIpKT8oaT1WLmRhdGVwaWNrZXIuX2Zvcm1hdERhdGUocyksZS5hcHBseShzLmlucHV0P3MuaW5wdXRbMF06bnVsbCxbaSxzXSkpOlYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSwhMTtjYXNlIDI3OlYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTticmVhaztjYXNlIDMzOlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LVYuZGF0ZXBpY2tlci5fZ2V0KHMsInN0ZXBCaWdNb250aHMiKTotVi5kYXRlcGlja2VyLl9nZXQocywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNDpWLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytWLmRhdGVwaWNrZXIuX2dldChzLCJzdGVwQmlnTW9udGhzIik6K1YuZGF0ZXBpY2tlci5fZ2V0KHMsInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzU6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmVi5kYXRlcGlja2VyLl9jbGVhckRhdGUodC50YXJnZXQpLG49dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzNjoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZWLmRhdGVwaWNrZXIuX2dvdG9Ub2RheSh0LnRhcmdldCksbj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM3Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCxvPzE6LTEsIkQiKSxuPXQuY3RybEtleXx8dC5tZXRhS2V5LHQub3JpZ2luYWxFdmVudC5hbHRLZXkmJlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LVYuZGF0ZXBpY2tlci5fZ2V0KHMsInN0ZXBCaWdNb250aHMiKTotVi5kYXRlcGlja2VyLl9nZXQocywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzODoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZWLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsLTcsIkQiKSxuPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzk6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmVi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/LTE6MSwiRCIpLG49dC5jdHJsS2V5fHx0Lm1ldGFLZXksdC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmVi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8rVi5kYXRlcGlja2VyLl9nZXQocywic3RlcEJpZ01vbnRocyIpOitWLmRhdGVwaWNrZXIuX2dldChzLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOih0LmN0cmxLZXl8fHQubWV0YUtleSkmJlYuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCw3LCJEIiksbj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztkZWZhdWx0Om49ITF9ZWxzZSAzNj09PXQua2V5Q29kZSYmdC5jdHJsS2V5P1YuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk6bj0hMTtuJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxfZG9LZXlQcmVzczpmdW5jdGlvbih0KXt2YXIgZSxpPVYuZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYoVi5kYXRlcGlja2VyLl9nZXQoaSwiY29uc3RyYWluSW5wdXQiKSlyZXR1cm4gZT1WLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoVi5kYXRlcGlja2VyLl9nZXQoaSwiZGF0ZUZvcm1hdCIpKSxpPVN0cmluZy5mcm9tQ2hhckNvZGUobnVsbD09dC5jaGFyQ29kZT90LmtleUNvZGU6dC5jaGFyQ29kZSksdC5jdHJsS2V5fHx0Lm1ldGFLZXl8fGk8IiAifHwhZXx8LTE8ZS5pbmRleE9mKGkpfSxfZG9LZXlVcDpmdW5jdGlvbih0KXt0PVYuZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYodC5pbnB1dC52YWwoKSE9PXQubGFzdFZhbCl0cnl7Vi5kYXRlcGlja2VyLnBhcnNlRGF0ZShWLmRhdGVwaWNrZXIuX2dldCh0LCJkYXRlRm9ybWF0IiksdC5pbnB1dD90LmlucHV0LnZhbCgpOm51bGwsVi5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcodCkpJiYoVi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKHQpLFYuZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKHQpLFYuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcih0KSl9Y2F0Y2godCl7fXJldHVybiEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxzLG47ImlucHV0IiE9PSh0PXQudGFyZ2V0fHx0KS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1WKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksVi5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcih0KXx8Vi5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9PT10fHwobj1WLmRhdGVwaWNrZXIuX2dldEluc3QodCksVi5kYXRlcGlja2VyLl9jdXJJbnN0JiZWLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1uJiYoVi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLG4mJlYuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJlYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoVi5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSksITEhPT0oaT0ocz1WLmRhdGVwaWNrZXIuX2dldChuLCJiZWZvcmVTaG93IikpP3MuYXBwbHkodCxbdCxuXSk6e30pJiYoYXQobi5zZXR0aW5ncyxpKSxuLmxhc3RWYWw9bnVsbCxWLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD10LFYuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChuKSxWLmRhdGVwaWNrZXIuX2luRGlhbG9nJiYodC52YWx1ZT0iIiksVi5kYXRlcGlja2VyLl9wb3N8fChWLmRhdGVwaWNrZXIuX3Bvcz1WLmRhdGVwaWNrZXIuX2ZpbmRQb3ModCksVi5kYXRlcGlja2VyLl9wb3NbMV0rPXQub2Zmc2V0SGVpZ2h0KSxlPSExLFYodCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4hKGV8PSJmaXhlZCI9PT1WKHRoaXMpLmNzcygicG9zaXRpb24iKSl9KSxzPXtsZWZ0OlYuZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpWLmRhdGVwaWNrZXIuX3Bvc1sxXX0sVi5kYXRlcGlja2VyLl9wb3M9bnVsbCxuLmRwRGl2LmVtcHR5KCksbi5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxWLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIobikscz1WLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KG4scyxlKSxuLmRwRGl2LmNzcyh7cG9zaXRpb246Vi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmVi5ibG9ja1VJPyJzdGF0aWMiOmU/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6cy5sZWZ0KyJweCIsdG9wOnMudG9wKyJweCJ9KSxuLmlubGluZXx8KGk9Vi5kYXRlcGlja2VyLl9nZXQobiwic2hvd0FuaW0iKSxzPVYuZGF0ZXBpY2tlci5fZ2V0KG4sImR1cmF0aW9uIiksbi5kcERpdi5jc3MoInotaW5kZXgiLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpO3QubGVuZ3RoJiZ0WzBdIT09ZG9jdW1lbnQ7KXtpZigoImFic29sdXRlIj09PShlPXQuY3NzKCJwb3NpdGlvbiIpKXx8InJlbGF0aXZlIj09PWV8fCJmaXhlZCI9PT1lKSYmKGk9cGFyc2VJbnQodC5jc3MoInpJbmRleCIpLDEwKSwhaXNOYU4oaSkmJjAhPT1pKSlyZXR1cm4gaTt0PXQucGFyZW50KCl9cmV0dXJuIDB9KFYodCkpKzEpLFYuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsVi5lZmZlY3RzJiZWLmVmZmVjdHMuZWZmZWN0W2ldP24uZHBEaXYuc2hvdyhpLFYuZGF0ZXBpY2tlci5fZ2V0KG4sInNob3dPcHRpb25zIikscyk6bi5kcERpdltpfHwic2hvdyJdKGk/czpudWxsKSxWLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQobikmJm4uaW5wdXQudHJpZ2dlcigiZm9jdXMiKSxWLmRhdGVwaWNrZXIuX2N1ckluc3Q9bikpKX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dGhpcy5tYXhSb3dzPTQsKGl0PXQpLmRwRGl2LmVtcHR5KCkuYXBwZW5kKHRoaXMuX2dlbmVyYXRlSFRNTCh0KSksdGhpcy5fYXR0YWNoSGFuZGxlcnModCk7dmFyIGUsaT10aGlzLl9nZXROdW1iZXJPZk1vbnRocyh0KSxzPWlbMV0sbj10LmRwRGl2LmZpbmQoIi4iK3RoaXMuX2RheU92ZXJDbGFzcysiIGEiKSxvPVYuZGF0ZXBpY2tlci5fZ2V0KHQsIm9uVXBkYXRlRGF0ZXBpY2tlciIpOzA8bi5sZW5ndGgmJm90LmFwcGx5KG4uZ2V0KDApKSx0LmRwRGl2LnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNCIpLndpZHRoKCIiKSwxPHMmJnQuZHBEaXYuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktIitzKS5jc3MoIndpZHRoIiwxNypzKyJlbSIpLHQuZHBEaXZbKDEhPT1pWzBdfHwxIT09aVsxXT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItbXVsdGkiKSx0LmRwRGl2Wyh0aGlzLl9nZXQodCwiaXNSVEwiKT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItcnRsIiksdD09PVYuZGF0ZXBpY2tlci5fY3VySW5zdCYmVi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmVi5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KHQpJiZ0LmlucHV0LnRyaWdnZXIoImZvY3VzIiksdC55ZWFyc2h0bWwmJihlPXQueWVhcnNodG1sLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPT09dC55ZWFyc2h0bWwmJnQueWVhcnNodG1sJiZ0LmRwRGl2LmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIiKS5maXJzdCgpLnJlcGxhY2VXaXRoKHQueWVhcnNodG1sKSxlPXQueWVhcnNodG1sPW51bGx9LDApKSxvJiZvLmFwcGx5KHQuaW5wdXQ/dC5pbnB1dFswXTpudWxsLFt0XSl9LF9zaG91bGRGb2N1c0lucHV0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmlucHV0JiZ0LmlucHV0LmlzKCI6dmlzaWJsZSIpJiYhdC5pbnB1dC5pcygiOmRpc2FibGVkIikmJiF0LmlucHV0LmlzKCI6Zm9jdXMiKX0sX2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LmRwRGl2Lm91dGVyV2lkdGgoKSxuPXQuZHBEaXYub3V0ZXJIZWlnaHQoKSxvPXQuaW5wdXQ/dC5pbnB1dC5vdXRlcldpZHRoKCk6MCxhPXQuaW5wdXQ/dC5pbnB1dC5vdXRlckhlaWdodCgpOjAscj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgrKGk/MDpWKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkpLGw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCsoaT8wOlYoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTtyZXR1cm4gZS5sZWZ0LT10aGlzLl9nZXQodCwiaXNSVEwiKT9zLW86MCxlLmxlZnQtPWkmJmUubGVmdD09PXQuaW5wdXQub2Zmc2V0KCkubGVmdD9WKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk6MCxlLnRvcC09aSYmZS50b3A9PT10LmlucHV0Lm9mZnNldCgpLnRvcCthP1YoZG9jdW1lbnQpLnNjcm9sbFRvcCgpOjAsZS5sZWZ0LT1NYXRoLm1pbihlLmxlZnQsZS5sZWZ0K3M+ciYmczxyP01hdGguYWJzKGUubGVmdCtzLXIpOjApLGUudG9wLT1NYXRoLm1pbihlLnRvcCxlLnRvcCtuPmwmJm48bD9NYXRoLmFicyhuK2EpOjApLGV9LF9maW5kUG9zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9nZXRJbnN0KHQpLGk9dGhpcy5fZ2V0KGUsImlzUlRMIik7dCYmKCJoaWRkZW4iPT09dC50eXBlfHwxIT09dC5ub2RlVHlwZXx8Vi5leHByLnBzZXVkb3MuaGlkZGVuKHQpKTspdD10W2k/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07cmV0dXJuWyhlPVYodCkub2Zmc2V0KCkpLmxlZnQsZS50b3BdfSxfaGlkZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMuX2N1ckluc3Q7IXN8fHQmJnMhPT1WLmRhdGEodCwiZGF0ZXBpY2tlciIpfHx0aGlzLl9kYXRlcGlja2VyU2hvd2luZyYmKGU9dGhpcy5fZ2V0KHMsInNob3dBbmltIiksaT10aGlzLl9nZXQocywiZHVyYXRpb24iKSx0PWZ1bmN0aW9uKCl7Vi5kYXRlcGlja2VyLl90aWR5RGlhbG9nKHMpfSxWLmVmZmVjdHMmJihWLmVmZmVjdHMuZWZmZWN0W2VdfHxWLmVmZmVjdHNbZV0pP3MuZHBEaXYuaGlkZShlLFYuZGF0ZXBpY2tlci5fZ2V0KHMsInNob3dPcHRpb25zIiksaSx0KTpzLmRwRGl2WyJzbGlkZURvd24iPT09ZT8ic2xpZGVVcCI6ImZhZGVJbiI9PT1lPyJmYWRlT3V0IjoiaGlkZSJdKGU/aTpudWxsLHQpLGV8fHQoKSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMSwodD10aGlzLl9nZXQocywib25DbG9zZSIpKSYmdC5hcHBseShzLmlucHV0P3MuaW5wdXRbMF06bnVsbCxbcy5pbnB1dD9zLmlucHV0LnZhbCgpOiIiLHNdKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCx0aGlzLl9pbkRpYWxvZyYmKHRoaXMuX2RpYWxvZ0lucHV0LmNzcyh7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OiIwIix0b3A6Ii0xMDBweCJ9KSxWLmJsb2NrVUkmJihWLnVuYmxvY2tVSSgpLFYoImJvZHkiKS5hcHBlbmQodGhpcy5kcERpdikpKSx0aGlzLl9pbkRpYWxvZz0hMSl9LF90aWR5RGlhbG9nOmZ1bmN0aW9uKHQpe3QuZHBEaXYucmVtb3ZlQ2xhc3ModGhpcy5fZGlhbG9nQ2xhc3MpLm9mZigiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIiKX0sX2NoZWNrRXh0ZXJuYWxDbGljazpmdW5jdGlvbih0KXt2YXIgZTtWLmRhdGVwaWNrZXIuX2N1ckluc3QmJihlPVYodC50YXJnZXQpLHQ9Vi5kYXRlcGlja2VyLl9nZXRJbnN0KGVbMF0pLChlWzBdLmlkPT09Vi5kYXRlcGlja2VyLl9tYWluRGl2SWR8fDAhPT1lLnBhcmVudHMoIiMiK1YuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGh8fGUuaGFzQ2xhc3MoVi5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSl8fGUuY2xvc2VzdCgiLiIrVi5kYXRlcGlja2VyLl90cmlnZ2VyQ2xhc3MpLmxlbmd0aHx8IVYuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmd8fFYuZGF0ZXBpY2tlci5faW5EaWFsb2cmJlYuYmxvY2tVSSkmJighZS5oYXNDbGFzcyhWLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8Vi5kYXRlcGlja2VyLl9jdXJJbnN0PT09dCl8fFYuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSl9LF9hZGp1c3REYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1WKHQpLHQ9dGhpcy5fZ2V0SW5zdChzWzBdKTt0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihzWzBdKXx8KHRoaXMuX2FkanVzdEluc3REYXRlKHQsZSxpKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKHQpKX0sX2dvdG9Ub2RheTpmdW5jdGlvbih0KXt2YXIgZT1WKHQpLGk9dGhpcy5fZ2V0SW5zdChlWzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToodD1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXQuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD10LmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj10LmdldEZ1bGxZZWFyKCkpLHRoaXMuX25vdGlmeUNoYW5nZShpKSx0aGlzLl9hZGp1c3REYXRlKGUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1WKHQpLHQ9dGhpcy5fZ2V0SW5zdChzWzBdKTt0WyJzZWxlY3RlZCIrKCJNIj09PWk/Ik1vbnRoIjoiWWVhciIpXT10WyJkcmF3IisoIk0iPT09aT8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGUub3B0aW9uc1tlLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKSx0aGlzLl9ub3RpZnlDaGFuZ2UodCksdGhpcy5fYWRqdXN0RGF0ZShzKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj1WKHQpO1YocykuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpfHx0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihuWzBdKXx8KChuPXRoaXMuX2dldEluc3QoblswXSkpLnNlbGVjdGVkRGF5PW4uY3VycmVudERheT1wYXJzZUludChWKCJhIixzKS5hdHRyKCJkYXRhLWRhdGUiKSksbi5zZWxlY3RlZE1vbnRoPW4uY3VycmVudE1vbnRoPWUsbi5zZWxlY3RlZFllYXI9bi5jdXJyZW50WWVhcj1pLHRoaXMuX3NlbGVjdERhdGUodCx0aGlzLl9mb3JtYXREYXRlKG4sbi5jdXJyZW50RGF5LG4uY3VycmVudE1vbnRoLG4uY3VycmVudFllYXIpKSl9LF9jbGVhckRhdGU6ZnVuY3Rpb24odCl7dD1WKHQpO3RoaXMuX3NlbGVjdERhdGUodCwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9Vih0KSx0PXRoaXMuX2dldEluc3QoaVswXSk7ZT1udWxsIT1lP2U6dGhpcy5fZm9ybWF0RGF0ZSh0KSx0LmlucHV0JiZ0LmlucHV0LnZhbChlKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUodCksKGk9dGhpcy5fZ2V0KHQsIm9uU2VsZWN0IikpP2kuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW2UsdF0pOnQuaW5wdXQmJnQuaW5wdXQudHJpZ2dlcigiY2hhbmdlIiksdC5pbmxpbmU/dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih0KToodGhpcy5faGlkZURhdGVwaWNrZXIoKSx0aGlzLl9sYXN0SW5wdXQ9dC5pbnB1dFswXSwib2JqZWN0IiE9dHlwZW9mIHQuaW5wdXRbMF0mJnQuaW5wdXQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCl9LF91cGRhdGVBbHRlcm5hdGU6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMuX2dldCh0LCJhbHRGaWVsZCIpO3MmJihlPXRoaXMuX2dldCh0LCJhbHRGb3JtYXQiKXx8dGhpcy5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpPXRoaXMuX2dldERhdGUodCksdD10aGlzLmZvcm1hdERhdGUoZSxpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSksVihkb2N1bWVudCkuZmluZChzKS52YWwodCkpfSxub1dlZWtlbmRzOmZ1bmN0aW9uKHQpe3Q9dC5nZXREYXkoKTtyZXR1cm5bMDx0JiZ0PDYsIiJdfSxpc284NjAxV2VlazpmdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZSh0LmdldFRpbWUoKSk7cmV0dXJuIGUuc2V0RGF0ZShlLmdldERhdGUoKSs0LShlLmdldERheSgpfHw3KSksdD1lLmdldFRpbWUoKSxlLnNldE1vbnRoKDApLGUuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKHQtZSkvODY0ZTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbihlLG4sdCl7aWYobnVsbD09ZXx8bnVsbD09bil0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7aWYoIiI9PT0obj0ib2JqZWN0Ij09dHlwZW9mIG4/bi50b1N0cmluZygpOm4rIiIpKXJldHVybiBudWxsO2Zvcih2YXIgaSxzLG8sYT0wLHI9KHQ/dC5zaG9ydFllYXJDdXRvZmY6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixyPSJzdHJpbmciIT10eXBlb2Ygcj9yOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQociwxMCksbD0odD90LmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsaD0odD90LmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxjPSh0P3QubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQsdT0odD90Lm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsZD0tMSxwPS0xLGY9LTEsZz0tMSxtPSExLF89ZnVuY3Rpb24odCl7dD13KzE8ZS5sZW5ndGgmJmUuY2hhckF0KHcrMSk9PT10O3JldHVybiB0JiZ3KyssdH0sdj1mdW5jdGlvbih0KXt2YXIgZT1fKHQpLGU9IkAiPT09dD8xNDoiISI9PT10PzIwOiJ5Ij09PXQmJmU/NDoibyI9PT10PzM6MixlPW5ldyBSZWdFeHAoIl5cXGR7IisoInkiPT09dD9lOjEpKyIsIitlKyJ9IiksZT1uLnN1YnN0cmluZyhhKS5tYXRjaChlKTtpZighZSl0aHJvdyJNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiAiK2E7cmV0dXJuIGErPWVbMF0ubGVuZ3RoLHBhcnNlSW50KGVbMF0sMTApfSxiPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0tMSxlPVYubWFwKF8odCk/aTplLGZ1bmN0aW9uKHQsZSl7cmV0dXJuW1tlLHRdXX0pLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4tKHRbMV0ubGVuZ3RoLWVbMV0ubGVuZ3RoKX0pO2lmKFYuZWFjaChlLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZVsxXTtpZihuLnN1YnN0cihhLGkubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09aS50b0xvd2VyQ2FzZSgpKXJldHVybiBzPWVbMF0sYSs9aS5sZW5ndGgsITF9KSwtMSE9PXMpcmV0dXJuIHMrMTt0aHJvdyJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gIithfSx5PWZ1bmN0aW9uKCl7aWYobi5jaGFyQXQoYSkhPT1lLmNoYXJBdCh3KSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIithO2ErK30sdz0wO3c8ZS5sZW5ndGg7dysrKWlmKG0pIiciIT09ZS5jaGFyQXQodyl8fF8oIiciKT95KCk6bT0hMTtlbHNlIHN3aXRjaChlLmNoYXJBdCh3KSl7Y2FzZSJkIjpmPXYoImQiKTticmVhaztjYXNlIkQiOmIoIkQiLGwsaCk7YnJlYWs7Y2FzZSJvIjpnPXYoIm8iKTticmVhaztjYXNlIm0iOnA9digibSIpO2JyZWFrO2Nhc2UiTSI6cD1iKCJNIixjLHUpO2JyZWFrO2Nhc2UieSI6ZD12KCJ5Iik7YnJlYWs7Y2FzZSJAIjpkPShvPW5ldyBEYXRlKHYoIkAiKSkpLmdldEZ1bGxZZWFyKCkscD1vLmdldE1vbnRoKCkrMSxmPW8uZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiISI6ZD0obz1uZXcgRGF0ZSgodigiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpKS5nZXRGdWxsWWVhcigpLHA9by5nZXRNb250aCgpKzEsZj1vLmdldERhdGUoKTticmVhaztjYXNlIiciOl8oIiciKT95KCk6bT0hMDticmVhaztkZWZhdWx0OnkoKX1pZihhPG4ubGVuZ3RoJiYocz1uLnN1YnN0cihhKSwhL15ccysvLnRlc3QocykpKXRocm93IkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogIitzO2lmKC0xPT09ZD9kPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTpkPDEwMCYmKGQrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhkPD1yPzA6LTEwMCkpLC0xPGcpZm9yKHA9MSxmPWc7Oyl7aWYoZjw9KGk9dGhpcy5fZ2V0RGF5c0luTW9udGgoZCxwLTEpKSlicmVhaztwKyssZi09aX1pZigobz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkLHAtMSxmKSkpLmdldEZ1bGxZZWFyKCkhPT1kfHxvLmdldE1vbnRoKCkrMSE9PXB8fG8uZ2V0RGF0ZSgpIT09Zil0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiBvfSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDoyNCooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpKjYwKjYwKjFlNyxmb3JtYXREYXRlOmZ1bmN0aW9uKGUsdCxpKXtpZighdClyZXR1cm4iIjtmdW5jdGlvbiBzKHQsZSxpKXt2YXIgcz0iIitlO2lmKGModCkpZm9yKDtzLmxlbmd0aDxpOylzPSIwIitzO3JldHVybiBzfWZ1bmN0aW9uIG4odCxlLGkscyl7cmV0dXJuKGModCk/czppKVtlXX12YXIgbyxhPShpP2kuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxyPShpP2kuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLGw9KGk/aS5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxoPShpP2kubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxjPWZ1bmN0aW9uKHQpe3Q9bysxPGUubGVuZ3RoJiZlLmNoYXJBdChvKzEpPT09dDtyZXR1cm4gdCYmbysrLHR9LHU9IiIsZD0hMTtpZih0KWZvcihvPTA7bzxlLmxlbmd0aDtvKyspaWYoZCkiJyIhPT1lLmNoYXJBdChvKXx8YygiJyIpP3UrPWUuY2hhckF0KG8pOmQ9ITE7ZWxzZSBzd2l0Y2goZS5jaGFyQXQobykpe2Nhc2UiZCI6dSs9cygiZCIsdC5nZXREYXRlKCksMik7YnJlYWs7Y2FzZSJEIjp1Kz1uKCJEIix0LmdldERheSgpLGEscik7YnJlYWs7Y2FzZSJvIjp1Kz1zKCJvIixNYXRoLnJvdW5kKChuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpLHQuZ2V0RGF0ZSgpKS5nZXRUaW1lKCktbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsMCkuZ2V0VGltZSgpKS84NjRlNSksMyk7YnJlYWs7Y2FzZSJtIjp1Kz1zKCJtIix0LmdldE1vbnRoKCkrMSwyKTticmVhaztjYXNlIk0iOnUrPW4oIk0iLHQuZ2V0TW9udGgoKSxsLGgpO2JyZWFrO2Nhc2UieSI6dSs9YygieSIpP3QuZ2V0RnVsbFllYXIoKToodC5nZXRGdWxsWWVhcigpJTEwMDwxMD8iMCI6IiIpK3QuZ2V0RnVsbFllYXIoKSUxMDA7YnJlYWs7Y2FzZSJAIjp1Kz10LmdldFRpbWUoKTticmVhaztjYXNlIiEiOnUrPTFlNCp0LmdldFRpbWUoKSt0aGlzLl90aWNrc1RvMTk3MDticmVhaztjYXNlIiciOmMoIiciKT91Kz0iJyI6ZD0hMDticmVhaztkZWZhdWx0OnUrPWUuY2hhckF0KG8pfXJldHVybiB1fSxfcG9zc2libGVDaGFyczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIsaT0hMSxzPWZ1bmN0aW9uKHQpe3Q9bisxPGUubGVuZ3RoJiZlLmNoYXJBdChuKzEpPT09dDtyZXR1cm4gdCYmbisrLHR9LG49MDtuPGUubGVuZ3RoO24rKylpZihpKSInIiE9PWUuY2hhckF0KG4pfHxzKCInIik/dCs9ZS5jaGFyQXQobik6aT0hMTtlbHNlIHN3aXRjaChlLmNoYXJBdChuKSl7Y2FzZSJkIjpjYXNlIm0iOmNhc2UieSI6Y2FzZSJAIjp0Kz0iMDEyMzQ1Njc4OSI7YnJlYWs7Y2FzZSJEIjpjYXNlIk0iOnJldHVybiBudWxsO2Nhc2UiJyI6cygiJyIpP3QrPSInIjppPSEwO2JyZWFrO2RlZmF1bHQ6dCs9ZS5jaGFyQXQobil9cmV0dXJuIHR9LF9nZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4odm9pZCAwIT09dC5zZXR0aW5nc1tlXT90LnNldHRpbmdzOnRoaXMuX2RlZmF1bHRzKVtlXX0sX3NldERhdGVGcm9tRmllbGQ6ZnVuY3Rpb24odCxlKXtpZih0LmlucHV0LnZhbCgpIT09dC5sYXN0VmFsKXt2YXIgaT10aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHM9dC5sYXN0VmFsPXQuaW5wdXQ/dC5pbnB1dC52YWwoKTpudWxsLG49dGhpcy5fZ2V0RGVmYXVsdERhdGUodCksbz1uLGE9dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpO3RyeXtvPXRoaXMucGFyc2VEYXRlKGkscyxhKXx8bn1jYXRjaCh0KXtzPWU/IiI6c310LnNlbGVjdGVkRGF5PW8uZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD1vLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj1vLmdldEZ1bGxZZWFyKCksdC5jdXJyZW50RGF5PXM/by5nZXREYXRlKCk6MCx0LmN1cnJlbnRNb250aD1zP28uZ2V0TW9udGgoKTowLHQuY3VycmVudFllYXI9cz9vLmdldEZ1bGxZZWFyKCk6MCx0aGlzLl9hZGp1c3RJbnN0RGF0ZSh0KX19LF9nZXREZWZhdWx0RGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kZXRlcm1pbmVEYXRlKHQsdGhpcy5fZ2V0KHQsImRlZmF1bHREYXRlIiksbmV3IERhdGUpKX0sX2RldGVybWluZURhdGU6ZnVuY3Rpb24ocix0LGUpe3ZhciBpLHMsdD1udWxsPT10fHwiIj09PXQ/ZToic3RyaW5nIj09dHlwZW9mIHQ/ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBWLmRhdGVwaWNrZXIucGFyc2VEYXRlKFYuZGF0ZXBpY2tlci5fZ2V0KHIsImRhdGVGb3JtYXQiKSx0LFYuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHIpKX1jYXRjaCh0KXt9Zm9yKHZhciBlPSh0LnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/Vi5kYXRlcGlja2VyLl9nZXREYXRlKHIpOm51bGwpfHxuZXcgRGF0ZSxpPWUuZ2V0RnVsbFllYXIoKSxzPWUuZ2V0TW9udGgoKSxuPWUuZ2V0RGF0ZSgpLG89LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csYT1vLmV4ZWModCk7YTspe3N3aXRjaChhWzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpuKz1wYXJzZUludChhWzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6bis9NypwYXJzZUludChhWzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6cys9cGFyc2VJbnQoYVsxXSwxMCksbj1NYXRoLm1pbihuLFYuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoaSxzKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmkrPXBhcnNlSW50KGFbMV0sMTApLG49TWF0aC5taW4obixWLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGkscykpfWE9by5leGVjKHQpfXJldHVybiBuZXcgRGF0ZShpLHMsbil9KHQpOiJudW1iZXIiPT10eXBlb2YgdD9pc05hTih0KT9lOihpPXQsKHM9bmV3IERhdGUpLnNldERhdGUocy5nZXREYXRlKCkraSkscyk6bmV3IERhdGUodC5nZXRUaW1lKCkpO3JldHVybih0PXQmJiJJbnZhbGlkIERhdGUiPT09dC50b1N0cmluZygpP2U6dCkmJih0LnNldEhvdXJzKDApLHQuc2V0TWludXRlcygwKSx0LnNldFNlY29uZHMoMCksdC5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHQpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHQuc2V0SG91cnMoMTI8dC5nZXRIb3VycygpP3QuZ2V0SG91cnMoKSsyOjApLHQpOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0hZSxuPXQuc2VsZWN0ZWRNb250aCxvPXQuc2VsZWN0ZWRZZWFyLGU9dGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kZXRlcm1pbmVEYXRlKHQsZSxuZXcgRGF0ZSkpO3Quc2VsZWN0ZWREYXk9dC5jdXJyZW50RGF5PWUuZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD10LmN1cnJlbnRNb250aD1lLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj10LmN1cnJlbnRZZWFyPWUuZ2V0RnVsbFllYXIoKSxuPT09dC5zZWxlY3RlZE1vbnRoJiZvPT09dC5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZSh0KSx0aGlzLl9hZGp1c3RJbnN0RGF0ZSh0KSx0LmlucHV0JiZ0LmlucHV0LnZhbChzPyIiOnRoaXMuX2Zvcm1hdERhdGUodCkpfSxfZ2V0RGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4hdC5jdXJyZW50WWVhcnx8dC5pbnB1dCYmIiI9PT10LmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIiksaT0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7Vi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGksLWUsIk0iKX0sbmV4dDpmdW5jdGlvbigpe1YuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLCtlLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtWLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7Vi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaSl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBWLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIFYuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIFYuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiWSIpLCExfX07Vih0aGlzKS5vbih0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvLGEscixsLGgsYyx1LGQscCxmLGcsbSxfLHYsYix5LHcseCxrLEMsRCxJLFQsUCxNLFMsSCx6LEE9bmV3IERhdGUsTz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShBLmdldEZ1bGxZZWFyKCksQS5nZXRNb250aCgpLEEuZ2V0RGF0ZSgpKSksTj10aGlzLl9nZXQodCwiaXNSVEwiKSxFPXRoaXMuX2dldCh0LCJzaG93QnV0dG9uUGFuZWwiKSxXPXRoaXMuX2dldCh0LCJoaWRlSWZOb1ByZXZOZXh0IiksRj10aGlzLl9nZXQodCwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCIpLEw9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksUj10aGlzLl9nZXQodCwic2hvd0N1cnJlbnRBdFBvcyIpLEE9dGhpcy5fZ2V0KHQsInN0ZXBNb250aHMiKSxZPTEhPT1MWzBdfHwxIT09TFsxXSxCPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHQuY3VycmVudERheT9uZXcgRGF0ZSh0LmN1cnJlbnRZZWFyLHQuY3VycmVudE1vbnRoLHQuY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSxqPXRoaXMuX2dldE1pbk1heERhdGUodCwibWluIikscT10aGlzLl9nZXRNaW5NYXhEYXRlKHQsIm1heCIpLEs9dC5kcmF3TW9udGgtUixVPXQuZHJhd1llYXI7aWYoSzwwJiYoSys9MTIsVS0tKSxxKWZvcihlPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHEuZ2V0RnVsbFllYXIoKSxxLmdldE1vbnRoKCktTFswXSpMWzFdKzEscS5nZXREYXRlKCkpKSxlPWomJmU8aj9qOmU7dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLLDEpKT5lOyktLUs8MCYmKEs9MTEsVS0tKTtmb3IodC5kcmF3TW9udGg9Syx0LmRyYXdZZWFyPVUsUj10aGlzLl9nZXQodCwicHJldlRleHQiKSxSPUY/dGhpcy5mb3JtYXREYXRlKFIsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLLUEsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6UixpPXRoaXMuX2NhbkFkanVzdE1vbnRoKHQsLTEsVSxLKT9WKCI8YT4iKS5hdHRyKHtjbGFzczoidWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwiLCJkYXRhLWhhbmRsZXIiOiJwcmV2IiwiZGF0YS1ldmVudCI6ImNsaWNrIix0aXRsZTpSfSkuYXBwZW5kKFYoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKE4/ImUiOiJ3IikpLnRleHQoUikpWzBdLm91dGVySFRNTDpXPyIiOlYoIjxhPiIpLmF0dHIoe2NsYXNzOiJ1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCIsdGl0bGU6Un0pLmFwcGVuZChWKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhOPyJlIjoidyIpKS50ZXh0KFIpKVswXS5vdXRlckhUTUwsUj10aGlzLl9nZXQodCwibmV4dFRleHQiKSxSPUY/dGhpcy5mb3JtYXREYXRlKFIsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLK0EsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6UixzPXRoaXMuX2NhbkFkanVzdE1vbnRoKHQsMSxVLEspP1YoIjxhPiIpLmF0dHIoe2NsYXNzOiJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCIsImRhdGEtaGFuZGxlciI6Im5leHQiLCJkYXRhLWV2ZW50IjoiY2xpY2siLHRpdGxlOlJ9KS5hcHBlbmQoVigiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisoTj8idyI6ImUiKSkudGV4dChSKSlbMF0ub3V0ZXJIVE1MOlc/IiI6VigiPGE+IikuYXR0cih7Y2xhc3M6InVpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkIix0aXRsZTpSfSkuYXBwZW5kKFYoIjxzcGFuPiIpLmF0dHIoImNsYXNzIiwidWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhOPyJ3IjoiZSIpKS50ZXh0KFIpKVswXS5vdXRlckhUTUwsQT10aGlzLl9nZXQodCwiY3VycmVudFRleHQiKSxXPXRoaXMuX2dldCh0LCJnb3RvQ3VycmVudCIpJiZ0LmN1cnJlbnREYXk/QjpPLEE9Rj90aGlzLmZvcm1hdERhdGUoQSxXLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6QSxSPSIiLHQuaW5saW5lfHwoUj1WKCI8YnV0dG9uPiIpLmF0dHIoe3R5cGU6ImJ1dHRvbiIsY2xhc3M6InVpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwiLCJkYXRhLWhhbmRsZXIiOiJoaWRlIiwiZGF0YS1ldmVudCI6ImNsaWNrIn0pLnRleHQodGhpcy5fZ2V0KHQsImNsb3NlVGV4dCIpKVswXS5vdXRlckhUTUwpLEY9IiIsRSYmKEY9VigiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKS5hcHBlbmQoTj9SOiIiKS5hcHBlbmQodGhpcy5faXNJblJhbmdlKHQsVyk/VigiPGJ1dHRvbj4iKS5hdHRyKHt0eXBlOiJidXR0b24iLGNsYXNzOiJ1aS1kYXRlcGlja2VyLWN1cnJlbnQgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1zZWNvbmRhcnkgdWktY29ybmVyLWFsbCIsImRhdGEtaGFuZGxlciI6InRvZGF5IiwiZGF0YS1ldmVudCI6ImNsaWNrIn0pLnRleHQoQSk6IiIpLmFwcGVuZChOPyIiOlIpWzBdLm91dGVySFRNTCksbj1wYXJzZUludCh0aGlzLl9nZXQodCwiZmlyc3REYXkiKSwxMCksbj1pc05hTihuKT8wOm4sbz10aGlzLl9nZXQodCwic2hvd1dlZWsiKSxhPXRoaXMuX2dldCh0LCJkYXlOYW1lcyIpLHI9dGhpcy5fZ2V0KHQsImRheU5hbWVzTWluIiksbD10aGlzLl9nZXQodCwibW9udGhOYW1lcyIpLGg9dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXNTaG9ydCIpLGM9dGhpcy5fZ2V0KHQsImJlZm9yZVNob3dEYXkiKSx1PXRoaXMuX2dldCh0LCJzaG93T3RoZXJNb250aHMiKSxkPXRoaXMuX2dldCh0LCJzZWxlY3RPdGhlck1vbnRocyIpLHA9dGhpcy5fZ2V0RGVmYXVsdERhdGUodCksZj0iIixtPTA7bTxMWzBdO20rKyl7Zm9yKF89IiIsdGhpcy5tYXhSb3dzPTQsdj0wO3Y8TFsxXTt2Kyspe2lmKGI9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoVSxLLHQuc2VsZWN0ZWREYXkpKSx5PSIgdWktY29ybmVyLWFsbCIsdz0iIixZKXtpZih3Kz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1ncm91cCIsMTxMWzFdKXN3aXRjaCh2KXtjYXNlIDA6dys9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWZpcnN0Iix5PSIgdWktY29ybmVyLSIrKE4/InJpZ2h0IjoibGVmdCIpO2JyZWFrO2Nhc2UgTFsxXS0xOncrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0Iix5PSIgdWktY29ybmVyLSIrKE4/ImxlZnQiOiJyaWdodCIpO2JyZWFrO2RlZmF1bHQ6dys9IiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSIseT0iIn13Kz0iJz4ifWZvcih3Kz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgiK3krIic+IisoL2FsbHxsZWZ0Ly50ZXN0KHkpJiYwPT09bT9OP3M6aToiIikrKC9hbGx8cmlnaHQvLnRlc3QoeSkmJjA9PT1tP04/aTpzOiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcih0LEssVSxqLHEsMDxtfHwwPHYsbCxoKSsiPC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIseD1vPyI8dGggY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPiIrdGhpcy5fZ2V0KHQsIndlZWtIZWFkZXIiKSsiPC90aD4iOiIiLGc9MDtnPDc7ZysrKXgrPSI8dGggc2NvcGU9J2NvbCciKyg1PD0oZytuKzYpJTc/IiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCciOiIiKSsiPjxzcGFuIHRpdGxlPSciK2Fbaz0oZytuKSU3XSsiJz4iK3Jba10rIjwvc3Bhbj48L3RoPiI7Zm9yKHcrPXgrIjwvdHI+PC90aGVhZD48dGJvZHk+IixEPXRoaXMuX2dldERheXNJbk1vbnRoKFUsSyksVT09PXQuc2VsZWN0ZWRZZWFyJiZLPT09dC5zZWxlY3RlZE1vbnRoJiYodC5zZWxlY3RlZERheT1NYXRoLm1pbih0LnNlbGVjdGVkRGF5LEQpKSxDPSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgoVSxLKS1uKzcpJTcsRD1NYXRoLmNlaWwoKEMrRCkvNyksST1ZJiZ0aGlzLm1heFJvd3M+RD90aGlzLm1heFJvd3M6RCx0aGlzLm1heFJvd3M9SSxUPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKFUsSywxLUMpKSxQPTA7UDxJO1ArKyl7Zm9yKHcrPSI8dHI+IixNPW8/Ijx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQodCwiY2FsY3VsYXRlV2VlayIpKFQpKyI8L3RkPiI6IiIsZz0wO2c8NztnKyspUz1jP2MuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW1RdKTpbITAsIiJdLHo9KEg9VC5nZXRNb250aCgpIT09SykmJiFkfHwhU1swXXx8aiYmVDxqfHxxJiZxPFQsTSs9Ijx0ZCBjbGFzcz0nIisoNTw9KGcrbis2KSU3PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhIPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhULmdldFRpbWUoKT09PWIuZ2V0VGltZSgpJiZLPT09dC5zZWxlY3RlZE1vbnRoJiZ0Ll9rZXlFdmVudHx8cC5nZXRUaW1lKCk9PT1ULmdldFRpbWUoKSYmcC5nZXRUaW1lKCk9PT1iLmdldFRpbWUoKT8iICIrdGhpcy5fZGF5T3ZlckNsYXNzOiIiKSsoej8iICIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrIiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhIJiYhdT8iIjoiICIrU1sxXSsoVC5nZXRUaW1lKCk9PT1CLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoVC5nZXRUaW1lKCk9PT1PLmdldFRpbWUoKT8iIHVpLWRhdGVwaWNrZXItdG9kYXkiOiIiKSkrIiciKyhIJiYhdXx8IVNbMl0/IiI6IiB0aXRsZT0nIitTWzJdLnJlcGxhY2UoLycvZywiJiMzOTsiKSsiJyIpKyh6PyIiOiIgZGF0YS1oYW5kbGVyPSdzZWxlY3REYXknIGRhdGEtZXZlbnQ9J2NsaWNrJyBkYXRhLW1vbnRoPSciK1QuZ2V0TW9udGgoKSsiJyBkYXRhLXllYXI9JyIrVC5nZXRGdWxsWWVhcigpKyInIikrIj4iKyhIJiYhdT8iJiN4YTA7Ijp6PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitULmdldERhdGUoKSsiPC9zcGFuPiI6IjxhIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0IisoVC5nZXRUaW1lKCk9PT1PLmdldFRpbWUoKT8iIHVpLXN0YXRlLWhpZ2hsaWdodCI6IiIpKyhULmdldFRpbWUoKT09PUIuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKEg/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJyBhcmlhLWN1cnJlbnQ9JyIrKFQuZ2V0VGltZSgpPT09Qi5nZXRUaW1lKCk/InRydWUiOiJmYWxzZSIpKyInIGRhdGEtZGF0ZT0nIitULmdldERhdGUoKSsiJz4iK1QuZ2V0RGF0ZSgpKyI8L2E+IikrIjwvdGQ+IixULnNldERhdGUoVC5nZXREYXRlKCkrMSksVD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChUKTt3Kz1NKyI8L3RyPiJ9MTE8KytLJiYoSz0wLFUrKyksXys9dys9IjwvdGJvZHk+PC90YWJsZT4iKyhZPyI8L2Rpdj4iKygwPExbMF0mJnY9PT1MWzFdLTE/IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItcm93LWJyZWFrJz48L2Rpdj4iOiIiKToiIil9Zis9X31yZXR1cm4gZis9Rix0Ll9rZXlFdmVudD0hMSxmfSxfZ2VuZXJhdGVNb250aFllYXJIZWFkZXI6ZnVuY3Rpb24odCxlLGkscyxuLG8sYSxyKXt2YXIgbCxoLGMsdSxkLHAsZj10aGlzLl9nZXQodCwiY2hhbmdlTW9udGgiKSxnPXRoaXMuX2dldCh0LCJjaGFuZ2VZZWFyIiksbT10aGlzLl9nZXQodCwic2hvd01vbnRoQWZ0ZXJZZWFyIiksXz10aGlzLl9nZXQodCwic2VsZWN0TW9udGhMYWJlbCIpLHY9dGhpcy5fZ2V0KHQsInNlbGVjdFllYXJMYWJlbCIpLGI9IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItdGl0bGUnPiIseT0iIjtpZihvfHwhZil5Kz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXItbW9udGgnPiIrYVtlXSsiPC9zcGFuPiI7ZWxzZXtmb3IobD1zJiZzLmdldEZ1bGxZZWFyKCk9PT1pLGg9biYmbi5nZXRGdWxsWWVhcigpPT09aSx5Kz0iPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCcgYXJpYS1sYWJlbD0nIitfKyInIGRhdGEtaGFuZGxlcj0nc2VsZWN0TW9udGgnIGRhdGEtZXZlbnQ9J2NoYW5nZSc+IixjPTA7YzwxMjtjKyspKCFsfHxjPj1zLmdldE1vbnRoKCkpJiYoIWh8fGM8PW4uZ2V0TW9udGgoKSkmJih5Kz0iPG9wdGlvbiB2YWx1ZT0nIitjKyInIisoYz09PWU/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK3JbY10rIjwvb3B0aW9uPiIpO3krPSI8L3NlbGVjdD4ifWlmKG18fChiKz15KyghbyYmZiYmZz8iIjoiJiN4YTA7IikpLCF0LnllYXJzaHRtbClpZih0LnllYXJzaHRtbD0iIixvfHwhZyliKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+IitpKyI8L3NwYW4+IjtlbHNle2ZvcihhPXRoaXMuX2dldCh0LCJ5ZWFyUmFuZ2UiKS5zcGxpdCgiOiIpLHU9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLGQ9KF89ZnVuY3Rpb24odCl7dD10Lm1hdGNoKC9jWytcLV0uKi8pP2krcGFyc2VJbnQodC5zdWJzdHJpbmcoMSksMTApOnQubWF0Y2goL1srXC1dLiovKT91K3BhcnNlSW50KHQsMTApOnBhcnNlSW50KHQsMTApO3JldHVybiBpc05hTih0KT91OnR9KShhWzBdKSxwPU1hdGgubWF4KGQsXyhhWzFdfHwiIikpLGQ9cz9NYXRoLm1heChkLHMuZ2V0RnVsbFllYXIoKSk6ZCxwPW4/TWF0aC5taW4ocCxuLmdldEZ1bGxZZWFyKCkpOnAsdC55ZWFyc2h0bWwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInIGFyaWEtbGFiZWw9JyIrdisiJyBkYXRhLWhhbmRsZXI9J3NlbGVjdFllYXInIGRhdGEtZXZlbnQ9J2NoYW5nZSc+IjtkPD1wO2QrKyl0LnllYXJzaHRtbCs9IjxvcHRpb24gdmFsdWU9JyIrZCsiJyIrKGQ9PT1pPyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitkKyI8L29wdGlvbj4iO3QueWVhcnNodG1sKz0iPC9zZWxlY3Q+IixiKz10LnllYXJzaHRtbCx0LnllYXJzaHRtbD1udWxsfXJldHVybiBiKz10aGlzLl9nZXQodCwieWVhclN1ZmZpeCIpLG0mJihiKz0oIW8mJmYmJmc/IiI6IiYjeGEwOyIpK3kpLGIrPSI8L2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuc2VsZWN0ZWRZZWFyKygiWSI9PT1pP2U6MCksbj10LnNlbGVjdGVkTW9udGgrKCJNIj09PWk/ZTowKSxlPU1hdGgubWluKHQuc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgocyxuKSkrKCJEIj09PWk/ZTowKSxlPXRoaXMuX3Jlc3RyaWN0TWluTWF4KHQsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocyxuLGUpKSk7dC5zZWxlY3RlZERheT1lLmdldERhdGUoKSx0LmRyYXdNb250aD10LnNlbGVjdGVkTW9udGg9ZS5nZXRNb250aCgpLHQuZHJhd1llYXI9dC5zZWxlY3RlZFllYXI9ZS5nZXRGdWxsWWVhcigpLCJNIiE9PWkmJiJZIiE9PWl8fHRoaXMuX25vdGlmeUNoYW5nZSh0KX0sX3Jlc3RyaWN0TWluTWF4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtaW4iKSx0PXRoaXMuX2dldE1pbk1heERhdGUodCwibWF4IiksZT1pJiZlPGk/aTplO3JldHVybiB0JiZ0PGU/dDplfSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldCh0LCJvbkNoYW5nZU1vbnRoWWVhciIpO2UmJmUuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW3Quc2VsZWN0ZWRZZWFyLHQuc2VsZWN0ZWRNb250aCsxLHRdKX0sX2dldE51bWJlck9mTW9udGhzOmZ1bmN0aW9uKHQpe3Q9dGhpcy5fZ2V0KHQsIm51bWJlck9mTW9udGhzIik7cmV0dXJuIG51bGw9PXQ/WzEsMV06Im51bWJlciI9PXR5cGVvZiB0P1sxLHRdOnR9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUodCx0aGlzLl9nZXQodCxlKyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbih0LGUpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0LGUsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IERhdGUodCxlLDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksbj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHMrKGU8MD9lOm5bMF0qblsxXSksMSkpO3JldHVybiBlPDAmJm4uc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aChuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKHQsbil9LF9pc0luUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKHQsIm1pbiIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtYXgiKSxuPW51bGwsbz1udWxsLGE9dGhpcy5fZ2V0KHQsInllYXJSYW5nZSIpO3JldHVybiBhJiYodD1hLnNwbGl0KCI6IiksYT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksbj1wYXJzZUludCh0WzBdLDEwKSxvPXBhcnNlSW50KHRbMV0sMTApLHRbMF0ubWF0Y2goL1srXC1dLiovKSYmKG4rPWEpLHRbMV0ubWF0Y2goL1srXC1dLiovKSYmKG8rPWEpKSwoIWl8fGUuZ2V0VGltZSgpPj1pLmdldFRpbWUoKSkmJighc3x8ZS5nZXRUaW1lKCk8PXMuZ2V0VGltZSgpKSYmKCFufHxlLmdldEZ1bGxZZWFyKCk+PW4pJiYoIW98fGUuZ2V0RnVsbFllYXIoKTw9byl9LF9nZXRGb3JtYXRDb25maWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0KHQsInNob3J0WWVhckN1dG9mZiIpO3JldHVybntzaG9ydFllYXJDdXRvZmY6ZT0ic3RyaW5nIiE9dHlwZW9mIGU/ZToobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KGUsMTApLGRheU5hbWVzU2hvcnQ6dGhpcy5fZ2V0KHQsImRheU5hbWVzU2hvcnQiKSxkYXlOYW1lczp0aGlzLl9nZXQodCwiZGF5TmFtZXMiKSxtb250aE5hbWVzU2hvcnQ6dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXNTaG9ydCIpLG1vbnRoTmFtZXM6dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXMiKX19LF9mb3JtYXREYXRlOmZ1bmN0aW9uKHQsZSxpLHMpe2V8fCh0LmN1cnJlbnREYXk9dC5zZWxlY3RlZERheSx0LmN1cnJlbnRNb250aD10LnNlbGVjdGVkTW9udGgsdC5jdXJyZW50WWVhcj10LnNlbGVjdGVkWWVhcik7ZT1lPyJvYmplY3QiPT10eXBlb2YgZT9lOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHMsaSxlKSk6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKTtyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0IiksZSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpfX0pLFYuZm4uZGF0ZXBpY2tlcj1mdW5jdGlvbih0KXtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7Vi5kYXRlcGlja2VyLmluaXRpYWxpemVkfHwoVihkb2N1bWVudCkub24oIm1vdXNlZG93biIsVi5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLFYuZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMCksMD09PVYoIiMiK1YuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGgmJlYoImJvZHkiKS5hcHBlbmQoVi5kYXRlcGlja2VyLmRwRGl2KTt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYoImlzRGlzYWJsZWQiPT09dHx8ImdldERhdGUiPT09dHx8IndpZGdldCI9PT10KXx8Im9wdGlvbiI9PT10JiYyPT09YXJndW1lbnRzLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBhcmd1bWVudHNbMV0/Vi5kYXRlcGlja2VyWyJfIit0KyJEYXRlcGlja2VyIl0uYXBwbHkoVi5kYXRlcGlja2VyLFt0aGlzWzBdXS5jb25jYXQoZSkpOnRoaXMuZWFjaChmdW5jdGlvbigpeyJzdHJpbmciPT10eXBlb2YgdD9WLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShWLmRhdGVwaWNrZXIsW3RoaXNdLmNvbmNhdChlKSk6Vi5kYXRlcGlja2VyLl9hdHRhY2hEYXRlcGlja2VyKHRoaXMsdCl9KX0sVi5kYXRlcGlja2VyPW5ldyBzdCxWLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITEsVi5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksVi5kYXRlcGlja2VyLnZlcnNpb249IjEuMTMuMiI7Vi5kYXRlcGlja2VyLFYudWkuaWU9ISEvbXNpZSBbXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTt2YXIgcnQ9ITE7Vihkb2N1bWVudCkub24oIm1vdXNldXAiLGZ1bmN0aW9uKCl7cnQ9ITF9KTtWLndpZGdldCgidWkubW91c2UiLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2NhbmNlbDoiaW5wdXQsIHRleHRhcmVhLCBidXR0b24sIHNlbGVjdCwgb3B0aW9uIixkaXN0YW5jZToxLGRlbGF5OjB9LF9tb3VzZUluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZWxlbWVudC5vbigibW91c2Vkb3duLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9tb3VzZURvd24odCl9KS5vbigiY2xpY2suIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24odCl7aWYoITA9PT1WLmRhdGEodC50YXJnZXQsZS53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSlyZXR1cm4gVi5yZW1vdmVEYXRhKHQudGFyZ2V0LGUud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMX0pLHRoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi4iK3RoaXMud2lkZ2V0TmFtZSksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9mZigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFydCl7dGhpcy5fbW91c2VNb3ZlZD0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQmJnRoaXMuX21vdXNlVXAodCksdGhpcy5fbW91c2VEb3duRXZlbnQ9dDt2YXIgZT10aGlzLGk9MT09PXQud2hpY2gscz0hKCJzdHJpbmciIT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbHx8IXQudGFyZ2V0Lm5vZGVOYW1lKSYmVih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg7cmV0dXJuIGkmJiFzJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPSExIT09dGhpcy5fbW91c2VTdGFydCh0KSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1WLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmVi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuX21vdXNlTW92ZSh0KX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlLl9tb3VzZVVwKHQpfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLHJ0PSEwKSk6ITB9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX21vdXNlTW92ZWQpe2lmKFYudWkuaWUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxkb2N1bWVudC5kb2N1bWVudE1vZGU8OSkmJiF0LmJ1dHRvbilyZXR1cm4gdGhpcy5fbW91c2VVcCh0KTtpZighdC53aGljaClpZih0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5fHx0Lm9yaWdpbmFsRXZlbnQuY3RybEtleXx8dC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXl8fHQub3JpZ2luYWxFdmVudC5zaGlmdEtleSl0aGlzLmlnbm9yZU1pc3NpbmdXaGljaD0hMDtlbHNlIGlmKCF0aGlzLmlnbm9yZU1pc3NpbmdXaGljaClyZXR1cm4gdGhpcy5fbW91c2VVcCh0KX1yZXR1cm4odC53aGljaHx8dC5idXR0b24pJiYodGhpcy5fbW91c2VNb3ZlZD0hMCksdGhpcy5fbW91c2VTdGFydGVkPyh0aGlzLl9tb3VzZURyYWcodCksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fbW91c2VEaXN0YW5jZU1ldCh0KSYmdGhpcy5fbW91c2VEZWxheU1ldCh0KSYmKHRoaXMuX21vdXNlU3RhcnRlZD0hMSE9PXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCksdGhpcy5fbW91c2VTdGFydGVkP3RoaXMuX21vdXNlRHJhZyh0KTp0aGlzLl9tb3VzZVVwKHQpKSwhdGhpcy5fbW91c2VTdGFydGVkKX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7dGhpcy5kb2N1bWVudC5vZmYoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkub2ZmKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdGhpcy5fbW91c2VTdGFydGVkJiYodGhpcy5fbW91c2VTdGFydGVkPSExLHQudGFyZ2V0PT09dGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0JiZWLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiLCEwKSx0aGlzLl9tb3VzZVN0b3AodCkpLHRoaXMuX21vdXNlRGVsYXlUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9tb3VzZURlbGF5VGltZXIpLGRlbGV0ZSB0aGlzLl9tb3VzZURlbGF5VGltZXIpLHRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSExLHJ0PSExLHQucHJldmVudERlZmF1bHQoKX0sX21vdXNlRGlzdGFuY2VNZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VYLXQucGFnZVgpLE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VZLXQucGFnZVkpKT49dGhpcy5vcHRpb25zLmRpc3RhbmNlfSxfbW91c2VEZWxheU1ldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdXNlRGVsYXlNZXR9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7fSxfbW91c2VEcmFnOmZ1bmN0aW9uKCl7fSxfbW91c2VTdG9wOmZ1bmN0aW9uKCl7fSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksVi51aS5wbHVnaW49e2FkZDpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbj1WLnVpW3RdLnByb3RvdHlwZTtmb3IocyBpbiBpKW4ucGx1Z2luc1tzXT1uLnBsdWdpbnNbc118fFtdLG4ucGx1Z2luc1tzXS5wdXNoKFtlLGlbc11dKX0sY2FsbDpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbixvPXQucGx1Z2luc1tlXTtpZihvJiYoc3x8dC5lbGVtZW50WzBdLnBhcmVudE5vZGUmJjExIT09dC5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUpKWZvcihuPTA7bjxvLmxlbmd0aDtuKyspdC5vcHRpb25zW29bbl1bMF1dJiZvW25dWzFdLmFwcGx5KHQuZWxlbWVudCxpKX19LFYudWkuc2FmZUJsdXI9ZnVuY3Rpb24odCl7dCYmImJvZHkiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZWKHQpLnRyaWdnZXIoImJsdXIiKX07Vi53aWRnZXQoInVpLmRyYWdnYWJsZSIsVi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIix3aWRnZXRFdmVudFByZWZpeDoiZHJhZyIsb3B0aW9uczp7YWRkQ2xhc3NlczohMCxhcHBlbmRUbzoicGFyZW50IixheGlzOiExLGNvbm5lY3RUb1NvcnRhYmxlOiExLGNvbnRhaW5tZW50OiExLGN1cnNvcjoiYXV0byIsY3Vyc29yQXQ6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaWZyYW1lRml4OiExLG9wYWNpdHk6ITEscmVmcmVzaFBvc2l0aW9uczohMSxyZXZlcnQ6ITEscmV2ZXJ0RHVyYXRpb246NTAwLHNjb3BlOiJkZWZhdWx0IixzY3JvbGw6ITAsc2Nyb2xsU2Vuc2l0aXZpdHk6MjAsc2Nyb2xsU3BlZWQ6MjAsc25hcDohMSxzbmFwTW9kZToiYm90aCIsc25hcFRvbGVyYW5jZToyMCxzdGFjazohMSx6SW5kZXg6ITEsZHJhZzpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKSx0aGlzLm9wdGlvbnMuYWRkQ2xhc3NlcyYmdGhpcy5fYWRkQ2xhc3MoInVpLWRyYWdnYWJsZSIpLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlSW5pdCgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3VwZXIodCxlKSwiaGFuZGxlIj09PXQmJih0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7KHRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQpLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIik/dGhpcy5kZXN0cm95T25DbGVhcj0hMDoodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fbW91c2VEZXN0cm95KCkpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucztyZXR1cm4hKHRoaXMuaGVscGVyfHxlLmRpc2FibGVkfHwwPFYodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1yZXNpemFibGUtaGFuZGxlIikubGVuZ3RoKSYmKHRoaXMuaGFuZGxlPXRoaXMuX2dldEhhbmRsZSh0KSwhIXRoaXMuaGFuZGxlJiYodGhpcy5fYmx1ckFjdGl2ZUVsZW1lbnQodCksdGhpcy5fYmxvY2tGcmFtZXMoITA9PT1lLmlmcmFtZUZpeD8iaWZyYW1lIjplLmlmcmFtZUZpeCksITApKX0sX2Jsb2NrRnJhbWVzOmZ1bmN0aW9uKHQpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCh0KS5tYXAoZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO3JldHVybiBWKCI8ZGl2PiIpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLmFwcGVuZFRvKHQucGFyZW50KCkpLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSkub2Zmc2V0KHQub2Zmc2V0KCkpWzBdfSl9LF91bmJsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3MmJih0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKSxkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpfSxfYmx1ckFjdGl2ZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9Vi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKTtWKHQudGFyZ2V0KS5jbG9zZXN0KGUpLmxlbmd0aHx8Vi51aS5zYWZlQmx1cihlKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxWLnVpLmRkbWFuYWdlciYmKFYudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLmhhc0ZpeGVkQW5jZXN0b3I9MDx0aGlzLmhlbHBlci5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuImZpeGVkIj09PVYodGhpcykuY3NzKCJwb3NpdGlvbiIpfSkubGVuZ3RoLHRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX3JlZnJlc2hPZmZzZXRzKHQpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksZS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihlLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLCExPT09dGhpcy5fdHJpZ2dlcigic3RhcnQiLHQpPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLFYudWkuZGRtYW5hZ2VyJiYhZS5kcm9wQmVoYXZpb3VyJiZWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxWLnVpLmRkbWFuYWdlciYmVi51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfcmVmcmVzaE9mZnNldHM6ZnVuY3Rpb24odCl7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0LHNjcm9sbDohMSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0sdGhpcy5vZmZzZXQuY2xpY2s9e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH19LF9tb3VzZURyYWc6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhhc0ZpeGVkQW5jZXN0b3ImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFlKXtlPXRoaXMuX3VpSGFzaCgpO2lmKCExPT09dGhpcy5fdHJpZ2dlcigiZHJhZyIsdCxlKSlyZXR1cm4gdGhpcy5fbW91c2VVcChuZXcgVi5FdmVudCgibW91c2V1cCIsdCkpLCExO3RoaXMucG9zaXRpb249ZS5wb3NpdGlvbn1yZXR1cm4gdGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4Iix0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IixWLnVpLmRkbWFuYWdlciYmVi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT0hMTtyZXR1cm4gVi51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmKGk9Vi51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLHQpKSx0aGlzLmRyb3BwZWQmJihpPXRoaXMuZHJvcHBlZCx0aGlzLmRyb3BwZWQ9ITEpLCJpbnZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJiFpfHwidmFsaWQiPT09dGhpcy5vcHRpb25zLnJldmVydCYmaXx8ITA9PT10aGlzLm9wdGlvbnMucmV2ZXJ0fHwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLnJldmVydCYmdGhpcy5vcHRpb25zLnJldmVydC5jYWxsKHRoaXMuZWxlbWVudCxpKT9WKHRoaXMuaGVscGVyKS5hbmltYXRlKHRoaXMub3JpZ2luYWxQb3NpdGlvbixwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sMTApLGZ1bmN0aW9uKCl7ITEhPT1lLl90cmlnZ2VyKCJzdG9wIix0KSYmZS5fY2xlYXIoKX0pOiExIT09dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkmJnRoaXMuX2NsZWFyKCksITF9LF9tb3VzZVVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91bmJsb2NrRnJhbWVzKCksVi51aS5kZG1hbmFnZXImJlYudWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsdCksdGhpcy5oYW5kbGVFbGVtZW50LmlzKHQudGFyZ2V0KSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIiksVi51aS5tb3VzZS5wcm90b3R5cGUuX21vdXNlVXAuY2FsbCh0aGlzLHQpfSxjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWxwZXIuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT90aGlzLl9tb3VzZVVwKG5ldyBWLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0OnRoaXMuZWxlbWVudFswXX0pKTp0aGlzLl9jbGVhcigpLHRoaXN9LF9nZXRIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMub3B0aW9ucy5oYW5kbGV8fCEhVih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKSkubGVuZ3RofSxfc2V0SGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVFbGVtZW50PXRoaXMub3B0aW9ucy5oYW5kbGU/dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSk6dGhpcy5lbGVtZW50LHRoaXMuX2FkZENsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oYW5kbGVFbGVtZW50LCJ1aS1kcmFnZ2FibGUtaGFuZGxlIil9LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9ImZ1bmN0aW9uIj09dHlwZW9mIGUuaGVscGVyLHQ9aT9WKGUuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdF0pKToiY2xvbmUiPT09ZS5oZWxwZXI/dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKTp0aGlzLmVsZW1lbnQ7cmV0dXJuIHQucGFyZW50cygiYm9keSIpLmxlbmd0aHx8dC5hcHBlbmRUbygicGFyZW50Ij09PWUuYXBwZW5kVG8/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6ZS5hcHBlbmRUbyksaSYmdFswXT09PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpLHRbMF09PT10aGlzLmVsZW1lbnRbMF18fC8oZml4ZWR8YWJzb2x1dGUpLy50ZXN0KHQuY3NzKCJwb3NpdGlvbiIpKXx8dC5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0fSxfc2V0UG9zaXRpb25SZWxhdGl2ZTpmdW5jdGlvbigpey9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpfHwodGhpcy5lbGVtZW50WzBdLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIiAiKSksImxlZnQiaW4odD1BcnJheS5pc0FycmF5KHQpP3tsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH06dCkmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCksInJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCksInRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApLCJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2lzUm9vdE5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuLyhodG1sfGJvZHkpL2kudGVzdCh0LnRhZ05hbWUpfHx0PT09dGhpcy5kb2N1bWVudFswXX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLGU9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1lJiZWLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSkse3RvcDoodD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMub2Zmc2V0UGFyZW50WzBdKT97dG9wOjAsbGVmdDowfTp0KS50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZigicmVsYXRpdmUiIT09dGhpcy5jc3NQb3NpdGlvbilyZXR1cm57dG9wOjAsbGVmdDowfTt2YXIgdD10aGlzLmVsZW1lbnQucG9zaXRpb24oKSxlPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSsoZT8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSxsZWZ0OnQubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSsoZT8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSl9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCxyaWdodDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLDEwKXx8MCxib3R0b206cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luQm90dG9tIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscz10aGlzLm9wdGlvbnMsbj10aGlzLmRvY3VtZW50WzBdO3RoaXMucmVsYXRpdmVDb250YWluZXI9bnVsbCxzLmNvbnRhaW5tZW50PyJ3aW5kb3ciIT09cy5jb250YWlubWVudD8iZG9jdW1lbnQiIT09cy5jb250YWlubWVudD9zLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yIT09QXJyYXk/KCJwYXJlbnQiPT09cy5jb250YWlubWVudCYmKHMuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksKGk9KGU9VihzLmNvbnRhaW5tZW50KSlbMF0pJiYodD0vKHNjcm9sbHxhdXRvKS8udGVzdChlLmNzcygib3ZlcmZsb3ciKSksdGhpcy5jb250YWlubWVudD1bKHBhcnNlSW50KGUuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChlLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLChwYXJzZUludChlLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChlLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCksKHQ/TWF0aC5tYXgoaS5zY3JvbGxXaWR0aCxpLm9mZnNldFdpZHRoKTppLm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoZS5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChlLmNzcygicGFkZGluZ1JpZ2h0IiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LXRoaXMubWFyZ2lucy5yaWdodCwodD9NYXRoLm1heChpLnNjcm9sbEhlaWdodCxpLm9mZnNldEhlaWdodCk6aS5vZmZzZXRIZWlnaHQpLShwYXJzZUludChlLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChlLmNzcygicGFkZGluZ0JvdHRvbSIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcC10aGlzLm1hcmdpbnMuYm90dG9tXSx0aGlzLnJlbGF0aXZlQ29udGFpbmVyPWUpKTp0aGlzLmNvbnRhaW5tZW50PXMuY29udGFpbm1lbnQ6dGhpcy5jb250YWlubWVudD1bMCwwLFYobikud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChWKG4pLmhlaWdodCgpfHxuLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdOnRoaXMuY29udGFpbm1lbnQ9W1Yod2luZG93KS5zY3JvbGxMZWZ0KCktdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCxWKHdpbmRvdykuc2Nyb2xsVG9wKCktdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsVih3aW5kb3cpLnNjcm9sbExlZnQoKStWKHdpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LFYod2luZG93KS5zY3JvbGxUb3AoKSsoVih3aW5kb3cpLmhlaWdodCgpfHxuLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdOnRoaXMuY29udGFpbm1lbnQ9bnVsbH0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnBvc2l0aW9uO3ZhciBpPSJhYnNvbHV0ZSI9PT10PzE6LTEsdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOmUudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCppK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC50b3A6dD8wOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApKmksbGVmdDplLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCppK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KmktKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwubGVmdDp0PzA6dGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpKml9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpLHM9dGhpcy5vcHRpb25zLG49dGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSksbz10LnBhZ2VYLGE9dC5wYWdlWTtyZXR1cm4gbiYmdGhpcy5vZmZzZXQuc2Nyb2xsfHwodGhpcy5vZmZzZXQuc2Nyb2xsPXt0b3A6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9KSxlJiYodGhpcy5jb250YWlubWVudCYmKGk9dGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8oaT10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLFt0aGlzLmNvbnRhaW5tZW50WzBdK2kubGVmdCx0aGlzLmNvbnRhaW5tZW50WzFdK2kudG9wLHRoaXMuY29udGFpbm1lbnRbMl0raS5sZWZ0LHRoaXMuY29udGFpbm1lbnRbM10raS50b3BdKTp0aGlzLmNvbnRhaW5tZW50LHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDxpWzBdJiYobz1pWzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPGlbMV0mJihhPWlbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSx0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+aVsyXSYmKG89aVsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD5pWzNdJiYoYT1pWzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCkpLHMuZ3JpZCYmKHQ9cy5ncmlkWzFdP3RoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChhLXRoaXMub3JpZ2luYWxQYWdlWSkvcy5ncmlkWzFdKSpzLmdyaWRbMV06dGhpcy5vcmlnaW5hbFBhZ2VZLGE9IWl8fHQtdGhpcy5vZmZzZXQuY2xpY2sudG9wPj1pWzFdfHx0LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD5pWzNdP3Q6dC10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV0/dC1zLmdyaWRbMV06dCtzLmdyaWRbMV0sdD1zLmdyaWRbMF0/dGhpcy5vcmlnaW5hbFBhZ2VYK01hdGgucm91bmQoKG8tdGhpcy5vcmlnaW5hbFBhZ2VYKS9zLmdyaWRbMF0pKnMuZ3JpZFswXTp0aGlzLm9yaWdpbmFsUGFnZVgsbz0haXx8dC10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdfHx0LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+aVsyXT90OnQtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49aVswXT90LXMuZ3JpZFswXTp0K3MuZ3JpZFswXSksInkiPT09cy5heGlzJiYobz10aGlzLm9yaWdpbmFsUGFnZVgpLCJ4Ij09PXMuYXhpcyYmKGE9dGhpcy5vcmlnaW5hbFBhZ2VZKSkse3RvcDphLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC50b3A6bj8wOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApLGxlZnQ6by10aGlzLm9mZnNldC5jbGljay5sZWZ0LXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQrKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwubGVmdDpuPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpfX0sX2NsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuaGVscGVyWzBdPT09dGhpcy5lbGVtZW50WzBdfHx0aGlzLmNhbmNlbEhlbHBlclJlbW92YWx8fHRoaXMuaGVscGVyLnJlbW92ZSgpLHRoaXMuaGVscGVyPW51bGwsdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsPSExLHRoaXMuZGVzdHJveU9uQ2xlYXImJnRoaXMuZGVzdHJveSgpfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk9aXx8dGhpcy5fdWlIYXNoKCksVi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2UsaSx0aGlzXSwhMCksL14oZHJhZ3xzdGFydHxzdG9wKS8udGVzdCh0KSYmKHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksaS5vZmZzZXQ9dGhpcy5wb3NpdGlvbkFicyksVi5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmNhbGwodGhpcyx0LGUsaSl9LHBsdWdpbnM6e30sX3VpSGFzaDpmdW5jdGlvbigpe3JldHVybntoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6dGhpcy5wb3NpdGlvbkFic319fSksVi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjb25uZWN0VG9Tb3J0YWJsZSIse3N0YXJ0OmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz1WLmV4dGVuZCh7fSx0LHtpdGVtOmkuZWxlbWVudH0pO2kuc29ydGFibGVzPVtdLFYoaS5vcHRpb25zLmNvbm5lY3RUb1NvcnRhYmxlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKS5zb3J0YWJsZSgiaW5zdGFuY2UiKTt0JiYhdC5vcHRpb25zLmRpc2FibGVkJiYoaS5zb3J0YWJsZXMucHVzaCh0KSx0LnJlZnJlc2hQb3NpdGlvbnMoKSx0Ll90cmlnZ2VyKCJhY3RpdmF0ZSIsZSxzKSl9KX0sc3RvcDpmdW5jdGlvbihlLHQsaSl7dmFyIHM9Vi5leHRlbmQoe30sdCx7aXRlbTppLmVsZW1lbnR9KTtpLmNhbmNlbEhlbHBlclJlbW92YWw9ITEsVi5lYWNoKGkuc29ydGFibGVzLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmlzT3Zlcj8odC5pc092ZXI9MCxpLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsdC5jYW5jZWxIZWxwZXJSZW1vdmFsPSExLHQuX3N0b3JlZENTUz17cG9zaXRpb246dC5wbGFjZWhvbGRlci5jc3MoInBvc2l0aW9uIiksdG9wOnQucGxhY2Vob2xkZXIuY3NzKCJ0b3AiKSxsZWZ0OnQucGxhY2Vob2xkZXIuY3NzKCJsZWZ0Iil9LHQuX21vdXNlU3RvcChlKSx0Lm9wdGlvbnMuaGVscGVyPXQub3B0aW9ucy5faGVscGVyKToodC5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHQuX3RyaWdnZXIoImRlYWN0aXZhdGUiLGUscykpfSl9LGRyYWc6ZnVuY3Rpb24oaSxzLG4pe1YuZWFjaChuLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciB0PSExLGU9dGhpcztlLnBvc2l0aW9uQWJzPW4ucG9zaXRpb25BYnMsZS5oZWxwZXJQcm9wb3J0aW9ucz1uLmhlbHBlclByb3BvcnRpb25zLGUub2Zmc2V0LmNsaWNrPW4ub2Zmc2V0LmNsaWNrLGUuX2ludGVyc2VjdHNXaXRoKGUuY29udGFpbmVyQ2FjaGUpJiYodD0hMCxWLmVhY2gobi5zb3J0YWJsZXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbkFicz1uLnBvc2l0aW9uQWJzLHRoaXMuaGVscGVyUHJvcG9ydGlvbnM9bi5oZWxwZXJQcm9wb3J0aW9ucyx0aGlzLm9mZnNldC5jbGljaz1uLm9mZnNldC5jbGljayx0PXRoaXMhPT1lJiZ0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lckNhY2hlKSYmVi5jb250YWlucyhlLmVsZW1lbnRbMF0sdGhpcy5lbGVtZW50WzBdKT8hMTp0fSkpLHQ/KGUuaXNPdmVyfHwoZS5pc092ZXI9MSxuLl9wYXJlbnQ9cy5oZWxwZXIucGFyZW50KCksZS5jdXJyZW50SXRlbT1zLmhlbHBlci5hcHBlbmRUbyhlLmVsZW1lbnQpLmRhdGEoInVpLXNvcnRhYmxlLWl0ZW0iLCEwKSxlLm9wdGlvbnMuX2hlbHBlcj1lLm9wdGlvbnMuaGVscGVyLGUub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcy5oZWxwZXJbMF19LGkudGFyZ2V0PWUuY3VycmVudEl0ZW1bMF0sZS5fbW91c2VDYXB0dXJlKGksITApLGUuX21vdXNlU3RhcnQoaSwhMCwhMCksZS5vZmZzZXQuY2xpY2sudG9wPW4ub2Zmc2V0LmNsaWNrLnRvcCxlLm9mZnNldC5jbGljay5sZWZ0PW4ub2Zmc2V0LmNsaWNrLmxlZnQsZS5vZmZzZXQucGFyZW50LmxlZnQtPW4ub2Zmc2V0LnBhcmVudC5sZWZ0LWUub2Zmc2V0LnBhcmVudC5sZWZ0LGUub2Zmc2V0LnBhcmVudC50b3AtPW4ub2Zmc2V0LnBhcmVudC50b3AtZS5vZmZzZXQucGFyZW50LnRvcCxuLl90cmlnZ2VyKCJ0b1NvcnRhYmxlIixpKSxuLmRyb3BwZWQ9ZS5lbGVtZW50LFYuZWFjaChuLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMucmVmcmVzaFBvc2l0aW9ucygpfSksbi5jdXJyZW50SXRlbT1uLmVsZW1lbnQsZS5mcm9tT3V0c2lkZT1uKSxlLmN1cnJlbnRJdGVtJiYoZS5fbW91c2VEcmFnKGkpLHMucG9zaXRpb249ZS5wb3NpdGlvbikpOmUuaXNPdmVyJiYoZS5pc092ZXI9MCxlLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsZS5vcHRpb25zLl9yZXZlcnQ9ZS5vcHRpb25zLnJldmVydCxlLm9wdGlvbnMucmV2ZXJ0PSExLGUuX3RyaWdnZXIoIm91dCIsaSxlLl91aUhhc2goZSkpLGUuX21vdXNlU3RvcChpLCEwKSxlLm9wdGlvbnMucmV2ZXJ0PWUub3B0aW9ucy5fcmV2ZXJ0LGUub3B0aW9ucy5oZWxwZXI9ZS5vcHRpb25zLl9oZWxwZXIsZS5wbGFjZWhvbGRlciYmZS5wbGFjZWhvbGRlci5yZW1vdmUoKSxzLmhlbHBlci5hcHBlbmRUbyhuLl9wYXJlbnQpLG4uX3JlZnJlc2hPZmZzZXRzKGkpLHMucG9zaXRpb249bi5fZ2VuZXJhdGVQb3NpdGlvbihpLCEwKSxuLl90cmlnZ2VyKCJmcm9tU29ydGFibGUiLGkpLG4uZHJvcHBlZD0hMSxWLmVhY2gobi5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pKX0pfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY3Vyc29yIix7c3RhcnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVYoImJvZHkiKSxpPWkub3B0aW9ucztzLmNzcygiY3Vyc29yIikmJihpLl9jdXJzb3I9cy5jc3MoImN1cnNvciIpKSxzLmNzcygiY3Vyc29yIixpLmN1cnNvcil9LHN0b3A6ZnVuY3Rpb24odCxlLGkpe2k9aS5vcHRpb25zO2kuX2N1cnNvciYmVigiYm9keSIpLmNzcygiY3Vyc29yIixpLl9jdXJzb3IpfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwib3BhY2l0eSIse3N0YXJ0OmZ1bmN0aW9uKHQsZSxpKXtlPVYoZS5oZWxwZXIpLGk9aS5vcHRpb25zO2UuY3NzKCJvcGFjaXR5IikmJihpLl9vcGFjaXR5PWUuY3NzKCJvcGFjaXR5IikpLGUuY3NzKCJvcGFjaXR5IixpLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKHQsZSxpKXtpPWkub3B0aW9ucztpLl9vcGFjaXR5JiZWKGUuaGVscGVyKS5jc3MoIm9wYWNpdHkiLGkuX29wYWNpdHkpfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic2Nyb2xsIix7c3RhcnQ6ZnVuY3Rpb24odCxlLGkpe2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVufHwoaS5zY3JvbGxQYXJlbnROb3RIaWRkZW49aS5oZWxwZXIuc2Nyb2xsUGFyZW50KCExKSksaS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0hPT1pLmRvY3VtZW50WzBdJiYiSFRNTCIhPT1pLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXS50YWdOYW1lJiYoaS5vdmVyZmxvd09mZnNldD1pLnNjcm9sbFBhcmVudE5vdEhpZGRlbi5vZmZzZXQoKSl9LGRyYWc6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWkub3B0aW9ucyxuPSExLG89aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0sYT1pLmRvY3VtZW50WzBdO28hPT1hJiYiSFRNTCIhPT1vLnRhZ05hbWU/KHMuYXhpcyYmIngiPT09cy5heGlzfHwoaS5vdmVyZmxvd09mZnNldC50b3Arby5vZmZzZXRIZWlnaHQtdC5wYWdlWTxzLnNjcm9sbFNlbnNpdGl2aXR5P28uc2Nyb2xsVG9wPW49by5zY3JvbGxUb3Arcy5zY3JvbGxTcGVlZDp0LnBhZ2VZLWkub3ZlcmZsb3dPZmZzZXQudG9wPHMuc2Nyb2xsU2Vuc2l0aXZpdHkmJihvLnNjcm9sbFRvcD1uPW8uc2Nyb2xsVG9wLXMuc2Nyb2xsU3BlZWQpKSxzLmF4aXMmJiJ5Ij09PXMuYXhpc3x8KGkub3ZlcmZsb3dPZmZzZXQubGVmdCtvLm9mZnNldFdpZHRoLXQucGFnZVg8cy5zY3JvbGxTZW5zaXRpdml0eT9vLnNjcm9sbExlZnQ9bj1vLnNjcm9sbExlZnQrcy5zY3JvbGxTcGVlZDp0LnBhZ2VYLWkub3ZlcmZsb3dPZmZzZXQubGVmdDxzLnNjcm9sbFNlbnNpdGl2aXR5JiYoby5zY3JvbGxMZWZ0PW49by5zY3JvbGxMZWZ0LXMuc2Nyb2xsU3BlZWQpKSk6KHMuYXhpcyYmIngiPT09cy5heGlzfHwodC5wYWdlWS1WKGEpLnNjcm9sbFRvcCgpPHMuc2Nyb2xsU2Vuc2l0aXZpdHk/bj1WKGEpLnNjcm9sbFRvcChWKGEpLnNjcm9sbFRvcCgpLXMuc2Nyb2xsU3BlZWQpOlYod2luZG93KS5oZWlnaHQoKS0odC5wYWdlWS1WKGEpLnNjcm9sbFRvcCgpKTxzLnNjcm9sbFNlbnNpdGl2aXR5JiYobj1WKGEpLnNjcm9sbFRvcChWKGEpLnNjcm9sbFRvcCgpK3Muc2Nyb2xsU3BlZWQpKSkscy5heGlzJiYieSI9PT1zLmF4aXN8fCh0LnBhZ2VYLVYoYSkuc2Nyb2xsTGVmdCgpPHMuc2Nyb2xsU2Vuc2l0aXZpdHk/bj1WKGEpLnNjcm9sbExlZnQoVihhKS5zY3JvbGxMZWZ0KCktcy5zY3JvbGxTcGVlZCk6Vih3aW5kb3cpLndpZHRoKCktKHQucGFnZVgtVihhKS5zY3JvbGxMZWZ0KCkpPHMuc2Nyb2xsU2Vuc2l0aXZpdHkmJihuPVYoYSkuc2Nyb2xsTGVmdChWKGEpLnNjcm9sbExlZnQoKStzLnNjcm9sbFNwZWVkKSkpKSwhMSE9PW4mJlYudWkuZGRtYW5hZ2VyJiYhcy5kcm9wQmVoYXZpb3VyJiZWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhpLHQpfX0pLFYudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic25hcCIse3N0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1pLm9wdGlvbnM7aS5zbmFwRWxlbWVudHM9W10sVihzLnNuYXAuY29uc3RydWN0b3IhPT1TdHJpbmc/cy5zbmFwLml0ZW1zfHwiOmRhdGEodWktZHJhZ2dhYmxlKSI6cy5zbmFwKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXQub2Zmc2V0KCk7dGhpcyE9PWkuZWxlbWVudFswXSYmaS5zbmFwRWxlbWVudHMucHVzaCh7aXRlbTp0aGlzLHdpZHRoOnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0Lm91dGVySGVpZ2h0KCksdG9wOmUudG9wLGxlZnQ6ZS5sZWZ0fSl9KX0sZHJhZzpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBzLG4sbyxhLHIsbCxoLGMsdSxkPWkub3B0aW9ucyxwPWQuc25hcFRvbGVyYW5jZSxmPWUub2Zmc2V0LmxlZnQsZz1mK2kuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsbT1lLm9mZnNldC50b3AsXz1tK2kuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHY9aS5zbmFwRWxlbWVudHMubGVuZ3RoLTE7MDw9djt2LS0pbD0ocj1pLnNuYXBFbGVtZW50c1t2XS5sZWZ0LWkubWFyZ2lucy5sZWZ0KStpLnNuYXBFbGVtZW50c1t2XS53aWR0aCxjPShoPWkuc25hcEVsZW1lbnRzW3ZdLnRvcC1pLm1hcmdpbnMudG9wKStpLnNuYXBFbGVtZW50c1t2XS5oZWlnaHQsZzxyLXB8fGwrcDxmfHxfPGgtcHx8YytwPG18fCFWLmNvbnRhaW5zKGkuc25hcEVsZW1lbnRzW3ZdLml0ZW0ub3duZXJEb2N1bWVudCxpLnNuYXBFbGVtZW50c1t2XS5pdGVtKT8oaS5zbmFwRWxlbWVudHNbdl0uc25hcHBpbmcmJmkub3B0aW9ucy5zbmFwLnJlbGVhc2UmJmkub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChpLmVsZW1lbnQsdCxWLmV4dGVuZChpLl91aUhhc2goKSx7c25hcEl0ZW06aS5zbmFwRWxlbWVudHNbdl0uaXRlbX0pKSxpLnNuYXBFbGVtZW50c1t2XS5zbmFwcGluZz0hMSk6KCJpbm5lciIhPT1kLnNuYXBNb2RlJiYocz1NYXRoLmFicyhoLV8pPD1wLG49TWF0aC5hYnMoYy1tKTw9cCxvPU1hdGguYWJzKHItZyk8PXAsYT1NYXRoLmFicyhsLWYpPD1wLHMmJihlLnBvc2l0aW9uLnRvcD1pLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6aC1pLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLG4mJihlLnBvc2l0aW9uLnRvcD1pLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6YyxsZWZ0OjB9KS50b3ApLG8mJihlLnBvc2l0aW9uLmxlZnQ9aS5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpyLWkuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0KSxhJiYoZS5wb3NpdGlvbi5sZWZ0PWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6bH0pLmxlZnQpKSx1PXN8fG58fG98fGEsIm91dGVyIiE9PWQuc25hcE1vZGUmJihzPU1hdGguYWJzKGgtbSk8PXAsbj1NYXRoLmFicyhjLV8pPD1wLG89TWF0aC5hYnMoci1mKTw9cCxhPU1hdGguYWJzKGwtZyk8PXAscyYmKGUucG9zaXRpb24udG9wPWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpoLGxlZnQ6MH0pLnRvcCksbiYmKGUucG9zaXRpb24udG9wPWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpjLWkuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcCksbyYmKGUucG9zaXRpb24ubGVmdD1pLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OnJ9KS5sZWZ0KSxhJiYoZS5wb3NpdGlvbi5sZWZ0PWkuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6bC1pLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCkpLCFpLnNuYXBFbGVtZW50c1t2XS5zbmFwcGluZyYmKHN8fG58fG98fGF8fHUpJiZpLm9wdGlvbnMuc25hcC5zbmFwJiZpLm9wdGlvbnMuc25hcC5zbmFwLmNhbGwoaS5lbGVtZW50LHQsVi5leHRlbmQoaS5fdWlIYXNoKCkse3NuYXBJdGVtOmkuc25hcEVsZW1lbnRzW3ZdLml0ZW19KSksaS5zbmFwRWxlbWVudHNbdl0uc25hcHBpbmc9c3x8bnx8b3x8YXx8dSl9fSksVi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzdGFjayIse3N0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxpPWkub3B0aW9ucyxpPVYubWFrZUFycmF5KFYoaS5zdGFjaykpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4ocGFyc2VJbnQoVih0KS5jc3MoInpJbmRleCIpLDEwKXx8MCktKHBhcnNlSW50KFYoZSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApfSk7aS5sZW5ndGgmJihzPXBhcnNlSW50KFYoaVswXSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDAsVihpKS5lYWNoKGZ1bmN0aW9uKHQpe1YodGhpcykuY3NzKCJ6SW5kZXgiLHMrdCl9KSx0aGlzLmNzcygiekluZGV4IixzK2kubGVuZ3RoKSl9fSksVi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJ6SW5kZXgiLHtzdGFydDpmdW5jdGlvbih0LGUsaSl7ZT1WKGUuaGVscGVyKSxpPWkub3B0aW9ucztlLmNzcygiekluZGV4IikmJihpLl96SW5kZXg9ZS5jc3MoInpJbmRleCIpKSxlLmNzcygiekluZGV4IixpLnpJbmRleCl9LHN0b3A6ZnVuY3Rpb24odCxlLGkpe2k9aS5vcHRpb25zO2kuX3pJbmRleCYmVihlLmhlbHBlcikuY3NzKCJ6SW5kZXgiLGkuX3pJbmRleCl9fSk7Vi51aS5kcmFnZ2FibGU7Vi53aWRnZXQoInVpLnJlc2l6YWJsZSIsVi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY2xhc3Nlczp7InVpLXJlc2l6YWJsZS1zZSI6InVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKHQpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KHQpKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGUpe2lmKCJoaWRkZW4iPT09Vih0KS5jc3MoIm92ZXJmbG93IikpcmV0dXJuITE7dmFyIGk9ZSYmImxlZnQiPT09ZT8ic2Nyb2xsTGVmdCI6InNjcm9sbFRvcCIsZT0hMTtpZigwPHRbaV0pcmV0dXJuITA7dHJ5e3RbaV09MSxlPTA8dFtpXSx0W2ldPTB9Y2F0Y2godCl7fXJldHVybiBlfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbnMsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUiKSxWLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISFlLmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOmUuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCxfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czpbXSxfaGVscGVyOmUuaGVscGVyfHxlLmdob3N0fHxlLmFuaW1hdGU/ZS5oZWxwZXJ8fCJ1aS1yZXNpemFibGUtaGVscGVyIjpudWxsfSksdGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpJiYodGhpcy5lbGVtZW50LndyYXAoVigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcic+PC9kaXY+IikuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIixwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHQ9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpfSx0aGlzLmVsZW1lbnQuY3NzKHQpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIiwwKSx0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsIm5vbmUiKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjoic3RhdGljIix6b29tOjEsZGlzcGxheToiYmxvY2sifSkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh0KSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSx0aGlzLl9zZXR1cEhhbmRsZXMoKSxlLmF1dG9IaWRlJiZWKHRoaXMuZWxlbWVudCkub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7ZS5kaXNhYmxlZHx8KGkuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLnNob3coKSl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtlLmRpc2FibGVkfHxpLnJlc2l6aW5nfHwoaS5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuaGlkZSgpKX0pLHRoaXMuX21vdXNlSW5pdCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpLHRoaXMuX2FkZGVkSGFuZGxlcy5yZW1vdmUoKTtmdW5jdGlvbiB0KHQpe1YodCkucmVtb3ZlRGF0YSgicmVzaXphYmxlIikucmVtb3ZlRGF0YSgidWktcmVzaXphYmxlIikub2ZmKCIucmVzaXphYmxlIil9dmFyIGU7cmV0dXJuIHRoaXMuZWxlbWVudElzV3JhcHBlciYmKHQodGhpcy5lbGVtZW50KSxlPXRoaXMuZWxlbWVudCx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOmUuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCksdG9wOmUuY3NzKCJ0b3AiKSxsZWZ0OmUuY3NzKCJsZWZ0Iil9KS5pbnNlcnRBZnRlcihlKSxlLnJlbW92ZSgpKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlKSx0KHRoaXMub3JpZ2luYWxFbGVtZW50KSx0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHRoaXMuX3N1cGVyKHQsZSksdCl7Y2FzZSJoYW5kbGVzIjp0aGlzLl9yZW1vdmVIYW5kbGVzKCksdGhpcy5fc2V0dXBIYW5kbGVzKCk7YnJlYWs7Y2FzZSJhc3BlY3RSYXRpbyI6dGhpcy5fYXNwZWN0UmF0aW89ISFlfX0sX3NldHVwSGFuZGxlczpmdW5jdGlvbigpe3ZhciB0LGUsaSxzLG4sbz10aGlzLm9wdGlvbnMsYT10aGlzO2lmKHRoaXMuaGFuZGxlcz1vLmhhbmRsZXN8fChWKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg/e246Ii51aS1yZXNpemFibGUtbiIsZToiLnVpLXJlc2l6YWJsZS1lIixzOiIudWktcmVzaXphYmxlLXMiLHc6Ii51aS1yZXNpemFibGUtdyIsc2U6Ii51aS1yZXNpemFibGUtc2UiLHN3OiIudWktcmVzaXphYmxlLXN3IixuZToiLnVpLXJlc2l6YWJsZS1uZSIsbnc6Ii51aS1yZXNpemFibGUtbncifToiZSxzLHNlIiksdGhpcy5faGFuZGxlcz1WKCksdGhpcy5fYWRkZWRIYW5kbGVzPVYoKSx0aGlzLmhhbmRsZXMuY29uc3RydWN0b3I9PT1TdHJpbmcpZm9yKCJhbGwiPT09dGhpcy5oYW5kbGVzJiYodGhpcy5oYW5kbGVzPSJuLGUscyx3LHNlLHN3LG5lLG53IiksaT10aGlzLmhhbmRsZXMuc3BsaXQoIiwiKSx0aGlzLmhhbmRsZXM9e30sZT0wO2U8aS5sZW5ndGg7ZSsrKXM9InVpLXJlc2l6YWJsZS0iKyh0PVN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKGlbZV0pKSxuPVYoIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3MobiwidWktcmVzaXphYmxlLWhhbmRsZSAiK3MpLG4uY3NzKHt6SW5kZXg6by56SW5kZXh9KSx0aGlzLmhhbmRsZXNbdF09Ii51aS1yZXNpemFibGUtIit0LHRoaXMuZWxlbWVudC5jaGlsZHJlbih0aGlzLmhhbmRsZXNbdF0pLmxlbmd0aHx8KHRoaXMuZWxlbWVudC5hcHBlbmQobiksdGhpcy5fYWRkZWRIYW5kbGVzPXRoaXMuX2FkZGVkSGFuZGxlcy5hZGQobikpO3RoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2ZvcihlIGluIHQ9dHx8dGhpcy5lbGVtZW50LHRoaXMuaGFuZGxlcyl0aGlzLmhhbmRsZXNbZV0uY29uc3RydWN0b3I9PT1TdHJpbmc/dGhpcy5oYW5kbGVzW2VdPXRoaXMuZWxlbWVudC5jaGlsZHJlbih0aGlzLmhhbmRsZXNbZV0pLmZpcnN0KCkuc2hvdygpOih0aGlzLmhhbmRsZXNbZV0uanF1ZXJ5fHx0aGlzLmhhbmRsZXNbZV0ubm9kZVR5cGUpJiYodGhpcy5oYW5kbGVzW2VdPVYodGhpcy5oYW5kbGVzW2VdKSx0aGlzLl9vbih0aGlzLmhhbmRsZXNbZV0se21vdXNlZG93bjphLl9tb3VzZURvd259KSksdGhpcy5lbGVtZW50SXNXcmFwcGVyJiZ0aGlzLm9yaWdpbmFsRWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXih0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uKSQvaSkmJihpPVYodGhpcy5oYW5kbGVzW2VdLHRoaXMuZWxlbWVudCkscz0vc3d8bmV8bnd8c2V8bnxzLy50ZXN0KGUpP2kub3V0ZXJIZWlnaHQoKTppLm91dGVyV2lkdGgoKSxpPVsicGFkZGluZyIsL25lfG53fG4vLnRlc3QoZSk/IlRvcCI6L3NlfHN3fHMvLnRlc3QoZSk/IkJvdHRvbSI6L15lJC8udGVzdChlKT8iUmlnaHQiOiJMZWZ0Il0uam9pbigiIiksdC5jc3MoaSxzKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSx0aGlzLl9oYW5kbGVzPXRoaXMuX2hhbmRsZXMuYWRkKHRoaXMuaGFuZGxlc1tlXSl9LHRoaXMuX3JlbmRlckF4aXModGhpcy5lbGVtZW50KSx0aGlzLl9oYW5kbGVzPXRoaXMuX2hhbmRsZXMuYWRkKHRoaXMuZWxlbWVudC5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpKSx0aGlzLl9oYW5kbGVzLmRpc2FibGVTZWxlY3Rpb24oKSx0aGlzLl9oYW5kbGVzLm9uKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7YS5yZXNpemluZ3x8KHRoaXMuY2xhc3NOYW1lJiYobj10aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKSksYS5heGlzPW4mJm5bMV0/blsxXToic2UiKX0pLG8uYXV0b0hpZGUmJih0aGlzLl9oYW5kbGVzLmhpZGUoKSx0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIikpfSxfcmVtb3ZlSGFuZGxlczpmdW5jdGlvbigpe3RoaXMuX2FkZGVkSGFuZGxlcy5yZW1vdmUoKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgZSxpLHM9ITE7Zm9yKGUgaW4gdGhpcy5oYW5kbGVzKShpPVYodGhpcy5oYW5kbGVzW2VdKVswXSkhPT10LnRhcmdldCYmIVYuY29udGFpbnMoaSx0LnRhcmdldCl8fChzPSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZzfSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgZSxpLHM9dGhpcy5vcHRpb25zLG49dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLHRoaXMuX3JlbmRlclByb3h5KCksZT10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpLGk9dGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcygidG9wIikpLHMuY29udGFpbm1lbnQmJihlKz1WKHMuY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKXx8MCxpKz1WKHMuY29udGFpbm1lbnQpLnNjcm9sbFRvcCgpfHwwKSx0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKSx0aGlzLnBvc2l0aW9uPXtsZWZ0OmUsdG9wOml9LHRoaXMuc2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOnRoaXMuaGVscGVyLndpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLmhlaWdodCgpfTp7d2lkdGg6bi53aWR0aCgpLGhlaWdodDpuLmhlaWdodCgpfSx0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOm4ub3V0ZXJXaWR0aCgpLGhlaWdodDpuLm91dGVySGVpZ2h0KCl9Ont3aWR0aDpuLndpZHRoKCksaGVpZ2h0Om4uaGVpZ2h0KCl9LHRoaXMuc2l6ZURpZmY9e3dpZHRoOm4ub3V0ZXJXaWR0aCgpLW4ud2lkdGgoKSxoZWlnaHQ6bi5vdXRlckhlaWdodCgpLW4uaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDplLHRvcDppfSx0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZfSx0aGlzLmFzcGVjdFJhdGlvPSJudW1iZXIiPT10eXBlb2Ygcy5hc3BlY3RSYXRpbz9zLmFzcGVjdFJhdGlvOnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MSxzPVYoIi51aS1yZXNpemFibGUtIit0aGlzLmF4aXMpLmNzcygiY3Vyc29yIiksVigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byI9PT1zP3RoaXMuYXhpcysiLXJlc2l6ZSI6cyksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RhcnQiLHQpLCEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGk9dGhpcy5heGlzLHM9dC5wYWdlWC1lLmxlZnR8fDAsZT10LnBhZ2VZLWUudG9wfHwwLGk9dGhpcy5fY2hhbmdlW2ldO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLGkmJihlPWkuYXBwbHkodGhpcyxbdCxzLGVdKSx0aGlzLl91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyh0LnNoaWZ0S2V5KSwodGhpcy5fYXNwZWN0UmF0aW98fHQuc2hpZnRLZXkpJiYoZT10aGlzLl91cGRhdGVSYXRpbyhlLHQpKSxlPXRoaXMuX3Jlc3BlY3RTaXplKGUsdCksdGhpcy5fdXBkYXRlQ2FjaGUoZSksdGhpcy5fcHJvcGFnYXRlKCJyZXNpemUiLHQpLGU9dGhpcy5fYXBwbHlDaGFuZ2VzKCksIXRoaXMuX2hlbHBlciYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCksVi5pc0VtcHR5T2JqZWN0KGUpfHwodGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSx0aGlzLl90cmlnZ2VyKCJyZXNpemUiLHQsdGhpcy51aSgpKSx0aGlzLl9hcHBseUNoYW5nZXMoKSkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3RoaXMucmVzaXppbmc9ITE7dmFyIGUsaSxzLG49dGhpcy5vcHRpb25zLG89dGhpcztyZXR1cm4gdGhpcy5faGVscGVyJiYocz0oZT0oaT10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzKS5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoaVswXS5ub2RlTmFtZSkpJiZ0aGlzLl9oYXNTY3JvbGwoaVswXSwibGVmdCIpPzA6by5zaXplRGlmZi5oZWlnaHQsaT1lPzA6by5zaXplRGlmZi53aWR0aCxlPXt3aWR0aDpvLmhlbHBlci53aWR0aCgpLWksaGVpZ2h0Om8uaGVscGVyLmhlaWdodCgpLXN9LGk9cGFyc2VGbG9hdChvLmVsZW1lbnQuY3NzKCJsZWZ0IikpKyhvLnBvc2l0aW9uLmxlZnQtby5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsLHM9cGFyc2VGbG9hdChvLmVsZW1lbnQuY3NzKCJ0b3AiKSkrKG8ucG9zaXRpb24udG9wLW8ub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsLG4uYW5pbWF0ZXx8dGhpcy5lbGVtZW50LmNzcyhWLmV4dGVuZChlLHt0b3A6cyxsZWZ0Oml9KSksby5oZWxwZXIuaGVpZ2h0KG8uc2l6ZS5oZWlnaHQpLG8uaGVscGVyLndpZHRoKG8uc2l6ZS53aWR0aCksdGhpcy5faGVscGVyJiYhbi5hbmltYXRlJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSxWKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIiksdGhpcy5fcmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsdCksdGhpcy5faGVscGVyJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX0sX3VwZGF0ZVByZXZQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2UG9zaXRpb249e3RvcDp0aGlzLnBvc2l0aW9uLnRvcCxsZWZ0OnRoaXMucG9zaXRpb24ubGVmdH0sdGhpcy5wcmV2U2l6ZT17d2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fX0sX2FwcGx5Q2hhbmdlczpmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0aGlzLnBvc2l0aW9uLnRvcCE9PXRoaXMucHJldlBvc2l0aW9uLnRvcCYmKHQudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLHRoaXMucG9zaXRpb24ubGVmdCE9PXRoaXMucHJldlBvc2l0aW9uLmxlZnQmJih0LmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMuc2l6ZS53aWR0aCE9PXRoaXMucHJldlNpemUud2lkdGgmJih0LndpZHRoPXRoaXMuc2l6ZS53aWR0aCsicHgiKSx0aGlzLnNpemUuaGVpZ2h0IT09dGhpcy5wcmV2U2l6ZS5oZWlnaHQmJih0LmhlaWdodD10aGlzLnNpemUuaGVpZ2h0KyJweCIpLHRoaXMuaGVscGVyLmNzcyh0KSx0fSxfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMub3B0aW9ucyxuPXttaW5XaWR0aDp0aGlzLl9pc051bWJlcihzLm1pbldpZHRoKT9zLm1pbldpZHRoOjAsbWF4V2lkdGg6dGhpcy5faXNOdW1iZXIocy5tYXhXaWR0aCk/cy5tYXhXaWR0aDoxLzAsbWluSGVpZ2h0OnRoaXMuX2lzTnVtYmVyKHMubWluSGVpZ2h0KT9zLm1pbkhlaWdodDowLG1heEhlaWdodDp0aGlzLl9pc051bWJlcihzLm1heEhlaWdodCk/cy5tYXhIZWlnaHQ6MS8wfTsodGhpcy5fYXNwZWN0UmF0aW98fHQpJiYoZT1uLm1pbkhlaWdodCp0aGlzLmFzcGVjdFJhdGlvLGk9bi5taW5XaWR0aC90aGlzLmFzcGVjdFJhdGlvLHM9bi5tYXhIZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyx0PW4ubWF4V2lkdGgvdGhpcy5hc3BlY3RSYXRpbyxlPm4ubWluV2lkdGgmJihuLm1pbldpZHRoPWUpLGk+bi5taW5IZWlnaHQmJihuLm1pbkhlaWdodD1pKSxzPG4ubWF4V2lkdGgmJihuLm1heFdpZHRoPXMpLHQ8bi5tYXhIZWlnaHQmJihuLm1heEhlaWdodD10KSksdGhpcy5fdkJvdW5kYXJpZXM9bn0sX3VwZGF0ZUNhY2hlOmZ1bmN0aW9uKHQpe3RoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMuX2lzTnVtYmVyKHQubGVmdCkmJih0aGlzLnBvc2l0aW9uLmxlZnQ9dC5sZWZ0KSx0aGlzLl9pc051bWJlcih0LnRvcCkmJih0aGlzLnBvc2l0aW9uLnRvcD10LnRvcCksdGhpcy5faXNOdW1iZXIodC5oZWlnaHQpJiYodGhpcy5zaXplLmhlaWdodD10LmhlaWdodCksdGhpcy5faXNOdW1iZXIodC53aWR0aCkmJih0aGlzLnNpemUud2lkdGg9dC53aWR0aCl9LF91cGRhdGVSYXRpbzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvc2l0aW9uLGk9dGhpcy5zaXplLHM9dGhpcy5heGlzO3JldHVybiB0aGlzLl9pc051bWJlcih0LmhlaWdodCk/dC53aWR0aD10LmhlaWdodCp0aGlzLmFzcGVjdFJhdGlvOnRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiYodC5oZWlnaHQ9dC53aWR0aC90aGlzLmFzcGVjdFJhdGlvKSwic3ciPT09cyYmKHQubGVmdD1lLmxlZnQrKGkud2lkdGgtdC53aWR0aCksdC50b3A9bnVsbCksIm53Ij09PXMmJih0LnRvcD1lLnRvcCsoaS5oZWlnaHQtdC5oZWlnaHQpLHQubGVmdD1lLmxlZnQrKGkud2lkdGgtdC53aWR0aCkpLHR9LF9yZXNwZWN0U2l6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92Qm91bmRhcmllcyxpPXRoaXMuYXhpcyxzPXRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiZlLm1heFdpZHRoJiZlLm1heFdpZHRoPHQud2lkdGgsbj10aGlzLl9pc051bWJlcih0LmhlaWdodCkmJmUubWF4SGVpZ2h0JiZlLm1heEhlaWdodDx0LmhlaWdodCxvPXRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiZlLm1pbldpZHRoJiZlLm1pbldpZHRoPnQud2lkdGgsYT10aGlzLl9pc051bWJlcih0LmhlaWdodCkmJmUubWluSGVpZ2h0JiZlLm1pbkhlaWdodD50LmhlaWdodCxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0K3RoaXMub3JpZ2luYWxTaXplLndpZHRoLGw9dGhpcy5vcmlnaW5hbFBvc2l0aW9uLnRvcCt0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQsaD0vc3d8bnd8dy8udGVzdChpKSxpPS9ud3xuZXxuLy50ZXN0KGkpO3JldHVybiBvJiYodC53aWR0aD1lLm1pbldpZHRoKSxhJiYodC5oZWlnaHQ9ZS5taW5IZWlnaHQpLHMmJih0LndpZHRoPWUubWF4V2lkdGgpLG4mJih0LmhlaWdodD1lLm1heEhlaWdodCksbyYmaCYmKHQubGVmdD1yLWUubWluV2lkdGgpLHMmJmgmJih0LmxlZnQ9ci1lLm1heFdpZHRoKSxhJiZpJiYodC50b3A9bC1lLm1pbkhlaWdodCksbiYmaSYmKHQudG9wPWwtZS5tYXhIZWlnaHQpLHQud2lkdGh8fHQuaGVpZ2h0fHx0LmxlZnR8fCF0LnRvcD90LndpZHRofHx0LmhlaWdodHx8dC50b3B8fCF0LmxlZnR8fCh0LmxlZnQ9bnVsbCk6dC50b3A9bnVsbCx0fSxfZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9W10scz1bdC5jc3MoImJvcmRlclRvcFdpZHRoIiksdC5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSx0LmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSx0LmNzcygiYm9yZGVyTGVmdFdpZHRoIildLG49W3QuY3NzKCJwYWRkaW5nVG9wIiksdC5jc3MoInBhZGRpbmdSaWdodCIpLHQuY3NzKCJwYWRkaW5nQm90dG9tIiksdC5jc3MoInBhZGRpbmdMZWZ0IildO2U8NDtlKyspaVtlXT1wYXJzZUZsb2F0KHNbZV0pfHwwLGlbZV0rPXBhcnNlRmxvYXQobltlXSl8fDA7cmV0dXJue2hlaWdodDppWzBdK2lbMl0sd2lkdGg6aVsxXStpWzNdfX0sX3Byb3BvcnRpb25hbGx5UmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpZm9yKHZhciB0LGU9MCxpPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQ7ZTx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aDtlKyspdD10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2VdLHRoaXMub3V0ZXJEaW1lbnNpb25zfHwodGhpcy5vdXRlckRpbWVuc2lvbnM9dGhpcy5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHQpKSx0LmNzcyh7aGVpZ2h0OmkuaGVpZ2h0KCktdGhpcy5vdXRlckRpbWVuc2lvbnMuaGVpZ2h0fHwwLHdpZHRoOmkud2lkdGgoKS10aGlzLm91dGVyRGltZW5zaW9ucy53aWR0aHx8MH0pfSxfcmVuZGVyUHJveHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50T2Zmc2V0PXQub2Zmc2V0KCksdGhpcy5faGVscGVyPyh0aGlzLmhlbHBlcj10aGlzLmhlbHBlcnx8VigiPGRpdj48L2Rpdj4iKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsdGhpcy5faGVscGVyKSx0aGlzLmhlbHBlci5jc3Moe3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDp0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCsicHgiLHRvcDp0aGlzLmVsZW1lbnRPZmZzZXQudG9wKyJweCIsekluZGV4OisrZS56SW5kZXh9KSx0aGlzLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLmRpc2FibGVTZWxlY3Rpb24oKSk6dGhpcy5oZWxwZXI9dGhpcy5lbGVtZW50fSxfY2hhbmdlOntlOmZ1bmN0aW9uKHQsZSl7cmV0dXJue3dpZHRoOnRoaXMub3JpZ2luYWxTaXplLndpZHRoK2V9fSx3OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5vcmlnaW5hbFNpemU7cmV0dXJue2xlZnQ6dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrZSx3aWR0aDppLndpZHRoLWV9fSxuOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLm9yaWdpbmFsU2l6ZTtyZXR1cm57dG9wOnRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3AraSxoZWlnaHQ6cy5oZWlnaHQtaX19LHM6ZnVuY3Rpb24odCxlLGkpe3JldHVybntoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0K2l9fSxzZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIFYuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGUsaV0pKX0sc3c6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBWLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxlLGldKSl9LG5lOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gVi5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW3QsZSxpXSkpfSxudzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIFYuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFt0LGUsaV0pKX19LF9wcm9wYWdhdGU6ZnVuY3Rpb24odCxlKXtWLnVpLnBsdWdpbi5jYWxsKHRoaXMsdCxbZSx0aGlzLnVpKCldKSwicmVzaXplIiE9PXQmJnRoaXMuX3RyaWdnZXIodCxlLHRoaXMudWkoKSl9LHBsdWdpbnM6e30sdWk6ZnVuY3Rpb24oKXtyZXR1cm57b3JpZ2luYWxFbGVtZW50OnRoaXMub3JpZ2luYWxFbGVtZW50LGVsZW1lbnQ6dGhpcy5lbGVtZW50LGhlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLHNpemU6dGhpcy5zaXplLG9yaWdpbmFsU2l6ZTp0aGlzLm9yaWdpbmFsU2l6ZSxvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbn19fSksVi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbmltYXRlIix7c3RvcDpmdW5jdGlvbihlKXt2YXIgaT1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSx0PWkub3B0aW9ucyxzPWkuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsbj1zLmxlbmd0aCYmL3RleHRhcmVhL2kudGVzdChzWzBdLm5vZGVOYW1lKSxvPW4mJmkuX2hhc1Njcm9sbChzWzBdLCJsZWZ0Iik/MDppLnNpemVEaWZmLmhlaWdodCxhPW4/MDppLnNpemVEaWZmLndpZHRoLG49e3dpZHRoOmkuc2l6ZS53aWR0aC1hLGhlaWdodDppLnNpemUuaGVpZ2h0LW99LGE9cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpKyhpLnBvc2l0aW9uLmxlZnQtaS5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsLG89cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ0b3AiKSkrKGkucG9zaXRpb24udG9wLWkub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsO2kuZWxlbWVudC5hbmltYXRlKFYuZXh0ZW5kKG4sbyYmYT97dG9wOm8sbGVmdDphfTp7fSkse2R1cmF0aW9uOnQuYW5pbWF0ZUR1cmF0aW9uLGVhc2luZzp0LmFuaW1hdGVFYXNpbmcsc3RlcDpmdW5jdGlvbigpe3ZhciB0PXt3aWR0aDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoIndpZHRoIikpLGhlaWdodDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoImhlaWdodCIpKSx0b3A6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ0b3AiKSksbGVmdDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoImxlZnQiKSl9O3MmJnMubGVuZ3RoJiZWKHNbMF0pLmNzcyh7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9KSxpLl91cGRhdGVDYWNoZSh0KSxpLl9wcm9wYWdhdGUoInJlc2l6ZSIsZSl9fSl9fSksVi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJjb250YWlubWVudCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGkscyxuPVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHQ9bi5vcHRpb25zLGU9bi5lbGVtZW50LG89dC5jb250YWlubWVudCxhPW8gaW5zdGFuY2VvZiBWP28uZ2V0KDApOi9wYXJlbnQvLnRlc3Qobyk/ZS5wYXJlbnQoKS5nZXQoMCk6bzthJiYobi5jb250YWluZXJFbGVtZW50PVYoYSksL2RvY3VtZW50Ly50ZXN0KG8pfHxvPT09ZG9jdW1lbnQ/KG4uY29udGFpbmVyT2Zmc2V0PXtsZWZ0OjAsdG9wOjB9LG4uY29udGFpbmVyUG9zaXRpb249e2xlZnQ6MCx0b3A6MH0sbi5wYXJlbnREYXRhPXtlbGVtZW50OlYoZG9jdW1lbnQpLGxlZnQ6MCx0b3A6MCx3aWR0aDpWKGRvY3VtZW50KS53aWR0aCgpLGhlaWdodDpWKGRvY3VtZW50KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodH0pOihpPVYoYSkscz1bXSxWKFsiVG9wIiwiUmlnaHQiLCJMZWZ0IiwiQm90dG9tIl0pLmVhY2goZnVuY3Rpb24odCxlKXtzW3RdPW4uX251bShpLmNzcygicGFkZGluZyIrZSkpfSksbi5jb250YWluZXJPZmZzZXQ9aS5vZmZzZXQoKSxuLmNvbnRhaW5lclBvc2l0aW9uPWkucG9zaXRpb24oKSxuLmNvbnRhaW5lclNpemU9e2hlaWdodDppLmlubmVySGVpZ2h0KCktc1szXSx3aWR0aDppLmlubmVyV2lkdGgoKS1zWzFdfSx0PW4uY29udGFpbmVyT2Zmc2V0LGU9bi5jb250YWluZXJTaXplLmhlaWdodCxvPW4uY29udGFpbmVyU2l6ZS53aWR0aCxvPW4uX2hhc1Njcm9sbChhLCJsZWZ0Iik/YS5zY3JvbGxXaWR0aDpvLGU9bi5faGFzU2Nyb2xsKGEpP2Euc2Nyb2xsSGVpZ2h0OmUsbi5wYXJlbnREYXRhPXtlbGVtZW50OmEsbGVmdDp0LmxlZnQsdG9wOnQudG9wLHdpZHRoOm8saGVpZ2h0OmV9KSl9LHJlc2l6ZTpmdW5jdGlvbih0KXt2YXIgZT1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxpPWUub3B0aW9ucyxzPWUuY29udGFpbmVyT2Zmc2V0LG49ZS5wb3NpdGlvbixvPWUuX2FzcGVjdFJhdGlvfHx0LnNoaWZ0S2V5LGE9e3RvcDowLGxlZnQ6MH0scj1lLmNvbnRhaW5lckVsZW1lbnQsdD0hMDtyWzBdIT09ZG9jdW1lbnQmJi9zdGF0aWMvLnRlc3Qoci5jc3MoInBvc2l0aW9uIikpJiYoYT1zKSxuLmxlZnQ8KGUuX2hlbHBlcj9zLmxlZnQ6MCkmJihlLnNpemUud2lkdGg9ZS5zaXplLndpZHRoKyhlLl9oZWxwZXI/ZS5wb3NpdGlvbi5sZWZ0LXMubGVmdDplLnBvc2l0aW9uLmxlZnQtYS5sZWZ0KSxvJiYoZS5zaXplLmhlaWdodD1lLnNpemUud2lkdGgvZS5hc3BlY3RSYXRpbyx0PSExKSxlLnBvc2l0aW9uLmxlZnQ9aS5oZWxwZXI/cy5sZWZ0OjApLG4udG9wPChlLl9oZWxwZXI/cy50b3A6MCkmJihlLnNpemUuaGVpZ2h0PWUuc2l6ZS5oZWlnaHQrKGUuX2hlbHBlcj9lLnBvc2l0aW9uLnRvcC1zLnRvcDplLnBvc2l0aW9uLnRvcCksbyYmKGUuc2l6ZS53aWR0aD1lLnNpemUuaGVpZ2h0KmUuYXNwZWN0UmF0aW8sdD0hMSksZS5wb3NpdGlvbi50b3A9ZS5faGVscGVyP3MudG9wOjApLGk9ZS5jb250YWluZXJFbGVtZW50LmdldCgwKT09PWUuZWxlbWVudC5wYXJlbnQoKS5nZXQoMCksbj0vcmVsYXRpdmV8YWJzb2x1dGUvLnRlc3QoZS5jb250YWluZXJFbGVtZW50LmNzcygicG9zaXRpb24iKSksaSYmbj8oZS5vZmZzZXQubGVmdD1lLnBhcmVudERhdGEubGVmdCtlLnBvc2l0aW9uLmxlZnQsZS5vZmZzZXQudG9wPWUucGFyZW50RGF0YS50b3ArZS5wb3NpdGlvbi50b3ApOihlLm9mZnNldC5sZWZ0PWUuZWxlbWVudC5vZmZzZXQoKS5sZWZ0LGUub2Zmc2V0LnRvcD1lLmVsZW1lbnQub2Zmc2V0KCkudG9wKSxuPU1hdGguYWJzKGUuc2l6ZURpZmYud2lkdGgrKGUuX2hlbHBlcj9lLm9mZnNldC5sZWZ0LWEubGVmdDplLm9mZnNldC5sZWZ0LXMubGVmdCkpLHM9TWF0aC5hYnMoZS5zaXplRGlmZi5oZWlnaHQrKGUuX2hlbHBlcj9lLm9mZnNldC50b3AtYS50b3A6ZS5vZmZzZXQudG9wLXMudG9wKSksbitlLnNpemUud2lkdGg+PWUucGFyZW50RGF0YS53aWR0aCYmKGUuc2l6ZS53aWR0aD1lLnBhcmVudERhdGEud2lkdGgtbixvJiYoZS5zaXplLmhlaWdodD1lLnNpemUud2lkdGgvZS5hc3BlY3RSYXRpbyx0PSExKSkscytlLnNpemUuaGVpZ2h0Pj1lLnBhcmVudERhdGEuaGVpZ2h0JiYoZS5zaXplLmhlaWdodD1lLnBhcmVudERhdGEuaGVpZ2h0LXMsbyYmKGUuc2l6ZS53aWR0aD1lLnNpemUuaGVpZ2h0KmUuYXNwZWN0UmF0aW8sdD0hMSkpLHR8fChlLnBvc2l0aW9uLmxlZnQ9ZS5wcmV2UG9zaXRpb24ubGVmdCxlLnBvc2l0aW9uLnRvcD1lLnByZXZQb3NpdGlvbi50b3AsZS5zaXplLndpZHRoPWUucHJldlNpemUud2lkdGgsZS5zaXplLmhlaWdodD1lLnByZXZTaXplLmhlaWdodCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxlPXQub3B0aW9ucyxpPXQuY29udGFpbmVyT2Zmc2V0LHM9dC5jb250YWluZXJQb3NpdGlvbixuPXQuY29udGFpbmVyRWxlbWVudCxvPVYodC5oZWxwZXIpLGE9by5vZmZzZXQoKSxyPW8ub3V0ZXJXaWR0aCgpLXQuc2l6ZURpZmYud2lkdGgsbz1vLm91dGVySGVpZ2h0KCktdC5zaXplRGlmZi5oZWlnaHQ7dC5faGVscGVyJiYhZS5hbmltYXRlJiYvcmVsYXRpdmUvLnRlc3Qobi5jc3MoInBvc2l0aW9uIikpJiZWKHRoaXMpLmNzcyh7bGVmdDphLmxlZnQtcy5sZWZ0LWkubGVmdCx3aWR0aDpyLGhlaWdodDpvfSksdC5faGVscGVyJiYhZS5hbmltYXRlJiYvc3RhdGljLy50ZXN0KG4uY3NzKCJwb3NpdGlvbiIpKSYmVih0aGlzKS5jc3Moe2xlZnQ6YS5sZWZ0LXMubGVmdC1pLmxlZnQsd2lkdGg6cixoZWlnaHQ6b30pfX0pLFYudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYWxzb1Jlc2l6ZSIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikub3B0aW9ucztWKHQuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyk7dC5kYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIse3dpZHRoOnBhcnNlRmxvYXQodC53aWR0aCgpKSxoZWlnaHQ6cGFyc2VGbG9hdCh0LmhlaWdodCgpKSxsZWZ0OnBhcnNlRmxvYXQodC5jc3MoImxlZnQiKSksdG9wOnBhcnNlRmxvYXQodC5jc3MoInRvcCIpKX0pfSl9LHJlc2l6ZTpmdW5jdGlvbih0LGkpe3ZhciBlPVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHM9ZS5vcHRpb25zLG49ZS5vcmlnaW5hbFNpemUsbz1lLm9yaWdpbmFsUG9zaXRpb24sYT17aGVpZ2h0OmUuc2l6ZS5oZWlnaHQtbi5oZWlnaHR8fDAsd2lkdGg6ZS5zaXplLndpZHRoLW4ud2lkdGh8fDAsdG9wOmUucG9zaXRpb24udG9wLW8udG9wfHwwLGxlZnQ6ZS5wb3NpdGlvbi5sZWZ0LW8ubGVmdHx8MH07VihzLmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLHM9Vih0aGlzKS5kYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIpLG49e30sZT10LnBhcmVudHMoaS5vcmlnaW5hbEVsZW1lbnRbMF0pLmxlbmd0aD9bIndpZHRoIiwiaGVpZ2h0Il06WyJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiXTtWLmVhY2goZSxmdW5jdGlvbih0LGUpe3ZhciBpPShzW2VdfHwwKSsoYVtlXXx8MCk7aSYmMDw9aSYmKG5bZV09aXx8bnVsbCl9KSx0LmNzcyhuKX0pfSxzdG9wOmZ1bmN0aW9uKCl7Vih0aGlzKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIpfX0pLFYudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ2hvc3QiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGU9dC5zaXplO3QuZ2hvc3Q9dC5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKSx0Lmdob3N0LmNzcyh7b3BhY2l0eTouMjUsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OmUuaGVpZ2h0LHdpZHRoOmUud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSksdC5fYWRkQ2xhc3ModC5naG9zdCwidWktcmVzaXphYmxlLWdob3N0IiksITEhPT1WLnVpQmFja0NvbXBhdCYmInN0cmluZyI9PXR5cGVvZiB0Lm9wdGlvbnMuZ2hvc3QmJnQuZ2hvc3QuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmdob3N0KSx0Lmdob3N0LmFwcGVuZFRvKHQuaGVscGVyKX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIik7dC5naG9zdCYmdC5naG9zdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OnQuc2l6ZS5oZWlnaHQsd2lkdGg6dC5zaXplLndpZHRofSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0LmhlbHBlciYmdC5oZWxwZXIuZ2V0KDApLnJlbW92ZUNoaWxkKHQuZ2hvc3QuZ2V0KDApKX19KSxWLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdyaWQiLHtyZXNpemU6ZnVuY3Rpb24oKXt2YXIgdCxlPVYodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9ZS5vcHRpb25zLHM9ZS5zaXplLG49ZS5vcmlnaW5hbFNpemUsbz1lLm9yaWdpbmFsUG9zaXRpb24sYT1lLmF4aXMscj0ibnVtYmVyIj09dHlwZW9mIGkuZ3JpZD9baS5ncmlkLGkuZ3JpZF06aS5ncmlkLGw9clswXXx8MSxoPXJbMV18fDEsYz1NYXRoLnJvdW5kKChzLndpZHRoLW4ud2lkdGgpL2wpKmwsdT1NYXRoLnJvdW5kKChzLmhlaWdodC1uLmhlaWdodCkvaCkqaCxkPW4ud2lkdGgrYyxwPW4uaGVpZ2h0K3UsZj1pLm1heFdpZHRoJiZpLm1heFdpZHRoPGQsZz1pLm1heEhlaWdodCYmaS5tYXhIZWlnaHQ8cCxtPWkubWluV2lkdGgmJmkubWluV2lkdGg+ZCxzPWkubWluSGVpZ2h0JiZpLm1pbkhlaWdodD5wO2kuZ3JpZD1yLG0mJihkKz1sKSxzJiYocCs9aCksZiYmKGQtPWwpLGcmJihwLT1oKSwvXihzZXxzfGUpJC8udGVzdChhKT8oZS5zaXplLndpZHRoPWQsZS5zaXplLmhlaWdodD1wKTovXihuZSkkLy50ZXN0KGEpPyhlLnNpemUud2lkdGg9ZCxlLnNpemUuaGVpZ2h0PXAsZS5wb3NpdGlvbi50b3A9by50b3AtdSk6L14oc3cpJC8udGVzdChhKT8oZS5zaXplLndpZHRoPWQsZS5zaXplLmhlaWdodD1wLGUucG9zaXRpb24ubGVmdD1vLmxlZnQtYyk6KChwLWg8PTB8fGQtbDw9MCkmJih0PWUuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyh0aGlzKSksMDxwLWg/KGUuc2l6ZS5oZWlnaHQ9cCxlLnBvc2l0aW9uLnRvcD1vLnRvcC11KToocD1oLXQuaGVpZ2h0LGUuc2l6ZS5oZWlnaHQ9cCxlLnBvc2l0aW9uLnRvcD1vLnRvcCtuLmhlaWdodC1wKSwwPGQtbD8oZS5zaXplLndpZHRoPWQsZS5wb3NpdGlvbi5sZWZ0PW8ubGVmdC1jKTooZD1sLXQud2lkdGgsZS5zaXplLndpZHRoPWQsZS5wb3NpdGlvbi5sZWZ0PW8ubGVmdCtuLndpZHRoLWQpKX19KTtWLnVpLnJlc2l6YWJsZTtWLndpZGdldCgidWkuZGlhbG9nIix7dmVyc2lvbjoiMS4xMy4yIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b09wZW46ITAsYnV0dG9uczpbXSxjbGFzc2VzOnsidWktZGlhbG9nIjoidWktY29ybmVyLWFsbCIsInVpLWRpYWxvZy10aXRsZWJhciI6InVpLWNvcm5lci1hbGwifSxjbG9zZU9uRXNjYXBlOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLGRyYWdnYWJsZTohMCxoaWRlOm51bGwsaGVpZ2h0OiJhdXRvIixtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoxNTAsbWluV2lkdGg6MTUwLG1vZGFsOiExLHBvc2l0aW9uOntteToiY2VudGVyIixhdDoiY2VudGVyIixvZjp3aW5kb3csY29sbGlzaW9uOiJmaXQiLHVzaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPVYodGhpcykuY3NzKHQpLm9mZnNldCgpLnRvcDtlPDAmJlYodGhpcykuY3NzKCJ0b3AiLHQudG9wLWUpfX0scmVzaXphYmxlOiEwLHNob3c6bnVsbCx0aXRsZTpudWxsLHdpZHRoOjMwMCxiZWZvcmVDbG9zZTpudWxsLGNsb3NlOm51bGwsZHJhZzpudWxsLGRyYWdTdGFydDpudWxsLGRyYWdTdG9wOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzaXplOm51bGwscmVzaXplU3RhcnQ6bnVsbCxyZXNpemVTdG9wOm51bGx9LHNpemVSZWxhdGVkT3B0aW9uczp7YnV0dG9uczohMCxoZWlnaHQ6ITAsbWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMCx3aWR0aDohMH0scmVzaXphYmxlUmVsYXRlZE9wdGlvbnM6e21heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsQ3NzPXtkaXNwbGF5OnRoaXMuZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5LHdpZHRoOnRoaXMuZWxlbWVudFswXS5zdHlsZS53aWR0aCxtaW5IZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1pbkhlaWdodCxtYXhIZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1heEhlaWdodCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmhlaWdodH0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtwYXJlbnQ6dGhpcy5lbGVtZW50LnBhcmVudCgpLGluZGV4OnRoaXMuZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KHRoaXMuZWxlbWVudCl9LHRoaXMub3JpZ2luYWxUaXRsZT10aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKSxudWxsPT10aGlzLm9wdGlvbnMudGl0bGUmJm51bGwhPXRoaXMub3JpZ2luYWxUaXRsZSYmKHRoaXMub3B0aW9ucy50aXRsZT10aGlzLm9yaWdpbmFsVGl0bGUpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMSksdGhpcy5fY3JlYXRlV3JhcHBlcigpLHRoaXMuZWxlbWVudC5zaG93KCkucmVtb3ZlQXR0cigidGl0bGUiKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSx0aGlzLl9hZGRDbGFzcygidWktZGlhbG9nLWNvbnRlbnQiLCJ1aS13aWRnZXQtY29udGVudCIpLHRoaXMuX2NyZWF0ZVRpdGxlYmFyKCksdGhpcy5fY3JlYXRlQnV0dG9uUGFuZSgpLHRoaXMub3B0aW9ucy5kcmFnZ2FibGUmJlYuZm4uZHJhZ2dhYmxlJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCksdGhpcy5vcHRpb25zLnJlc2l6YWJsZSYmVi5mbi5yZXNpemFibGUmJnRoaXMuX21ha2VSZXNpemFibGUoKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fdHJhY2tGb2N1cygpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlKT9WKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0fHwiYm9keSIpLmVxKDApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3RoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCksdGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCkuY3NzKHRoaXMub3JpZ2luYWxDc3MpLmRldGFjaCgpLHRoaXMudWlEaWFsb2cucmVtb3ZlKCksdGhpcy5vcmlnaW5hbFRpdGxlJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMub3JpZ2luYWxUaXRsZSksKHQ9ZS5wYXJlbnQuY2hpbGRyZW4oKS5lcShlLmluZGV4KSkubGVuZ3RoJiZ0WzBdIT09dGhpcy5lbGVtZW50WzBdP3QuYmVmb3JlKHRoaXMuZWxlbWVudCk6ZS5wYXJlbnQuYXBwZW5kKHRoaXMuZWxlbWVudCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxkaXNhYmxlOlYubm9vcCxlbmFibGU6Vi5ub29wLGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5faXNPcGVuJiYhMSE9PXRoaXMuX3RyaWdnZXIoImJlZm9yZUNsb3NlIix0KSYmKHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9mb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCksdGhpcy5fdW50cmFja0luc3RhbmNlKCksdGhpcy5vcGVuZXIuZmlsdGVyKCI6Zm9jdXNhYmxlIikudHJpZ2dlcigiZm9jdXMiKS5sZW5ndGh8fFYudWkuc2FmZUJsdXIoVi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSksdGhpcy5faGlkZSh0aGlzLnVpRGlhbG9nLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7ZS5fdHJpZ2dlcigiY2xvc2UiLHQpfSkpfSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxtb3ZlVG9Ub3A6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlVG9Ub3AoKX0sX21vdmVUb1RvcDpmdW5jdGlvbih0LGUpe3ZhciBpPSExLHM9dGhpcy51aURpYWxvZy5zaWJsaW5ncygiLnVpLWZyb250OnZpc2libGUiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4rVih0aGlzKS5jc3MoInotaW5kZXgiKX0pLmdldCgpLHM9TWF0aC5tYXguYXBwbHkobnVsbCxzKTtyZXR1cm4gcz49K3RoaXMudWlEaWFsb2cuY3NzKCJ6LWluZGV4IikmJih0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIscysxKSxpPSEwKSxpJiYhZSYmdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQpLGl9LG9wZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2lzT3Blbj90aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpOih0aGlzLl9pc09wZW49ITAsdGhpcy5vcGVuZXI9VihWLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKSx0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9jcmVhdGVPdmVybGF5KCksdGhpcy5fbW92ZVRvVG9wKG51bGwsITApLHRoaXMub3ZlcmxheSYmdGhpcy5vdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKS0xKSx0aGlzLl9zaG93KHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLnNob3csZnVuY3Rpb24oKXt0Ll9mb2N1c1RhYmJhYmxlKCksdC5fdHJpZ2dlcigiZm9jdXMiKX0pLHRoaXMuX21ha2VGb2N1c1RhcmdldCgpLHRoaXMuX3RyaWdnZXIoIm9wZW4iKSl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZm9jdXNlZEVsZW1lbnQ7KHQ9ISh0PSEodD0hKHQ9ISh0PXR8fHRoaXMuZWxlbWVudC5maW5kKCJbYXV0b2ZvY3VzXSIpKS5sZW5ndGg/dGhpcy5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpOnQpLmxlbmd0aD90aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCI6dGFiYmFibGUiKTp0KS5sZW5ndGg/dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UuZmlsdGVyKCI6dGFiYmFibGUiKTp0KS5sZW5ndGg/dGhpcy51aURpYWxvZzp0KS5lcSgwKS50cmlnZ2VyKCJmb2N1cyIpfSxfcmVzdG9yZVRhYmJhYmxlRm9jdXM6ZnVuY3Rpb24oKXt2YXIgdD1WLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO3RoaXMudWlEaWFsb2dbMF09PT10fHxWLmNvbnRhaW5zKHRoaXMudWlEaWFsb2dbMF0sdCl8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX0sX2tlZXBGb2N1czpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fcmVzdG9yZVRhYmJhYmxlRm9jdXMoKSx0aGlzLl9kZWxheSh0aGlzLl9yZXN0b3JlVGFiYmFibGVGb2N1cyl9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZz1WKCI8ZGl2PiIpLmhpZGUoKS5hdHRyKHt0YWJJbmRleDotMSxyb2xlOiJkaWFsb2cifSkuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250IiksdGhpcy5fb24odGhpcy51aURpYWxvZyx7a2V5ZG93bjpmdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuY2xvc2VPbkVzY2FwZSYmIXQuaXNEZWZhdWx0UHJldmVudGVkKCkmJnQua2V5Q29kZSYmdC5rZXlDb2RlPT09Vi51aS5rZXlDb2RlLkVTQ0FQRSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdGhpcy5jbG9zZSh0KTt2YXIgZSxpLHM7dC5rZXlDb2RlIT09Vi51aS5rZXlDb2RlLlRBQnx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGU9dGhpcy51aURpYWxvZy5maW5kKCI6dGFiYmFibGUiKSxpPWUuZmlyc3QoKSxzPWUubGFzdCgpLHQudGFyZ2V0IT09c1swXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHx0LnNoaWZ0S2V5P3QudGFyZ2V0IT09aVswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHwhdC5zaGlmdEtleXx8KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cy50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtpLnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpKX0sbW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmVUb1RvcCh0KSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpfX0pLHRoaXMuZWxlbWVudC5maW5kKCJbYXJpYS1kZXNjcmliZWRieV0iKS5sZW5ndGh8fHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIil9KX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51aURpYWxvZ1RpdGxlYmFyPVYoIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyLCJ1aS1kaWFsb2ctdGl0bGViYXIiLCJ1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIpLHRoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhcix7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe1YodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKXx8dGhpcy51aURpYWxvZy50cmlnZ2VyKCJmb2N1cyIpfX0pLHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPVYoIjxidXR0b24gdHlwZT0nYnV0dG9uJz48L2J1dHRvbj4iKS5idXR0b24oe2xhYmVsOlYoIjxhPiIpLnRleHQodGhpcy5vcHRpb25zLmNsb3NlVGV4dCkuaHRtbCgpLGljb246InVpLWljb24tY2xvc2V0aGljayIsc2hvd0xhYmVsOiExfSkuYXBwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSwidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIiksdGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2Use2NsaWNrOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpfX0pLHQ9VigiPHNwYW4+IikudW5pcXVlSWQoKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKSx0aGlzLl9hZGRDbGFzcyh0LCJ1aS1kaWFsb2ctdGl0bGUiKSx0aGlzLl90aXRsZSh0KSx0aGlzLnVpRGlhbG9nVGl0bGViYXIucHJlcGVuZFRvKHRoaXMudWlEaWFsb2cpLHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtbGFiZWxsZWRieSI6dC5hdHRyKCJpZCIpfSl9LF90aXRsZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMudGl0bGU/dC50ZXh0KHRoaXMub3B0aW9ucy50aXRsZSk6dC5odG1sKCImIzE2MDsiKX0sX2NyZWF0ZUJ1dHRvblBhbmU6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZT1WKCI8ZGl2PiIpLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLCJ1aS1kaWFsb2ctYnV0dG9ucGFuZSIsInVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCIpLHRoaXMudWlCdXR0b25TZXQ9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSksdGhpcy5fYWRkQ2xhc3ModGhpcy51aUJ1dHRvblNldCwidWktZGlhbG9nLWJ1dHRvbnNldCIpLHRoaXMuX2NyZWF0ZUJ1dHRvbnMoKX0sX2NyZWF0ZUJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLHQ9dGhpcy5vcHRpb25zLmJ1dHRvbnM7dGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCksdGhpcy51aUJ1dHRvblNldC5lbXB0eSgpLFYuaXNFbXB0eU9iamVjdCh0KXx8QXJyYXkuaXNBcnJheSh0KSYmIXQubGVuZ3RoP3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIik6KFYuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk7ZT1WLmV4dGVuZCh7dHlwZToiYnV0dG9uIn0sZT0iZnVuY3Rpb24iPT10eXBlb2YgZT97Y2xpY2s6ZSx0ZXh0OnR9OmUpLGk9ZS5jbGljayx0PXtpY29uOmUuaWNvbixpY29uUG9zaXRpb246ZS5pY29uUG9zaXRpb24sc2hvd0xhYmVsOmUuc2hvd0xhYmVsLGljb25zOmUuaWNvbnMsdGV4dDplLnRleHR9LGRlbGV0ZSBlLmNsaWNrLGRlbGV0ZSBlLmljb24sZGVsZXRlIGUuaWNvblBvc2l0aW9uLGRlbGV0ZSBlLnNob3dMYWJlbCxkZWxldGUgZS5pY29ucywiYm9vbGVhbiI9PXR5cGVvZiBlLnRleHQmJmRlbGV0ZSBlLnRleHQsVigiPGJ1dHRvbj48L2J1dHRvbj4iLGUpLmJ1dHRvbih0KS5hcHBlbmRUbyhzLnVpQnV0dG9uU2V0KS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7aS5hcHBseShzLmVsZW1lbnRbMF0sYXJndW1lbnRzKX0pfSksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nLWJ1dHRvbnMiKSx0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSl9LF9tYWtlRHJhZ2dhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxvPXRoaXMub3B0aW9ucztmdW5jdGlvbiBhKHQpe3JldHVybntwb3NpdGlvbjp0LnBvc2l0aW9uLG9mZnNldDp0Lm9mZnNldH19dGhpcy51aURpYWxvZy5kcmFnZ2FibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50LCAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIixoYW5kbGU6Ii51aS1kaWFsb2ctdGl0bGViYXIiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsc3RhcnQ6ZnVuY3Rpb24odCxlKXtuLl9hZGRDbGFzcyhWKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKSxuLl9ibG9ja0ZyYW1lcygpLG4uX3RyaWdnZXIoImRyYWdTdGFydCIsdCxhKGUpKX0sZHJhZzpmdW5jdGlvbih0LGUpe24uX3RyaWdnZXIoImRyYWciLHQsYShlKSl9LHN0b3A6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLm9mZnNldC5sZWZ0LW4uZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLHM9ZS5vZmZzZXQudG9wLW4uZG9jdW1lbnQuc2Nyb2xsVG9wKCk7by5wb3NpdGlvbj17bXk6ImxlZnQgdG9wIixhdDoibGVmdCIrKDA8PWk/IisiOiIiKStpKyIgdG9wIisoMDw9cz8iKyI6IiIpK3Msb2Y6bi53aW5kb3d9LG4uX3JlbW92ZUNsYXNzKFYodGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpLG4uX3VuYmxvY2tGcmFtZXMoKSxuLl90cmlnZ2VyKCJkcmFnU3RvcCIsdCxhKGUpKX19KX0sX21ha2VSZXNpemFibGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLG89dGhpcy5vcHRpb25zLHQ9by5yZXNpemFibGUsZT10aGlzLnVpRGlhbG9nLmNzcygicG9zaXRpb24iKSx0PSJzdHJpbmciPT10eXBlb2YgdD90OiJuLGUscyx3LHNlLHN3LG5lLG53IjtmdW5jdGlvbiBhKHQpe3JldHVybntvcmlnaW5hbFBvc2l0aW9uOnQub3JpZ2luYWxQb3NpdGlvbixvcmlnaW5hbFNpemU6dC5vcmlnaW5hbFNpemUscG9zaXRpb246dC5wb3NpdGlvbixzaXplOnQuc2l6ZX19dGhpcy51aURpYWxvZy5yZXNpemFibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50Iixjb250YWlubWVudDoiZG9jdW1lbnQiLGFsc29SZXNpemU6dGhpcy5lbGVtZW50LG1heFdpZHRoOm8ubWF4V2lkdGgsbWF4SGVpZ2h0Om8ubWF4SGVpZ2h0LG1pbldpZHRoOm8ubWluV2lkdGgsbWluSGVpZ2h0OnRoaXMuX21pbkhlaWdodCgpLGhhbmRsZXM6dCxzdGFydDpmdW5jdGlvbih0LGUpe24uX2FkZENsYXNzKFYodGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpLG4uX2Jsb2NrRnJhbWVzKCksbi5fdHJpZ2dlcigicmVzaXplU3RhcnQiLHQsYShlKSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe24uX3RyaWdnZXIoInJlc2l6ZSIsdCxhKGUpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3ZhciBpPW4udWlEaWFsb2cub2Zmc2V0KCkscz1pLmxlZnQtbi5kb2N1bWVudC5zY3JvbGxMZWZ0KCksaT1pLnRvcC1uLmRvY3VtZW50LnNjcm9sbFRvcCgpO28uaGVpZ2h0PW4udWlEaWFsb2cuaGVpZ2h0KCksby53aWR0aD1uLnVpRGlhbG9nLndpZHRoKCksby5wb3NpdGlvbj17bXk6ImxlZnQgdG9wIixhdDoibGVmdCIrKDA8PXM/IisiOiIiKStzKyIgdG9wIisoMDw9aT8iKyI6IiIpK2ksb2Y6bi53aW5kb3d9LG4uX3JlbW92ZUNsYXNzKFYodGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpLG4uX3VuYmxvY2tGcmFtZXMoKSxuLl90cmlnZ2VyKCJyZXNpemVTdG9wIix0LGEoZSkpfX0pLmNzcygicG9zaXRpb24iLGUpfSxfdHJhY2tGb2N1czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2lkZ2V0KCkse2ZvY3VzaW46ZnVuY3Rpb24odCl7dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCksdGhpcy5fZm9jdXNlZEVsZW1lbnQ9Vih0LnRhcmdldCl9fSl9LF9tYWtlRm9jdXNUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQodGhpcyl9LF91bnRyYWNrSW5zdGFuY2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmFja2luZ0luc3RhbmNlcygpLGU9Vi5pbkFycmF5KHRoaXMsdCk7LTEhPT1lJiZ0LnNwbGljZShlLDEpfSxfdHJhY2tpbmdJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiKTtyZXR1cm4gdHx8dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIix0PVtdKSx0fSxfbWluSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3JldHVybiJhdXRvIj09PXQuaGVpZ2h0P3QubWluSGVpZ2h0Ok1hdGgubWluKHQubWluSGVpZ2h0LHQuaGVpZ2h0KX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51aURpYWxvZy5pcygiOnZpc2libGUiKTt0fHx0aGlzLnVpRGlhbG9nLnNob3coKSx0aGlzLnVpRGlhbG9nLnBvc2l0aW9uKHRoaXMub3B0aW9ucy5wb3NpdGlvbiksdHx8dGhpcy51aURpYWxvZy5oaWRlKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscz0hMSxuPXt9O1YuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7aS5fc2V0T3B0aW9uKHQsZSksdCBpbiBpLnNpemVSZWxhdGVkT3B0aW9ucyYmKHM9ITApLHQgaW4gaS5yZXNpemFibGVSZWxhdGVkT3B0aW9ucyYmKG5bdF09ZSl9KSxzJiYodGhpcy5fc2l6ZSgpLHRoaXMuX3Bvc2l0aW9uKCkpLHRoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsbil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXRoaXMudWlEaWFsb2c7ImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGUpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6VigiPGE+IikudGV4dCgiIit0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCl9KSwiZHJhZ2dhYmxlIj09PXQmJigoaT1zLmlzKCI6ZGF0YSh1aS1kcmFnZ2FibGUpIikpJiYhZSYmcy5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhaSYmZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSwicG9zaXRpb24iPT09dCYmdGhpcy5fcG9zaXRpb24oKSwicmVzaXphYmxlIj09PXQmJigoaT1zLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikpJiYhZSYmcy5yZXNpemFibGUoImRlc3Ryb3kiKSxpJiYic3RyaW5nIj09dHlwZW9mIGUmJnMucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixlKSxpfHwhMT09PWV8fHRoaXMuX21ha2VSZXNpemFibGUoKSksInRpdGxlIj09PXQmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscz10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSkscy5taW5XaWR0aD5zLndpZHRoJiYocy53aWR0aD1zLm1pbldpZHRoKSx0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOnMud2lkdGh9KS5vdXRlckhlaWdodCgpLGU9TWF0aC5tYXgoMCxzLm1pbkhlaWdodC10KSxpPSJudW1iZXIiPT10eXBlb2Ygcy5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxzLm1heEhlaWdodC10KToibm9uZSIsImF1dG8iPT09cy5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmUsbWF4SGVpZ2h0OmksaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxzLmhlaWdodC10KSksdGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKTtyZXR1cm4gVigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuISFWKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGlhbG9nIikubGVuZ3RofHwhIVYodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kYXRlcGlja2VyIikubGVuZ3RofSxfY3JlYXRlT3ZlcmxheTpmdW5jdGlvbigpe3ZhciBpLHM7dGhpcy5vcHRpb25zLm1vZGFsJiYoaT1WLmZuLmpxdWVyeS5zdWJzdHJpbmcoMCw0KSxzPSEwLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cz0hMX0pLHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuZG9jdW1lbnQub24oImZvY3VzaW4udWktZGlhbG9nIixmdW5jdGlvbih0KXt2YXIgZTtzfHwoKGU9dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKVswXSkuX2FsbG93SW50ZXJhY3Rpb24odCl8fCh0LnByZXZlbnREZWZhdWx0KCksZS5fZm9jdXNUYWJiYWJsZSgpLCIzLjQuIiE9PWkmJiIzLjUuIiE9PWl8fGUuX2RlbGF5KGUuX3Jlc3RvcmVUYWJiYWJsZUZvY3VzKSkpfS5iaW5kKHRoaXMpKSx0aGlzLm92ZXJsYXk9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSx0aGlzLl9hZGRDbGFzcyh0aGlzLm92ZXJsYXksbnVsbCwidWktd2lkZ2V0LW92ZXJsYXkgdWktZnJvbnQiKSx0aGlzLl9vbih0aGlzLm92ZXJsYXkse21vdXNlZG93bjoiX2tlZXBGb2N1cyJ9KSx0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIsKHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fDApKzEpKX0sX2Rlc3Ryb3lPdmVybGF5OmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5vcHRpb25zLm1vZGFsJiZ0aGlzLm92ZXJsYXkmJigodD10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpLTEpP3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIix0KToodGhpcy5kb2N1bWVudC5vZmYoImZvY3VzaW4udWktZGlhbG9nIiksdGhpcy5kb2N1bWVudC5yZW1vdmVEYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKSksdGhpcy5vdmVybGF5LnJlbW92ZSgpLHRoaXMub3ZlcmxheT1udWxsKX19KSwhMSE9PVYudWlCYWNrQ29tcGF0JiZWLndpZGdldCgidWkuZGlhbG9nIixWLnVpLmRpYWxvZyx7b3B0aW9uczp7ZGlhbG9nQ2xhc3M6IiJ9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLnVpRGlhbG9nLmFkZENsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiZGlhbG9nQ2xhc3MiPT09dCYmdGhpcy51aURpYWxvZy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpLmFkZENsYXNzKGUpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKX19KTtWLnVpLmRpYWxvZztmdW5jdGlvbiBsdCh0LGUsaSl7cmV0dXJuIGU8PXQmJnQ8ZStpfVYud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLHt2ZXJzaW9uOiIxLjEzLjIiLHdpZGdldEV2ZW50UHJlZml4OiJkcm9wIixvcHRpb25zOnthY2NlcHQ6IioiLGFkZENsYXNzZXM6ITAsZ3JlZWR5OiExLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsYWN0aXZhdGU6bnVsbCxkZWFjdGl2YXRlOm51bGwsZHJvcDpudWxsLG91dDpudWxsLG92ZXI6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vcHRpb25zLGk9ZS5hY2NlcHQ7dGhpcy5pc292ZXI9ITEsdGhpcy5pc291dD0hMCx0aGlzLmFjY2VwdD0iZnVuY3Rpb24iPT10eXBlb2YgaT9pOmZ1bmN0aW9uKHQpe3JldHVybiB0LmlzKGkpfSx0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHQ9dHx8e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH07dD1hcmd1bWVudHNbMF19LHRoaXMuX2FkZFRvTWFuYWdlcihlLnNjb3BlKSxlLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbih0KXtWLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdPVYudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF18fFtdLFYudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPT09dGhpcyYmdC5zcGxpY2UoZSwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1WLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk7ImFjY2VwdCI9PT10P3RoaXMuYWNjZXB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMoZSl9OiJzY29wZSI9PT10JiYoaT1WLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV0sdGhpcy5fc3BsaWNlKGkpLHRoaXMuX2FkZFRvTWFuYWdlcihlKSksdGhpcy5fc3VwZXIodCxlKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPVYudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5fYWRkQWN0aXZlQ2xhc3MoKSxlJiZ0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsdCx0aGlzLnVpKGUpKX0sX2RlYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGU9Vi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpLGUmJnRoaXMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLHQsdGhpcy51aShlKSl9LF9vdmVyOmZ1bmN0aW9uKHQpe3ZhciBlPVYudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7ZSYmKGUuY3VycmVudEl0ZW18fGUuZWxlbWVudClbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGUuY3VycmVudEl0ZW18fGUuZWxlbWVudCkmJih0aGlzLl9hZGRIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLnVpKGUpKSl9LF9vdXQ6ZnVuY3Rpb24odCl7dmFyIGU9Vi51aS5kZG1hbmFnZXIuY3VycmVudDtlJiYoZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KSYmKHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy51aShlKSkpfSxfZHJvcDpmdW5jdGlvbihlLHQpe3ZhciBpPXR8fFYudWkuZGRtYW5hZ2VyLmN1cnJlbnQscz0hMTtyZXR1cm4hKCFpfHwoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXT09PXRoaXMuZWxlbWVudFswXSkmJih0aGlzLmVsZW1lbnQuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLm5vdCgiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLmRyb3BwYWJsZSgiaW5zdGFuY2UiKTtpZih0Lm9wdGlvbnMuZ3JlZWR5JiYhdC5vcHRpb25zLmRpc2FibGVkJiZ0Lm9wdGlvbnMuc2NvcGU9PT1pLm9wdGlvbnMuc2NvcGUmJnQuYWNjZXB0LmNhbGwodC5lbGVtZW50WzBdLGkuY3VycmVudEl0ZW18fGkuZWxlbWVudCkmJlYudWkuaW50ZXJzZWN0KGksVi5leHRlbmQodCx7b2Zmc2V0OnQuZWxlbWVudC5vZmZzZXQoKX0pLHQub3B0aW9ucy50b2xlcmFuY2UsZSkpcmV0dXJuIShzPSEwKX0pLCFzJiYoISF0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlQWN0aXZlQ2xhc3MoKSx0aGlzLl9yZW1vdmVIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigiZHJvcCIsZSx0aGlzLnVpKGkpKSx0aGlzLmVsZW1lbnQpKSl9LHVpOmZ1bmN0aW9uKHQpe3JldHVybntkcmFnZ2FibGU6dC5jdXJyZW50SXRlbXx8dC5lbGVtZW50LGhlbHBlcjp0LmhlbHBlcixwb3NpdGlvbjp0LnBvc2l0aW9uLG9mZnNldDp0LnBvc2l0aW9uQWJzfX0sX2FkZEhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcygidWktZHJvcHBhYmxlLWhvdmVyIil9LF9yZW1vdmVIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZS1ob3ZlciIpfSxfYWRkQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcygidWktZHJvcHBhYmxlLWFjdGl2ZSIpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlLWFjdGl2ZSIpfX0pLFYudWkuaW50ZXJzZWN0PWZ1bmN0aW9uKHQsZSxpLHMpe2lmKCFlLm9mZnNldClyZXR1cm4hMTt2YXIgbj0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkubGVmdCt0Lm1hcmdpbnMubGVmdCxvPSh0LnBvc2l0aW9uQWJzfHx0LnBvc2l0aW9uLmFic29sdXRlKS50b3ArdC5tYXJnaW5zLnRvcCxhPW4rdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxyPW8rdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbD1lLm9mZnNldC5sZWZ0LGg9ZS5vZmZzZXQudG9wLGM9bCtlLnByb3BvcnRpb25zKCkud2lkdGgsdT1oK2UucHJvcG9ydGlvbnMoKS5oZWlnaHQ7c3dpdGNoKGkpe2Nhc2UiZml0IjpyZXR1cm4gbDw9biYmYTw9YyYmaDw9byYmcjw9dTtjYXNlImludGVyc2VjdCI6cmV0dXJuIGw8bit0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmEtdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPGMmJmg8byt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yJiZyLXQuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI8dTtjYXNlInBvaW50ZXIiOnJldHVybiBsdChzLnBhZ2VZLGgsZS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJmx0KHMucGFnZVgsbCxlLnByb3BvcnRpb25zKCkud2lkdGgpO2Nhc2UidG91Y2giOnJldHVybihoPD1vJiZvPD11fHxoPD1yJiZyPD11fHxvPGgmJnU8cikmJihsPD1uJiZuPD1jfHxsPD1hJiZhPD1jfHxuPGwmJmM8YSk7ZGVmYXVsdDpyZXR1cm4hMX19LCEoVi51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOntkZWZhdWx0OltdfSxwcmVwYXJlT2Zmc2V0czpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj1WLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3Qub3B0aW9ucy5zY29wZV18fFtdLG89ZT9lLnR5cGU6bnVsbCxhPSh0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpLmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5hZGRCYWNrKCk7dDpmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKWlmKCEobltpXS5vcHRpb25zLmRpc2FibGVkfHx0JiYhbltpXS5hY2NlcHQuY2FsbChuW2ldLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSkpe2ZvcihzPTA7czxhLmxlbmd0aDtzKyspaWYoYVtzXT09PW5baV0uZWxlbWVudFswXSl7bltpXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIHR9bltpXS52aXNpYmxlPSJub25lIiE9PW5baV0uZWxlbWVudC5jc3MoImRpc3BsYXkiKSxuW2ldLnZpc2libGUmJigibW91c2Vkb3duIj09PW8mJm5baV0uX2FjdGl2YXRlLmNhbGwobltpXSxlKSxuW2ldLm9mZnNldD1uW2ldLmVsZW1lbnQub2Zmc2V0KCksbltpXS5wcm9wb3J0aW9ucyh7d2lkdGg6bltpXS5lbGVtZW50WzBdLm9mZnNldFdpZHRoLGhlaWdodDpuW2ldLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0fSkpfX0sZHJvcDpmdW5jdGlvbih0LGUpe3ZhciBpPSExO3JldHVybiBWLmVhY2goKFYudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10pLnNsaWNlKCksZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJlYudWkuaW50ZXJzZWN0KHQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLGUpJiYoaT10aGlzLl9kcm9wLmNhbGwodGhpcyxlKXx8aSksIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy52aXNpYmxlJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpJiYodGhpcy5pc291dD0hMCx0aGlzLmlzb3Zlcj0hMSx0aGlzLl9kZWFjdGl2YXRlLmNhbGwodGhpcyxlKSkpfSksaX0sZHJhZ1N0YXJ0OmZ1bmN0aW9uKHQsZSl7dC5lbGVtZW50LnBhcmVudHNVbnRpbCgiYm9keSIpLm9uKCJzY3JvbGwuZHJvcHBhYmxlIixmdW5jdGlvbigpe3Qub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHxWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGUpfSl9LGRyYWc6ZnVuY3Rpb24obixvKXtuLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9ucyYmVi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMobixvKSxWLmVhY2goVi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tuLm9wdGlvbnMuc2NvcGVdfHxbXSxmdW5jdGlvbigpe3ZhciB0LGUsaSxzO3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5ncmVlZHlDaGlsZHx8IXRoaXMudmlzaWJsZXx8KHM9IShpPVYudWkuaW50ZXJzZWN0KG4sdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLG8pKSYmdGhpcy5pc292ZXI/Imlzb3V0IjppJiYhdGhpcy5pc292ZXI/Imlzb3ZlciI6bnVsbCkmJih0aGlzLm9wdGlvbnMuZ3JlZWR5JiYoZT10aGlzLm9wdGlvbnMuc2NvcGUsKGk9dGhpcy5lbGVtZW50LnBhcmVudHMoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gVih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIikub3B0aW9ucy5zY29wZT09PWV9KSkubGVuZ3RoJiYoKHQ9VihpWzBdKS5kcm9wcGFibGUoImluc3RhbmNlIikpLmdyZWVkeUNoaWxkPSJpc292ZXIiPT09cykpLHQmJiJpc292ZXIiPT09cyYmKHQuaXNvdmVyPSExLHQuaXNvdXQ9ITAsdC5fb3V0LmNhbGwodCxvKSksdGhpc1tzXT0hMCx0aGlzWyJpc291dCI9PT1zPyJpc292ZXIiOiJpc291dCJdPSExLHRoaXNbImlzb3ZlciI9PT1zPyJfb3ZlciI6Il9vdXQiXS5jYWxsKHRoaXMsbyksdCYmImlzb3V0Ij09PXMmJih0Lmlzb3V0PSExLHQuaXNvdmVyPSEwLHQuX292ZXIuY2FsbCh0LG8pKSl9KX0sZHJhZ1N0b3A6ZnVuY3Rpb24odCxlKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub2ZmKCJzY3JvbGwuZHJvcHBhYmxlIiksdC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fFYudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsZSl9fSkhPT1WLnVpQmFja0NvbXBhdCYmVi53aWRnZXQoInVpLmRyb3BwYWJsZSIsVi51aS5kcm9wcGFibGUse29wdGlvbnM6e2hvdmVyQ2xhc3M6ITEsYWN0aXZlQ2xhc3M6ITF9LF9hZGRBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfYWRkSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyl9LF9yZW1vdmVIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX19KTtWLnVpLmRyb3BwYWJsZSxWLndpZGdldCgidWkucHJvZ3Jlc3NiYXIiLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1wcm9ncmVzc2JhciI6InVpLWNvcm5lci1hbGwiLCJ1aS1wcm9ncmVzc2Jhci12YWx1ZSI6InVpLWNvcm5lci1sZWZ0IiwidWktcHJvZ3Jlc3NiYXItY29tcGxldGUiOiJ1aS1jb3JuZXItcmlnaHQifSxtYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKSx0aGlzLmVsZW1lbnQuYXR0cih7cm9sZToicHJvZ3Jlc3NiYXIiLCJhcmlhLXZhbHVlbWluIjp0aGlzLm1pbn0pLHRoaXMuX2FkZENsYXNzKCJ1aS1wcm9ncmVzc2JhciIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHRoaXMudmFsdWVEaXY9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2FkZENsYXNzKHRoaXMudmFsdWVEaXYsInVpLXByb2dyZXNzYmFyLXZhbHVlIiwidWktd2lkZ2V0LWhlYWRlciIpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93IiksdGhpcy52YWx1ZURpdi5yZW1vdmUoKX0sdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlO3RoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKHQpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfY29uc3RyYWluZWRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5vcHRpb25zLnZhbHVlKSx0aGlzLmluZGV0ZXJtaW5hdGU9ITE9PT10LCJudW1iZXIiIT10eXBlb2YgdCYmKHQ9MCksIXRoaXMuaW5kZXRlcm1pbmF0ZSYmTWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbix0KSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWU7ZGVsZXRlIHQudmFsdWUsdGhpcy5fc3VwZXIodCksdGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoZSksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsibWF4Ij09PXQmJihlPU1hdGgubWF4KHRoaXMubWluLGUpKSx0aGlzLl9zdXBlcih0LGUpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsZT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS53aWR0aChlLnRvRml4ZWQoMCkrIiUiKSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSIsbnVsbCx0PT09dGhpcy5vcHRpb25zLm1heCkuX3RvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIixudWxsLHRoaXMuaW5kZXRlcm1pbmF0ZSksdGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1WKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheURpdiwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheSIpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpLHRoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKSx0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KSxWLndpZGdldCgidWkuc2VsZWN0YWJsZSIsVi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIiksdGhpcy5kcmFnZ2VkPSExLHRoaXMucmVmcmVzaD1mdW5jdGlvbigpe2kuZWxlbWVudFBvcz1WKGkuZWxlbWVudFswXSkub2Zmc2V0KCksaS5zZWxlY3RlZXM9VihpLm9wdGlvbnMuZmlsdGVyLGkuZWxlbWVudFswXSksaS5fYWRkQ2xhc3MoaS5zZWxlY3RlZXMsInVpLXNlbGVjdGVlIiksaS5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYodGhpcyksZT10Lm9mZnNldCgpLGU9e2xlZnQ6ZS5sZWZ0LWkuZWxlbWVudFBvcy5sZWZ0LHRvcDplLnRvcC1pLmVsZW1lbnRQb3MudG9wfTtWLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OnQsbGVmdDplLmxlZnQsdG9wOmUudG9wLHJpZ2h0OmUubGVmdCt0Lm91dGVyV2lkdGgoKSxib3R0b206ZS50b3ArdC5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6dC5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6dC5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6dC5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9LHRoaXMucmVmcmVzaCgpLHRoaXMuX21vdXNlSW5pdCgpLHRoaXMuaGVscGVyPVYoIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNlbGVjdGFibGUtaGVscGVyIil9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIiksdGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGkpe3ZhciBzPXRoaXMsdD10aGlzLm9wdGlvbnM7dGhpcy5vcG9zPVtpLnBhZ2VYLGkucGFnZVldLHRoaXMuZWxlbWVudFBvcz1WKHRoaXMuZWxlbWVudFswXSkub2Zmc2V0KCksdGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9Vih0LmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0IixpKSxWKHQuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmkucGFnZVgsdG9wOmkucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHQuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTt0LnN0YXJ0c2VsZWN0ZWQ9ITAsaS5tZXRhS2V5fHxpLmN0cmxLZXl8fChzLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHQuc2VsZWN0ZWQ9ITEscy5fYWRkQ2xhc3ModC4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSx0LnVuc2VsZWN0aW5nPSEwLHMuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixpLHt1bnNlbGVjdGluZzp0LmVsZW1lbnR9KSl9KSxWKGkudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPVYuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpZihlKXJldHVybiB0PSFpLm1ldGFLZXkmJiFpLmN0cmxLZXl8fCFlLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLHMuX3JlbW92ZUNsYXNzKGUuJGVsZW1lbnQsdD8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLl9hZGRDbGFzcyhlLiRlbGVtZW50LHQ/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksZS51bnNlbGVjdGluZz0hdCxlLnNlbGVjdGluZz10LChlLnNlbGVjdGVkPXQpP3MuX3RyaWdnZXIoInNlbGVjdGluZyIsaSx7c2VsZWN0aW5nOmUuZWxlbWVudH0pOnMuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixpLHt1bnNlbGVjdGluZzplLmVsZW1lbnR9KSwhMX0pKX0sX21vdXNlRHJhZzpmdW5jdGlvbihzKXtpZih0aGlzLmRyYWdnZWQ9ITAsIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIHQsbj10aGlzLG89dGhpcy5vcHRpb25zLGE9dGhpcy5vcG9zWzBdLHI9dGhpcy5vcG9zWzFdLGw9cy5wYWdlWCxoPXMucGFnZVk7cmV0dXJuIGw8YSYmKHQ9bCxsPWEsYT10KSxoPHImJih0PWgsaD1yLHI9dCksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmEsdG9wOnIsd2lkdGg6bC1hLGhlaWdodDpoLXJ9KSx0aGlzLnNlbGVjdGVlcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpLGU9ITEsaT17fTt0JiZ0LmVsZW1lbnQhPT1uLmVsZW1lbnRbMF0mJihpLmxlZnQ9dC5sZWZ0K24uZWxlbWVudFBvcy5sZWZ0LGkucmlnaHQ9dC5yaWdodCtuLmVsZW1lbnRQb3MubGVmdCxpLnRvcD10LnRvcCtuLmVsZW1lbnRQb3MudG9wLGkuYm90dG9tPXQuYm90dG9tK24uZWxlbWVudFBvcy50b3AsInRvdWNoIj09PW8udG9sZXJhbmNlP2U9IShpLmxlZnQ+bHx8aS5yaWdodDxhfHxpLnRvcD5ofHxpLmJvdHRvbTxyKToiZml0Ij09PW8udG9sZXJhbmNlJiYoZT1pLmxlZnQ+YSYmaS5yaWdodDxsJiZpLnRvcD5yJiZpLmJvdHRvbTxoKSxlPyh0LnNlbGVjdGVkJiYobi5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSx0LnNlbGVjdGVkPSExKSx0LnVuc2VsZWN0aW5nJiYobi5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSx0LnVuc2VsZWN0aW5nPSExKSx0LnNlbGVjdGluZ3x8KG4uX2FkZENsYXNzKHQuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLHQuc2VsZWN0aW5nPSEwLG4uX3RyaWdnZXIoInNlbGVjdGluZyIscyx7c2VsZWN0aW5nOnQuZWxlbWVudH0pKSk6KHQuc2VsZWN0aW5nJiYoKHMubWV0YUtleXx8cy5jdHJsS2V5KSYmdC5zdGFydHNlbGVjdGVkPyhuLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSx0LnNlbGVjdGluZz0hMSxuLl9hZGRDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHQuc2VsZWN0ZWQ9ITApOihuLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSx0LnNlbGVjdGluZz0hMSx0LnN0YXJ0c2VsZWN0ZWQmJihuLl9hZGRDbGFzcyh0LiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLHQudW5zZWxlY3Rpbmc9ITApLG4uX3RyaWdnZXIoInVuc2VsZWN0aW5nIixzLHt1bnNlbGVjdGluZzp0LmVsZW1lbnR9KSkpLHQuc2VsZWN0ZWQmJihzLm1ldGFLZXl8fHMuY3RybEtleXx8dC5zdGFydHNlbGVjdGVkfHwobi5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSx0LnNlbGVjdGVkPSExLG4uX2FkZENsYXNzKHQuJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksdC51bnNlbGVjdGluZz0hMCxuLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIscyx7dW5zZWxlY3Rpbmc6dC5lbGVtZW50fSkpKSkpfSksITF9fSxfbW91c2VTdG9wOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuZHJhZ2dlZD0hMSxWKCIudWktdW5zZWxlY3RpbmciLHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PVYuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpLl9yZW1vdmVDbGFzcyh0LiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLHQudW5zZWxlY3Rpbmc9ITEsdC5zdGFydHNlbGVjdGVkPSExLGkuX3RyaWdnZXIoInVuc2VsZWN0ZWQiLGUse3Vuc2VsZWN0ZWQ6dC5lbGVtZW50fSl9KSxWKCIudWktc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3ModC4kZWxlbWVudCwidWktc2VsZWN0aW5nIikuX2FkZENsYXNzKHQuJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksdC5zZWxlY3Rpbmc9ITEsdC5zZWxlY3RlZD0hMCx0LnN0YXJ0c2VsZWN0ZWQ9ITAsaS5fdHJpZ2dlcigic2VsZWN0ZWQiLGUse3NlbGVjdGVkOnQuZWxlbWVudH0pfSksdGhpcy5fdHJpZ2dlcigic3RvcCIsZSksdGhpcy5oZWxwZXIucmVtb3ZlKCksITF9fSksVi53aWRnZXQoInVpLnNlbGVjdG1lbnUiLFtWLnVpLmZvcm1SZXNldE1peGluLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmF1bHRFbGVtZW50OiI8c2VsZWN0PiIsb3B0aW9uczp7YXBwZW5kVG86bnVsbCxjbGFzc2VzOnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci10b3AiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItYWxsIn0sZGlzYWJsZWQ6bnVsbCxpY29uczp7YnV0dG9uOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyJ9LHBvc2l0aW9uOntteToibGVmdCB0b3AiLGF0OiJsZWZ0IGJvdHRvbSIsY29sbGlzaW9uOiJub25lIn0sd2lkdGg6ITEsY2hhbmdlOm51bGwsY2xvc2U6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxzZWxlY3Q6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIik7dGhpcy5pZHM9e2VsZW1lbnQ6dCxidXR0b246dCsiLWJ1dHRvbiIsbWVudTp0KyItbWVudSJ9LHRoaXMuX2RyYXdCdXR0b24oKSx0aGlzLl9kcmF3TWVudSgpLHRoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCksdGhpcy5fcmVuZGVyZWQ9ITEsdGhpcy5tZW51SXRlbXM9VigpfSxfZHJhd0J1dHRvbjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPXRoaXMuX3BhcnNlT3B0aW9uKHRoaXMuZWxlbWVudC5maW5kKCJvcHRpb246c2VsZWN0ZWQiKSx0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCk7dGhpcy5sYWJlbHM9dGhpcy5lbGVtZW50LmxhYmVscygpLmF0dHIoImZvciIsdGhpcy5pZHMuYnV0dG9uKSx0aGlzLl9vbih0aGlzLmxhYmVscyx7Y2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5idXR0b24udHJpZ2dlcigiZm9jdXMiKSx0LnByZXZlbnREZWZhdWx0KCl9fSksdGhpcy5lbGVtZW50LmhpZGUoKSx0aGlzLmJ1dHRvbj1WKCI8c3Bhbj4iLHt0YWJpbmRleDp0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/LTE6MCxpZDp0aGlzLmlkcy5idXR0b24scm9sZToiY29tYm9ib3giLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLW93bnMiOnRoaXMuaWRzLm1lbnUsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIix0aXRsZTp0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKX0pLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b24sInVpLXNlbGVjdG1lbnUtYnV0dG9uIHVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCIsInVpLWJ1dHRvbiB1aS13aWRnZXQiKSx0PVYoIjxzcGFuPiIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKSx0aGlzLl9hZGRDbGFzcyh0LCJ1aS1zZWxlY3RtZW51LWljb24iLCJ1aS1pY29uICIrdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbiksdGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0oaSkuYXBwZW5kVG8odGhpcy5idXR0b24pLCExIT09dGhpcy5vcHRpb25zLndpZHRoJiZ0aGlzLl9yZXNpemVCdXR0b24oKSx0aGlzLl9vbih0aGlzLmJ1dHRvbix0aGlzLl9idXR0b25FdmVudHMpLHRoaXMuYnV0dG9uLm9uZSgiZm9jdXNpbiIsZnVuY3Rpb24oKXtlLl9yZW5kZXJlZHx8ZS5fcmVmcmVzaE1lbnUoKX0pfSxfZHJhd01lbnU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO3RoaXMubWVudT1WKCI8dWw+Iix7ImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtbGFiZWxsZWRieSI6dGhpcy5pZHMuYnV0dG9uLGlkOnRoaXMuaWRzLm1lbnV9KSx0aGlzLm1lbnVXcmFwPVYoIjxkaXY+IikuYXBwZW5kKHRoaXMubWVudSksdGhpcy5fYWRkQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1tZW51IiwidWktZnJvbnQiKSx0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMubWVudUluc3RhbmNlPXRoaXMubWVudS5tZW51KHtjbGFzc2VzOnsidWktbWVudSI6InVpLWNvcm5lci1ib3R0b20ifSxyb2xlOiJsaXN0Ym94IixzZWxlY3Q6ZnVuY3Rpb24odCxlKXt0LnByZXZlbnREZWZhdWx0KCksaS5fc2V0U2VsZWN0aW9uKCksaS5fc2VsZWN0KGUuaXRlbS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSx0KX0sZm9jdXM6ZnVuY3Rpb24odCxlKXtlPWUuaXRlbS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKTtudWxsIT1pLmZvY3VzSW5kZXgmJmUuaW5kZXghPT1pLmZvY3VzSW5kZXgmJihpLl90cmlnZ2VyKCJmb2N1cyIsdCx7aXRlbTplfSksaS5pc09wZW58fGkuX3NlbGVjdChlLHQpKSxpLmZvY3VzSW5kZXg9ZS5pbmRleCxpLmJ1dHRvbi5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGkubWVudUl0ZW1zLmVxKGUuaW5kZXgpLmF0dHIoImlkIikpfX0pLm1lbnUoImluc3RhbmNlIiksdGhpcy5tZW51SW5zdGFuY2UuX29mZih0aGlzLm1lbnUsIm1vdXNlbGVhdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5fY2xvc2VPbkRvY3VtZW50Q2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5tZW51SW5zdGFuY2UuX2lzRGl2aWRlcj1mdW5jdGlvbigpe3JldHVybiExfX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hNZW51KCksdGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKHRoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpfHx7fSkpLG51bGw9PT10aGlzLm9wdGlvbnMud2lkdGgmJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfcmVmcmVzaE1lbnU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uIik7dGhpcy5tZW51LmVtcHR5KCksdGhpcy5fcGFyc2VPcHRpb25zKHQpLHRoaXMuX3JlbmRlck1lbnUodGhpcy5tZW51LHRoaXMuaXRlbXMpLHRoaXMubWVudUluc3RhbmNlLnJlZnJlc2goKSx0aGlzLm1lbnVJdGVtcz10aGlzLm1lbnUuZmluZCgibGkiKS5ub3QoIi51aS1zZWxlY3RtZW51LW9wdGdyb3VwIikuZmluZCgiLnVpLW1lbnUtaXRlbS13cmFwcGVyIiksdGhpcy5fcmVuZGVyZWQ9ITAsdC5sZW5ndGgmJih0PXRoaXMuX2dldFNlbGVjdGVkSXRlbSgpLHRoaXMubWVudUluc3RhbmNlLmZvY3VzKG51bGwsdCksdGhpcy5fc2V0QXJpYSh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSkpfSxvcGVuOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8KHRoaXMuX3JlbmRlcmVkPyh0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLm1lbnUuZmluZCgiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMubWVudUluc3RhbmNlLmZvY3VzKG51bGwsdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkpKTp0aGlzLl9yZWZyZXNoTWVudSgpLHRoaXMubWVudUl0ZW1zLmxlbmd0aCYmKHRoaXMuaXNPcGVuPSEwLHRoaXMuX3RvZ2dsZUF0dHIoKSx0aGlzLl9yZXNpemVNZW51KCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHRoaXMuX2RvY3VtZW50Q2xpY2spLHRoaXMuX3RyaWdnZXIoIm9wZW4iLHQpKSl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMubWVudVdyYXAucG9zaXRpb24oVi5leHRlbmQoe29mOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsdCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgZT1WKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChlLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGUsInVpLXNlbGVjdG1lbnUtdGV4dCIpLGV9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHMsdCl7dmFyIG49dGhpcyxvPSIiO1YuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk7ZS5vcHRncm91cCE9PW8mJihpPVYoIjxsaT4iLHt0ZXh0OmUub3B0Z3JvdXB9KSxuLl9hZGRDbGFzcyhpLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZS5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksaS5hcHBlbmRUbyhzKSxvPWUub3B0Z3JvdXApLG4uX3JlbmRlckl0ZW1EYXRhKHMsZSl9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0odCxlKS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLGUpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGUpe3ZhciBpPVYoIjxsaT4iKSxzPVYoIjxkaXY+Iix7dGl0bGU6ZS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gZS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQocyxlLmxhYmVsKSxpLmFwcGVuZChzKS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24odCxlKXtlP3QudGV4dChlKTp0Lmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpLHM9Ii51aS1tZW51LWl0ZW0iO3RoaXMuaXNPcGVuP2k9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik6KGk9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKSxzKz0iOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpIiksKHM9ImZpcnN0Ij09PXR8fCJsYXN0Ij09PXQ/aVsiZmlyc3QiPT09dD8icHJldkFsbCI6Im5leHRBbGwiXShzKS5lcSgtMSk6aVt0KyJBbGwiXShzKS5lcSgwKSkubGVuZ3RoJiZ0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhlLHMpfSxfZ2V0U2VsZWN0ZWRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KS5wYXJlbnQoImxpIil9LF90b2dnbGU6ZnVuY3Rpb24odCl7dGhpc1t0aGlzLmlzT3Blbj8iY2xvc2UiOiJvcGVuIl0odCl9LF9zZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnJhbmdlJiYod2luZG93LmdldFNlbGVjdGlvbj8oKHQ9d2luZG93LmdldFNlbGVjdGlvbigpKS5yZW1vdmVBbGxSYW5nZXMoKSx0LmFkZFJhbmdlKHRoaXMucmFuZ2UpKTp0aGlzLnJhbmdlLnNlbGVjdCgpLHRoaXMuYnV0dG9uLnRyaWdnZXIoImZvY3VzIikpfSxfZG9jdW1lbnRDbGljazp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuaXNPcGVuJiYoVih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXNlbGVjdG1lbnUtbWVudSwgIyIrVi5lc2NhcGVTZWxlY3Rvcih0aGlzLmlkcy5idXR0b24pKS5sZW5ndGh8fHRoaXMuY2xvc2UodCkpfX0sX2J1dHRvbkV2ZW50czp7bW91c2Vkb3duOmZ1bmN0aW9uKCl7dmFyIHQ7d2luZG93LmdldFNlbGVjdGlvbj8odD13aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPXQuZ2V0UmFuZ2VBdCgwKSk6dGhpcy5yYW5nZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX0sY2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5fc2V0U2VsZWN0aW9uKCksdGhpcy5fdG9nZ2xlKHQpfSxrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgVi51aS5rZXlDb2RlLlRBQjpjYXNlIFYudWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jbG9zZSh0KSxlPSExO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLkVOVEVSOnRoaXMuaXNPcGVuJiZ0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSh0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5VUDp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuRE9XTjp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5pc09wZW4/dGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk6dGhpcy5fdG9nZ2xlKHQpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuUklHSFQ6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuSE9NRTpjYXNlIFYudWkua2V5Q29kZS5QQUdFX1VQOnRoaXMuX21vdmUoImZpcnN0Iix0KTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6Y2FzZSBWLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMuX21vdmUoImxhc3QiLHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5tZW51LnRyaWdnZXIodCksZT0hMX1lJiZ0LnByZXZlbnREZWZhdWx0KCl9fSxfc2VsZWN0Rm9jdXNlZEl0ZW06ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik7ZS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8dGhpcy5fc2VsZWN0KGUuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksdCl9LF9zZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDt0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleD10LmluZGV4LHRoaXMuYnV0dG9uSXRlbS5yZXBsYWNlV2l0aCh0aGlzLmJ1dHRvbkl0ZW09dGhpcy5fcmVuZGVyQnV0dG9uSXRlbSh0KSksdGhpcy5fc2V0QXJpYSh0KSx0aGlzLl90cmlnZ2VyKCJzZWxlY3QiLGUse2l0ZW06dH0pLHQuaW5kZXghPT1pJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLGUse2l0ZW06dH0pLHRoaXMuY2xvc2UoZSl9LF9zZXRBcmlhOmZ1bmN0aW9uKHQpe3Q9dGhpcy5tZW51SXRlbXMuZXEodC5pbmRleCkuYXR0cigiaWQiKTt0aGlzLmJ1dHRvbi5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5Ijp0LCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOnR9KSx0aGlzLm1lbnUuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50Iix0KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpOyJpY29ucyI9PT10JiYoaT10aGlzLmJ1dHRvbi5maW5kKCJzcGFuLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbikuX2FkZENsYXNzKGksbnVsbCxlLmJ1dHRvbikpLHRoaXMuX3N1cGVyKHQsZSksImFwcGVuZFRvIj09PXQmJnRoaXMubWVudVdyYXAuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksIndpZHRoIj09PXQmJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5tZW51SW5zdGFuY2Uub3B0aW9uKCJkaXNhYmxlZCIsdCksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsdCksdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5idXR0b24sbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLHQpLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdCksdD8odGhpcy5idXR0b24uYXR0cigidGFiaW5kZXgiLC0xKSx0aGlzLmNsb3NlKCkpOnRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwwKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybiB0PSEodD0hKHQ9dCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlP1YodCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSl8fCF0WzBdP3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpOnQpLmxlbmd0aD90aGlzLmRvY3VtZW50WzBdLmJvZHk6dH0sX3RvZ2dsZUF0dHI6ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWV4cGFuZGVkIix0aGlzLmlzT3BlbiksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5idXR0b24sInVpLXNlbGVjdG1lbnUtYnV0dG9uLSIrKHRoaXMuaXNPcGVuPyJjbG9zZWQiOiJvcGVuIikpLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/Im9wZW4iOiJjbG9zZWQiKSkuX3RvZ2dsZUNsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtb3BlbiIsbnVsbCx0aGlzLmlzT3BlbiksdGhpcy5tZW51LmF0dHIoImFyaWEtaGlkZGVuIiwhdGhpcy5pc09wZW4pfSxfcmVzaXplQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLndpZHRoOyExIT09dD8obnVsbD09PXQmJih0PXRoaXMuZWxlbWVudC5zaG93KCkub3V0ZXJXaWR0aCgpLHRoaXMuZWxlbWVudC5oaWRlKCkpLHRoaXMuYnV0dG9uLm91dGVyV2lkdGgodCkpOnRoaXMuYnV0dG9uLmNzcygid2lkdGgiLCIiKX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt0aGlzLm1lbnUub3V0ZXJXaWR0aChNYXRoLm1heCh0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKCksdGhpcy5tZW51LndpZHRoKCIiKS5vdXRlcldpZHRoKCkrMSkpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCk7cmV0dXJuIHQuZGlzYWJsZWQ9dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiksdH0sX3BhcnNlT3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHM9W107dC5lYWNoKGZ1bmN0aW9uKHQsZSl7ZS5oaWRkZW58fHMucHVzaChpLl9wYXJzZU9wdGlvbihWKGUpLHQpKX0pLHRoaXMuaXRlbXM9c30sX3BhcnNlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5wYXJlbnQoIm9wdGdyb3VwIik7cmV0dXJue2VsZW1lbnQ6dCxpbmRleDplLHZhbHVlOnQudmFsKCksbGFiZWw6dC50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKCJsYWJlbCIpfHwiIixkaXNhYmxlZDppLnByb3AoImRpc2FibGVkIil8fHQucHJvcCgiZGlzYWJsZWQiKX19LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpLHRoaXMubWVudVdyYXAucmVtb3ZlKCksdGhpcy5idXR0b24ucmVtb3ZlKCksdGhpcy5lbGVtZW50LnNob3coKSx0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLmxhYmVscy5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX1dKSxWLndpZGdldCgidWkuc2xpZGVyIixWLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEzLjIiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxjbGFzc2VzOnsidWktc2xpZGVyIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1oYW5kbGUiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLXJhbmdlIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyIn0sZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX2hhbmRsZUluZGV4PW51bGwsdGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKSx0aGlzLl9hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24sInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHRoaXMuX3JlZnJlc2goKSx0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCksdGhpcy5fY3JlYXRlSGFuZGxlcygpLHRoaXMuX3NldHVwRXZlbnRzKCksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9wdGlvbnMsaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1oYW5kbGUiKSxzPVtdLG49ZS52YWx1ZXMmJmUudmFsdWVzLmxlbmd0aHx8MTtmb3IoaS5sZW5ndGg+biYmKGkuc2xpY2UobikucmVtb3ZlKCksaT1pLnNsaWNlKDAsbikpLHQ9aS5sZW5ndGg7dDxuO3QrKylzLnB1c2goIjxzcGFuIHRhYmluZGV4PScwJz48L3NwYW4+Iik7dGhpcy5oYW5kbGVzPWkuYWRkKFYocy5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSksdGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpLHRoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtWKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8oITA9PT10LnJhbmdlJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06QXJyYXkuaXNBcnJheSh0LnZhbHVlcykmJih0LnZhbHVlcz10LnZhbHVlcy5zbGljZSgwKSk6dC52YWx1ZXM9W3RoaXMuX3ZhbHVlTWluKCksdGhpcy5fdmFsdWVNaW4oKV0pLHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UubGVuZ3RoPyh0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLnJhbmdlLCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXgiKSx0aGlzLnJhbmdlLmNzcyh7bGVmdDoiIixib3R0b206IiJ9KSk6KHRoaXMucmFuZ2U9VigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZSIpKSwibWluIiE9PXQucmFuZ2UmJiJtYXgiIT09dC5yYW5nZXx8dGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlLSIrdC5yYW5nZSkpOih0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMucmFuZ2U9bnVsbCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmhhbmRsZXMpLHRoaXMuX29uKHRoaXMuaGFuZGxlcyx0aGlzLl9oYW5kbGVFdmVudHMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLmhhbmRsZXMpLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLmhhbmRsZXMpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcy5yZW1vdmUoKSx0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBpLHMsbixvLGUsYSxyPXRoaXMsbD10aGlzLm9wdGlvbnM7cmV0dXJuIWwuZGlzYWJsZWQmJih0aGlzLmVsZW1lbnRTaXplPXt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKX0sdGhpcy5lbGVtZW50T2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxhPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxpPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShhKSxzPXRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSsxLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKGktci52YWx1ZXModCkpOyhlPHN8fHM9PT1lJiYodD09PXIuX2xhc3RDaGFuZ2VkVmFsdWV8fHIudmFsdWVzKHQpPT09bC5taW4pKSYmKHM9ZSxuPVYodGhpcyksbz10KX0pLCExIT09dGhpcy5fc3RhcnQodCxvKSYmKHRoaXMuX21vdXNlU2xpZGluZz0hMCx0aGlzLl9oYW5kbGVJbmRleD1vLHRoaXMuX2FkZENsYXNzKG4sbnVsbCwidWktc3RhdGUtYWN0aXZlIiksbi50cmlnZ2VyKCJmb2N1cyIpLGU9bi5vZmZzZXQoKSxhPSFWKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX2NsaWNrT2Zmc2V0PWE/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6dC5wYWdlWC1lLmxlZnQtbi53aWR0aCgpLzIsdG9wOnQucGFnZVktZS50b3Atbi5oZWlnaHQoKS8yLShwYXJzZUludChuLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChuLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuLmNzcygibWFyZ2luVG9wIiksMTApfHwwKX0sdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfHx0aGlzLl9zbGlkZSh0LG8saSksdGhpcy5fYW5pbWF0ZU9mZj0hMCkpfSxfbW91c2VTdGFydDpmdW5jdGlvbigpe3JldHVybiEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxlPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShlKTtyZXR1cm4gdGhpcy5fc2xpZGUodCx0aGlzLl9oYW5kbGVJbmRleCxlKSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oYW5kbGVzLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2NoYW5nZSh0LHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9oYW5kbGVJbmRleD1udWxsLHRoaXMuX2NsaWNrT2Zmc2V0PW51bGwsdGhpcy5fYW5pbWF0ZU9mZj0hMX0sX2RldGVjdE9yaWVudGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5vcmllbnRhdGlvbj0idmVydGljYWwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxfbm9ybVZhbHVlRnJvbU1vdXNlOmZ1bmN0aW9uKHQpe3ZhciBlLHQ9Imhvcml6b250YWwiPT09dGhpcy5vcmllbnRhdGlvbj8oZT10aGlzLmVsZW1lbnRTaXplLndpZHRoLHQueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGU9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQsdC55LXRoaXMuZWxlbWVudE9mZnNldC50b3AtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LnRvcDowKSksdD10L2U7cmV0dXJuKHQ9MTx0PzE6dCk8MCYmKHQ9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJih0PTEtdCksZT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZT10aGlzLl92YWx1ZU1pbigpK3QqZSx0aGlzLl90cmltQWxpZ25WYWx1ZShlKX0sX3VpSGFzaDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9e2hhbmRsZTp0aGlzLmhhbmRsZXNbdF0saGFuZGxlSW5kZXg6dCx2YWx1ZTp2b2lkIDAhPT1lP2U6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHMudmFsdWU9dm9pZCAwIT09ZT9lOnRoaXMudmFsdWVzKHQpLHMudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHN9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0LHRoaXMuX3VpSGFzaChlKSl9LF9zbGlkZTpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbj10aGlzLnZhbHVlKCksbz10aGlzLnZhbHVlcygpO3RoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkmJihzPXRoaXMudmFsdWVzKGU/MDoxKSxuPXRoaXMudmFsdWVzKGUpLDI9PT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmITA9PT10aGlzLm9wdGlvbnMucmFuZ2UmJihpPTA9PT1lP01hdGgubWluKHMsaSk6TWF0aC5tYXgocyxpKSksb1tlXT1pKSxpIT09biYmITEhPT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsdCx0aGlzLl91aUhhc2goZSxpLG8pKSYmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy52YWx1ZXMoZSxpKTp0aGlzLnZhbHVlKGkpKX0sX3N0b3A6ZnVuY3Rpb24odCxlKXt0aGlzLl90cmlnZ2VyKCJzdG9wIix0LHRoaXMuX3VpSGFzaChlKSl9LF9jaGFuZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLl9rZXlTbGlkaW5nfHx0aGlzLl9tb3VzZVNsaWRpbmd8fCh0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlPWUsdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaChlKSkpfSx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3RyaW1BbGlnblZhbHVlKHQpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgdGhpcy5fY2hhbmdlKG51bGwsMCkpOnRoaXMuX3ZhbHVlKCl9LHZhbHVlczpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbjtpZigxPGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXNbdF09dGhpcy5fdHJpbUFsaWduVmFsdWUoZSksdGhpcy5fcmVmcmVzaFZhbHVlKCksdm9pZCB0aGlzLl9jaGFuZ2UobnVsbCx0KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy5fdmFsdWVzKHQpOnRoaXMudmFsdWUoKTtmb3IoaT10aGlzLm9wdGlvbnMudmFsdWVzLHM9dCxuPTA7bjxpLmxlbmd0aDtuKz0xKWlbbl09dGhpcy5fdHJpbUFsaWduVmFsdWUoc1tuXSksdGhpcy5fY2hhbmdlKG51bGwsbik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzPTA7c3dpdGNoKCJyYW5nZSI9PT10JiYhMD09PXRoaXMub3B0aW9ucy5yYW5nZSYmKCJtaW4iPT09ZT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09ZSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMudmFsdWVzKSYmKHM9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpLHRoaXMuX3N1cGVyKHQsZSksdCl7Y2FzZSJvcmllbnRhdGlvbiI6dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKSx0aGlzLl9yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuX2FkZENsYXNzKCJ1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx0aGlzLm9wdGlvbnMucmFuZ2UmJnRoaXMuX3JlZnJlc2hSYW5nZShlKSx0aGlzLmhhbmRsZXMuY3NzKCJob3Jpem9udGFsIj09PWU/ImJvdHRvbSI6ImxlZnQiLCIiKTticmVhaztjYXNlInZhbHVlIjp0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLDApLHRoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJ2YWx1ZXMiOmZvcih0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLGk9cy0xOzA8PWk7aS0tKXRoaXMuX2NoYW5nZShudWxsLGkpO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJzdGVwIjpjYXNlIm1pbiI6Y2FzZSJtYXgiOnRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fY2FsY3VsYXRlTmV3TWF4KCksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInJhbmdlIjp0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2goKSx0aGlzLl9hbmltYXRlT2ZmPSExfX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKHQpLHRoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpfSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIHQ9dGhpcy5fdHJpbUFsaWduVmFsdWUodCl9LF92YWx1ZXM6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0PXRoaXMub3B0aW9ucy52YWx1ZXNbdF0sdD10aGlzLl90cmltQWxpZ25WYWx1ZSh0KTtpZih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpKXtmb3IoZT10aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCksaT0wO2k8ZS5sZW5ndGg7aSs9MSllW2ldPXRoaXMuX3RyaW1BbGlnblZhbHVlKGVbaV0pO3JldHVybiBlfXJldHVybltdfSxfdHJpbUFsaWduVmFsdWU6ZnVuY3Rpb24odCl7aWYodDw9dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtpZih0Pj10aGlzLl92YWx1ZU1heCgpKXJldHVybiB0aGlzLl92YWx1ZU1heCgpO3ZhciBlPTA8dGhpcy5vcHRpb25zLnN0ZXA/dGhpcy5vcHRpb25zLnN0ZXA6MSxpPSh0LXRoaXMuX3ZhbHVlTWluKCkpJWUsdD10LWk7cmV0dXJuIDIqTWF0aC5hYnMoaSk+PWUmJih0Kz0wPGk/ZTotZSkscGFyc2VGbG9hdCh0LnRvRml4ZWQoNSkpfSxfY2FsY3VsYXRlTmV3TWF4OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLm1heCxlPXRoaXMuX3ZhbHVlTWluKCksaT10aGlzLm9wdGlvbnMuc3RlcDsodD1NYXRoLnJvdW5kKCh0LWUpL2kpKmkrZSk+dGhpcy5vcHRpb25zLm1heCYmKHQtPWkpLHRoaXMubWF4PXBhcnNlRmxvYXQodC50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIHQ9bnVsbCE9PXRoaXMub3B0aW9ucy5taW4/TWF0aC5tYXgodCx0aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMubWluKSk6dH0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoKSx0PWUuaW5kZXhPZigiLiIpO3JldHVybi0xPT09dD8wOmUubGVuZ3RoLXQtMX0sX3ZhbHVlTWluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5taW59LF92YWx1ZU1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heH0sX3JlZnJlc2hSYW5nZTpmdW5jdGlvbih0KXsidmVydGljYWwiPT09dCYmdGhpcy5yYW5nZS5jc3Moe3dpZHRoOiIiLGxlZnQ6IiJ9KSwiaG9yaXpvbnRhbCI9PT10JiZ0aGlzLnJhbmdlLmNzcyh7aGVpZ2h0OiIiLGJvdHRvbToiIn0pfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsaSx0LHMsbixvPXRoaXMub3B0aW9ucy5yYW5nZSxhPXRoaXMub3B0aW9ucyxyPXRoaXMsbD0hdGhpcy5fYW5pbWF0ZU9mZiYmYS5hbmltYXRlLGg9e307dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtpPShyLnZhbHVlcyh0KS1yLl92YWx1ZU1pbigpKS8oci5fdmFsdWVNYXgoKS1yLl92YWx1ZU1pbigpKSoxMDAsaFsiaG9yaXpvbnRhbCI9PT1yLm9yaWVudGF0aW9uPyJsZWZ0IjoiYm90dG9tIl09aSsiJSIsVih0aGlzKS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKGgsYS5hbmltYXRlKSwhMD09PXIub3B0aW9ucy5yYW5nZSYmKCJob3Jpem9udGFsIj09PXIub3JpZW50YXRpb24/KDA9PT10JiZyLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2xlZnQ6aSsiJSJ9LGEuYW5pbWF0ZSksMT09PXQmJnIucmFuZ2VbbD8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDppLWUrIiUifSx7cXVldWU6ITEsZHVyYXRpb246YS5hbmltYXRlfSkpOigwPT09dCYmci5yYW5nZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHtib3R0b206aSsiJSJ9LGEuYW5pbWF0ZSksMT09PXQmJnIucmFuZ2VbbD8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6aS1lKyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmEuYW5pbWF0ZX0pKSksZT1pfSk6KHQ9dGhpcy52YWx1ZSgpLHM9dGhpcy5fdmFsdWVNaW4oKSxuPXRoaXMuX3ZhbHVlTWF4KCksaT1uIT09cz8odC1zKS8obi1zKSoxMDA6MCxoWyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT1pKyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKGgsYS5hbmltYXRlKSwibWluIj09PW8mJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6aSsiJSJ9LGEuYW5pbWF0ZSksIm1heCI9PT1vJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOjEwMC1pKyIlIn0sYS5hbmltYXRlKSwibWluIj09PW8mJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDppKyIlIn0sYS5hbmltYXRlKSwibWF4Ij09PW8mJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtaSsiJSJ9LGEuYW5pbWF0ZSkpfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuPVYodC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIFYudWkua2V5Q29kZS5IT01FOmNhc2UgVi51aS5rZXlDb2RlLkVORDpjYXNlIFYudWkua2V5Q29kZS5QQUdFX1VQOmNhc2UgVi51aS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIFYudWkua2V5Q29kZS5VUDpjYXNlIFYudWkua2V5Q29kZS5SSUdIVDpjYXNlIFYudWkua2V5Q29kZS5ET1dOOmNhc2UgVi51aS5rZXlDb2RlLkxFRlQ6aWYodC5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLl9hZGRDbGFzcyhWKHQudGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSwhMT09PXRoaXMuX3N0YXJ0KHQsbikpKXJldHVybn1zd2l0Y2gocz10aGlzLm9wdGlvbnMuc3RlcCxlPWk9dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyhuKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIFYudWkua2V5Q29kZS5IT01FOmk9dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6aT10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlBBR0VfVVA6aT10aGlzLl90cmltQWxpZ25WYWx1ZShlKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2UgVi51aS5rZXlDb2RlLlBBR0VfRE9XTjppPXRoaXMuX3RyaW1BbGlnblZhbHVlKGUtKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuVVA6Y2FzZSBWLnVpLmtleUNvZGUuUklHSFQ6aWYoZT09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoZStzKTticmVhaztjYXNlIFYudWkua2V5Q29kZS5ET1dOOmNhc2UgVi51aS5rZXlDb2RlLkxFRlQ6aWYoZT09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoZS1zKX10aGlzLl9zbGlkZSh0LG4saSl9LGtleXVwOmZ1bmN0aW9uKHQpe3ZhciBlPVYodC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsZSksdGhpcy5fY2hhbmdlKHQsZSksdGhpcy5fcmVtb3ZlQ2xhc3MoVih0LnRhcmdldCksbnVsbCwidWktc3RhdGUtYWN0aXZlIikpfX19KSxWLndpZGdldCgidWkuc29ydGFibGUiLFYudWkubW91c2Use3ZlcnNpb246IjEuMTMuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjFlMyxhY3RpdmF0ZTpudWxsLGJlZm9yZVN0b3A6bnVsbCxjaGFuZ2U6bnVsbCxkZWFjdGl2YXRlOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsLHJlY2VpdmU6bnVsbCxyZW1vdmU6bnVsbCxzb3J0Om51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdXBkYXRlOm51bGx9LF9pc092ZXJBeGlzOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZTw9dCYmdDxlK2l9LF9pc0Zsb2F0aW5nOmZ1bmN0aW9uKHQpe3JldHVybi9sZWZ0fHJpZ2h0Ly50ZXN0KHQuY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KHQuY3NzKCJkaXNwbGF5IikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fSx0aGlzLl9hZGRDbGFzcygidWktc29ydGFibGUiKSx0aGlzLnJlZnJlc2goKSx0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5fbW91c2VJbml0KCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3RoaXMuX3N1cGVyKHQsZSksImhhbmRsZSI9PT10JiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKSwidWktc29ydGFibGUtaGFuZGxlIiksVi5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0Ll9hZGRDbGFzcyh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlP3RoaXMuaXRlbS5maW5kKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUpOnRoaXMuaXRlbSwidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIHQ9dGhpcy5pdGVtcy5sZW5ndGgtMTswPD10O3QtLSl0aGlzLml0ZW1zW3RdLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsLHM9ITEsbj10aGlzO3JldHVybiF0aGlzLnJldmVydGluZyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJiJzdGF0aWMiIT09dGhpcy5vcHRpb25zLnR5cGUmJih0aGlzLl9yZWZyZXNoSXRlbXModCksVih0LnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtpZihWLmRhdGEodGhpcyxuLndpZGdldE5hbWUrIi1pdGVtIik9PT1uKXJldHVybiBpPVYodGhpcyksITF9KSwhIShpPVYuZGF0YSh0LnRhcmdldCxuLndpZGdldE5hbWUrIi1pdGVtIik9PT1uP1YodC50YXJnZXQpOmkpJiYoISh0aGlzLm9wdGlvbnMuaGFuZGxlJiYhZSYmKFYodGhpcy5vcHRpb25zLmhhbmRsZSxpKS5maW5kKCIqIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt0aGlzPT09dC50YXJnZXQmJihzPSEwKX0pLCFzKSkmJih0aGlzLmN1cnJlbnRJdGVtPWksdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMCkpKSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuLG89dGhpcy5vcHRpb25zO2lmKCh0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcykucmVmcmVzaFBvc2l0aW9ucygpLHRoaXMuYXBwZW5kVG89VigicGFyZW50IiE9PW8uYXBwZW5kVG8/by5hcHBlbmRUbzp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpKSx0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMub2Zmc2V0PXRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCksdGhpcy5vZmZzZXQ9e3RvcDp0aGlzLm9mZnNldC50b3AtdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMub2Zmc2V0LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnR9LFYuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDp0LnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOnQucGFnZVktdGhpcy5vZmZzZXQudG9wfSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIiksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksby5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihvLmN1cnNvckF0KSx0aGlzLmRvbVBvc2l0aW9uPXtwcmV2OnRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLHBhcmVudDp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuY3VycmVudEl0ZW0uaGlkZSgpLHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5wbGFjZWhvbGRlci5zY3JvbGxQYXJlbnQoKSxWLmV4dGVuZCh0aGlzLm9mZnNldCx7cGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpfSksby5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKSxvLmN1cnNvciYmImF1dG8iIT09by5jdXJzb3ImJihuPXRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLHRoaXMuc3RvcmVkQ3Vyc29yPW4uY3NzKCJjdXJzb3IiKSxuLmNzcygiY3Vyc29yIixvLmN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0PVYoIjxzdHlsZT4qeyBjdXJzb3I6ICIrby5jdXJzb3IrIiAhaW1wb3J0YW50OyB9PC9zdHlsZT4iKS5hcHBlbmRUbyhuKSksby56SW5kZXgmJih0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpJiYodGhpcy5fc3RvcmVkWkluZGV4PXRoaXMuaGVscGVyLmNzcygiekluZGV4IikpLHRoaXMuaGVscGVyLmNzcygiekluZGV4IixvLnpJbmRleCkpLG8ub3BhY2l0eSYmKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpJiYodGhpcy5fc3RvcmVkT3BhY2l0eT10aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSksdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IixvLm9wYWNpdHkpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFpKWZvcihzPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTswPD1zO3MtLSl0aGlzLmNvbnRhaW5lcnNbc10uX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIFYudWkuZGRtYW5hZ2VyJiYoVi51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSxWLnVpLmRkbWFuYWdlciYmIW8uZHJvcEJlaGF2aW91ciYmVi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSx0aGlzLmhlbHBlci5wYXJlbnQoKS5pcyh0aGlzLmFwcGVuZFRvKXx8KHRoaXMuaGVscGVyLmRldGFjaCgpLmFwcGVuZFRvKHRoaXMuYXBwZW5kVG8pLHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSksdGhpcy5wb3NpdGlvbj10aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSx0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMuX21vdXNlRHJhZyh0KSwhMH0sX3Njcm9sbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsaT0hMTtyZXR1cm4gdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxlLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1pPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtlLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8ZS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1pPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1lLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxlLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9aT10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8ZS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9aT10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWUuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGUuc2Nyb2xsU2Vuc2l0aXZpdHk/aT10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWUuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLSh0LnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGUuc2Nyb2xsU2Vuc2l0aXZpdHkmJihpPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkrZS5zY3JvbGxTcGVlZCkpLHQucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8ZS5zY3JvbGxTZW5zaXRpdml0eT9pPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1lLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLSh0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxlLnNjcm9sbFNlbnNpdGl2aXR5JiYoaT10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkrZS5zY3JvbGxTcGVlZCkpKSxpfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuLG89dGhpcy5vcHRpb25zO2Zvcih0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSx0aGlzLm9wdGlvbnMuYXhpcyYmInkiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLm9wdGlvbnMuYXhpcyYmIngiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4Iiksby5zY3JvbGwmJiExIT09dGhpcy5fc2Nyb2xsKHQpJiYodGhpcy5fcmVmcmVzaEl0ZW1Qb3NpdGlvbnMoITApLFYudWkuZGRtYW5hZ2VyJiYhby5kcm9wQmVoYXZpb3VyJiZWLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLmRyYWdEaXJlY3Rpb249e3ZlcnRpY2FsOnRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGhvcml6b250YWw6dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKX0sZT10aGlzLml0ZW1zLmxlbmd0aC0xOzA8PWU7ZS0tKWlmKHM9KGk9dGhpcy5pdGVtc1tlXSkuaXRlbVswXSwobj10aGlzLl9pbnRlcnNlY3RzV2l0aFBvaW50ZXIoaSkpJiZpLmluc3RhbmNlPT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYhKHM9PT10aGlzLmN1cnJlbnRJdGVtWzBdfHx0aGlzLnBsYWNlaG9sZGVyWzE9PT1uPyJuZXh0IjoicHJldiJdKClbMF09PT1zfHxWLmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0scyl8fCJzZW1pLWR5bmFtaWMiPT09dGhpcy5vcHRpb25zLnR5cGUmJlYuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHMpKSl7aWYodGhpcy5kaXJlY3Rpb249MT09PW4/ImRvd24iOiJ1cCIsInBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmIXRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXMoaSkpYnJlYWs7dGhpcy5fcmVhcnJhbmdlKHQsaSksdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKTticmVha31yZXR1cm4gdGhpcy5fY29udGFjdENvbnRhaW5lcnModCksVi51aS5kZG1hbmFnZXImJlYudWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSx0aGlzLl90cmlnZ2VyKCJzb3J0Iix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLG87aWYodClyZXR1cm4gVi51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmVi51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLHQpLHRoaXMub3B0aW9ucy5yZXZlcnQ/KHM9KGk9dGhpcykucGxhY2Vob2xkZXIub2Zmc2V0KCksbz17fSwobj10aGlzLm9wdGlvbnMuYXhpcykmJiJ4IiE9PW58fChvLmxlZnQ9cy5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKSxuJiYieSIhPT1ufHwoby50b3A9cy50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpLHRoaXMucmV2ZXJ0aW5nPSEwLFYodGhpcy5oZWxwZXIpLmFuaW1hdGUobyxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7aS5fY2xlYXIodCl9KSk6dGhpcy5fY2xlYXIodCxlKSwhMX0sY2FuY2VsOmZ1bmN0aW9uKCl7aWYodGhpcy5kcmFnZ2luZyl7dGhpcy5fbW91c2VVcChuZXcgVi5FdmVudCgibW91c2V1cCIse3RhcmdldDpudWxsfSkpLCJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyPyh0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuY3VycmVudEl0ZW0sInVpLXNvcnRhYmxlLWhlbHBlciIpKTp0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodmFyIHQ9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PXQ7dC0tKXRoaXMuY29udGFpbmVyc1t0XS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJvdXQiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLCJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLmhlbHBlciYmdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksVi5leHRlbmQodGhpcyx7aGVscGVyOm51bGwsZHJhZ2dpbmc6ITEscmV2ZXJ0aW5nOiExLF9ub0ZpbmFsU29ydDpudWxsfSksdGhpcy5kb21Qb3NpdGlvbi5wcmV2P1YodGhpcy5kb21Qb3NpdGlvbi5wcmV2KS5hZnRlcih0aGlzLmN1cnJlbnRJdGVtKTpWKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pKSx0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShlJiZlLmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gZT1lfHx7fSxWKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0oVihlLml0ZW18fHRoaXMpLmF0dHIoZS5hdHRyaWJ1dGV8fCJpZCIpfHwiIikubWF0Y2goZS5leHByZXNzaW9ufHwvKC4rKVtcLT1fXSguKykvKTt0JiZpLnB1c2goKGUua2V5fHx0WzFdKyJbXSIpKyI9IisoZS5rZXkmJmUuZXhwcmVzc2lvbj90WzFdOnRbMl0pKX0pLCFpLmxlbmd0aCYmZS5rZXkmJmkucHVzaChlLmtleSsiPSIpLGkuam9pbigiJiIpfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkodCYmdC5jb25uZWN0ZWQpLGk9W107cmV0dXJuIHQ9dHx8e30sZS5lYWNoKGZ1bmN0aW9uKCl7aS5wdXNoKFYodC5pdGVtfHx0aGlzKS5hdHRyKHQuYXR0cmlidXRlfHwiaWQiKXx8IiIpfSksaX0sX2ludGVyc2VjdHNXaXRoOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9zaXRpb25BYnMubGVmdCxpPWUrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxzPXRoaXMucG9zaXRpb25BYnMudG9wLG49cyt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxvPXQubGVmdCxhPW8rdC53aWR0aCxyPXQudG9wLGw9cit0LmhlaWdodCxoPXRoaXMub2Zmc2V0LmNsaWNrLnRvcCxjPXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsaD0ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8cjxzK2gmJnMraDxsLGM9InkiPT09dGhpcy5vcHRpb25zLmF4aXN8fG88ZStjJiZlK2M8YTtyZXR1cm4icG9pbnRlciI9PT10aGlzLm9wdGlvbnMudG9sZXJhbmNlfHx0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVyc3x8InBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdPnRbdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT9oJiZjOm88ZSt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPGEmJnI8cyt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yJiZuLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI8bH0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbih0KXt2YXIgZT0ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsdC50b3AsdC5oZWlnaHQpLHQ9InkiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsdC5sZWZ0LHQud2lkdGgpO3JldHVybiEoIWV8fCF0KSYmKGU9dGhpcy5kcmFnRGlyZWN0aW9uLnZlcnRpY2FsLHQ9dGhpcy5kcmFnRGlyZWN0aW9uLmhvcml6b250YWwsdGhpcy5mbG9hdGluZz8icmlnaHQiPT09dHx8ImRvd24iPT09ZT8yOjE6ZSYmKCJkb3duIj09PWU/MjoxKSl9LF9pbnRlcnNlY3RzV2l0aFNpZGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLHQudG9wK3QuaGVpZ2h0LzIsdC5oZWlnaHQpLGk9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCx0LmxlZnQrdC53aWR0aC8yLHQud2lkdGgpLHM9dGhpcy5kcmFnRGlyZWN0aW9uLnZlcnRpY2FsLHQ9dGhpcy5kcmFnRGlyZWN0aW9uLmhvcml6b250YWw7cmV0dXJuIHRoaXMuZmxvYXRpbmcmJnQ/InJpZ2h0Ij09PXQmJml8fCJsZWZ0Ij09PXQmJiFpOnMmJigiZG93biI9PT1zJiZlfHwidXAiPT09cyYmIWUpfSxfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wO3JldHVybiAwIT10JiYoMDx0PyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPXQmJigwPHQ/InJpZ2h0IjoibGVmdCIpfSxyZWZyZXNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZWZyZXNoSXRlbXModCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpc30sX2Nvbm5lY3RXaXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3JldHVybiB0LmNvbm5lY3RXaXRoLmNvbnN0cnVjdG9yPT09U3RyaW5nP1t0LmNvbm5lY3RXaXRoXTp0LmNvbm5lY3RXaXRofSxfZ2V0SXRlbXNBc2pRdWVyeTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvPVtdLGE9W10scj10aGlzLl9jb25uZWN0V2l0aCgpO2lmKHImJnQpZm9yKGU9ci5sZW5ndGgtMTswPD1lO2UtLSlmb3IoaT0ocz1WKHJbZV0sdGhpcy5kb2N1bWVudFswXSkpLmxlbmd0aC0xOzA8PWk7aS0tKShuPVYuZGF0YShzW2ldLHRoaXMud2lkZ2V0RnVsbE5hbWUpKSYmbiE9PXRoaXMmJiFuLm9wdGlvbnMuZGlzYWJsZWQmJmEucHVzaChbImZ1bmN0aW9uIj09dHlwZW9mIG4ub3B0aW9ucy5pdGVtcz9uLm9wdGlvbnMuaXRlbXMuY2FsbChuLmVsZW1lbnQpOlYobi5vcHRpb25zLml0ZW1zLG4uZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSxuXSk7ZnVuY3Rpb24gbCgpe28ucHVzaCh0aGlzKX1mb3IoYS5wdXNoKFsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLml0ZW1zP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpWKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLGU9YS5sZW5ndGgtMTswPD1lO2UtLSlhW2VdWzBdLmVhY2gobCk7cmV0dXJuIFYobyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciBpPXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9Vi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxpLmxlbmd0aDtlKyspaWYoaVtlXT09PXQuaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W10sdGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgZSxpLHMsbixvLGEscixsLGg9dGhpcy5pdGVtcyxjPVtbImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5pdGVtcz90aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6Vih0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy5lbGVtZW50KSx0aGlzXV0sdT10aGlzLl9jb25uZWN0V2l0aCgpO2lmKHUmJnRoaXMucmVhZHkpZm9yKGU9dS5sZW5ndGgtMTswPD1lO2UtLSlmb3IoaT0ocz1WKHVbZV0sdGhpcy5kb2N1bWVudFswXSkpLmxlbmd0aC0xOzA8PWk7aS0tKShuPVYuZGF0YShzW2ldLHRoaXMud2lkZ2V0RnVsbE5hbWUpKSYmbiE9PXRoaXMmJiFuLm9wdGlvbnMuZGlzYWJsZWQmJihjLnB1c2goWyJmdW5jdGlvbiI9PXR5cGVvZiBuLm9wdGlvbnMuaXRlbXM/bi5vcHRpb25zLml0ZW1zLmNhbGwobi5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOlYobi5vcHRpb25zLml0ZW1zLG4uZWxlbWVudCksbl0pLHRoaXMuY29udGFpbmVycy5wdXNoKG4pKTtmb3IoZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKWZvcihvPWNbZV1bMV0sbD0oYT1jW2VdW2k9MF0pLmxlbmd0aDtpPGw7aSsrKShyPVYoYVtpXSkpLmRhdGEodGhpcy53aWRnZXROYW1lKyItaXRlbSIsbyksaC5wdXNoKHtpdGVtOnIsaW5zdGFuY2U6byx3aWR0aDowLGhlaWdodDowLGxlZnQ6MCx0b3A6MH0pfSxfcmVmcmVzaEl0ZW1Qb3NpdGlvbnM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscz10aGlzLml0ZW1zLmxlbmd0aC0xOzA8PXM7cy0tKWU9dGhpcy5pdGVtc1tzXSx0aGlzLmN1cnJlbnRDb250YWluZXImJmUuaW5zdGFuY2UhPT10aGlzLmN1cnJlbnRDb250YWluZXImJmUuaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF18fChpPXRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50P1YodGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQsZS5pdGVtKTplLml0ZW0sdHx8KGUud2lkdGg9aS5vdXRlcldpZHRoKCksZS5oZWlnaHQ9aS5vdXRlckhlaWdodCgpKSxpPWkub2Zmc2V0KCksZS5sZWZ0PWkubGVmdCxlLnRvcD1pLnRvcCl9LHJlZnJlc2hQb3NpdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZih0aGlzLmZsb2F0aW5nPSEhdGhpcy5pdGVtcy5sZW5ndGgmJigieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNGbG9hdGluZyh0aGlzLml0ZW1zWzBdLml0ZW0pKSx0aGlzLm9mZnNldFBhcmVudCYmdGhpcy5oZWxwZXImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMuX3JlZnJlc2hJdGVtUG9zaXRpb25zKHQpLHRoaXMub3B0aW9ucy5jdXN0b20mJnRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yKGU9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PWU7ZS0tKWk9dGhpcy5jb250YWluZXJzW2VdLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLmxlZnQ9aS5sZWZ0LHRoaXMuY29udGFpbmVyc1tlXS5jb250YWluZXJDYWNoZS50b3A9aS50b3AsdGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tlXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbZV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tlXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7cmV0dXJuIHRoaXN9LF9jcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbihpKXt2YXIgcyxuLG89KGk9aXx8dGhpcykub3B0aW9ucztvLnBsYWNlaG9sZGVyJiZvLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yIT09U3RyaW5nfHwocz1vLnBsYWNlaG9sZGVyLG49aS5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG8ucGxhY2Vob2xkZXI9e2VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdD1WKCI8IituKyI+IixpLmRvY3VtZW50WzBdKTtyZXR1cm4gaS5fYWRkQ2xhc3ModCwidWktc29ydGFibGUtcGxhY2Vob2xkZXIiLHN8fGkuY3VycmVudEl0ZW1bMF0uY2xhc3NOYW1lKS5fcmVtb3ZlQ2xhc3ModCwidWktc29ydGFibGUtaGVscGVyIiksInRib2R5Ij09PW4/aS5fY3JlYXRlVHJQbGFjZWhvbGRlcihpLmN1cnJlbnRJdGVtLmZpbmQoInRyIikuZXEoMCksVigiPHRyPiIsaS5kb2N1bWVudFswXSkuYXBwZW5kVG8odCkpOiJ0ciI9PT1uP2kuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoaS5jdXJyZW50SXRlbSx0KToiaW1nIj09PW4mJnQuYXR0cigic3JjIixpLmN1cnJlbnRJdGVtLmF0dHIoInNyYyIpKSxzfHx0LmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLHR9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3MmJiFvLmZvcmNlUGxhY2Vob2xkZXJTaXplfHwoZS5oZWlnaHQoKSYmKCFvLmZvcmNlUGxhY2Vob2xkZXJTaXplfHwidGJvZHkiIT09biYmInRyIiE9PW4pfHxlLmhlaWdodChpLmN1cnJlbnRJdGVtLmlubmVySGVpZ2h0KCktcGFyc2VJbnQoaS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdUb3AiKXx8MCwxMCktcGFyc2VJbnQoaS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdCb3R0b20iKXx8MCwxMCkpLGUud2lkdGgoKXx8ZS53aWR0aChpLmN1cnJlbnRJdGVtLmlubmVyV2lkdGgoKS1wYXJzZUludChpLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0xlZnQiKXx8MCwxMCktcGFyc2VJbnQoaS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdSaWdodCIpfHwwLDEwKSkpfX0pLGkucGxhY2Vob2xkZXI9VihvLnBsYWNlaG9sZGVyLmVsZW1lbnQuY2FsbChpLmVsZW1lbnQsaS5jdXJyZW50SXRlbSkpLGkuY3VycmVudEl0ZW0uYWZ0ZXIoaS5wbGFjZWhvbGRlciksby5wbGFjZWhvbGRlci51cGRhdGUoaSxpLnBsYWNlaG9sZGVyKX0sX2NyZWF0ZVRyUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3QuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7VigiPHRkPiYjMTYwOzwvdGQ+IixpLmRvY3VtZW50WzBdKS5hdHRyKCJjb2xzcGFuIixWKHRoaXMpLmF0dHIoImNvbHNwYW4iKXx8MSkuYXBwZW5kVG8oZSl9KX0sX2NvbnRhY3RDb250YWluZXJzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLHMsbixvLGEscixsLGgsYz1udWxsLHU9bnVsbCxkPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTswPD1kO2QtLSlWLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW2RdLmVsZW1lbnRbMF0pfHwodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW2RdLmNvbnRhaW5lckNhY2hlKT9jJiZWLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tkXS5lbGVtZW50WzBdLGMuZWxlbWVudFswXSl8fChjPXRoaXMuY29udGFpbmVyc1tkXSx1PWQpOnRoaXMuY29udGFpbmVyc1tkXS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW2RdLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbZF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKSk7aWYoYylpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbdV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1t1XS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t1XS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGk9MWU0LHM9bnVsbCxuPShsPWMuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSkpPyJsZWZ0IjoidG9wIixvPWw/IndpZHRoIjoiaGVpZ2h0IixoPWw/InBhZ2VYIjoicGFnZVkiLGU9dGhpcy5pdGVtcy5sZW5ndGgtMTswPD1lO2UtLSlWLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1t1XS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbZV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbZV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihhPXRoaXMuaXRlbXNbZV0uaXRlbS5vZmZzZXQoKVtuXSxyPSExLHRbaF0tYT50aGlzLml0ZW1zW2VdW29dLzImJihyPSEwKSxNYXRoLmFicyh0W2hdLWEpPGkmJihpPU1hdGguYWJzKHRbaF0tYSkscz10aGlzLml0ZW1zW2VdLHRoaXMuZGlyZWN0aW9uPXI/InVwIjoiZG93biIpKTsoc3x8dGhpcy5vcHRpb25zLmRyb3BPbkVtcHR5KSYmKHRoaXMuY3VycmVudENvbnRhaW5lciE9PXRoaXMuY29udGFpbmVyc1t1XT8ocz90aGlzLl9yZWFycmFuZ2UodCxzLG51bGwsITApOnRoaXMuX3JlYXJyYW5nZSh0LG51bGwsdGhpcy5jb250YWluZXJzW3VdLmVsZW1lbnQsITApLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jb250YWluZXJzW3VdLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcy5jb250YWluZXJzW3VdLHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlci51cGRhdGUodGhpcy5jdXJyZW50Q29udGFpbmVyLHRoaXMucGxhY2Vob2xkZXIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMucGxhY2Vob2xkZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lJiYodGhpcy5vdmVyZmxvd09mZnNldD10aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKSksdGhpcy5jb250YWluZXJzW3VdLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3VdLmNvbnRhaW5lckNhY2hlLm92ZXI9MSk6dGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXJ8fCh0aGlzLmNvbnRhaW5lcnNbdV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyPTEpKX19LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUuaGVscGVyP1YoZS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PWUuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiB0LnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fHRoaXMuYXBwZW5kVG9bMF0uYXBwZW5kQ2hpbGQodFswXSksdFswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0mJih0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfSksdFswXS5zdHlsZS53aWR0aCYmIWUuZm9yY2VIZWxwZXJTaXplfHx0LndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSksdFswXS5zdHlsZS5oZWlnaHQmJiFlLmZvcmNlSGVscGVyU2l6ZXx8dC5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksdH0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpLCJsZWZ0ImluKHQ9QXJyYXkuaXNBcnJheSh0KT97bGVmdDordFswXSx0b3A6K3RbMV18fDB9OnQpJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10LmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpLCJyaWdodCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXQucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpLCJ0b3AiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10LnRvcCt0aGlzLm1hcmdpbnMudG9wKSwiYm90dG9tImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdC5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZWLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSkse3RvcDoodD10aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZWLnVpLmllP3t0b3A6MCxsZWZ0OjB9OnQpLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9uKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciB0PXRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtyZXR1cm57dG9wOnQudG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDp0LmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMub3B0aW9uczsicGFyZW50Ij09PWkuY29udGFpbm1lbnQmJihpLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLCJkb2N1bWVudCIhPT1pLmNvbnRhaW5tZW50JiYid2luZG93IiE9PWkuY29udGFpbm1lbnR8fCh0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKSwvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PVYoaS5jb250YWlubWVudClbMF0sZT1WKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLGk9ImhpZGRlbiIhPT1WKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtlLmxlZnQrKHBhcnNlSW50KFYodCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChWKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LGUudG9wKyhwYXJzZUludChWKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChWKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxlLmxlZnQrKGk/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoVih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KFYodCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsZS50b3ArKGk/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoVih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoVih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnBvc2l0aW9uO3ZhciBpPSJhYnNvbHV0ZSI9PT10PzE6LTEscz0iYWJzb2x1dGUiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZWLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKT90aGlzLnNjcm9sbFBhcmVudDp0aGlzLm9mZnNldFBhcmVudCx0PS8oaHRtbHxib2R5KS9pLnRlc3Qoc1swXS50YWdOYW1lKTtyZXR1cm57dG9wOmUudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCppK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnQ/MDpzLnNjcm9sbFRvcCgpKSppLGxlZnQ6ZS5sZWZ0K3RoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQqaSt0aGlzLm9mZnNldC5wYXJlbnQubGVmdCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnQ/MDpzLnNjcm9sbExlZnQoKSkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPXQucGFnZVgscz10LnBhZ2VZLG49ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmVi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQsbz0vKGh0bWx8Ym9keSkvaS50ZXN0KG5bMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKGk9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYocz10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihpPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKHM9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxlLmdyaWQmJih0PXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChzLXRoaXMub3JpZ2luYWxQYWdlWSkvZS5ncmlkWzFdKSplLmdyaWRbMV0scz0hdGhpcy5jb250YWlubWVudHx8dC10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0mJnQtdGhpcy5vZmZzZXQuY2xpY2sudG9wPD10aGlzLmNvbnRhaW5tZW50WzNdP3Q6dC10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0/dC1lLmdyaWRbMV06dCtlLmdyaWRbMV0sdD10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoaS10aGlzLm9yaWdpbmFsUGFnZVgpL2UuZ3JpZFswXSkqZS5ncmlkWzBdLGk9IXRoaXMuY29udGFpbm1lbnR8fHQtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXSYmdC10aGlzLm9mZnNldC5jbGljay5sZWZ0PD10aGlzLmNvbnRhaW5tZW50WzJdP3Q6dC10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdP3QtZS5ncmlkWzBdOnQrZS5ncmlkWzBdKSkse3RvcDpzLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOm8/MDpuLnNjcm9sbFRvcCgpKSxsZWZ0OmktdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOm8/MDpuLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKHQsZSxpLHMpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTplLml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj9lLml0ZW1bMF06ZS5pdGVtWzBdLm5leHRTaWJsaW5nKSx0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIG49dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7bj09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFzKX0pfSxfY2xlYXI6ZnVuY3Rpb24odCxlKXt0aGlzLnJldmVydGluZz0hMTt2YXIgaSxzPVtdO2lmKCF0aGlzLl9ub0ZpbmFsU29ydCYmdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGgmJnRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pLHRoaXMuX25vRmluYWxTb3J0PW51bGwsdGhpcy5oZWxwZXJbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdKXtmb3IoaSBpbiB0aGlzLl9zdG9yZWRDU1MpImF1dG8iIT09dGhpcy5fc3RvcmVkQ1NTW2ldJiYic3RhdGljIiE9PXRoaXMuX3N0b3JlZENTU1tpXXx8KHRoaXMuX3N0b3JlZENTU1tpXT0iIik7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRJdGVtLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Z1bmN0aW9uIG4oZSxpLHMpe3JldHVybiBmdW5jdGlvbih0KXtzLl90cmlnZ2VyKGUsdCxpLl91aUhhc2goaSkpfX1mb3IodGhpcy5mcm9tT3V0c2lkZSYmIWUmJnMucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzLmZyb21PdXRzaWRlKSl9KSwhdGhpcy5mcm9tT3V0c2lkZSYmdGhpcy5kb21Qb3NpdGlvbi5wcmV2PT09dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCIudWktc29ydGFibGUtaGVscGVyIilbMF0mJnRoaXMuZG9tUG9zaXRpb24ucGFyZW50PT09dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXXx8ZXx8cy5wdXNoKGZ1bmN0aW9uKHQpe3RoaXMuX3RyaWdnZXIoInVwZGF0ZSIsdCx0aGlzLl91aUhhc2goKSl9KSx0aGlzIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYoZXx8KHMucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKCJyZW1vdmUiLHQsdGhpcy5fdWlIYXNoKCkpfSkscy5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSkscy5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKCJ1cGRhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PWk7aS0tKWV8fHMucHVzaChuKCJkZWFjdGl2YXRlIix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyJiYocy5wdXNoKG4oIm91dCIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbaV0pKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTtpZih0aGlzLnN0b3JlZEN1cnNvciYmKHRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLmNzcygiY3Vyc29yIix0aGlzLnN0b3JlZEN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpKSx0aGlzLl9zdG9yZWRPcGFjaXR5JiZ0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHRoaXMuX3N0b3JlZE9wYWNpdHkpLHRoaXMuX3N0b3JlZFpJbmRleCYmdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLCJhdXRvIj09PXRoaXMuX3N0b3JlZFpJbmRleD8iIjp0aGlzLl9zdG9yZWRaSW5kZXgpLHRoaXMuZHJhZ2dpbmc9ITEsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbHx8KHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksdGhpcy5oZWxwZXI9bnVsbCksIWUpe2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspc1tpXS5jYWxsKHRoaXMsdCk7dGhpcy5fdHJpZ2dlcigic3RvcCIsdCx0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbH0sX3RyaWdnZXI6ZnVuY3Rpb24oKXshMT09PVYuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cykmJnRoaXMuY2FuY2VsKCl9LF91aUhhc2g6ZnVuY3Rpb24odCl7dmFyIGU9dHx8dGhpcztyZXR1cm57aGVscGVyOmUuaGVscGVyLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXJ8fFYoW10pLHBvc2l0aW9uOmUucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjplLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OmUucG9zaXRpb25BYnMsaXRlbTplLmN1cnJlbnRJdGVtLHNlbmRlcjp0P3QuZWxlbWVudDpudWxsfX19KTtmdW5jdGlvbiBodChlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudmFsKCk7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpLHQhPT10aGlzLmVsZW1lbnQudmFsKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIpfX1WLndpZGdldCgidWkuc3Bpbm5lciIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLHdpZGdldEV2ZW50UHJlZml4OiJzcGluIixvcHRpb25zOntjbGFzc2VzOnsidWktc3Bpbm5lciI6InVpLWNvcm5lci1hbGwiLCJ1aS1zcGlubmVyLWRvd24iOiJ1aS1jb3JuZXItYnIiLCJ1aS1zcGlubmVyLXVwIjoidWktY29ybmVyLXRyIn0sY3VsdHVyZTpudWxsLGljb25zOntkb3duOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsdXA6InVpLWljb24tdHJpYW5nbGUtMS1uIn0saW5jcmVtZW50YWw6ITAsbWF4Om51bGwsbWluOm51bGwsbnVtYmVyRm9ybWF0Om51bGwscGFnZToxMCxzdGVwOjEsY2hhbmdlOm51bGwsc3BpbjpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uKCJtYXgiLHRoaXMub3B0aW9ucy5tYXgpLHRoaXMuX3NldE9wdGlvbigibWluIix0aGlzLm9wdGlvbnMubWluKSx0aGlzLl9zZXRPcHRpb24oInN0ZXAiLHRoaXMub3B0aW9ucy5zdGVwKSwiIiE9PXRoaXMudmFsdWUoKSYmdGhpcy5fdmFsdWUodGhpcy5lbGVtZW50LnZhbCgpLCEwKSx0aGlzLl9kcmF3KCksdGhpcy5fb24odGhpcy5fZXZlbnRzKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLl9zdXBlcigpLG49dGhpcy5lbGVtZW50O3JldHVybiBWLmVhY2goWyJtaW4iLCJtYXgiLCJzdGVwIl0sZnVuY3Rpb24odCxlKXt2YXIgaT1uLmF0dHIoZSk7bnVsbCE9aSYmaS5sZW5ndGgmJihzW2VdPWkpfSksc30sX2V2ZW50czp7a2V5ZG93bjpmdW5jdGlvbih0KXt0aGlzLl9zdGFydCh0KSYmdGhpcy5fa2V5ZG93bih0KSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxrZXl1cDoiX3N0b3AiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLmVsZW1lbnQudmFsKCl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5jYW5jZWxCbHVyP2RlbGV0ZSB0aGlzLmNhbmNlbEJsdXI6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0KSl9LG1vdXNld2hlZWw6ZnVuY3Rpb24odCxlKXt2YXIgaT1WLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO2lmKHRoaXMuZWxlbWVudFswXT09PWkmJmUpe2lmKCF0aGlzLnNwaW5uaW5nJiYhdGhpcy5fc3RhcnQodCkpcmV0dXJuITE7dGhpcy5fc3BpbigoMDxlPzE6LTEpKnRoaXMub3B0aW9ucy5zdGVwLHQpLGNsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lciksdGhpcy5tb3VzZXdoZWVsVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnNwaW5uaW5nJiZ0aGlzLl9zdG9wKHQpfSwxMDApLHQucHJldmVudERlZmF1bHQoKX19LCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXt2YXIgZTtmdW5jdGlvbiBpKCl7dGhpcy5lbGVtZW50WzBdPT09Vi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKXx8KHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9ZSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9ZX0pKX1lPXRoaXMuZWxlbWVudFswXT09PVYudWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSk/dGhpcy5wcmV2aW91czp0aGlzLmVsZW1lbnQudmFsKCksdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FsbCh0aGlzKSx0aGlzLmNhbmNlbEJsdXI9ITAsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyLGkuY2FsbCh0aGlzKX0pLCExIT09dGhpcy5fc3RhcnQodCkmJnRoaXMuX3JlcGVhdChudWxsLFYodC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3Bpbm5lci11cCIpPzE6LTEsdCl9LCJtb3VzZXVwIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIiwibW91c2VlbnRlciAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2lmKFYodC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3RhdGUtYWN0aXZlIikpcmV0dXJuITEhPT10aGlzLl9zdGFydCh0KSYmdm9pZCB0aGlzLl9yZXBlYXQobnVsbCxWKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCJ9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAoIjxzcGFuPiIpLnBhcmVudCgpLmFwcGVuZCgiPGE+PC9hPjxhPjwvYT4iKX0sX2RyYXc6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCksdGhpcy5fYWRkQ2xhc3ModGhpcy51aVNwaW5uZXIsInVpLXNwaW5uZXIiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSx0aGlzLl9hZGRDbGFzcygidWktc3Bpbm5lci1pbnB1dCIpLHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwic3BpbmJ1dHRvbiIpLHRoaXMuYnV0dG9ucz10aGlzLnVpU3Bpbm5lci5jaGlsZHJlbigiYSIpLmF0dHIoInRhYkluZGV4IiwtMSkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKS5idXR0b24oe2NsYXNzZXM6eyJ1aS1idXR0b24iOiIifX0pLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYnV0dG9ucywidWktY29ybmVyLWFsbCIpLHRoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5maXJzdCgpLCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLXVwIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b25zLmxhc3QoKSwidWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci1kb3duIiksdGhpcy5idXR0b25zLmZpcnN0KCkuYnV0dG9uKHtpY29uOnRoaXMub3B0aW9ucy5pY29ucy51cCxzaG93TGFiZWw6ITF9KSx0aGlzLmJ1dHRvbnMubGFzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMuZG93bixzaG93TGFiZWw6ITF9KSx0aGlzLmJ1dHRvbnMuaGVpZ2h0KCk+TWF0aC5jZWlsKC41KnRoaXMudWlTcGlubmVyLmhlaWdodCgpKSYmMDx0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSYmdGhpcy51aVNwaW5uZXIuaGVpZ2h0KHRoaXMudWlTcGlubmVyLmhlaWdodCgpKX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9Vi51aS5rZXlDb2RlO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgaS5VUDpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsMSx0KSwhMDtjYXNlIGkuRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLTEsdCksITA7Y2FzZSBpLlBBR0VfVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLGUucGFnZSx0KSwhMDtjYXNlIGkuUEFHRV9ET1dOOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwtZS5wYWdlLHQpLCEwfXJldHVybiExfSxfc3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuISghdGhpcy5zcGlubmluZyYmITE9PT10aGlzLl90cmlnZ2VyKCJzdGFydCIsdCkpJiYodGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITApfSxfcmVwZWF0OmZ1bmN0aW9uKHQsZSxpKXt0PXR8fDUwMCxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCxlLGkpfSx0KSx0aGlzLl9zcGluKGUqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKSxpPXRoaXMuX2FkanVzdFZhbHVlKGkrdCp0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSksdGhpcy5zcGlubmluZyYmITE9PT10aGlzLl90cmlnZ2VyKCJzcGluIixlLHt2YWx1ZTppfSl8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBlPyJmdW5jdGlvbiI9PXR5cGVvZiBlP2UodCk6TWF0aC5mbG9vcih0KnQqdC81ZTQtdCp0LzUwMCsxNyp0LzIwMCsxKToxfSxfcHJlY2lzaW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLnN0ZXApO3JldHVybiB0PW51bGwhPT10aGlzLm9wdGlvbnMubWluP01hdGgubWF4KHQsdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpOnR9LF9wcmVjaXNpb25PZjpmdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKCksdD1lLmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PXQ/MDplLmxlbmd0aC10LTF9LF9hZGp1c3RWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsaT1udWxsIT09ZS5taW4/ZS5taW46MCxzPXQtaTtyZXR1cm4gdD1pK01hdGgucm91bmQocy9lLnN0ZXApKmUuc3RlcCx0PXBhcnNlRmxvYXQodC50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSksbnVsbCE9PWUubWF4JiZ0PmUubWF4P2UubWF4Om51bGwhPT1lLm1pbiYmdDxlLm1pbj9lLm1pbjp0fSxfc3RvcDpmdW5jdGlvbih0KXt0aGlzLnNwaW5uaW5nJiYoY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLGNsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lciksdGhpcy5jb3VudGVyPTAsdGhpcy5zcGlubmluZz0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIix0KSl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaTtpZigiY3VsdHVyZSI9PT10fHwibnVtYmVyRm9ybWF0Ij09PXQpcmV0dXJuIGk9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKSx0aGlzLm9wdGlvbnNbdF09ZSx2b2lkIHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KGkpKTsibWF4IiE9PXQmJiJtaW4iIT09dCYmInN0ZXAiIT09dHx8InN0cmluZyI9PXR5cGVvZiBlJiYoZT10aGlzLl9wYXJzZShlKSksImljb25zIj09PXQmJihpPXRoaXMuYnV0dG9ucy5maXJzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLHRoaXMub3B0aW9ucy5pY29ucy51cCksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLGUudXApLGk9dGhpcy5idXR0b25zLmxhc3QoKS5maW5kKCIudWktaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuZG93biksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLGUuZG93bikpLHRoaXMuX3N1cGVyKHQsZSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl9zdXBlcih0KSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnVpU3Bpbm5lcixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KSx0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEhdCksdGhpcy5idXR0b25zLmJ1dHRvbih0PyJkaXNhYmxlIjoiZW5hYmxlIil9LF9zZXRPcHRpb25zOmh0KGZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKHQpfSksX3BhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiIiPT09KHQ9InN0cmluZyI9PXR5cGVvZiB0JiYiIiE9PXQ/d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUucGFyc2VGbG9hdCh0LDEwLHRoaXMub3B0aW9ucy5jdWx0dXJlKTordDp0KXx8aXNOYU4odCk/bnVsbDp0fSxfZm9ybWF0OmZ1bmN0aW9uKHQpe3JldHVybiIiPT09dD8iIjp3aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5mb3JtYXQodCx0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0LHRoaXMub3B0aW9ucy5jdWx0dXJlKTp0fSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1pbiI6dGhpcy5vcHRpb25zLm1pbiwiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKX0pfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZSgpO3JldHVybiBudWxsIT09dCYmdD09PXRoaXMuX2FkanVzdFZhbHVlKHQpfSxfdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaTsiIiE9PXQmJm51bGwhPT0oaT10aGlzLl9wYXJzZSh0KSkmJihlfHwoaT10aGlzLl9hZGp1c3RWYWx1ZShpKSksdD10aGlzLl9mb3JtYXQoaSkpLHRoaXMuZWxlbWVudC52YWwodCksdGhpcy5fcmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSByb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93IiksdGhpcy51aVNwaW5uZXIucmVwbGFjZVdpdGgodGhpcy5lbGVtZW50KX0sc3RlcFVwOmh0KGZ1bmN0aW9uKHQpe3RoaXMuX3N0ZXBVcCh0KX0pLF9zdGVwVXA6ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnQoKSYmKHRoaXMuX3NwaW4oKHR8fDEpKnRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxzdGVwRG93bjpodChmdW5jdGlvbih0KXt0aGlzLl9zdGVwRG93bih0KX0pLF9zdGVwRG93bjpmdW5jdGlvbih0KXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3BpbigodHx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6aHQoZnVuY3Rpb24odCl7dGhpcy5fc3RlcFVwKCh0fHwxKSp0aGlzLm9wdGlvbnMucGFnZSl9KSxwYWdlRG93bjpodChmdW5jdGlvbih0KXt0aGlzLl9zdGVwRG93bigodHx8MSkqdGhpcy5vcHRpb25zLnBhZ2UpfSksdmFsdWU6ZnVuY3Rpb24odCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSk7aHQodGhpcy5fdmFsdWUpLmNhbGwodGhpcyx0KX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlTcGlubmVyfX0pLCExIT09Vi51aUJhY2tDb21wYXQmJlYud2lkZ2V0KCJ1aS5zcGlubmVyIixWLnVpLnNwaW5uZXIse19lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAodGhpcy5fdWlTcGlubmVySHRtbCgpKS5wYXJlbnQoKS5hcHBlbmQodGhpcy5fYnV0dG9uSHRtbCgpKX0sX3VpU3Bpbm5lckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPHNwYW4+In0sX2J1dHRvbkh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPGE+PC9hPjxhPjwvYT4ifX0pO3ZhciBjdDtWLnVpLnNwaW5uZXI7Vi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjEzLjIiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOnsidWktdGFicyI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLW5hdiI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLXBhbmVsIjoidWktY29ybmVyLWJvdHRvbSIsInVpLXRhYnMtdGFiIjoidWktY29ybmVyLXRvcCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9pc0xvY2FsOihjdD0vIy4qJC8sZnVuY3Rpb24odCl7dmFyIGU9dC5ocmVmLnJlcGxhY2UoY3QsIiIpLGk9bG9jYXRpb24uaHJlZi5yZXBsYWNlKGN0LCIiKTt0cnl7ZT1kZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7fXRyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaCh0KXt9cmV0dXJuIDE8dC5oYXNoLmxlbmd0aCYmZT09PWl9KSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5fYWRkQ2xhc3MoInVpLXRhYnMiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSx0aGlzLl90b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsbnVsbCx0LmNvbGxhcHNpYmxlKSx0aGlzLl9wcm9jZXNzVGFicygpLHQuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxBcnJheS5pc0FycmF5KHQuZGlzYWJsZWQpJiYodC5kaXNhYmxlZD1WLnVuaXF1ZVNvcnQodC5kaXNhYmxlZC5jb25jYXQoVi5tYXAodGhpcy50YWJzLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24odCl7cmV0dXJuIGUudGFicy5pbmRleCh0KX0pKSkuc29ydCgpKSwhMSE9PXRoaXMub3B0aW9ucy5hY3RpdmUmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmU9dGhpcy5fZmluZEFjdGl2ZSh0LmFjdGl2ZSk6dGhpcy5hY3RpdmU9VigpLHRoaXMuX3JlZnJlc2goKSx0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMubG9hZCh0LmFjdGl2ZSl9LF9pbml0aWFsQWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vcHRpb25zLmFjdGl2ZSx0PXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxzPWxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO3JldHVybiBudWxsPT09aSYmKHMmJnRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKHQsZSl7aWYoVihlKS5hdHRyKCJhcmlhLWNvbnRyb2xzIik9PT1zKXJldHVybiBpPXQsITF9KSxudWxsIT09KGk9bnVsbD09PWk/dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5maWx0ZXIoIi51aS10YWJzLWFjdGl2ZSIpKTppKSYmLTEhPT1pfHwoaT0hIXRoaXMudGFicy5sZW5ndGgmJjApKSwhMSE9PWkmJi0xPT09KGk9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcShpKSkpJiYoaT0hdCYmMCksaT0hdCYmITE9PT1pJiZ0aGlzLmFuY2hvcnMubGVuZ3RoPzA6aX0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTpWKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgZT1WKFYudWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLmNsb3Nlc3QoImxpIiksaT10aGlzLnRhYnMuaW5kZXgoZSkscz0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdih0KSl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBWLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBWLnVpLmtleUNvZGUuRE9XTjppKys7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuVVA6Y2FzZSBWLnVpLmtleUNvZGUuTEVGVDpzPSExLGktLTticmVhaztjYXNlIFYudWkua2V5Q29kZS5FTkQ6aT10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuSE9NRTppPTA7YnJlYWs7Y2FzZSBWLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGkpO2Nhc2UgVi51aS5rZXlDb2RlLkVOVEVSOnJldHVybiB0LnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShpIT09dGhpcy5vcHRpb25zLmFjdGl2ZSYmaSk7ZGVmYXVsdDpyZXR1cm59dC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGk9dGhpcy5fZm9jdXNOZXh0VGFiKGkscyksdC5jdHJsS2V5fHx0Lm1ldGFLZXl8fChlLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpLHRoaXMudGFicy5lcShpKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwidHJ1ZSIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKCJhY3RpdmUiLGkpfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBhZ2VOYXYodCl8fHQuY3RybEtleSYmdC5rZXlDb2RlPT09Vi51aS5rZXlDb2RlLlVQJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLnRyaWdnZXIoImZvY3VzIikpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbih0KXtyZXR1cm4gdC5hbHRLZXkmJnQua2V5Q29kZT09PVYudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOnQuYWx0S2V5JiZ0LmtleUNvZGU9PT1WLnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50YWJzLmxlbmd0aC0xO2Zvcig7LTEhPT1WLmluQXJyYXkodD0odD1pPHQ/MDp0KTwwP2k6dCx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyl0PWU/dCsxOnQtMTtyZXR1cm4gdH0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbih0LGUpe3JldHVybiB0PXRoaXMuX2ZpbmROZXh0VGFiKHQsZSksdGhpcy50YWJzLmVxKHQpLnRyaWdnZXIoImZvY3VzIiksdH0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpeyJhY3RpdmUiIT09dD8odGhpcy5fc3VwZXIodCxlKSwiY29sbGFwc2libGUiPT09dCYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixudWxsLGUpLGV8fCExIT09dGhpcy5vcHRpb25zLmFjdGl2ZXx8dGhpcy5fYWN0aXZhdGUoMCkpLCJldmVudCI9PT10JiZ0aGlzLl9zZXR1cEV2ZW50cyhlKSwiaGVpZ2h0U3R5bGUiPT09dCYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShlKSk6dGhpcy5fYWN0aXZhdGUoZSl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0P3QucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPVYubWFwKGUuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbih0KXtyZXR1cm4gZS5pbmRleCh0KX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksITEhPT10LmFjdGl2ZSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFWLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1WKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1WKCkpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciBsPXRoaXMsdD10aGlzLnRhYnMsZT10aGlzLmFuY2hvcnMsaT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0IiksdGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpLHRoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtWKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7Vih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0IiksdGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gVigiYSIsdGhpcylbMF19KS5hdHRyKHt0YWJJbmRleDotMX0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYW5jaG9ycywidWktdGFicy1hbmNob3IiKSx0aGlzLnBhbmVscz1WKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24odCxlKXt2YXIgaSxzLG4sbz1WKGUpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxhPVYoZSkuY2xvc2VzdCgibGkiKSxyPWEuYXR0cigiYXJpYS1jb250cm9scyIpO2wuX2lzTG9jYWwoZSk/KG49KGk9ZS5oYXNoKS5zdWJzdHJpbmcoMSkscz1sLmVsZW1lbnQuZmluZChsLl9zYW5pdGl6ZVNlbGVjdG9yKGkpKSk6KG49YS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fFYoe30pLnVuaXF1ZUlkKClbMF0uaWQsKHM9bC5lbGVtZW50LmZpbmQoaT0iIyIrbikpLmxlbmd0aHx8KHM9bC5fY3JlYXRlUGFuZWwobikpLmluc2VydEFmdGVyKGwucGFuZWxzW3QtMV18fGwudGFibGlzdCkscy5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSkscy5sZW5ndGgmJihsLnBhbmVscz1sLnBhbmVscy5hZGQocykpLHImJmEuZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixyKSxhLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjpuLCJhcmlhLWxhYmVsbGVkYnkiOm99KSxzLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsbyl9KSx0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50IiksdCYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoZS5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKGkubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBWKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBlLGk7Zm9yKEFycmF5LmlzQXJyYXkodCkmJih0Lmxlbmd0aD90Lmxlbmd0aD09PXRoaXMuYW5jaG9ycy5sZW5ndGgmJih0PSEwKTp0PSExKSxpPTA7ZT10aGlzLnRhYnNbaV07aSsrKWU9VihlKSwhMD09PXR8fC0xIT09Vi5pbkFycmF5KGksdCk/KGUuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSx0aGlzLl9hZGRDbGFzcyhlLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIikpOihlLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKSx0aGlzLl9yZW1vdmVDbGFzcyhlLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIikpO3RoaXMub3B0aW9ucy5kaXNhYmxlZD10LHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0KCksdGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIixudWxsLCEwPT09dCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17fTt0JiZWLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsZSl7aVtlXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxpKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbih0KXt2YXIgaSxlPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT10PyhpPWUuaGVpZ2h0KCksaS09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Vih0aGlzKSxlPXQuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1lJiYiZml4ZWQiIT09ZSYmKGktPXQub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2ktPVYodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe1YodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1WKHRoaXMpLmlubmVySGVpZ2h0KCkrVih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09dCYmKGk9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7aT1NYXRoLm1heChpLFYodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoaSkpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPXRoaXMuYWN0aXZlLHM9Vih0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoImxpIiksbj1zWzBdPT09aVswXSxvPW4mJmUuY29sbGFwc2libGUsYT1vP1YoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihzKSxyPWkubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKGkpOlYoKSxpPXtvbGRUYWI6aSxvbGRQYW5lbDpyLG5ld1RhYjpvP1YoKTpzLG5ld1BhbmVsOmF9O3QucHJldmVudERlZmF1bHQoKSxzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxzLmhhc0NsYXNzKCJ1aS10YWJzLWxvYWRpbmciKXx8dGhpcy5ydW5uaW5nfHxuJiYhZS5jb2xsYXBzaWJsZXx8ITE9PT10aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxpKXx8KGUuYWN0aXZlPSFvJiZ0aGlzLnRhYnMuaW5kZXgocyksdGhpcy5hY3RpdmU9bj9WKCk6cyx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxyLmxlbmd0aHx8YS5sZW5ndGh8fFYuZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLGEubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KHMpLHQpLHRoaXMuX3RvZ2dsZSh0LGkpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMscz1lLm5ld1BhbmVsLG49ZS5vbGRQYW5lbDtmdW5jdGlvbiBvKCl7aS5ydW5uaW5nPSExLGkuX3RyaWdnZXIoImFjdGl2YXRlIix0LGUpfWZ1bmN0aW9uIGEoKXtpLl9hZGRDbGFzcyhlLm5ld1RhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHMubGVuZ3RoJiZpLm9wdGlvbnMuc2hvdz9pLl9zaG93KHMsaS5vcHRpb25zLnNob3csbyk6KHMuc2hvdygpLG8oKSl9dGhpcy5ydW5uaW5nPSEwLG4ubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKG4sdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtpLl9yZW1vdmVDbGFzcyhlLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGEoKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhlLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLG4uaGlkZSgpLGEoKSksbi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKSxlLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLHMubGVuZ3RoJiZuLmxlbmd0aD9lLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnMubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1WKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpLHMuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpLGUubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgdD10aGlzLl9maW5kQWN0aXZlKHQpO3RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKHQ9KHQ9IXQubGVuZ3RoP3RoaXMuYWN0aXZlOnQpLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OnQsY3VycmVudFRhcmdldDp0LHByZXZlbnREZWZhdWx0OlYubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuITE9PT10P1YoKTp0aGlzLnRhYnMuZXEodCl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdD0ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5hbmNob3JzLmluZGV4KHRoaXMuYW5jaG9ycy5maWx0ZXIoIltocmVmJD0nIitWLmVzY2FwZVNlbGVjdG9yKHQpKyInXSIpKTp0fSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMudGFibGlzdC5yZW1vdmVBdHRyKCJyb2xlIikub2ZmKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuYW5jaG9ycy5yZW1vdmVBdHRyKCJyb2xlIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7Vi5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP1YodGhpcykucmVtb3ZlKCk6Vih0aGlzKS5yZW1vdmVBdHRyKCJyb2xlIHRhYkluZGV4IGFyaWEtbGl2ZSBhcmlhLWJ1c3kgYXJpYS1zZWxlY3RlZCBhcmlhLWxhYmVsbGVkYnkgYXJpYS1oaWRkZW4gYXJpYS1leHBhbmRlZCIpfSksdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpLGU9dC5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTtlP3QuYXR0cigiYXJpYS1jb250cm9scyIsZSkucmVtb3ZlRGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik6dC5yZW1vdmVBdHRyKCJhcmlhLWNvbnRyb2xzIil9KSx0aGlzLnBhbmVscy5zaG93KCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoImhlaWdodCIsIiIpfSxlbmFibGU6ZnVuY3Rpb24oaSl7dmFyIHQ9dGhpcy5vcHRpb25zLmRpc2FibGVkOyExIT09dCYmKHQ9dm9pZCAwIT09aSYmKGk9dGhpcy5fZ2V0SW5kZXgoaSksQXJyYXkuaXNBcnJheSh0KT9WLm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiB0IT09aT90Om51bGx9KTpWLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZSE9PWk/ZTpudWxsfSkpLHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKHQpKX0sZGlzYWJsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aWYoITAhPT1lKXtpZih2b2lkIDA9PT10KWU9ITA7ZWxzZXtpZih0PXRoaXMuX2dldEluZGV4KHQpLC0xIT09Vi5pbkFycmF5KHQsZSkpcmV0dXJuO2U9QXJyYXkuaXNBcnJheShlKT9WLm1lcmdlKFt0XSxlKS5zb3J0KCk6W3RdfXRoaXMuX3NldE9wdGlvbkRpc2FibGVkKGUpfX0sbG9hZDpmdW5jdGlvbih0LHMpe3Q9dGhpcy5fZ2V0SW5kZXgodCk7ZnVuY3Rpb24gbih0LGUpeyJhYm9ydCI9PT1lJiZvLnBhbmVscy5zdG9wKCExLCEwKSxvLl9yZW1vdmVDbGFzcyhpLCJ1aS10YWJzLWxvYWRpbmciKSxhLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLHQ9PT1vLnhociYmZGVsZXRlIG8ueGhyfXZhciBvPXRoaXMsaT10aGlzLnRhYnMuZXEodCksdD1pLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGE9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoaSkscj17dGFiOmkscGFuZWw6YX07dGhpcy5faXNMb2NhbCh0WzBdKXx8KHRoaXMueGhyPVYuYWpheCh0aGlzLl9hamF4U2V0dGluZ3ModCxzLHIpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJih0aGlzLl9hZGRDbGFzcyhpLCJ1aS10YWJzLWxvYWRpbmciKSxhLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5kb25lKGZ1bmN0aW9uKHQsZSxpKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5odG1sKHQpLG8uX3RyaWdnZXIoImxvYWQiLHMsciksbihpLGUpfSwxKX0pLmZhaWwoZnVuY3Rpb24odCxlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bih0LGUpfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24odCxpLHMpe3ZhciBuPXRoaXM7cmV0dXJue3VybDp0LmF0dHIoImhyZWYiKS5yZXBsYWNlKC8jLiokLywiIiksYmVmb3JlU2VuZDpmdW5jdGlvbih0LGUpe3JldHVybiBuLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixpLFYuZXh0ZW5kKHtqcVhIUjp0LGFqYXhTZXR0aW5nczplfSxzKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKHQpe3Q9Vih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK3QpKX19KSwhMSE9PVYudWlCYWNrQ29tcGF0JiZWLndpZGdldCgidWkudGFicyIsVi51aS50YWJzLHtfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5fYWRkQ2xhc3ModGhpcy50YWJzLCJ1aS10YWIiKX19KTtWLnVpLnRhYnM7Vi53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjEzLjIiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS10b29sdGlwIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtc2hhZG93In0sY29udGVudDpmdW5jdGlvbigpe3ZhciB0PVYodGhpcykuYXR0cigidGl0bGUiKTtyZXR1cm4gVigiPGE+IikudGV4dCh0KS5odG1sKCl9LGhpZGU6ITAsaXRlbXM6Ilt0aXRsZV06bm90KFtkaXNhYmxlZF0pIixwb3NpdGlvbjp7bXk6ImxlZnQgdG9wKzE1IixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoiZmxpcGZpdCBmbGlwIn0sc2hvdzohMCx0cmFjazohMSxjbG9zZTpudWxsLG9wZW46bnVsbH0sX2FkZERlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pO2kucHVzaChlKSx0LmRhdGEoInVpLXRvb2x0aXAtaWQiLGUpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKGkuam9pbigiICIpKSl9LF9yZW1vdmVEZXNjcmliZWRCeTpmdW5jdGlvbih0KXt2YXIgZT10LmRhdGEoInVpLXRvb2x0aXAtaWQiKSxpPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKSxlPVYuaW5BcnJheShlLGkpOy0xIT09ZSYmaS5zcGxpY2UoZSwxKSx0LnJlbW92ZURhdGEoInVpLXRvb2x0aXAtaWQiKSwoaT1TdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbChpLmpvaW4oIiAiKSkpP3QuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsaSk6dC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pLHRoaXMudG9vbHRpcHM9e30sdGhpcy5wYXJlbnRzPXt9LHRoaXMubGl2ZVJlZ2lvbj1WKCI8ZGl2PiIpLmF0dHIoe3JvbGU6ImxvZyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KSx0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIiksdGhpcy5kaXNhYmxlZFRpdGxlcz1WKFtdKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dGhpcy5fc3VwZXIodCxlKSwiY29udGVudCI9PT10JiZWLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbih0LGUpe2kuX3VwZGF0ZUNvbnRlbnQoZS5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpc1t0PyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBzPXRoaXM7Vi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24odCxlKXt2YXIgaT1WLkV2ZW50KCJibHVyIik7aS50YXJnZXQ9aS5jdXJyZW50VGFyZ2V0PWUuZWxlbWVudFswXSxzLmNsb3NlKGksITApfSksdGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO2lmKHQuaXMoIlt0aXRsZV0iKSlyZXR1cm4gdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIix0LmF0dHIoInRpdGxlIikpLnJlbW92ZUF0dHIoInRpdGxlIil9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1WKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZ0LmF0dHIoInRpdGxlIix0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KSx0aGlzLmRpc2FibGVkVGl0bGVzPVYoW10pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsZT1WKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7ZS5sZW5ndGgmJiFlLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGUuYXR0cigidGl0bGUiKSYmZS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixlLmF0dHIoInRpdGxlIikpLGUuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmIm1vdXNlb3ZlciI9PT10LnR5cGUmJmUucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPVYodGhpcyk7ZS5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKCh0PVYuRXZlbnQoImJsdXIiKSkudGFyZ2V0PXQuY3VycmVudFRhcmdldD10aGlzLGkuY2xvc2UodCwhMCkpLGUuYXR0cigidGl0bGUiKSYmKGUudW5pcXVlSWQoKSxpLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTplLmF0dHIoInRpdGxlIil9LGUuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnModCxlKSx0aGlzLl91cGRhdGVDb250ZW50KGUsdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihlLGkpe3ZhciB0PXRoaXMub3B0aW9ucy5jb250ZW50LHM9dGhpcyxuPWk/aS50eXBlOm51bGw7aWYoInN0cmluZyI9PXR5cGVvZiB0fHx0Lm5vZGVUeXBlfHx0LmpxdWVyeSlyZXR1cm4gdGhpcy5fb3BlbihpLGUsdCk7KHQ9dC5jYWxsKGVbMF0sZnVuY3Rpb24odCl7cy5fZGVsYXkoZnVuY3Rpb24oKXtlLmRhdGEoInVpLXRvb2x0aXAtb3BlbiIpJiYoaSYmKGkudHlwZT1uKSx0aGlzLl9vcGVuKGksZSx0KSl9KX0pKSYmdGhpcy5fb3BlbihpLGUsdCl9LF9vcGVuOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuLG8sYT1WLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO2Z1bmN0aW9uIHIodCl7YS5vZj10LG4uaXMoIjpoaWRkZW4iKXx8bi5wb3NpdGlvbihhKX1pJiYoKHM9dGhpcy5fZmluZChlKSk/cy50b29sdGlwLmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKGkpOihlLmlzKCJbdGl0bGVdIikmJih0JiYibW91c2VvdmVyIj09PXQudHlwZT9lLmF0dHIoInRpdGxlIiwiIik6ZS5yZW1vdmVBdHRyKCJ0aXRsZSIpKSxzPXRoaXMuX3Rvb2x0aXAoZSksbj1zLnRvb2x0aXAsdGhpcy5fYWRkRGVzY3JpYmVkQnkoZSxuLmF0dHIoImlkIikpLG4uZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwoaSksdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLChpPVYoIjxkaXY+IikuaHRtbChuLmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKCkpKS5yZW1vdmVBdHRyKCJuYW1lIikuZmluZCgiW25hbWVdIikucmVtb3ZlQXR0cigibmFtZSIpLGkucmVtb3ZlQXR0cigiaWQiKS5maW5kKCJbaWRdIikucmVtb3ZlQXR0cigiaWQiKSxpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbiksdGhpcy5vcHRpb25zLnRyYWNrJiZ0JiYvXm1vdXNlLy50ZXN0KHQudHlwZSk/KHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlbW92ZTpyfSkscih0KSk6bi5wb3NpdGlvbihWLmV4dGVuZCh7b2Y6ZX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSksbi5oaWRlKCksdGhpcy5fc2hvdyhuLHRoaXMub3B0aW9ucy5zaG93KSx0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKG89dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe24uaXMoIjp2aXNpYmxlIikmJihyKGEub2YpLGNsZWFySW50ZXJ2YWwobykpfSwxMykpLHRoaXMuX3RyaWdnZXIoIm9wZW4iLHQse3Rvb2x0aXA6bn0pKSl9LF9yZWdpc3RlckNsb3NlSGFuZGxlcnM6ZnVuY3Rpb24odCxlKXt2YXIgaT17a2V5dXA6ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09Vi51aS5rZXlDb2RlLkVTQ0FQRSYmKCh0PVYuRXZlbnQodCkpLmN1cnJlbnRUYXJnZXQ9ZVswXSx0aGlzLmNsb3NlKHQsITApKX19O2VbMF0hPT10aGlzLmVsZW1lbnRbMF0mJihpLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZpbmQoZSk7dCYmdGhpcy5fcmVtb3ZlVG9vbHRpcCh0LnRvb2x0aXApfSksdCYmIm1vdXNlb3ZlciIhPT10LnR5cGV8fChpLm1vdXNlbGVhdmU9ImNsb3NlIiksdCYmImZvY3VzaW4iIT09dC50eXBlfHwoaS5mb2N1c291dD0iY2xvc2UiKSx0aGlzLl9vbighMCxlLGkpfSxjbG9zZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMscz1WKHQ/dC5jdXJyZW50VGFyZ2V0OnRoaXMuZWxlbWVudCksbj10aGlzLl9maW5kKHMpO24/KGU9bi50b29sdGlwLG4uY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdykscy5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFzLmF0dHIoInRpdGxlIikmJnMuYXR0cigidGl0bGUiLHMuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShzKSxuLmhpZGluZz0hMCxlLnN0b3AoITApLHRoaXMuX2hpZGUoZSx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3JlbW92ZVRvb2x0aXAoVih0aGlzKSl9KSxzLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpLHRoaXMuX29mZihzLCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwIiksc1swXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKHMsInJlbW92ZSIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZW1vdmUiKSx0JiYibW91c2VsZWF2ZSI9PT10LnR5cGUmJlYuZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24odCxlKXtWKGUuZWxlbWVudCkuYXR0cigidGl0bGUiLGUudGl0bGUpLGRlbGV0ZSBpLnBhcmVudHNbdF19KSxuLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQse3Rvb2x0aXA6ZX0pLG4uaGlkaW5nfHwobi5jbG9zaW5nPSExKSkpOnMucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1vcGVuIil9LF90b29sdGlwOmZ1bmN0aW9uKHQpe3ZhciBlPVYoIjxkaXY+IikuYXR0cigicm9sZSIsInRvb2x0aXAiKSxpPVYoIjxkaXY+IikuYXBwZW5kVG8oZSkscz1lLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTtyZXR1cm4gdGhpcy5fYWRkQ2xhc3MoaSwidWktdG9vbHRpcC1jb250ZW50IiksdGhpcy5fYWRkQ2xhc3MoZSwidWktdG9vbHRpcCIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLGUuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8odCkpLHRoaXMudG9vbHRpcHNbc109e2VsZW1lbnQ6dCx0b29sdGlwOmV9fSxfZmluZDpmdW5jdGlvbih0KXt0PXQuZGF0YSgidWktdG9vbHRpcC1pZCIpO3JldHVybiB0P3RoaXMudG9vbHRpcHNbdF06bnVsbH0sX3JlbW92ZVRvb2x0aXA6ZnVuY3Rpb24odCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmRlbGF5ZWRTaG93KSx0LnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnRvb2x0aXBzW3QuYXR0cigiaWQiKV19LF9hcHBlbmRUbzpmdW5jdGlvbih0KXt0PXQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKTtyZXR1cm4gdD0hdC5sZW5ndGg/dGhpcy5kb2N1bWVudFswXS5ib2R5OnR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHM9dGhpcztWLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbih0LGUpe3ZhciBpPVYuRXZlbnQoImJsdXIiKSxlPWUuZWxlbWVudDtpLnRhcmdldD1pLmN1cnJlbnRUYXJnZXQ9ZVswXSxzLmNsb3NlKGksITApLFYoIiMiK3QpLnJlbW92ZSgpLGUuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYoZS5hdHRyKCJ0aXRsZSIpfHxlLmF0dHIoInRpdGxlIixlLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksZS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSksdGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfX0pLCExIT09Vi51aUJhY2tDb21wYXQmJlYud2lkZ2V0KCJ1aS50b29sdGlwIixWLnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmdC50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLHR9fSk7Vi51aS50b29sdGlwfSk7DQovKiEgalF1ZXJ5IE1pZ3JhdGUgdjMuNC4wIHwgKGMpIE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8NCiJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5Lm1pZ3JhdGVNdXRlJiYoalF1ZXJ5Lm1pZ3JhdGVNdXRlPSEwKSxmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihlKXtyZXR1cm4gdChlLHdpbmRvdyl9KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKCJqcXVlcnkiKSx3aW5kb3cpOnQoalF1ZXJ5LHdpbmRvdyl9KGZ1bmN0aW9uKHMsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIDA8PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPS9eKFxkKylcLihcZCspXC4oXGQrKS8sbj1yLmV4ZWMoZSl8fFtdLG89ci5leGVjKHQpfHxbXSxhPTE7YTw9MzthKyspe2lmKCtuW2FdPitvW2FdKXJldHVybiAxO2lmKCtuW2FdPCtvW2FdKXJldHVybi0xfXJldHVybiAwfShzLmZuLmpxdWVyeSxlKX1zLm1pZ3JhdGVWZXJzaW9uPSIzLjQuMCI7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKSxvPShzLm1pZ3JhdGVEaXNhYmxlUGF0Y2hlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFthcmd1bWVudHNbZV1dPSEwfSxzLm1pZ3JhdGVFbmFibGVQYXRjaGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylkZWxldGUgdFthcmd1bWVudHNbZV1dfSxzLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4hdFtlXX0sbi5jb25zb2xlJiZuLmNvbnNvbGUubG9nJiYocyYmZSgiMy4wLjAiKXx8bi5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBqUXVlcnkgMy4wLjArIFJFUVVJUkVEIikscy5taWdyYXRlV2FybmluZ3MmJm4uY29uc29sZS5sb2coIkpRTUlHUkFURTogTWlncmF0ZSBwbHVnaW4gbG9hZGVkIG11bHRpcGxlIHRpbWVzIiksbi5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIGlzIGluc3RhbGxlZCIrKHMubWlncmF0ZU11dGU/IiI6IiB3aXRoIGxvZ2dpbmcgYWN0aXZlIikrIiwgdmVyc2lvbiAiK3MubWlncmF0ZVZlcnNpb24pKSx7fSk7ZnVuY3Rpb24gaShlLHQpe3ZhciByPW4uY29uc29sZTshcy5taWdyYXRlSXNQYXRjaEVuYWJsZWQoZSl8fHMubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3MmJm9bdF18fChvW3RdPSEwLHMubWlncmF0ZVdhcm5pbmdzLnB1c2godCsiIFsiK2UrIl0iKSxyJiZyLndhcm4mJiFzLm1pZ3JhdGVNdXRlJiYoci53YXJuKCJKUU1JR1JBVEU6ICIrdCkscy5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIHIoZSx0LHIsbixvKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShuLG8pLHJ9LHNldDpmdW5jdGlvbihlKXtpKG4sbykscj1lfX0pfWZ1bmN0aW9uIGEoZSx0LHIsbixvKXt2YXIgYT1lW3RdO2VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gbyYmaShuLG8pLChzLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZChuKT9yOmF8fHMubm9vcCkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB1KGUsdCxyLG4sbyl7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJObyB3YXJuaW5nIG1lc3NhZ2UgcHJvdmlkZWQiKTthKGUsdCxyLG4sbyl9ZnVuY3Rpb24gZChlLHQscixuKXthKGUsdCxyLG4pfXMubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3M9ITAscy5taWdyYXRlV2FybmluZ3M9W10sdm9pZCAwPT09cy5taWdyYXRlVHJhY2UmJihzLm1pZ3JhdGVUcmFjZT0hMCkscy5taWdyYXRlUmVzZXQ9ZnVuY3Rpb24oKXtvPXt9LHMubWlncmF0ZVdhcm5pbmdzLmxlbmd0aD0wfSwiQmFja0NvbXBhdCI9PT1uLmRvY3VtZW50LmNvbXBhdE1vZGUmJmkoInF1aXJrcyIsImpRdWVyeSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFF1aXJrcyBNb2RlIik7dmFyIGMsbCxwLGY9e30sbT1zLmZuLmluaXQseT1zLmZpbmQsaD0vXFsoXHMqWy1cd10rXHMqKShbfnxeJCpdPz0pXHMqKFstXHcjXSo/I1stXHcjXSopXHMqXF0vLGc9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdL2csdj0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Zm9yKGMgaW4gZChzLmZuLCJpbml0IixmdW5jdGlvbihlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBzLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZCgic2VsZWN0b3ItZW1wdHktaWQiKSYmInN0cmluZyI9PXR5cGVvZiBlJiYiIyI9PT1lJiYoaSgic2VsZWN0b3ItZW1wdHktaWQiLCJqUXVlcnkoICcjJyApIGlzIG5vdCBhIHZhbGlkIHNlbGVjdG9yIiksdFswXT1bXSksbS5hcHBseSh0aGlzLHQpfSwic2VsZWN0b3ItZW1wdHktaWQiKSxzLmZuLmluaXQucHJvdG90eXBlPXMuZm4sZChzLCJmaW5kIixmdW5jdGlvbih0KXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmaC50ZXN0KHQpKXRyeXtuLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9Y2F0Y2goZSl7dD10LnJlcGxhY2UoZyxmdW5jdGlvbihlLHQscixuKXtyZXR1cm4iWyIrdCtyKyciJytuKyciXSd9KTt0cnl7bi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpLGkoInNlbGVjdG9yLWhhc2giLCJBdHRyaWJ1dGUgc2VsZWN0b3Igd2l0aCAnIycgbXVzdCBiZSBxdW90ZWQ6ICIrclswXSksclswXT10fWNhdGNoKGUpe2koInNlbGVjdG9yLWhhc2giLCJBdHRyaWJ1dGUgc2VsZWN0b3Igd2l0aCAnIycgd2FzIG5vdCBmaXhlZDogIityWzBdKX19cmV0dXJuIHkuYXBwbHkodGhpcyxyKX0sInNlbGVjdG9yLWhhc2giKSx5KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh5LGMpJiYocy5maW5kW2NdPXlbY10pO3Uocy5mbiwic2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LCJzaXplIiwialF1ZXJ5LmZuLnNpemUoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkOyB1c2UgdGhlIC5sZW5ndGggcHJvcGVydHkiKSx1KHMsInBhcnNlSlNPTiIsZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5wYXJzZS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCJwYXJzZUpTT04iLCJqUXVlcnkucGFyc2VKU09OIGlzIGRlcHJlY2F0ZWQ7IHVzZSBKU09OLnBhcnNlIiksdShzLCJob2xkUmVhZHkiLHMuaG9sZFJlYWR5LCJob2xkUmVhZHkiLCJqUXVlcnkuaG9sZFJlYWR5IGlzIGRlcHJlY2F0ZWQiKSx1KHMsInVuaXF1ZSIscy51bmlxdWVTb3J0LCJ1bmlxdWUiLCJqUXVlcnkudW5pcXVlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkudW5pcXVlU29ydCIpLHIocy5leHByLCJmaWx0ZXJzIixzLmV4cHIucHNldWRvcywiZXhwci1wcmUtcHNldWRvcyIsImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKSxyKHMuZXhwciwiOiIscy5leHByLnBzZXVkb3MsImV4cHItcHJlLXBzZXVkb3MiLCJqUXVlcnkuZXhwclsnOiddIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkuZXhwci5wc2V1ZG9zIiksZSgiMy4xLjEiKSYmdShzLCJ0cmltIixmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZSh2LCIiKX0sInRyaW0iLCJqUXVlcnkudHJpbSBpcyBkZXByZWNhdGVkOyB1c2UgU3RyaW5nLnByb3RvdHlwZS50cmltIiksZSgiMy4yLjAiKSYmKHUocywibm9kZU5hbWUiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sIm5vZGVOYW1lIiwialF1ZXJ5Lm5vZGVOYW1lIGlzIGRlcHJlY2F0ZWQiKSx1KHMsImlzQXJyYXkiLEFycmF5LmlzQXJyYXksImlzQXJyYXkiLCJqUXVlcnkuaXNBcnJheSBpcyBkZXByZWNhdGVkOyB1c2UgQXJyYXkuaXNBcnJheSIpKSxlKCIzLjMuMCIpJiYodShzLCJpc051bWVyaWMiLGZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybigibnVtYmVyIj09dHx8InN0cmluZyI9PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sImlzTnVtZXJpYyIsImpRdWVyeS5pc051bWVyaWMoKSBpcyBkZXByZWNhdGVkIikscy5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe2ZbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSksdShzLCJ0eXBlIixmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9lKyIiOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZltPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX0sInR5cGUiLCJqUXVlcnkudHlwZSBpcyBkZXByZWNhdGVkIiksdShzLCJpc0Z1bmN0aW9uIixmdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX0sImlzRnVuY3Rpb24iLCJqUXVlcnkuaXNGdW5jdGlvbigpIGlzIGRlcHJlY2F0ZWQiKSx1KHMsImlzV2luZG93IixmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSwiaXNXaW5kb3ciLCJqUXVlcnkuaXNXaW5kb3coKSBpcyBkZXByZWNhdGVkIikpLHMuYWpheCYmKGw9cy5hamF4LHA9Lyg9KVw/KD89JnwkKXxcP1w/LyxkKHMsImFqYXgiLGZ1bmN0aW9uKCl7dmFyIGU9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUucHJvbWlzZSYmKHUoZSwic3VjY2VzcyIsZS5kb25lLCJqcVhIUi1tZXRob2RzIiwialFYSFIuc3VjY2VzcyBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksdShlLCJlcnJvciIsZS5mYWlsLCJqcVhIUi1tZXRob2RzIiwialFYSFIuZXJyb3IgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpLHUoZSwiY29tcGxldGUiLGUuYWx3YXlzLCJqcVhIUi1tZXRob2RzIiwialFYSFIuY29tcGxldGUgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpKSxlfSwianFYSFItbWV0aG9kcyIpLGUoIjQuMC4wIil8fHMuYWpheFByZWZpbHRlcigiK2pzb24iLGZ1bmN0aW9uKGUpeyExIT09ZS5qc29ucCYmKHAudGVzdChlLnVybCl8fCJzdHJpbmciPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmcC50ZXN0KGUuZGF0YSkpJiZpKCJqc29ucC1wcm9tb3Rpb24iLCJKU09OLXRvLUpTT05QIGF1dG8tcHJvbW90aW9uIGlzIGRlcHJlY2F0ZWQiKX0pKTt2YXIgaj1zLmZuLnJlbW92ZUF0dHIsYj1zLmZuLnRvZ2dsZUNsYXNzLHc9L1xTKy9nO2Z1bmN0aW9uIFEoZSl7cmV0dXJuIGUucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KX1kKHMuZm4sInJlbW92ZUF0dHIiLGZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIHMuZWFjaChlLm1hdGNoKHcpLGZ1bmN0aW9uKGUsdCl7cy5leHByLm1hdGNoLmJvb2wudGVzdCh0KSYmKGkoInJlbW92ZUF0dHItYm9vbCIsImpRdWVyeS5mbi5yZW1vdmVBdHRyIG5vIGxvbmdlciBzZXRzIGJvb2xlYW4gcHJvcGVydGllczogIit0KSxyLnByb3AodCwhMSkpfSksai5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LCJyZW1vdmVBdHRyLWJvb2wiKSxkKHMuZm4sInRvZ2dsZUNsYXNzIixmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD9iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooaSgidG9nZ2xlQ2xhc3MtYm9vbCIsImpRdWVyeS5mbi50b2dnbGVDbGFzcyggYm9vbGVhbiApIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2UmJnMuZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwhZSYmITEhPT10JiZzLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KSl9LCJ0b2dnbGVDbGFzcy1ib29sIik7dmFyIHgsQT0hMSxSPS9eW2Etel0vLFQ9L14oPzpCb3JkZXIoPzpUb3B8UmlnaHR8Qm90dG9tfExlZnQpPyg/OldpZHRofCl8KD86TWFyZ2lufFBhZGRpbmcpPyg/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/fCg/Ok1pbnxNYXgpPyg/OldpZHRofEhlaWdodCkpJC87cy5zd2FwJiZzLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCIsInJlbGlhYmxlTWFyZ2luUmlnaHQiXSxmdW5jdGlvbihlLHQpe3ZhciByPXMuY3NzSG9va3NbdF0mJnMuY3NzSG9va3NbdF0uZ2V0O3ImJihzLmNzc0hvb2tzW3RdLmdldD1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBBPSEwLGU9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksQT0hMSxlfSl9KSxkKHMsInN3YXAiLGZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvLGE9e307Zm9yKG8gaW4gQXx8aSgic3dhcCIsImpRdWVyeS5zd2FwKCkgaXMgdW5kb2N1bWVudGVkIGFuZCBkZXByZWNhdGVkIiksdClhW29dPWUuc3R5bGVbb10sZS5zdHlsZVtvXT10W29dO2ZvcihvIGluIHI9ci5hcHBseShlLG58fFtdKSx0KWUuc3R5bGVbb109YVtvXTtyZXR1cm4gcn0sInN3YXAiKSxlKCIzLjQuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYocy5jc3NQcm9wcz1uZXcgUHJveHkocy5jc3NQcm9wc3x8e30se3NldDpmdW5jdGlvbigpe3JldHVybiBpKCJjc3NQcm9wcyIsImpRdWVyeS5jc3NQcm9wcyBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKSxlKCI0LjAuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYocy5jc3NOdW1iZXI9bmV3IFByb3h5KHthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0se2dldDpmdW5jdGlvbigpe3JldHVybiBpKCJjc3MtbnVtYmVyIiwialF1ZXJ5LmNzc051bWJlciBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgiY3NzLW51bWJlciIsImpRdWVyeS5jc3NOdW1iZXIgaXMgZGVwcmVjYXRlZCIpLFJlZmxlY3Quc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSkseD1zLmZuLmNzcyxkKHMuZm4sImNzcyIsZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXM7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk/KHMuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cy5mbi5jc3MuY2FsbChuLGUsdCl9KSx0aGlzKTooIm51bWJlciI9PXR5cGVvZiB0JiYodD1RKGUpLHI9dCxSLnRlc3QocikmJlQudGVzdChyWzBdLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSl8fHMuY3NzTnVtYmVyW3RdfHxpKCJjc3MtbnVtYmVyIiwnTnVtYmVyLXR5cGVkIHZhbHVlcyBhcmUgZGVwcmVjYXRlZCBmb3IgalF1ZXJ5LmZuLmNzcyggIicrZSsnIiwgdmFsdWUgKScpKSx4LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LCJjc3MtbnVtYmVyIik7ZnVuY3Rpb24gQyhlKXt2YXIgdD1uLmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7cmV0dXJuIHQuYm9keS5pbm5lckhUTUw9ZSx0LmJvZHkmJnQuYm9keS5pbm5lckhUTUx9dmFyIFMsTixQLGssSCxFLE0scT1zLmRhdGEsRD0oZChzLCJkYXRhIixmdW5jdGlvbihlLHQscil7dmFyIG4sbyxhO2lmKHQmJiJvYmplY3QiPT10eXBlb2YgdCYmMj09PWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihhIGluIG49cy5oYXNEYXRhKGUpJiZxLmNhbGwodGhpcyxlKSxvPXt9LHQpYSE9PVEoYSk/KGkoImRhdGEtY2FtZWxDYXNlIiwialF1ZXJ5LmRhdGEoKSBhbHdheXMgc2V0cy9nZXRzIGNhbWVsQ2FzZWQgbmFtZXM6ICIrYSksblthXT10W2FdKTpvW2FdPXRbYV07cmV0dXJuIHEuY2FsbCh0aGlzLGUsbyksdH1yZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0JiZ0IT09USh0KSYmKG49cy5oYXNEYXRhKGUpJiZxLmNhbGwodGhpcyxlKSkmJnQgaW4gbj8oaSgiZGF0YS1jYW1lbENhc2UiLCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIit0KSwyPGFyZ3VtZW50cy5sZW5ndGgmJihuW3RdPXIpLG5bdF0pOnEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwiZGF0YS1jYW1lbENhc2UiKSxzLmZ4JiYoUD1zLlR3ZWVuLnByb3RvdHlwZS5ydW4saz1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZChzLlR3ZWVuLnByb3RvdHlwZSwicnVuIixmdW5jdGlvbigpezE8cy5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoImVhc2luZy1vbmUtYXJnIiwiJ2pRdWVyeS5lYXNpbmcuIit0aGlzLmVhc2luZy50b1N0cmluZygpKyInIHNob3VsZCB1c2Ugb25seSBvbmUgYXJndW1lbnQiKSxzLmVhc2luZ1t0aGlzLmVhc2luZ109ayksUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LCJlYXNpbmctb25lLWFyZyIpLFM9cy5meC5pbnRlcnZhbCxOPSJqUXVlcnkuZnguaW50ZXJ2YWwgaXMgZGVwcmVjYXRlZCIsbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLmZ4LCJpbnRlcnZhbCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmRvY3VtZW50LmhpZGRlbnx8aSgiZngtaW50ZXJ2YWwiLE4pLHMubWlncmF0ZUlzUGF0Y2hFbmFibGVkKCJmeC1pbnRlcnZhbCIpJiZ2b2lkIDA9PT1TPzEzOlN9LHNldDpmdW5jdGlvbihlKXtpKCJmeC1pbnRlcnZhbCIsTiksUz1lfX0pKSxzLmZuLmxvYWQpLEY9cy5ldmVudC5hZGQsVz1zLmV2ZW50LmZpeCxPPShzLmV2ZW50LnByb3BzPVtdLHMuZXZlbnQuZml4SG9va3M9e30scihzLmV2ZW50LnByb3BzLCJjb25jYXQiLHMuZXZlbnQucHJvcHMuY29uY2F0LCJldmVudC1vbGQtcGF0Y2giLCJqUXVlcnkuZXZlbnQucHJvcHMuY29uY2F0KCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpLGQocy5ldmVudCwiZml4IixmdW5jdGlvbihlKXt2YXIgdD1lLnR5cGUscj10aGlzLmZpeEhvb2tzW3RdLG49cy5ldmVudC5wcm9wcztpZihuLmxlbmd0aCl7aSgiZXZlbnQtb2xkLXBhdGNoIiwialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK24uam9pbigpKTt3aGlsZShuLmxlbmd0aClzLmV2ZW50LmFkZFByb3Aobi5wb3AoKSl9aWYociYmIXIuX21pZ3JhdGVkXyYmKHIuX21pZ3JhdGVkXz0hMCxpKCJldmVudC1vbGQtcGF0Y2giLCJqUXVlcnkuZXZlbnQuZml4SG9va3MgYXJlIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQ6ICIrdCksKG49ci5wcm9wcykmJm4ubGVuZ3RoKSl3aGlsZShuLmxlbmd0aClzLmV2ZW50LmFkZFByb3Aobi5wb3AoKSk7cmV0dXJuIHQ9Vy5jYWxsKHRoaXMsZSksciYmci5maWx0ZXI/ci5maWx0ZXIodCxlKTp0fSwiZXZlbnQtb2xkLXBhdGNoIiksZChzLmV2ZW50LCJhZGQiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT1uJiYibG9hZCI9PT10JiYiY29tcGxldGUiPT09bi5kb2N1bWVudC5yZWFkeVN0YXRlJiZpKCJsb2FkLWFmdGVyLWV2ZW50IiwialF1ZXJ5KHdpbmRvdykub24oJ2xvYWQnLi4uKSBjYWxsZWQgYWZ0ZXIgbG9hZCBldmVudCBvY2N1cnJlZCIpLEYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwibG9hZC1hZnRlci1ldmVudCIpLHMuZWFjaChbImxvYWQiLCJ1bmxvYWQiLCJlcnJvciJdLGZ1bmN0aW9uKGUsdCl7ZChzLmZuLHQsZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuImxvYWQiPT09dCYmInN0cmluZyI9PXR5cGVvZiBlWzBdP0QuYXBwbHkodGhpcyxlKTooaSgic2hvcnRoYW5kLXJlbW92ZWQtdjMiLCJqUXVlcnkuZm4uIit0KyIoKSBpcyBkZXByZWNhdGVkIiksZS5zcGxpY2UoMCwwLHQpLGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbi5hcHBseSh0aGlzLGUpOih0aGlzLnRyaWdnZXJIYW5kbGVyLmFwcGx5KHRoaXMsZSksdGhpcykpfSwic2hvcnRoYW5kLXJlbW92ZWQtdjMiKX0pLHMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHIpe3Uocy5mbixyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHIsbnVsbCxlLHQpOnRoaXMudHJpZ2dlcihyKX0sInNob3J0aGFuZC1kZXByZWNhdGVkLXYzIiwialF1ZXJ5LmZuLiIrcisiKCkgZXZlbnQgc2hvcnRoYW5kIGlzIGRlcHJlY2F0ZWQiKX0pLHMoZnVuY3Rpb24oKXtzKG4uZG9jdW1lbnQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpfSkscy5ldmVudC5zcGVjaWFsLnJlYWR5PXtzZXR1cDpmdW5jdGlvbigpe3RoaXM9PT1uLmRvY3VtZW50JiZpKCJyZWFkeS1ldmVudCIsIidyZWFkeScgZXZlbnQgaXMgZGVwcmVjYXRlZCIpfX0sdShzLmZuLCJiaW5kIixmdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQscil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHUocy5mbiwidW5iaW5kIixmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi51bmJpbmQoKSBpcyBkZXByZWNhdGVkIiksdShzLmZuLCJkZWxlZ2F0ZSIsZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMub24odCxlLHIsbil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSx1KHMuZm4sInVuZGVsZWdhdGUiLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIscil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi51bmRlbGVnYXRlKCkgaXMgZGVwcmVjYXRlZCIpLHUocy5mbiwiaG92ZXIiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub24oIm1vdXNlZW50ZXIiLGUpLm9uKCJtb3VzZWxlYXZlIix0fHxlKX0sInByZS1vbi1tZXRob2RzIiwialF1ZXJ5LmZuLmhvdmVyKCkgaXMgZGVwcmVjYXRlZCIpLC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSksXz0ocy5VTlNBRkVfcmVzdG9yZUxlZ2FjeUh0bWxQcmVmaWx0ZXI9ZnVuY3Rpb24oKXtzLm1pZ3JhdGVFbmFibGVQYXRjaGVzKCJzZWxmLWNsb3NlZC10YWdzIil9LGQocywiaHRtbFByZWZpbHRlciIsZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4ocj0odD1lKS5yZXBsYWNlKE8sIjwkMT48LyQyPiIpKSE9PXQmJkModCkhPT1DKHIpJiZpKCJzZWxmLWNsb3NlZC10YWdzIiwiSFRNTCB0YWdzIG11c3QgYmUgcHJvcGVybHkgbmVzdGVkIGFuZCBjbG9zZWQ6ICIrdCksZS5yZXBsYWNlKE8sIjwkMT48LyQyPiIpfSwic2VsZi1jbG9zZWQtdGFncyIpLHMubWlncmF0ZURpc2FibGVQYXRjaGVzKCJzZWxmLWNsb3NlZC10YWdzIikscy5mbi5vZmZzZXQpO3JldHVybiBkKHMuZm4sIm9mZnNldCIsZnVuY3Rpb24oKXt2YXIgZT10aGlzWzBdO3JldHVybiFlfHxlLm5vZGVUeXBlJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9fLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooaSgib2Zmc2V0LXZhbGlkLWVsZW0iLCJqUXVlcnkuZm4ub2Zmc2V0KCkgcmVxdWlyZXMgYSB2YWxpZCBET00gZWxlbWVudCIpLGFyZ3VtZW50cy5sZW5ndGg/dGhpczp2b2lkIDApfSwib2Zmc2V0LXZhbGlkLWVsZW0iKSxzLmFqYXgmJihIPXMucGFyYW0sZChzLCJwYXJhbSIsZnVuY3Rpb24oZSx0KXt2YXIgcj1zLmFqYXhTZXR0aW5ncyYmcy5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7cmV0dXJuIHZvaWQgMD09PXQmJnImJihpKCJwYXJhbS1hamF4LXRyYWRpdGlvbmFsIiwialF1ZXJ5LnBhcmFtKCkgbm8gbG9uZ2VyIHVzZXMgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCIpLHQ9ciksSC5jYWxsKHRoaXMsZSx0KX0sInBhcmFtLWFqYXgtdHJhZGl0aW9uYWwiKSksdShzLmZuLCJhbmRTZWxmIixzLmZuLmFkZEJhY2ssImFuZFNlbGYiLCJqUXVlcnkuZm4uYW5kU2VsZigpIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQsIHVzZSBqUXVlcnkuZm4uYWRkQmFjaygpIikscy5EZWZlcnJlZCYmKEU9cy5EZWZlcnJlZCxNPVtbInJlc29sdmUiLCJkb25lIixzLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxzLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLHMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLHMuQ2FsbGJhY2tzKCJtZW1vcnkiKSxzLkNhbGxiYWNrcygibWVtb3J5IildXSxkKHMsIkRlZmVycmVkIixmdW5jdGlvbihlKXt2YXIgYT1FKCksaT1hLnByb21pc2UoKTtmdW5jdGlvbiB0KCl7dmFyIG89YXJndW1lbnRzO3JldHVybiBzLkRlZmVycmVkKGZ1bmN0aW9uKG4pe3MuZWFjaChNLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0mJm9bZV07YVt0WzFdXShmdW5jdGlvbigpe3ZhciBlPXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnByb21pc2U/ZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpLnByb2dyZXNzKG4ubm90aWZ5KTpuW3RbMF0rIldpdGgiXSh0aGlzPT09aT9uLnByb21pc2UoKTp0aGlzLHI/W2VdOmFyZ3VtZW50cyl9KX0pLG89bnVsbH0pLnByb21pc2UoKX1yZXR1cm4gdShhLCJwaXBlIix0LCJkZWZlcnJlZC1waXBlIiwiZGVmZXJyZWQucGlwZSgpIGlzIGRlcHJlY2F0ZWQiKSx1KGksInBpcGUiLHQsImRlZmVycmVkLXBpcGUiLCJkZWZlcnJlZC5waXBlKCkgaXMgZGVwcmVjYXRlZCIpLGUmJmUuY2FsbChhLGEpLGF9LCJkZWZlcnJlZC1waXBlIikscy5EZWZlcnJlZC5leGNlcHRpb25Ib29rPUUuZXhjZXB0aW9uSG9vayksc30pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5LW1pZ3JhdGUubWluLm1hcA0KZnVuY3Rpb24gT3BlbldpbmRvdyhuLHQsaSxyKXt2YXIgdT0oc2NyZWVuLndpZHRoLXQpLzIsZj0oc2NyZWVuLmhlaWdodC1pKS8yLGU7d2lucHJvcHM9InJlc2l6YWJsZT0wLCBoZWlnaHQ9IitpKyIsd2lkdGg9Iit0KyIsdG9wPSIrZisiLGxlZnQ9Iit1KyJ3IjtyJiYod2lucHJvcHMrPSIsc2Nyb2xsYmFycz0xIik7ZT13aW5kb3cub3BlbihuLCJfYmxhbmsiLHdpbnByb3BzKX1mdW5jdGlvbiBzZXRMb2NhdGlvbihuKXt3aW5kb3cubG9jYXRpb24uaHJlZj1ufWZ1bmN0aW9uIGRpc3BsYXlBamF4TG9hZGluZyhuKXtuPyQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93Iikuc2hvdygpOiQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93IikuaGlkZSgic2xvdyIpfWZ1bmN0aW9uIGRpc3BsYXlQb3B1cE5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGYscix1LGU7aWYoZj10PT0ic3VjY2VzcyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXN1Y2Nlc3MiKTp0PT0iZXJyb3IiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1lcnJvciIpOnQ9PSJ3YXJuaW5nIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtd2FybmluZyIpOiQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIikscj0iIix0eXBlb2Ygbj09InN0cmluZyIpcj0iPHA+IituKyI8XC9wPiI7ZWxzZSBmb3IodT0wO3U8bi5sZW5ndGg7dSsrKXI9cisiPHA+IituW3VdKyI8XC9wPiI7Zi5odG1sKHIpO2U9aT8hMDohMTtmLmRpYWxvZyh7bW9kYWw6ZSx3aWR0aDozNTB9KX1mdW5jdGlvbiBkaXNwbGF5Sm9pbmVkUG9wdXBOb3RpZmljYXRpb25zKG4pe3ZhciB1LGYsaSxlLHIsdDtpZihPYmplY3Qua2V5cyhuKS5sZW5ndGghPT0wKXt1PSQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoaSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaSkpZm9yKGU9bltpXSxyPTA7cjxlLmxlbmd0aDsrK3IpdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LmlubmVySFRNTD1lW3JdLHQuY2xhc3NMaXN0LmFkZCgicG9wdXAtbm90aWZpY2F0aW9uIiksdC5jbGFzc0xpc3QuYWRkKGkpLGYuYXBwZW5kKHQpO3UuaHRtbChmKTt1LmRpYWxvZyh7d2lkdGg6MzUwLG1vZGFsOiEwfSl9fWZ1bmN0aW9uIGRpc3BsYXlQb3B1cENvbnRlbnRGcm9tVXJsKG4sdCxpLHIpe3ZhciB1PWk/ITA6ITEsZj1yP3I6NTUwLGU9JCh3aW5kb3cpLmhlaWdodCgpLTIwOyQoIjxkaXY+PFwvZGl2PiIpLmxvYWQobikuZGlhbG9nKHttb2RhbDp1LHdpZHRoOmYsbWF4SGVpZ2h0OmUsdGl0bGU6dCxjbG9zZTpmdW5jdGlvbigpeyQodGhpcykuZGlhbG9nKCJkZXN0cm95IikucmVtb3ZlKCl9fSl9ZnVuY3Rpb24gZGlzcGxheUJhck5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGMsbz10eXBlb2Ygbj09InN0cmluZyI/W25dOm4scyxyLHUsZixlLGg7aWYoby5sZW5ndGghPT0wKXtmb3Iocz1bInN1Y2Nlc3MiLCJlcnJvciIsIndhcm5pbmciXS5pbmRleE9mKHQpIT09LTE/dDoic3VjY2VzcyIsJCgiI2Jhci1ub3RpZmljYXRpb24iKS5yZW1vdmVDbGFzcygic3VjY2VzcyIpLnJlbW92ZUNsYXNzKCJlcnJvciIpLnJlbW92ZUNsYXNzKCJ3YXJuaW5nIiksJCgiLmJhci1ub3RpZmljYXRpb24iKS5yZW1vdmUoKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHIuY2xhc3NMaXN0LmFkZCgiYmFyLW5vdGlmaWNhdGlvbiIscyksci5jbGFzc0xpc3QuYWRkKHMpLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLHUuY2xhc3NMaXN0LmFkZCgiY2xvc2UiKSx1LnNldEF0dHJpYnV0ZSgidGl0bGUiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYXItbm90aWZpY2F0aW9uIikuZGF0YXNldC5jbG9zZSksZj0wO2Y8by5sZW5ndGg7ZisrKWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLGUuY2xhc3NMaXN0LmFkZCgiY29udGVudCIpLGUuaW5uZXJIVE1MPW9bZl0sci5hcHBlbmRDaGlsZChlKTtyLmFwcGVuZENoaWxkKHUpOyQoIiNiYXItbm90aWZpY2F0aW9uIikuYXBwZW5kKHIpOyQocikuZmFkZUluKCJzbG93Iikub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGMpfSk7aD1mdW5jdGlvbigpeyQocikucmVtb3ZlKCl9OyQodSkub24oImNsaWNrIixmdW5jdGlvbigpeyQocikuZmFkZU91dCgic2xvdyIsaCl9KTtpPjAmJihjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSxpKSl9fWZ1bmN0aW9uIGh0bWxFbmNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLnRleHQobikuaHRtbCgpfWZ1bmN0aW9uIGh0bWxEZWNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLmh0bWwobikudGV4dCgpfWZ1bmN0aW9uIGFkZEFudGlGb3JnZXJ5VG9rZW4obil7bnx8KG49e30pO3ZhciB0PSQoImlucHV0W25hbWU9X19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW5dIik7cmV0dXJuIHQubGVuZ3RoJiYobi5fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj10LnZhbCgpKSxufQ0KdmFyIEFqYXhDYXJ0PXtsb2FkV2FpdGluZzohMSx1c2Vwb3B1cG5vdGlmaWNhdGlvbnM6ITEsdG9wY2FydHNlbGVjdG9yOiIiLHRvcHdpc2hsaXN0c2VsZWN0b3I6IiIsZmx5b3V0Y2FydHNlbGVjdG9yOiIiLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMudXNlcG9wdXBub3RpZmljYXRpb25zPW47dGhpcy50b3BjYXJ0c2VsZWN0b3I9dDt0aGlzLnRvcHdpc2hsaXN0c2VsZWN0b3I9aTt0aGlzLmZseW91dGNhcnRzZWxlY3Rvcj1yO3RoaXMubG9jYWxpemVkX2RhdGE9dX0sc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24obil7ZGlzcGxheUFqYXhMb2FkaW5nKG4pO3RoaXMubG9hZFdhaXRpbmc9bn0sYWRkcHJvZHVjdHRvY2FydF9jYXRhbG9nOmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxhZGRwcm9kdWN0dG9jYXJ0X2RldGFpbHM6ZnVuY3Rpb24obix0KXt0aGlzLmxvYWRXYWl0aW5nPT09ITEmJih0aGlzLnNldExvYWRXYWl0aW5nKCEwKSwkLmFqYXgoe2NhY2hlOiExLHVybDpuLGRhdGE6JCh0KS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSkpfSxhZGRwcm9kdWN0dG9jb21wYXJlbGlzdDpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sc3VjY2Vzc19wcm9jZXNzOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3BjYXJ0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwpLG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3B3aXNobGlzdHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCksbi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQuZmx5b3V0Y2FydHNlbGVjdG9yKS5yZXBsYWNlV2l0aChuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCksbi5tZXNzYWdlKT8obi5zdWNjZXNzPT09ITA/QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwzNTAwKTpBamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsMCksITEpOm4ucmVkaXJlY3Q/KGxvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdCwhMCk6ITF9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtBamF4Q2FydC5zZXRMb2FkV2FpdGluZyghMSl9LGFqYXhGYWlsdXJlOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5BamF4Q2FydEZhaWx1cmUpfX07DQorZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt2YXIgdD1uKHRoaXMpLHU9dC52YWwoKSxpPW4odC5kYXRhKCJzdGF0ZXByb3ZpbmNlIikpLHI7aS5sZW5ndGghPTAmJihyPW4odC5kYXRhKCJsb2FkaW5nIikpLHIuc2hvdygpLG4uYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6dC5kYXRhKCJ1cmwiKSxkYXRhOntjb3VudHJ5SWQ6dSxhZGRTZWxlY3RTdGF0ZUl0ZW06InRydWUifSxzdWNjZXNzOmZ1bmN0aW9uKHQpe2kuaHRtbCgiIik7bi5lYWNoKHQsZnVuY3Rpb24odCxyKXtpLmFwcGVuZChuKCI8b3B0aW9uPjxcL29wdGlvbj4iKS52YWwoci5pZCkuaHRtbChyLm5hbWUpKX0pfSxlcnJvcjpmdW5jdGlvbigpe2FsZXJ0KCJGYWlsZWQgdG8gcmV0cmlldmUgc3RhdGVzLiIpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciB0PXR5cGVvZiBCaWxsaW5nIT0idW5kZWZpbmVkIj9CaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDp0eXBlb2YgQ2hlY2tvdXRCaWxsaW5nIT0idW5kZWZpbmVkIj9DaGVja291dEJpbGxpbmcuc2VsZWN0ZWRTdGF0ZUlkOjA7bigiIyIraVswXS5pZCsiIG9wdGlvblt2YWx1ZT0iK3QrIl0iKS5wcm9wKCJzZWxlY3RlZCIsITApO3IuaGlkZSgpfX0pKX1pZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSBKUyByZXF1aXJlZCIpO24oZG9jdW1lbnQpLmhhcygnW2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpJiZuKCdzZWxlY3RbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykuY2hhbmdlKHQpO24uZm4uY291bnRyeVNlbGVjdD1mdW5jdGlvbigpe3RoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuY2hhbmdlKHQpfSl9fShqUXVlcnkpOw0KZnVuY3Rpb24gY3JlYXRlQ29tYmluYXRpb25zQmVoYXZpb3Iobil7cmV0dXJue3NldHRpbmdzOiQuZXh0ZW5kKHt9LHtjb250ZW50RWw6ITEsZmV0Y2hVcmw6ITF9LG4pLHBhcmFtczp7YXZhaWxhYmxlQ29tYmluYXRpb25zOltdLGF2YWlsYWJsZUF0dHJpYnV0ZUlkczpbXX0saW5pdDpmdW5jdGlvbigpe3ZhciBpPSQodGhpcy5zZXR0aW5ncy5jb250ZW50RWwpLG49JCgiW2RhdGEtYXR0cl0iLGkpLHQ7aWYobiYmbi5sZW5ndGg+MCl7dD10aGlzOyQuZWFjaChuLGZ1bmN0aW9uKG4saSl7dmFyIHI9cGFyc2VJbnQoJChpKS5kYXRhKCJhdHRyIikpO3QucGFyYW1zLmF2YWlsYWJsZUF0dHJpYnV0ZUlkcy5wdXNoKHIpfSk7bi5vbigiY2hhbmdlIixmdW5jdGlvbigpe3QucHJvY2Vzc0NvbWJpbmF0aW9ucygpfSl9dGhpcy5sb2FkQ29tYmluYXRpb25zKCl9LGxvYWRDb21iaW5hdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzOyQuYWpheCh7Y2FjaGU6ITEsdXJsOm4uc2V0dGluZ3MuZmV0Y2hVcmwsdHlwZToiR0VUIixzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBpLHI7bi5wYXJhbXMuYXZhaWxhYmxlQ29tYmluYXRpb25zPXQ7aT1uLmdldFNlbGVjdGVkQXR0cmlidXRlcygpO2kmJmkubGVuZ3RoPjAmJihyPSQuZ3JlcChpLGZ1bmN0aW9uKG4pe3JldHVybiBuLnZhbHVlcy5sZW5ndGg+MH0pLCQuZWFjaChyLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bi5nZXRDb21iaW5hdGlvbnNCeUF0dHJpYnV0ZUlkKGkuaWQsW2ldKTtyJiZyLmxlbmd0aD4wP24uaXNBdmFpbGFibGVDb21iaW5hdGlvbihyLFtpXSl8fG4udW5zZWxlY3RWYWx1ZXMoaS52YWx1ZXMpOm4udW5zZWxlY3RWYWx1ZXMoaS52YWx1ZXMpfSkpO24ucHJvY2Vzc0NvbWJpbmF0aW9ucygpfSxlcnJvcjpmdW5jdGlvbigpe24ucGFyYW1zLmF2YWlsYWJsZUNvbWJpbmF0aW9ucz1bXX19KX0scHJvY2Vzc0NvbWJpbmF0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyYW1zLmF2YWlsYWJsZUF0dHJpYnV0ZUlkcyxuLGkscix1O2lmKHQubGVuZ3RoIT09MCl7aWYobj10aGlzLGk9dGhpcy5wYXJhbXMuYXZhaWxhYmxlQ29tYmluYXRpb25zLGkubGVuZ3RoPT09MCl7cj10aGlzLmdldEF0dHJpYnV0ZVZhbHVlSWRzKCk7JC5lYWNoKHIsZnVuY3Rpb24odCxpKXtuLnRvZ2dsZUF0dHJpYnV0ZVZhbHVlKGksITEpfSk7cmV0dXJufXU9bi5nZXRTZWxlY3RlZEF0dHJpYnV0ZXMoKTskLmVhY2godCxmdW5jdGlvbih0LGkpe3ZhciByPW4uZ2V0QXR0cmlidXRlVmFsdWVJZHMoaSk7JC5lYWNoKHIsZnVuY3Rpb24ocixmKXt2YXIgbz0kLmdyZXAodSxmdW5jdGlvbihuLHIpe3JldHVybiB0PnImJm4uaWQhPT1pJiZuLnZhbHVlcy5sZW5ndGg+MH0pLGU7by5wdXNoKHtpZDppLHZhbHVlczpbZl19KTtlPW4uZ2V0Q29tYmluYXRpb25zQnlBdHRyaWJ1dGVJZChpLG8pO2UmJmUubGVuZ3RoPjA/bi50b2dnbGVBdHRyaWJ1dGVWYWx1ZShmLG4uaXNBdmFpbGFibGVDb21iaW5hdGlvbihlLG8pKTpuLnRvZ2dsZUF0dHJpYnV0ZVZhbHVlKGYsITEpfSl9KTskKHRoaXMpLnRyaWdnZXIoe3R5cGU6InByb2Nlc3NlZCJ9KX19LGdldENvbWJpbmF0aW9uc0J5QXR0cmlidXRlSWQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLnBhcmFtcy5hdmFpbGFibGVDb21iaW5hdGlvbnM7aWYoaS5sZW5ndGghPT0wKXJldHVybiAkLmdyZXAoaSxmdW5jdGlvbihpKXt2YXIgcj0kLmdyZXAoaS5BdHRyaWJ1dGVzLGZ1bmN0aW9uKHQpe3JldHVybiB0LklkPT09bn0pWzBdO3JldHVybiB0JiZ0Lmxlbmd0aD4wJiYkLmVhY2godCxmdW5jdGlvbihuLHQpe3I9ciYmJC5ncmVwKGkuQXR0cmlidXRlcyxmdW5jdGlvbihuKXt2YXIgaT1uLklkPT09dC5pZDtyZXR1cm4gdC52YWx1ZXMubGVuZ3RoPjAmJiQuZWFjaCh0LnZhbHVlcyxmdW5jdGlvbih0LHIpe2k9aSYmJC5pbkFycmF5KHIsbi5WYWx1ZUlkcykhPT0tMX0pLGl9KVswXX0pLHJ9KX0saXNBdmFpbGFibGVDb21iaW5hdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPSQuZ3JlcChuLGZ1bmN0aW9uKG4pe3ZhciBpPSQubWFwKG4uQXR0cmlidXRlcyxmdW5jdGlvbihuKXtyZXR1cm4gbi5WYWx1ZUlkc30pLHI9JC5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuICQuZ3JlcChuLnZhbHVlcyxmdW5jdGlvbihuKXtyZXR1cm4gJC5pbkFycmF5KG4saSkhPT0tMX0pfSk7cmV0dXJuIG4uSW5TdG9jayYmci5sZW5ndGg9PT10Lmxlbmd0aH0pO3JldHVybiBpLmxlbmd0aD4wfSxnZXRBdHRyaWJ1dGVWYWx1ZUlkczpmdW5jdGlvbihuKXt2YXIgdD0kKHRoaXMuc2V0dGluZ3MuY29udGVudEVsKSxyPW4/JCgiW2RhdGEtYXR0cj0iK24rIl0iLHQpOnQsaT0kKCJbZGF0YS1hdHRyLXZhbHVlXSIscik7aWYoaSlyZXR1cm4gJC5tYXAoaSxmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VJbnQoJChuKS5kYXRhKCJhdHRyLXZhbHVlIikpfSl9LHRvZ2dsZUF0dHJpYnV0ZVZhbHVlOmZ1bmN0aW9uKG4sdCl7dmFyIHI9JCh0aGlzLnNldHRpbmdzLmNvbnRlbnRFbCksaT0kKCJbZGF0YS1hdHRyLXZhbHVlPSIrbisiXSIscik7dD9pLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpOmkuYWRkQ2xhc3MoImRpc2FibGVkIil9LHVuc2VsZWN0VmFsdWVzOmZ1bmN0aW9uKG4pe3ZhciB0PSQodGhpcy5zZXR0aW5ncy5jb250ZW50RWwpOyQuZWFjaChuLGZ1bmN0aW9uKG4saSl7dmFyIHI9JCgiW2RhdGEtYXR0ci12YWx1ZT0iK2krIl0iLHQpO3IucHJvcCgic2VsZWN0ZWQiLCExKTskKCJpbnB1dCIscikucHJvcCgiY2hlY2tlZCIsITEpO3IucmVtb3ZlQ2xhc3MoInNlbGVjdGVkLXZhbHVlIil9KX0sZ2V0U2VsZWN0ZWRBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wYXJhbXMuYXZhaWxhYmxlQXR0cmlidXRlSWRzLHQ7aWYobi5sZW5ndGg+MClyZXR1cm4gdD0kKHRoaXMuc2V0dGluZ3MuY29udGVudEVsKSwkLm1hcChuLGZ1bmN0aW9uKG4pe3ZhciByPVtdLHU9JCgiW2RhdGEtYXR0cj0iK24rIl0iLHQpLGk9JCgiW2RhdGEtYXR0ci12YWx1ZV0iLHUpO3JldHVybiBpJiZpLmxlbmd0aD4wJiYkLmVhY2goaSxmdW5jdGlvbihuLHQpe3ZhciBpPSQodCksdTsoaS5pcygiOnNlbGVjdGVkIil8fCQoImlucHV0IixpKS5pcygiOmNoZWNrZWQiKSkmJih1PXBhcnNlSW50KGkuZGF0YSgiYXR0ci12YWx1ZSIpKSxyLnB1c2godSkpfSkse2lkOm4sdmFsdWVzOnJ9fSl9fX0NCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbihlLGRlZmluZSl7ZGVmaW5lKCJrZW5kby5jb3JlLm1pbiIsWyJqcXVlcnkiXSxlKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gbyhlLHQpe2lmKHQpcmV0dXJuIiciK2Uuc3BsaXQoIiciKS5qb2luKCJcXCciKS5zcGxpdCgnXFwiJykuam9pbignXFxcXFxcIicpLnJlcGxhY2UoL1xuL2csIlxcbiIpLnJlcGxhY2UoL1xyL2csIlxcciIpLnJlcGxhY2UoL1x0L2csIlxcdCIpKyInIjt2YXIgbj1lLmNoYXJBdCgwKSxyPWUuc3Vic3RyaW5nKDEpO3JldHVybiI9Ij09PW4/IisoIityKyIpKyI6IjoiPT09bj8iKyRrZW5kb0h0bWxFbmNvZGUoIityKyIpKyI6IjsiK2UrIjska2VuZG9PdXRwdXQrPSJ9ZnVuY3Rpb24gaShlLHQsbil7cmV0dXJuIGUrPSIiLHQ9dHx8MixuPXQtZS5sZW5ndGgsbj9CW3RdLnN1YnN0cmluZygwLG4pK2U6ZX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuY3NzKGJlLnN1cHBvcnQudHJhbnNpdGlvbnMuY3NzKyJib3gtc2hhZG93Iil8fGUuY3NzKCJib3gtc2hhZG93Iiksbj10P3QubWF0Y2goRWUpfHxbMCwwLDAsMCwwXTpbMCwwLDAsMCwwXSxyPVRlLm1heCgrblszXSwrKG5bNF18fDApKTtyZXR1cm57bGVmdDotblsxXStyLHJpZ2h0OituWzFdK3IsYm90dG9tOituWzJdK3J9fWZ1bmN0aW9uIHMobixyKXt2YXIgbyxpLGEscyxsLGMsZD16ZS5icm93c2VyLGY9YmUuX291dGVyV2lkdGgscD1iZS5fb3V0ZXJIZWlnaHQsbT1uLnBhcmVudCgpLGg9Zih0KTtyZXR1cm4gbS5yZW1vdmVDbGFzcygiay1hbmltYXRpb24tY29udGFpbmVyLXNtIiksbS5oYXNDbGFzcygiay1hbmltYXRpb24tY29udGFpbmVyIik/dShuLHIpOihpPW5bMF0uc3R5bGUud2lkdGgsYT1uWzBdLnN0eWxlLmhlaWdodCxzPURlLnRlc3QoaSksbD1EZS50ZXN0KGEpLGM9bi5oYXNDbGFzcygiay10b29sdGlwIil8fG4uaXMoIi5rLW1lbnUtaG9yaXpvbnRhbC5rLWNvbnRleHQtbWVudSIpLG89c3x8bCwhcyYmKCFyfHxyJiZpfHxjKSYmKGk9cj9mKG4pKzE6ZihuKSksKCFsJiYoIXJ8fHImJmEpfHxuLmlzKCIuay1tZW51LWhvcml6b250YWwuay1jb250ZXh0LW1lbnUiKSkmJihhPXAobikpLG4ud3JhcChlKCI8ZGl2Lz4iKS5hZGRDbGFzcygiay1hbmltYXRpb24tY29udGFpbmVyIikuY3NzKHt3aWR0aDppLGhlaWdodDphfSkpLG09bi5wYXJlbnQoKSxvJiZuLmNzcyh7d2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSIsYm94U2l6aW5nOiJib3JkZXItYm94Iixtb3pCb3hTaXppbmc6ImJvcmRlci1ib3giLHdlYmtpdEJveFNpemluZzoiYm9yZGVyLWJveCJ9KSksaDxmKG0pJiYobS5hZGRDbGFzcygiay1hbmltYXRpb24tY29udGFpbmVyLXNtIiksdShuLHIpKSxkLm1zaWUmJlRlLmZsb29yKGQudmVyc2lvbik8PTcmJihuLmNzcyh7em9vbToxfSksbi5jaGlsZHJlbigiLmstbWVudSIpLndpZHRoKG4ud2lkdGgoKSkpLG19ZnVuY3Rpb24gdShlLHQpe3ZhciBuLHI9YmUuX291dGVyV2lkdGgsbz1iZS5fb3V0ZXJIZWlnaHQsaT1lLnBhcmVudCgiLmstYW5pbWF0aW9uLWNvbnRhaW5lciIpLGE9aVswXS5zdHlsZTtpLmlzKCI6aGlkZGVuIikmJmkuY3NzKHtkaXNwbGF5OiIiLHBvc2l0aW9uOiIifSksbj1EZS50ZXN0KGEud2lkdGgpfHxEZS50ZXN0KGEuaGVpZ2h0KSxufHxpLmNzcyh7d2lkdGg6dD9yKGUpKzE6cihlKSxoZWlnaHQ6byhlKSxib3hTaXppbmc6ImNvbnRlbnQtYm94Iixtb3pCb3hTaXppbmc6ImNvbnRlbnQtYm94Iix3ZWJraXRCb3hTaXppbmc6ImNvbnRlbnQtYm94In0pfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9MSxuPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKHQ9MTt0PG47dCsrKWMoZSxhcmd1bWVudHNbdF0pO3JldHVybiBlfWZ1bmN0aW9uIGMoZSxuKXt2YXIgcixvLGksYSxzLHU9YmUuZGF0YS5PYnNlcnZhYmxlQXJyYXksbD1iZS5kYXRhLkxhenlPYnNlcnZhYmxlQXJyYXksZD1iZS5kYXRhLkRhdGFTb3VyY2UsZj1iZS5kYXRhLkhpZXJhcmNoaWNhbERhdGFTb3VyY2U7Zm9yKHIgaW4gbilvPW5bcl0saT10eXBlb2YgbyxhPWk9PT1GZSYmbnVsbCE9PW8/by5jb25zdHJ1Y3RvcjpudWxsLCFhfHxhPT09QXJyYXl8fGE9PT11fHxhPT09bHx8YT09PWR8fGE9PT1mfHxhPT09UmVnRXhwfHxiZS5pc0Z1bmN0aW9uKHQuQXJyYXlCdWZmZXIpJiZhPT09QXJyYXlCdWZmZXI/aSE9PVVlJiYoZVtyXT1vKTpvIGluc3RhbmNlb2YgRGF0ZT9lW3JdPW5ldyBEYXRlKG8uZ2V0VGltZSgpKTpOKG8uY2xvbmUpP2Vbcl09by5jbG9uZSgpOihzPWVbcl0sZVtyXT10eXBlb2Ygcz09PUZlP3N8fHt9Ont9LGMoZVtyXSxvKSk7cmV0dXJuIGV9ZnVuY3Rpb24gZChlLHQscil7Zm9yKHZhciBvIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShvKSYmdFtvXS50ZXN0KGUpKXJldHVybiBvO3JldHVybiByIT09bj9yOmV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oW2Etel1bQS1aXSkvZyxmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkrIi0iK2UuY2hhckF0KDEpLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBwKGUpe3JldHVybiBlLnJlcGxhY2UoL1wtKFx3KS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfWZ1bmN0aW9uIG0odCxuKXt2YXIgcixvPXt9O3JldHVybiBkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT8ocj1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsIiIpLG4mJmUuZWFjaChuLGZ1bmN0aW9uKGUsdCl7b1t0XT1yLmdldFByb3BlcnR5VmFsdWUodCl9KSk6KHI9dC5jdXJyZW50U3R5bGUsbiYmZS5lYWNoKG4sZnVuY3Rpb24oZSx0KXtvW3RdPXJbcCh0KV19KSksYmUuc2l6ZShvKXx8KG89ciksb31mdW5jdGlvbiBoKGUpe2lmKGUmJmUuY2xhc3NOYW1lJiYic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZS5pbmRleE9mKCJrLWF1dG8tc2Nyb2xsYWJsZSIpPi0xKXJldHVybiEwO3ZhciB0PW0oZSxbIm92ZXJmbG93Il0pLm92ZXJmbG93O3JldHVybiJhdXRvIj09dHx8InNjcm9sbCI9PXR9ZnVuY3Rpb24gZyh0LHIpe3ZhciBvLGk9emUuYnJvd3Nlci53ZWJraXQsYT16ZS5icm93c2VyLm1vemlsbGEscz10IGluc3RhbmNlb2YgZT90WzBdOnQ7aWYodClyZXR1cm4gbz16ZS5pc1J0bCh0KSxyPT09bj9vJiZpP3Muc2Nyb2xsV2lkdGgtcy5jbGllbnRXaWR0aC1zLnNjcm9sbExlZnQ6TWF0aC5hYnMocy5zY3JvbGxMZWZ0KToocy5zY3JvbGxMZWZ0PW8mJmk/cy5zY3JvbGxXaWR0aC1zLmNsaWVudFdpZHRoLXI6byYmYT8tcjpyLG4pfWZ1bmN0aW9uIHkoZSl7dmFyIHQsbj0wO2Zvcih0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmInRvSlNPTiIhPXQmJm4rKztyZXR1cm4gbn1mdW5jdGlvbiB2KGUsbixyKXt2YXIgbyxpLGE7cmV0dXJuIG58fChuPSJvZmZzZXQiKSxvPWVbbl0oKSxpPXt0b3A6by50b3AscmlnaHQ6by5yaWdodCxib3R0b206by5ib3R0b20sbGVmdDpvLmxlZnR9LHplLmJyb3dzZXIubXNpZSYmKHplLnBvaW50ZXJzfHx6ZS5tc1BvaW50ZXJzKSYmIXImJihhPXplLmlzUnRsKGUpPzE6LTEsaS50b3AtPXQucGFnZVlPZmZzZXQtZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxpLmxlZnQtPXQucGFnZVhPZmZzZXQrYSpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCksaX1mdW5jdGlvbiBiKGUpe3ZhciB0PXt9O3JldHVybiBNZSgic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOmUsZnVuY3Rpb24oZSl7dFtlXT10aGlzfSksdH1mdW5jdGlvbiB3KGUpe3JldHVybiBuZXcgYmUuZWZmZWN0cy5FbGVtZW50KGUpfWZ1bmN0aW9uIE0oZSx0LG4scil7cmV0dXJuIHR5cGVvZiBlPT09SGUmJihOKHQpJiYocj10LHQ9NDAwLG49ITEpLE4obikmJihyPW4sbj0hMSksdHlwZW9mIHQ9PT1SZSYmKG49dCx0PTQwMCksZT17ZWZmZWN0czplLGR1cmF0aW9uOnQscmV2ZXJzZTpuLGNvbXBsZXRlOnJ9KSx3ZSh7ZWZmZWN0czp7fSxkdXJhdGlvbjo0MDAscmV2ZXJzZTohMSxpbml0OmtlLHRlYXJkb3duOmtlLGhpZGU6ITF9LGUse2NvbXBsZXRlQ2FsbGJhY2s6ZS5jb21wbGV0ZSxjb21wbGV0ZTprZX0pfWZ1bmN0aW9uIHgodCxuLHIsbyxpKXtmb3IodmFyIGEscz0wLHU9dC5sZW5ndGg7czx1O3MrKylhPWUodFtzXSksYS5xdWV1ZShmdW5jdGlvbigpe3EucHJvbWlzZShhLE0obixyLG8saSkpfSk7cmV0dXJuIHR9ZnVuY3Rpb24gUyhlLHQsbixyKXtyZXR1cm4gdCYmKHQ9dC5zcGxpdCgiICIpLE1lKHQsZnVuY3Rpb24odCxuKXtlLnRvZ2dsZUNsYXNzKG4scil9KSksZX1mdW5jdGlvbiBrKGUpe3JldHVybigiIitlKS5yZXBsYWNlKEosIiZhbXA7IikucmVwbGFjZShWLCImbHQ7IikucmVwbGFjZShRLCImZ3Q7IikucmVwbGFjZShHLCImcXVvdDsiKS5yZXBsYWNlKEssIiYjMzk7Iil9ZnVuY3Rpb24gVChlKXt2YXIgbjt0cnl7bj10LmRlY29kZVVSSUNvbXBvbmVudChlKX1jYXRjaChyKXtuPWUucmVwbGFjZSgvJXUoW1xkQS1GXXs0fSl8JShbXGRBLUZdezJ9KS9naSxmdW5jdGlvbihlLHQsbil7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoIjB4IisodHx8biksMTYpKX0pfXJldHVybiBufWZ1bmN0aW9uIE8oZSx0KXt2YXIgcjtyZXR1cm4gMD09PXQuaW5kZXhPZigiZGF0YSIpJiYodD10LnN1YnN0cmluZyg0KSx0PXQuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrdC5zdWJzdHJpbmcoMSkpLHQ9dC5yZXBsYWNlKGFlLCItJDEiKSxyPWUuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYmUubnMrdCksbnVsbD09PXI/cj1uOiJudWxsIj09PXI/cj1udWxsOiJ0cnVlIj09PXI/cj0hMDoiZmFsc2UiPT09cj9yPSExOl9lLnRlc3QocikmJiJtYXNrIiE9dD9yPXBhcnNlRmxvYXQocik6b2UudGVzdChyKSYmIWllLnRlc3QocikmJihyPUZ1bmN0aW9uKCJyZXR1cm4gKCIrcisiKSIpKCkpLHJ9ZnVuY3Rpb24geih0LHIsbyl7dmFyIGksYSxzPXt9LHU9dC5nZXRBdHRyaWJ1dGUoImRhdGEtIitiZS5ucysicm9sZSIpO2ZvcihpIGluIHIpYT1PKHQsaSksYSE9PW4mJihyZS50ZXN0KGkpJiYiZHJhd2VyIiE9dSYmKCJzdHJpbmciPT10eXBlb2YgYT9lKCIjIithKS5sZW5ndGg/YT1iZS50ZW1wbGF0ZShlKCIjIithKS5odG1sKCkpOm8mJihhPWJlLnRlbXBsYXRlKG9bYV0pKTphPXQuZ2V0QXR0cmlidXRlKGkpKSxzW2ldPWEpO3JldHVybiBzfWZ1bmN0aW9uIEQodCxuKXtyZXR1cm4gZS5jb250YWlucyh0LG4pPy0xOjF9ZnVuY3Rpb24gQygpe3ZhciB0PWUodGhpcyk7cmV0dXJuIGUuaW5BcnJheSh0LmF0dHIoImRhdGEtIitiZS5ucysicm9sZSIpLFsic2xpZGVyIiwicmFuZ2VzbGlkZXIiLCJicmVhZGNydW1iIl0pPi0xfHx0LmlzKCI6dmlzaWJsZSIpfWZ1bmN0aW9uIEUoZSx0KXt2YXIgbj1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdChuKT8hZS5kaXNhYmxlZDoiYSI9PT1uP2UuaHJlZnx8dDp0KSYmXyhlKX1mdW5jdGlvbiBfKHQpe3JldHVybiBlLmV4cHIucHNldWRvcy52aXNpYmxlKHQpJiYhZSh0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJoaWRkZW4iPT09ZS5jc3ModGhpcywidmlzaWJpbGl0eSIpfSkubGVuZ3RofWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gbmV3IEEuZm4uaW5pdChlLHQpfXZhciBILE4sRixQLFIsVSxqLEksVywkLEwsQixZLHEsSixWLEcsSyxRLFosWCxlZSx0ZSxuZSxyZSxvZSxpZSxhZSxzZSx1ZSxsZSxjZSxkZSxmZSxwZSxtZSxoZSxnZSx5ZSx2ZSxiZT10LmtlbmRvPXQua2VuZG98fHtjdWx0dXJlczp7fX0sd2U9ZS5leHRlbmQsTWU9ZS5lYWNoLHhlPWUuaXNBcnJheSxTZT1lLnByb3h5LGtlPWUubm9vcCxUZT1NYXRoLE9lPXQuSlNPTnx8e30semU9e30sRGU9LyUvLENlPS9ceyhcZCspKDpbXlx9XSspP1x9L2csRWU9LyhcZCsoPzpcLj8pXGQqKXB4XHMqKFxkKyg/OlwuPylcZCopcHhccyooXGQrKD86XC4/KVxkKilweFxzKihcZCspPy9pLF9lPS9eKFwrfC0/KVxkKyhcLj8pXGQqJC8sQWU9ImZ1bmN0aW9uIixIZT0ic3RyaW5nIixOZT0ibnVtYmVyIixGZT0ib2JqZWN0IixQZT0ibnVsbCIsUmU9ImJvb2xlYW4iLFVlPSJ1bmRlZmluZWQiLGplPXt9LEllPXt9LFdlPVtdLnNsaWNlLCRlPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLG8saSxhLHM9YXJndW1lbnRzWzBdfHx7fSx1PTEsbD1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIHMmJihjPXMscz1hcmd1bWVudHNbdV18fHt9LHUrKyksIm9iamVjdCI9PXR5cGVvZiBzfHxqUXVlcnkuaXNGdW5jdGlvbihzKXx8KHM9e30pLHU9PT1sJiYocz10aGlzLHUtLSk7dTxsO3UrKylpZihudWxsIT0oaT1hcmd1bWVudHNbdV0pKWZvcihvIGluIGkpImZpbHRlcnMiIT1vJiYiY29uY2F0IiE9byYmIjoiIT1vJiYoZT1zW29dLHI9aVtvXSxzIT09ciYmKGMmJnImJihqUXVlcnkuaXNQbGFpbk9iamVjdChyKXx8KHQ9alF1ZXJ5LmlzQXJyYXkocikpKT8odD8odD0hMSxhPWUmJmpRdWVyeS5pc0FycmF5KGUpP2U6W10pOmE9ZSYmalF1ZXJ5LmlzUGxhaW5PYmplY3QoZSk/ZTp7fSxzW29dPSRlKGMsYSxyKSk6ciE9PW4mJihzW29dPXIpKSk7cmV0dXJuIHN9O2JlLnZlcnNpb249IjIwMjAuMi40MTQiLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSxyLmV4dGVuZD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZnVuY3Rpb24oKXt9LG89dGhpcyxpPWUmJmUuaW5pdD9lLmluaXQ6ZnVuY3Rpb24oKXtvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ci5wcm90b3R5cGU9by5wcm90b3R5cGUsbj1pLmZuPWkucHJvdG90eXBlPW5ldyByO2Zvcih0IGluIGUpblt0XT1udWxsIT1lW3RdJiZlW3RdLmNvbnN0cnVjdG9yPT09T2JqZWN0P3dlKCEwLHt9LHIucHJvdG90eXBlW3RdLGVbdF0pOmVbdF07cmV0dXJuIG4uY29uc3RydWN0b3I9aSxpLmV4dGVuZD1vLmV4dGVuZCxpfSxyLnByb3RvdHlwZS5faW5pdE9wdGlvbnM9ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPWwoe30sdGhpcy5vcHRpb25zLGUpfSxOPWJlLmlzRnVuY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9LEY9ZnVuY3Rpb24oKXt0aGlzLl9kZWZhdWx0UHJldmVudGVkPSEwfSxQPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9PT0hMH0sUj1yLmV4dGVuZCh7aW5pdDpmdW5jdGlvbigpe3RoaXMuX2V2ZW50cz17fX0sYmluZDpmdW5jdGlvbihlLHQscil7dmFyIG8saSxhLHMsdSxsPXRoaXMsYz10eXBlb2YgZT09PUhlP1tlXTplLGQ9dHlwZW9mIHQ9PT1BZTtpZih0PT09bil7Zm9yKG8gaW4gZSlsLmJpbmQobyxlW29dKTtyZXR1cm4gbH1mb3Iobz0wLGk9Yy5sZW5ndGg7bzxpO28rKyllPWNbb10scz1kP3Q6dFtlXSxzJiYociYmKGE9cyxzPWZ1bmN0aW9uKCl7bC51bmJpbmQoZSxzKSxhLmFwcGx5KGwsYXJndW1lbnRzKX0scy5vcmlnaW5hbD1hKSx1PWwuX2V2ZW50c1tlXT1sLl9ldmVudHNbZV18fFtdLHUucHVzaChzKSk7cmV0dXJuIGx9LG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmJpbmQoZSx0LCEwKX0sZmlyc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhPXRoaXMscz10eXBlb2YgZT09PUhlP1tlXTplLHU9dHlwZW9mIHQ9PT1BZTtmb3Iobj0wLHI9cy5sZW5ndGg7bjxyO24rKyllPXNbbl0sbz11P3Q6dFtlXSxvJiYoaT1hLl9ldmVudHNbZV09YS5fZXZlbnRzW2VdfHxbXSxpLnVuc2hpZnQobykpO3JldHVybiBhfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXRoaXMsaT1vLl9ldmVudHNbZV07aWYoaSl7Zm9yKHQ9dHx8e30sdC5zZW5kZXI9byx0Ll9kZWZhdWx0UHJldmVudGVkPSExLHQucHJldmVudERlZmF1bHQ9Rix0LmlzRGVmYXVsdFByZXZlbnRlZD1QLGk9aS5zbGljZSgpLG49MCxyPWkubGVuZ3RoO248cjtuKyspaVtuXS5jYWxsKG8sdCk7cmV0dXJuIHQuX2RlZmF1bHRQcmV2ZW50ZWQ9PT0hMH1yZXR1cm4hMX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbz10aGlzLGk9by5fZXZlbnRzW2VdO2lmKGU9PT1uKW8uX2V2ZW50cz17fTtlbHNlIGlmKGkpaWYodClmb3Iocj1pLmxlbmd0aC0xO3I+PTA7ci0tKWlbcl0hPT10JiZpW3JdLm9yaWdpbmFsIT09dHx8aS5zcGxpY2UociwxKTtlbHNlIG8uX2V2ZW50c1tlXT1bXTtyZXR1cm4gb319KSxVPS9eXHcrLyxqPS9cJFx7KFtefV0qKVx9L2csST0vXFxcfS9nLFc9L19fQ1VSTFlfXy9nLCQ9L1xcIy9nLEw9L19fU0hBUlBfXy9nLEI9WyIiLCIwIiwiMDAiLCIwMDAiLCIwMDAwIl0sSD17cGFyYW1OYW1lOiJkYXRhIix1c2VXaXRoQmxvY2s6ITAscmVuZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPSIiO2ZvcihuPTAscj10Lmxlbmd0aDtuPHI7bisrKW8rPWUodFtuXSk7cmV0dXJuIG99LGNvbXBpbGU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksYT13ZSh7fSx0aGlzLHQpLHM9YS5wYXJhbU5hbWUsdT1zLm1hdGNoKFUpWzBdLGw9YS51c2VXaXRoQmxvY2ssYz0idmFyICRrZW5kb091dHB1dCwgJGtlbmRvSHRtbEVuY29kZSA9IGtlbmRvLmh0bWxFbmNvZGU7IjtpZihOKGUpKXJldHVybiBlO2ZvcihjKz1sPyJ3aXRoKCIrcysiKXsiOiIiLGMrPSIka2VuZG9PdXRwdXQ9IixyPWUucmVwbGFjZShJLCJfX0NVUkxZX18iKS5yZXBsYWNlKGosIiM9JGtlbmRvSHRtbEVuY29kZSgkMSkjIikucmVwbGFjZShXLCJ9IikucmVwbGFjZSgkLCJfX1NIQVJQX18iKS5zcGxpdCgiIyIpLGk9MDtpPHIubGVuZ3RoO2krKyljKz1vKHJbaV0saSUyPT09MCk7Yys9bD8iO30iOiI7IixjKz0icmV0dXJuICRrZW5kb091dHB1dDsiLGM9Yy5yZXBsYWNlKEwsIiMiKTt0cnl7cmV0dXJuIG49RnVuY3Rpb24odSxjKSxuLl9zbG90Q291bnQ9TWF0aC5mbG9vcihyLmxlbmd0aC8yKSxufWNhdGNoKGQpe3Rocm93IEVycm9yKGJlLmZvcm1hdCgiSW52YWxpZCB0ZW1wbGF0ZTonezB9JyBHZW5lcmF0ZWQgY29kZTonezF9JyIsZSxjKSl9fX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3JldHVybiBhLmxhc3RJbmRleD0wLGEudGVzdChlKT8nIicrZS5yZXBsYWNlKGEsZnVuY3Rpb24oZSl7dmFyIHQ9c1tlXTtyZXR1cm4gdHlwZW9mIHQ9PT1IZT90OiJcXHUiKygiMDAwMCIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJytlKyciJ31mdW5jdGlvbiB0KGksYSl7dmFyIHMsbCxjLGQsZixwLG09bixoPWFbaV07aWYoaCYmdHlwZW9mIGg9PT1GZSYmdHlwZW9mIGgudG9KU09OPT09QWUmJihoPWgudG9KU09OKGkpKSx0eXBlb2Ygbz09PUFlJiYoaD1vLmNhbGwoYSxpLGgpKSxwPXR5cGVvZiBoLHA9PT1IZSlyZXR1cm4gZShoKTtpZihwPT09TmUpcmV0dXJuIGlzRmluaXRlKGgpP2grIiI6UGU7aWYocD09PVJlfHxwPT09UGUpcmV0dXJuIGgrIiI7aWYocD09PUZlKXtpZighaClyZXR1cm4gUGU7aWYobis9cixmPVtdLCJbb2JqZWN0IEFycmF5XSI9PT11LmFwcGx5KGgpKXtmb3IoZD1oLmxlbmd0aCxzPTA7czxkO3MrKylmW3NdPXQocyxoKXx8UGU7cmV0dXJuIGM9MD09PWYubGVuZ3RoPyJbXSI6bj8iW1xuIituK2Yuam9pbigiLFxuIituKSsiXG4iK20rIl0iOiJbIitmLmpvaW4oIiwiKSsiXSIsbj1tLGN9aWYobyYmdHlwZW9mIG89PT1GZSlmb3IoZD1vLmxlbmd0aCxzPTA7czxkO3MrKyl0eXBlb2Ygb1tzXT09PUhlJiYobD1vW3NdLGM9dChsLGgpLGMmJmYucHVzaChlKGwpKyhuPyI6ICI6IjoiKStjKSk7ZWxzZSBmb3IobCBpbiBoKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsbCkmJihjPXQobCxoKSxjJiZmLnB1c2goZShsKSsobj8iOiAiOiI6IikrYykpO3JldHVybiBjPTA9PT1mLmxlbmd0aD8ie30iOm4/IntcbiIrbitmLmpvaW4oIixcbiIrbikrIlxuIittKyJ9IjoieyIrZi5qb2luKCIsIikrIn0iLG49bSxjfX12YXIgbixyLG8sYT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxzPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSx1PXt9LnRvU3RyaW5nO3R5cGVvZiBEYXRlLnByb3RvdHlwZS50b0pTT04hPT1BZSYmKERhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGlzRmluaXRlKGUudmFsdWVPZigpKT9pKGUuZ2V0VVRDRnVsbFllYXIoKSw0KSsiLSIraShlLmdldFVUQ01vbnRoKCkrMSkrIi0iK2koZS5nZXRVVENEYXRlKCkpKyJUIitpKGUuZ2V0VVRDSG91cnMoKSkrIjoiK2koZS5nZXRVVENNaW51dGVzKCkpKyI6IitpKGUuZ2V0VVRDU2Vjb25kcygpKSsiWiI6bnVsbH0sU3RyaW5nLnByb3RvdHlwZS50b0pTT049TnVtYmVyLnByb3RvdHlwZS50b0pTT049Qm9vbGVhbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVPZigpfSksdHlwZW9mIE9lLnN0cmluZ2lmeSE9PUFlJiYoT2Uuc3RyaW5naWZ5PWZ1bmN0aW9uKGUsaSxhKXt2YXIgcztpZihuPSIiLHI9IiIsdHlwZW9mIGE9PT1OZSlmb3Iocz0wO3M8YTtzKz0xKXIrPSIgIjtlbHNlIHR5cGVvZiBhPT09SGUmJihyPWEpO2lmKG89aSxpJiZ0eXBlb2YgaSE9PUFlJiYodHlwZW9mIGkhPT1GZXx8dHlwZW9mIGkubGVuZ3RoIT09TmUpKXRocm93IEVycm9yKCJKU09OLnN0cmluZ2lmeSIpO3JldHVybiB0KCIiLHsiIjplfSl9KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYoZSl7aWYoZS5udW1iZXJGb3JtYXQpcmV0dXJuIGU7aWYodHlwZW9mIGU9PT1IZSl7dmFyIHQ9YmUuY3VsdHVyZXM7cmV0dXJuIHRbZV18fHRbZS5zcGxpdCgiLSIpWzBdXXx8bnVsbH1yZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiByKGUpe3JldHVybiBlJiYoZT10KGUpKSxlfHxiZS5jdWx0dXJlcy5jdXJyZW50fWZ1bmN0aW9uIG8oZSx0LG8pe289cihvKTt2YXIgYT1vLmNhbGVuZGFycy5zdGFuZGFyZCxzPWEuZGF5cyx1PWEubW9udGhzO3JldHVybiB0PWEucGF0dGVybnNbdF18fHQsdC5yZXBsYWNlKGMsZnVuY3Rpb24odCl7dmFyIHIsbyxsO3JldHVybiJkIj09PXQ/bz1lLmdldERhdGUoKToiZGQiPT09dD9vPWkoZS5nZXREYXRlKCkpOiJkZGQiPT09dD9vPXMubmFtZXNBYmJyW2UuZ2V0RGF5KCldOiJkZGRkIj09PXQ/bz1zLm5hbWVzW2UuZ2V0RGF5KCldOiJNIj09PXQ/bz1lLmdldE1vbnRoKCkrMToiTU0iPT09dD9vPWkoZS5nZXRNb250aCgpKzEpOiJNTU0iPT09dD9vPXUubmFtZXNBYmJyW2UuZ2V0TW9udGgoKV06Ik1NTU0iPT09dD9vPXUubmFtZXNbZS5nZXRNb250aCgpXToieXkiPT09dD9vPWkoZS5nZXRGdWxsWWVhcigpJTEwMCk6Inl5eXkiPT09dD9vPWkoZS5nZXRGdWxsWWVhcigpLDQpOiJoIj09PXQ/bz1lLmdldEhvdXJzKCklMTJ8fDEyOiJoaCI9PT10P289aShlLmdldEhvdXJzKCklMTJ8fDEyKToiSCI9PT10P289ZS5nZXRIb3VycygpOiJISCI9PT10P289aShlLmdldEhvdXJzKCkpOiJtIj09PXQ/bz1lLmdldE1pbnV0ZXMoKToibW0iPT09dD9vPWkoZS5nZXRNaW51dGVzKCkpOiJzIj09PXQ/bz1lLmdldFNlY29uZHMoKToic3MiPT09dD9vPWkoZS5nZXRTZWNvbmRzKCkpOiJmIj09PXQ/bz1UZS5mbG9vcihlLmdldE1pbGxpc2Vjb25kcygpLzEwMCk6ImZmIj09PXQ/KG89ZS5nZXRNaWxsaXNlY29uZHMoKSxvPjk5JiYobz1UZS5mbG9vcihvLzEwKSksbz1pKG8pKToiZmZmIj09PXQ/bz1pKGUuZ2V0TWlsbGlzZWNvbmRzKCksMyk6InR0Ij09PXQ/bz1lLmdldEhvdXJzKCk8MTI/YS5BTVswXTphLlBNWzBdOiJ6enoiPT09dD8ocj1lLmdldFRpbWV6b25lT2Zmc2V0KCksbD1yPDAsbz0oIiIrVGUuYWJzKHIvNjApKS5zcGxpdCgiLiIpWzBdLHI9VGUuYWJzKHIpLTYwKm8sbz0obD8iKyI6Ii0iKStpKG8pLG8rPSI6IitpKHIpKToienoiIT09dCYmInoiIT09dHx8KG89ZS5nZXRUaW1lem9uZU9mZnNldCgpLzYwLGw9bzwwLG89KCIiK1RlLmFicyhvKSkuc3BsaXQoIi4iKVswXSxvPShsPyIrIjoiLSIpKygienoiPT09dD9pKG8pOm8pKSxvIT09bj9vOnQuc2xpY2UoMSx0Lmxlbmd0aC0xKX0pfWZ1bmN0aW9uIGEoZSx0LG8pe3ZhciBpLGEsbCxjLHcsTSx4LFMsayxULE8seixELEMsRSxfLEEsSCxOLEYsUCxSLFUsaixJLFcsJCxMLEIsWSxxLEosVixHO2lmKG89cihvKSxpPW8ubnVtYmVyRm9ybWF0LGE9aVtoXSxsPWkuZGVjaW1hbHMsYz1pLnBhdHRlcm5bMF0sdz1bXSxPPWU8MCxfPW0sQT1tLHE9LTEsZT09PW4pcmV0dXJuIG07aWYoIWlzRmluaXRlKGUpKXJldHVybiBlO2lmKCF0KXJldHVybiBvLm5hbWUubGVuZ3RoP2UudG9Mb2NhbGVTdHJpbmcoKToiIitlO2lmKFQ9ZC5leGVjKHQpKXtpZih0PVRbMV0udG9Mb3dlckNhc2UoKSx4PSJjIj09PXQsUz0icCI9PT10LCh4fHxTKSYmKGk9eD9pLmN1cnJlbmN5OmkucGVyY2VudCxhPWlbaF0sbD1pLmRlY2ltYWxzLE09aS5zeW1ib2wsYz1pLnBhdHRlcm5bTz8wOjFdKSxrPVRbMl0sayYmKGw9K2spLCJlIj09PXQpcmV0dXJuIFY9az9lLnRvRXhwb25lbnRpYWwobCk6ZS50b0V4cG9uZW50aWFsKCksVi5yZXBsYWNlKGgsaVtoXSk7aWYoUyYmKGUqPTEwMCksZT11KGUsbCksTz1lPDAsZT1lLnNwbGl0KGgpLHo9ZVswXSxEPWVbMV0sTyYmKHo9ei5zdWJzdHJpbmcoMSkpLEE9cyh6LDAsei5sZW5ndGgsaSksRCYmKEErPWErRCksIm4iPT09dCYmIU8pcmV0dXJuIEE7Zm9yKGU9bSxIPTAsTj1jLmxlbmd0aDtIPE47SCsrKUY9Yy5jaGFyQXQoSCksZSs9Im4iPT09Rj9BOiIkIj09PUZ8fCIlIj09PUY/TTpGO3JldHVybiBlfWlmKCh0LmluZGV4T2YoIiciKT4tMXx8dC5pbmRleE9mKCciJyk+LTF8fHQuaW5kZXhPZigiXFwiKT4tMSkmJih0PXQucmVwbGFjZShmLGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhckF0KDApLnJlcGxhY2UoIlxcIiwiIiksbj1lLnNsaWNlKDEpLnJlcGxhY2UodCwiIik7cmV0dXJuIHcucHVzaChuKSxifSkpLHQ9dC5zcGxpdCgiOyIpLE8mJnRbMV0pdD10WzFdLFI9ITA7ZWxzZSBpZigwPT09ZSYmdFsyXSl7aWYodD10WzJdLHQuaW5kZXhPZih5KT09LTEmJnQuaW5kZXhPZih2KT09LTEpcmV0dXJuIHR9ZWxzZSB0PXRbMF07aWYoTD10LmluZGV4T2YoIiUiKSxCPXQuaW5kZXhPZigiJCIpLFM9TCE9LTEseD1CIT0tMSxTJiYoZSo9MTAwKSx4JiYiXFwiPT09dFtCLTFdJiYodD10LnNwbGl0KCJcXCIpLmpvaW4oIiIpLHg9ITEpLCh4fHxTKSYmKGk9eD9pLmN1cnJlbmN5OmkucGVyY2VudCxhPWlbaF0sbD1pLmRlY2ltYWxzLE09aS5zeW1ib2wpLFA9dC5pbmRleE9mKGcpPi0xLFAmJih0PXQucmVwbGFjZShwLG0pKSxVPXQuaW5kZXhPZihoKSxOPXQubGVuZ3RoLFUhPS0xKWlmKEQ9KCIiK2UpLnNwbGl0KCJlIiksRD1EWzFdP3UoZSxNYXRoLmFicyhEWzFdKSk6RFswXSxEPUQuc3BsaXQoaClbMV18fG0sST10Lmxhc3RJbmRleE9mKHYpLVUsaj10Lmxhc3RJbmRleE9mKHkpLVUsVz1JPi0xLCQ9aj4tMSxIPUQubGVuZ3RoLFd8fCR8fCh0PXQuc3Vic3RyaW5nKDAsVSkrdC5zdWJzdHJpbmcoVSsxKSxOPXQubGVuZ3RoLFU9LTEsSD0wKSxXJiZJPmopSD1JO2Vsc2UgaWYoaj5JKWlmKCQmJkg+ail7Zm9yKEc9dShlLGosTyk7Ry5jaGFyQXQoRy5sZW5ndGgtMSk9PT12JiZqPjAmJmo+STspai0tLEc9dShlLGosTyk7SD1qfWVsc2UgVyYmSDxJJiYoSD1JKTtpZihlPXUoZSxILE8pLGo9dC5pbmRleE9mKHkpLFk9ST10LmluZGV4T2YodikscT1qPT0tMSYmSSE9LTE/STpqIT0tMSYmST09LTE/ajpqPkk/STpqLGo9dC5sYXN0SW5kZXhPZih5KSxJPXQubGFzdEluZGV4T2YodiksSj1qPT0tMSYmSSE9LTE/STpqIT0tMSYmST09LTE/ajpqPkk/ajpJLHE9PU4mJihKPXEpLHEhPS0xKXtmb3IoQT0oIiIrZSkuc3BsaXQoaCksej1BWzBdLEQ9QVsxXXx8bSxDPXoubGVuZ3RoLEU9RC5sZW5ndGgsTyYmZSotMT49MCYmKE89ITEpLGU9dC5zdWJzdHJpbmcoMCxxKSxPJiYhUiYmKGUrPSItIiksSD1xO0g8TjtIKyspe2lmKEY9dC5jaGFyQXQoSCksVT09LTEpe2lmKEotSDxDKXtlKz16O2JyZWFrfX1lbHNlIGlmKEkhPS0xJiZJPEgmJihfPW0pLFUtSDw9QyYmVS1IPi0xJiYoZSs9eixIPVUpLFU9PT1IKXtlKz0oRD9hOm0pK0QsSCs9Si1VKzE7Y29udGludWV9Rj09PXY/KGUrPUYsXz1GKTpGPT09eSYmKGUrPV8pfWlmKFAmJihlPXMoZSxxKyhPJiYhUj8xOjApLE1hdGgubWF4KEosQytxKSxpKSksSj49cSYmKGUrPXQuc3Vic3RyaW5nKEorMSkpLHh8fFMpe2ZvcihBPW0sSD0wLE49ZS5sZW5ndGg7SDxOO0grKylGPWUuY2hhckF0KEgpLEErPSIkIj09PUZ8fCIlIj09PUY/TTpGO2U9QX1pZihOPXcubGVuZ3RoKWZvcihIPTA7SDxOO0grKyllPWUucmVwbGFjZShiLHdbSF0pfXJldHVybiBlfXZhciBzLHUsbCxjPS9kZGRkfGRkZHxkZHxkfE1NTU18TU1NfE1NfE18eXl5eXx5eXxISHxIfGhofGh8bW18bXxmZmZ8ZmZ8Znx0dHxzc3xzfHp6enx6enx6fCJbXiJdKiJ8J1teJ10qJy9nLGQ9L14obnxjfHB8ZSkoXGQqKSQvaSxmPS8oXFwuKXwoWyddW14nXSpbJ10/KXwoWyJdW14iXSpbIl0/KS9nLHA9L1wsL2csbT0iIixoPSIuIixnPSIsIix5PSIjIix2PSIwIixiPSI/PyIsdz0iZW4tVVMiLE09e30udG9TdHJpbmc7YmUuY3VsdHVyZXNbImVuLVVTIl09e25hbWU6dyxudW1iZXJGb3JtYXQ6e3BhdHRlcm46WyItbiJdLGRlY2ltYWxzOjIsIiwiOiIsIiwiLiI6Ii4iLGdyb3VwU2l6ZTpbM10scGVyY2VudDp7cGF0dGVybjpbIi1uICUiLCJuICUiXSxkZWNpbWFsczoyLCIsIjoiLCIsIi4iOiIuIixncm91cFNpemU6WzNdLHN5bWJvbDoiJSJ9LGN1cnJlbmN5OntuYW1lOiJVUyBEb2xsYXIiLGFiYnI6IlVTRCIscGF0dGVybjpbIigkbikiLCIkbiJdLGRlY2ltYWxzOjIsIiwiOiIsIiwiLiI6Ii4iLGdyb3VwU2l6ZTpbM10sc3ltYm9sOiIkIn19LGNhbGVuZGFyczp7c3RhbmRhcmQ6e2RheXM6e25hbWVzOlsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxuYW1lc0FiYnI6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxuYW1lc1Nob3J0OlsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXX0sbW9udGhzOntuYW1lczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sbmFtZXNBYmJyOlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl19LEFNOlsiQU0iLCJhbSIsIkFNIl0sUE06WyJQTSIsInBtIiwiUE0iXSxwYXR0ZXJuczp7ZDoiTS9kL3l5eXkiLEQ6ImRkZGQsIE1NTU0gZGQsIHl5eXkiLEY6ImRkZGQsIE1NTU0gZGQsIHl5eXkgaDptbTpzcyB0dCIsZzoiTS9kL3l5eXkgaDptbSB0dCIsRzoiTS9kL3l5eXkgaDptbTpzcyB0dCIsbToiTU1NTSBkZCIsTToiTU1NTSBkZCIsczoieXl5eSctJ01NJy0nZGRUSEgnOidtbSc6J3NzIix0OiJoOm1tIHR0IixUOiJoOm1tOnNzIHR0Iix1OiJ5eXl5Jy0nTU0nLSdkZCBISCc6J21tJzonc3MnWiciLHk6Ik1NTU0sIHl5eXkiLFk6Ik1NTU0sIHl5eXkifSwiLyI6Ii8iLCI6IjoiOiIsZmlyc3REYXk6MCx0d29EaWdpdFllYXJNYXg6MjAyOX19fSxiZS5jdWx0dXJlPWZ1bmN0aW9uKGUpe3ZhciByLG89YmUuY3VsdHVyZXM7cmV0dXJuIGU9PT1uP28uY3VycmVudDoocj10KGUpfHxvW3ddLHIuY2FsZW5kYXI9ci5jYWxlbmRhcnMuc3RhbmRhcmQsby5jdXJyZW50PXIsbil9LGJlLmZpbmRDdWx0dXJlPXQsYmUuZ2V0Q3VsdHVyZT1yLGJlLmN1bHR1cmUodykscz1mdW5jdGlvbihlLHQscixvKXt2YXIgaSxhLHMsdSxsLGMsZD1lLmluZGV4T2Yob1toXSksZj1vLmdyb3VwU2l6ZS5zbGljZSgpLHA9Zi5zaGlmdCgpO2lmKHI9ZCE9PS0xP2Q6cisxLGk9ZS5zdWJzdHJpbmcodCxyKSxhPWkubGVuZ3RoLGE+PXApe2ZvcihzPWEsdT1bXTtzPi0xOylpZihsPWkuc3Vic3RyaW5nKHMtcCxzKSxsJiZ1LnB1c2gobCkscy09cCxjPWYuc2hpZnQoKSxwPWMhPT1uP2M6cCwwPT09cCl7cz4wJiZ1LnB1c2goaS5zdWJzdHJpbmcoMCxzKSk7YnJlYWt9aT11LnJldmVyc2UoKS5qb2luKG9bZ10pLGU9ZS5zdWJzdHJpbmcoMCx0KStpK2Uuc3Vic3RyaW5nKHIpfXJldHVybiBlfSx1PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD10fHwwLGU9KCIiK2UpLnNwbGl0KCJlIiksZT1NYXRoLnJvdW5kKCsoZVswXSsiZSIrKGVbMV0/K2VbMV0rdDp0KSkpLG4mJihlPS1lKSxlPSgiIitlKS5zcGxpdCgiZSIpLGU9KyhlWzBdKyJlIisoZVsxXT8rZVsxXS10Oi10KSksZS50b0ZpeGVkKE1hdGgubWluKHQsMjApKX0sbD1mdW5jdGlvbihlLHQscil7aWYodCl7aWYoIltvYmplY3QgRGF0ZV0iPT09TS5jYWxsKGUpKXJldHVybiBvKGUsdCxyKTtpZih0eXBlb2YgZT09PU5lKXJldHVybiBhKGUsdCxyKX1yZXR1cm4gZSE9PW4/ZToiIn0sYmUuZm9ybWF0PWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cztyZXR1cm4gZS5yZXBsYWNlKENlLGZ1bmN0aW9uKGUsbixyKXt2YXIgbz10W3BhcnNlSW50KG4sMTApKzFdO3JldHVybiBsKG8scj9yLnN1YnN0cmluZygxKToiIil9KX0sYmUuX2V4dHJhY3RGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuInswOiI9PT1lLnNsaWNlKDAsMykmJihlPWUuc2xpY2UoMyxlLmxlbmd0aC0xKSksZX0sYmUuX2FjdGl2ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hY3RpdmVFbGVtZW50fX0sYmUuX3JvdW5kPXUsYmUuX291dGVyV2lkdGg9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0KS5vdXRlcldpZHRoKG58fCExKXx8MH0sYmUuX291dGVySGVpZ2h0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodCkub3V0ZXJIZWlnaHQobnx8ITEpfHwwfSxiZS50b1N0cmluZz1sfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQsbil7cmV0dXJuIShlPj10JiZlPD1uKX1mdW5jdGlvbiByKGUpe3JldHVybiBlLmNoYXJBdCgwKX1mdW5jdGlvbiBvKHQpe3JldHVybiBlLm1hcCh0LHIpfWZ1bmN0aW9uIGkoZSx0KXt0fHwyMyE9PWUuZ2V0SG91cnMoKXx8ZS5zZXRIb3VycyhlLmdldEhvdXJzKCkrMil9ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9W107dDxuO3QrKylyW3RdPShlW3RdKyIiKS50b0xvd2VyQ2FzZSgpO3JldHVybiByfWZ1bmN0aW9uIHMoZSl7dmFyIHQsbj17fTtmb3IodCBpbiBlKW5bdF09YShlW3RdKTtyZXR1cm4gbn1mdW5jdGlvbiB1KGUscixhLHUpe2lmKCFlKXJldHVybiBudWxsO3ZhciBsLGMsZCxmLHAsZyx5LHYsYixNLHgsUyxrLFQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7cltSXT09PWU7KXQrKyxSKys7cmV0dXJuIHQ+MCYmKFItPTEpLHR9LE89ZnVuY3Rpb24odCl7dmFyIG49d1t0XXx8UmVnRXhwKCJeXFxkezEsIit0KyJ9Iikscj1lLnN1YnN0cihVLHQpLm1hdGNoKG4pO3JldHVybiByPyhyPXJbMF0sVSs9ci5sZW5ndGgscGFyc2VJbnQociwxMCkpOm51bGx9LHo9ZnVuY3Rpb24odCxuKXtmb3IodmFyIHIsbyxpLGE9MCxzPXQubGVuZ3RoLHU9MCxsPTA7YTxzO2ErKylyPXRbYV0sbz1yLmxlbmd0aCxpPWUuc3Vic3RyKFUsbyksbiYmKGk9aS50b0xvd2VyQ2FzZSgpKSxpPT1yJiZvPnUmJih1PW8sbD1hKTtyZXR1cm4gdT8oVSs9dSxsKzEpOm51bGx9LEQ9ZnVuY3Rpb24oKXt2YXIgdD0hMTtyZXR1cm4gZS5jaGFyQXQoVSk9PT1yW1JdJiYoVSsrLHQ9ITApLHR9LEM9YS5jYWxlbmRhcnMuc3RhbmRhcmQsRT1udWxsLF89bnVsbCxBPW51bGwsSD1udWxsLE49bnVsbCxGPW51bGwsUD1udWxsLFI9MCxVPTAsaj0hMSxJPW5ldyBEYXRlLFc9Qy50d29EaWdpdFllYXJNYXh8fDIwMjksJD1JLmdldEZ1bGxZZWFyKCk7Zm9yKHJ8fChyPSJkIiksZj1DLnBhdHRlcm5zW3JdLGYmJihyPWYpLHI9ci5zcGxpdCgiIiksZD1yLmxlbmd0aDtSPGQ7UisrKWlmKGw9cltSXSxqKSInIj09PWw/aj0hMTpEKCk7ZWxzZSBpZigiZCI9PT1sKXtpZihjPVQoImQiKSxDLl9sb3dlckRheXN8fChDLl9sb3dlckRheXM9cyhDLmRheXMpKSxudWxsIT09QSYmYz4yKWNvbnRpbnVlO2lmKEE9YzwzP08oMik6eihDLl9sb3dlckRheXNbMz09Yz8ibmFtZXNBYmJyIjoibmFtZXMiXSwhMCksbnVsbD09PUF8fHQoQSwxLDMxKSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJNIj09PWwpe2lmKGM9VCgiTSIpLEMuX2xvd2VyTW9udGhzfHwoQy5fbG93ZXJNb250aHM9cyhDLm1vbnRocykpLF89YzwzP08oMik6eihDLl9sb3dlck1vbnRoc1szPT1jPyJuYW1lc0FiYnIiOiJuYW1lcyJdLCEwKSxudWxsPT09X3x8dChfLDEsMTIpKXJldHVybiBudWxsO18tPTF9ZWxzZSBpZigieSI9PT1sKXtpZihjPVQoInkiKSxFPU8oYyksbnVsbD09PUUpcmV0dXJuIG51bGw7Mj09YyYmKCJzdHJpbmciPT10eXBlb2YgVyYmKFc9JCtwYXJzZUludChXLDEwKSksRT0kLSQlMTAwK0UsRT5XJiYoRS09MTAwKSl9ZWxzZSBpZigiaCI9PT1sKXtpZihUKCJoIiksSD1PKDIpLDEyPT1IJiYoSD0wKSxudWxsPT09SHx8dChILDAsMTEpKXJldHVybiBudWxsfWVsc2UgaWYoIkgiPT09bCl7aWYoVCgiSCIpLEg9TygyKSxudWxsPT09SHx8dChILDAsMjMpKXJldHVybiBudWxsfWVsc2UgaWYoIm0iPT09bCl7aWYoVCgibSIpLE49TygyKSxudWxsPT09Tnx8dChOLDAsNTkpKXJldHVybiBudWxsfWVsc2UgaWYoInMiPT09bCl7aWYoVCgicyIpLEY9TygyKSxudWxsPT09Rnx8dChGLDAsNTkpKXJldHVybiBudWxsfWVsc2UgaWYoImYiPT09bCl7aWYoYz1UKCJmIiksaz1lLnN1YnN0cihVLGMpLm1hdGNoKHdbM10pLFA9TyhjKSxudWxsIT09UCYmKFA9cGFyc2VGbG9hdCgiMC4iK2tbMF0sMTApLFA9YmUuX3JvdW5kKFAsMyksUCo9MWUzKSxudWxsPT09UHx8dChQLDAsOTk5KSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJ0Ij09PWwpe2lmKGM9VCgidCIpLHY9Qy5BTSxiPUMuUE0sMT09PWMmJih2PW8odiksYj1vKGIpKSxwPXooYiksIXAmJiF6KHYpKXJldHVybiBudWxsfWVsc2UgaWYoInoiPT09bCl7aWYoZz0hMCxjPVQoInoiKSwiWiI9PT1lLnN1YnN0cihVLDEpKXtEKCk7Y29udGludWV9aWYoeT1lLnN1YnN0cihVLDYpLm1hdGNoKGM+Mj9oOm0pLCF5KXJldHVybiBudWxsO2lmKHk9eVswXS5zcGxpdCgiOiIpLE09eVswXSx4PXlbMV0sIXgmJk0ubGVuZ3RoPjMmJihVPU0ubGVuZ3RoLTIseD1NLnN1YnN0cmluZyhVKSxNPU0uc3Vic3RyaW5nKDAsVSkpLE09cGFyc2VJbnQoTSwxMCksdChNLC0xMiwxMykpcmV0dXJuIG51bGw7aWYoYz4yJiYoeD15WzBdWzBdK3gseD1wYXJzZUludCh4LDEwKSxpc05hTih4KXx8dCh4LC01OSw1OSkpKXJldHVybiBudWxsfWVsc2UgaWYoIiciPT09bClqPSEwLEQoKTtlbHNlIGlmKCFEKCkpcmV0dXJuIG51bGw7cmV0dXJuIHUmJiEvXlxzKiQvLnRlc3QoZS5zdWJzdHIoVSkpP251bGw6KFM9bnVsbCE9PUh8fG51bGwhPT1OfHxGfHxudWxsLG51bGw9PT1FJiZudWxsPT09XyYmbnVsbD09PUEmJlM/KEU9JCxfPUkuZ2V0TW9udGgoKSxBPUkuZ2V0RGF0ZSgpKToobnVsbD09PUUmJihFPSQpLG51bGw9PT1BJiYoQT0xKSkscCYmSDwxMiYmKEgrPTEyKSxnPyhNJiYoSCs9LU0pLHgmJihOKz0teCksZT1uZXcgRGF0ZShEYXRlLlVUQyhFLF8sQSxILE4sRixQKSkpOihlPW5ldyBEYXRlKEUsXyxBLEgsTixGLFApLGkoZSxIKSksRTwxMDAmJmUuc2V0RnVsbFllYXIoRSksZS5nZXREYXRlKCkhPT1BJiZnPT09bj9udWxsOmUpfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9Ii0iPT09ZS5zdWJzdHIoMCwxKT8tMToxO3JldHVybiBlPWUuc3Vic3RyaW5nKDEpLGU9NjAqcGFyc2VJbnQoZS5zdWJzdHIoMCwyKSwxMCkrcGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTApLHQqZX1mdW5jdGlvbiBjKGUpe3ZhciB0LG4scixvPVRlLm1heCh2Lmxlbmd0aCxiLmxlbmd0aCksaT1lLmNhbGVuZGFyfHxlLmNhbGVuZGFycy5zdGFuZGFyZCxhPWkucGF0dGVybnMscz1bXTtmb3Iocj0wO3I8bztyKyspe2Zvcih0PXZbcl0sbj0wO248dC5sZW5ndGg7bisrKXMucHVzaChhW3Rbbl1dKTtzPXMuY29uY2F0KGJbcl0pfXJldHVybiBzfWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG8saSxhLHM7aWYoIltvYmplY3QgRGF0ZV0iPT09TS5jYWxsKGUpKXJldHVybiBlO2lmKG89MCxpPW51bGwsZSYmMD09PWUuaW5kZXhPZigiL0QiKSYmKGk9Zy5leGVjKGUpKSlyZXR1cm4gaT1pWzFdLHM9eS5leGVjKGkuc3Vic3RyaW5nKDEpKSxpPW5ldyBEYXRlKHBhcnNlSW50KGksMTApKSxzJiYocz1sKHNbMF0pLGk9YmUudGltZXpvbmUuYXBwbHkoaSwwKSxpPWJlLnRpbWV6b25lLmNvbnZlcnQoaSwwLC0xKnMpKSxpO2ZvcihuPWJlLmdldEN1bHR1cmUobiksdHx8KHQ9YyhuKSksdD14ZSh0KT90Olt0XSxhPXQubGVuZ3RoO288YTtvKyspaWYoaT11KGUsdFtvXSxuLHIpKXJldHVybiBpO3JldHVybiBpfXZhciBmPS9cdTAwQTAvZyxwPS9bZUVdW1wtK10/WzAtOV0rLyxtPS9bK3xcLV1cZHsxLDJ9LyxoPS9bK3xcLV1cZHsxLDJ9Oj9cZHsyfS8sZz0vXlwvRGF0ZVwoKC4qPylcKVwvJC8seT0vWystXVxkKi8sdj1bW10sWyJHIiwiZyIsIkYiXSxbIkQiLCJkIiwieSIsIm0iLCJUIiwidCJdXSxiPVtbInl5eXktTU0tZGRUSEg6bW06c3MuZmZmZmZmZnp6eiIsInl5eXktTU0tZGRUSEg6bW06c3MuZmZmZmZmZiIsInl5eXktTU0tZGRUSEg6bW06c3MuZmZmenp6IiwieXl5eS1NTS1kZFRISDptbTpzcy5mZmYiLCJkZGQgTU1NIGRkIHl5eXkgSEg6bW06c3MiLCJ5eXl5LU1NLWRkVEhIOm1tOnNzenp6IiwieXl5eS1NTS1kZFRISDptbXp6eiIsInl5eXktTU0tZGRUSEg6bW16eiIsInl5eXktTU0tZGRUSEg6bW06c3MiLCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiwieXl5eS9NTS9kZCBISDptbTpzcyJdLFsieXl5eS1NTS1kZFRISDptbSIsInl5eXktTU0tZGQgSEg6bW0iLCJ5eXl5L01NL2RkIEhIOm1tIl0sWyJ5eXl5L01NL2RkIiwieXl5eS1NTS1kZCIsIkhIOm1tOnNzIiwiSEg6bW0iXV0sdz17MjovXlxkezEsMn0vLDM6L15cZHsxLDN9Lyw0Oi9eXGR7NH0vfSxNPXt9LnRvU3RyaW5nO2JlLnBhcnNlRGF0ZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGQoZSx0LG4sITEpfSxiZS5wYXJzZUV4YWN0RGF0ZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGQoZSx0LG4sITApfSxiZS5wYXJzZUludD1mdW5jdGlvbihlLHQpe3ZhciBuPWJlLnBhcnNlRmxvYXQoZSx0KTtyZXR1cm4gbiYmKG49MHxuKSxufSxiZS5wYXJzZUZsb2F0PWZ1bmN0aW9uKGUsdCxuKXtpZighZSYmMCE9PWUpcmV0dXJuIG51bGw7aWYodHlwZW9mIGU9PT1OZSlyZXR1cm4gZTtlPSIiK2UsdD1iZS5nZXRDdWx0dXJlKHQpO3ZhciByLG8saT10Lm51bWJlckZvcm1hdCxhPWkucGVyY2VudCxzPWkuY3VycmVuY3ksdT1zLnN5bWJvbCxsPWEuc3ltYm9sLGM9ZS5pbmRleE9mKCItIik7cmV0dXJuIHAudGVzdChlKT8oZT1wYXJzZUZsb2F0KGUucmVwbGFjZShpWyIuIl0sIi4iKSksaXNOYU4oZSkmJihlPW51bGwpLGUpOmM+MD9udWxsOihjPWM+LTEsZS5pbmRleE9mKHUpPi0xfHxuJiZuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYyIpPi0xPyhpPXMscj1pLnBhdHRlcm5bMF0ucmVwbGFjZSgiJCIsdSkuc3BsaXQoIm4iKSxlLmluZGV4T2YoclswXSk+LTEmJmUuaW5kZXhPZihyWzFdKT4tMSYmKGU9ZS5yZXBsYWNlKHJbMF0sIiIpLnJlcGxhY2UoclsxXSwiIiksYz0hMCkpOmUuaW5kZXhPZihsKT4tMSYmKG89ITAsaT1hLHU9bCksZT1lLnJlcGxhY2UoIi0iLCIiKS5yZXBsYWNlKHUsIiIpLnJlcGxhY2UoZiwiICIpLnNwbGl0KGlbIiwiXS5yZXBsYWNlKGYsIiAiKSkuam9pbigiIikucmVwbGFjZShpWyIuIl0sIi4iKSxlPXBhcnNlRmxvYXQoZSksaXNOYU4oZSk/ZT1udWxsOmMmJihlKj0tMSksZSYmbyYmKGUvPTEwMCksZSl9fSgpLGZ1bmN0aW9uKCl7dmFyIHIsbyxpLGEscyx1LGwsYyxmLHAsbSxoO3plLl9zY3JvbGxiYXI9bix6ZS5zY3JvbGxiYXI9ZnVuY3Rpb24oZSl7aWYoaXNOYU4oemUuX3Njcm9sbGJhcil8fGUpe3ZhciB0LG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIG4uc3R5bGUuY3NzVGV4dD0ib3ZlcmZsb3c6c2Nyb2xsO292ZXJmbG93LXg6aGlkZGVuO3pvb206MTtjbGVhcjpib3RoO2Rpc3BsYXk6YmxvY2siLG4uaW5uZXJIVE1MPSImbmJzcDsiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksemUuX3Njcm9sbGJhcj10PW4ub2Zmc2V0V2lkdGgtbi5zY3JvbGxXaWR0aCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pLHR9cmV0dXJuIHplLl9zY3JvbGxiYXJ9LHplLmlzUnRsPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpLmNsb3Nlc3QoIi5rLXJ0bCIpLmxlbmd0aD4wfSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7dHJ5e3IuaW5uZXJIVE1MPSI8dHI+PHRkPjwvdGQ+PC90cj4iLHplLnRib2R5SW5uZXJIdG1sPSEwfWNhdGNoKGcpe3plLnRib2R5SW5uZXJIdG1sPSExfXplLnRvdWNoPSJvbnRvdWNoc3RhcnQiaW4gdCxvPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxpPXplLnRyYW5zaXRpb25zPSExLGE9emUudHJhbnNmb3Jtcz0hMSxzPSJIVE1MRWxlbWVudCJpbiB0P0hUTUxFbGVtZW50LnByb3RvdHlwZTpbXSx6ZS5oYXNIVzNEPSJXZWJLaXRDU1NNYXRyaXgiaW4gdCYmIm0xMSJpbiBuZXcgdC5XZWJLaXRDU1NNYXRyaXh8fCJNb3pQZXJzcGVjdGl2ZSJpbiBvfHwibXNQZXJzcGVjdGl2ZSJpbiBvLHplLmNzc0ZsZXhib3g9ImZsZXhXcmFwImluIG98fCJXZWJraXRGbGV4V3JhcCJpbiBvfHwibXNGbGV4V3JhcCJpbiBvLE1lKFsiTW96Iiwid2Via2l0IiwiTyIsIm1zIl0sZnVuY3Rpb24oKXt2YXIgZSx0PSIiK3RoaXMsbj10eXBlb2Ygci5zdHlsZVt0KyJUcmFuc2l0aW9uIl09PT1IZTtpZihufHx0eXBlb2Ygci5zdHlsZVt0KyJUcmFuc2Zvcm0iXT09PUhlKXJldHVybiBlPXQudG9Mb3dlckNhc2UoKSxhPXtjc3M6Im1zIiE9ZT8iLSIrZSsiLSI6IiIscHJlZml4OnQsZXZlbnQ6Im8iPT09ZXx8IndlYmtpdCI9PT1lP2U6IiJ9LG4mJihpPWEsaS5ldmVudD1pLmV2ZW50P2kuZXZlbnQrIlRyYW5zaXRpb25FbmQiOiJ0cmFuc2l0aW9uZW5kIiksITF9KSxyPW51bGwsemUudHJhbnNmb3Jtcz1hLHplLnRyYW5zaXRpb25zPWksemUuZGV2aWNlUGl4ZWxSYXRpbz10LmRldmljZVBpeGVsUmF0aW89PT1uPzE6dC5kZXZpY2VQaXhlbFJhdGlvO3RyeXt6ZS5zY3JlZW5XaWR0aD10Lm91dGVyV2lkdGh8fHQuc2NyZWVuP3Quc2NyZWVuLmF2YWlsV2lkdGg6dC5pbm5lcldpZHRoLHplLnNjcmVlbkhlaWdodD10Lm91dGVySGVpZ2h0fHx0LnNjcmVlbj90LnNjcmVlbi5hdmFpbEhlaWdodDp0LmlubmVySGVpZ2h0fWNhdGNoKGcpe3plLnNjcmVlbldpZHRoPXQuc2NyZWVuLmF2YWlsV2lkdGgsemUuc2NyZWVuSGVpZ2h0PXQuc2NyZWVuLmF2YWlsSGVpZ2h0fXplLmRldGVjdE9TPWZ1bmN0aW9uKGUpe3ZhciBuLHIsbz0hMSxpPVtdLGE9IS9tb2JpbGUgc2FmYXJpL2kudGVzdChlKSxzPXt3cDovKFdpbmRvd3MgUGhvbmUoPzogT1MpPylccyhcZCspXC4oXGQrKFwuXGQrKT8pLyxmaXJlOi8oU2lsaylcLyhcZCspXC4oXGQrKFwuXGQrKT8pLyxhbmRyb2lkOi8oQW5kcm9pZHxBbmRyb2lkLiooPzpPcGVyYXxGaXJlZm94KS4qP1wvKVxzKihcZCspXC4/KFxkKyhcLlxkKyk/KT8vLGlwaG9uZTovKGlQaG9uZXxpUG9kKS4qT1NccysoXGQrKVtcLl9dKFtcZFwuX10rKS8saXBhZDovKGlQYWQpLipPU1xzKyhcZCspW1wuX10oW1xkX10rKS8sbWVlZ286LyhNZWVHbykuK05va2lhQnJvd3NlclwvKFxkKylcLihbXGRcLl9dKykvLHdlYm9zOi8od2ViT1MpXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS8sYmxhY2tiZXJyeTovKEJsYWNrQmVycnl8QkIxMCkuKj9WZXJzaW9uXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS8scGxheWJvb2s6LyhQbGF5Qm9vaykuKj9UYWJsZXRccypPU1xzKihcZCspXC4oXGQrKFwuXGQrKT8pLyx3aW5kb3dzOi8oTVNJRSlccysoXGQrKVwuKFxkKyhcLlxkKyk/KS8sdGl6ZW46Lyh0aXplbikuKj9WZXJzaW9uXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS9pLHNhaWxmaXNoOi8oc2FpbGZpc2gpLipydjooXGQrKVwuKFxkKyhcLlxkKyk/KS4qZmlyZWZveC9pLGZmb3M6LyhNb2JpbGUpLipydjooXGQrKVwuKFxkKyhcLlxkKyk/KS4qRmlyZWZveC99LHU9e2lvczovXmkocGhvbmV8cGFkfHBvZCkkL2ksYW5kcm9pZDovXmFuZHJvaWR8ZmlyZSQvaSxibGFja2JlcnJ5Oi9eYmxhY2tiZXJyeXxwbGF5Ym9vay9pLHdpbmRvd3M6L3dpbmRvd3MvLHdwOi93cC8sZmxhdDovc2FpbGZpc2h8ZmZvc3x0aXplbi9pLG1lZWdvOi9tZWVnby99LGw9e3RhYmxldDovcGxheWJvb2t8aXBhZHxmaXJlL2l9LGM9e29taW5pOi9PcGVyYVxzTWluaS9pLG9tb2JpbGU6L09wZXJhXHNNb2JpL2ksZmlyZWZveDovRmlyZWZveHxGZW5uZWMvaSxtb2JpbGVzYWZhcmk6L3ZlcnNpb25cLy4qc2FmYXJpL2ksaWU6L01TSUV8V2luZG93c1xzUGhvbmUvaSxjaHJvbWU6L2Nocm9tZXxjcmlvcy9pLHdlYmtpdDovd2Via2l0L2l9O2ZvcihyIGluIHMpaWYocy5oYXNPd25Qcm9wZXJ0eShyKSYmKGk9ZS5tYXRjaChzW3JdKSkpe2lmKCJ3aW5kb3dzIj09ciYmInBsdWdpbnMiaW4gbmF2aWdhdG9yKXJldHVybiExO289e30sby5kZXZpY2U9cixvLnRhYmxldD1kKHIsbCwhMSksby5icm93c2VyPWQoZSxjLCJkZWZhdWx0Iiksby5uYW1lPWQocix1KSxvW28ubmFtZV09ITAsby5tYWpvclZlcnNpb249aVsyXSxvLm1pbm9yVmVyc2lvbj0oaVszXXx8IjAiKS5yZXBsYWNlKCJfIiwiLiIpLG49by5taW5vclZlcnNpb24ucmVwbGFjZSgiLiIsIiIpLnN1YnN0cigwLDIpLG8uZmxhdFZlcnNpb249by5tYWpvclZlcnNpb24rbitBcnJheSgzLShuLmxlbmd0aDwzP24ubGVuZ3RoOjIpKS5qb2luKCIwIiksby5jb3Jkb3ZhPXR5cGVvZiB0LlBob25lR2FwIT09VWV8fHR5cGVvZiB0LmNvcmRvdmEhPT1VZSxvLmFwcE1vZGU9dC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZXx8L2ZpbGV8bG9jYWx8d21hcHAvLnRlc3QodC5sb2NhdGlvbi5wcm90b2NvbCl8fG8uY29yZG92YSxvLmFuZHJvaWQmJih6ZS5kZXZpY2VQaXhlbFJhdGlvPDEuNSYmby5mbGF0VmVyc2lvbjw0MDB8fGEpJiYoemUuc2NyZWVuV2lkdGg+ODAwfHx6ZS5zY3JlZW5IZWlnaHQ+ODAwKSYmKG8udGFibGV0PXIpO2JyZWFrfXJldHVybiBvfSx1PXplLm1vYmlsZU9TPXplLmRldGVjdE9TKG5hdmlnYXRvci51c2VyQWdlbnQpLHplLndwRGV2aWNlUGl4ZWxSYXRpbz11LndwP3NjcmVlbi53aWR0aC8zMjA6MCx6ZS5oYXNOYXRpdmVTY3JvbGxpbmc9ITEsKHUuaW9zfHx1LmFuZHJvaWQmJnUubWFqb3JWZXJzaW9uPjJ8fHUud3ApJiYoemUuaGFzTmF0aXZlU2Nyb2xsaW5nPXUpLHplLmRlbGF5ZWRDbGljaz1mdW5jdGlvbigpe2lmKHplLnRvdWNoKXtpZih1LmlvcylyZXR1cm4hMDtpZih1LmFuZHJvaWQpcmV0dXJuIXplLmJyb3dzZXIuY2hyb21lfHwhKHplLmJyb3dzZXIudmVyc2lvbjwzMikmJiEoZSgibWV0YVtuYW1lPXZpZXdwb3J0XSIpLmF0dHIoImNvbnRlbnQiKXx8IiIpLm1hdGNoKC91c2VyLXNjYWxhYmxlPW5vL2kpfXJldHVybiExfSx6ZS5tb3VzZUFuZFRvdWNoUHJlc2VudD16ZS50b3VjaCYmISh6ZS5tb2JpbGVPUy5pb3N8fHplLm1vYmlsZU9TLmFuZHJvaWQpLHplLmRldGVjdEJyb3dzZXI9ZnVuY3Rpb24oZSl7dmFyIHQsbj0hMSxyPVtdLG89e2VkZ2U6LyhlZGdlKVsgXC9dKFtcdy5dKykvaSx3ZWJraXQ6LyhjaHJvbWV8Y3Jpb3MpWyBcL10oW1x3Ll0rKS9pLHNhZmFyaTovKHdlYmtpdClbIFwvXShbXHcuXSspL2ksb3BlcmE6LyhvcGVyYSkoPzouKnZlcnNpb258KVsgXC9dKFtcdy5dKykvaSxtc2llOi8obXNpZVxzfHRyaWRlbnQuKj8gcnY6KShbXHcuXSspL2ksbW96aWxsYTovKG1vemlsbGEpKD86Lio/IHJ2OihbXHcuXSspfCkvaX07Zm9yKHQgaW4gbylpZihvLmhhc093blByb3BlcnR5KHQpJiYocj1lLm1hdGNoKG9bdF0pKSl7bj17fSxuW3RdPSEwLG5bclsxXS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIilbMF0uc3BsaXQoIi8iKVswXV09ITAsbi52ZXJzaW9uPXBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50TW9kZXx8clsyXSwxMCk7YnJlYWt9cmV0dXJuIG59LHplLmJyb3dzZXI9emUuZGV0ZWN0QnJvd3NlcihuYXZpZ2F0b3IudXNlckFnZW50KSx6ZS5kZXRlY3RDbGlwYm9hcmRBY2Nlc3M9ZnVuY3Rpb24oKXt2YXIgZT17Y29weTohIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCYmZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKCJjb3B5IiksY3V0OiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkJiZkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoImN1dCIpLHBhc3RlOiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkJiZkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoInBhc3RlIil9O3JldHVybiB6ZS5icm93c2VyLmNocm9tZSYmKGUucGFzdGU9ITEsemUuYnJvd3Nlci52ZXJzaW9uPj00MyYmKGUuY29weT0hMCxlLmN1dD0hMCkpLGV9LHplLmNsaXBib2FyZD16ZS5kZXRlY3RDbGlwYm9hcmRBY2Nlc3MoKSx6ZS56b29tTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgZSxuLHI7dHJ5e3JldHVybiBlPXplLmJyb3dzZXIsbj0wLHI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGUubXNpZSYmMTE9PWUudmVyc2lvbiYmci5zY3JvbGxIZWlnaHQ+ci5jbGllbnRIZWlnaHQmJiF6ZS50b3VjaCYmKG49emUuc2Nyb2xsYmFyKCkpLHplLnRvdWNoP3IuY2xpZW50V2lkdGgvdC5pbm5lcldpZHRoOmUubXNpZSYmZS52ZXJzaW9uPj0xMD8oKHRvcHx8dCkuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoK24pLyh0b3B8fHQpLmlubmVyV2lkdGg6MX1jYXRjaChvKXtyZXR1cm4gMX19LHplLmNzc0JvcmRlclNwYWNpbmc9biE9PW8uYm9yZGVyU3BhY2luZyYmISh6ZS5icm93c2VyLm1zaWUmJnplLmJyb3dzZXIudmVyc2lvbjw4KSxmdW5jdGlvbih0KXt2YXIgbj0iIixyPWUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSxvPXBhcnNlSW50KHQudmVyc2lvbiwxMCk7dC5tc2llP249ImllIjp0Lm1vemlsbGE/bj0iZmYiOnQuc2FmYXJpP249InNhZmFyaSI6dC53ZWJraXQ/bj0id2Via2l0Ijp0Lm9wZXJhP249Im9wZXJhIjp0LmVkZ2UmJihuPSJlZGdlIiksbiYmKG49ImstIituKyIgay0iK24rbyksemUubW9iaWxlT1MmJihuKz0iIGstbW9iaWxlIiksemUuY3NzRmxleGJveHx8KG4rPSIgay1uby1mbGV4Ym94Iiksci5hZGRDbGFzcyhuKX0oemUuYnJvd3NlciksemUuZXZlbnRDYXB0dXJlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSx6ZS5wbGFjZWhvbGRlcj0icGxhY2Vob2xkZXIiaW4gbCx6ZS5wcm9wZXJ0eUNoYW5nZUV2ZW50PSJvbnByb3BlcnR5Y2hhbmdlImluIGwsemUuaW5wdXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bIm51bWJlciIsImRhdGUiLCJ0aW1lIiwibW9udGgiLCJ3ZWVrIiwiZGF0ZXRpbWUiLCJkYXRldGltZS1sb2NhbCJdLG49dC5sZW5ndGgscj0idGVzdCIsbz17fSxpPTA7aTxuO2krKyllPXRbaV0sbC5zZXRBdHRyaWJ1dGUoInR5cGUiLGUpLGwudmFsdWU9cixvW2UucmVwbGFjZSgiLSIsIiIpXT0idGV4dCIhPT1sLnR5cGUmJmwudmFsdWUhPT1yO3JldHVybiBvfSgpLGwuc3R5bGUuY3NzVGV4dD0iZmxvYXQ6bGVmdDsiLHplLmNzc0Zsb2F0PSEhbC5zdHlsZS5jc3NGbG9hdCxsPW51bGwsemUuc3RhYmxlU29ydD1mdW5jdGlvbigpe3ZhciBlLHQ9NTEzLG49W3tpbmRleDowLGZpZWxkOiJiIn1dO2ZvcihlPTE7ZTx0O2UrKyluLnB1c2goe2luZGV4OmUsZmllbGQ6ImEifSk7cmV0dXJuIG4uc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLmZpZWxkPnQuZmllbGQ/MTplLmZpZWxkPHQuZmllbGQ/LTE6MH0pLDE9PT1uWzBdLmluZGV4fSgpLHplLm1hdGNoZXNTZWxlY3Rvcj1zLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8cy5tb3pNYXRjaGVzU2VsZWN0b3J8fHMubXNNYXRjaGVzU2VsZWN0b3J8fHMub01hdGNoZXNTZWxlY3Rvcnx8cy5tYXRjaGVzU2VsZWN0b3J8fHMubWF0Y2hlc3x8ZnVuY3Rpb24odCl7Zm9yKHZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw/KHRoaXMucGFyZW50Tm9kZXx8ZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwodCl8fFtdOmUodCkscj1uLmxlbmd0aDtyLS07KWlmKG5bcl09PXRoaXMpcmV0dXJuITA7cmV0dXJuITF9LHplLm1hdGNoTWVkaWE9Im1hdGNoTWVkaWEiaW4gdCx6ZS5wdXNoU3RhdGU9dC5oaXN0b3J5JiZ0Lmhpc3RvcnkucHVzaFN0YXRlLGM9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLHplLmhhc2hDaGFuZ2U9Im9uaGFzaGNoYW5nZSJpbiB0JiYhKHplLmJyb3dzZXIubXNpZSYmKCFjfHxjPD04KSksemUuY3VzdG9tRWxlbWVudHM9InJlZ2lzdGVyRWxlbWVudCJpbiB0LmRvY3VtZW50LGY9emUuYnJvd3Nlci5jaHJvbWUscD16ZS5icm93c2VyLmNyaW9zLG09emUuYnJvd3Nlci5tb3ppbGxhLGg9emUuYnJvd3Nlci5zYWZhcmksemUubXNQb2ludGVycz0hZiYmdC5NU1BvaW50ZXJFdmVudCx6ZS5wb2ludGVycz0hZiYmIXAmJiFtJiYhaCYmdC5Qb2ludGVyRXZlbnQsemUua2luZXRpY1Njcm9sbE5lZWRlZD11JiYoemUudG91Y2h8fHplLm1zUG9pbnRlcnN8fHplLnBvaW50ZXJzKX0oKSxZPXtsZWZ0OntyZXZlcnNlOiJyaWdodCJ9LHJpZ2h0OntyZXZlcnNlOiJsZWZ0In0sZG93bjp7cmV2ZXJzZToidXAifSx1cDp7cmV2ZXJzZToiZG93biJ9LHRvcDp7cmV2ZXJzZToiYm90dG9tIn0sYm90dG9tOntyZXZlcnNlOiJ0b3AifSwiaW4iOntyZXZlcnNlOiJvdXQifSxvdXQ6e3JldmVyc2U6ImluIn19LHE9e30sZS5leHRlbmQocSx7ZW5hYmxlZDohMCxFbGVtZW50OmZ1bmN0aW9uKHQpe3RoaXMuZWxlbWVudD1lKHQpfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7ZS5pcygiOnZpc2libGUiKXx8ZS5jc3Moe2Rpc3BsYXk6ZS5kYXRhKCJvbGRkaXNwbGF5Iil8fCJibG9jayJ9KS5jc3MoImRpc3BsYXkiKSx0LmhpZGUmJmUuZGF0YSgib2xkZGlzcGxheSIsZS5jc3MoImRpc3BsYXkiKSkuaGlkZSgpLHQuaW5pdCYmdC5pbml0KCksdC5jb21wbGV0ZUNhbGxiYWNrJiZ0LmNvbXBsZXRlQ2FsbGJhY2soZSksZS5kZXF1ZXVlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5wcm9taXNlPXRoaXMucHJvbWlzZVNoaW19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLnByb21pc2U9dGhpcy5hbmltYXRlZFByb21pc2V9fSkscS5wcm9taXNlU2hpbT1xLnByb21pc2UsImtlbmRvQW5pbWF0ZSJpbiBlLmZufHx3ZShlLmZuLHtrZW5kb1N0b3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdG9wKGUsdCl9LGtlbmRvQW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4geCh0aGlzLGUsdCxuLHIpfSxrZW5kb0FkZENsYXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJlLnRvZ2dsZUNsYXNzKHRoaXMsZSx0LCEwKX0sa2VuZG9SZW1vdmVDbGFzczpmdW5jdGlvbihlLHQpe3JldHVybiBiZS50b2dnbGVDbGFzcyh0aGlzLGUsdCwhMSl9LGtlbmRvVG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBiZS50b2dnbGVDbGFzcyh0aGlzLGUsdCxuKX19KSxKPS8mL2csVj0vPC9nLEc9LyIvZyxLPS8nL2csUT0vPi9nLFo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0fSx6ZS50b3VjaCYmKFo9ZnVuY3Rpb24oZSl7dmFyIHQ9Im9yaWdpbmFsRXZlbnQiaW4gZT9lLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXM6ImNoYW5nZWRUb3VjaGVzImluIGU/ZS5jaGFuZ2VkVG91Y2hlczpudWxsO3JldHVybiB0P2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodFswXS5jbGllbnRYLHRbMF0uY2xpZW50WSk6ZS50YXJnZXR9LE1lKFsic3dpcGUiLCJzd2lwZUxlZnQiLCJzd2lwZVJpZ2h0Iiwic3dpcGVVcCIsInN3aXBlRG93biIsImRvdWJsZVRhcCIsInRhcCJdLGZ1bmN0aW9uKHQsbil7ZS5mbltuXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iaW5kKG4sZSl9fSkpLHplLnRvdWNoP3plLm1vYmlsZU9TPyh6ZS5tb3VzZWRvd249InRvdWNoc3RhcnQiLHplLm1vdXNldXA9InRvdWNoZW5kIix6ZS5tb3VzZW1vdmU9InRvdWNobW92ZSIsemUubW91c2VjYW5jZWw9InRvdWNoY2FuY2VsIix6ZS5jbGljaz0idG91Y2hlbmQiLHplLnJlc2l6ZT0ib3JpZW50YXRpb25jaGFuZ2UiKTooemUubW91c2Vkb3duPSJtb3VzZWRvd24gdG91Y2hzdGFydCIsemUubW91c2V1cD0ibW91c2V1cCB0b3VjaGVuZCIsemUubW91c2Vtb3ZlPSJtb3VzZW1vdmUgdG91Y2htb3ZlIix6ZS5tb3VzZWNhbmNlbD0ibW91c2VsZWF2ZSB0b3VjaGNhbmNlbCIsemUuY2xpY2s9ImNsaWNrIix6ZS5yZXNpemU9InJlc2l6ZSIpOnplLnBvaW50ZXJzPyh6ZS5tb3VzZW1vdmU9InBvaW50ZXJtb3ZlIix6ZS5tb3VzZWRvd249InBvaW50ZXJkb3duIix6ZS5tb3VzZXVwPSJwb2ludGVydXAiLHplLm1vdXNlY2FuY2VsPSJwb2ludGVyY2FuY2VsIix6ZS5jbGljaz0icG9pbnRlcnVwIix6ZS5yZXNpemU9Im9yaWVudGF0aW9uY2hhbmdlIHJlc2l6ZSIpOnplLm1zUG9pbnRlcnM/KHplLm1vdXNlbW92ZT0iTVNQb2ludGVyTW92ZSIsemUubW91c2Vkb3duPSJNU1BvaW50ZXJEb3duIix6ZS5tb3VzZXVwPSJNU1BvaW50ZXJVcCIsemUubW91c2VjYW5jZWw9Ik1TUG9pbnRlckNhbmNlbCIsemUuY2xpY2s9Ik1TUG9pbnRlclVwIix6ZS5yZXNpemU9Im9yaWVudGF0aW9uY2hhbmdlIHJlc2l6ZSIpOih6ZS5tb3VzZW1vdmU9Im1vdXNlbW92ZSIsemUubW91c2Vkb3duPSJtb3VzZWRvd24iLHplLm1vdXNldXA9Im1vdXNldXAiLHplLm1vdXNlY2FuY2VsPSJtb3VzZWxlYXZlIix6ZS5jbGljaz0iY2xpY2siLHplLnJlc2l6ZT0icmVzaXplIiksWD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGE9dHx8ImQiLHM9MTtmb3Iocj0wLG89ZS5sZW5ndGg7cjxvO3IrKylpPWVbcl0sIiIhPT1pJiYobj1pLmluZGV4T2YoIlsiKSwwIT09biYmKG49PS0xP2k9Ii4iK2k6KHMrKyxpPSIuIitpLnN1YnN0cmluZygwLG4pKyIgfHwge30pIitpLnN1YnN0cmluZyhuKSkpLHMrKyxhKz1pKyhyPG8tMT8iIHx8IHt9KSI6IikiKSk7cmV0dXJuIEFycmF5KHMpLmpvaW4oIigiKSthfSxlZT0vXihbYS16XSs6KT9cL1wvL2ksd2UoYmUse3dpZGdldHM6W10sX3dpZGdldFJlZ2lzdGVyZWRDYWxsYmFja3M6W10sdWk6YmUudWl8fHt9LGZ4OmJlLmZ4fHx3LGVmZmVjdHM6YmUuZWZmZWN0c3x8cSxtb2JpbGU6YmUubW9iaWxlfHx7fSxkYXRhOmJlLmRhdGF8fHt9LGRhdGF2aXo6YmUuZGF0YXZpenx8e30sZHJhd2luZzpiZS5kcmF3aW5nfHx7fSxzcHJlYWRzaGVldDp7bWVzc2FnZXM6e319LGtleXM6e0lOU0VSVDo0NSxERUxFVEU6NDYsQkFDS1NQQUNFOjgsVEFCOjksRU5URVI6MTMsRVNDOjI3LExFRlQ6MzcsVVA6MzgsUklHSFQ6MzksRE9XTjo0MCxFTkQ6MzUsSE9NRTozNixTUEFDRUJBUjozMixQQUdFVVA6MzMsUEFHRURPV046MzQsRjI6MTEzLEYxMDoxMjEsRjEyOjEyMyxOVU1QQURfUExVUzoxMDcsTlVNUEFEX01JTlVTOjEwOSxOVU1QQURfRE9UOjExMH0sc3VwcG9ydDpiZS5zdXBwb3J0fHx6ZSxhbmltYXRlOmJlLmFuaW1hdGV8fHgsbnM6IiIsYXR0cjpmdW5jdGlvbihlKXtyZXR1cm4iZGF0YS0iK2JlLm5zK2V9LGdldFNoYWRvd3M6YSx3cmFwOnMsZGVlcEV4dGVuZDpsLGdldENvbXB1dGVkU3R5bGVzOm0saXNTY3JvbGxhYmxlOmgsc2Nyb2xsTGVmdDpnLHNpemU6eSx0b0NhbWVsQ2FzZTpwLHRvSHlwaGVuczpmLGdldE9mZnNldDpiZS5nZXRPZmZzZXR8fHYscGFyc2VFZmZlY3RzOmJlLnBhcnNlRWZmZWN0c3x8Yix0b2dnbGVDbGFzczpiZS50b2dnbGVDbGFzc3x8UyxkaXJlY3Rpb25zOmJlLmRpcmVjdGlvbnN8fFksDQpPYnNlcnZhYmxlOlIsQ2xhc3M6cixUZW1wbGF0ZTpILHRlbXBsYXRlOlNlKEguY29tcGlsZSxIKSxyZW5kZXI6U2UoSC5yZW5kZXIsSCksc3RyaW5naWZ5OlNlKE9lLnN0cmluZ2lmeSxPZSksZXZlbnRUYXJnZXQ6WixodG1sRW5jb2RlOmssdW5lc2NhcGU6VCxpc0xvY2FsVXJsOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYhZWUudGVzdChlKX0sZXhwcjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9ZXx8IiIsdHlwZW9mIHQ9PUhlJiYobj10LHQ9ITEpLG49bnx8ImQiLGUmJiJbIiE9PWUuY2hhckF0KDApJiYoZT0iLiIrZSksdD8oZT1lLnJlcGxhY2UoLyIoW14uXSopXC4oW14iXSopIi9nLCciJDFfJERPVCRfJDIiJyksZT1lLnJlcGxhY2UoLycoW14uXSopXC4oW14nXSopJy9nLCInJDFfJERPVCRfJDInIiksZT1YKGUuc3BsaXQoIi4iKSxuKSxlPWUucmVwbGFjZSgvX1wkRE9UXCRfL2csIi4iKSk6ZT1uK2UsZX0sZ2V0dGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZSt0O3JldHVybiBqZVtuXT1qZVtuXXx8RnVuY3Rpb24oImQiLCJyZXR1cm4gIitiZS5leHByKGUsdCkpfSxzZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIEllW2VdPUllW2VdfHxGdW5jdGlvbigiZCx2YWx1ZSIsYmUuZXhwcihlKSsiPXZhbHVlIil9LGFjY2Vzc29yOmZ1bmN0aW9uKGUpe3JldHVybntnZXQ6YmUuZ2V0dGVyKGUpLHNldDpiZS5zZXR0ZXIoZSl9fSxndWlkOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPSIiO2ZvcihlPTA7ZTwzMjtlKyspdD0xNipUZS5yYW5kb20oKXwwLDghPWUmJjEyIT1lJiYxNiE9ZSYmMjAhPWV8fChuKz0iLSIpLG4rPSgxMj09ZT80OjE2PT1lPzMmdHw4OnQpLnRvU3RyaW5nKDE2KTtyZXR1cm4gbn0scm9sZVNlbGVjdG9yOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyhcUyspL2csIlsiK2JlLmF0dHIoInJvbGUiKSsiPSQxXSwiKS5zbGljZSgwLC0xKX0sZGlyZWN0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnNwbGl0KCIgIik7aWYobilmb3IodD0wO3Q8bi5sZW5ndGg7dCsrKSJ2aWV3IiE9blt0XSYmKG5bdF09blt0XS5yZXBsYWNlKC8oXHcqKSh2aWV3fGJhcnxzdHJpcHxvdmVyKSQvLCIkMS0kMiIpKTtyZXR1cm4gbi5qb2luKCIgIikucmVwbGFjZSgvKFxTKykvZywia2VuZG8tbW9iaWxlLSQxLCIpLnNsaWNlKDAsLTEpfSx0cmlnZ2VyZWRCeUlucHV0OmZ1bmN0aW9uKGUpe3JldHVybi9eKGxhYmVsfGlucHV0fHRleHRhcmVhfHNlbGVjdCkkL2kudGVzdChlLnRhcmdldC50YWdOYW1lKX0sb25XaWRnZXRSZWdpc3RlcmVkOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49YmUud2lkZ2V0cy5sZW5ndGg7dDxuO3QrKyllKGJlLndpZGdldHNbdF0pO2JlLl93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzLnB1c2goZSl9LGxvZ1RvQ29uc29sZTpmdW5jdGlvbihlLHIpe3ZhciBvPXQuY29uc29sZTshYmUuc3VwcHJlc3NMb2cmJm4hPT1vJiZvLmxvZyYmb1tyfHwibG9nIl0oZSl9fSksdGU9Ui5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXRoaXM7ci5lbGVtZW50PWJlLmpRdWVyeShlKS5oYW5kbGVyKHIpLHIuYW5ndWxhcigiaW5pdCIsdCksUi5mbi5pbml0LmNhbGwociksbj10P3QuZGF0YVNvdXJjZTpudWxsLG4mJih0PXdlKHt9LHQse2RhdGFTb3VyY2U6e319KSksdD1yLm9wdGlvbnM9d2UoITAse30sci5vcHRpb25zLHIuZGVmYXVsdHMsdCksbiYmKHQuZGF0YVNvdXJjZT1uKSxyLmVsZW1lbnQuYXR0cihiZS5hdHRyKCJyb2xlIikpfHxyLmVsZW1lbnQuYXR0cihiZS5hdHRyKCJyb2xlIiksKHQubmFtZXx8IiIpLnRvTG93ZXJDYXNlKCkpLHIuZWxlbWVudC5kYXRhKCJrZW5kbyIrdC5wcmVmaXgrdC5uYW1lLHIpLHIuYmluZChyLmV2ZW50cyx0KX0sZXZlbnRzOltdLG9wdGlvbnM6e3ByZWZpeDoiIn0sX2hhc0JpbmRpbmdUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZWxlbWVudFswXS5rZW5kb0JpbmRpbmdUYXJnZXR9LF90YWJpbmRleDpmdW5jdGlvbihlKXtlPWV8fHRoaXMud3JhcHBlcjt2YXIgdD10aGlzLmVsZW1lbnQsbj0idGFiaW5kZXgiLHI9ZS5hdHRyKG4pfHx0LmF0dHIobik7dC5yZW1vdmVBdHRyKG4pLGUuYXR0cihuLGlzTmFOKHIpPzA6cil9LHNldE9wdGlvbnM6ZnVuY3Rpb24odCl7dGhpcy5fc2V0RXZlbnRzKHQpLGUuZXh0ZW5kKHRoaXMub3B0aW9ucyx0KX0sX3NldEV2ZW50czpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLHI9MCxvPW4uZXZlbnRzLmxlbmd0aDtyPG87cisrKXQ9bi5ldmVudHNbcl0sbi5vcHRpb25zW3RdJiZlW3RdJiYobi51bmJpbmQodCxuLm9wdGlvbnNbdF0pLG4uX2V2ZW50cyYmbi5fZXZlbnRzW3RdJiZkZWxldGUgbi5fZXZlbnRzW3RdKTtuLmJpbmQobi5ldmVudHMsZSl9LHJlc2l6ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNpemUoKSxuPXRoaXMuX3NpemU7KGV8fCh0LndpZHRoPjB8fHQuaGVpZ2h0PjApJiYoIW58fHQud2lkdGghPT1uLndpZHRofHx0LmhlaWdodCE9PW4uaGVpZ2h0KSkmJih0aGlzLl9zaXplPXQsdGhpcy5fcmVzaXplKHQsZSksdGhpcy50cmlnZ2VyKCJyZXNpemUiLHQpKX0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybiBiZS5kaW1lbnNpb25zKHRoaXMuZWxlbWVudCl9LHNpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KHRoaXMuc2V0U2l6ZShlKSxuKTp0aGlzLmdldFNpemUoKX0sc2V0U2l6ZTplLm5vb3AsX3Jlc2l6ZTplLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbGVtZW50LnJlbW92ZURhdGEoImtlbmRvIitlLm9wdGlvbnMucHJlZml4K2Uub3B0aW9ucy5uYW1lKSxlLmVsZW1lbnQucmVtb3ZlRGF0YSgiaGFuZGxlciIpLGUudW5iaW5kKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9LGFuZ3VsYXI6ZnVuY3Rpb24oKXt9LF9tdXRlQW5ndWxhclJlYmluZDpmdW5jdGlvbihlKXt0aGlzLl9tdXRlUmViaW5kPSEwLGUuY2FsbCh0aGlzKSx0aGlzLl9tdXRlUmViaW5kPSExfX0pLG5lPXRlLmV4dGVuZCh7ZGF0YUl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5mbGF0VmlldygpfSxfYW5ndWxhckl0ZW1zOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7bi5hbmd1bGFyKHQsZnVuY3Rpb24oKXtyZXR1cm57ZWxlbWVudHM6bi5pdGVtcygpLGRhdGE6ZS5tYXAobi5kYXRhSXRlbXMoKSxmdW5jdGlvbihlKXtyZXR1cm57ZGF0YUl0ZW06ZX19KX19KX19KSxiZS5kaW1lbnNpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZVswXTtyZXR1cm4gdCYmZS5jc3ModCkse3dpZHRoOm4ub2Zmc2V0V2lkdGgsaGVpZ2h0Om4ub2Zmc2V0SGVpZ2h0fX0sYmUubm90aWZ5PWtlLHJlPS90ZW1wbGF0ZSQvaSxvZT0vXlxzKig/Olx7KD86LnxcclxufFxuKSpcfXxcWyg/Oi58XHJcbnxcbikqXF0pXHMqJC8saWU9L15ceyhcZCspKDpbXlx9XSspP1x9fF5cW1tBLVphLXpfXStcXSQvLGFlPS8oW0EtWl0pL2csYmUuaW5pdFdpZGdldD1mdW5jdGlvbihyLG8saSl7dmFyIGEscyx1LGwsYyxkLGYscCxtLGgsZyx5LHY7aWYoaT9pLnJvbGVzJiYoaT1pLnJvbGVzKTppPWJlLnVpLnJvbGVzLHI9ci5ub2RlVHlwZT9yOnJbMF0sZD1yLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2JlLm5zKyJyb2xlIikpe209ZC5pbmRleE9mKCIuIik9PT0tMSx1PW0/aVtkXTpiZS5nZXR0ZXIoZCkodCksZz1lKHIpLmRhdGEoKSx5PXU/ImtlbmRvIit1LmZuLm9wdGlvbnMucHJlZml4K3UuZm4ub3B0aW9ucy5uYW1lOiIiLGg9bT9SZWdFeHAoIl5rZW5kby4qIitkKyIkIiwiaSIpOlJlZ0V4cCgiXiIreSsiJCIsImkiKTtmb3IodiBpbiBnKWlmKHYubWF0Y2goaCkpe2lmKHYhPT15KXJldHVybiBnW3ZdO2E9Z1t2XX1pZih1KXtmb3IocD1PKHIsImRhdGFTb3VyY2UiKSxvPWUuZXh0ZW5kKHt9LHoocix1LmZuLm9wdGlvbnMpLG8pLHAmJihvLmRhdGFTb3VyY2U9dHlwZW9mIHA9PT1IZT9iZS5nZXR0ZXIocCkodCk6cCksbD0wLGM9dS5mbi5ldmVudHMubGVuZ3RoO2w8YztsKyspcz11LmZuLmV2ZW50c1tsXSxmPU8ocixzKSxmIT09biYmKG9bc109YmUuZ2V0dGVyKGYpKHQpKTtyZXR1cm4gYT9lLmlzRW1wdHlPYmplY3Qobyl8fGEuc2V0T3B0aW9ucyhvKTphPW5ldyB1KHIsbyksYX19fSxiZS5yb2xlc0Zyb21OYW1lc3BhY2VzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1bXTtmb3IoZVswXXx8KGU9W2JlLnVpLGJlLmRhdGF2aXoudWldKSx0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXJbdF09ZVt0XS5yb2xlcztyZXR1cm4gd2UuYXBwbHkobnVsbCxbe31dLmNvbmNhdChyLnJldmVyc2UoKSkpfSxiZS5pbml0PWZ1bmN0aW9uKHQpe3ZhciBuPWJlLnJvbGVzRnJvbU5hbWVzcGFjZXMoV2UuY2FsbChhcmd1bWVudHMsMSkpO2UodCkuZmluZCgiW2RhdGEtIitiZS5ucysicm9sZV0iKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe2JlLmluaXRXaWRnZXQodGhpcyx7fSxuKX0pfSxiZS5kZXN0cm95PWZ1bmN0aW9uKHQpe2UodCkuZmluZCgiW2RhdGEtIitiZS5ucysicm9sZV0iKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0LG49ZSh0aGlzKS5kYXRhKCk7Zm9yKHQgaW4gbikwPT09dC5pbmRleE9mKCJrZW5kbyIpJiZ0eXBlb2Ygblt0XS5kZXN0cm95PT09QWUmJm5bdF0uZGVzdHJveSgpfSl9LGJlLnJlc2l6ZT1mdW5jdGlvbih0LG4pe3ZhciByLG89ZSh0KS5maW5kKCJbZGF0YS0iK2JlLm5zKyJyb2xlXSIpLmFkZEJhY2soKS5maWx0ZXIoQyk7by5sZW5ndGgmJihyPWUubWFrZUFycmF5KG8pLHIuc29ydChEKSxlLmVhY2gocixmdW5jdGlvbigpe3ZhciB0PWJlLndpZGdldEluc3RhbmNlKGUodGhpcykpO3QmJnQucmVzaXplKG4pfSkpfSxiZS5wYXJzZU9wdGlvbnM9eix3ZShiZS51aSx7V2lkZ2V0OnRlLERhdGFCb3VuZFdpZGdldDpuZSxyb2xlczp7fSxwcm9ncmVzczpmdW5jdGlvbih0LG4scil7dmFyIG8saSxhLHMsdSxsPXQuZmluZCgiLmstbG9hZGluZy1tYXNrIiksYz1iZS5zdXBwb3J0LGQ9Yy5icm93c2VyO3I9ZS5leHRlbmQoe30se3dpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUiLHRvcDp0LnNjcm9sbFRvcCgpLG9wYWNpdHk6ITF9LHIpLHU9ci5vcGFjaXR5PyJrLWxvYWRpbmctbWFzayBrLW9wYXF1ZSI6ImstbG9hZGluZy1tYXNrIixuP2wubGVuZ3RofHwobz1jLmlzUnRsKHQpLGk9bz8icmlnaHQiOiJsZWZ0IixzPXQuc2Nyb2xsTGVmdCgpLGE9ZC53ZWJraXQmJm8/dFswXS5zY3JvbGxXaWR0aC10LndpZHRoKCktMipzOjAsbD1lKGJlLmZvcm1hdCgiPGRpdiBjbGFzcz0nezB9Jz48c3BhbiBjbGFzcz0nay1sb2FkaW5nLXRleHQnPnsxfTwvc3Bhbj48ZGl2IGNsYXNzPSdrLWxvYWRpbmctaW1hZ2UnLz48ZGl2IGNsYXNzPSdrLWxvYWRpbmctY29sb3InLz48L2Rpdj4iLHUsYmUudWkucHJvZ3Jlc3MubWVzc2FnZXMubG9hZGluZykpLndpZHRoKHIud2lkdGgpLmhlaWdodChyLmhlaWdodCkuY3NzKCJ0b3AiLHIudG9wKS5jc3MoaSxNYXRoLmFicyhzKSthKS5wcmVwZW5kVG8odCkpOmwmJmwucmVtb3ZlKCl9LHBsdWdpbjpmdW5jdGlvbih0LHIsbyl7dmFyIGksYSxzLHUsbD10LmZuLm9wdGlvbnMubmFtZTtmb3Iocj1yfHxiZS51aSxvPW98fCIiLHJbbF09dCxyLnJvbGVzW2wudG9Mb3dlckNhc2UoKV09dCxpPSJnZXRLZW5kbyIrbytsLGw9ImtlbmRvIitvK2wsYT17bmFtZTpsLHdpZGdldDp0LHByZWZpeDpvfHwiIn0sYmUud2lkZ2V0cy5wdXNoKGEpLHM9MCx1PWJlLl93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzLmxlbmd0aDtzPHU7cysrKWJlLl93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzW3NdKGEpO2UuZm5bbF09ZnVuY3Rpb24ocil7dmFyIG8saT10aGlzO3JldHVybiB0eXBlb2Ygcj09PUhlPyhvPVdlLmNhbGwoYXJndW1lbnRzLDEpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGEscz1lLmRhdGEodGhpcyxsKTtpZighcyl0aHJvdyBFcnJvcihiZS5mb3JtYXQoIkNhbm5vdCBjYWxsIG1ldGhvZCAnezB9JyBvZiB7MX0gYmVmb3JlIGl0IGlzIGluaXRpYWxpemVkIixyLGwpKTtpZih0PXNbcl0sdHlwZW9mIHQhPT1BZSl0aHJvdyBFcnJvcihiZS5mb3JtYXQoIkNhbm5vdCBmaW5kIG1ldGhvZCAnezB9JyBvZiB7MX0iLHIsbCkpO2lmKGE9dC5hcHBseShzLG8pLGEhPT1uKXJldHVybiBpPWEsITF9KSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMscil9KSxpfSxlLmZuW2xdLndpZGdldD10LGUuZm5baV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhKGwpfX19KSxiZS51aS5wcm9ncmVzcy5tZXNzYWdlcz17bG9hZGluZzoiTG9hZGluZy4uLiJ9LHNlPXtiaW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG51bGxPYmplY3Q6ITAsb3B0aW9uczp7fX0sdWU9dGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7dGUuZm4uaW5pdC5jYWxsKHRoaXMsZSx0KSx0aGlzLmVsZW1lbnQuYXV0b0FwcGx5TlMoKSx0aGlzLndyYXBwZXI9dGhpcy5lbGVtZW50LHRoaXMuZWxlbWVudC5hZGRDbGFzcygia20td2lkZ2V0Iil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0ZS5mbi5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5lbGVtZW50LmtlbmRvRGVzdHJveSgpfSxvcHRpb25zOntwcmVmaXg6Ik1vYmlsZSJ9LGV2ZW50czpbXSx2aWV3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LmNsb3Nlc3QoYmUucm9sZVNlbGVjdG9yKCJ2aWV3IHNwbGl0dmlldyBtb2RhbHZpZXcgZHJhd2VyIikpO3JldHVybiBiZS53aWRnZXRJbnN0YW5jZShlLGJlLm1vYmlsZS51aSl8fHNlfSx2aWV3SGFzTmF0aXZlU2Nyb2xsaW5nOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52aWV3KCk7cmV0dXJuIGUmJmUub3B0aW9ucy51c2VOYXRpdmVTY3JvbGxpbmd9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudC5jbG9zZXN0KGJlLnJvbGVTZWxlY3RvcigidmlldyBsYXlvdXQgbW9kYWx2aWV3IGRyYXdlciBzcGxpdHZpZXciKSk7cmV0dXJuIGJlLndpZGdldEluc3RhbmNlKGUuZXEoMCksYmUubW9iaWxlLnVpKXx8c2V9fSksd2UoYmUubW9iaWxlLHtpbml0OmZ1bmN0aW9uKGUpe2JlLmluaXQoZSxiZS5tb2JpbGUudWksYmUudWksYmUuZGF0YXZpei51aSl9LGFwcExldmVsTmF0aXZlU2Nyb2xsaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGJlLm1vYmlsZS5hcHBsaWNhdGlvbiYmYmUubW9iaWxlLmFwcGxpY2F0aW9uLm9wdGlvbnMmJmJlLm1vYmlsZS5hcHBsaWNhdGlvbi5vcHRpb25zLnVzZU5hdGl2ZVNjcm9sbGluZ30scm9sZXM6e30sdWk6e1dpZGdldDp1ZSxEYXRhQm91bmRXaWRnZXQ6bmUuZXh0ZW5kKHVlLnByb3RvdHlwZSkscm9sZXM6e30scGx1Z2luOmZ1bmN0aW9uKGUpe2JlLnVpLnBsdWdpbihlLGJlLm1vYmlsZS51aSwiTW9iaWxlIil9fX0pLGwoYmUuZGF0YXZpeix7aW5pdDpmdW5jdGlvbihlKXtiZS5pbml0KGUsYmUuZGF0YXZpei51aSl9LHVpOntyb2xlczp7fSx0aGVtZXM6e30sdmlld3M6W10scGx1Z2luOmZ1bmN0aW9uKGUpe2JlLnVpLnBsdWdpbihlLGJlLmRhdGF2aXoudWkpfX0scm9sZXM6e319KSxiZS50b3VjaFNjcm9sbGVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG58fChuPXt9KSxuLnVzZU5hdGl2ZT0hMCxlKHQpLm1hcChmdW5jdGlvbih0LHIpe3JldHVybiByPWUociksISghemUua2luZXRpY1Njcm9sbE5lZWRlZHx8IWJlLm1vYmlsZS51aS5TY3JvbGxlcnx8ci5kYXRhKCJrZW5kb01vYmlsZVNjcm9sbGVyIikpJiYoci5rZW5kb01vYmlsZVNjcm9sbGVyKG4pLHIuZGF0YSgia2VuZG9Nb2JpbGVTY3JvbGxlciIpKX0pWzBdfSxiZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9LGJlLndpZGdldEluc3RhbmNlPWZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpLGEscyx1PWUuZGF0YShiZS5ucysicm9sZSIpLGw9W10sYz1lLmRhdGEoImtlbmRvVmlldyIpO2lmKHUpe2lmKCJjb250ZW50Ij09PXUmJih1PSJzY3JvbGxlciIpLCJlZGl0b3J0b29sYmFyIj09PXUmJihpPWUuZGF0YSgia2VuZG9FZGl0b3JUb29sYmFyIikpKXJldHVybiBpO2lmKCJ2aWV3Ij09PXUmJmMpcmV0dXJuIGM7aWYobilpZihuWzBdKWZvcihyPTAsbz1uLmxlbmd0aDtyPG87cisrKWwucHVzaChuW3JdLnJvbGVzW3VdKTtlbHNlIGwucHVzaChuLnJvbGVzW3VdKTtlbHNlIGw9W2JlLnVpLnJvbGVzW3VdLGJlLmRhdGF2aXoudWkucm9sZXNbdV0sYmUubW9iaWxlLnVpLnJvbGVzW3VdXTtmb3IodS5pbmRleE9mKCIuIik+PTAmJihsPVtiZS5nZXR0ZXIodSkodCldKSxyPTAsbz1sLmxlbmd0aDtyPG87cisrKWlmKGE9bFtyXSxhJiYocz1lLmRhdGEoImtlbmRvIithLmZuLm9wdGlvbnMucHJlZml4K2EuZm4ub3B0aW9ucy5uYW1lKSkpcmV0dXJuIHN9fSxiZS5vblJlc2l6ZT1mdW5jdGlvbihuKXt2YXIgcj1uO3JldHVybiB6ZS5tb2JpbGVPUy5hbmRyb2lkJiYocj1mdW5jdGlvbigpe3NldFRpbWVvdXQobiw2MDApfSksZSh0KS5vbih6ZS5yZXNpemUscikscn0sYmUudW5iaW5kUmVzaXplPWZ1bmN0aW9uKG4pe2UodCkub2ZmKHplLnJlc2l6ZSxuKX0sYmUuYXR0clZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGF0YShiZS5ucyt0KX0sYmUuZGF5cz17U3VuZGF5OjAsTW9uZGF5OjEsVHVlc2RheToyLFdlZG5lc2RheTozLFRodXJzZGF5OjQsRnJpZGF5OjUsU2F0dXJkYXk6Nn0sZS5leHRlbmQoZS5leHByLnBzZXVkb3Mse2tlbmRvRm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBuPWUuYXR0cih0LCJ0YWJpbmRleCIpO3JldHVybiBFKHQsIWlzTmFOKG4pJiZuPi0xKX19KSxsZT1bIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZXVwIiwiY2xpY2siXSxjZT0ibGFiZWwsIGlucHV0LCBbZGF0YS1yZWw9ZXh0ZXJuYWxdIixkZT17c2V0dXBNb3VzZU11dGU6ZnVuY3Rpb24oKXt2YXIgdCxuPTAscj1sZS5sZW5ndGgsbz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7aWYoIWRlLm1vdXNlVHJhcCYmemUuZXZlbnRDYXB0dXJlKWZvcihkZS5tb3VzZVRyYXA9ITAsZGUuYnVzdENsaWNrPSExLGRlLmNhcHR1cmVNb3VzZT0hMSx0PWZ1bmN0aW9uKHQpe2RlLmNhcHR1cmVNb3VzZSYmKCJjbGljayI9PT10LnR5cGU/ZGUuYnVzdENsaWNrJiYhZSh0LnRhcmdldCkuaXMoY2UpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpOnQuc3RvcFByb3BhZ2F0aW9uKCkpfTtuPHI7bisrKW8uYWRkRXZlbnRMaXN0ZW5lcihsZVtuXSx0LCEwKX0sbXV0ZU1vdXNlOmZ1bmN0aW9uKGUpe2RlLmNhcHR1cmVNb3VzZT0hMCxlLmRhdGEuYnVzdENsaWNrJiYoZGUuYnVzdENsaWNrPSEwKSxjbGVhclRpbWVvdXQoZGUubW91c2VUcmFwVGltZW91dElEKX0sdW5NdXRlTW91c2U6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZGUubW91c2VUcmFwVGltZW91dElEKSxkZS5tb3VzZVRyYXBUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe2RlLmNhcHR1cmVNb3VzZT0hMSxkZS5idXN0Q2xpY2s9ITF9LDQwMCl9fSxmZT17ZG93bjoidG91Y2hzdGFydCBtb3VzZWRvd24iLG1vdmU6Im1vdXNlbW92ZSB0b3VjaG1vdmUiLHVwOiJtb3VzZXVwIHRvdWNoZW5kIHRvdWNoY2FuY2VsIixjYW5jZWw6Im1vdXNlbGVhdmUgdG91Y2hjYW5jZWwifSx6ZS50b3VjaCYmKHplLm1vYmlsZU9TLmlvc3x8emUubW9iaWxlT1MuYW5kcm9pZCk/ZmU9e2Rvd246InRvdWNoc3RhcnQiLG1vdmU6InRvdWNobW92ZSIsdXA6InRvdWNoZW5kIHRvdWNoY2FuY2VsIixjYW5jZWw6InRvdWNoY2FuY2VsIn06emUucG9pbnRlcnM/ZmU9e2Rvd246InBvaW50ZXJkb3duIixtb3ZlOiJwb2ludGVybW92ZSIsdXA6InBvaW50ZXJ1cCIsY2FuY2VsOiJwb2ludGVyY2FuY2VsIHBvaW50ZXJsZWF2ZSJ9OnplLm1zUG9pbnRlcnMmJihmZT17ZG93bjoiTVNQb2ludGVyRG93biIsbW92ZToiTVNQb2ludGVyTW92ZSIsdXA6Ik1TUG9pbnRlclVwIixjYW5jZWw6Ik1TUG9pbnRlckNhbmNlbCBNU1BvaW50ZXJMZWF2ZSJ9KSwhemUubXNQb2ludGVyc3x8Im9ubXNwb2ludGVyZW50ZXIiaW4gdHx8ZS5lYWNoKHtNU1BvaW50ZXJFbnRlcjoiTVNQb2ludGVyT3ZlciIsTVNQb2ludGVyTGVhdmU6Ik1TUG9pbnRlck91dCJ9LGZ1bmN0aW9uKHQsbil7ZS5ldmVudC5zcGVjaWFsW3RdPXtkZWxlZ2F0ZVR5cGU6bixiaW5kVHlwZTpuLGhhbmRsZTpmdW5jdGlvbih0KXt2YXIgcixvPXRoaXMsaT10LnJlbGF0ZWRUYXJnZXQsYT10LmhhbmRsZU9iajtyZXR1cm4gaSYmKGk9PT1vfHxlLmNvbnRhaW5zKG8saSkpfHwodC50eXBlPWEub3JpZ1R5cGUscj1hLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQudHlwZT1uKSxyfX19KSxwZT1mdW5jdGlvbihlKXtyZXR1cm4gZmVbZV18fGV9LG1lPS8oW14gXSspL2csYmUuYXBwbHlFdmVudE1hcD1mdW5jdGlvbihlLHQpe3JldHVybiBlPWUucmVwbGFjZShtZSxwZSksdCYmKGU9ZS5yZXBsYWNlKG1lLCIkMS4iK3QpKSxlfSxiZS5rZXlEb3duSGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz10Ll9ldmVudHMua2VuZG9LZXlkb3duO2lmKCFvKXJldHVybiEwO2ZvcihvPW8uc2xpY2UoKSxlLnNlbmRlcj10LGUucHJldmVudEtlbmRvS2V5ZG93bj0hMSxuPTAscj1vLmxlbmd0aDtuPHI7bisrKW9bbl0uY2FsbCh0LGUpO3JldHVybiFlLnByZXZlbnRLZW5kb0tleWRvd259LGhlPWUuZm4ub24sJGUoITAsQSxlKSxBLmZuPUEucHJvdG90eXBlPW5ldyBlLEEuZm4uY29uc3RydWN0b3I9QSxBLmZuLmluaXQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbiYmbiBpbnN0YW5jZW9mIGUmJiEobiBpbnN0YW5jZW9mIEEpJiYobj1BKG4pKSxlLmZuLmluaXQuY2FsbCh0aGlzLHQsbixnZSl9LEEuZm4uaW5pdC5wcm90b3R5cGU9QS5mbixnZT1BKGRvY3VtZW50KSx3ZShBLmZuLHtoYW5kbGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEoImhhbmRsZXIiLGUpLHRoaXN9LGF1dG9BcHBseU5TOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEoImtlbmRvTlMiLGV8fGJlLmd1aWQoKSksdGhpc30sb246ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvLGksYSxzLHU9dGhpcyxsPXUuZGF0YSgia2VuZG9OUyIpO3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9oZS5jYWxsKHUsYXJndW1lbnRzWzBdKTooZT11LHQ9V2UuY2FsbChhcmd1bWVudHMpLHR5cGVvZiB0W3QubGVuZ3RoLTFdPT09VWUmJnQucG9wKCksbj10W3QubGVuZ3RoLTFdLHI9YmUuYXBwbHlFdmVudE1hcCh0WzBdLGwpLHplLm1vdXNlQW5kVG91Y2hQcmVzZW50JiZyLnNlYXJjaCgvbW91c2V8Y2xpY2svKT4tMSYmdGhpc1swXSE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmKGRlLnNldHVwTW91c2VNdXRlKCksbz0yPT09dC5sZW5ndGg/bnVsbDp0WzFdLGk9ci5pbmRleE9mKCJjbGljayIpPi0xJiZyLmluZGV4T2YoInRvdWNoZW5kIik+LTEsaGUuY2FsbCh0aGlzLHt0b3VjaHN0YXJ0OmRlLm11dGVNb3VzZSx0b3VjaGVuZDpkZS51bk11dGVNb3VzZX0sbyx7YnVzdENsaWNrOml9KSksYXJndW1lbnRzWzBdLmluZGV4T2YoImtleWRvd24iKSE9PS0xJiZ0WzFdJiZ0WzFdLm9wdGlvbnM/KHRbMF09cixhPXRbMV0scz10W3QubGVuZ3RoLTFdLHRbdC5sZW5ndGgtMV09ZnVuY3Rpb24oZSl7aWYoYmUua2V5RG93bkhhbmRsZXIoZSxhKSlyZXR1cm4gcy5hcHBseSh0aGlzLFtlXSl9LGhlLmFwcGx5KHUsdCksdSk6KHR5cGVvZiBuPT09SGUmJihlPXUuZGF0YSgiaGFuZGxlciIpLG49ZVtuXSx0W3QubGVuZ3RoLTFdPWZ1bmN0aW9uKHQpe24uY2FsbChlLHQpfSksdFswXT1yLGhlLmFwcGx5KHUsdCksdSkpfSxrZW5kb0Rlc3Ryb3k6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8dGhpcy5kYXRhKCJrZW5kb05TIiksZSYmdGhpcy5vZmYoIi4iK2UpLHRoaXN9fSksYmUualF1ZXJ5PUEsYmUuZXZlbnRNYXA9ZmUsYmUudGltZXpvbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG4scixvLGk9dFszXSxhPXRbNF0scz10WzVdLHU9dFs4XTtyZXR1cm4gdXx8KHRbOF09dT17fSksdVtlXT91W2VdOihpc05hTihhKT8wPT09YS5pbmRleE9mKCJsYXN0Iik/KG49bmV3IERhdGUoRGF0ZS5VVEMoZSxjW2ldKzEsMSxzWzBdLTI0LHNbMV0sc1syXSwwKSkscj1kW2Euc3Vic3RyKDQsMyldLG89bi5nZXRVVENEYXkoKSxuLnNldFVUQ0RhdGUobi5nZXRVVENEYXRlKCkrci1vLShyPm8/NzowKSkpOmEuaW5kZXhPZigiPj0iKT49MD8obj1uZXcgRGF0ZShEYXRlLlVUQyhlLGNbaV0sYS5zdWJzdHIoNSksc1swXSxzWzFdLHNbMl0sMCkpLHI9ZFthLnN1YnN0cigwLDMpXSxvPW4uZ2V0VVRDRGF5KCksbi5zZXRVVENEYXRlKG4uZ2V0VVRDRGF0ZSgpK3ItbysocjxvPzc6MCkpKTphLmluZGV4T2YoIjw9Iik+PTAmJihuPW5ldyBEYXRlKERhdGUuVVRDKGUsY1tpXSxhLnN1YnN0cig1KSxzWzBdLHNbMV0sc1syXSwwKSkscj1kW2Euc3Vic3RyKDAsMyldLG89bi5nZXRVVENEYXkoKSxuLnNldFVUQ0RhdGUobi5nZXRVVENEYXRlKCkrci1vLShyPm8/NzowKSkpOm49bmV3IERhdGUoRGF0ZS5VVEMoZSxjW2ldLGEsc1swXSxzWzFdLHNbMl0sMCkpLHVbZV09bil9ZnVuY3Rpb24gdCh0LG4scil7dmFyIG8saSxhLHM7cmV0dXJuKG49bltyXSk/KGE9bmV3IERhdGUodCkuZ2V0VVRDRnVsbFllYXIoKSxuPWpRdWVyeS5ncmVwKG4sZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV07cmV0dXJuIHQ8PWEmJihuPj1hfHx0PT1hJiYib25seSI9PW58fCJtYXgiPT1uKX0pLG4ucHVzaCh0KSxuLnNvcnQoZnVuY3Rpb24odCxuKXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQmJih0PStlKGEsdCkpLCJudW1iZXIiIT10eXBlb2YgbiYmKG49K2UoYSxuKSksdC1ufSkscz1uW2pRdWVyeS5pbkFycmF5KHQsbiktMV18fG5bbi5sZW5ndGgtMV0saXNOYU4ocyk/czpudWxsKToobz1yLnNwbGl0KCI6IiksaT0wLG8ubGVuZ3RoPjEmJihpPTYwKm9bMF0rICtvWzFdKSxbLTFlNiwibWF4IiwiLSIsIkphbiIsMSxbMCwwLDBdLGksIi0iXSl9ZnVuY3Rpb24gbihlLHQsbil7dmFyIHIsbyxpLGE9dFtuXTtpZigic3RyaW5nIj09dHlwZW9mIGEmJihhPXRbYV0pLCFhKXRocm93IEVycm9yKCdUaW1lem9uZSAiJytuKyciIGlzIGVpdGhlciBpbmNvcnJlY3QsIG9yIGtlbmRvLnRpbWV6b25lcy5taW4uanMgaXMgbm90IGluY2x1ZGVkLicpO2ZvcihyPWEubGVuZ3RoLTE7cj49MCYmKG89YVtyXVszXSwhKG8mJmU+bykpO3ItLSk7aWYoaT1hW3IrMV0sIWkpdGhyb3cgRXJyb3IoJ1RpbWV6b25lICInK24rJyIgbm90IGZvdW5kIG9uICcrZSsiLiIpO3JldHVybiBpfWZ1bmN0aW9uIHIoZSxyLG8saSl7dHlwZW9mIGUhPU5lJiYoZT1EYXRlLlVUQyhlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpLGUuZ2V0SG91cnMoKSxlLmdldE1pbnV0ZXMoKSxlLmdldFNlY29uZHMoKSxlLmdldE1pbGxpc2Vjb25kcygpKSk7dmFyIGE9bihlLHIsaSk7cmV0dXJue3pvbmU6YSxydWxlOnQoZSxvLGFbMV0pfX1mdW5jdGlvbiBvKGUsdCl7dmFyIG4sbyxpO3JldHVybiJFdGMvVVRDIj09dHx8IkV0Yy9HTVQiPT10PzA6KG49cihlLHRoaXMuem9uZXMsdGhpcy5ydWxlcyx0KSxvPW4uem9uZSxpPW4ucnVsZSxiZS5wYXJzZUZsb2F0KGk/b1swXS1pWzZdOm9bMF0pKX1mdW5jdGlvbiBpKGUsdCl7dmFyIG49cihlLHRoaXMuem9uZXMsdGhpcy5ydWxlcyx0KSxvPW4uem9uZSxpPW4ucnVsZSxhPW9bMl07cmV0dXJuIGEuaW5kZXhPZigiLyIpPj0wP2Euc3BsaXQoIi8iKVtpJiYraVs2XT8xOjBdOmEuaW5kZXhPZigiJXMiKT49MD9hLnJlcGxhY2UoIiVzIixpJiYiLSIhPWlbN10/aVs3XToiIik6YX1mdW5jdGlvbiBhKGUsdCxuKXt2YXIgcixvLGksYT1uO3JldHVybiB0eXBlb2YgdD09SGUmJih0PXRoaXMub2Zmc2V0KGUsdCkpLHR5cGVvZiBuPT1IZSYmKG49dGhpcy5vZmZzZXQoZSxuKSksbz1lLmdldFRpbWV6b25lT2Zmc2V0KCksZT1uZXcgRGF0ZShlLmdldFRpbWUoKSs2ZTQqKHQtbikpLGk9ZS5nZXRUaW1lem9uZU9mZnNldCgpLHR5cGVvZiBhPT1IZSYmKGE9dGhpcy5vZmZzZXQoZSxhKSkscj1pLW8rKG4tYSksbmV3IERhdGUoZS5nZXRUaW1lKCkrNmU0KnIpfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gdGhpcy5jb252ZXJ0KGUsZS5nZXRUaW1lem9uZU9mZnNldCgpLHQpfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gdGhpcy5jb252ZXJ0KGUsdCxlLmdldFRpbWV6b25lT2Zmc2V0KCkpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHRoaXMuYXBwbHkobmV3IERhdGUoZSksIkV0Yy9VVEMiKX12YXIgYz17SmFuOjAsRmViOjEsTWFyOjIsQXByOjMsTWF5OjQsSnVuOjUsSnVsOjYsQXVnOjcsU2VwOjgsT2N0OjksTm92OjEwLERlYzoxMX0sZD17U3VuOjAsTW9uOjEsVHVlOjIsV2VkOjMsVGh1OjQsRnJpOjUsU2F0OjZ9O3JldHVybnt6b25lczp7fSxydWxlczp7fSxvZmZzZXQ6byxjb252ZXJ0OmEsYXBwbHk6cyxyZW1vdmU6dSxhYmJyOmksdG9Mb2NhbERhdGU6bH19KCksYmUuZGF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gMD09PXQmJjIzPT09ZS5nZXRIb3VycygpJiYoZS5zZXRIb3VycyhlLmdldEhvdXJzKCkrMiksITApfWZ1bmN0aW9uIHQodCxuLHIpe3ZhciBvPXQuZ2V0SG91cnMoKTtyPXJ8fDEsbj0obi10LmdldERheSgpKzcqciklNyx0LnNldERhdGUodC5nZXREYXRlKCkrbiksZSh0LG8pfWZ1bmN0aW9uIHIoZSxuLHIpe3JldHVybiBlPW5ldyBEYXRlKGUpLHQoZSxuLHIpLGV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLGUuZ2V0TW9udGgoKSwxKX1mdW5jdGlvbiBpKGUpe3ZhciB0PW5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCkrMSwwKSxuPW8oZSkscj1NYXRoLmFicyh0LmdldFRpbWV6b25lT2Zmc2V0KCktbi5nZXRUaW1lem9uZU9mZnNldCgpKTtyZXR1cm4gciYmdC5zZXRIb3VycyhuLmdldEhvdXJzKCkrci82MCksdH1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIDEhPT10P20ocihlLHQsLTEpLDQpOm0oZSw0LShlLmdldERheSgpfHw3KSl9ZnVuY3Rpb24gcyhlLHQpe3ZhciBuPW5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDEsKC02KSkscj1hKGUsdCksbz1yLmdldFRpbWUoKS1uLmdldFRpbWUoKSxpPU1hdGguZmxvb3Ioby9NKTtyZXR1cm4gMStNYXRoLmZsb29yKGkvNyl9ZnVuY3Rpb24gdShlLHQpe3ZhciByLG8saTtyZXR1cm4gdD09PW4mJih0PWJlLmN1bHR1cmUoKS5jYWxlbmRhci5maXJzdERheSkscj1tKGUsLTcpLG89bShlLDcpLGk9cyhlLHQpLDA9PT1pP3Mocix0KSsxOjUzPT09aSYmcyhvLHQpPjE/MTppfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHQ9bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSwwLDAsMCksZSh0LDApLHR9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gRGF0ZS5VVEMoZS5nZXRGdWxsWWVhcigpLGUuZ2V0TW9udGgoKSxlLmdldERhdGUoKSxlLmdldEhvdXJzKCksZS5nZXRNaW51dGVzKCksZS5nZXRTZWNvbmRzKCksZS5nZXRNaWxsaXNlY29uZHMoKSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gYihlKS5nZXRUaW1lKCktbChiKGUpKX1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgcixvPWQodCksaT1kKG4pO3JldHVybiFlfHxvPT1pfHwodD49biYmKG4rPU0pLHI9ZChlKSxvPnImJihyKz1NKSxpPG8mJihpKz1NKSxyPj1vJiZyPD1pKX1mdW5jdGlvbiBwKGUsdCxuKXt2YXIgcixvPXQuZ2V0VGltZSgpLGk9bi5nZXRUaW1lKCk7cmV0dXJuIG8+PWkmJihpKz1NKSxyPWUuZ2V0VGltZSgpLHI+PW8mJnI8PWl9ZnVuY3Rpb24gbSh0LG4pe3ZhciByPXQuZ2V0SG91cnMoKTtyZXR1cm4gdD1uZXcgRGF0ZSh0KSxoKHQsbipNKSxlKHQsciksdH1mdW5jdGlvbiBoKGUsdCxuKXt2YXIgcixvPWUuZ2V0VGltZXpvbmVPZmZzZXQoKTtlLnNldFRpbWUoZS5nZXRUaW1lKCkrdCksbnx8KHI9ZS5nZXRUaW1lem9uZU9mZnNldCgpLW8sZS5zZXRUaW1lKGUuZ2V0VGltZSgpK3IqdykpfWZ1bmN0aW9uIGcodCxuKXtyZXR1cm4gdD1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpLHQuZ2V0RGF0ZSgpLG4uZ2V0SG91cnMoKSxuLmdldE1pbnV0ZXMoKSxuLmdldFNlY29uZHMoKSxuLmdldE1pbGxpc2Vjb25kcygpKSxlKHQsbi5nZXRIb3VycygpKSx0fWZ1bmN0aW9uIHkoKXtyZXR1cm4gbChuZXcgRGF0ZSl9ZnVuY3Rpb24gdihlKXtyZXR1cm4gbChlKS5nZXRUaW1lKCk9PXkoKS5nZXRUaW1lKCl9ZnVuY3Rpb24gYihlKXt2YXIgdD1uZXcgRGF0ZSgxOTgwLDEsMSwwLDAsMCk7cmV0dXJuIGUmJnQuc2V0SG91cnMoZS5nZXRIb3VycygpLGUuZ2V0TWludXRlcygpLGUuZ2V0U2Vjb25kcygpLGUuZ2V0TWlsbGlzZWNvbmRzKCkpLHR9dmFyIHc9NmU0LE09ODY0ZTU7cmV0dXJue2FkanVzdERTVDplLGRheU9mV2VlazpyLHNldERheU9mV2Vlazp0LGdldERhdGU6bCxpc0luRGF0ZVJhbmdlOnAsaXNJblRpbWVSYW5nZTpmLGlzVG9kYXk6dixuZXh0RGF5OmZ1bmN0aW9uKGUpe3JldHVybiBtKGUsMSl9LHByZXZpb3VzRGF5OmZ1bmN0aW9uKGUpe3JldHVybiBtKGUsLTEpfSx0b1V0Y1RpbWU6YyxNU19QRVJfREFZOk0sTVNfUEVSX0hPVVI6NjAqdyxNU19QRVJfTUlOVVRFOncsc2V0VGltZTpoLHNldEhvdXJzOmcsYWRkRGF5czptLHRvZGF5OnksdG9JbnZhcmlhbnRUaW1lOmIsZmlyc3REYXlPZk1vbnRoOm8sbGFzdERheU9mTW9udGg6aSx3ZWVrSW5ZZWFyOnUsZ2V0TWlsbGlzZWNvbmRzOmR9fSgpLGJlLnN0cmlwV2hpdGVzcGFjZT1mdW5jdGlvbihlKXt2YXIgdCxuLHI7aWYoZG9jdW1lbnQuY3JlYXRlTm9kZUl0ZXJhdG9yKWZvcih0PWRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcihlLE5vZGVGaWx0ZXIuU0hPV19URVhULGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudE5vZGU9PWU/Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUOk5vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVH0sITEpO3QubmV4dE5vZGUoKTspdC5yZWZlcmVuY2VOb2RlJiYhdC5yZWZlcmVuY2VOb2RlLnRleHRDb250ZW50LnRyaW0oKSYmdC5yZWZlcmVuY2VOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5yZWZlcmVuY2VOb2RlKTtlbHNlIGZvcihuPTA7bjxlLmNoaWxkTm9kZXMubGVuZ3RoO24rKylyPWUuY2hpbGROb2Rlc1tuXSwzIT1yLm5vZGVUeXBlfHwvXFMvLnRlc3Qoci5ub2RlVmFsdWUpfHwoZS5yZW1vdmVDaGlsZChyKSxuLS0pLDE9PXIubm9kZVR5cGUmJmJlLnN0cmlwV2hpdGVzcGFjZShyKX0seWU9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMWUzLzYwKX0sYmUuYW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oZSl7eWUuY2FsbCh0LGUpfSx2ZT1bXSxiZS5xdWV1ZUFuaW1hdGlvbj1mdW5jdGlvbihlKXt2ZVt2ZS5sZW5ndGhdPWUsMT09PXZlLmxlbmd0aCYmYmUucnVuTmV4dEFuaW1hdGlvbigpfSxiZS5ydW5OZXh0QW5pbWF0aW9uPWZ1bmN0aW9uKCl7YmUuYW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt2ZVswXSYmKHZlLnNoaWZ0KCkoKSx2ZVswXSYmYmUucnVuTmV4dEFuaW1hdGlvbigpKX0pfSxiZS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1zPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnNwbGl0KCI/IilbMV18fCIiLG49e30scj10LnNwbGl0KC8mfD0vKSxvPXIubGVuZ3RoLGk9MDtpPG87aSs9MikiIiE9PXJbaV0mJihuW2RlY29kZVVSSUNvbXBvbmVudChyW2ldKV09ZGVjb2RlVVJJQ29tcG9uZW50KHJbaSsxXSkpO3JldHVybiBufSxiZS5lbGVtZW50VW5kZXJDdXJzb3I9ZnVuY3Rpb24oZSl7aWYobiE9PWUueC5jbGllbnQpcmV0dXJuIGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZS54LmNsaWVudCxlLnkuY2xpZW50KX0sYmUud2hlZWxEZWx0YVk9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLm9yaWdpbmFsRXZlbnQsbz1yLndoZWVsRGVsdGFZO3JldHVybiByLndoZWVsRGVsdGE/KG89PT1ufHxvKSYmKHQ9ci53aGVlbERlbHRhKTpyLmRldGFpbCYmci5heGlzPT09ci5WRVJUSUNBTF9BWElTJiYodD0xMCotci5kZXRhaWwpLHR9LGJlLnRocm90dGxlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbyxpPTA7cmV0dXJuIXR8fHQ8PTA/ZToobz1mdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXtlLmFwcGx5KGEsdSksaT0rbmV3IERhdGV9dmFyIGE9dGhpcyxzPStuZXcgRGF0ZS1pLHU9YXJndW1lbnRzO3JldHVybiBpPyhyJiZjbGVhclRpbWVvdXQocikscz50P28oKTpyPXNldFRpbWVvdXQobyx0LXMpLG4pOm8oKX0sby5jYW5jZWw9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocil9LG8pfSxiZS5jYXJldD1mdW5jdGlvbih0LHIsbyl7dmFyIGksYSxzLHUsbCxjPXIhPT1uO2lmKG89PT1uJiYobz1yKSx0WzBdJiYodD10WzBdKSwhY3x8IXQuZGlzYWJsZWQpe3RyeXt0LnNlbGVjdGlvblN0YXJ0IT09bj9jPyh0LmZvY3VzKCksYT16ZS5tb2JpbGVPUyxhLndwfHxhLmFuZHJvaWQ/c2V0VGltZW91dChmdW5jdGlvbigpe3Quc2V0U2VsZWN0aW9uUmFuZ2UocixvKX0sMCk6dC5zZXRTZWxlY3Rpb25SYW5nZShyLG8pKTpyPVt0LnNlbGVjdGlvblN0YXJ0LHQuc2VsZWN0aW9uRW5kXTpkb2N1bWVudC5zZWxlY3Rpb24mJihlKHQpLmlzKCI6dmlzaWJsZSIpJiZ0LmZvY3VzKCksaT10LmNyZWF0ZVRleHRSYW5nZSgpLGM/KGkuY29sbGFwc2UoITApLGkubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLHIpLGkubW92ZUVuZCgiY2hhcmFjdGVyIixvLXIpLGkuc2VsZWN0KCkpOihzPWkuZHVwbGljYXRlKCksaS5tb3ZlVG9Cb29rbWFyayhkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5nZXRCb29rbWFyaygpKSxzLnNldEVuZFBvaW50KCJFbmRUb1N0YXJ0IixpKSx1PXMudGV4dC5sZW5ndGgsbD11K2kudGV4dC5sZW5ndGgscj1bdSxsXSkpfWNhdGNoKGQpe3I9W119cmV0dXJuIHJ9fSxiZS5jb21waWxlTW9iaWxlRGlyZWN0aXZlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5hbmd1bGFyO3JldHVybiBlLmF0dHIoImRhdGEtIitiZS5ucysicm9sZSIsZVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgia2VuZG8tbW9iaWxlLSIsIiIpLnJlcGxhY2UoIi0iLCIiKSksci5lbGVtZW50KGUpLmluamVjdG9yKCkuaW52b2tlKFsiJGNvbXBpbGUiLGZ1bmN0aW9uKHQpe3QoZSkobiksL15cJChkaWdlc3R8YXBwbHkpJC8udGVzdChuLiQkcGhhc2UpfHxuLiRkaWdlc3QoKX1dKSxiZS53aWRnZXRJbnN0YW5jZShlLGJlLm1vYmlsZS51aSl9LGJlLmFudGlGb3JnZXJ5VG9rZW5zPWZ1bmN0aW9uKCl7dmFyIHQ9e30scj1lKCJtZXRhW25hbWU9Y3NyZi10b2tlbl0sbWV0YVtuYW1lPV9jc3JmXSIpLmF0dHIoImNvbnRlbnQiKSxvPWUoIm1ldGFbbmFtZT1jc3JmLXBhcmFtXSxtZXRhW25hbWU9X2NzcmZfaGVhZGVyXSIpLmF0dHIoImNvbnRlbnQiKTtyZXR1cm4gZSgiaW5wdXRbbmFtZV49J19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJ10iKS5lYWNoKGZ1bmN0aW9uKCl7dFt0aGlzLm5hbWVdPXRoaXMudmFsdWV9KSxvIT09biYmciE9PW4mJih0W29dPXIpLHR9LGJlLmN5Y2xlRm9ybT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PWJlLndpZGdldEluc3RhbmNlKGUpO3QmJnQuZm9jdXM/dC5mb2N1cygpOmUuZm9jdXMoKX12YXIgbj1lLmZpbmQoImlucHV0LCAuay13aWRnZXQiKS5maXJzdCgpLHI9ZS5maW5kKCJidXR0b24sIC5rLWJ1dHRvbiIpLmxhc3QoKTtyLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXtlLmtleUNvZGUhPWJlLmtleXMuVEFCfHxlLnNoaWZ0S2V5fHwoZS5wcmV2ZW50RGVmYXVsdCgpLHQobikpfSksbi5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT1iZS5rZXlzLlRBQiYmZS5zaGlmdEtleSYmKGUucHJldmVudERlZmF1bHQoKSx0KHIpKX0pfSxiZS5mb2N1c0VsZW1lbnQ9ZnVuY3Rpb24obil7dmFyIHI9W10sbz1uLnBhcmVudHNVbnRpbCgiYm9keSIpLmZpbHRlcihmdW5jdGlvbihlLHQpe3ZhciBuPWJlLmdldENvbXB1dGVkU3R5bGVzKHQsWyJvdmVyZmxvdyJdKTtyZXR1cm4idmlzaWJsZSIhPT1uLm92ZXJmbG93fSkuYWRkKHQpO28uZWFjaChmdW5jdGlvbih0LG4pe3JbdF09ZShuKS5zY3JvbGxUb3AoKX0pO3RyeXtuWzBdLnNldEFjdGl2ZSgpfWNhdGNoKGkpe25bMF0uZm9jdXMoKX1vLmVhY2goZnVuY3Rpb24odCxuKXtlKG4pLnNjcm9sbFRvcChyW3RdKX0pfSxiZS5mb2N1c05leHRFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQsbixyO2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJih0PWUoIjprZW5kb0ZvY3VzYWJsZSIpLG49dC5pbmRleChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSxuPi0xJiYocj10W24rMV18fHRbMF0sci5mb2N1cygpKSl9LGJlLm1hdGNoZXNNZWRpYT1mdW5jdGlvbihlKXt2YXIgbj1iZS5fYm9vdHN0cmFwVG9NZWRpYShlKXx8ZTtyZXR1cm4gemUubWF0Y2hNZWRpYSYmdC5tYXRjaE1lZGlhKG4pLm1hdGNoZXN9LGJlLl9ib290c3RyYXBUb01lZGlhPWZ1bmN0aW9uKGUpe3JldHVybnt4czoiKG1heC13aWR0aDogNTc2cHgpIixzbToiKG1pbi13aWR0aDogNTc2cHgpIixtZDoiKG1pbi13aWR0aDogNzY4cHgpIixsZzoiKG1pbi13aWR0aDogOTkycHgpIix4bDoiKG1pbi13aWR0aDogMTIwMHB4KSJ9W2VdfSxiZS5maWxlR3JvdXBNYXA9e2F1ZGlvOlsiLmFpZiIsIi5pZmYiLCIubTN1IiwiLm00YSIsIi5taWQiLCIubXAzIiwiLm1wYSIsIi53YXYiLCIud21hIiwiLm9nZyIsIi53YXYiLCIud21hIiwiLndwbCJdLHZpZGVvOlsiLjNnMiIsIi4zZ3AiLCIuYXZpIiwiLmFzZiIsIi5mbHYiLCIubTR1IiwiLnJtIiwiLmgyNjQiLCIubTR2IiwiLm1rdiIsIi5tb3YiLCIubXA0IiwiLm1wZyIsIi5ybSIsIi5zd2YiLCIudm9iIiwiLndtdiJdLGltYWdlOlsiLmFpIiwiLmRkcyIsIi5oZWljIiwiLmpwZSIsImpmaWYiLCIuamlmIiwiLmpwMiIsIi5qcHMiLCIuZXBzIiwiLmJtcCIsIi5naWYiLCIuanBlZyIsIi5qcGciLCIucG5nIiwiLnBzIiwiLnBzZCIsIi5zdmciLCIuc3ZneiIsIi50aWYiLCIudGlmZiJdLHR4dDpbIi5kb2MiLCIuZG9jeCIsIi5sb2ciLCIucGFnZXMiLCIudGV4IiwiLndwZCIsIi53cHMiLCIub2R0IiwiLnJ0ZiIsIi50ZXh0IiwiLnR4dCIsIi53a3MiXSxwcmVzZW50YXRpb246WyIua2V5IiwiLm9kcCIsIi5wcHMiLCIucHB0IiwiLnBwdHgiXSxkYXRhOlsiLnhsciIsIi54bHMiLCIueGxzeCJdLHByb2dyYW1taW5nOlsiLnRtcCIsIi5iYWsiLCIubXNpIiwiLmNhYiIsIi5jcGwiLCIuY3VyIiwiLmRsbCIsIi5kbXAiLCIuZHJ2IiwiLmljbnMiLCIuaWNvIiwiLmxpbmsiLCIuc3lzIiwiLmNmZyIsIi5pbmkiLCIuYXNwIiwiLmFzcHgiLCIuY2VyIiwiLmNzciIsIi5jc3MiLCIuZGNyIiwiLmh0bSIsIi5odG1sIiwiLmpzIiwiLnBocCIsIi5yc3MiLCIueGh0bWwiXSxwZGY6WyIucGRmIl0sY29uZmlnOlsiLmFwayIsIi5hcHAiLCIuYmF0IiwiLmNnaSIsIi5jb20iLCIuZXhlIiwiLmdhZGdldCIsIi5qYXIiLCIud3NmIl0semlwOlsiLjd6IiwiLmNiciIsIi5neiIsIi5zaXR4IiwiLmFyaiIsIi5kZWIiLCIucGtnIiwiLnJhciIsIi5ycG0iLCIudGFyLmd6IiwiLnoiLCIuemlwIiwiLnppcHgiXSwiZGlzYy1pbWFnZSI6WyIuZG1nIiwiLmlzbyIsIi50b2FzdCIsIi52Y2QiLCIuYmluIiwiLmN1ZSIsIi5tZGYiXX0sYmUuZ2V0RmlsZUdyb3VwPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbyxpPWJlLmZpbGVHcm91cE1hcCxhPU9iamVjdC5rZXlzKGkpLHM9ImZpbGUiO2lmKGU9PT1ufHwhZS5sZW5ndGgpcmV0dXJuIHM7Zm9yKHI9MDtyPGEubGVuZ3RoO3IrPTEpaWYobz1pW2Fbcl1dLG8uaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xKXJldHVybiB0PyJmaWxlLSIrYVtyXTphW3JdO3JldHVybiBzfSxiZS5nZXRGaWxlU2l6ZU1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bIkJ5dGVzIiwiS0IiLCJNQiIsIkdCIiwiVEIiXTtyZXR1cm4gMD09PWU/IjAgQnl0ZSI6KHQ9cGFyc2VJbnQoTWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLmxvZygxMDI0KSksMTApLE1hdGgucm91bmQoZS9NYXRoLnBvdygxMDI0LHQpLDIpKyIgIituW3RdKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQsbixyLG8pe3ZhciBpLGEscz1lKCI8Zm9ybT4iKS5hdHRyKHthY3Rpb246cixtZXRob2Q6IlBPU1QiLHRhcmdldDpvfSksdT1iZS5hbnRpRm9yZ2VyeVRva2VucygpO3UuZmlsZU5hbWU9bixpPXQuc3BsaXQoIjtiYXNlNjQsIiksdS5jb250ZW50VHlwZT1pWzBdLnJlcGxhY2UoImRhdGE6IiwiIiksdS5iYXNlNjQ9aVsxXTtmb3IoYSBpbiB1KXUuaGFzT3duUHJvcGVydHkoYSkmJmUoIjxpbnB1dD4iKS5hdHRyKHt2YWx1ZTp1W2FdLG5hbWU6YSx0eXBlOiJoaWRkZW4ifSkuYXBwZW5kVG8ocyk7cy5hcHBlbmRUbygiYm9keSIpLnN1Ym1pdCgpLnJlbW92ZSgpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbixyLG8saSxhLHM9ZTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2ZvcihuPWUuc3BsaXQoIjtiYXNlNjQsIikscj1uWzBdLG89YXRvYihuWzFdKSxpPW5ldyBVaW50OEFycmF5KG8ubGVuZ3RoKSxhPTA7YTxvLmxlbmd0aDthKyspaVthXT1vLmNoYXJDb2RlQXQoYSk7cz1uZXcgQmxvYihbaS5idWZmZXJdLHt0eXBlOnJ9KX1uYXZpZ2F0b3IubXNTYXZlQmxvYihzLHQpfWZ1bmN0aW9uIG8oZSxuKXt0LkJsb2ImJmUgaW5zdGFuY2VvZiBCbG9iJiYoZT1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpKSxpLmRvd25sb2FkPW4saS5ocmVmPWU7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIik7ci5pbml0TW91c2VFdmVudCgiY2xpY2siLCEwLCExLHQsMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksaS5kaXNwYXRjaEV2ZW50KHIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKGUpfSl9dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGE9ImRvd25sb2FkImluIGkmJiFiZS5zdXBwb3J0LmJyb3dzZXIuZWRnZTtiZS5zYXZlQXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bjtlLmZvcmNlUHJveHl8fChhP3Q9bzpuYXZpZ2F0b3IubXNTYXZlQmxvYiYmKHQ9cikpLHQoZS5kYXRhVVJJLGUuZmlsZU5hbWUsZS5wcm94eVVSTCxlLnByb3h5VGFyZ2V0KX19KCksYmUucHJveHlNb2RlbFNldHRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGV8fHt9KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2dldDpmdW5jdGlvbigpe3JldHVybiBlW25dfSxzZXQ6ZnVuY3Rpb24odCl7ZVtuXT10LGUuZGlydHk9ITB9fSl9KSx0fSxmdW5jdGlvbigpe2JlLmRlZmF1bHRzPWJlLmRlZmF1bHRzfHx7fSxiZS5zZXREZWZhdWx0cz1mdW5jdGlvbihlLHQpe3ZhciByPWUuc3BsaXQoIi4iKSxvPWJlLmRlZmF1bHRzO2U9ci5wb3AoKSxyLmZvckVhY2goZnVuY3Rpb24oZSl7b1tlXT09PW4mJihvW2VdPXt9KSxvPW9bZV19KSxvW2VdPXQuY29uc3RydWN0b3I9PT1PYmplY3Q/bCh7fSxvW2VdLHQpOnR9fSgpfShqUXVlcnksd2luZG93KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKGUsdCxuKXsobnx8dCkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8uY29yZS5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbihlLGRlZmluZSl7ZGVmaW5lKCJrZW5kby51c2VyZXZlbnRzLm1pbiIsWyJrZW5kby5jb3JlLm1pbiJdLGUpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXt2YXIgbj1lLngubG9jYXRpb24saT1lLnkubG9jYXRpb24sbz10LngubG9jYXRpb24scj10LnkubG9jYXRpb24scz1uLW8sYT1pLXI7cmV0dXJue2NlbnRlcjp7eDoobitvKS8yLHk6KGkrcikvMn0sZGlzdGFuY2U6TWF0aC5zcXJ0KHMqcythKmEpfX1mdW5jdGlvbiBpKGUpe3ZhciB0LG4saSxvPVtdLHI9ZS5vcmlnaW5hbEV2ZW50LGE9ZS5jdXJyZW50VGFyZ2V0LGM9MDtpZihlLmFwaSlvLnB1c2goe2lkOjIsZXZlbnQ6ZSx0YXJnZXQ6ZS50YXJnZXQsY3VycmVudFRhcmdldDplLnRhcmdldCxsb2NhdGlvbjplLHR5cGU6ImFwaSJ9KTtlbHNlIGlmKGUudHlwZS5tYXRjaCgvdG91Y2gvKSlmb3Iobj1yP3IuY2hhbmdlZFRvdWNoZXM6W10sdD1uLmxlbmd0aDtjPHQ7YysrKWk9bltjXSxvLnB1c2goe2xvY2F0aW9uOmksZXZlbnQ6ZSx0YXJnZXQ6aS50YXJnZXQsY3VycmVudFRhcmdldDphLGlkOmkuaWRlbnRpZmllcix0eXBlOiJ0b3VjaCJ9KTtlbHNlIG8ucHVzaChzLnBvaW50ZXJzfHxzLm1zUG9pbnRlcnM/e2xvY2F0aW9uOnIsZXZlbnQ6ZSx0YXJnZXQ6ZS50YXJnZXQsY3VycmVudFRhcmdldDphLGlkOnIucG9pbnRlcklkLHR5cGU6InBvaW50ZXIifTp7aWQ6MSxldmVudDplLHRhcmdldDplLnRhcmdldCxjdXJyZW50VGFyZ2V0OmEsbG9jYXRpb246ZSx0eXBlOiJtb3VzZSJ9KTtyZXR1cm4gb31mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD1yLmV2ZW50TWFwLnVwLnNwbGl0KCIgIiksbj0wLGk9dC5sZW5ndGg7bjxpO24rKyllKHRbbl0pfXZhciByPXdpbmRvdy5rZW5kbyxzPXIuc3VwcG9ydCxhPXIuQ2xhc3MsYz1yLk9ic2VydmFibGUsdT1lLm5vdyxsPWUuZXh0ZW5kLGg9cy5tb2JpbGVPUyxwPWgmJmguYW5kcm9pZCxkPTgwMCxmPTMwMCx2PXMuYnJvd3Nlci5tc2llPzU6MCxnPSJwcmVzcyIsXz0iaG9sZCIsbT0ic2VsZWN0IixUPSJzdGFydCIseT0ibW92ZSIsaz0iZW5kIixFPSJjYW5jZWwiLHg9InRhcCIsRD0iZG91YmxlVGFwIixNPSJyZWxlYXNlIix3PSJnZXN0dXJlc3RhcnQiLGI9Imdlc3R1cmVjaGFuZ2UiLEE9Imdlc3R1cmVlbmQiLEM9Imdlc3R1cmV0YXAiLEk9e2FwaTowLHRvdWNoOjAsbW91c2U6OSxwb2ludGVyOjl9LFM9IXMudG91Y2h8fHMubW91c2VBbmRUb3VjaFByZXNlbnQsUD1hLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7bi5heGlzPWUsbi5fdXBkYXRlTG9jYXRpb25EYXRhKHQpLG4uc3RhcnRMb2NhdGlvbj1uLmxvY2F0aW9uLG4udmVsb2NpdHk9bi5kZWx0YT0wLG4udGltZVN0YW1wPXUoKX0sbW92ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZVsicGFnZSIrdC5heGlzXSxpPXUoKSxvPWktdC50aW1lU3RhbXB8fDE7IW4mJnB8fCh0LmRlbHRhPW4tdC5sb2NhdGlvbix0Ll91cGRhdGVMb2NhdGlvbkRhdGEoZSksdC5pbml0aWFsRGVsdGE9bi10LnN0YXJ0TG9jYXRpb24sdC52ZWxvY2l0eT10LmRlbHRhL28sdC50aW1lU3RhbXA9aSl9LF91cGRhdGVMb2NhdGlvbkRhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQuYXhpczt0LmxvY2F0aW9uPWVbInBhZ2UiK25dLHQuY2xpZW50PWVbImNsaWVudCIrbl0sdC5zY3JlZW49ZVsic2NyZWVuIituXX19KSxMPWEuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCxuKXtsKHRoaXMse3g6bmV3IFAoIlgiLG4ubG9jYXRpb24pLHk6bmV3IFAoIlkiLG4ubG9jYXRpb24pLHR5cGU6bi50eXBlLHVzZUNsaWNrQXNUYXA6ZS51c2VDbGlja0FzVGFwLHRocmVzaG9sZDplLnRocmVzaG9sZHx8SVtuLnR5cGVdLHVzZXJFdmVudHM6ZSx0YXJnZXQ6dCxjdXJyZW50VGFyZ2V0Om4uY3VycmVudFRhcmdldCxpbml0aWFsVG91Y2g6bi50YXJnZXQsaWQ6bi5pZCxwcmVzc0V2ZW50Om4sX2NsaWNrczplLl9jbGlja3Msc3VwcG9ydERvdWJsZVRhcDplLnN1cHBvcnREb3VibGVUYXAsX21vdmVkOiExLF9maW5pc2hlZDohMX0pfSxwcmVzczpmdW5jdGlvbigpe3RoaXMuX2hvbGRUaW1lb3V0PXNldFRpbWVvdXQoZS5wcm94eSh0aGlzLCJfaG9sZCIpLHRoaXMudXNlckV2ZW50cy5taW5Ib2xkKSx0aGlzLl90cmlnZ2VyKGcsdGhpcy5wcmVzc0V2ZW50KX0sX3RhcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QudXNlckV2ZW50cy5fY2xpY2tzKyssMT09dC51c2VyRXZlbnRzLl9jbGlja3MmJih0Ll9jbGlja1RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpezE9PXQudXNlckV2ZW50cy5fY2xpY2tzP3QuX3RyaWdnZXIoeCxlKTp0Ll90cmlnZ2VyKEQsZSksdC51c2VyRXZlbnRzLl9jbGlja3M9MH0sZikpfSxfaG9sZDpmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoXyx0aGlzLnByZXNzRXZlbnQpfSxtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj0iYXBpIiE9PWUudHlwZSYmdC51c2VyRXZlbnRzLl9zaG91bGROb3RNb3ZlO2lmKCF0Ll9maW5pc2hlZCYmIW4pe2lmKHQueC5tb3ZlKGUubG9jYXRpb24pLHQueS5tb3ZlKGUubG9jYXRpb24pLCF0Ll9tb3ZlZCl7aWYodC5fd2l0aGluSWdub3JlVGhyZXNob2xkKCkpcmV0dXJuO2lmKFguY3VycmVudCYmWC5jdXJyZW50IT09dC51c2VyRXZlbnRzKXJldHVybiB0LmRpc3Bvc2UoKTt0Ll9zdGFydChlKX10Ll9maW5pc2hlZHx8dC5fdHJpZ2dlcih5LGUpfX0sZW5kOmZ1bmN0aW9uKGUpe3RoaXMuZW5kVGltZT11KCksdGhpcy5fZmluaXNoZWR8fCh0aGlzLl9maW5pc2hlZD0hMCx0aGlzLl90cmlnZ2VyKE0sZSksdGhpcy5fbW92ZWQ/dGhpcy5fdHJpZ2dlcihrLGUpOnRoaXMudXNlQ2xpY2tBc1RhcHx8KHRoaXMuc3VwcG9ydERvdWJsZVRhcD90aGlzLl90YXAoZSk6dGhpcy5fdHJpZ2dlcih4LGUpKSxjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLHRoaXMuZGlzcG9zZSgpKX0sZGlzcG9zZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudXNlckV2ZW50cyxuPXQudG91Y2hlczt0aGlzLl9maW5pc2hlZD0hMCx0aGlzLnByZXNzRXZlbnQ9bnVsbCxjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLG4uc3BsaWNlKGUuaW5BcnJheSh0aGlzLG4pLDEpfSxza2lwOmZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpfSxpc01vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVkfSxfc3RhcnQ6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KSx0aGlzLnN0YXJ0VGltZT11KCksdGhpcy5fbW92ZWQ9ITAsdGhpcy5fdHJpZ2dlcihULGUpfSxfdHJpZ2dlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT10LmV2ZW50LG89e3RvdWNoOm4seDpuLngseTpuLnksdGFyZ2V0Om4udGFyZ2V0LGV2ZW50Oml9O24udXNlckV2ZW50cy5ub3RpZnkoZSxvKSYmaS5wcmV2ZW50RGVmYXVsdCgpfSxfd2l0aGluSWdub3JlVGhyZXNob2xkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy54LmluaXRpYWxEZWx0YSx0PXRoaXMueS5pbml0aWFsRGVsdGE7cmV0dXJuIE1hdGguc3FydChlKmUrdCp0KTw9dGhpcy50aHJlc2hvbGR9fSksWD1jLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LG4pe3ZhciBpLGEsdSxoLHA9dGhpcyxmPXIuZ3VpZCgpO249bnx8e30saT1wLmZpbHRlcj1uLmZpbHRlcixwLnRocmVzaG9sZD1uLnRocmVzaG9sZHx8dixwLm1pbkhvbGQ9bi5taW5Ib2xkfHxkLHAudG91Y2hlcz1bXSxwLl9tYXhUb3VjaGVzPW4ubXVsdGlUb3VjaD8yOjEscC5hbGxvd1NlbGVjdGlvbj1uLmFsbG93U2VsZWN0aW9uLHAuY2FwdHVyZVVwSWZNb3ZlZD1uLmNhcHR1cmVVcElmTW92ZWQscC51c2VDbGlja0FzVGFwPSFuLmZhc3RUYXAmJiFzLmRlbGF5ZWRDbGljaygpLHAuZXZlbnROUz1mLHAuX2NsaWNrcz0wLHAuc3VwcG9ydERvdWJsZVRhcD1uLnN1cHBvcnREb3VibGVUYXAsdD1lKHQpLmhhbmRsZXIocCksYy5mbi5pbml0LmNhbGwocCksbChwLHtlbGVtZW50OnQsc3VyZmFjZTplKG4uZ2xvYmFsJiZTP3RbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6bi5zdXJmYWNlfHx0KSxzdG9wUHJvcGFnYXRpb246bi5zdG9wUHJvcGFnYXRpb24scHJlc3NlZDohMX0pLHAuc3VyZmFjZS5oYW5kbGVyKHApLm9uKHIuYXBwbHlFdmVudE1hcCgibW92ZSIsZiksIl9tb3ZlIikub24oci5hcHBseUV2ZW50TWFwKCJ1cCBjYW5jZWwiLGYpLCJfZW5kIiksdC5vbihyLmFwcGx5RXZlbnRNYXAoImRvd24iLGYpLGksIl9zdGFydCIpLHAudXNlQ2xpY2tBc1RhcCYmdC5vbihyLmFwcGx5RXZlbnRNYXAoImNsaWNrIixmKSxpLCJfY2xpY2siKSwocy5wb2ludGVyc3x8cy5tc1BvaW50ZXJzKSYmKHMuYnJvd3Nlci52ZXJzaW9uPDExPyhhPSJwaW5jaC16b29tIGRvdWJsZS10YXAtem9vbSIsdC5jc3MoIi1tcy10b3VjaC1hY3Rpb24iLG4udG91Y2hBY3Rpb24mJiJub25lIiE9bi50b3VjaEFjdGlvbj9hKyIgIituLnRvdWNoQWN0aW9uOmEpKTp0LmNzcygidG91Y2gtYWN0aW9uIixuLnRvdWNoQWN0aW9ufHwibm9uZSIpKSxuLnByZXZlbnREcmFnRXZlbnQmJnQub24oci5hcHBseUV2ZW50TWFwKCJkcmFnc3RhcnQiLGYpLHIucHJldmVudERlZmF1bHQpLHQub24oci5hcHBseUV2ZW50TWFwKCJtb3VzZWRvd24iLGYpLGkse3Jvb3Q6dH0sIl9zZWxlY3QiKSxwLmNhcHR1cmVVcElmTW92ZWQmJnMuZXZlbnRDYXB0dXJlJiYodT1wLnN1cmZhY2VbMF0saD1lLnByb3h5KHAucHJldmVudElmTW92aW5nLHApLG8oZnVuY3Rpb24oZSl7dS5hZGRFdmVudExpc3RlbmVyKGUsaCwhMCl9KSkscC5iaW5kKFtnLF8seCxELFQseSxrLE0sRSx3LGIsQSxDLG1dLG4pfSxwcmV2ZW50SWZNb3Zpbmc6ZnVuY3Rpb24oZSl7dGhpcy5faXNNb3ZlZCgpJiZlLnByZXZlbnREZWZhdWx0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7dC5fZGVzdHJveWVkfHwodC5fZGVzdHJveWVkPSEwLHQuY2FwdHVyZVVwSWZNb3ZlZCYmcy5ldmVudENhcHR1cmUmJihlPXQuc3VyZmFjZVswXSxvKGZ1bmN0aW9uKG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHQucHJldmVudElmTW92aW5nKX0pKSx0LmVsZW1lbnQua2VuZG9EZXN0cm95KHQuZXZlbnROUyksdC5zdXJmYWNlLmtlbmRvRGVzdHJveSh0LmV2ZW50TlMpLHQuZWxlbWVudC5yZW1vdmVEYXRhKCJoYW5kbGVyIiksdC5zdXJmYWNlLnJlbW92ZURhdGEoImhhbmRsZXIiKSx0Ll9kaXNwb3NlQWxsKCksdC51bmJpbmQoKSxkZWxldGUgdC5zdXJmYWNlLGRlbGV0ZSB0LmVsZW1lbnQsZGVsZXRlIHQuY3VycmVudFRhcmdldCl9LGNhcHR1cmU6ZnVuY3Rpb24oKXtYLmN1cnJlbnQ9dGhpc30sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZUFsbCgpLHRoaXMudHJpZ2dlcihFKX0sbm90aWZ5OmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcyxvPWkudG91Y2hlcztpZih0aGlzLl9pc011bHRpVG91Y2goKSl7c3dpdGNoKGUpe2Nhc2UgeTplPWI7YnJlYWs7Y2FzZSBrOmU9QTticmVhaztjYXNlIHg6ZT1DfWwodCx7dG91Y2hlczpvfSxuKG9bMF0sb1sxXSkpfXJldHVybiB0aGlzLnRyaWdnZXIoZSxsKHQse3R5cGU6ZX0pKX0scHJlc3M6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2FwaUNhbGwoIl9zdGFydCIsZSx0LG4pfSxtb3ZlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fYXBpQ2FsbCgiX21vdmUiLGUsdCl9LGVuZDpmdW5jdGlvbihlLHQpe3RoaXMuX2FwaUNhbGwoIl9lbmQiLGUsdCl9LF9pc011bHRpVG91Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aD4xfSxfbWF4VG91Y2hlc1JlYWNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aD49dGhpcy5fbWF4VG91Y2hlc30sX2Rpc3Bvc2VBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy50b3VjaGVzO2UubGVuZ3RoPjA7KWUucG9wKCkuZGlzcG9zZSgpfSxfaXNNb3ZlZDpmdW5jdGlvbigpe3JldHVybiBlLmdyZXAodGhpcy50b3VjaGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTW92ZWQoKX0pLmxlbmd0aH0sX3NlbGVjdDpmdW5jdGlvbihlKXt0aGlzLmFsbG93U2VsZWN0aW9uJiYhdGhpcy50cmlnZ2VyKG0se2V2ZW50OmV9KXx8ZS5wcmV2ZW50RGVmYXVsdCgpfSxfc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIG4sbyxyPXRoaXMscz0wLGE9ci5maWx0ZXIsYz1pKHQpLHU9Yy5sZW5ndGgsbD10LndoaWNoO2lmKCEobCYmbD4xfHxyLl9tYXhUb3VjaGVzUmVhY2hlZCgpKSlmb3IoWC5jdXJyZW50PW51bGwsci5jdXJyZW50VGFyZ2V0PXQuY3VycmVudFRhcmdldCxyLnN0b3BQcm9wYWdhdGlvbiYmdC5zdG9wUHJvcGFnYXRpb24oKTtzPHUmJiFyLl9tYXhUb3VjaGVzUmVhY2hlZCgpO3MrKylvPWNbc10sbj1hP2Uoby5jdXJyZW50VGFyZ2V0KTpyLmVsZW1lbnQsbi5sZW5ndGgmJihvPW5ldyBMKHIsbixvKSxyLnRvdWNoZXMucHVzaChvKSxvLnByZXNzKCksci5faXNNdWx0aVRvdWNoKCkmJnIubm90aWZ5KCJnZXN0dXJlc3RhcnQiLHt9KSl9LF9tb3ZlOmZ1bmN0aW9uKGUpe3RoaXMuX2VhY2hUb3VjaCgibW92ZSIsZSl9LF9lbmQ6ZnVuY3Rpb24oZSl7dGhpcy5fZWFjaFRvdWNoKCJlbmQiLGUpfSxfY2xpY2s6ZnVuY3Rpb24odCl7dmFyIG49e3RvdWNoOntpbml0aWFsVG91Y2g6dC50YXJnZXQsdGFyZ2V0OmUodC5jdXJyZW50VGFyZ2V0KSxlbmRUaW1lOnUoKSx4Ontsb2NhdGlvbjp0LnBhZ2VYLGNsaWVudDp0LmNsaWVudFh9LHk6e2xvY2F0aW9uOnQucGFnZVksY2xpZW50OnQuY2xpZW50WX19LHg6dC5wYWdlWCx5OnQucGFnZVksdGFyZ2V0OmUodC5jdXJyZW50VGFyZ2V0KSxldmVudDp0LHR5cGU6InRhcCJ9O3RoaXMudHJpZ2dlcigidGFwIixuKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxfZWFjaFRvdWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxyLHMsYT10aGlzLGM9e30sdT1pKHQpLGw9YS50b3VjaGVzO2ZvcihuPTA7bjxsLmxlbmd0aDtuKyspbz1sW25dLGNbby5pZF09bztmb3Iobj0wO248dS5sZW5ndGg7bisrKXI9dVtuXSxzPWNbci5pZF0scyYmc1tlXShyKX0sX2FwaUNhbGw6ZnVuY3Rpb24odCxuLGksbyl7dGhpc1t0XSh7YXBpOiEwLHBhZ2VYOm4scGFnZVk6aSxjbGllbnRYOm4sY2xpZW50WTppLHRhcmdldDplKG98fHRoaXMuZWxlbWVudClbMF0sc3RvcFByb3BhZ2F0aW9uOmUubm9vcCxwcmV2ZW50RGVmYXVsdDplLm5vb3B9KX19KTtYLmRlZmF1bHRUaHJlc2hvbGQ9ZnVuY3Rpb24oZSl7dj1lfSxYLm1pbkhvbGQ9ZnVuY3Rpb24oZSl7ZD1lfSxyLmdldFRvdWNoZXM9aSxyLnRvdWNoRGVsdGE9bixyLlVzZXJFdmVudHM9WH0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihlLHQsbil7KG58fHQpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLnVzZXJldmVudHMubWluLmpzLm1hcA0KDQovKiENCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQohZnVuY3Rpb24odCxkZWZpbmUpe2RlZmluZSgia2VuZG8uZHJhZ2FuZGRyb3AubWluIixbImtlbmRvLmNvcmUubWluIiwia2VuZG8udXNlcmV2ZW50cy5taW4iXSx0KX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUsbil7dHJ5e3JldHVybiB0LmNvbnRhaW5zKGUsbil8fGU9PW59Y2F0Y2gocil7cmV0dXJuITF9fWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gcGFyc2VJbnQodC5jc3MoZSksMTApfHwwfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodCxlLm1pbiksZS5tYXgpfWZ1bmN0aW9uIG8odCxlKXt2YXIgbj1EKHQpLGk9Xy5fb3V0ZXJXaWR0aCxvPV8uX291dGVySGVpZ2h0LGE9bi5sZWZ0K3IodCwiYm9yZGVyTGVmdFdpZHRoIikrcih0LCJwYWRkaW5nTGVmdCIpLHM9bi50b3Arcih0LCJib3JkZXJUb3BXaWR0aCIpK3IodCwicGFkZGluZ1RvcCIpLGw9YSt0LndpZHRoKCktaShlLCEwKSxjPXMrdC5oZWlnaHQoKS1vKGUsITApO3JldHVybnt4OnttaW46YSxtYXg6bH0seTp7bWluOnMsbWF4OmN9fX1mdW5jdGlvbiBhKG4scixpKXtmb3IodmFyIG8sYSxzPTAsbD1yJiZyLmxlbmd0aCxjPWkmJmkubGVuZ3RoO24mJm4ucGFyZW50Tm9kZTspe2ZvcihzPTA7czxsO3MrKylpZihvPXJbc10sby5lbGVtZW50WzBdPT09bilyZXR1cm57dGFyZ2V0Om8sdGFyZ2V0RWxlbWVudDpufTtmb3Iocz0wO3M8YztzKyspaWYoYT1pW3NdLHQuY29udGFpbnMoYS5lbGVtZW50WzBdLG4pJiZ4Lm1hdGNoZXNTZWxlY3Rvci5jYWxsKG4sYS5vcHRpb25zLmZpbHRlcikpcmV0dXJue3RhcmdldDphLHRhcmdldEVsZW1lbnQ6bn07bj1uLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gcyh0LGUpe3ZhciBuLHI9ZS5vcHRpb25zLmdyb3VwLGk9dFtyXTtpZihULmZuLmRlc3Ryb3kuY2FsbChlKSxpLmxlbmd0aD4xKXtmb3Iobj0wO248aS5sZW5ndGg7bisrKWlmKGlbbl09PWUpe2kuc3BsaWNlKG4sMSk7YnJlYWt9fWVsc2UgaS5sZW5ndGg9MCxkZWxldGUgdFtyXX1mdW5jdGlvbiBsKHQpe3ZhciBlLG4scixpPWMoKVswXTtyZXR1cm4gdFswXT09PWk/KG49aS5zY3JvbGxUb3Ascj1pLnNjcm9sbExlZnQse3RvcDpuLGxlZnQ6cixib3R0b206bitiLmhlaWdodCgpLHJpZ2h0OnIrYi53aWR0aCgpfSk6KGU9dC5vZmZzZXQoKSxlLmJvdHRvbT1lLnRvcCt0LmhlaWdodCgpLGUucmlnaHQ9ZS5sZWZ0K3Qud2lkdGgoKSxlKX1mdW5jdGlvbiBjKCl7cmV0dXJuIHQoXy5zdXBwb3J0LmJyb3dzZXIuZWRnZXx8Xy5zdXBwb3J0LmJyb3dzZXIuc2FmYXJpP3kuYm9keTp5LmRvY3VtZW50RWxlbWVudCl9ZnVuY3Rpb24gdShlKXt2YXIgbixyPWMoKTtpZighZXx8ZT09PXkuYm9keXx8ZT09PXkuZG9jdW1lbnRFbGVtZW50KXJldHVybiByO2ZvcihuPXQoZSlbMF07biYmIV8uaXNTY3JvbGxhYmxlKG4pJiZuIT09eS5ib2R5OyluPW4ucGFyZW50Tm9kZTtyZXR1cm4gbj09PXkuYm9keT9yOnQobil9ZnVuY3Rpb24gaCh0LGUsbil7dmFyIHI9e3g6MCx5OjB9LGk9NTA7cmV0dXJuIHQtbi5sZWZ0PGk/ci54PS0oaS0odC1uLmxlZnQpKTpuLnJpZ2h0LXQ8aSYmKHIueD1pLShuLnJpZ2h0LXQpKSxlLW4udG9wPGk/ci55PS0oaS0oZS1uLnRvcCkpOm4uYm90dG9tLWU8aSYmKHIueT1pLShuLmJvdHRvbS1lKSkscn12YXIgZCxmLHAsZyx2LG0sXz13aW5kb3cua2VuZG8seD1fLnN1cHBvcnQseT13aW5kb3cuZG9jdW1lbnQsYj10KHdpbmRvdyksRT1fLkNsYXNzLFQ9Xy51aS5XaWRnZXQsUz1fLk9ic2VydmFibGUsdz1fLlVzZXJFdmVudHMsTT10LnByb3h5LEM9dC5leHRlbmQsRD1fLmdldE9mZnNldCxPPXt9LGs9e30sST17fSxIPV8uZWxlbWVudFVuZGVyQ3Vyc29yLFc9ImtleXVwIix6PSJjaGFuZ2UiLFA9ImRyYWdzdGFydCIsVT0iaG9sZCIsTD0iZHJhZyIsQT0iZHJhZ2VuZCIsTj0iZHJhZ2NhbmNlbCIsVj0iaGludERlc3Ryb3llZCIsQj0iZHJhZ2VudGVyIiwkPSJkcmFnbGVhdmUiLEY9ImRyb3AiLGo9Uy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLGk9ZVswXTtyLmNhcHR1cmU9ITEsaS5hZGRFdmVudExpc3RlbmVyPyh0LmVhY2goXy5ldmVudE1hcC5kb3duLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtpLmFkZEV2ZW50TGlzdGVuZXIodGhpcyxNKHIuX3ByZXNzLHIpLCEwKX0pLHQuZWFjaChfLmV2ZW50TWFwLnVwLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtpLmFkZEV2ZW50TGlzdGVuZXIodGhpcyxNKHIuX3JlbGVhc2UsciksITApfSkpOih0LmVhY2goXy5ldmVudE1hcC5kb3duLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtpLmF0dGFjaEV2ZW50KHRoaXMsTShyLl9wcmVzcyxyKSl9KSx0LmVhY2goXy5ldmVudE1hcC51cC5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7aS5hdHRhY2hFdmVudCh0aGlzLE0oci5fcmVsZWFzZSxyKSl9KSksUy5mbi5pbml0LmNhbGwociksci5iaW5kKFsicHJlc3MiLCJyZWxlYXNlIl0sbnx8e30pfSxjYXB0dXJlTmV4dDpmdW5jdGlvbigpe3RoaXMuY2FwdHVyZT0hMH0sY2FuY2VsQ2FwdHVyZTpmdW5jdGlvbigpe3RoaXMuY2FwdHVyZT0hMX0sX3ByZXNzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZS50cmlnZ2VyKCJwcmVzcyIpLGUuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxfcmVsZWFzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2UudHJpZ2dlcigicmVsZWFzZSIpLGUuY2FwdHVyZSYmKHQucHJldmVudERlZmF1bHQoKSxlLmNhbmNlbENhcHR1cmUoKSl9fSksRz1TLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgbj10aGlzO1MuZm4uaW5pdC5jYWxsKG4pLG4uZm9yY2VkRW5hYmxlZD0hMSx0LmV4dGVuZChuLGUpLG4uc2NhbGU9MSxuLmhvcml6b250YWw/KG4ubWVhc3VyZT0ib2Zmc2V0V2lkdGgiLG4uc2Nyb2xsU2l6ZT0ic2Nyb2xsV2lkdGgiLG4uYXhpcz0ieCIpOihuLm1lYXN1cmU9Im9mZnNldEhlaWdodCIsbi5zY3JvbGxTaXplPSJzY3JvbGxIZWlnaHQiLG4uYXhpcz0ieSIpfSxtYWtlVmlydHVhbDpmdW5jdGlvbigpe3QuZXh0ZW5kKHRoaXMse3ZpcnR1YWw6ITAsZm9yY2VkRW5hYmxlZDohMCxfdmlydHVhbE1pbjowLF92aXJ0dWFsTWF4OjB9KX0sdmlydHVhbFNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLl92aXJ0dWFsTWluPT09dCYmdGhpcy5fdmlydHVhbE1heD09PWV8fCh0aGlzLl92aXJ0dWFsTWluPXQsdGhpcy5fdmlydHVhbE1heD1lLHRoaXMudXBkYXRlKCkpfSxvdXRPZkJvdW5kczpmdW5jdGlvbih0KXtyZXR1cm4gdD50aGlzLm1heHx8dDx0aGlzLm1pbn0sZm9yY2VFbmFibGVkOmZ1bmN0aW9uKCl7dGhpcy5mb3JjZWRFbmFibGVkPSEwfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyWzBdW3RoaXMubWVhc3VyZV19LGdldFRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudFswXVt0aGlzLnNjcm9sbFNpemVdfSxyZXNjYWxlOmZ1bmN0aW9uKHQpe3RoaXMuc2NhbGU9dH0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lLnZpcnR1YWw/ZS5fdmlydHVhbE1heDplLmdldFRvdGFsKCkscj1uKmUuc2NhbGUsaT1lLmdldFNpemUoKTsoMCE9PW58fGUuZm9yY2VkRW5hYmxlZCkmJihlLm1heD1lLnZpcnR1YWw/LWUuX3ZpcnR1YWxNaW46MCxlLnNpemU9aSxlLnRvdGFsPXIsZS5taW49TWF0aC5taW4oZS5tYXgsaS1yKSxlLm1pblNjYWxlPWkvbixlLmNlbnRlck9mZnNldD0oci1pKS8yLGUuZW5hYmxlZD1lLmZvcmNlZEVuYWJsZWR8fHI+aSx0fHxlLnRyaWdnZXIoeixlKSl9fSksUT1TLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO1MuZm4uaW5pdC5jYWxsKGUpLGUueD1uZXcgRyhDKHtob3Jpem9udGFsOiEwfSx0KSksZS55PW5ldyBHKEMoe2hvcml6b250YWw6ITF9LHQpKSxlLmNvbnRhaW5lcj10LmNvbnRhaW5lcixlLmZvcmNlZE1pblNjYWxlPXQubWluU2NhbGUsZS5tYXhTY2FsZT10Lm1heFNjYWxlfHwxMDAsZS5iaW5kKHosdCl9LHJlc2NhbGU6ZnVuY3Rpb24odCl7dGhpcy54LnJlc2NhbGUodCksdGhpcy55LnJlc2NhbGUodCksdGhpcy5yZWZyZXNoKCl9LGNlbnRlckNvb3JkaW5hdGVzOmZ1bmN0aW9uKCl7cmV0dXJue3g6TWF0aC5taW4oMCwtdGhpcy54LmNlbnRlck9mZnNldCkseTpNYXRoLm1pbigwLC10aGlzLnkuY2VudGVyT2Zmc2V0KX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QueC51cGRhdGUoKSx0LnkudXBkYXRlKCksdC5lbmFibGVkPXQueC5lbmFibGVkfHx0LnkuZW5hYmxlZCx0Lm1pblNjYWxlPXQuZm9yY2VkTWluU2NhbGV8fE1hdGgubWluKHQueC5taW5TY2FsZSx0LnkubWluU2NhbGUpLHQuZml0U2NhbGU9TWF0aC5tYXgodC54Lm1pblNjYWxlLHQueS5taW5TY2FsZSksdC50cmlnZ2VyKHopfX0pLHE9Uy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztDKGUsdCksUy5mbi5pbml0LmNhbGwoZSl9LG91dE9mQm91bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGltZW5zaW9uLm91dE9mQm91bmRzKHRoaXMubW92YWJsZVt0aGlzLmF4aXNdKX0sZHJhZ01vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWUuZGltZW5zaW9uLHI9ZS5heGlzLGk9ZS5tb3ZhYmxlLG89aVtyXSt0O24uZW5hYmxlZCYmKChvPG4ubWluJiZ0PDB8fG8+bi5tYXgmJnQ+MCkmJih0Kj1lLnJlc2lzdGFuY2UpLGkudHJhbnNsYXRlQXhpcyhyLHQpLGUudHJpZ2dlcih6LGUpKX19KSxKPUUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvLGE9dGhpcztDKGEse2VsYXN0aWM6ITB9LGUpLGk9YS5lbGFzdGljPy41OjAsbz1hLm1vdmFibGUsYS54PW49bmV3IHEoe2F4aXM6IngiLGRpbWVuc2lvbjphLmRpbWVuc2lvbnMueCxyZXNpc3RhbmNlOmksbW92YWJsZTpvfSksYS55PXI9bmV3IHEoe2F4aXM6InkiLGRpbWVuc2lvbjphLmRpbWVuc2lvbnMueSxyZXNpc3RhbmNlOmksbW92YWJsZTpvfSksYS51c2VyRXZlbnRzLmJpbmQoWyJwcmVzcyIsIm1vdmUiLCJlbmQiLCJnZXN0dXJlc3RhcnQiLCJnZXN0dXJlY2hhbmdlIl0se2dlc3R1cmVzdGFydDpmdW5jdGlvbih0KXthLmdlc3R1cmU9dCxhLm9mZnNldD1hLmRpbWVuc2lvbnMuY29udGFpbmVyLm9mZnNldCgpfSxwcmVzczpmdW5jdGlvbihlKXt0KGUuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCJhIikuaXMoIltkYXRhLW5hdmlnYXRlLW9uLXByZXNzPXRydWVdIikmJmUuc2VuZGVyLmNhbmNlbCgpfSxnZXN0dXJlY2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxsPWEuZ2VzdHVyZSxjPWwuY2VudGVyLHU9dC5jZW50ZXIsaD10LmRpc3RhbmNlL2wuZGlzdGFuY2UsZD1hLmRpbWVuc2lvbnMubWluU2NhbGUsZj1hLmRpbWVuc2lvbnMubWF4U2NhbGU7by5zY2FsZTw9ZCYmaDwxJiYoaCs9LjgqKDEtaCkpLG8uc2NhbGUqaD49ZiYmKGg9Zi9vLnNjYWxlKSxpPW8ueCthLm9mZnNldC5sZWZ0LHM9by55K2Eub2Zmc2V0LnRvcCxlPXt4OihpLWMueCkqaCt1LngtaSx5OihzLWMueSkqaCt1Lnktc30sby5zY2FsZVdpdGgoaCksbi5kcmFnTW92ZShlLngpLHIuZHJhZ01vdmUoZS55KSxhLmRpbWVuc2lvbnMucmVzY2FsZShvLnNjYWxlKSxhLmdlc3R1cmU9dCx0LnByZXZlbnREZWZhdWx0KCl9LG1vdmU6ZnVuY3Rpb24odCl7dC5ldmVudC50YXJnZXQudGFnTmFtZS5tYXRjaCgvdGV4dGFyZWF8aW5wdXQvaSl8fChuLmRpbWVuc2lvbi5lbmFibGVkfHxyLmRpbWVuc2lvbi5lbmFibGVkPyhuLmRyYWdNb3ZlKHQueC5kZWx0YSksci5kcmFnTW92ZSh0LnkuZGVsdGEpLHQucHJldmVudERlZmF1bHQoKSk6dC50b3VjaC5za2lwKCkpfSxlbmQ6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfX0pfX0pLEs9eC50cmFuc2l0aW9ucy5wcmVmaXgrIlRyYW5zZm9ybSI7Zj14Lmhhc0hXM0Q/ZnVuY3Rpb24odCxlLG4pe3JldHVybiJ0cmFuc2xhdGUzZCgiK3QrInB4LCIrZSsicHgsMCkgc2NhbGUoIituKyIpIn06ZnVuY3Rpb24odCxlLG4pe3JldHVybiJ0cmFuc2xhdGUoIit0KyJweCwiK2UrInB4KSBzY2FsZSgiK24rIikifSxwPVMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7Uy5mbi5pbml0LmNhbGwobiksbi5lbGVtZW50PXQoZSksbi5lbGVtZW50WzBdLnN0eWxlLndlYmtpdFRyYW5zZm9ybU9yaWdpbj0ibGVmdCB0b3AiLG4ueD0wLG4ueT0wLG4uc2NhbGU9MSxuLl9zYXZlQ29vcmRpbmF0ZXMoZihuLngsbi55LG4uc2NhbGUpKX0sdHJhbnNsYXRlQXhpczpmdW5jdGlvbih0LGUpe3RoaXNbdF0rPWUsdGhpcy5yZWZyZXNoKCl9LHNjYWxlVG86ZnVuY3Rpb24odCl7dGhpcy5zY2FsZT10LHRoaXMucmVmcmVzaCgpfSxzY2FsZVdpdGg6ZnVuY3Rpb24odCl7dGhpcy5zY2FsZSo9dCx0aGlzLnJlZnJlc2goKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKHQpe3RoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMucmVmcmVzaCgpfSxtb3ZlQXhpczpmdW5jdGlvbih0LGUpe3RoaXNbdF09ZSx0aGlzLnJlZnJlc2goKX0sbW92ZVRvOmZ1bmN0aW9uKHQpe0ModGhpcyx0KSx0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxuPWUueCxyPWUueTtlLnJvdW5kJiYobj1NYXRoLnJvdW5kKG4pLHI9TWF0aC5yb3VuZChyKSksdD1mKG4scixlLnNjYWxlKSx0IT1lLmNvb3JkaW5hdGVzJiYoXy5zdXBwb3J0LmJyb3dzZXIubXNpZSYmXy5zdXBwb3J0LmJyb3dzZXIudmVyc2lvbjwxMD8oZS5lbGVtZW50WzBdLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsZS5lbGVtZW50WzBdLnN0eWxlLmxlZnQ9ZS54KyJweCIsZS5lbGVtZW50WzBdLnN0eWxlLnRvcD1lLnkrInB4Iik6ZS5lbGVtZW50WzBdLnN0eWxlW0tdPXQsZS5fc2F2ZUNvb3JkaW5hdGVzKHQpLGUudHJpZ2dlcih6KSl9LF9zYXZlQ29vcmRpbmF0ZXM6ZnVuY3Rpb24odCl7dGhpcy5jb29yZGluYXRlcz10fX0pLGc9VC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXM7VC5mbi5pbml0LmNhbGwocix0LGUpLG49ci5vcHRpb25zLmdyb3VwLG4gaW4gaz9rW25dLnB1c2gocik6a1tuXT1bcl19LGV2ZW50czpbQiwkLEZdLG9wdGlvbnM6e25hbWU6IkRyb3BUYXJnZXQiLGdyb3VwOiJkZWZhdWx0In0sZGVzdHJveTpmdW5jdGlvbigpe3Moayx0aGlzKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9T1tuLm9wdGlvbnMuZ3JvdXBdO2lmKHIpcmV0dXJuIG4udHJpZ2dlcih0LEMoe30sZS5ldmVudCx7ZHJhZ2dhYmxlOnIsZHJvcFRhcmdldDplLmRyb3BUYXJnZXR9KSl9LF9vdmVyOmZ1bmN0aW9uKHQpe3RoaXMuX3RyaWdnZXIoQix0KX0sX291dDpmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKCQsdCl9LF9kcm9wOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1PW2Uub3B0aW9ucy5ncm91cF07biYmKG4uZHJvcHBlZD0hZS5fdHJpZ2dlcihGLHQpKX19KSxnLmRlc3Ryb3lHcm91cD1mdW5jdGlvbih0KXt2YXIgZSxuPWtbdF18fElbdF07aWYobil7Zm9yKGU9MDtlPG4ubGVuZ3RoO2UrKylULmZuLmRlc3Ryb3kuY2FsbChuW2VdKTtuLmxlbmd0aD0wLGRlbGV0ZSBrW3RdLGRlbGV0ZSBJW3RdfX0sZy5fY2FjaGU9ayx2PWcuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzO1QuZm4uaW5pdC5jYWxsKHIsdCxlKSxuPXIub3B0aW9ucy5ncm91cCxuIGluIEk/SVtuXS5wdXNoKHIpOklbbl09W3JdfSxkZXN0cm95OmZ1bmN0aW9uKCl7cyhJLHRoaXMpfSxvcHRpb25zOntuYW1lOiJEcm9wVGFyZ2V0QXJlYSIsZ3JvdXA6ImRlZmF1bHQiLGZpbHRlcjpudWxsfX0pLG09VC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO1QuZm4uaW5pdC5jYWxsKG4sdCxlKSxuLl9hY3RpdmF0ZWQ9ITEsbi51c2VyRXZlbnRzPW5ldyB3KG4uZWxlbWVudCx7Z2xvYmFsOiEwLGFsbG93U2VsZWN0aW9uOiEwLGZpbHRlcjpuLm9wdGlvbnMuZmlsdGVyLHRocmVzaG9sZDpuLm9wdGlvbnMuZGlzdGFuY2Usc3RhcnQ6TShuLl9zdGFydCxuKSxob2xkOk0obi5faG9sZCxuKSxtb3ZlOk0obi5fZHJhZyxuKSxlbmQ6TShuLl9lbmQsbiksY2FuY2VsOk0obi5fY2FuY2VsLG4pLHNlbGVjdDpNKG4uX3NlbGVjdCxuKX0pLF8uc3VwcG9ydC50b3VjaCYmbi5lbGVtZW50LmZpbmQobi5vcHRpb25zLmZpbHRlcikuY3NzKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksbi5fYWZ0ZXJFbmRIYW5kbGVyPU0obi5fYWZ0ZXJFbmQsbiksbi5fY2FwdHVyZUVzY2FwZT1NKG4uX2NhcHR1cmVFc2NhcGUsbil9LGV2ZW50czpbVSxQLEwsQSxOLFZdLG9wdGlvbnM6e25hbWU6IkRyYWdnYWJsZSIsZGlzdGFuY2U6Xy5zdXBwb3J0LnRvdWNoPzA6NSxncm91cDoiZGVmYXVsdCIsY3Vyc29yT2Zmc2V0Om51bGwsYXhpczpudWxsLGNvbnRhaW5lcjpudWxsLGZpbHRlcjpudWxsLGlnbm9yZTpudWxsLGhvbGRUb0RyYWc6ITEsYXV0b1Njcm9sbDohMSxkcm9wcGVkOiExfSxjYW5jZWxIb2xkOmZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZhdGVkPSExfSxfY2FwdHVyZUVzY2FwZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3Qua2V5Q29kZT09PV8ua2V5cy5FU0MmJihlLl90cmlnZ2VyKE4se2V2ZW50OnR9KSxlLnVzZXJFdmVudHMuY2FuY2VsKCkpfSxfdXBkYXRlSGludDpmdW5jdGlvbihlKXt2YXIgbixyPXRoaXMsbz1yLm9wdGlvbnMsYT1yLmJvdW5kYXJpZXMscz1vLmF4aXMsbD1yLm9wdGlvbnMuY3Vyc29yT2Zmc2V0O2w/bj17bGVmdDplLngubG9jYXRpb24rbC5sZWZ0LHRvcDplLnkubG9jYXRpb24rbC50b3B9OihyLmhpbnRPZmZzZXQubGVmdCs9ZS54LmRlbHRhLHIuaGludE9mZnNldC50b3ArPWUueS5kZWx0YSxuPXQuZXh0ZW5kKHt9LHIuaGludE9mZnNldCkpLGEmJihuLnRvcD1pKG4udG9wLGEueSksbi5sZWZ0PWkobi5sZWZ0LGEueCkpLCJ4Ij09PXM/ZGVsZXRlIG4udG9wOiJ5Ij09PXMmJmRlbGV0ZSBuLmxlZnQsci5oaW50LmNzcyhuKX0sX3Nob3VsZElnbm9yZVRhcmdldDpmdW5jdGlvbihlKXt2YXIgbj10aGlzLm9wdGlvbnMuaWdub3JlO3JldHVybiBuJiZ0KGUpLmlzKG4pfSxfc2VsZWN0OmZ1bmN0aW9uKHQpe3RoaXMuX3Nob3VsZElnbm9yZVRhcmdldCh0LmV2ZW50LnRhcmdldCl8fHQucHJldmVudERlZmF1bHQoKX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3ZhciByLGk9dGhpcyxhPWkub3B0aW9ucyxzPWEuY29udGFpbmVyP3QoYS5jb250YWluZXIpOm51bGwsbD1hLmhpbnQ7cmV0dXJuIHRoaXMuX3Nob3VsZElnbm9yZVRhcmdldChuLnRvdWNoLmluaXRpYWxUb3VjaCl8fGEuaG9sZFRvRHJhZyYmIWkuX2FjdGl2YXRlZD8oaS51c2VyRXZlbnRzLmNhbmNlbCgpLGUpOihpLmN1cnJlbnRUYXJnZXQ9bi50YXJnZXQsaS5jdXJyZW50VGFyZ2V0T2Zmc2V0PUQoaS5jdXJyZW50VGFyZ2V0KSxsJiYoaS5oaW50JiZpLmhpbnQuc3RvcCghMCwhMCkucmVtb3ZlKCksaS5oaW50PV8uaXNGdW5jdGlvbihsKT90KGwuY2FsbChpLGkuY3VycmVudFRhcmdldCkpOmwscj1EKGkuY3VycmVudFRhcmdldCksaS5oaW50T2Zmc2V0PXIsaS5oaW50LmNzcyh7cG9zaXRpb246ImFic29sdXRlIix6SW5kZXg6MmU0LGxlZnQ6ci5sZWZ0LHRvcDpyLnRvcH0pLmFwcGVuZFRvKHkuYm9keSksaS5hbmd1bGFyKCJjb21waWxlIixmdW5jdGlvbigpe2kuaGludC5yZW1vdmVBdHRyKCJuZy1yZXBlYXQiKTtmb3IodmFyIGU9dChuLnRhcmdldCk7IWUuZGF0YSgiJCRrZW5kb1Njb3BlIikmJmUubGVuZ3RoOyllPWUucGFyZW50KCk7cmV0dXJue2VsZW1lbnRzOmkuaGludC5nZXQoKSxzY29wZUZyb206ZS5kYXRhKCIkJGtlbmRvU2NvcGUiKX19KSksT1thLmdyb3VwXT1pLGkuZHJvcHBlZD0hMSxzJiYoaS5ib3VuZGFyaWVzPW8ocyxpLmhpbnQpKSx0KHkpLm9uKFcsaS5fY2FwdHVyZUVzY2FwZSksaS5fdHJpZ2dlcihQLG4pJiYoaS51c2VyRXZlbnRzLmNhbmNlbCgpLGkuX2FmdGVyRW5kKCkpLGkudXNlckV2ZW50cy5jYXB0dXJlKCksZSl9LF9ob2xkOmZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFRhcmdldD10LnRhcmdldCx0aGlzLl90cmlnZ2VyKFUsdCk/dGhpcy51c2VyRXZlbnRzLmNhbmNlbCgpOnRoaXMuX2FjdGl2YXRlZD0hMH0sX2RyYWc6ZnVuY3Rpb24oZSl7dmFyIG4scjtlLnByZXZlbnREZWZhdWx0KCksbj10aGlzLl9lbGVtZW50VW5kZXJDdXJzb3IoZSksdGhpcy5vcHRpb25zLmF1dG9TY3JvbGwmJnRoaXMuX2N1cnNvckVsZW1lbnQhPT1uJiYodGhpcy5fc2Nyb2xsYWJsZVBhcmVudD11KG4pLHRoaXMuX2N1cnNvckVsZW1lbnQ9biksdGhpcy5fbGFzdEV2ZW50PWUsdGhpcy5fcHJvY2Vzc01vdmVtZW50KGUsbiksdGhpcy5vcHRpb25zLmF1dG9TY3JvbGwmJnRoaXMuX3Njcm9sbGFibGVQYXJlbnRbMF0mJihyPWgoZS54LmxvY2F0aW9uLGUueS5sb2NhdGlvbixsKHRoaXMuX3Njcm9sbGFibGVQYXJlbnQpKSx0aGlzLl9zY3JvbGxDb21wZW5zdGF0aW9uPXQuZXh0ZW5kKHt9LHRoaXMuaGludE9mZnNldCksdGhpcy5fc2Nyb2xsVmVsb2NpdHk9ciwwPT09ci55JiYwPT09ci54PyhjbGVhckludGVydmFsKHRoaXMuX3Njcm9sbEludGVydmFsKSx0aGlzLl9zY3JvbGxJbnRlcnZhbD1udWxsKTp0aGlzLl9zY3JvbGxJbnRlcnZhbHx8KHRoaXMuX3Njcm9sbEludGVydmFsPXNldEludGVydmFsKHQucHJveHkodGhpcywiX2F1dG9TY3JvbGwiKSw1MCkpKSx0aGlzLmhpbnQmJnRoaXMuX3VwZGF0ZUhpbnQoZSl9LF9wcm9jZXNzTW92ZW1lbnQ6ZnVuY3Rpb24obixyKXt0aGlzLl93aXRoRHJvcFRhcmdldChyLGZ1bmN0aW9uKHIsaSl7aWYoIXIpcmV0dXJuIGQmJihkLl90cmlnZ2VyKCQsQyhuLHtkcm9wVGFyZ2V0OnQoZC50YXJnZXRFbGVtZW50KX0pKSxkPW51bGwpLGU7aWYoZCl7aWYoaT09PWQudGFyZ2V0RWxlbWVudClyZXR1cm47ZC5fdHJpZ2dlcigkLEMobix7ZHJvcFRhcmdldDp0KGQudGFyZ2V0RWxlbWVudCl9KSl9ci5fdHJpZ2dlcihCLEMobix7ZHJvcFRhcmdldDp0KGkpfSkpLGQ9QyhyLHt0YXJnZXRFbGVtZW50Oml9KX0pLHRoaXMuX3RyaWdnZXIoTCxDKG4se2Ryb3BUYXJnZXQ6ZCxlbGVtZW50VW5kZXJDdXJzb3I6cn0pKX0sX2F1dG9TY3JvbGw6ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG8sYSxzLGw9dGhpcy5fc2Nyb2xsYWJsZVBhcmVudFswXSx1PXRoaXMuX3Njcm9sbFZlbG9jaXR5LGg9dGhpcy5fc2Nyb2xsQ29tcGVuc3RhdGlvbjtsJiYodD10aGlzLl9lbGVtZW50VW5kZXJDdXJzb3IodGhpcy5fbGFzdEV2ZW50KSx0aGlzLl9wcm9jZXNzTW92ZW1lbnQodGhpcy5fbGFzdEV2ZW50LHQpLHI9bD09PWMoKVswXSxyPyhlPXkuYm9keS5zY3JvbGxIZWlnaHQ+Yi5oZWlnaHQoKSxuPXkuYm9keS5zY3JvbGxXaWR0aD5iLndpZHRoKCkpOihlPWwub2Zmc2V0SGVpZ2h0PD1sLnNjcm9sbEhlaWdodCxuPWwub2Zmc2V0V2lkdGg8PWwuc2Nyb2xsV2lkdGgpLGk9bC5zY3JvbGxUb3ArdS55LG89ZSYmaT4wJiZpPGwuc2Nyb2xsSGVpZ2h0LGE9bC5zY3JvbGxMZWZ0K3UueCxzPW4mJmE+MCYmYTxsLnNjcm9sbFdpZHRoLG8mJihsLnNjcm9sbFRvcCs9dS55KSxzJiYobC5zY3JvbGxMZWZ0Kz11LngpLHRoaXMuaGludCYmciYmKHN8fG8pJiYobyYmKGgudG9wKz11LnkpLHMmJihoLmxlZnQrPXUueCksdGhpcy5oaW50LmNzcyhoKSkpfSxfZW5kOmZ1bmN0aW9uKGUpe3RoaXMuX3dpdGhEcm9wVGFyZ2V0KHRoaXMuX2VsZW1lbnRVbmRlckN1cnNvcihlKSxmdW5jdGlvbihuLHIpe24mJihuLl9kcm9wKEMoe30sZSx7ZHJvcFRhcmdldDp0KHIpfSkpLGQ9bnVsbCl9KSx0aGlzLl9jYW5jZWwodGhpcy5fdHJpZ2dlcihBLGUpKX0sX2NhbmNlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2UuX3Njcm9sbGFibGVQYXJlbnQ9bnVsbCx0aGlzLl9jdXJzb3JFbGVtZW50PW51bGwsY2xlYXJJbnRlcnZhbCh0aGlzLl9zY3JvbGxJbnRlcnZhbCksZS5fYWN0aXZhdGVkPSExLGUuaGludCYmIWUuZHJvcHBlZD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5oaW50LnN0b3AoITAsITApLHQ/ZS5fYWZ0ZXJFbmRIYW5kbGVyKCk6ZS5oaW50LmFuaW1hdGUoZS5jdXJyZW50VGFyZ2V0T2Zmc2V0LCJmYXN0IixlLl9hZnRlckVuZEhhbmRsZXIpfSwwKTplLl9hZnRlckVuZCgpfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG4udHJpZ2dlcih0LEMoe30sZS5ldmVudCx7eDplLngseTplLnksY3VycmVudFRhcmdldDpuLmN1cnJlbnRUYXJnZXQsaW5pdGlhbFRhcmdldDplLnRvdWNoP2UudG91Y2guaW5pdGlhbFRvdWNoOm51bGwsZHJvcFRhcmdldDplLmRyb3BUYXJnZXQsZWxlbWVudFVuZGVyQ3Vyc29yOmUuZWxlbWVudFVuZGVyQ3Vyc29yfSkpfSxfZWxlbWVudFVuZGVyQ3Vyc29yOmZ1bmN0aW9uKHQpe3ZhciBlPUgodCkscj10aGlzLmhpbnQ7cmV0dXJuIHImJm4oclswXSxlKSYmKHIuaGlkZSgpLGU9SCh0KSxlfHwoZT1IKHQpKSxyLnNob3coKSksZX0sX3dpdGhEcm9wVGFyZ2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLm9wdGlvbnMuZ3JvdXAsaT1rW3JdLG89SVtyXTsoaSYmaS5sZW5ndGh8fG8mJm8ubGVuZ3RoKSYmKG49YSh0LGksbyksbj9lKG4udGFyZ2V0LG4udGFyZ2V0RWxlbWVudCk6ZSgpKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7VC5mbi5kZXN0cm95LmNhbGwodCksdC5fYWZ0ZXJFbmQoKSx0LnVzZXJFdmVudHMuZGVzdHJveSgpLHRoaXMuX3Njcm9sbGFibGVQYXJlbnQ9bnVsbCx0aGlzLl9jdXJzb3JFbGVtZW50PW51bGwsY2xlYXJJbnRlcnZhbCh0aGlzLl9zY3JvbGxJbnRlcnZhbCksdC5jdXJyZW50VGFyZ2V0PW51bGx9LF9hZnRlckVuZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5oaW50JiZlLmhpbnQucmVtb3ZlKCksZGVsZXRlIE9bZS5vcHRpb25zLmdyb3VwXSxlLnRyaWdnZXIoImRlc3Ryb3kiKSxlLnRyaWdnZXIoViksdCh5KS5vZmYoVyxlLl9jYXB0dXJlRXNjYXBlKX19KSxfLnVpLnBsdWdpbihnKSxfLnVpLnBsdWdpbih2KSxfLnVpLnBsdWdpbihtKSxfLlRhcENhcHR1cmU9aixfLmNvbnRhaW5lckJvdW5kYXJpZXM9byxDKF8udWkse1BhbmU6SixQYW5lRGltZW5zaW9uczpRLE1vdmFibGU6cH0pLF8udWkuRHJhZ2dhYmxlLnV0aWxzPXthdXRvU2Nyb2xsVmVsb2NpdHk6aCxzY3JvbGxhYmxlVmlld1BvcnQ6bCxmaW5kU2Nyb2xsYWJsZVBhcmVudDp1fX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbih0LGUsbil7KG58fGUpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmRyYWdhbmRkcm9wLm1pbi5qcy5tYXANCg0KLyohDQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqLw0KIWZ1bmN0aW9uKGUsZGVmaW5lKXtkZWZpbmUoImtlbmRvLnBvcHVwLm1pbiIsWyJrZW5kby5jb3JlLm1pbiJdLGUpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG8odCxvKXtyZXR1cm4hKCF0fHwhbykmJih0PT09b3x8ZS5jb250YWlucyh0LG8pKX12YXIgbixpLHMscixhPXdpbmRvdy5rZW5kbyxsPWEudWksZD1sLldpZGdldCxwPWEuQ2xhc3MsYz1hLnN1cHBvcnQsZj1hLmdldE9mZnNldCx1PWEuX291dGVyV2lkdGgsaD1hLl9vdXRlckhlaWdodCxtPSJvcGVuIixnPSJjbG9zZSIsdz0iZGVhY3RpdmF0ZSIsdj0iYWN0aXZhdGUiLF89ImNlbnRlciIsYj0ibGVmdCIseT0icmlnaHQiLGs9InRvcCIseD0iYm90dG9tIixUPSJhYnNvbHV0ZSIsej0iaGlkZGVuIixDPSJib2R5IixQPSJsb2NhdGlvbiIsUz0icG9zaXRpb24iLEU9InZpc2libGUiLEk9ImVmZmVjdHMiLFI9Imstc3RhdGUtYWN0aXZlIixBPSJrLXN0YXRlLWJvcmRlciIsRD0vay1zdGF0ZS1ib3JkZXItKFx3KykvLE89Ii5rLXBpY2tlci13cmFwLCAuay1kcm9wZG93bi13cmFwLCAuay1saW5rIixGPSJkb3duIixIPWUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSxOPWUucHJveHksVz1lKHdpbmRvdyksTD0ic2Nyb2xsIixqPWMudHJhbnNpdGlvbnMuY3NzLE09aisidHJhbnNmb3JtIixLPWUuZXh0ZW5kLFU9Ii5rZW5kb1BvcHVwIixZPVsiZm9udC1zaXplIiwiZm9udC1mYW1pbHkiLCJmb250LXN0cmV0Y2giLCJmb250LXN0eWxlIiwiZm9udC13ZWlnaHQiLCJsaW5lLWhlaWdodCJdLFE9ZC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxvKXt2YXIgbixpPXRoaXM7bz1vfHx7fSxvLmlzUnRsJiYoby5vcmlnaW49by5vcmlnaW58fHgrIiAiK3ksby5wb3NpdGlvbj1vLnBvc2l0aW9ufHxrKyIgIit5KSxkLmZuLmluaXQuY2FsbChpLHQsbyksdD1pLmVsZW1lbnQsbz1pLm9wdGlvbnMsaS5jb2xsaXNpb25zPW8uY29sbGlzaW9uP28uY29sbGlzaW9uLnNwbGl0KCIgIik6W10saS5kb3duRXZlbnQ9YS5hcHBseUV2ZW50TWFwKEYsYS5ndWlkKCkpLDE9PT1pLmNvbGxpc2lvbnMubGVuZ3RoJiZpLmNvbGxpc2lvbnMucHVzaChpLmNvbGxpc2lvbnNbMF0pLG49ZShpLm9wdGlvbnMuYW5jaG9yKS5jbG9zZXN0KCIuay1wb3B1cCwuay1ncm91cCIpLmZpbHRlcigiOm5vdChbY2xhc3NePWttLV0pIiksby5hcHBlbmRUbz1lKGUoby5hcHBlbmRUbylbMF18fG5bMF18fGRvY3VtZW50LmJvZHkpLGkuZWxlbWVudC5oaWRlKCkuYWRkQ2xhc3MoImstcG9wdXAgay1ncm91cCBrLXJlc2V0IikudG9nZ2xlQ2xhc3MoImstcnRsIiwhIW8uaXNSdGwpLmNzcyh7cG9zaXRpb246VH0pLmFwcGVuZFRvKG8uYXBwZW5kVG8pLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkub24oIm1vdXNlZW50ZXIiK1UsZnVuY3Rpb24oKXtpLl9ob3ZlcmVkPSEwfSkub24oIndoZWVsIitVLGZ1bmN0aW9uKHQpe3ZhciBvPWUodC50YXJnZXQpLmZpbmQoIi5rLWxpc3QiKSxuPW8ucGFyZW50KCk7by5sZW5ndGgmJm8uaXMoIjp2aXNpYmxlIikmJigwPT09bi5zY3JvbGxUb3AoKSYmdC5vcmlnaW5hbEV2ZW50LmRlbHRhWTwwfHxuLnNjcm9sbFRvcCgpPT09bi5wcm9wKCJzY3JvbGxIZWlnaHQiKS1uLnByb3AoIm9mZnNldEhlaWdodCIpJiZ0Lm9yaWdpbmFsRXZlbnQuZGVsdGFZPjApJiZ0LnByZXZlbnREZWZhdWx0KCl9KS5vbigibW91c2VsZWF2ZSIrVSxmdW5jdGlvbigpe2kuX2hvdmVyZWQ9ITF9KSxpLndyYXBwZXI9ZSgpLG8uYW5pbWF0aW9uPT09ITEmJihvLmFuaW1hdGlvbj17b3Blbjp7ZWZmZWN0czp7fX0sY2xvc2U6e2hpZGU6ITAsZWZmZWN0czp7fX19KSxLKG8uYW5pbWF0aW9uLm9wZW4se2NvbXBsZXRlOmZ1bmN0aW9uKCl7aS53cmFwcGVyLmNzcyh7b3ZlcmZsb3c6RX0pLGkuX2FjdGl2YXRlZD0hMCxpLl90cmlnZ2VyKHYpfX0pLEsoby5hbmltYXRpb24uY2xvc2Use2NvbXBsZXRlOmZ1bmN0aW9uKCl7aS5fYW5pbWF0aW9uQ2xvc2UoKX19KSxpLl9tb3VzZWRvd25Qcm94eT1mdW5jdGlvbihlKXtpLl9tb3VzZWRvd24oZSl9LGkuX3Jlc2l6ZVByb3h5PWMubW9iaWxlT1MuYW5kcm9pZD9mdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5fcmVzaXplKGUpfSw2MDApfTpmdW5jdGlvbihlKXtpLl9yZXNpemUoZSl9LG8udG9nZ2xlVGFyZ2V0JiZlKG8udG9nZ2xlVGFyZ2V0KS5vbihvLnRvZ2dsZUV2ZW50K1UsZS5wcm94eShpLnRvZ2dsZSxpKSl9LGV2ZW50czpbbSx2LGcsd10sb3B0aW9uczp7bmFtZToiUG9wdXAiLHRvZ2dsZUV2ZW50OiJjbGljayIsb3JpZ2luOngrIiAiK2IscG9zaXRpb246aysiICIrYixhbmNob3I6QyxhcHBlbmRUbzpudWxsLGNvbGxpc2lvbjoiZmxpcCBmaXQiLHZpZXdwb3J0OndpbmRvdyxjb3B5QW5jaG9yU3R5bGVzOiEwLGF1dG9zaXplOiExLG1vZGFsOiExLGFkanVzdFNpemU6e3dpZHRoOjAsaGVpZ2h0OjB9LGFuaW1hdGlvbjp7b3Blbjp7ZWZmZWN0czoic2xpZGVJbjpkb3duIix0cmFuc2l0aW9uOiEwLGR1cmF0aW9uOjIwMH0sY2xvc2U6e2R1cmF0aW9uOjEwMCxoaWRlOiEwfX19LF9hbmltYXRpb25DbG9zZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLndyYXBwZXIuZGF0YShQKTtlLndyYXBwZXIuaGlkZSgpLHQmJmUud3JhcHBlci5jc3ModCksZS5vcHRpb25zLmFuY2hvciE9QyYmZS5faGlkZURpckNsYXNzKCksZS5fY2xvc2luZz0hMSxlLl90cmlnZ2VyKHcpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQsbz10aGlzLG49by5vcHRpb25zLGk9by5lbGVtZW50Lm9mZihVKTtkLmZuLmRlc3Ryb3kuY2FsbChvKSxuLnRvZ2dsZVRhcmdldCYmZShuLnRvZ2dsZVRhcmdldCkub2ZmKFUpLG4ubW9kYWx8fChILm9mZihvLmRvd25FdmVudCxvLl9tb3VzZWRvd25Qcm94eSksby5fdG9nZ2xlUmVzaXplKCExKSksYS5kZXN0cm95KG8uZWxlbWVudC5jaGlsZHJlbigpKSxpLnJlbW92ZURhdGEoKSxuLmFwcGVuZFRvWzBdPT09ZG9jdW1lbnQuYm9keSYmKHQ9aS5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIiKSx0WzBdP3QucmVtb3ZlKCk6aS5yZW1vdmUoKSl9LG9wZW46ZnVuY3Rpb24odCxvKXt2YXIgbixpLHM9dGhpcyxyPXtpc0ZpeGVkOiFpc05hTihwYXJzZUludChvLDEwKSkseDp0LHk6b30sbD1zLmVsZW1lbnQsZD1zLm9wdGlvbnMscD1lKGQuYW5jaG9yKSxmPWxbMF0mJmwuaGFzQ2xhc3MoImttLXdpZGdldCIpO2lmKCFzLnZpc2libGUoKSl7aWYoZC5jb3B5QW5jaG9yU3R5bGVzJiYoZiYmImZvbnQtc2l6ZSI9PVlbMF0mJlkuc2hpZnQoKSxsLmNzcyhhLmdldENvbXB1dGVkU3R5bGVzKHBbMF0sWSkpKSxsLmRhdGEoImFuaW1hdGluZyIpfHxzLl90cmlnZ2VyKG0pKXJldHVybjtzLl9hY3RpdmF0ZWQ9ITEsZC5tb2RhbHx8KEgub2ZmKHMuZG93bkV2ZW50LHMuX21vdXNlZG93blByb3h5KS5vbihzLmRvd25FdmVudCxzLl9tb3VzZWRvd25Qcm94eSkscy5fdG9nZ2xlUmVzaXplKCExKSxzLl90b2dnbGVSZXNpemUoITApKSxzLndyYXBwZXI9aT1hLndyYXAobCxkLmF1dG9zaXplKS5jc3Moe292ZXJmbG93OnosZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOlR9KS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpLGMubW9iaWxlT1MuYW5kcm9pZCYmaS5jc3MoTSwidHJhbnNsYXRleigwKSIpLGkuY3NzKFMpLGUoZC5hcHBlbmRUbylbMF09PWRvY3VtZW50LmJvZHkmJmkuY3NzKGssIi0xMDAwMHB4Iikscy5mbGlwcGVkPXMuX3Bvc2l0aW9uKHIpLG49cy5fb3BlbkFuaW1hdGlvbigpLGQuYW5jaG9yIT1DJiZzLl9zaG93RGlyQ2xhc3MobiksbC5kYXRhKEksbi5lZmZlY3RzKS5rZW5kb1N0b3AoITApLmtlbmRvQW5pbWF0ZShuKS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpfX0sX2xvY2F0aW9uOmZ1bmN0aW9uKHQpe3ZhciBvLG4saT10aGlzLHM9aS5lbGVtZW50LHI9aS5vcHRpb25zLGw9ZShyLmFuY2hvciksZD1zWzBdJiZzLmhhc0NsYXNzKCJrbS13aWRnZXQiKTtyZXR1cm4gci5jb3B5QW5jaG9yU3R5bGVzJiYoZCYmImZvbnQtc2l6ZSI9PVlbMF0mJlkuc2hpZnQoKSxzLmNzcyhhLmdldENvbXB1dGVkU3R5bGVzKGxbMF0sWSkpKSxpLndyYXBwZXI9bz1hLndyYXAocyxyLmF1dG9zaXplKS5jc3Moe292ZXJmbG93OnosZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOlR9KSxjLm1vYmlsZU9TLmFuZHJvaWQmJm8uY3NzKE0sInRyYW5zbGF0ZXooMCkiKSxvLmNzcyhTKSxlKHIuYXBwZW5kVG8pWzBdPT1kb2N1bWVudC5ib2R5JiZvLmNzcyhrLCItMTAwMDBweCIpLGkuX3Bvc2l0aW9uKHR8fHt9KSxuPW8ub2Zmc2V0KCkse3dpZHRoOmEuX291dGVyV2lkdGgobyksaGVpZ2h0OmEuX291dGVySGVpZ2h0KG8pLGxlZnQ6bi5sZWZ0LHRvcDpuLnRvcH19LF9vcGVuQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9SyghMCx7fSx0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLm9wZW4pO3JldHVybiBlLmVmZmVjdHM9YS5wYXJzZUVmZmVjdHMoZS5lZmZlY3RzLHRoaXMuZmxpcHBlZCksZX0sX2hpZGVEaXJDbGFzczpmdW5jdGlvbigpe3ZhciB0PWUodGhpcy5vcHRpb25zLmFuY2hvciksbz0oKHQuYXR0cigiY2xhc3MiKXx8IiIpLm1hdGNoKEQpfHxbIiIsImRvd24iXSlbMV0sbj1BKyItIitvO3QucmVtb3ZlQ2xhc3MobikuY2hpbGRyZW4oTykucmVtb3ZlQ2xhc3MoUikucmVtb3ZlQ2xhc3MobiksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKEErIi0iK2EuZGlyZWN0aW9uc1tvXS5yZXZlcnNlKX0sX3Nob3dEaXJDbGFzczpmdW5jdGlvbih0KXt2YXIgbz10LmVmZmVjdHMuc2xpZGVJbj90LmVmZmVjdHMuc2xpZGVJbi5kaXJlY3Rpb246ImRvd24iLG49QSsiLSIrbztlKHRoaXMub3B0aW9ucy5hbmNob3IpLmFkZENsYXNzKG4pLmNoaWxkcmVuKE8pLmFkZENsYXNzKFIpLmFkZENsYXNzKG4pLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhBKyItIithLmRpcmVjdGlvbnNbb10ucmV2ZXJzZSl9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy52aXNpYmxlKCkmJih0aGlzLmZsaXBwZWQ9dGhpcy5fcG9zaXRpb24oKSl9LHRvZ2dsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZVtlLnZpc2libGUoKT9nOm1dKCl9LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmlzKCI6IitFKX0sY2xvc2U6ZnVuY3Rpb24obyl7dmFyIG4saSxzLHIsbD10aGlzLGQ9bC5vcHRpb25zO2lmKGwudmlzaWJsZSgpKXtpZihuPWwud3JhcHBlclswXT9sLndyYXBwZXI6YS53cmFwKGwuZWxlbWVudCkuaGlkZSgpLGwuX3RvZ2dsZVJlc2l6ZSghMSksbC5fY2xvc2luZ3x8bC5fdHJpZ2dlcihnKSlyZXR1cm4gbC5fdG9nZ2xlUmVzaXplKCEwKSx0O2wuZWxlbWVudC5maW5kKCIuay1wb3B1cCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5kYXRhKCJrZW5kb1BvcHVwIik7biYmbi5jbG9zZShvKX0pLEgub2ZmKGwuZG93bkV2ZW50LGwuX21vdXNlZG93blByb3h5KSxvP2k9e2hpZGU6ITAsZWZmZWN0czp7fX06KGk9SyghMCx7fSxkLmFuaW1hdGlvbi5jbG9zZSkscz1sLmVsZW1lbnQuZGF0YShJKSxyPWkuZWZmZWN0cywhciYmIWEuc2l6ZShyKSYmcyYmYS5zaXplKHMpJiYoaS5lZmZlY3RzPXMsaS5yZXZlcnNlPSEwKSxsLl9jbG9zaW5nPSEwKSxsLmVsZW1lbnQua2VuZG9TdG9wKCEwKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLG4uY3NzKHtvdmVyZmxvdzp6fSkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKSxsLmVsZW1lbnQua2VuZG9BbmltYXRlKGkpLG8mJmwuX2FuaW1hdGlvbkNsb3NlKCl9fSxfdHJpZ2dlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmlnZ2VyKGUse3R5cGU6ZX0pfSxfcmVzaXplOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Yy5yZXNpemUuaW5kZXhPZihlLnR5cGUpIT09LTE/KGNsZWFyVGltZW91dCh0Ll9yZXNpemVUaW1lb3V0KSx0Ll9yZXNpemVUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9wb3NpdGlvbigpLHQuX3Jlc2l6ZVRpbWVvdXQ9bnVsbH0sNTApKTooIXQuX2hvdmVyZWR8fHQuX2FjdGl2YXRlZCYmdC5lbGVtZW50Lmhhc0NsYXNzKCJrLWxpc3QtY29udGFpbmVyIikpJiZ0LmNsb3NlKCl9LF90b2dnbGVSZXNpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZT8ib24iOiJvZmYiLG89Yy5yZXNpemU7Yy5tb2JpbGVPUy5pb3N8fGMubW9iaWxlT1MuYW5kcm9pZHx8Yy5icm93c2VyLnNhZmFyaXx8KG8rPSIgIitMKSxlJiYhdGhpcy5zY3JvbGxhYmxlUGFyZW50cyYmKHRoaXMuc2Nyb2xsYWJsZVBhcmVudHM9dGhpcy5fc2Nyb2xsYWJsZVBhcmVudHMoKSksdGhpcy5zY3JvbGxhYmxlUGFyZW50cyYmdGhpcy5zY3JvbGxhYmxlUGFyZW50cy5sZW5ndGgmJnRoaXMuc2Nyb2xsYWJsZVBhcmVudHNbdF0oTCx0aGlzLl9yZXNpemVQcm94eSksV1t0XShvLHRoaXMuX3Jlc2l6ZVByb3h5KX0sX21vdXNlZG93bjpmdW5jdGlvbih0KXt2YXIgbj10aGlzLGk9bi5lbGVtZW50WzBdLHM9bi5vcHRpb25zLHI9ZShzLmFuY2hvcilbMF0sbD1zLnRvZ2dsZVRhcmdldCxkPWEuZXZlbnRUYXJnZXQodCkscD1lKGQpLmNsb3Nlc3QoIi5rLXBvcHVwIiksYz1wLnBhcmVudCgpLnBhcmVudCgiLmttLXNoaW0iKS5sZW5ndGg7cD1wWzBdLCFjJiZwJiZwIT09bi5lbGVtZW50WzBdfHwicG9wb3ZlciIhPT1lKHQudGFyZ2V0KS5jbG9zZXN0KCJhIikuZGF0YSgicmVsIikmJihvKGksZCl8fG8ocixkKXx8bCYmbyhlKGwpWzBdLGQpfHxuLmNsb3NlKCkpfSxfZml0OmZ1bmN0aW9uKGUsdCxvKXt2YXIgbj0wO3JldHVybiBlK3Q+byYmKG49by0oZSt0KSksZTwwJiYobj0tZSksbn0sX2ZsaXA6ZnVuY3Rpb24oZSx0LG8sbixpLHMscil7dmFyIGE9MDtyZXR1cm4gcj1yfHx0LHMhPT1pJiZzIT09XyYmaSE9PV8mJihlK3I+biYmKGErPS0obyt0KSksZSthPDAmJihhKz1vK3QpKSxhfSxfc2Nyb2xsYWJsZVBhcmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLm9wdGlvbnMuYW5jaG9yKS5wYXJlbnRzVW50aWwoImJvZHkiKS5maWx0ZXIoZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5pc1Njcm9sbGFibGUodCl9KX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBvLG4saSxzLHIsbCxkLHAsbSxnLHcsdixfLGIseSxrLHgsej10aGlzLEM9ei5lbGVtZW50LEU9ei53cmFwcGVyLEk9ei5vcHRpb25zLFI9ZShJLnZpZXdwb3J0KSxBPWMuem9vbUxldmVsKCksRD0hIShSWzBdPT13aW5kb3cmJndpbmRvdy5pbm5lcldpZHRoJiZBPD0xLjAyKSxPPWUoSS5hbmNob3IpLEY9SS5vcmlnaW4udG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLEg9SS5wb3NpdGlvbi50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksTj16LmNvbGxpc2lvbnMsVz0xMDAwMixMPTAsaj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7aWYocj1JLnZpZXdwb3J0PT09d2luZG93P3t0b3A6d2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHwwLGxlZnQ6d2luZG93LnBhZ2VYT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8MH06Ui5vZmZzZXQoKSxEPyhsPXdpbmRvdy5pbm5lcldpZHRoLGQ9d2luZG93LmlubmVySGVpZ2h0KToobD1SLndpZHRoKCksZD1SLmhlaWdodCgpKSxEJiZqLnNjcm9sbEhlaWdodC1qLmNsaWVudEhlaWdodD4wJiYocD1JLmlzUnRsPy0xOjEsbC09cCphLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLG89Ty5wYXJlbnRzKCkuZmlsdGVyKEUuc2libGluZ3MoKSksb1swXSlpZihpPU1hdGgubWF4KCtvLmNzcygiekluZGV4IiksMCkpVz1pKzEwO2Vsc2UgZm9yKG49Ty5wYXJlbnRzVW50aWwobykscz1uLmxlbmd0aDtMPHM7TCsrKWk9K2UobltMXSkuY3NzKCJ6SW5kZXgiKSxpJiZXPGkmJihXPWkrMTApO3JldHVybiBFLmNzcygiekluZGV4IixXKSxFLmNzcyh0JiZ0LmlzRml4ZWQ/e2xlZnQ6dC54LHRvcDp0Lnl9OnouX2FsaWduKEYsSCkpLG09ZihFLFMsT1swXT09PUUub2Zmc2V0UGFyZW50KClbMF0pLGc9ZihFKSx3PU8ub2Zmc2V0UGFyZW50KCkucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyLC5rLXBvcHVwLC5rLWdyb3VwIiksdy5sZW5ndGgmJihtPWYoRSxTLCEwKSxnPWYoRSkpLGcudG9wLT1yLnRvcCxnLmxlZnQtPXIubGVmdCx6LndyYXBwZXIuZGF0YShQKXx8RS5kYXRhKFAsSyh7fSxtKSksdj1LKHt9LGcpLF89Syh7fSxtKSxiPUkuYWRqdXN0U2l6ZSwiZml0Ij09PU5bMF0mJihfLnRvcCs9ei5fZml0KHYudG9wLGgoRSkrYi5oZWlnaHQsZC9BKSksImZpdCI9PT1OWzFdJiYoXy5sZWZ0Kz16Ll9maXQodi5sZWZ0LHUoRSkrYi53aWR0aCxsL0EpKSx5PUsoe30sXyksaz1oKEMpLHg9aChFKSwhRS5oZWlnaHQoKSYmayYmKHgrPWspLCJmbGlwIj09PU5bMF0mJihfLnRvcCs9ei5fZmxpcCh2LnRvcCxrLGgoTyksZC9BLEZbMF0sSFswXSx4KSksImZsaXAiPT09TlsxXSYmKF8ubGVmdCs9ei5fZmxpcCh2LmxlZnQsdShDKSx1KE8pLGwvQSxGWzFdLEhbMV0sdShFKSkpLEMuY3NzKFMsVCksRS5jc3MoXyksXy5sZWZ0IT15LmxlZnR8fF8udG9wIT15LnRvcH0sX2FsaWduOmZ1bmN0aW9uKHQsbyl7dmFyIG4saT10aGlzLHM9aS53cmFwcGVyLHI9ZShpLm9wdGlvbnMuYW5jaG9yKSxhPXRbMF0sbD10WzFdLGQ9b1swXSxwPW9bMV0sYz1mKHIpLG09ZShpLm9wdGlvbnMuYXBwZW5kVG8pLGc9dShzKSx3PWgocyl8fGgocy5jaGlsZHJlbigpLmZpcnN0KCkpLHY9dShyKSxiPWgociksaz1jLnRvcCxUPWMubGVmdCx6PU1hdGgucm91bmQ7cmV0dXJuIG1bMF0hPWRvY3VtZW50LmJvZHkmJihuPWYobSksay09bi50b3AsVC09bi5sZWZ0KSxhPT09eCYmKGsrPWIpLGE9PT1fJiYoays9eihiLzIpKSxkPT09eCYmKGstPXcpLGQ9PT1fJiYoay09eih3LzIpKSxsPT09eSYmKFQrPXYpLGw9PT1fJiYoVCs9eih2LzIpKSxwPT09eSYmKFQtPWcpLHA9PT1fJiYoVC09eihnLzIpKSx7dG9wOmssbGVmdDpUfX19KTtsLnBsdWdpbihRKSxuPWEuc3VwcG9ydC5zdGFibGVTb3J0LGk9ImtlbmRvVGFiS2V5VHJhcCIscz0iYVtocmVmXSwgYXJlYVtocmVmXSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIGlmcmFtZSwgb2JqZWN0LCBlbWJlZCwgW3RhYmluZGV4XSwgKltjb250ZW50ZWRpdGFibGVdIixyPXAuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3RoaXMuZWxlbWVudD1lKHQpLHRoaXMuZWxlbWVudC5hdXRvQXBwbHlOUyhpKX0sdHJhcDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbigia2V5ZG93biIsTih0aGlzLl9rZWVwSW5UcmFwLHRoaXMpKX0scmVtb3ZlVHJhcDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5rZW5kb0Rlc3Ryb3koaSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQua2VuZG9EZXN0cm95KGkpLHRoaXMuZWxlbWVudD10fSxzaG91bGRUcmFwOmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9rZWVwSW5UcmFwOmZ1bmN0aW9uKGUpe3ZhciB0LG8sbjs5PT09ZS53aGljaCYmdGhpcy5zaG91bGRUcmFwKCkmJiFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD10aGlzLl9mb2N1c2FibGVFbGVtZW50cygpLG89dGhpcy5fc29ydEZvY3VzYWJsZUVsZW1lbnRzKHQpLG49dGhpcy5fbmV4dEZvY3VzYWJsZShlLG8pLHRoaXMuX2ZvY3VzKG4pLGUucHJldmVudERlZmF1bHQoKSl9LF9mb2N1c2FibGVFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKHMpLmZpbHRlcihmdW5jdGlvbih0LG8pe3JldHVybiBvLnRhYkluZGV4Pj0wJiZlKG8pLmlzKCI6dmlzaWJsZSIpJiYhZShvKS5pcygiW2Rpc2FibGVkXSIpfSk7cmV0dXJuIHRoaXMuZWxlbWVudC5pcygiW3RhYmluZGV4XSIpJiZ0LnB1c2godGhpcy5lbGVtZW50WzBdKSx0fSxfc29ydEZvY3VzYWJsZUVsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0LG87cmV0dXJuIG4/dD1lLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50YWJJbmRleC10LnRhYkluZGV4fSk6KG89Il9fa19pbmRleCIsZS5lYWNoKGZ1bmN0aW9uKGUsdCl7dC5zZXRBdHRyaWJ1dGUobyxlKX0pLHQ9ZS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGFiSW5kZXg9PT10LnRhYkluZGV4P3BhcnNlSW50KGUuZ2V0QXR0cmlidXRlKG8pLDEwKS1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShvKSwxMCk6ZS50YWJJbmRleC10LnRhYkluZGV4fSksZS5yZW1vdmVBdHRyKG8pKSx0fSxfbmV4dEZvY3VzYWJsZTpmdW5jdGlvbihlLHQpe3ZhciBvPXQubGVuZ3RoLG49dC5pbmRleChlLnRhcmdldCk7cmV0dXJuIHQuZ2V0KChuKyhlLnNoaWZ0S2V5Py0xOjEpKSVvKX0sX2ZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiJJRlJBTUUiPT1lLm5vZGVOYW1lPyhlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keS5mb2N1cygpLHQpOihlLmZvY3VzKCksIklOUFVUIj09ZS5ub2RlTmFtZSYmZS5zZXRTZWxlY3Rpb25SYW5nZSYmdGhpcy5faGF2ZVNlbGVjdGlvblJhbmdlKGUpJiZlLnNldFNlbGVjdGlvblJhbmdlKDAsZS52YWx1ZS5sZW5ndGgpLHQpfSxfaGF2ZVNlbGVjdGlvblJhbmdlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZS50b0xvd2VyQ2FzZSgpO3JldHVybiJ0ZXh0Ij09PXR8fCJzZWFyY2giPT09dHx8InVybCI9PT10fHwidGVsIj09PXR8fCJwYXNzd29yZCI9PT10fX0pLGwuUG9wdXAuVGFiS2V5VHJhcD1yfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKGUsdCxvKXsob3x8dCkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8ucG9wdXAubWluLmpzLm1hcA0KDQovKiENCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQohZnVuY3Rpb24odCxkZWZpbmUpe2RlZmluZSgia2VuZG8ud2luZG93Lm1pbiIsWyJrZW5kby5kcmFnYW5kZHJvcC5taW4iLCJrZW5kby5wb3B1cC5taW4iXSx0KX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKHQpe3JldHVybiBpIT09dH1mdW5jdGlvbiBuKHQsaSl7cmV0dXJuIHBhcnNlSW50KHQuY3NzKGkpLDEwKXx8MH1mdW5jdGlvbiBvKHQsaSxlKXt2YXIgbjtyZXR1cm4gbj10JiZpc05hTih0KSYmKCIiK3QpLmluZGV4T2YoInB4Iik8MD90Ok1hdGgubWF4KE1hdGgubWluKHBhcnNlSW50KHQsMTApLGU9PT0xLzA/ZTpwYXJzZUludChlLDEwKSksaT09PS0oMS8wKT9pOnBhcnNlSW50KGksMTApKX1mdW5jdGlvbiBzKCl7cmV0dXJuIXRoaXMudHlwZXx8dGhpcy50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigic2NyaXB0Iik+PTB9ZnVuY3Rpb24gcihpKXtmb3IodmFyIGUsbixvPXt0b3A6aS5vZmZzZXRUb3AsbGVmdDppLm9mZnNldExlZnR9LHM9aS5vZmZzZXRQYXJlbnQ7czspby50b3ArPXMub2Zmc2V0VG9wLG8ubGVmdCs9cy5vZmZzZXRMZWZ0LGU9dChzKS5jc3MoIm92ZXJmbG93WCIpLG49dChzKS5jc3MoIm92ZXJmbG93WSIpLCJhdXRvIiE9PW4mJiJzY3JvbGwiIT09bnx8KG8udG9wLT1zLnNjcm9sbFRvcCksImF1dG8iIT09ZSYmInNjcm9sbCIhPT1lfHwoby5sZWZ0LT1zLnNjcm9sbExlZnQpLHM9cy5vZmZzZXRQYXJlbnQ7cmV0dXJuIG99ZnVuY3Rpb24gYSh0KXt2YXIgaT10aGlzO2kub3duZXI9dCxpLl9wcmV2ZW50RHJhZ2dpbmc9ITEsaS5fZHJhZ2dhYmxlPW5ldyBoKHQud3JhcHBlcix7ZmlsdGVyOiI+IitPLGdyb3VwOnQud3JhcHBlci5pZCsiLXJlc2l6aW5nIixkcmFnc3RhcnQ6dyhpLmRyYWdzdGFydCxpKSxkcmFnOncoaS5kcmFnLGkpLGRyYWdlbmQ6dyhpLmRyYWdlbmQsaSl9KSxpLl9kcmFnZ2FibGUudXNlckV2ZW50cy5iaW5kKCJwcmVzcyIsdyhpLmFkZE92ZXJsYXksaSkpLGkuX2RyYWdnYWJsZS51c2VyRXZlbnRzLmJpbmQoInJlbGVhc2UiLHcoaS5yZW1vdmVPdmVybGF5LGkpKX1mdW5jdGlvbiBsKHQsaSl7dmFyIGU9dGhpcztlLm93bmVyPXQsZS5fcHJldmVudERyYWdnaW5nPSExLGUuX2RyYWdnYWJsZT1uZXcgaCh0LndyYXBwZXIse2ZpbHRlcjppLGdyb3VwOnQud3JhcHBlci5pZCsiLW1vdmluZyIsZHJhZ3N0YXJ0OncoZS5kcmFnc3RhcnQsZSksZHJhZzp3KGUuZHJhZyxlKSxkcmFnZW5kOncoZS5kcmFnZW5kLGUpLGRyYWdjYW5jZWw6dyhlLmRyYWdjYW5jZWwsZSl9KSxlLl9kcmFnZ2FibGUudXNlckV2ZW50cy5zdG9wUHJvcGFnYXRpb249ITF9dmFyIGQ9d2luZG93LmtlbmRvLHA9ZC51aS5XaWRnZXQsYz1kLnVpLlBvcHVwLlRhYktleVRyYXAsaD1kLnVpLkRyYWdnYWJsZSxmPXQuaXNQbGFpbk9iamVjdCxtPWQuX2FjdGl2ZUVsZW1lbnQsZz1kLl9vdXRlcldpZHRoLHU9ZC5fb3V0ZXJIZWlnaHQsdz10LnByb3h5LF89dC5leHRlbmQsdj10LmVhY2gseD1kLnRlbXBsYXRlLGI9ImJvZHkiLHo9Ii5rZW5kb1dpbmRvdyIsaz0iLmtlbmRvV2luZG93TW9kYWwiLFQ9Ii5rLXdpbmRvdyIseT0iLmstd2luZG93LXRpdGxlIixMPXkrImJhciIsTT0iLmstd2luZG93LWNvbnRlbnQiLFA9Ii5rLWRpYWxvZy1jb250ZW50IixPPSIuay1yZXNpemUtaGFuZGxlIixXPSIuay1vdmVybGF5IixTPSJrLWNvbnRlbnQtZnJhbWUiLEg9ImstaS1sb2FkaW5nIixEPSJrLXN0YXRlLWhvdmVyIixJPSJrLXN0YXRlLWZvY3VzZWQiLEM9Imstd2luZG93LW1heGltaXplZCIsRT0iOnZpc2libGUiLEY9ImhpZGRlbiIsUj0iY3Vyc29yIixqPSJvcGVuIixBPSJhY3RpdmF0ZSIsTj0iZGVhY3RpdmF0ZSIsSz0iY2xvc2UiLEI9InJlZnJlc2giLHE9Im1pbmltaXplIixVPSJtYXhpbWl6ZSIsRz0icmVzaXplU3RhcnQiLEo9InJlc2l6ZSIsVj0icmVzaXplRW5kIixRPSJkcmFnc3RhcnQiLFg9ImRyYWdlbmQiLFk9ImVycm9yIiwkPSJvdmVyZmxvdyIsWj0ib3JpZ2luYWwtb3ZlcmZsb3ctcnVsZSIsdHQ9InpJbmRleCIsaXQ9Ii5rLXdpbmRvdy1hY3Rpb25zIC5rLWktd2luZG93LW1pbmltaXplLC5rLXdpbmRvdy1hY3Rpb25zIC5rLWktd2luZG93LW1heGltaXplIixldD0iLmstaS1waW4iLG50PSIuay1pLXVucGluIixvdD1ldCsiLCIrbnQsc3Q9Ii5rLXdpbmRvdy10aXRsZWJhciAuay13aW5kb3ctYWN0aW9uIixydD0iLmstd2luZG93LXRpdGxlYmFyIC5rLWktcmVmcmVzaCIsYXQ9IldpbmRvd0V2ZW50c0hhbmRsZWQiLGx0PS9eMFthLXpdKiQvaSxkdD1kLmlzTG9jYWxVcmwscHQ9e3NtYWxsOiJrLXdpbmRvdy1zbSIsbWVkaXVtOiJrLXdpbmRvdy1tZCIsbGFyZ2U6Imstd2luZG93LWxnIn0sY3Q9cC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obixvKXt2YXIgcixhLGwsaCxtLGcsdSxfLHYseD10aGlzLGI9e30saz0hMSxPPW8mJm8uYWN0aW9ucyYmIW8uYWN0aW9ucy5sZW5ndGg7cC5mbi5pbml0LmNhbGwoeCxuLG8pLG89eC5vcHRpb25zLGg9by5wb3NpdGlvbixuPXguZWxlbWVudCxtPW8uY29udGVudCxfPXQod2luZG93KSxPJiYoby5hY3Rpb25zPVtdKSx4LmFwcGVuZFRvPXQoby5hcHBlbmRUbykseC5jb250YWlubWVudD1vLmRyYWdnYWJsZS5jb250YWlubWVudD90KG8uZHJhZ2dhYmxlLmNvbnRhaW5tZW50KS5maXJzdCgpOm51bGwsbSYmIWYobSkmJihtPW8uY29udGVudD17dXJsOm19KSxuLmZpbmQoInNjcmlwdCIpLmZpbHRlcihzKS5yZW1vdmUoKSxuLnBhcmVudCgpLmlzKHguYXBwZW5kVG8pfHx4LmNvbnRhaW5tZW50fHxoLnRvcCE9PWkmJmgubGVmdCE9PWl8fChuLmlzKEUpPyhiPW4ub2Zmc2V0KCksaz0hMCk6KGE9bi5jc3MoInZpc2liaWxpdHkiKSxsPW4uY3NzKCJkaXNwbGF5Iiksbi5jc3Moe3Zpc2liaWxpdHk6RixkaXNwbGF5OiIifSksYj1uLm9mZnNldCgpLG4uY3NzKHt2aXNpYmlsaXR5OmEsZGlzcGxheTpsfSkpLGgudG9wPT09aSYmKGgudG9wPWIudG9wKSxoLmxlZnQ9PT1pJiYoaC5sZWZ0PWIubGVmdCkpLGUoby52aXNpYmxlKSYmbnVsbCE9PW8udmlzaWJsZXx8KG8udmlzaWJsZT1uLmlzKEUpKSxyPXgud3JhcHBlcj1uLmNsb3Nlc3QoVCksbi5pcygiLmstY29udGVudCIpJiZyWzBdfHwobi5hZGRDbGFzcygiay13aW5kb3ctY29udGVudCBrLWNvbnRlbnQiKSx4Ll9jcmVhdGVXaW5kb3cobixvKSxyPXgud3JhcHBlcj1uLmNsb3Nlc3QoVCkseC50aXRsZSh4Lm9wdGlvbnMudGl0bGUpLHguX2RpbWVuc2lvbnMoKSkseC5taW5Ub3A9eC5taW5MZWZ0PS0oMS8wKSx4Lm1heFRvcD14Lm1heExlZnQ9MS8wLHguX3Bvc2l0aW9uKCksbSYmeC5yZWZyZXNoKG0pLG8udmlzaWJsZSYmeC50b0Zyb250KCksZz1yLmNoaWxkcmVuKE0pLHguX3RhYmluZGV4KGcpLG8udmlzaWJsZSYmby5tb2RhbCYmeC5fb3ZlcmxheShyLmlzKEUpKS5jc3Moe29wYWNpdHk6LjV9KSxyLm9uKCJtb3VzZWVudGVyIit6LHN0LHcoeC5fYnV0dG9uRW50ZXIseCkpLm9uKCJtb3VzZWxlYXZlIit6LHN0LHcoeC5fYnV0dG9uTGVhdmUseCkpLm9uKCJjbGljayIreiwiPiAiK3N0LHcoeC5fd2luZG93QWN0aW9uSGFuZGxlcix4KSkub24oImtleWRvd24iK3osdyh4Ll9rZXlkb3duLHgpKS5vbigiZm9jdXMiK3osdyh4Ll9mb2N1cyx4KSkub24oImJsdXIiK3osdyh4Ll9ibHVyLHgpKSxnLm9uKCJrZXlkb3duIit6LHcoeC5fa2V5ZG93bix4KSkub24oImZvY3VzIit6LHcoeC5fZm9jdXMseCkpLm9uKCJibHVyIit6LHcoeC5fYmx1cix4KSksdT1nLmZpbmQoIi4iK1MpWzBdLHUmJiFfLmRhdGEoYXQpJiYoXy5vbigiYmx1ciIreixmdW5jdGlvbigpe3ZhciBpLGU9dChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5wYXJlbnQoTSk7ZS5sZW5ndGgmJihpPWQud2lkZ2V0SW5zdGFuY2UoZSksaS5fZm9jdXMoKSl9KSxfLm9uKCJmb2N1cyIreixmdW5jdGlvbigpe3QoTSkubm90KFApLmVhY2goZnVuY3Rpb24oaSxlKXtkLndpZGdldEluc3RhbmNlKHQoZSkpLl9ibHVyKCl9KX0pLF8uZGF0YShhdCwhMCkpLHRoaXMuX3Jlc2l6YWJsZSgpLHRoaXMuX2RyYWdnYWJsZSgpLG8ucGlubmVkJiZ0aGlzLndyYXBwZXIuaXMoIjp2aXNpYmxlIikmJngucGluKCksdj1uLmF0dHIoImlkIiksdiYmKHYrPSJfd25kX3RpdGxlIixyLmNoaWxkcmVuKEwpLmNoaWxkcmVuKHkpLmF0dHIoImlkIix2KSxnLmF0dHIoe3JvbGU6ImRpYWxvZyIsImFyaWEtbGFiZWxsZWRieSI6dn0pKSxyLmFkZChyLmNoaWxkcmVuKCIuay1yZXNpemUtaGFuZGxlLCIrTCkpLm9uKCJtb3VzZWRvd24iK3osdyh4LnRvRnJvbnQseCkpLHgudG91Y2hTY3JvbGxlcj1kLnRvdWNoU2Nyb2xsZXIobikseC5fcmVzaXplSGFuZGxlcj13KHguX29uRG9jdW1lbnRSZXNpemUseCkseC5fbWFya2VyPWQuZ3VpZCgpLnN1YnN0cmluZygwLDgpLHQod2luZG93KS5vbigicmVzaXplIit6K3guX21hcmtlcix4Ll9yZXNpemVIYW5kbGVyKSxvLnZpc2libGUmJih4LnRyaWdnZXIoaikseC50cmlnZ2VyKEEpKSxkLm5vdGlmeSh4KSx0aGlzLm9wdGlvbnMubW9kYWwmJih0aGlzLl90YWJLZXlUcmFwPW5ldyBjKHIpLHRoaXMuX3RhYktleVRyYXAudHJhcCgpLHRoaXMuX3RhYktleVRyYXAuc2hvdWxkVHJhcD1mdW5jdGlvbigpe3JldHVybiBnLmRhdGEoImlzRnJvbnQiKX0pfSxfYnV0dG9uRW50ZXI6ZnVuY3Rpb24oaSl7dChpLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKEQpfSxfYnV0dG9uTGVhdmU6ZnVuY3Rpb24oaSl7dChpLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKEQpfSxfZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIuYWRkQ2xhc3MoSSl9LF9ibHVyOmZ1bmN0aW9uKCl7dGhpcy53cmFwcGVyLnJlbW92ZUNsYXNzKEkpfSxfZGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0LGksZT10aGlzLndyYXBwZXIscz10aGlzLm9wdGlvbnMscj1zLndpZHRoLGE9cy5oZWlnaHQsbD1zLm1heEhlaWdodCxkPXMuc2l6ZSxwPVsibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCJdLGM9ImNvbnRlbnQtYm94Ij09ZS5jc3MoImJveC1zaXppbmciKSxoPWM/bihlLCJib3JkZXItbGVmdC13aWR0aCIpK24oZSwiYm9yZGVyLXJpZ2h0LXdpZHRoIik6MCxmPWM/bihlLCJib3JkZXItdG9wLXdpZHRoIikrbihlLCJib3JkZXItYm90dG9tLXdpZHRoIik6MCxtPWM/bihlLCJwYWRkaW5nLXRvcCIpOjA7Zm9yKHRoaXMuY29udGFpbm1lbnQmJiF0aGlzLl9pc1Bpbm5lZCYmKHRoaXMuX3VwZGF0ZUJvdW5kYXJpZXMoKSxzLm1heEhlaWdodD1NYXRoLm1pbih0aGlzLmNvbnRhaW5tZW50LmhlaWdodC0oZittKSxsKSxzLm1heFdpZHRoPU1hdGgubWluKHRoaXMuY29udGFpbm1lbnQud2lkdGgtaCxzLm1heFdpZHRoKSksdD0wO3Q8cC5sZW5ndGg7dCsrKWk9c1twW3RdXXx8IiIsaSE9MS8wJiZlLmNzcyhwW3RdLGkpO2whPTEvMCYmdGhpcy5lbGVtZW50LmNzcygibWF4SGVpZ2h0IixsKSxlLndpZHRoKHI/byhyLHMubWluV2lkdGgscy5tYXhXaWR0aCk6IiIpLGUuaGVpZ2h0KGE/byhhLHMubWluSGVpZ2h0LHMubWF4SGVpZ2h0KToiIikscy52aXNpYmxlfHxlLmhpZGUoKSxkJiZwdFtkXSYmZS5hZGRDbGFzcyhwdFtkXSl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMud3JhcHBlcixpPXRoaXMub3B0aW9ucy5wb3NpdGlvbjt0aGlzLl91cGRhdGVCb3VuZGFyaWVzKCksdGhpcy5jb250YWlubWVudCYmKGkudG9wPU1hdGgubWluKHRoaXMubWluVG9wKyhpLnRvcHx8MCksdGhpcy5tYXhUb3ApLGkubGVmdD1NYXRoLm1pbih0aGlzLm1pbkxlZnQrKGkubGVmdHx8MCksdGhpcy5tYXhMZWZ0KSksMD09PWkudG9wJiYoaS50b3A9IiIraS50b3ApLDA9PT1pLmxlZnQmJihpLmxlZnQ9IiIraS5sZWZ0KSx0LmNzcyh7dG9wOmkudG9wfHwiIixsZWZ0OmkubGVmdHx8IiJ9KX0sX3VwZGF0ZUJvdW5kYXJpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRhaW5tZW50O3JldHVybiB0Pyh0LndpZHRoPXQuaW5uZXJXaWR0aCgpLHQuaGVpZ2h0PXQuaW5uZXJIZWlnaHQoKSxwYXJzZUludCh0LndpZHRoLDEwKT50WzBdLmNsaWVudFdpZHRoJiYodC53aWR0aC09ZC5zdXBwb3J0LnNjcm9sbGJhcigpKSxwYXJzZUludCh0LmhlaWdodCwxMCk+dFswXS5jbGllbnRIZWlnaHQmJih0LmhlaWdodC09ZC5zdXBwb3J0LnNjcm9sbGJhcigpKSx0LnBvc2l0aW9uPXIodFswXSksdGhpcy5faXNQaW5uZWQ/KHRoaXMubWluVG9wPXRoaXMubWluTGVmdD0tKDEvMCksdGhpcy5tYXhUb3A9dGhpcy5tYXhMZWZ0PTEvMCk6KHRoaXMubWluVG9wPXQuc2Nyb2xsVG9wKCksdGhpcy5taW5MZWZ0PXQuc2Nyb2xsTGVmdCgpLHRoaXMubWF4TGVmdD10aGlzLm1pbkxlZnQrdC53aWR0aC1nKHRoaXMud3JhcHBlciwhMCksdGhpcy5tYXhUb3A9dGhpcy5taW5Ub3ArdC5oZWlnaHQtdSh0aGlzLndyYXBwZXIsITApKSxpKTpudWxsfSxfYW5pbWF0aW9uT3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuYW5pbWF0aW9uLGU9e29wZW46e2VmZmVjdHM6e319LGNsb3NlOntoaWRlOiEwLGVmZmVjdHM6e319fTtyZXR1cm4gaSYmaVt0XXx8ZVt0XX0sX3Jlc2l6ZTpmdW5jdGlvbigpe2QucmVzaXplKHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKX0sX3Jlc2l6YWJsZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3B0aW9ucy5yZXNpemFibGUsZT10aGlzLndyYXBwZXI7dGhpcy5yZXNpemluZyYmKGUub2ZmKCJkYmxjbGljayIreikuY2hpbGRyZW4oTykucmVtb3ZlKCksdGhpcy5yZXNpemluZy5kZXN0cm95KCksdGhpcy5yZXNpemluZz1udWxsKSxpJiYoZS5vbigiZGJsY2xpY2siK3osTCx3KGZ1bmN0aW9uKGkpe3QoaS50YXJnZXQpLmNsb3Nlc3QoIi5rLXdpbmRvdy1hY3Rpb24iKS5sZW5ndGh8fHRoaXMudG9nZ2xlTWF4aW1pemF0aW9uKCl9LHRoaXMpKSx2KCJuIGUgcyB3IHNlIHN3IG5lIG53Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsaSl7ZS5hcHBlbmQoaHQucmVzaXplSGFuZGxlKGkpKX0pLHRoaXMucmVzaXppbmc9bmV3IGEodGhpcykpLGU9bnVsbH0sX2RyYWdnYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5kcmFnZ2FibGU7dGhpcy5kcmFnZ2luZyYmKHRoaXMuZHJhZ2dpbmcuZGVzdHJveSgpLHRoaXMuZHJhZ2dpbmc9bnVsbCksdCYmKHRoaXMuZHJhZ2dpbmc9bmV3IGwodGhpcyx0LmRyYWdIYW5kbGV8fEwpKX0sX2FjdGlvbnM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm9wdGlvbnMsZT1pLmFjdGlvbnMsbj1pLnBpbm5lZCxvPXRoaXMud3JhcHBlci5jaGlsZHJlbihMKSxzPW8uZmluZCgiLmstd2luZG93LWFjdGlvbnMiKSxyPVsibWF4aW1pemUiLCJtaW5pbWl6ZSJdO2U9dC5tYXAoZSxmdW5jdGlvbih0KXtyZXR1cm4gdD1uJiYicGluIj09PXQudG9Mb3dlckNhc2UoKT8idW5waW4iOnQse25hbWU6ci5pbmRleE9mKHQudG9Mb3dlckNhc2UoKSk+LTE/IndpbmRvdy0iK3Q6dH19KSxzLmh0bWwoZC5yZW5kZXIoaHQuYWN0aW9uLGUpKX0sc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgZSxuLG89dGhpcyxzPW8ub3B0aW9ucy5zaXplLHI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7Xyh0LnBvc2l0aW9uLG8ub3B0aW9ucy5wb3NpdGlvbiksXyh0LnBvc2l0aW9uLHIucG9zaXRpb24pLHAuZm4uc2V0T3B0aW9ucy5jYWxsKG8sdCksZT1vLm9wdGlvbnMuc2Nyb2xsYWJsZSE9PSExLG8ucmVzdG9yZSgpLGkhPT10LnRpdGxlJiZvLnRpdGxlKHQudGl0bGUpLG8ud3JhcHBlci5yZW1vdmVDbGFzcyhwdFtzXSksby5fZGltZW5zaW9ucygpLG8uX3Bvc2l0aW9uKCksby5fcmVzaXphYmxlKCksby5fZHJhZ2dhYmxlKCksby5fYWN0aW9ucygpLGkhPT10Lm1vZGFsJiYobj1vLm9wdGlvbnMudmlzaWJsZSE9PSExLG8uX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nKCksby5fb3ZlcmxheSh0Lm1vZGFsJiZuKSksby5lbGVtZW50LmNzcygkLGU/IiI6ImhpZGRlbiIpfSxldmVudHM6W2osQSxOLEsscSxVLEIsRyxKLFYsUSxYLFldLG9wdGlvbnM6e25hbWU6IldpbmRvdyIsYW5pbWF0aW9uOntvcGVuOntlZmZlY3RzOnt6b29tOntkaXJlY3Rpb246ImluIn0sZmFkZTp7ZGlyZWN0aW9uOiJpbiJ9fSxkdXJhdGlvbjozNTB9LGNsb3NlOntlZmZlY3RzOnt6b29tOntkaXJlY3Rpb246Im91dCIscHJvcGVydGllczp7c2NhbGU6Ljd9fSxmYWRlOntkaXJlY3Rpb246Im91dCJ9fSxkdXJhdGlvbjozNTAsaGlkZTohMH19LHRpdGxlOiIiLGFjdGlvbnM6WyJDbG9zZSJdLGF1dG9Gb2N1czohMCxtb2RhbDohMSxzaXplOiJhdXRvIixyZXNpemFibGU6ITAsZHJhZ2dhYmxlOiEwLG1pbldpZHRoOjkwLG1pbkhlaWdodDo1MCxtYXhXaWR0aDoxLzAsbWF4SGVpZ2h0OjEvMCxwaW5uZWQ6ITEsc2Nyb2xsYWJsZTohMCxwb3NpdGlvbjp7fSxjb250ZW50Om51bGwsdmlzaWJsZTpudWxsLGhlaWdodDpudWxsLHdpZHRoOm51bGwsYXBwZW5kVG86ImJvZHkiLGlzTWF4aW1pemVkOiExLGlzTWluaW1pemVkOiExfSxfY2xvc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbkFycmF5KCJjbG9zZSIsdC5tYXAodGhpcy5vcHRpb25zLmFjdGlvbnMsZnVuY3Rpb24odCl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKX0pKT4tMX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGksZSxzLHIsYSxsLHA9dGhpcyxjPXAub3B0aW9ucyxoPWQua2V5cyxmPXQua2V5Q29kZSxtPXAud3JhcHBlcixnPTEwLHU9Yy5pc01heGltaXplZCx3PWMuaXNNaW5pbWl6ZWQ7Zj09aC5FU0MmJnAuX2Nsb3NhYmxlKCkmJih0LnN0b3BQcm9wYWdhdGlvbigpLHAuX2Nsb3NlKCExKSksdC50YXJnZXQhPXQuY3VycmVudFRhcmdldHx8cC5fY2xvc2luZ3x8KHQuYWx0S2V5JiY4Mj09ZiYmcC5yZWZyZXNoKCksdC5hbHRLZXkmJjgwPT1mJiYocC5vcHRpb25zLnBpbm5lZD9wLnVucGluKCk6cC5waW4oKSksdC5hbHRLZXkmJmY9PWguVVA/dz8ocC5yZXN0b3JlKCkscC5lbGVtZW50LmZvY3VzKCkpOnV8fChwLm1heGltaXplKCkscC5lbGVtZW50LmZvY3VzKCkpOnQuYWx0S2V5JiZmPT1oLkRPV04mJih3fHx1P3UmJihwLnJlc3RvcmUoKSxwLmVsZW1lbnQuZm9jdXMoKSk6KHAubWluaW1pemUoKSxwLndyYXBwZXIuZm9jdXMoKSkpLGk9ZC5nZXRPZmZzZXQobSkscC5jb250YWlubWVudCYmIXAuX2lzUGlubmVkJiYoaT1wLm9wdGlvbnMucG9zaXRpb24pLCFjLmRyYWdnYWJsZXx8dC5jdHJsS2V5fHx0LmFsdEtleXx8dXx8KHAuX3VwZGF0ZUJvdW5kYXJpZXMoKSxmPT1oLlVQPyhpLnRvcD1vKGkudG9wLWcscC5taW5Ub3AscC5tYXhUb3ApLGU9bS5jc3MoInRvcCIsaS50b3ApKTpmPT1oLkRPV04/KGkudG9wPW8oaS50b3ArZyxwLm1pblRvcCxwLm1heFRvcCksZT1tLmNzcygidG9wIixpLnRvcCkpOmY9PWguTEVGVD8oaS5sZWZ0PW8oaS5sZWZ0LWcscC5taW5MZWZ0LHAubWF4TGVmdCksZT1tLmNzcygibGVmdCIsaS5sZWZ0KSk6Zj09aC5SSUdIVCYmKGkubGVmdD1vKGkubGVmdCtnLHAubWluTGVmdCxwLm1heExlZnQpLGU9bS5jc3MoImxlZnQiLGkubGVmdCkpKSxjLnJlc2l6YWJsZSYmdC5jdHJsS2V5JiYhdSYmIXcmJihmPT1oLlVQPyhlPSEwLHI9bS5oZWlnaHQoKS1nKTpmPT1oLkRPV04mJihlPSEwLHI9cC5jb250YWlubWVudCYmIXAuX2lzUGlubmVkP01hdGgubWluKG0uaGVpZ2h0KCkrZyxwLmNvbnRhaW5tZW50LmhlaWdodC1pLnRvcC1uKG0sInBhZGRpbmctdG9wIiktbihtLCJib3JkZXJCb3R0b21XaWR0aCIpLW4obSwiYm9yZGVyVG9wV2lkdGgiKSk6bS5oZWlnaHQoKStnKSxmPT1oLkxFRlQ/KGU9ITAscz1tLndpZHRoKCktZyk6Zj09aC5SSUdIVCYmKGU9ITAscz1wLmNvbnRhaW5tZW50JiYhcC5faXNQaW5uZWQ/TWF0aC5taW4obS53aWR0aCgpK2cscC5jb250YWlubWVudC53aWR0aC1pLmxlZnQtbihtLCJib3JkZXJMZWZ0V2lkdGgiKS1uKG0sImJvcmRlclJpZ2h0V2lkdGgiKSk6bS53aWR0aCgpK2cpLGUmJihhPW8ocyxjLm1pbldpZHRoLGMubWF4V2lkdGgpLGw9byhyLGMubWluSGVpZ2h0LGMubWF4SGVpZ2h0KSxpc05hTihhKXx8KG0ud2lkdGgoYSkscC5vcHRpb25zLndpZHRoPWErInB4IiksaXNOYU4obCl8fChtLmhlaWdodChsKSxwLm9wdGlvbnMuaGVpZ2h0PWwrInB4IikscC5yZXNpemUoKSkpLGUmJnQucHJldmVudERlZmF1bHQoKSl9LF9vdmVybGF5OmZ1bmN0aW9uKGkpe3ZhciBlPXRoaXMuY29udGFpbm1lbnQ/dGhpcy5jb250YWlubWVudC5jaGlsZHJlbihXKTp0aGlzLmFwcGVuZFRvLmNoaWxkcmVuKFcpLG49dGhpcy53cmFwcGVyO3JldHVybiBlLmxlbmd0aHx8KGU9dCgiPGRpdiBjbGFzcz0nay1vdmVybGF5JyAvPiIpKSxlLmluc2VydEJlZm9yZShuWzBdKS50b2dnbGUoaSkuY3NzKHR0LHBhcnNlSW50KG4uY3NzKHR0KSwxMCktMSksdGhpcy5vcHRpb25zLm1vZGFsLnByZXZlbnRTY3JvbGwmJiF0aGlzLmNvbnRhaW5tZW50JiZ0aGlzLl9zdG9wRG9jdW1lbnRTY3JvbGxpbmcoKSxlfSxfYWN0aW9uRm9ySWNvbjpmdW5jdGlvbih0KXt2YXIgaT0vXGJrLWkoLVx3KykrXGIvLmV4ZWModFswXS5jbGFzc05hbWUpWzBdO3JldHVybnsiay1pLWNsb3NlIjoiX2Nsb3NlIiwiay1pLXdpbmRvdy1tYXhpbWl6ZSI6Im1heGltaXplIiwiay1pLXdpbmRvdy1taW5pbWl6ZSI6Im1pbmltaXplIiwiay1pLXdpbmRvdy1yZXN0b3JlIjoicmVzdG9yZSIsImstaS1yZWZyZXNoIjoicmVmcmVzaCIsImstaS1waW4iOiJwaW4iLCJrLWktdW5waW4iOiJ1bnBpbiJ9W2ldfSxfd2luZG93QWN0aW9uSGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgbixvO2lmKCF0aGlzLl9jbG9zaW5nKXJldHVybiBuPXQoZS50YXJnZXQpLmNsb3Nlc3QoIi5rLXdpbmRvdy1hY3Rpb24iKS5maW5kKCIuay1pY29uIiksbz10aGlzLl9hY3Rpb25Gb3JJY29uKG4pLG8/KGUucHJldmVudERlZmF1bHQoKSx0aGlzW29dKCksITEpOml9LF9tb2RhbHM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLGU9dChUKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLG49aS5fb2JqZWN0KGUpLG89biYmbi5vcHRpb25zO3JldHVybiBvJiZvLm1vZGFsJiZvLnZpc2libGUmJm8uYXBwZW5kVG89PT1pLm9wdGlvbnMuYXBwZW5kVG8mJmUuaXMoRSl9KS5zb3J0KGZ1bmN0aW9uKGksZSl7cmV0dXJuK3QoaSkuY3NzKCJ6SW5kZXgiKS0rdChlKS5jc3MoInpJbmRleCIpfSk7cmV0dXJuIGk9bnVsbCxlfSxfb2JqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4oTSksbj1kLndpZGdldEluc3RhbmNlKGUpO3JldHVybiBuP246aX0sY2VudGVyOmZ1bmN0aW9uKCl7dmFyIGksZSxvPXRoaXMscz1vLm9wdGlvbnMucG9zaXRpb24scj1vLndyYXBwZXIsYT10KHdpbmRvdyksbD0wLGQ9MDtyZXR1cm4gby5vcHRpb25zLmlzTWF4aW1pemVkP286KG8ub3B0aW9ucy5waW5uZWQmJiFvLl9pc1Bpbm5lZCYmby5waW4oKSxvLm9wdGlvbnMucGlubmVkfHwobD1hLnNjcm9sbFRvcCgpLGQ9YS5zY3JvbGxMZWZ0KCkpLHRoaXMuY29udGFpbm1lbnQmJiFvLm9wdGlvbnMucGlubmVkPyhpPXRoaXMubWluVG9wKyh0aGlzLm1heFRvcC10aGlzLm1pblRvcCkvMixlPXRoaXMubWluTGVmdCsodGhpcy5tYXhMZWZ0LXRoaXMubWluTGVmdCkvMik6KG8uX3Njcm9sbElzQXBwZW5kZWQ9ITAsZT1kK01hdGgubWF4KDAsKGEud2lkdGgoKS1yLndpZHRoKCkpLzIpLGk9bCtNYXRoLm1heCgwLChhLmhlaWdodCgpLXIuaGVpZ2h0KCktbihyLCJwYWRkaW5nVG9wIikpLzIpKSxyLmNzcyh7bGVmdDplLHRvcDppfSkscy50b3A9aSxzLmxlZnQ9ZSxvKX0sdGl0bGU6ZnVuY3Rpb24oZSl7dmFyIG4sbyxzLHIsYT10aGlzLGw9ITAscD1hLndyYXBwZXIsYz1wLmNoaWxkcmVuKEwpLGg9Yy5jaGlsZHJlbih5KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odC5pc1BsYWluT2JqZWN0KGUpPyhuPWkhPT1lLnRleHQ/ZS50ZXh0OiIiLGw9ZS5lbmNvZGVkIT09ITEpOm49ZSxuPT09ITE/KHAuYWRkQ2xhc3MoImstd2luZG93LXRpdGxlbGVzcyIpLHAuY3NzKCJwYWRkaW5nLXRvcCIsMCksYy5yZW1vdmUoKSk6KGMubGVuZ3RoP2guaHRtbChsP2QuaHRtbEVuY29kZShuKTpuKToocC5wcmVwZW5kKGh0LnRpdGxlYmFyKHt0aXRsZTpsP2QuaHRtbEVuY29kZShuKTpufSkpLGEuX2FjdGlvbnMoKSxjPXAuY2hpbGRyZW4oTCkpLHI9cC5jc3MoInZpc2liaWxpdHkiKSxzPXAuY3NzKCJkaXNwbGF5Iikscj09PUY/KHAuY3NzKHtkaXNwbGF5OiIifSksbz1wYXJzZUludCh1KGMpLDEwKSxwLmNzcyh7ZGlzcGxheTpzfSkpOihwLmNzcyh7dmlzaWJpbGl0eTpGLGRpc3BsYXk6IiJ9KSxvPXBhcnNlSW50KHUoYyksMTApLHAuY3NzKHt2aXNpYmlsaXR5OnIsZGlzcGxheTpzfSkpLHAuY3NzKCJwYWRkaW5nLXRvcCIsbyksYy5jc3MoIm1hcmdpbi10b3AiLC1vKSksYS5vcHRpb25zLnRpdGxlPW4sYSk6aC5odG1sKCl9LGNvbnRlbnQ6ZnVuY3Rpb24odCxpKXt2YXIgbj10aGlzLndyYXBwZXIuY2hpbGRyZW4oTSksbz1uLmNoaWxkcmVuKCIua20tc2Nyb2xsLWNvbnRhaW5lciIpO3JldHVybiBuPW9bMF0/bzpuLGUodCk/KHRoaXMuYW5ndWxhcigiY2xlYW51cCIsZnVuY3Rpb24oKXtyZXR1cm57ZWxlbWVudHM6bi5jaGlsZHJlbigpfX0pLGQuZGVzdHJveSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSksbi5lbXB0eSgpLmh0bWwodCksdGhpcy5hbmd1bGFyKCJjb21waWxlIixmdW5jdGlvbigpe3ZhciB0LGU9W107Zm9yKHQ9bi5sZW5ndGg7LS10Pj0wOyllLnB1c2goe2RhdGFJdGVtOml9KTtyZXR1cm57ZWxlbWVudHM6bi5jaGlsZHJlbigpLGRhdGE6ZX19KSx0aGlzKTpuLmh0bWwoKX0sb3BlbjpmdW5jdGlvbigpe3ZhciBpLGUsbixvPXRoaXMscz1vLndyYXBwZXIscj1vLm9wdGlvbnMsYT10aGlzLl9hbmltYXRpb25PcHRpb25zKCJvcGVuIiksbD1zLmNoaWxkcmVuKE0pLHA9dGhpcy5jb250YWlubWVudCYmIW8uX2lzUGlubmVkLGM9cD90aGlzLmNvbnRhaW5tZW50OnQoZG9jdW1lbnQpO3JldHVybiBvLnRyaWdnZXIoail8fChvLl9jbG9zaW5nJiZzLmtlbmRvU3RvcCghMCwhMCksby5fY2xvc2luZz0hMSxvLnRvRnJvbnQoKSxyLmF1dG9Gb2N1cyYmby5lbGVtZW50LmZvY3VzKCksci52aXNpYmxlPSEwLHIubW9kYWwmJihlPSEhby5fbW9kYWxzKCkubGVuZ3RoLGk9by5fb3ZlcmxheShlKSxpLmtlbmRvU3RvcCghMCwhMCksYS5kdXJhdGlvbiYmZC5lZmZlY3RzLkZhZGUmJiFlPyhuPWQuZngoaSkuZmFkZUluKCksbi5kdXJhdGlvbihhLmR1cmF0aW9ufHwwKSxuLmVuZFZhbHVlKC41KSxuLnBsYXkoKSk6aS5jc3MoIm9wYWNpdHkiLC41KSxpLnNob3coKSx0KHdpbmRvdykub24oImZvY3VzIitrLGZ1bmN0aW9uKCl7bC5kYXRhKCJpc0Zyb250IikmJiF0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QobCkubGVuZ3RoJiZvLmVsZW1lbnQuZm9jdXMoKX0pKSxzLmlzKEUpfHwobC5jc3MoJCxGKSxvLndyYXBwZXIuZmluZChzdCkuYWRkQ2xhc3MoImstYmFyZSIpLHMuc2hvdygpLmtlbmRvU3RvcCgpLmtlbmRvQW5pbWF0ZSh7ZWZmZWN0czphLmVmZmVjdHMsZHVyYXRpb246YS5kdXJhdGlvbixjb21wbGV0ZTp3KHRoaXMuX2FjdGl2YXRlLHRoaXMpfSkpKSxyLmlzTWF4aW1pemVkJiYoby5fY29udGFpbmVyU2Nyb2xsVG9wPWMuc2Nyb2xsVG9wKCksby5fY29udGFpbmVyU2Nyb2xsTGVmdD1jLnNjcm9sbExlZnQoKSxvLl9zdG9wRG9jdW1lbnRTY3JvbGxpbmcoKSksdGhpcy5vcHRpb25zLnBpbm5lZCYmIXRoaXMuX2lzUGlubmVkJiZ0aGlzLnBpbigpLG99LF9hY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5zY3JvbGxhYmxlIT09ITE7dGhpcy5vcHRpb25zLmF1dG9Gb2N1cyYmdGhpcy5lbGVtZW50LmZvY3VzKCksdGhpcy5lbGVtZW50LmNzcygkLHQ/IiI6ImhpZGRlbiIpLGQucmVzaXplKHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKSx0aGlzLnRyaWdnZXIoQSl9LF9yZW1vdmVPdmVybGF5OmZ1bmN0aW9uKGUpe3ZhciBuLG89dGhpcy5fbW9kYWxzKCkscz10aGlzLm9wdGlvbnMscj1zLm1vZGFsJiYhby5sZW5ndGgsYT1zLm1vZGFsP3RoaXMuX292ZXJsYXkoITApOnQoaSksbD10aGlzLl9hbmltYXRpb25PcHRpb25zKCJjbG9zZSIpO3I/KCFlJiZsLmR1cmF0aW9uJiZkLmVmZmVjdHMuRmFkZT8obj1kLmZ4KGEpLmZhZGVPdXQoKSxuLmR1cmF0aW9uKGwuZHVyYXRpb258fDApLG4uc3RhcnRWYWx1ZSguNSksbi5wbGF5KCkpOnRoaXMuX292ZXJsYXkoITEpLnJlbW92ZSgpLHMubW9kYWwucHJldmVudFNjcm9sbCYmdGhpcy5fZW5hYmxlRG9jdW1lbnRTY3JvbGxpbmcoKSk6by5sZW5ndGgmJih0aGlzLl9vYmplY3Qoby5sYXN0KCkpLl9vdmVybGF5KCEwKSxzLm1vZGFsLnByZXZlbnRTY3JvbGwmJnRoaXMuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpKX0sX2Nsb3NlOmZ1bmN0aW9uKGkpe3ZhciBlLG49dGhpcyxvPW4ud3JhcHBlcixzPW4ub3B0aW9ucyxyPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoIm9wZW4iKSxhPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoImNsb3NlIiksbD10aGlzLmNvbnRhaW5tZW50JiYhbi5faXNQaW5uZWQsZD1sP3RoaXMuY29udGFpbm1lbnQ6dChkb2N1bWVudCk7bi5fY2xvc2luZ3x8KGU9bi50cmlnZ2VyKEsse3VzZXJUcmlnZ2VyZWQ6IWl9KSxuLl9jbG9zaW5nPSFlLG8uaXMoRSkmJiFlJiYocy52aXNpYmxlPSExLHQoVCkuZWFjaChmdW5jdGlvbihpLGUpe3ZhciBuPXQoZSkuY2hpbGRyZW4oTSk7ZSE9byYmbi5maW5kKCI+IC4iK1MpLmxlbmd0aD4wJiZuLmNoaWxkcmVuKFcpLnJlbW92ZSgpfSksdGhpcy5fcmVtb3ZlT3ZlcmxheSgpLG4ud3JhcHBlci5maW5kKHN0KS5yZW1vdmVDbGFzcygiay1iYXJlIiksby5rZW5kb1N0b3AoKS5rZW5kb0FuaW1hdGUoe2VmZmVjdHM6YS5lZmZlY3RzfHxyLmVmZmVjdHMscmV2ZXJzZTphLnJldmVyc2U9PT0hMCxkdXJhdGlvbjphLmR1cmF0aW9uLGNvbXBsZXRlOncodGhpcy5fZGVhY3RpdmF0ZSx0aGlzKX0pLHQod2luZG93KS5vZmYoaykpLG4ub3B0aW9ucy5pc01heGltaXplZCYmKG4uX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nKCksbi5fY29udGFpbmVyU2Nyb2xsVG9wJiZuLl9jb250YWluZXJTY3JvbGxUb3A+MCYmZC5zY3JvbGxUb3Aobi5fY29udGFpbmVyU2Nyb2xsVG9wKSxuLl9jb250YWluZXJTY3JvbGxMZWZ0JiZuLl9jb250YWluZXJTY3JvbGxMZWZ0PjAmJmQuc2Nyb2xsTGVmdChuLl9jb250YWluZXJTY3JvbGxMZWZ0KSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcztpLndyYXBwZXIuaGlkZSgpLmNzcygib3BhY2l0eSIsIiIpLGkudHJpZ2dlcihOKSxpLm9wdGlvbnMubW9kYWwmJih0PWkuX29iamVjdChpLl9tb2RhbHMoKS5sYXN0KCkpLHQmJnQudG9Gcm9udCgpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2UoITApLHRoaXN9LF9hY3Rpb25hYmxlOmZ1bmN0aW9uKGkpe3JldHVybiB0KGkpLmlzKHN0KyIsIitzdCsiIC5rLWljb24sOmlucHV0LGEiKX0sX3Nob3VsZEZvY3VzOmZ1bmN0aW9uKGkpe3ZhciBlPW0oKSxuPXRoaXMuZWxlbWVudDtyZXR1cm4gdGhpcy5vcHRpb25zLmF1dG9Gb2N1cyYmIXQoZSkuaXMobikmJiF0aGlzLl9hY3Rpb25hYmxlKGkpJiYoIW4uZmluZChlKS5sZW5ndGh8fCFuLmZpbmQoaSkubGVuZ3RoKX0sdG9Gcm9udDpmdW5jdGlvbihpKXt2YXIgZSxuLG89dGhpcyxzPW8ud3JhcHBlcixyPXNbMF0sYT1vLmNvbnRhaW5tZW50JiYhby5faXNQaW5uZWQsbD0rcy5jc3ModHQpLGQ9bCxwPWkmJmkudGFyZ2V0fHxudWxsO3JldHVybiB0KFQpLmVhY2goZnVuY3Rpb24oaSxlKXt2YXIgbj10KGUpLG89bi5jc3ModHQpLHM9bi5jaGlsZHJlbihNKTtpc05hTihvKXx8KGw9TWF0aC5tYXgoK28sbCkpLHMuZGF0YSgiaXNGcm9udCIsZT09ciksZSE9ciYmcy5maW5kKCI+IC4iK1MpLmxlbmd0aD4wJiZzLmFwcGVuZChodC5vdmVybGF5KX0pLCghc1swXS5zdHlsZS56SW5kZXh8fGQ8bCkmJnMuY3NzKHR0LGwrMiksby5lbGVtZW50LmZpbmQoIj4gLmstb3ZlcmxheSIpLnJlbW92ZSgpLG8uX3Nob3VsZEZvY3VzKHApJiYoby5pc01pbmltaXplZCgpP28ud3JhcHBlci5mb2N1cygpOnQocCkuaXMoVyk/c2V0VGltZW91dChmdW5jdGlvbigpe28uZWxlbWVudC5mb2N1cygpfSk6by5lbGVtZW50LmZvY3VzKCksZT1hP28uY29udGFpbm1lbnQuc2Nyb2xsVG9wKCk6dCh3aW5kb3cpLnNjcm9sbFRvcCgpLG49cGFyc2VJbnQocy5wb3NpdGlvbigpLnRvcCwxMCksIW8ub3B0aW9ucy5waW5uZWQmJm4+MCYmbjxlJiYoZT4wP3Qod2luZG93KS5zY3JvbGxUb3Aobik6cy5jc3MoInRvcCIsZSkpKSxzPW51bGwsb30sdG9nZ2xlTWF4aW1pemF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3Npbmc/dGhpczp0aGlzW3RoaXMub3B0aW9ucy5pc01heGltaXplZD8icmVzdG9yZSI6Im1heGltaXplIl0oKX0scmVzdG9yZTpmdW5jdGlvbigpe3ZhciBpLGU9dGhpcyxuPWUub3B0aW9ucyxzPW4ubWluSGVpZ2h0LHI9ZS5yZXN0b3JlT3B0aW9ucyxhPWUuY29udGFpbm1lbnQmJiFlLl9pc1Bpbm5lZD9lLmNvbnRhaW5tZW50OnQoZG9jdW1lbnQpO3JldHVybiBuLmlzTWF4aW1pemVkfHxuLmlzTWluaW1pemVkPyhzJiZzIT0xLzAmJmUud3JhcHBlci5jc3MoIm1pbi1oZWlnaHQiLHMpLHImJiFuLmlzTWF4aW1pemVkJiYoci5oZWlnaHQ9byhyLmhlaWdodCxlLm9wdGlvbnMubWluSGVpZ2h0LGUub3B0aW9ucy5tYXhIZWlnaHQpLGk9bi5wb3NpdGlvbi50b3ArcGFyc2VJbnQoci5oZWlnaHQsMTApPmUubWF4VG9wLGkmJihuLnBvc2l0aW9uLnRvcD1vKG4ucG9zaXRpb24udG9wLGUubWluVG9wLGUubWF4VG9wLXBhcnNlSW50KHIuaGVpZ2h0LDEwKSksXyhyLHtsZWZ0Om4ucG9zaXRpb24ubGVmdCx0b3A6bi5wb3NpdGlvbi50b3B9KSkpLGUud3JhcHBlci5jc3Moe3Bvc2l0aW9uOm4ucGlubmVkPyJmaXhlZCI6ImFic29sdXRlIixsZWZ0OnIubGVmdCx0b3A6ci50b3Asd2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9KS5yZW1vdmVDbGFzcyhDKS5maW5kKCIuay13aW5kb3ctY29udGVudCwuay1yZXNpemUtaGFuZGxlIikuc2hvdygpLmVuZCgpLmZpbmQoIi5rLXdpbmRvdy10aXRsZWJhciAuay1pLXdpbmRvdy1yZXN0b3JlIikucGFyZW50KCkucmVtb3ZlKCkuZW5kKCkuZW5kKCkuZmluZChpdCkucGFyZW50KCkuc2hvdygpLmVuZCgpLmVuZCgpLmZpbmQob3QpLnBhcmVudCgpLnNob3coKSxuLmlzTWF4aW1pemVkP2Uud3JhcHBlci5maW5kKCIuay1pLXdpbmRvdy1tYXhpbWl6ZSIpLnBhcmVudCgpLmZvY3VzKCk6bi5pc01pbmltaXplZCYmZS53cmFwcGVyLmZpbmQoIi5rLWktd2luZG93LW1pbmltaXplIikucGFyZW50KCkuZm9jdXMoKSxlLm9wdGlvbnMud2lkdGg9ci53aWR0aCxlLm9wdGlvbnMuaGVpZ2h0PXIuaGVpZ2h0LGUub3B0aW9ucy5tb2RhbC5wcmV2ZW50U2Nyb2xsfHxlLl9lbmFibGVEb2N1bWVudFNjcm9sbGluZygpLGUuX2NvbnRhaW5lclNjcm9sbFRvcCYmZS5fY29udGFpbmVyU2Nyb2xsVG9wPjAmJmEuc2Nyb2xsVG9wKGUuX2NvbnRhaW5lclNjcm9sbFRvcCksZS5fY29udGFpbmVyU2Nyb2xsTGVmdCYmZS5fY29udGFpbmVyU2Nyb2xsTGVmdD4wJiZhLnNjcm9sbExlZnQoZS5fY29udGFpbmVyU2Nyb2xsTGVmdCksbi5pc01heGltaXplZD1uLmlzTWluaW1pemVkPSExLGUud3JhcHBlci5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLGUud3JhcHBlci5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkLWJ5IiksZS5yZXNpemUoKSxlKTplfSxfc2l6aW5nQWN0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcyxuPWUud3JhcHBlcixvPW5bMF0uc3R5bGUscz1lLm9wdGlvbnM7cmV0dXJuIHMuaXNNYXhpbWl6ZWR8fHMuaXNNaW5pbWl6ZWQ/ZTooZS5yZXN0b3JlT3B0aW9ucz17d2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHR9LG4uY2hpbGRyZW4oTykuaGlkZSgpLmVuZCgpLmNoaWxkcmVuKEwpLmZpbmQoaXQpLnBhcmVudCgpLmhpZGUoKS5lcSgwKS5iZWZvcmUoaHQuYWN0aW9uKHtuYW1lOiJ3aW5kb3ctcmVzdG9yZSJ9KSksaS5jYWxsKGUpLGUud3JhcHBlci5jaGlsZHJlbihMKS5maW5kKG90KS5wYXJlbnQoKS50b2dnbGUoIm1heGltaXplIiE9PXQpLGUudHJpZ2dlcih0KSxuLmZpbmQoIi5rLWktd2luZG93LXJlc3RvcmUiKS5wYXJlbnQoKS5mb2N1cygpLGUpfSxtYXhpbWl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXppbmdBY3Rpb24oIm1heGltaXplIixmdW5jdGlvbigpe3ZhciBpPXRoaXMsZT1pLndyYXBwZXIsbj10aGlzLmNvbnRhaW5tZW50JiYhaS5faXNQaW5uZWQsbz1lLnBvc2l0aW9uKCkscz10KGRvY3VtZW50KTtfKGkucmVzdG9yZU9wdGlvbnMse2xlZnQ6by5sZWZ0KyhuP3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpOjApLHRvcDpvLnRvcCsobj90aGlzLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpOjApfSksdGhpcy5fY29udGFpbmVyU2Nyb2xsVG9wPW4/dGhpcy5jb250YWlubWVudC5zY3JvbGxUb3AoKTpzLnNjcm9sbFRvcCgpLHRoaXMuX2NvbnRhaW5lclNjcm9sbExlZnQ9bj90aGlzLmNvbnRhaW5tZW50LnNjcm9sbExlZnQoKTpzLnNjcm9sbExlZnQoKSxpLl9zdG9wRG9jdW1lbnRTY3JvbGxpbmcoKSxlLmNzcyh7dG9wOm4/dGhpcy5jb250YWlubWVudC5zY3JvbGxUb3AoKTowLGxlZnQ6bj90aGlzLmNvbnRhaW5tZW50LnNjcm9sbExlZnQoKTowLHBvc2l0aW9uOm4/ImFic29sdXRlIjoiZml4ZWQifSkuYWRkQ2xhc3MoQyksaS5vcHRpb25zLmlzTWF4aW1pemVkPSEwLGkuX29uRG9jdW1lbnRSZXNpemUoKX0pLHRoaXN9LF9zdG9wRG9jdW1lbnRTY3JvbGxpbmc6ZnVuY3Rpb24oKXt2YXIgZSxuLG89dGhpcyxzPW8uY29udGFpbm1lbnQ7cmV0dXJuIHMmJiFvLl9pc1Bpbm5lZD8oby5fc3RvcmVPdmVyZmxvd1J1bGUocykscy5jc3MoJCxGKSxvLndyYXBwZXIuY3NzKHttYXhXaWR0aDpzLmlubmVyV2lkdGgoKSxtYXhIZWlnaHQ6cy5pbm5lckhlaWdodCgpfSksaSk6KGU9dCgiYm9keSIpLG8uX3N0b3JlT3ZlcmZsb3dSdWxlKGUpLGUuY3NzKCQsRiksbj10KCJodG1sIiksby5fc3RvcmVPdmVyZmxvd1J1bGUobiksbi5jc3MoJCxGKSxpKX0sX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWUuY29udGFpbm1lbnQ7cmV0dXJuIG4mJiFlLl9pc1Bpbm5lZD8oZS5fcmVzdG9yZU92ZXJmbG93UnVsZShuKSxlLndyYXBwZXIuY3NzKHttYXhXaWR0aDpuLndpZHRoLG1heEhlaWdodDpuLmhlaWdodH0pLGkpOihlLl9yZXN0b3JlT3ZlcmZsb3dSdWxlKHQoZG9jdW1lbnQuYm9keSkpLGUuX3Jlc3RvcmVPdmVyZmxvd1J1bGUodCgiaHRtbCIpKSxpKX0sX3N0b3JlT3ZlcmZsb3dSdWxlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9pc092ZXJmbG93U3RvcmVkKHQpKXt2YXIgaT10LmdldCgwKS5zdHlsZS5vdmVyZmxvdzsic3RyaW5nIj09dHlwZW9mIGkmJnQuZGF0YShaLGkpfX0sX2lzT3ZlcmZsb3dTdG9yZWQ6ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0LmRhdGEoWil9LF9yZXN0b3JlT3ZlcmZsb3dSdWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YShaKTtudWxsIT09ZSYmZSE9PWk/KHQuY3NzKCQsZSksdC5yZW1vdmVEYXRhKFopKTp0LmNzcygkLCIiKX0saXNNYXhpbWl6ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzTWF4aW1pemVkfSxtaW5pbWl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXppbmdBY3Rpb24oIm1pbmltaXplIixmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC53cmFwcGVyLmNzcyh7aGVpZ2h0OiIiLG1pbkhlaWdodDoiIn0pLHQuZWxlbWVudC5oaWRlKCksdC5vcHRpb25zLmlzTWluaW1pemVkPSEwfSksdGhpcy53cmFwcGVyLmF0dHIoInRhYmluZGV4IiwwKSx0aGlzLndyYXBwZXIuYXR0cigiYXJpYS1sYWJlbGxlZC1ieSIsdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtbGFiZWxsZWQtYnkiKSksdGhpcy5fdXBkYXRlQm91bmRhcmllcygpLHRoaXN9LGlzTWluaW1pemVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5pc01pbmltaXplZH0scGluOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPXQod2luZG93KSxvPWkud3JhcHBlcixzPWkub3B0aW9ucyxhPXMucG9zaXRpb24sbD10aGlzLmNvbnRhaW5tZW50P3Iob1swXSkudG9wK24odGhpcy5jb250YWlubWVudCwiYm9yZGVyVG9wV2lkdGgiKTpuKG8sInRvcCIpLGQ9dGhpcy5jb250YWlubWVudD9yKG9bMF0pLmxlZnQrbih0aGlzLmNvbnRhaW5tZW50LCJib3JkZXJMZWZ0V2lkdGgiKTpuKG8sImxlZnQiKTtpLm9wdGlvbnMuaXNNYXhpbWl6ZWR8fChhLnRvcD1sLGEubGVmdD1kLCFpLl9zY3JvbGxJc0FwcGVuZGVkfHx0aGlzLmNvbnRhaW5tZW50JiYiZml4ZWQiPT09dGhpcy5jb250YWlubWVudC5jc3MoInBvc2l0aW9uIil8fChhLnRvcC09ZS5zY3JvbGxUb3AoKSxhLmxlZnQtPWUuc2Nyb2xsTGVmdCgpLGkuX3Njcm9sbElzQXBwZW5kZWQ9ITEpLG8uY3NzKF8oYSx7cG9zaXRpb246ImZpeGVkIn0pKSxvLmNoaWxkcmVuKEwpLmZpbmQoZXQpLmFkZENsYXNzKCJrLWktdW5waW4iKS5yZW1vdmVDbGFzcygiay1pLXBpbiIpLGkuX2lzUGlubmVkPSEwLGkub3B0aW9ucy5waW5uZWQ9ITAsdGhpcy5jb250YWlubWVudCYmKHMubWF4V2lkdGg9cy5tYXhIZWlnaHQ9MS8wLG8uY3NzKHttYXhXaWR0aDoiIixtYXhIZWlnaHQ6IiJ9KSkpfSx1bnBpbjpmdW5jdGlvbigpe3ZhciBpPXRoaXMsZT10KHdpbmRvdykscz1pLndyYXBwZXIscj1pLm9wdGlvbnMsYT1pLm9wdGlvbnMucG9zaXRpb24sbD1pLmNvbnRhaW5tZW50LGQ9cGFyc2VJbnQocy5jc3MoInRvcCIpLDEwKStlLnNjcm9sbFRvcCgpLHA9cGFyc2VJbnQocy5jc3MoImxlZnQiKSwxMCkrZS5zY3JvbGxMZWZ0KCk7aS5vcHRpb25zLmlzTWF4aW1pemVkfHwoaS5faXNQaW5uZWQ9ITEsaS5fc2Nyb2xsSXNBcHBlbmRlZD0hMCxpLm9wdGlvbnMucGlubmVkPSExLGwmJihpLl91cGRhdGVCb3VuZGFyaWVzKCksci5tYXhXaWR0aD1NYXRoLm1pbihsLndpZHRoLHIubWF4V2lkdGgpLHIubWF4SGVpZ2h0PU1hdGgubWluKGwuaGVpZ2h0LW4ocywicGFkZGluZy10b3AiKSxyLm1heEhlaWdodCkscy5jc3Moe21heFdpZHRoOnIubWF4V2lkdGgsbWF4SGVpZ2h0OnIubWF4SGVpZ2h0fSksZD1kPGwucG9zaXRpb24udG9wP2kubWluVG9wOmQ+bC5wb3NpdGlvbi50b3ArbC5oZWlnaHQ/aS5tYXhUb3A6ZCtsLnNjcm9sbFRvcCgpLShsLnBvc2l0aW9uLnRvcCtuKGwsImJvcmRlci10b3Atd2lkdGgiKSkscD1wPGwucG9zaXRpb24ubGVmdD9pLm1pbkxlZnQ6cD5sLnBvc2l0aW9uLmxlZnQrbC53aWR0aD9pLm1heExlZnQ6cCtsLnNjcm9sbExlZnQoKS0obC5wb3NpdGlvbi5sZWZ0K24obCwiYm9yZGVyLWxlZnQtd2lkdGgiKSkpLGEudG9wPW8oZCxpLm1pblRvcCxpLm1heFRvcCksYS5sZWZ0PW8ocCxpLm1pbkxlZnQsaS5tYXhMZWZ0KSxzLmNzcyhfKGEse3Bvc2l0aW9uOiIifSkpLHMuY2hpbGRyZW4oTCkuZmluZChudCkuYWRkQ2xhc3MoImstaS1waW4iKS5yZW1vdmVDbGFzcygiay1pLXVucGluIikpfSxfb25Eb2N1bWVudFJlc2l6ZTpmdW5jdGlvbigpe3ZhciBpLGUsbyxzLHIsYT10aGlzLGw9YS53cmFwcGVyLHA9dCh3aW5kb3cpLGM9ZC5zdXBwb3J0Lnpvb21MZXZlbCgpLGg9ImNvbnRlbnQtYm94Ij09bC5jc3MoImJveC1zaXppbmciKTthLm9wdGlvbnMuaXNNYXhpbWl6ZWQmJihvPWg/bihsLCJib3JkZXItbGVmdC13aWR0aCIpK24obCwiYm9yZGVyLXJpZ2h0LXdpZHRoIik6MCxzPWg/bihsLCJib3JkZXItdG9wLXdpZHRoIikrbihsLCJib3JkZXItYm90dG9tLXdpZHRoIik6MCxyPWg/bihsLCJwYWRkaW5nLXRvcCIpOjAsYS5jb250YWlubWVudCYmIWEuX2lzUGlubmVkPyhpPWEuY29udGFpbm1lbnQuaW5uZXJXaWR0aCgpLW8sZT1hLmNvbnRhaW5tZW50LmlubmVySGVpZ2h0KCktKHMrcikpOihpPXAud2lkdGgoKS9jLW8sZT1wLmhlaWdodCgpL2MtKHMrcikpLGwuY3NzKHt3aWR0aDppLGhlaWdodDplfSksYS5vcHRpb25zLndpZHRoPWksYS5vcHRpb25zLmhlaWdodD1lLGEucmVzaXplKCkpfSxyZWZyZXNoOmZ1bmN0aW9uKGkpe3ZhciBuLG8scyxyPXRoaXMsYT1yLm9wdGlvbnMsbD10KHIuZWxlbWVudCk7cmV0dXJuIGYoaSl8fChpPXt1cmw6aX0pLGk9Xyh7fSxhLmNvbnRlbnQsaSksbz1lKGEuaWZyYW1lKT9hLmlmcmFtZTppLmlmcmFtZSxzPWkudXJsLHM/KGUobyl8fChvPSFkdChzKSksbz8obj1sLmZpbmQoIi4iK1MpWzBdLG4/bi5zcmM9c3x8bi5zcmM6bC5odG1sKGh0LmNvbnRlbnRGcmFtZShfKHt9LGEse2NvbnRlbnQ6aX0pKSksbC5maW5kKCIuIitTKS51bmJpbmQoImxvYWQiK3opLm9uKCJsb2FkIit6LHcodGhpcy5fdHJpZ2dlclJlZnJlc2gsdGhpcykpKTpyLl9hamF4UmVxdWVzdChpKSk6KGkudGVtcGxhdGUmJnIuY29udGVudCh4KGkudGVtcGxhdGUpKHt9KSksci50cmlnZ2VyKEIpKSxsLnRvZ2dsZUNsYXNzKCJrLXdpbmRvdy1pZnJhbWVjb250ZW50IiwhIW8pLHJ9LF90cmlnZ2VyUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcihCKX0sX2FqYXhDb21wbGV0ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkaW5nSWNvblRpbWVvdXQpLHRoaXMud3JhcHBlci5maW5kKHJ0KS5yZW1vdmVDbGFzcyhIKX0sX2FqYXhFcnJvcjpmdW5jdGlvbih0LGkpe3RoaXMudHJpZ2dlcihZLHtzdGF0dXM6aSx4aHI6dH0pfSxfYWpheFN1Y2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciBlPWk7dCYmKGU9eCh0KShpfHx7fSkpLHRoaXMuY29udGVudChlLGkpLHRoaXMuZWxlbWVudC5wcm9wKCJzY3JvbGxUb3AiLDApLHRoaXMudHJpZ2dlcihCKX19LF9zaG93TG9hZGluZzpmdW5jdGlvbigpe3RoaXMud3JhcHBlci5maW5kKHJ0KS5hZGRDbGFzcyhIKX0sX2FqYXhSZXF1ZXN0OmZ1bmN0aW9uKGkpe3RoaXMuX2xvYWRpbmdJY29uVGltZW91dD1zZXRUaW1lb3V0KHcodGhpcy5fc2hvd0xvYWRpbmcsdGhpcyksMTAwKSx0LmFqYXgoXyh7dHlwZToiR0VUIixkYXRhVHlwZToiaHRtbCIsY2FjaGU6ITEsZXJyb3I6dyh0aGlzLl9hamF4RXJyb3IsdGhpcyksY29tcGxldGU6dyh0aGlzLl9hamF4Q29tcGxldGUsdGhpcyksc3VjY2Vzczp3KHRoaXMuX2FqYXhTdWNjZXNzKGkudGVtcGxhdGUpLHRoaXMpfSxpKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZXNpemluZyYmdGhpcy5yZXNpemluZy5kZXN0cm95KCksdGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5kZXN0cm95KCksdGhpcy53cmFwcGVyLm9mZih6KS5jaGlsZHJlbihNKS5vZmYoeikuZW5kKCkuZmluZCgiLmstcmVzaXplLWhhbmRsZSwuay13aW5kb3ctdGl0bGViYXIiKS5vZmYoeiksdCh3aW5kb3cpLm9mZigicmVzaXplIit6K3RoaXMuX21hcmtlciksdCh3aW5kb3cpLm9mZihrKSx0KHdpbmRvdykub2ZmKHopLGNsZWFyVGltZW91dCh0aGlzLl9sb2FkaW5nSWNvblRpbWVvdXQpLHAuZm4uZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMudW5iaW5kKGkpLGQuZGVzdHJveSh0aGlzLndyYXBwZXIpLHRoaXMuX3JlbW92ZU92ZXJsYXkoITApfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMud3JhcHBlci5lbXB0eSgpLnJlbW92ZSgpLHRoaXMud3JhcHBlcj10aGlzLmFwcGVuZFRvPXRoaXMuZWxlbWVudD10KCl9LF9jcmVhdGVXaW5kb3c6ZnVuY3Rpb24oKXt2YXIgaSxlLG49dGhpcy5lbGVtZW50LG89dGhpcy5vcHRpb25zLHM9ZC5zdXBwb3J0LmlzUnRsKG4pO28uc2Nyb2xsYWJsZT09PSExJiZuLmNzcygib3ZlcmZsb3ciLCJoaWRkZW4iKSxlPXQoaHQud3JhcHBlcihvKSksaT1uLmZpbmQoImlmcmFtZTpub3QoLmstY29udGVudCkiKS5tYXAoZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF0dHJpYnV0ZSgic3JjIik7cmV0dXJuIHRoaXMuc3JjPSIiLHR9KSxlLnRvZ2dsZUNsYXNzKCJrLXJ0bCIscykuYXBwZW5kKG4pLmZpbmQoImlmcmFtZTpub3QoLmstY29udGVudCkiKS5lYWNoKGZ1bmN0aW9uKHQpe3RoaXMuc3JjPWlbdF19KSx0aGlzLmNvbnRhaW5tZW50P3RoaXMuY29udGFpbm1lbnQucHJlcGVuZChlKTp0aGlzLmFwcGVuZFRvJiZlLmFwcGVuZFRvKHRoaXMuYXBwZW5kVG8pLGUuZmluZCgiLmstd2luZG93LXRpdGxlIikuY3NzKHM/ImxlZnQiOiJyaWdodCIsZyhlLmZpbmQoIi5rLXdpbmRvdy1hY3Rpb25zIikpKzEwKSxuLmNzcygidmlzaWJpbGl0eSIsIiIpLnNob3coKSxuLmZpbmQoIltkYXRhLXJvbGU9ZWRpdG9yXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10KHRoaXMpLmRhdGEoImtlbmRvRWRpdG9yIik7aSYmaS5yZWZyZXNoKCl9KSxlPW49bnVsbH19KSxodD17d3JhcHBlcjp4KCI8ZGl2IGNsYXNzPSdrLXdpZGdldCBrLXdpbmRvdycgLz4iKSxhY3Rpb246eCgiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdcXCMnIGNsYXNzPSdrLWJ1dHRvbiBrLWJhcmUgay1idXR0b24taWNvbiBrLXdpbmRvdy1hY3Rpb24nIGFyaWEtbGFiZWw9JyM9IG5hbWUgIyc+PHNwYW4gY2xhc3M9J2staWNvbiBrLWktIz0gbmFtZS50b0xvd2VyQ2FzZSgpICMnPjwvc3Bhbj48L2E+IiksdGl0bGViYXI6eCgiPGRpdiBjbGFzcz0nay13aW5kb3ctdGl0bGViYXIgay1oZWFkZXInPjxzcGFuIGNsYXNzPSdrLXdpbmRvdy10aXRsZSc+Iz0gdGl0bGUgIzwvc3Bhbj48ZGl2IGNsYXNzPSdrLXdpbmRvdy1hY3Rpb25zJyAvPjwvZGl2PiIpLG92ZXJsYXk6IjxkaXYgY2xhc3M9J2stb3ZlcmxheScgLz4iLGNvbnRlbnRGcmFtZTp4KCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB0aXRsZT0nIz0gdGl0bGUgIycgY2xhc3M9JyIrUysiJyBzcmM9JyM9IGNvbnRlbnQudXJsICMnPlRoaXMgcGFnZSByZXF1aXJlcyBmcmFtZXMgaW4gb3JkZXIgdG8gc2hvdyBjb250ZW50PC9pZnJhbWU+IikscmVzaXplSGFuZGxlOngoIjxkaXYgY2xhc3M9J2stcmVzaXplLWhhbmRsZSBrLXJlc2l6ZS0jPSBkYXRhICMnPjwvZGl2PiIpfTthLnByb3RvdHlwZT17YWRkT3ZlcmxheTpmdW5jdGlvbigpe3RoaXMub3duZXIud3JhcHBlci5hcHBlbmQoaHQub3ZlcmxheSl9LHJlbW92ZU92ZXJsYXk6ZnVuY3Rpb24oKXt0aGlzLm93bmVyLndyYXBwZXIuZmluZChXKS5yZW1vdmUoKX0sZHJhZ3N0YXJ0OmZ1bmN0aW9uKGkpe3ZhciBlLG4sbyxzLGEsbCxwLGM9dGhpcyxoPWMub3duZXIsZj1oLndyYXBwZXI7Yy5fcHJldmVudERyYWdnaW5nPWgudHJpZ2dlcihHKSxjLl9wcmV2ZW50RHJhZ2dpbmd8fChjLmVsZW1lbnRQYWRkaW5nPXBhcnNlSW50KGYuY3NzKCJwYWRkaW5nLXRvcCIpLDEwKSxjLmluaXRpYWxQb3NpdGlvbj1kLmdldE9mZnNldChmLCJwb3NpdGlvbiIpLGMucmVzaXplRGlyZWN0aW9uPWkuY3VycmVudFRhcmdldC5wcm9wKCJjbGFzc05hbWUiKS5yZXBsYWNlKCJrLXJlc2l6ZS1oYW5kbGUgay1yZXNpemUtIiwiIiksYy5pbml0aWFsU2l6ZT17d2lkdGg6Zi53aWR0aCgpLGhlaWdodDpmLmhlaWdodCgpfSxoLl91cGRhdGVCb3VuZGFyaWVzKCksYy5jb250YWluZXJPZmZzZXQ9aC5jb250YWlubWVudD9oLmNvbnRhaW5tZW50LnBvc2l0aW9uOmQuZ2V0T2Zmc2V0KGguYXBwZW5kVG8sInBvc2l0aW9uIiksZT1mLm9mZnNldFBhcmVudCgpLGUuaXMoImh0bWwiKT9jLmNvbnRhaW5lck9mZnNldC50b3A9Yy5jb250YWluZXJPZmZzZXQubGVmdD0wOihuPWUuY3NzKCJtYXJnaW4tdG9wIiksbz1lLmNzcygibWFyZ2luLWxlZnQiKSxzPSFsdC50ZXN0KG4pfHwhbHQudGVzdChvKSxzJiYoYT1yKGZbMF0pLGw9YS5sZWZ0LWMuY29udGFpbmVyT2Zmc2V0LmxlZnQtYy5pbml0aWFsUG9zaXRpb24ubGVmdCxwPWEudG9wLWMuY29udGFpbmVyT2Zmc2V0LnRvcC1jLmluaXRpYWxQb3NpdGlvbi50b3AsYy5fcmVsYXRpdmVFbE1hcmdpbkxlZnQ9bD4xP2w6MCxjLl9yZWxhdGl2ZUVsTWFyZ2luVG9wPXA+MT9wOjAsYy5pbml0aWFsUG9zaXRpb24ubGVmdCs9Yy5fcmVsYXRpdmVFbE1hcmdpbkxlZnQsYy5pbml0aWFsUG9zaXRpb24udG9wKz1jLl9yZWxhdGl2ZUVsTWFyZ2luVG9wKSksZi5jaGlsZHJlbihPKS5ub3QoaS5jdXJyZW50VGFyZ2V0KS5oaWRlKCksdChiKS5jc3MoUixpLmN1cnJlbnRUYXJnZXQuY3NzKFIpKSl9LGRyYWc6ZnVuY3Rpb24oaSl7dmFyIGUsbixzLHIsYSxsLHAsYyxoLGYsbSxnLHUsdyxfLHYseCxiLHosazt0aGlzLl9wcmV2ZW50RHJhZ2dpbmd8fChlPXRoaXMsbj1lLm93bmVyLHM9bi53cmFwcGVyLHI9bi5vcHRpb25zLGE9ci5wb3NpdGlvbixsPWUucmVzaXplRGlyZWN0aW9uLHA9ZS5jb250YWluZXJPZmZzZXQsYz1lLmluaXRpYWxQb3NpdGlvbixoPWUuaW5pdGlhbFNpemUsZj1uLmNvbnRhaW5tZW50JiYhbi5faXNQaW5uZWQsbT1kLnN1cHBvcnQuaXNSdGwobi5jb250YWlubWVudCksZz1mJiZtJiZuLmNvbnRhaW5tZW50LmlubmVyV2lkdGgoKT5uLmNvbnRhaW5tZW50LndpZHRoP2Quc3VwcG9ydC5zY3JvbGxiYXIoKTowLHU9Zj97dG9wOm4uY29udGFpbm1lbnQuc2Nyb2xsVG9wKCksbGVmdDpuLmNvbnRhaW5tZW50LnNjcm9sbExlZnQoKX06e3RvcDowLGxlZnQ6MH0sYj1NYXRoLm1heChpLngubG9jYXRpb24sMCksej1NYXRoLm1heChpLnkubG9jYXRpb24sMCksbC5pbmRleE9mKCJlIik+PTA/KHc9bi5jb250YWlubWVudCYmYi1oLndpZHRoPj1uLm1heExlZnQtdS5sZWZ0K3AubGVmdCtnP24ubWF4TGVmdCtnLWMubGVmdCtoLndpZHRoLXUubGVmdDpiLWMubGVmdC1wLmxlZnQscy53aWR0aChvKHcsci5taW5XaWR0aCxyLm1heFdpZHRoKSkpOmwuaW5kZXhPZigidyIpPj0wJiYoeD1jLmxlZnQraC53aWR0aCtwLmxlZnQsdz1vKHgtYixyLm1pbldpZHRoLHIubWF4V2lkdGgpLGEubGVmdD14LXctcC5sZWZ0LWctKGUuX3JlbGF0aXZlRWxNYXJnaW5MZWZ0fHwwKSt1LmxlZnQsbi5jb250YWlubWVudCYmYS5sZWZ0PD1uLm1pbkxlZnQmJihhLmxlZnQ9bi5taW5MZWZ0LHc9byh4LWctYS5sZWZ0LXAubGVmdCt1LmxlZnQsci5taW5XaWR0aCxyLm1heFdpZHRoKSkscy5jc3Moe2xlZnQ6YS5sZWZ0LHdpZHRoOnd9KSksaz16LG4ub3B0aW9ucy5waW5uZWQmJihrLT10KHdpbmRvdykuc2Nyb2xsVG9wKCkpLGwuaW5kZXhPZigicyIpPj0wPyhfPWstYy50b3AtZS5lbGVtZW50UGFkZGluZy1wLnRvcCxrLWguaGVpZ2h0LWUuZWxlbWVudFBhZGRpbmc+PW4ubWF4VG9wK3AudG9wLXUudG9wJiYoXz1uLm1heFRvcC1jLnRvcCtoLmhlaWdodC11LnRvcCkscy5oZWlnaHQobyhfLHIubWluSGVpZ2h0LHIubWF4SGVpZ2h0KSkpOmwuaW5kZXhPZigibiIpPj0wJiYodj1jLnRvcCtoLmhlaWdodCtwLnRvcCxfPW8odi1rLHIubWluSGVpZ2h0LHIubWF4SGVpZ2h0KSxhLnRvcD12LV8tcC50b3AtKGUuX3JlbGF0aXZlRWxNYXJnaW5Ub3B8fDApK3UudG9wLGEudG9wPD1uLm1pblRvcCYmbi5jb250YWlubWVudCYmKGEudG9wPW4ubWluVG9wLF89byh2LWEudG9wLXAudG9wK3UudG9wLHIubWluSGVpZ2h0LHIubWF4SGVpZ2h0KSkscy5jc3Moe3RvcDphLnRvcCxoZWlnaHQ6X30pKSx3JiYobi5vcHRpb25zLndpZHRoPXcrInB4IiksXyYmKG4ub3B0aW9ucy5oZWlnaHQ9XysicHgiKSxuLnJlc2l6ZSgpKX0sZHJhZ2VuZDpmdW5jdGlvbihpKXtpZighdGhpcy5fcHJldmVudERyYWdnaW5nKXt2YXIgZT10aGlzLG49ZS5vd25lcixvPW4ud3JhcHBlcjtyZXR1cm4gby5jaGlsZHJlbihPKS5ub3QoaS5jdXJyZW50VGFyZ2V0KS5zaG93KCksdChiKS5jc3MoUiwiIiksbi50b3VjaFNjcm9sbGVyJiZuLnRvdWNoU2Nyb2xsZXIucmVzZXQoKSwyNz09aS5rZXlDb2RlJiZvLmNzcyhlLmluaXRpYWxQb3NpdGlvbikuY3NzKGUuaW5pdGlhbFNpemUpLG4udHJpZ2dlcihWKSwhMX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5kZXN0cm95KCksdGhpcy5fZHJhZ2dhYmxlPXRoaXMub3duZXI9bnVsbH19LGwucHJvdG90eXBlPXtkcmFnc3RhcnQ6ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcy5vd25lcixuPWUub3B0aW9ucy5kcmFnZ2FibGUsbz1lLmVsZW1lbnQscz1vLmZpbmQoIi5rLXdpbmRvdy1hY3Rpb25zIikscj1kLmdldE9mZnNldChlLmFwcGVuZFRvKTt0aGlzLl9wcmV2ZW50RHJhZ2dpbmc9ZS50cmlnZ2VyKFEpfHwhbix0aGlzLl9wcmV2ZW50RHJhZ2dpbmd8fGUuaXNNYXhpbWl6ZWQoKXx8KGUuaW5pdGlhbFdpbmRvd1Bvc2l0aW9uPWQuZ2V0T2Zmc2V0KGUud3JhcHBlciwicG9zaXRpb24iKSxlLmluaXRpYWxQb2ludGVyUG9zaXRpb249e2xlZnQ6ZS5vcHRpb25zLnBvc2l0aW9uLmxlZnQsdG9wOmUub3B0aW9ucy5wb3NpdGlvbi50b3B9LGUuc3RhcnRQb3NpdGlvbj17bGVmdDppLnguY2xpZW50LWUuaW5pdGlhbFdpbmRvd1Bvc2l0aW9uLmxlZnQsdG9wOmkueS5jbGllbnQtZS5pbml0aWFsV2luZG93UG9zaXRpb24udG9wfSxlLl91cGRhdGVCb3VuZGFyaWVzKCksZS5jb250YWlubWVudHx8KGUubWluTGVmdD1zLmxlbmd0aD4wP2cocykrcGFyc2VJbnQocy5jc3MoInJpZ2h0IiksMTApLWcobyk6MjAtZyhvKSxlLm1pbkxlZnQtPXIubGVmdCxlLm1pblRvcD0tci50b3ApLGUud3JhcHBlci5hcHBlbmQoaHQub3ZlcmxheSkuY2hpbGRyZW4oTykuaGlkZSgpLHQoYikuY3NzKFIsaS5jdXJyZW50VGFyZ2V0LmNzcyhSKSkpfSxkcmFnOmZ1bmN0aW9uKGkpe3ZhciBlLG4scz10aGlzLm93bmVyLHI9cy5vcHRpb25zLnBvc2l0aW9uLGE9cy5vcHRpb25zLmRyYWdnYWJsZS5heGlzO3RoaXMuX3ByZXZlbnREcmFnZ2luZ3x8cy5pc01heGltaXplZCgpfHwoYSYmIngiIT09YS50b0xvd2VyQ2FzZSgpfHwoZT1pLnguY2xpZW50LXMuc3RhcnRQb3NpdGlvbi5sZWZ0LHMuY29udGFpbm1lbnQmJiFzLl9pc1Bpbm5lZCYmKGUrPXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpKSxyLmxlZnQ9byhlLHMubWluTGVmdCxzLm1heExlZnQpKSxhJiYieSIhPT1hLnRvTG93ZXJDYXNlKCl8fChuPWkueS5jbGllbnQtcy5zdGFydFBvc2l0aW9uLnRvcCxzLmNvbnRhaW5tZW50JiYhcy5faXNQaW5uZWQmJihuKz1zLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpKSxyLnRvcD1vKG4scy5taW5Ub3Ascy5tYXhUb3ApKSxkLnN1cHBvcnQudHJhbnNmb3Jtcz90KHMud3JhcHBlcikuY3NzKCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIisoci5sZWZ0LXMuaW5pdGlhbFBvaW50ZXJQb3NpdGlvbi5sZWZ0KSsicHgsICIrKHIudG9wLXMuaW5pdGlhbFBvaW50ZXJQb3NpdGlvbi50b3ApKyJweCkiKTp0KHMud3JhcHBlcikuY3NzKHIpKX0sX2ZpbmlzaERyYWc6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyO2kud3JhcHBlci5jaGlsZHJlbihPKS50b2dnbGUoIWkub3B0aW9ucy5pc01pbmltaXplZCkuZW5kKCkuZmluZChXKS5yZW1vdmUoKSx0KGIpLmNzcyhSLCIiKX0sZHJhZ2NhbmNlbDpmdW5jdGlvbih0KXt0aGlzLl9wcmV2ZW50RHJhZ2dpbmd8fCh0aGlzLl9maW5pc2hEcmFnKCksdC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoVCkuY3NzKHRoaXMub3duZXIuaW5pdGlhbFdpbmRvd1Bvc2l0aW9uKSl9LGRyYWdlbmQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyO2lmKCF0aGlzLl9wcmV2ZW50RHJhZ2dpbmcmJiFpLmlzTWF4aW1pemVkKCkpcmV0dXJuIHQoaS53cmFwcGVyKS5jc3MoaS5vcHRpb25zLnBvc2l0aW9uKS5jc3MoInRyYW5zZm9ybSIsIiIpLHRoaXMuX2ZpbmlzaERyYWcoKSxpLnRyaWdnZXIoWCksITF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5kZXN0cm95KCksdGhpcy5fZHJhZ2dhYmxlPXRoaXMub3duZXI9bnVsbH19LGQudWkucGx1Z2luKGN0KX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbih0LGksZSl7KGV8fGkpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLndpbmRvdy5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbihlLGRlZmluZSl7ZGVmaW5lKCJrZW5kby5kYXRhLm1pbiIsWyJrZW5kby5jb3JlLm1pbiIsImtlbmRvLmRhdGEub2RhdGEubWluIiwia2VuZG8uZGF0YS54bWwubWluIl0sZSl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQscixpKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGEscz17fTtmb3IoYSBpbiBuKXNbYV09blthXTtzLmZpZWxkPWk/cisiLiIrbi5maWVsZDpyLHQ9PUllJiZlLl9ub3RpZnlDaGFuZ2UmJmUuX25vdGlmeUNoYW5nZShzKSxlLnRyaWdnZXIodCxzKX19ZnVuY3Rpb24gaSh0LHIpe2lmKHQ9PT1yKXJldHVybiEwO3ZhciBuLGE9ZS50eXBlKHQpLHM9ZS50eXBlKHIpO2lmKGEhPT1zKXJldHVybiExO2lmKCJkYXRlIj09PWEpcmV0dXJuIHQuZ2V0VGltZSgpPT09ci5nZXRUaW1lKCk7aWYoIm9iamVjdCIhPT1hJiYiYXJyYXkiIT09YSlyZXR1cm4hMTtmb3IobiBpbiB0KWlmKCFpKHRbbl0scltuXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbihlLHQpe3ZhciByLGk7Zm9yKGkgaW4gZSl7aWYocj1lW2ldLHZlKHIpJiZyLmZpZWxkJiZyLmZpZWxkPT09dClyZXR1cm4gcjtpZihyPT09dClyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBhKGUpe3RoaXMuZGF0YT1lfHxbXX1mdW5jdGlvbiBzKGUscil7aWYoZSl7dmFyIGk9dHlwZW9mIGU9PT1EZT97ZmllbGQ6ZSxkaXI6cn06ZSxuPXllKGkpP2k6aSE9PXQ/W2ldOltdO3JldHVybiBTZShuLGZ1bmN0aW9uKGUpe3JldHVybiEhZS5kaXJ9KX19ZnVuY3Rpb24gbyhlLHIpe3ZhciBpLG4sYSxzPXt9O2lmKGUpZm9yKGk9dHlwZW9mIGU9PT1EZT97ZmllbGQ6ZSxkaXI6cn06ZSxuPXllKGkpP2k6aSE9PXQ/W2ldOltdLGE9MDthPG4ubGVuZ3RoO2ErKylzW25bYV0uZmllbGRdPXtkaXI6blthXS5kaXIsaW5kZXg6YSsxfTtyZXR1cm4gc31mdW5jdGlvbiB1KGUpe3ZhciB0LHIsaSxuLGE9ZS5maWx0ZXJzO2lmKGEpZm9yKHQ9MCxyPWEubGVuZ3RoO3Q8cjt0KyspaT1hW3RdLG49aS5vcGVyYXRvcixuJiZ0eXBlb2Ygbj09PURlJiYoaS5vcGVyYXRvcj1pZVtuLnRvTG93ZXJDYXNlKCldfHxuKSx1KGkpfWZ1bmN0aW9uIGwoZSl7aWYoZSYmIW1lKGUpKXJldHVybiF5ZShlKSYmZS5maWx0ZXJzfHwoZT17bG9naWM6ImFuZCIsZmlsdGVyczp5ZShlKT9lOltlXX0pLHUoZSksZX1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIWUubG9naWMmJiF0LmxvZ2ljJiYoZS5maWVsZD09PXQuZmllbGQmJmUudmFsdWU9PT10LnZhbHVlJiZlLm9wZXJhdG9yPT09dC5vcGVyYXRvcil9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZT1lfHx7fSxtZShlKT97bG9naWM6ImFuZCIsZmlsdGVyczpbXX06bChlKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIHQubG9naWN8fGUuZmllbGQ+dC5maWVsZD8xOmUuZmllbGQ8dC5maWVsZD8tMTowfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcixpLG4sYSxzO2lmKGU9ZChlKSx0PWQodCksZS5sb2dpYyE9PXQubG9naWMpcmV0dXJuITE7aWYobj0oZS5maWx0ZXJzfHxbXSkuc2xpY2UoKSxhPSh0LmZpbHRlcnN8fFtdKS5zbGljZSgpLG4ubGVuZ3RoIT09YS5sZW5ndGgpcmV0dXJuITE7Zm9yKG49bi5zb3J0KGYpLGE9YS5zb3J0KGYpLHM9MDtzPG4ubGVuZ3RoO3MrKylpZihyPW5bc10saT1hW3NdLHIubG9naWMmJmkubG9naWMpe2lmKCFjKHIsaSkpcmV0dXJuITF9ZWxzZSBpZighaChyLGkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIHllKGUpP2U6W2VdfWZ1bmN0aW9uIHAoZSxyLGksbil7dmFyIGE9dHlwZW9mIGU9PT1EZT97ZmllbGQ6ZSxkaXI6cixjb21wYXJlOmksc2tpcEl0ZW1Tb3J0aW5nOm59OmUscz15ZShhKT9hOmEhPT10P1thXTpbXTtyZXR1cm4gVyhzLGZ1bmN0aW9uKGUpe3JldHVybntmaWVsZDplLmZpZWxkLGRpcjplLmRpcnx8ImFzYyIsYWdncmVnYXRlczplLmFnZ3JlZ2F0ZXMsY29tcGFyZTplLmNvbXBhcmUsc2tpcEl0ZW1Tb3J0aW5nOmUuc2tpcEl0ZW1Tb3J0aW5nfX0pfWZ1bmN0aW9uIF8oZSx0LHIpe3ZhciBpLG49cChlLHQscik7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylkZWxldGUgbltpXS5jb21wYXJlO3JldHVybiBufWZ1bmN0aW9uIHYoZSl7dmFyIHQscj15ZShlKT9lOltlXTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKWlmKHJbdF0mJnhlKHJbdF0uY29tcGFyZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbShlLHQpe3JldHVybiBlJiZlLmdldFRpbWUmJnQmJnQuZ2V0VGltZT9lLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpOmU9PT10fWZ1bmN0aW9uIHkoZSx0LHIsaSxuLGEpe3ZhciBzLG8sdSxsLGg7Zm9yKHQ9dHx8W10sbD10Lmxlbmd0aCxzPTA7czxsO3MrKylvPXRbc10sdT1vLmFnZ3JlZ2F0ZSxoPW8uZmllbGQsZVtoXT1lW2hdfHx7fSxhW2hdPWFbaF18fHt9LGFbaF1bdV09YVtoXVt1XXx8e30sZVtoXVt1XT1uZVt1LnRvTG93ZXJDYXNlKCldKGVbaF1bdV0scixGZS5hY2Nlc3NvcihoKSxpLG4sYVtoXVt1XSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJiFpc05hTihlKX1mdW5jdGlvbiBiKGUpe3JldHVybiBlJiZlLmdldFRpbWV9ZnVuY3Rpb24gdyhlKXt2YXIgdCxyPWUubGVuZ3RoLGk9QXJyYXkocik7Zm9yKHQ9MDt0PHI7dCsrKWlbdF09ZVt0XS50b0pTT04oKTtyZXR1cm4gaX1mdW5jdGlvbiBrKGUsdCxyLGksbil7dmFyIGEscyxvLHUsbCxoPXt9O2Zvcih1PTAsbD1lLmxlbmd0aDt1PGw7dSsrKXthPWVbdV07Zm9yKHMgaW4gdClvPW5bc10sbyYmbyE9PXMmJihoW29dfHwoaFtvXT1GZS5zZXR0ZXIobykpLGhbb10oYSx0W3NdKGEpKSxkZWxldGUgYVtzXSl9fWZ1bmN0aW9uIEYoZSx0LHIsaSxuKXt2YXIgYSxzLG8sdSxsO2Zvcih1PTAsbD1lLmxlbmd0aDt1PGw7dSsrKXthPWVbdV07Zm9yKHMgaW4gdClhW3NdPXIuX3BhcnNlKHMsdFtzXShhKSksbz1uW3NdLG8mJm8hPT1zJiZkZWxldGUgYVtvXX19ZnVuY3Rpb24geChlLHQscixpLG4pe3ZhciBhLHMsbyx1O2ZvcihzPTAsdT1lLmxlbmd0aDtzPHU7cysrKWE9ZVtzXSxvPWlbYS5maWVsZF0sbyYmbyE9YS5maWVsZCYmKGEuZmllbGQ9byksYS52YWx1ZT1yLl9wYXJzZShhLmZpZWxkLGEudmFsdWUpLGEuaGFzU3ViZ3JvdXBzP3goYS5pdGVtcyx0LHIsaSxuKTpGKGEuaXRlbXMsdCxyLGksbil9ZnVuY3Rpb24gUihlLHQscixpLG4sYSl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBzPWUocykscSh0LHIsaSxuLGEpKHMpfX1mdW5jdGlvbiBxKGUsdCxyLGksbil7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhJiYhbWUocikmJigiW29iamVjdCBBcnJheV0iPT09ZXQuY2FsbChhKXx8YSBpbnN0YW5jZW9mIGl0fHwoYT1bYV0pLHQoYSxyLG5ldyBlLGksbikpLGF8fFtdfX1mdW5jdGlvbiBEKGUsdCl7dmFyIHIsaSxuO2lmKHQuaXRlbXMmJnQuaXRlbXMubGVuZ3RoKWZvcihuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspcj1lLml0ZW1zW25dLGk9dC5pdGVtc1tuXSxyJiZpP3IuaGFzU3ViZ3JvdXBzP0QocixpKTpyLmZpZWxkJiZyLnZhbHVlPT1pLnZhbHVlP3IuaXRlbXMucHVzaC5hcHBseShyLml0ZW1zLGkuaXRlbXMpOmUuaXRlbXMucHVzaC5hcHBseShlLml0ZW1zLFtpXSk6aSYmZS5pdGVtcy5wdXNoLmFwcGx5KGUuaXRlbXMsW2ldKX1mdW5jdGlvbiB6KGUsdCxyLGkpe2Zvcih2YXIgbixhLHMsbz0wO3QubGVuZ3RoJiZpJiYobj10W29dLGE9bi5pdGVtcyxzPWEubGVuZ3RoLGUmJmUuZmllbGQ9PT1uLmZpZWxkJiZlLnZhbHVlPT09bi52YWx1ZT8oZS5oYXNTdWJncm91cHMmJmUuaXRlbXMubGVuZ3RoP3ooZS5pdGVtc1tlLml0ZW1zLmxlbmd0aC0xXSxuLml0ZW1zLHIsaSk6KGE9YS5zbGljZShyLHIraSksZS5pdGVtcz1lLml0ZW1zLmNvbmNhdChhKSksdC5zcGxpY2Uoby0tLDEpKTpuLmhhc1N1Ymdyb3VwcyYmYS5sZW5ndGg/KHoobixhLHIsaSksbi5pdGVtcy5sZW5ndGh8fHQuc3BsaWNlKG8tLSwxKSk6KGE9YS5zbGljZShyLHIraSksbi5pdGVtcz1hLG4uaXRlbXMubGVuZ3RofHx0LnNwbGljZShvLS0sMSkpLDA9PT1hLmxlbmd0aD9yLT1zOihyPTAsaS09YS5sZW5ndGgpLCEoKytvPj10Lmxlbmd0aCkpOyk7bzx0Lmxlbmd0aCYmdC5zcGxpY2Uobyx0Lmxlbmd0aC1vKX1mdW5jdGlvbiBDKGUsdCl7dmFyIHIsaSxuLGEscz1bXSxvPShlfHxbXSkubGVuZ3RoLHU9eGUodCk/dDpmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdfTtmb3Iobj0wO248bztuKyspaWYocj11KGUsbiksci5oYXNTdWJncm91cHMpcz1zLmNvbmNhdChDKHIuaXRlbXMpKTtlbHNlIGZvcihpPXIuaXRlbXMsYT0wO2E8aS5sZW5ndGg7YSsrKXMucHVzaCh1KGksYSkpO3JldHVybiBzfWZ1bmN0aW9uIE8oZSl7dmFyIHQscixpLG4sYSxzPVtdO2Zvcih0PTAscj1lLmxlbmd0aDt0PHI7dCsrKWlmKGE9ZS5hdCh0KSxhLmhhc1N1Ymdyb3VwcylzPXMuY29uY2F0KE8oYS5pdGVtcykpO2Vsc2UgZm9yKGk9YS5pdGVtcyxuPTA7bjxpLmxlbmd0aDtuKyspcy5wdXNoKGkuYXQobikpO3JldHVybiBzfWZ1bmN0aW9uIFAoZSx0KXt2YXIgcixpLG47aWYodClmb3Iocj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWUuYXQociksbi5oYXNTdWJncm91cHM/UChuLml0ZW1zLHQpOm4uaXRlbXM9bmV3ICQobi5pdGVtcyx0LG4uaXRlbXMuX2V2ZW50cyl9ZnVuY3Rpb24gVChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaGFzU3ViZ3JvdXBzKXtpZihUKGVbcl0uaXRlbXMsdCkpcmV0dXJuITB9ZWxzZSBpZih0KGVbcl0uaXRlbXMsZVtyXSkpcmV0dXJuITB9ZnVuY3Rpb24gQShlLHQscixpKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoJiZlW25dLmRhdGEhPT10JiYhSShlW25dLmRhdGEscixpKTtuKyspO31mdW5jdGlvbiBJKGUsdCxyKXtmb3IodmFyIGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspe2lmKGVbaV0mJmVbaV0uaGFzU3ViZ3JvdXBzKXJldHVybiBJKGVbaV0uaXRlbXMsdCxyKTtpZihlW2ldPT09dHx8ZVtpXT09PXIpcmV0dXJuIGVbaV09ciwhMH19ZnVuY3Rpb24gTShlLHIsaSxuLGEpe3ZhciBzLG8sdSxsO2ZvcihzPTAsbz1lLmxlbmd0aDtzPG87cysrKWlmKHU9ZVtzXSx1JiYhKHUgaW5zdGFuY2VvZiBuKSlpZih1Lmhhc1N1Ymdyb3Vwcz09PXR8fGEpe2ZvcihsPTA7bDxyLmxlbmd0aDtsKyspaWYocltsXT09PXUpe2Vbc109ci5hdChsKSxBKGkscix1LGVbc10pO2JyZWFrfX1lbHNlIE0odS5pdGVtcyxyLGksbixhKX1mdW5jdGlvbiBOKGUsdCl7dmFyIHIsaSxuPWUubGVuZ3RoO2ZvcihpPTA7aTxuO2krKylpZihyPWVbaV0sci51aWQmJnIudWlkPT10LnVpZClyZXR1cm4gZS5zcGxpY2UoaSwxKSxyfWZ1bmN0aW9uIEcoZSx0KXtyZXR1cm4gdD9qKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkJiZlLnVpZD09dC51aWR8fGVbdC5pZEZpZWxkXT09PXQuaWQmJnQuaWQhPT10Ll9kZWZhdWx0SWR9KTotMX1mdW5jdGlvbiBMKGUsdCl7cmV0dXJuIHQ/aihlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZD09dC51aWR9KTotMX1mdW5jdGlvbiBqKGUsdCl7dmFyIHIsaTtmb3Iocj0wLGk9ZS5sZW5ndGg7cjxpO3IrKylpZih0KGVbcl0pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIEUoZSx0KXt2YXIgcixpO3JldHVybiBlJiYhbWUoZSk/KHI9ZVt0XSxpPXZlKHIpP3IuZnJvbXx8ci5maWVsZHx8dDplW3RdfHx0LHhlKGkpP3Q6aSk6dH1mdW5jdGlvbiBCKGUsdCl7dmFyIHIsaSxuLGE9e307Zm9yKG4gaW4gZSkiZmlsdGVycyIhPT1uJiYoYVtuXT1lW25dKTtpZihlLmZpbHRlcnMpZm9yKGEuZmlsdGVycz1bXSxyPTAsaT1lLmZpbHRlcnMubGVuZ3RoO3I8aTtyKyspYS5maWx0ZXJzW3JdPUIoZS5maWx0ZXJzW3JdLHQpO2Vsc2UgYS5maWVsZD1FKHQuZmllbGRzLGEuZmllbGQpO3JldHVybiBhfWZ1bmN0aW9uIEgoZSx0KXt2YXIgcixpLG4sYSxzLG89W107Zm9yKHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe249e30sYT1lW3JdO2ZvcihzIGluIGEpbltzXT1hW3NdO24uZmllbGQ9RSh0LmZpZWxkcyxuLmZpZWxkKSxuLmFnZ3JlZ2F0ZXMmJnllKG4uYWdncmVnYXRlcykmJihuLmFnZ3JlZ2F0ZXM9SChuLmFnZ3JlZ2F0ZXMsdCkpLG8ucHVzaChuKX1yZXR1cm4gb31mdW5jdGlvbiBVKHQscil7dmFyIGksbixhLHMsbyx1LGwsaCxkLGY7Zm9yKHQ9ZSh0KVswXSxpPXQub3B0aW9ucyxuPXJbMF0sYT1yWzFdLHM9W10sbz0wLHU9aS5sZW5ndGg7bzx1O28rKylkPXt9LGg9aVtvXSxsPWgucGFyZW50Tm9kZSxsPT09dCYmKGw9bnVsbCksaC5kaXNhYmxlZHx8bCYmbC5kaXNhYmxlZHx8KGwmJihkLm9wdGdyb3VwPWwubGFiZWwpLGRbbi5maWVsZF09aC50ZXh0LGY9aC5hdHRyaWJ1dGVzLnZhbHVlLGY9ZiYmZi5zcGVjaWZpZWQ/aC52YWx1ZTpoLnRleHQsZFthLmZpZWxkXT1mLHMucHVzaChkKSk7cmV0dXJuIHN9ZnVuY3Rpb24gSih0LHIpe3ZhciBpLG4sYSxzLG8sdSxsLGg9ZSh0KVswXS50Qm9kaWVzWzBdLGQ9aD9oLnJvd3M6W10sZj1yLmxlbmd0aCxjPVtdO2ZvcihpPTAsbj1kLmxlbmd0aDtpPG47aSsrKXtmb3Iobz17fSxsPSEwLHM9ZFtpXS5jZWxscyxhPTA7YTxmO2ErKyl1PXNbYV0sInRoIiE9PXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGw9ITEsb1tyW2FdLmZpZWxkXT11LmlubmVySFRNTCk7bHx8Yy5wdXNoKG8pfXJldHVybiBjfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxyPWxlLmZuW2VdLmFwcGx5KHRoaXMsWWUuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcy5fZGF0YSE9dCYmdGhpcy5fYXR0YWNoQnViYmxlSGFuZGxlcnMoKSxyfX1mdW5jdGlvbiBRKHQscil7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlLmZpbHRlcih0KS5hZGQoZS5maW5kKHQpKX12YXIgbixhLHMsbyx1LGwsaCxkLGY9ZSh0KS5jaGlsZHJlbigpLGM9W10sZz1yWzBdLmZpZWxkLHA9clsxXSYmclsxXS5maWVsZCxfPXJbMl0mJnJbMl0uZmllbGQsdj1yWzNdJiZyWzNdLmZpZWxkO2ZvcihuPTAsYT1mLmxlbmd0aDtuPGE7bisrKXM9e19sb2FkZWQ6ITB9LG89Zi5lcShuKSxsPW9bMF0uZmlyc3RDaGlsZCxkPW8uY2hpbGRyZW4oKSx0PWQuZmlsdGVyKCJ1bCIpLGQ9ZC5maWx0ZXIoIjpub3QodWwpIiksdT1vLmF0dHIoImRhdGEtaWQiKSx1JiYocy5pZD11KSxsJiYoc1tnXT0zPT1sLm5vZGVUeXBlP2wubm9kZVZhbHVlOmQudGV4dCgpKSxwJiYoc1twXT1pKGQsImEiKS5hdHRyKCJocmVmIikpLHYmJihzW3ZdPWkoZCwiaW1nIikuYXR0cigic3JjIikpLF8mJihoPWkoZCwiLmstc3ByaXRlIikucHJvcCgiY2xhc3NOYW1lIiksc1tfXT1oJiZlLnRyaW0oaC5yZXBsYWNlKCJrLXNwcml0ZSIsIiIpKSksdC5sZW5ndGgmJihzLml0ZW1zPVEodC5lcSgwKSxyKSksInRydWUiPT1vLmF0dHIoImRhdGEtaGFzQ2hpbGRyZW4iKSYmKHMuaGFzQ2hpbGRyZW49ITApLGMucHVzaChzKTtyZXR1cm4gY312YXIgVywkLEssWCxZLFosZWUsdGUscmUsaWUsbmUsYWUsc2Usb2UsdWUsbGUsaGUsZGUsZmUsY2UsZ2UscGU9ZS5leHRlbmQsX2U9ZS5wcm94eSx2ZT1lLmlzUGxhaW5PYmplY3QsbWU9ZS5pc0VtcHR5T2JqZWN0LHllPWUuaXNBcnJheSxTZT1lLmdyZXAsYmU9ZS5hamF4LHdlPWUuZWFjaCxrZT1lLm5vb3AsRmU9d2luZG93LmtlbmRvLHhlPUZlLmlzRnVuY3Rpb24sUmU9RmUuT2JzZXJ2YWJsZSxxZT1GZS5DbGFzcyxEZT0ic3RyaW5nIix6ZT0iZnVuY3Rpb24iLENlPSJhc2MiLE9lPSJjcmVhdGUiLFBlPSJyZWFkIixUZT0idXBkYXRlIixBZT0iZGVzdHJveSIsSWU9ImNoYW5nZSIsTWU9InN5bmMiLE5lPSJnZXQiLEdlPSJlcnJvciIsTGU9InJlcXVlc3RTdGFydCIsamU9InByb2dyZXNzIixFZT0icmVxdWVzdEVuZCIsQmU9W09lLFBlLFRlLEFlXSxIZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sVWU9RmUuZ2V0dGVyLEplPUZlLnN0cmluZ2lmeSxWZT1NYXRoLFFlPVtdLnB1c2gsV2U9W10uam9pbiwkZT1bXS5wb3AsS2U9W10uc3BsaWNlLFhlPVtdLnNoaWZ0LFllPVtdLnNsaWNlLFplPVtdLnVuc2hpZnQsZXQ9e30udG9TdHJpbmcsdHQ9RmUuc3VwcG9ydC5zdGFibGVTb3J0LHJ0PS9eXC9EYXRlXCgoLio/KVwpXC8kLyxpdD1SZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IudHlwZT10fHxLLFJlLmZuLmluaXQuY2FsbChyKSxyLmxlbmd0aD1lLmxlbmd0aCxyLndyYXBBbGwoZSxyKX0sYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV19LHRvSlNPTjpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5sZW5ndGgsbj1BcnJheShpKTtmb3IodD0wO3Q8aTt0Kyspcj10aGlzW3RdLHIgaW5zdGFuY2VvZiBLJiYocj1yLnRvSlNPTihlKSksblt0XT1yO3JldHVybiBufSxwYXJlbnQ6a2Usd3JhcEFsbDpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLGE9ZnVuY3Rpb24oKXtyZXR1cm4gbn07Zm9yKHQ9dHx8W10scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyl0W3JdPW4ud3JhcChlW3JdLGEpO3JldHVybiB0fSx3cmFwOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaT10aGlzO3JldHVybiBudWxsIT09ZSYmIltvYmplY3QgT2JqZWN0XSI9PT1ldC5jYWxsKGUpJiYocj1lIGluc3RhbmNlb2YgaS50eXBlfHxlIGluc3RhbmNlb2YgWixyfHwoZT1lIGluc3RhbmNlb2YgSz9lLnRvSlNPTigpOmUsZT1uZXcgaS50eXBlKGUpKSxlLnBhcmVudD10LGUuYmluZChJZSxmdW5jdGlvbihlKXtpLnRyaWdnZXIoSWUse2ZpZWxkOmUuZmllbGQsbm9kZTplLm5vZGUsaW5kZXg6ZS5pbmRleCxpdGVtczplLml0ZW1zfHxbdGhpc10sYWN0aW9uOmUubm9kZT9lLmFjdGlvbnx8Iml0ZW1sb2FkZWQiOiJpdGVtY2hhbmdlIn0pfSkpLGV9LHB1c2g6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMubGVuZ3RoLHI9dGhpcy53cmFwQWxsKGFyZ3VtZW50cyk7cmV0dXJuIGU9UWUuYXBwbHkodGhpcyxyKSx0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoiYWRkIixpbmRleDp0LGl0ZW1zOnJ9KSxlfSxzbGljZTpZZSxzb3J0OltdLnNvcnQsam9pbjpXZSxwb3A6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCx0PSRlLmFwcGx5KHRoaXMpO3JldHVybiBlJiZ0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoicmVtb3ZlIixpbmRleDplLTEsaXRlbXM6W3RdfSksdH0sc3BsaWNlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLGEscz10aGlzLndyYXBBbGwoWWUuY2FsbChhcmd1bWVudHMsMikpO2lmKGk9S2UuYXBwbHkodGhpcyxbZSx0XS5jb25jYXQocykpLGkubGVuZ3RoKWZvcih0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoicmVtb3ZlIixpbmRleDplLGl0ZW1zOml9KSxuPTAsYT1pLmxlbmd0aDtuPGE7bisrKWlbbl0mJmlbbl0uY2hpbGRyZW4mJmlbbl0udW5iaW5kKEllKTtyZXR1cm4gciYmdGhpcy50cmlnZ2VyKEllLHthY3Rpb246ImFkZCIsaW5kZXg6ZSxpdGVtczpzfSksaX0sc2hpZnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCx0PVhlLmFwcGx5KHRoaXMpO3JldHVybiBlJiZ0aGlzLnRyaWdnZXIoSWUse2FjdGlvbjoicmVtb3ZlIixpbmRleDowLGl0ZW1zOlt0XX0pLHR9LHVuc2hpZnQ6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMud3JhcEFsbChhcmd1bWVudHMpO3JldHVybiBlPVplLmFwcGx5KHRoaXMsdCksdGhpcy50cmlnZ2VyKEllLHthY3Rpb246ImFkZCIsaW5kZXg6MCxpdGVtczp0fSksZX0saW5kZXhPZjpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcztmb3IodD0wLHI9aS5sZW5ndGg7dDxyO3QrKylpZihpW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sZm9yRWFjaDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLGk9dGhpcy5sZW5ndGgsbj10fHx3aW5kb3c7cjxpO3IrKyllLmNhbGwobix0aGlzW3JdLHIsdGhpcyl9LG1hcDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLGk9W10sbj10aGlzLmxlbmd0aCxhPXR8fHdpbmRvdztyPG47cisrKWlbcl09ZS5jYWxsKGEsdGhpc1tyXSxyLHRoaXMpO3JldHVybiBpfSxyZWR1Y2U6ZnVuY3Rpb24oZSl7dmFyIHQscj0wLGk9dGhpcy5sZW5ndGg7Zm9yKDI9PWFyZ3VtZW50cy5sZW5ndGg/dD1hcmd1bWVudHNbMV06cjxpJiYodD10aGlzW3IrK10pO3I8aTtyKyspdD1lKHQsdGhpc1tyXSxyLHRoaXMpO3JldHVybiB0fSxyZWR1Y2VSaWdodDpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMubGVuZ3RoLTE7Zm9yKDI9PWFyZ3VtZW50cy5sZW5ndGg/dD1hcmd1bWVudHNbMV06cj4wJiYodD10aGlzW3ItLV0pO3I+PTA7ci0tKXQ9ZSh0LHRoaXNbcl0scix0aGlzKTtyZXR1cm4gdH0sZmlsdGVyOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9MCxuPVtdLGE9dGhpcy5sZW5ndGgscz10fHx3aW5kb3c7aTxhO2krKylyPXRoaXNbaV0sZS5jYWxsKHMscixpLHRoaXMpJiYobltuLmxlbmd0aF09cik7cmV0dXJuIG59LGZpbmQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT0wLG49dGhpcy5sZW5ndGgsYT10fHx3aW5kb3c7aTxuO2krKylpZihyPXRoaXNbaV0sZS5jYWxsKGEscixpLHRoaXMpKXJldHVybiByfSxldmVyeTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPTAsbj10aGlzLmxlbmd0aCxhPXR8fHdpbmRvdztpPG47aSsrKWlmKHI9dGhpc1tpXSwhZS5jYWxsKGEscixpLHRoaXMpKXJldHVybiExO3JldHVybiEwfSxzb21lOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9MCxuPXRoaXMubGVuZ3RoLGE9dHx8d2luZG93O2k8bjtpKyspaWYocj10aGlzW2ldLGUuY2FsbChhLHIsaSx0aGlzKSlyZXR1cm4hMDtyZXR1cm4hMX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuc3BsaWNlKHQsMSl9LGVtcHR5OmZ1bmN0aW9uKCl7dGhpcy5zcGxpY2UoMCx0aGlzLmxlbmd0aCl9fSk7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmIWl0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdJiYoaXQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09W11bU3ltYm9sLml0ZXJhdG9yXSksJD1pdC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0LHIpe1JlLmZuLmluaXQuY2FsbCh0aGlzKSx0aGlzLnR5cGU9dHx8SyxyJiYodGhpcy5fZXZlbnRzPXIpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXRoaXNbaV09ZVtpXTt0aGlzLmxlbmd0aD1pLHRoaXMuX3BhcmVudD1fZShmdW5jdGlvbigpe3JldHVybiB0aGlzfSx0aGlzKX0sYXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1tlXTtyZXR1cm4gdCBpbnN0YW5jZW9mIHRoaXMudHlwZT90LnBhcmVudD10aGlzLl9wYXJlbnQ6dD10aGlzW2VdPXRoaXMud3JhcCh0LHRoaXMuX3BhcmVudCksdH19KSxLPVJlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcyxuPWZ1bmN0aW9uKCl7cmV0dXJuIGl9O1JlLmZuLmluaXQuY2FsbCh0aGlzKSx0aGlzLl9oYW5kbGVycz17fTtmb3IociBpbiBlKXQ9ZVtyXSwib2JqZWN0Ij09dHlwZW9mIHQmJnQmJiF0LmdldFRpbWUmJiJfIiE9ci5jaGFyQXQoMCkmJih0PWkud3JhcCh0LHIsbikpLGlbcl09dDtpLnVpZD1GZS5ndWlkKCl9LHNob3VsZFNlcmlhbGl6ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KGUpJiYiX2hhbmRsZXJzIiE9PWUmJiJfZXZlbnRzIiE9PWUmJih0JiZ0W2VdfHx0eXBlb2YgdGhpc1tlXSE9PXplKSYmInVpZCIhPT1lfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzKXRoaXMuc2hvdWxkU2VyaWFsaXplKHQpJiZlKHRoaXNbdF0sdCl9LHRvSlNPTjpmdW5jdGlvbihlKXt2YXIgdCxyLGk9e307Zm9yKHIgaW4gdGhpcyl0aGlzLnNob3VsZFNlcmlhbGl6ZShyLGUpJiYodD10aGlzW3JdLCh0IGluc3RhbmNlb2YgS3x8dCBpbnN0YW5jZW9mIGl0KSYmKHQ9dC50b0pTT04oZSkpLGlbcl09dCk7cmV0dXJuIGl9LGdldDpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7cmV0dXJuIHIudHJpZ2dlcihOZSx7ZmllbGQ6ZX0pLHQ9InRoaXMiPT09ZT9yOkZlLmdldHRlcihlLCEwKShyKX0sX3NldDpmdW5jdGlvbihlLHQpe3ZhciByLGksbixhPXRoaXMscz1lLmluZGV4T2YoIi4iKT49MDtpZihzKWZvcihyPWUuc3BsaXQoIi4iKSxpPSIiO3IubGVuZ3RoPjE7KXtpZihpKz1yLnNoaWZ0KCksbj1GZS5nZXR0ZXIoaSwhMCkoYSksbiBpbnN0YW5jZW9mIEspcmV0dXJuIG4uc2V0KHIuam9pbigiLiIpLHQpLHM7aSs9Ii4ifXJldHVybiBGZS5zZXR0ZXIoZSkoYSx0KSxzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9ITEsbj1lLmluZGV4T2YoIi4iKT49MCxhPUZlLmdldHRlcihlLCEwKShyKTtyZXR1cm4gYSE9PXQmJihhIGluc3RhbmNlb2YgUmUmJnRoaXMuX2hhbmRsZXJzW2VdJiYodGhpcy5faGFuZGxlcnNbZV0uZ2V0JiZhLnVuYmluZChOZSx0aGlzLl9oYW5kbGVyc1tlXS5nZXQpLGEudW5iaW5kKEllLHRoaXMuX2hhbmRsZXJzW2VdLmNoYW5nZSkpLGk9ci50cmlnZ2VyKCJzZXQiLHtmaWVsZDplLHZhbHVlOnR9KSxpfHwobnx8KHQ9ci53cmFwKHQsZSxmdW5jdGlvbigpe3JldHVybiByfSkpLCghci5fc2V0KGUsdCl8fGUuaW5kZXhPZigiKCIpPj0wfHxlLmluZGV4T2YoIlsiKT49MCkmJnIudHJpZ2dlcihJZSx7ZmllbGQ6ZX0pKSksaX0scGFyZW50OmtlLHdyYXA6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLGEscyxvLHU9dGhpcyxsPWV0LmNhbGwoZSk7cmV0dXJuIG51bGw9PWV8fCJbb2JqZWN0IE9iamVjdF0iIT09bCYmIltvYmplY3QgQXJyYXldIiE9PWx8fChzPWUgaW5zdGFuY2VvZiBpdCxvPWUgaW5zdGFuY2VvZiBsZSwiW29iamVjdCBPYmplY3RdIiE9PWx8fG98fHM/KCJbb2JqZWN0IEFycmF5XSI9PT1sfHxzfHxvKSYmKHN8fG98fChlPW5ldyBpdChlKSksYT1yKHUsSWUsdCwhMSksZS5iaW5kKEllLGEpLHUuX2hhbmRsZXJzW3RdPXtjaGFuZ2U6YX0pOihlIGluc3RhbmNlb2YgS3x8KGU9bmV3IEsoZSkpLG49cih1LE5lLHQsITApLGUuYmluZChOZSxuKSxhPXIodSxJZSx0LCEwKSxlLmJpbmQoSWUsYSksdS5faGFuZGxlcnNbdF09e2dldDpuLGNoYW5nZTphfSksZS5wYXJlbnQ9aSksZX19KSxYPXtudW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09RGUmJiJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOkZlLnBhcnNlRmxvYXQoZSl9LGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09RGUmJiJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOkZlLnBhcnNlRGF0ZShlKX0sImJvb2xlYW4iOmZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09PURlPyJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOiJ0cnVlIj09PWUudG9Mb3dlckNhc2UoKTpudWxsIT1lPyEhZTplfSxzdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09RGUmJiJudWxsIj09PWUudG9Mb3dlckNhc2UoKT9udWxsOm51bGwhPWU/ZSsiIjplfSwiZGVmYXVsdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxZPXtzdHJpbmc6IiIsbnVtYmVyOjAsZGF0ZTpuZXcgRGF0ZSwiYm9vbGVhbiI6ITEsImRlZmF1bHQiOiIifSxaPUsuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHIpe3ZhciBpLG4sYT10aGlzO2lmKCghcnx8ZS5pc0VtcHR5T2JqZWN0KHIpKSYmKHI9ZS5leHRlbmQoe30sYS5kZWZhdWx0cyxyKSxhLl9pbml0aWFsaXplcnMpKWZvcihpPTA7aTxhLl9pbml0aWFsaXplcnMubGVuZ3RoO2krKyluPWEuX2luaXRpYWxpemVyc1tpXSxyW25dPWEuZGVmYXVsdHNbbl0oKTtLLmZuLmluaXQuY2FsbChhLHIpLGEuZGlydHk9ITEsYS5kaXJ0eUZpZWxkcz17fSxhLmlkRmllbGQmJihhLmlkPWEuZ2V0KGEuaWRGaWVsZCksYS5pZD09PXQmJihhLmlkPWEuX2RlZmF1bHRJZCkpfSxzaG91bGRTZXJpYWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIEsuZm4uc2hvdWxkU2VyaWFsaXplLmNhbGwodGhpcyxlKSYmInVpZCIhPT1lJiYhKCJpZCIhPT10aGlzLmlkRmllbGQmJiJpZCI9PT1lKSYmImRpcnR5IiE9PWUmJiJkaXJ0eUZpZWxkcyIhPT1lJiYiX2FjY2Vzc29ycyIhPT1lfSxfcGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixpPXRoaXMsYT1lLHM9aS5maWVsZHN8fHt9O3JldHVybiBlPXNbZV0sZXx8KGU9bihzLGEpKSxlJiYocj1lLnBhcnNlLCFyJiZlLnR5cGUmJihyPVhbZS50eXBlLnRvTG93ZXJDYXNlKCldKSkscj9yKHQpOnR9LF9ub3RpZnlDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hY3Rpb247ImFkZCIhPXQmJiJyZW1vdmUiIT10fHwodGhpcy5kaXJ0eT0hMCx0aGlzLmRpcnR5RmllbGRzW2UuZmllbGRdPSEwKX0sZWRpdGFibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9KHRoaXMuZmllbGRzfHx7fSlbZV0sIWV8fGUuZWRpdGFibGUhPT0hMX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuZGlydHk7ci5lZGl0YWJsZShlKSYmKHQ9ci5fcGFyc2UoZSx0KSxpKHQsci5nZXQoZSkpP3IudHJpZ2dlcigiZXF1YWxTZXQiLHtmaWVsZDplLHZhbHVlOnR9KTooci5kaXJ0eT0hMCxyLmRpcnR5RmllbGRzW2VdPSEwLEsuZm4uc2V0LmNhbGwocixlLHQpJiYhbiYmKHIuZGlydHk9bixyLmRpcnR5fHwoci5kaXJ0eUZpZWxkc1tlXT0hMSkpKSl9LGFjY2VwdDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcyxuPWZ1bmN0aW9uKCl7cmV0dXJuIGl9O2Zvcih0IGluIGUpcj1lW3RdLCJfIiE9dC5jaGFyQXQoMCkmJihyPWkud3JhcChlW3RdLHQsbikpLGkuX3NldCh0LHIpO2kuaWRGaWVsZCYmKGkuaWQ9aS5nZXQoaS5pZEZpZWxkKSksaS5kaXJ0eT0hMSxpLmRpcnR5RmllbGRzPXt9fSxpc05ldzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkPT09dGhpcy5fZGVmYXVsdElkfX0pLFouZGVmaW5lPWZ1bmN0aW9uKGUscil7cj09PXQmJihyPWUsZT1aKTt2YXIgaSxuLGEscyxvLHUsbCxoLGQ9cGUoe2RlZmF1bHRzOnt9fSxyKSxmPXt9LGM9ZC5pZCxnPVtdO2lmKGMmJihkLmlkRmllbGQ9YyksZC5pZCYmZGVsZXRlIGQuaWQsYyYmKGQuZGVmYXVsdHNbY109ZC5fZGVmYXVsdElkPSIiKSwiW29iamVjdCBBcnJheV0iPT09ZXQuY2FsbChkLmZpZWxkcykpe2Zvcih1PTAsbD1kLmZpZWxkcy5sZW5ndGg7dTxsO3UrKylhPWQuZmllbGRzW3VdLHR5cGVvZiBhPT09RGU/ZlthXT17fTphLmZpZWxkJiYoZlthLmZpZWxkXT1hKTtkLmZpZWxkcz1mfWZvcihuIGluIGQuZmllbGRzKWE9ZC5maWVsZHNbbl0scz1hLnR5cGV8fCJkZWZhdWx0IixvPW51bGwsaD1uLG49dHlwZW9mIGEuZmllbGQ9PT1EZT9hLmZpZWxkOm4sYS5udWxsYWJsZXx8KG89ZC5kZWZhdWx0c1toIT09bj9oOm5dPWEuZGVmYXVsdFZhbHVlIT09dD9hLmRlZmF1bHRWYWx1ZTpZW3MudG9Mb3dlckNhc2UoKV0sImZ1bmN0aW9uIj09dHlwZW9mIG8mJmcucHVzaChuKSksci5pZD09PW4mJihkLl9kZWZhdWx0SWQ9byksZC5kZWZhdWx0c1toIT09bj9oOm5dPW8sYS5wYXJzZT1hLnBhcnNlfHxYW3NdO3JldHVybiBnLmxlbmd0aD4wJiYoZC5faW5pdGlhbGl6ZXJzPWcpLGk9ZS5leHRlbmQoZCksaS5kZWZpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIFouZGVmaW5lKGksZSl9LGQuZmllbGRzJiYoaS5maWVsZHM9ZC5maWVsZHMsaS5pZEZpZWxkPWQuaWRGaWVsZCksaX0sZWU9e3NlbGVjdG9yOmZ1bmN0aW9uKGUpe3JldHVybiB4ZShlKT9lOlVlKGUpfSxjb21wYXJlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0b3IoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIGU9dChlKSxyPXQociksbnVsbD09ZSYmbnVsbD09cj8wOm51bGw9PWU/LTE6bnVsbD09cj8xOmUubG9jYWxlQ29tcGFyZT9lLmxvY2FsZUNvbXBhcmUocik6ZT5yPzE6ZTxyPy0xOjB9fSxjcmVhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21wYXJlfHx0aGlzLmNvbXBhcmUoZS5maWVsZCk7cmV0dXJuImRlc2MiPT1lLmRpcj9mdW5jdGlvbihlLHIpe3JldHVybiB0KHIsZSwhMCl9OnR9LGNvbWJpbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGksbixhPWVbMF0odCxyKTtmb3IoaT0xLG49ZS5sZW5ndGg7aTxuO2krKylhPWF8fGVbaV0odCxyKTtyZXR1cm4gYX19fSx0ZT1wZSh7fSxlZSx7YXNjOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0b3IoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIGk9dChlKSxuPXQocik7cmV0dXJuIGkmJmkuZ2V0VGltZSYmbiYmbi5nZXRUaW1lJiYoaT1pLmdldFRpbWUoKSxuPW4uZ2V0VGltZSgpKSxpPT09bj9lLl9fcG9zaXRpb24tci5fX3Bvc2l0aW9uOm51bGw9PWk/LTE6bnVsbD09bj8xOmkubG9jYWxlQ29tcGFyZT9pLmxvY2FsZUNvbXBhcmUobik6aT5uPzE6LTF9fSxkZXNjOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0b3IoZSk7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIGk9dChlKSxuPXQocik7cmV0dXJuIGkmJmkuZ2V0VGltZSYmbiYmbi5nZXRUaW1lJiYoaT1pLmdldFRpbWUoKSxuPW4uZ2V0VGltZSgpKSxpPT09bj9lLl9fcG9zaXRpb24tci5fX3Bvc2l0aW9uOm51bGw9PWk/MTpudWxsPT1uPy0xOm4ubG9jYWxlQ29tcGFyZT9uLmxvY2FsZUNvbXBhcmUoaSk6aTxuPzE6LTF9fSxjcmVhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZS5kaXJdKGUuZmllbGQpfX0pLFc9ZnVuY3Rpb24oZSx0KXt2YXIgcixpPWUubGVuZ3RoLG49QXJyYXkoaSk7Zm9yKHI9MDtyPGk7cisrKW5bcl09dChlW3JdLHIsZSk7cmV0dXJuIG59LHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlPWUucmVwbGFjZSgvW1xyXG5dKy9nLCIiKSksSlNPTi5zdHJpbmdpZnkoZSl9ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZnVuY3Rpb24ocixpLG4sYSl7cmV0dXJuIGkrPSIiLG4mJihyPSIoIityKyIgKyAnJykudG9TdHJpbmcoKSIrKGE/Ii50b0xvY2FsZUxvd2VyQ2FzZSgnIithKyInKSI6Ii50b0xvd2VyQ2FzZSgpIiksaT1hP2kudG9Mb2NhbGVMb3dlckNhc2UoYSk6aS50b0xvd2VyQ2FzZSgpKSx0KHIsZShpKSxuKX19ZnVuY3Rpb24gcih0LHIsaSxuLGEpe2lmKG51bGwhPWkpe2lmKHR5cGVvZiBpPT09RGUpe3ZhciBzPXJ0LmV4ZWMoaSk7cz9pPW5ldyBEYXRlKCgrc1sxXSkpOm4/KGk9ZShhP2kudG9Mb2NhbGVMb3dlckNhc2UoYSk6aS50b0xvd2VyQ2FzZSgpKSxyPSIoKCIrcisiIHx8ICcnKSsnJykiKyhhPyIudG9Mb2NhbGVMb3dlckNhc2UoJyIrYSsiJykiOiIudG9Mb3dlckNhc2UoKSIpKTppPWUoaSl9aS5nZXRUaW1lJiYocj0iKCIrcisiJiYiK3IrIi5nZXRUaW1lPyIrcisiLmdldFRpbWUoKToiK3IrIikiLGk9aS5nZXRUaW1lKCkpfXJldHVybiByKyIgIit0KyIgIitpfWZ1bmN0aW9uIGkoZSl7dmFyIHQscixpLG47Zm9yKHQ9Ii9eIixyPSExLGk9MDtpPGUubGVuZ3RoOysraSl7aWYobj1lLmNoYXJBdChpKSxyKXQrPSJcXCIrbjtlbHNle2lmKCJ+Ij09bil7cj0hMDtjb250aW51ZX10Kz0iKiI9PW4/Ii4qIjoiPyI9PW4/Ii4iOiIuK14kKClbXXt9fFxcL1xuXHJcdTIwMjhcdTIwMjnCoCIuaW5kZXhPZihuKT49MD8iXFwiK246bn1yPSExfXJldHVybiB0KyIkLyJ9cmV0dXJue3F1b3RlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmdldFRpbWU/Im5ldyBEYXRlKCIrdC5nZXRUaW1lKCkrIikiOmUodCl9LGVxOmZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiByKCI9PSIsZSx0LGksbil9LG5lcTpmdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gcigiIT0iLGUsdCxpLG4pfSxndDpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHIoIj4iLGUsdCxpKX0sZ3RlOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gcigiPj0iLGUsdCxpKX0sbHQ6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiByKCI8IixlLHQsaSl9LGx0ZTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHIoIjw9IixlLHQsaSl9LHN0YXJ0c3dpdGg6dChmdW5jdGlvbihlLHQpe3JldHVybiBlKyIubGFzdEluZGV4T2YoIit0KyIsIDApID09IDAifSksZG9lc25vdHN0YXJ0d2l0aDp0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIi5sYXN0SW5kZXhPZigiK3QrIiwgMCkgPT0gLTEifSksZW5kc3dpdGg6dChmdW5jdGlvbihlLHQpe3ZhciByPXQ/dC5sZW5ndGgtMjowO3JldHVybiBlKyIuaW5kZXhPZigiK3QrIiwgIitlKyIubGVuZ3RoIC0gIityKyIpID49IDAifSksZG9lc25vdGVuZHdpdGg6dChmdW5jdGlvbihlLHQpe3ZhciByPXQ/dC5sZW5ndGgtMjowO3JldHVybiBlKyIuaW5kZXhPZigiK3QrIiwgIitlKyIubGVuZ3RoIC0gIityKyIpIDwgMCJ9KSxjb250YWluczp0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIi5pbmRleE9mKCIrdCsiKSA+PSAwIn0pLGRvZXNub3Rjb250YWluOnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiLmluZGV4T2YoIit0KyIpID09IC0xIn0pLG1hdGNoZXM6dChmdW5jdGlvbihlLHQpe3JldHVybiB0PXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSksaSh0KSsiLnRlc3QoIitlKyIpIn0pLGRvZXNub3RtYXRjaDp0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dC5zdWJzdHJpbmcoMSx0Lmxlbmd0aC0xKSwiISIraSh0KSsiLnRlc3QoIitlKyIpIn0pLGlzZW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrIiA9PT0gJycifSxpc25vdGVtcHR5OmZ1bmN0aW9uKGUpe3JldHVybiBlKyIgIT09ICcnIn0saXNudWxsOmZ1bmN0aW9uKGUpe3JldHVybiIoIitlKyIgPT0gbnVsbCkifSxpc25vdG51bGw6ZnVuY3Rpb24oZSl7cmV0dXJuIigiK2UrIiAhPSBudWxsKSJ9LGlzbnVsbG9yZW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIigiK2UrIiA9PT0gbnVsbCkgfHwgKCIrZSsiID09PSAnJykifSxpc25vdG51bGxvcmVtcHR5OmZ1bmN0aW9uKGUpe3JldHVybiIoIitlKyIgIT09IG51bGwpICYmICgiK2UrIiAhPT0gJycpIn19fSgpLGEuZmlsdGVyRXhwcj1mdW5jdGlvbihlKXt2YXIgcixpLG4scyxvLHUsbD1bXSxoPXthbmQ6IiAmJiAiLG9yOiIgfHwgIn0sZD1bXSxmPVtdLGM9ZS5maWx0ZXJzO2ZvcihyPTAsaT1jLmxlbmd0aDtyPGk7cisrKW49Y1tyXSxvPW4uZmllbGQsdT1uLm9wZXJhdG9yLG4uZmlsdGVycz8ocz1hLmZpbHRlckV4cHIobiksbj1zLmV4cHJlc3Npb24ucmVwbGFjZSgvX19vXFsoXGQrKVxdL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD0rdCwiX19vWyIrKGYubGVuZ3RoK3QpKyJdIn0pLnJlcGxhY2UoL19fZlxbKFxkKylcXS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9K3QsIl9fZlsiKyhkLmxlbmd0aCt0KSsiXSJ9KSxmLnB1c2guYXBwbHkoZixzLm9wZXJhdG9ycyksZC5wdXNoLmFwcGx5KGQscy5maWVsZHMpKToodHlwZW9mIG89PT16ZT8ocz0iX19mWyIrZC5sZW5ndGgrIl0oZCkiLGQucHVzaChvKSk6cz1GZS5leHByKG8pLHR5cGVvZiB1PT09emU/KG49Il9fb1siK2YubGVuZ3RoKyJdKCIrcysiLCAiK3JlLnF1b3RlKG4udmFsdWUpKyIpIixmLnB1c2godSkpOm49cmVbKHV8fCJlcSIpLnRvTG93ZXJDYXNlKCldKHMsbi52YWx1ZSxuLmlnbm9yZUNhc2U9PT10fHxuLmlnbm9yZUNhc2UsZS5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nKSksbC5wdXNoKG4pO3JldHVybntleHByZXNzaW9uOiIoIitsLmpvaW4oaFtlLmxvZ2ljXSkrIikiLGZpZWxkczpkLG9wZXJhdG9yczpmfX0saWU9eyI9PSI6ImVxIixlcXVhbHM6ImVxIixpc2VxdWFsdG86ImVxIixlcXVhbHRvOiJlcSIsZXF1YWw6ImVxIiwiIT0iOiJuZXEiLG5lOiJuZXEiLG5vdGVxdWFsczoibmVxIixpc25vdGVxdWFsdG86Im5lcSIsbm90ZXF1YWx0bzoibmVxIixub3RlcXVhbDoibmVxIiwiPCI6Imx0Iixpc2xlc3N0aGFuOiJsdCIsbGVzc3RoYW46Imx0IixsZXNzOiJsdCIsIjw9IjoibHRlIixsZToibHRlIixpc2xlc3N0aGFub3JlcXVhbHRvOiJsdGUiLGxlc3N0aGFuZXF1YWw6Imx0ZSIsIj4iOiJndCIsaXNncmVhdGVydGhhbjoiZ3QiLGdyZWF0ZXJ0aGFuOiJndCIsZ3JlYXRlcjoiZ3QiLCI+PSI6Imd0ZSIsaXNncmVhdGVydGhhbm9yZXF1YWx0bzoiZ3RlIixncmVhdGVydGhhbmVxdWFsOiJndGUiLGdlOiJndGUiLG5vdHN1YnN0cmluZ29mOiJkb2Vzbm90Y29udGFpbiIsaXNudWxsOiJpc251bGwiLGlzZW1wdHk6ImlzZW1wdHkiLGlzbm90ZW1wdHk6Imlzbm90ZW1wdHkifSxhLm5vcm1hbGl6ZUZpbHRlcj1sLGEuY29tcGFyZUZpbHRlcnM9YyxhLnByb3RvdHlwZT17dG9BcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHJhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBhKHRoaXMuZGF0YS5zbGljZShlLGUrdCkpfSxza2lwOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYSh0aGlzLmRhdGEuc2xpY2UoZSkpfSx0YWtlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYSh0aGlzLmRhdGEuc2xpY2UoMCxlKSl9LHNlbGVjdDpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoVyh0aGlzLmRhdGEsZSkpfSxvcmRlcjpmdW5jdGlvbihlLHQscil7dmFyIGk9e2Rpcjp0fTtyZXR1cm4gZSYmKGUuY29tcGFyZT9pLmNvbXBhcmU9ZS5jb21wYXJlOmkuZmllbGQ9ZSksbmV3IGEocj90aGlzLmRhdGEuc29ydChlZS5jcmVhdGUoaSkpOnRoaXMuZGF0YS5zbGljZSgwKS5zb3J0KGVlLmNyZWF0ZShpKSkpfSxvcmRlckJ5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3JkZXIoZSwiYXNjIix0KX0sb3JkZXJCeURlc2NlbmRpbmc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcmRlcihlLCJkZXNjIix0KX0sc29ydDpmdW5jdGlvbihlLHQscixpKXt2YXIgbixhLG89cyhlLHQpLHU9W107aWYocj1yfHxlZSxvLmxlbmd0aCl7Zm9yKG49MCxhPW8ubGVuZ3RoO248YTtuKyspdS5wdXNoKHIuY3JlYXRlKG9bbl0pKTtyZXR1cm4gdGhpcy5vcmRlckJ5KHtjb21wYXJlOnIuY29tYmluZSh1KX0saSl9cmV0dXJuIHRoaXN9LGZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdCxyLGksbixzLG8sdSxoLGQ9dGhpcy5kYXRhLGY9W107aWYoZT1sKGUpLCFlfHwwPT09ZS5maWx0ZXJzLmxlbmd0aClyZXR1cm4gdGhpcztmb3Iobj1hLmZpbHRlckV4cHIoZSksbz1uLmZpZWxkcyx1PW4ub3BlcmF0b3JzLHM9aD1GdW5jdGlvbigiZCwgX19mLCBfX28iLCJyZXR1cm4gIituLmV4cHJlc3Npb24pLChvLmxlbmd0aHx8dS5sZW5ndGgpJiYoaD1mdW5jdGlvbihlKXtyZXR1cm4gcyhlLG8sdSl9KSx0PTAsaT1kLmxlbmd0aDt0PGk7dCsrKXI9ZFt0XSxoKHIpJiZmLnB1c2gocik7cmV0dXJuIG5ldyBhKGYpfSxncm91cDpmdW5jdGlvbihlLHQpe2U9cChlfHxbXSksdD10fHx0aGlzLmRhdGE7dmFyIHIsaT10aGlzLG49bmV3IGEoaS5kYXRhKTtyZXR1cm4gZS5sZW5ndGg+MCYmKHI9ZVswXSxuPW4uZ3JvdXBCeShyKS5zZWxlY3QoZnVuY3Rpb24oaSl7dmFyIG49bmV3IGEodCkuZmlsdGVyKFt7ZmllbGQ6aS5maWVsZCxvcGVyYXRvcjoiZXEiLHZhbHVlOmkudmFsdWUsaWdub3JlQ2FzZTohMX1dKTtyZXR1cm57ZmllbGQ6aS5maWVsZCx2YWx1ZTppLnZhbHVlLGl0ZW1zOmUubGVuZ3RoPjE/bmV3IGEoaS5pdGVtcykuZ3JvdXAoZS5zbGljZSgxKSxuLnRvQXJyYXkoKSkudG9BcnJheSgpOmkuaXRlbXMsaGFzU3ViZ3JvdXBzOmUubGVuZ3RoPjEsYWdncmVnYXRlczpuLmFnZ3JlZ2F0ZShyLmFnZ3JlZ2F0ZXMpfX0pKSxufSxncm91cEJ5OmZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxuLHMsbyx1LGwsaCxkLGY9dGhpcztpZihtZShlKXx8IXRoaXMuZGF0YS5sZW5ndGgpcmV0dXJuIG5ldyBhKFtdKTtmb3IodD1lLmZpZWxkLHI9ZS5za2lwSXRlbVNvcnRpbmc/dGhpcy5kYXRhOnRoaXMuX3NvcnRGb3JHcm91cGluZyh0LGUuZGlyfHwiYXNjIiksaT1GZS5hY2Nlc3Nvcih0KSxzPWkuZ2V0KHJbMF0sdCksbz17ZmllbGQ6dCx2YWx1ZTpzLGl0ZW1zOltdfSxkPVtvXSxsPTAsaD1yLmxlbmd0aDtsPGg7bCsrKW49cltsXSx1PWkuZ2V0KG4sdCksbShzLHUpfHwocz11LG89e2ZpZWxkOnQsdmFsdWU6cyxpdGVtczpbXX0sZC5wdXNoKG8pKSxvLml0ZW1zLnB1c2gobik7cmV0dXJuIGQ9Zi5fc29ydEdyb3VwcyhkLGUpLG5ldyBhKGQpfSxfc29ydEZvckdyb3VwaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuPXRoaXMuZGF0YTtpZighdHQpe2ZvcihyPTAsaT1uLmxlbmd0aDtyPGk7cisrKW5bcl0uX19wb3NpdGlvbj1yO2ZvcihuPW5ldyBhKG4pLnNvcnQoZSx0LHRlKS50b0FycmF5KCkscj0wLGk9bi5sZW5ndGg7cjxpO3IrKylkZWxldGUgbltyXS5fX3Bvc2l0aW9uO3JldHVybiBufXJldHVybiB0aGlzLnNvcnQoZSx0KS50b0FycmF5KCl9LF9zb3J0R3JvdXBzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtyZXR1cm4gdCYmeGUodC5jb21wYXJlKSYmKHI9bmV3IGEocikub3JkZXIoe2NvbXBhcmU6dC5jb21wYXJlfSx0LmRpcnx8Q2UpLnRvQXJyYXkoKSkscn0sYWdncmVnYXRlOmZ1bmN0aW9uKGUpe3ZhciB0LHIsaT17fSxuPXt9O2lmKGUmJmUubGVuZ3RoKWZvcih0PTAscj10aGlzLmRhdGEubGVuZ3RoO3Q8cjt0KyspeShpLGUsdGhpcy5kYXRhW3RdLHQscixuKTtyZXR1cm4gaX19LG5lPXtzdW06ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuZ2V0KHQpO3JldHVybiBTKGUpP1MoaSkmJihlKz1pKTplPWksZX0sY291bnQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fDApKzF9LGF2ZXJhZ2U6ZnVuY3Rpb24oZSxyLGksbixhLHMpe3ZhciBvPWkuZ2V0KHIpO3JldHVybiBzLmNvdW50PT09dCYmKHMuY291bnQ9MCksUyhlKT9TKG8pJiYoZSs9byk6ZT1vLFMobykmJnMuY291bnQrKyxuPT1hLTEmJlMoZSkmJihlLz1zLmNvdW50KSxlfSxtYXg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuZ2V0KHQpO3JldHVybiBTKGUpfHxiKGUpfHwoZT1pKSxlPGkmJihTKGkpfHxiKGkpKSYmKGU9aSksZX0sbWluOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yLmdldCh0KTtyZXR1cm4gUyhlKXx8YihlKXx8KGU9aSksZT5pJiYoUyhpKXx8YihpKSkmJihlPWkpLGV9fSxhLm5vcm1hbGl6ZUdyb3VwPXAsYS5ub3JtYWxpemVTb3J0PXMsYS5wcm9jZXNzPWZ1bmN0aW9uKGUscixpKXt2YXIgbixvLHUsbCxoLGQsZixjLGcsbSx5LFM7cmV0dXJuIHI9cnx8e30sbj1yLmdyb3VwLG89dihwKG58fFtdKSksdT1uZXcgYShlKSxsPV8obnx8W10pLGg9cyhyLnNvcnR8fFtdKSxkPW8/aDpsLmNvbmNhdChoKSxnPXIuZmlsdGVyQ2FsbGJhY2ssbT1yLmZpbHRlcix5PXIuc2tpcCxTPXIudGFrZSxkJiZpJiYodT11LnNvcnQoZCx0LHQsaSkpLG0mJih1PXUuZmlsdGVyKG0pLGcmJih1PWcodSkpLGM9dS50b0FycmF5KCkubGVuZ3RoKSxkJiYoaXx8KHU9dS5zb3J0KGQpKSxuJiYoZT11LnRvQXJyYXkoKSkpLG8/KHU9dS5ncm91cChuLGUpLHkhPT10JiZTIT09dCYmKHU9bmV3IGEoQyh1LnRvQXJyYXkoKSkpLnJhbmdlKHksUyksZj1XKGwsZnVuY3Rpb24oZSl7cmV0dXJuIHBlKHt9LGUse3NraXBJdGVtU29ydGluZzohMH0pfSksdT11Lmdyb3VwKGYsZSkpKTooeSE9PXQmJlMhPT10JiYodT11LnJhbmdlKHksUykpLG4mJih1PXUuZ3JvdXAobixlKSkpLHt0b3RhbDpjLGRhdGE6dS50b0FycmF5KCl9fSxhZT1xZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhPWUuZGF0YX0scmVhZDpmdW5jdGlvbihlKXtlLnN1Y2Nlc3ModGhpcy5kYXRhKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2Uuc3VjY2VzcyhlLmRhdGEpfSxjcmVhdGU6ZnVuY3Rpb24oZSl7ZS5zdWNjZXNzKGUuZGF0YSl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7ZS5zdWNjZXNzKGUuZGF0YSl9fSksc2U9cWUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztlPXIub3B0aW9ucz1wZSh7fSxyLm9wdGlvbnMsZSksd2UoQmUsZnVuY3Rpb24odCxyKXt0eXBlb2YgZVtyXT09PURlJiYoZVtyXT17dXJsOmVbcl19KX0pLHIuY2FjaGU9ZS5jYWNoZT9vZS5jcmVhdGUoZS5jYWNoZSk6e2ZpbmQ6a2UsYWRkOmtlfSx0PWUucGFyYW1ldGVyTWFwLGUuc3VibWl0JiYoci5zdWJtaXQ9ZS5zdWJtaXQpLHhlKGUucHVzaCkmJihyLnB1c2g9ZS5wdXNoKSxyLnB1c2h8fChyLnB1c2g9SGUpLHIucGFyYW1ldGVyTWFwPXhlKHQpP3Q6ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHdlKGUsZnVuY3Rpb24oZSxpKXtlIGluIHQmJihlPXRbZV0sdmUoZSkmJihpPWUudmFsdWUoaSksZT1lLmtleSkpLHJbZV09aX0pLHJ9fSxvcHRpb25zOntwYXJhbWV0ZXJNYXA6SGV9LGNyZWF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gYmUodGhpcy5zZXR1cChlLE9lKSl9LHJlYWQ6ZnVuY3Rpb24ocil7dmFyIGksbixhLHM9dGhpcyxvPXMuY2FjaGU7cj1zLnNldHVwKHIsUGUpLGk9ci5zdWNjZXNzfHxrZSxuPXIuZXJyb3J8fGtlLGE9by5maW5kKHIuZGF0YSksYSE9PXQ/aShhKTooci5zdWNjZXNzPWZ1bmN0aW9uKGUpe28uYWRkKHIuZGF0YSxlKSxpKGUpfSxlLmFqYXgocikpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGJlKHRoaXMuc2V0dXAoZSxUZSkpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3JldHVybiBiZSh0aGlzLnNldHVwKGUsQWUpKX0sc2V0dXA6ZnVuY3Rpb24oZSx0KXtlPWV8fHt9O3ZhciByLGk9dGhpcyxuPWkub3B0aW9uc1t0XSxhPXhlKG4uZGF0YSk/bi5kYXRhKGUuZGF0YSk6bi5kYXRhO3JldHVybiBlPXBlKCEwLHt9LG4sZSkscj1wZSghMCx7fSxhLGUuZGF0YSksZS5kYXRhPWkucGFyYW1ldGVyTWFwKHIsdCkseGUoZS51cmwpJiYoZS51cmw9ZS51cmwocikpLGV9fSksb2U9cWUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5fc3RvcmU9e319LGFkZDpmdW5jdGlvbihlLHIpe2UhPT10JiYodGhpcy5fc3RvcmVbSmUoZSldPXIpfSxmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdG9yZVtKZShlKV19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fc3RvcmU9e319LHJlbW92ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fc3RvcmVbSmUoZSldfX0pLG9lLmNyZWF0ZT1mdW5jdGlvbihlKXt2YXIgdD17aW5tZW1vcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG9lfX07cmV0dXJuIHZlKGUpJiZ4ZShlLmZpbmQpP2U6ZT09PSEwP25ldyBvZTp0W2VdKCl9LHVlPXFlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgdCxyLGksbixhLHMsbyx1LGwsaCxkLGYsYyxnLHA9dGhpcztlPWV8fHt9O2Zvcih0IGluIGUpcj1lW3RdLHBbdF09dHlwZW9mIHI9PT1EZT9VZShyKTpyO249ZS5tb2RlbEJhc2V8fFosdmUocC5tb2RlbCkmJihwLm1vZGVsPWk9bi5kZWZpbmUocC5tb2RlbCkpLGE9X2UocC5kYXRhLHApLHAuX2RhdGFBY2Nlc3NGdW5jdGlvbj1hLHAubW9kZWwmJihzPV9lKHAuZ3JvdXBzLHApLG89X2UocC5zZXJpYWxpemUscCksdT17fSxsPXt9LGg9e30sZD17fSxmPSExLGk9cC5tb2RlbCxpLmZpZWxkcyYmKHdlKGkuZmllbGRzLGZ1bmN0aW9uKGUsdCl7dmFyIHI7Yz1lLHZlKHQpJiZ0LmZpZWxkP2M9dC5maWVsZDp0eXBlb2YgdD09PURlJiYoYz10KSx2ZSh0KSYmdC5mcm9tJiYocj10LmZyb20pLGY9Znx8ciYmciE9PWV8fGMhPT1lLGc9cnx8YyxsW2VdPWcuaW5kZXhPZigiLiIpIT09LTE/VWUoZywhMCk6VWUoZyksaFtlXT1VZShlKSx1W3J8fGNdPWUsZFtlXT1yfHxjfSksIWUuc2VyaWFsaXplJiZmJiYocC5zZXJpYWxpemU9UihvLGksayxoLHUsZCkpKSxwLl9kYXRhQWNjZXNzRnVuY3Rpb249YSxwLl93cmFwRGF0YUFjY2Vzc0Jhc2U9cShpLEYsbCx1LGQpLHAuZGF0YT1SKGEsaSxGLGwsdSxkKSxwLmdyb3Vwcz1SKHMsaSx4LGwsdSxkKSl9LGVycm9yczpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLmVycm9yczpudWxsfSxwYXJzZTpIZSxkYXRhOkhlLHRvdGFsOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH0sZ3JvdXBzOkhlLGFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oKXtyZXR1cm57fX0sc2VyaWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0pLGxlPVJlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlKXt2YXIgcixpLG4sYT10aGlzO2UmJihpPWUuZGF0YSksZT1hLm9wdGlvbnM9cGUoe30sYS5vcHRpb25zLGUpLGEuX21hcD17fSxhLl9wcmVmZXRjaD17fSxhLl9kYXRhPVtdLGEuX3ByaXN0aW5lRGF0YT1bXSxhLl9yYW5nZXM9W10sYS5fdmlldz1bXSxhLl9wcmlzdGluZVRvdGFsPTAsYS5fZGVzdHJveWVkPVtdLGEuX3BhZ2VTaXplPWUucGFnZVNpemUsYS5fcGFnZT1lLnBhZ2V8fChlLnBhZ2VTaXplPzE6dCksYS5fc29ydD1zKGUuc29ydCksYS5fZmlsdGVyPWwoZS5maWx0ZXIpLGEuX2dyb3VwPXAoZS5ncm91cCksYS5fYWdncmVnYXRlPWUuYWdncmVnYXRlLGEuX3RvdGFsPWUudG90YWwsYS5fc2hvdWxkRGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM9ITAsUmUuZm4uaW5pdC5jYWxsKGEpLGEudHJhbnNwb3J0PWhlLmNyZWF0ZShlLGksYSkseGUoYS50cmFuc3BvcnQucHVzaCkmJmEudHJhbnNwb3J0LnB1c2goe3B1c2hDcmVhdGU6X2UoYS5fcHVzaENyZWF0ZSxhKSxwdXNoVXBkYXRlOl9lKGEuX3B1c2hVcGRhdGUsYSkscHVzaERlc3Ryb3k6X2UoYS5fcHVzaERlc3Ryb3ksYSl9KSxudWxsIT1lLm9mZmxpbmVTdG9yYWdlJiYoInN0cmluZyI9PXR5cGVvZiBlLm9mZmxpbmVTdG9yYWdlPyhuPWUub2ZmbGluZVN0b3JhZ2UsYS5fc3RvcmFnZT17Z2V0SXRlbTpmdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pKX0sc2V0SXRlbTpmdW5jdGlvbihlKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuLEplKGEucmVhZGVyLnNlcmlhbGl6ZShlKSkpfX0pOmEuX3N0b3JhZ2U9ZS5vZmZsaW5lU3RvcmFnZSksYS5yZWFkZXI9bmV3IEZlLmRhdGEucmVhZGVyc1tlLnNjaGVtYS50eXBlfHwianNvbiJdKGUuc2NoZW1hKSxyPWEucmVhZGVyLm1vZGVsfHx7fSxhLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpLGEuX2RhdGE9YS5fb2JzZXJ2ZShhLl9kYXRhKSxhLl9vbmxpbmU9ITAsYS5iaW5kKFsicHVzaCIsR2UsSWUsTGUsTWUsRWUsamVdLGUpfSxvcHRpb25zOntkYXRhOm51bGwsc2NoZW1hOnttb2RlbEJhc2U6Wn0sb2ZmbGluZVN0b3JhZ2U6bnVsbCxzZXJ2ZXJTb3J0aW5nOiExLHNlcnZlclBhZ2luZzohMSxzZXJ2ZXJGaWx0ZXJpbmc6ITEsc2VydmVyR3JvdXBpbmc6ITEsc2VydmVyQWdncmVnYXRlczohMSxiYXRjaDohMSxpblBsYWNlU29ydDohMX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sb25saW5lOmZ1bmN0aW9uKHIpe3JldHVybiByIT09dD90aGlzLl9vbmxpbmUhPXImJih0aGlzLl9vbmxpbmU9cixyKT90aGlzLnN5bmMoKTplLkRlZmVycmVkKCkucmVzb2x2ZSgpLnByb21pc2UoKTp0aGlzLl9vbmxpbmV9LG9mZmxpbmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10aGlzLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2U/bnVsbDplIT09dD90aGlzLl9zdG9yYWdlLnNldEl0ZW0oZSk6dGhpcy5fc3RvcmFnZS5nZXRJdGVtKCl8fFtdfSxfaXNTZXJ2ZXJHcm91cGVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ncm91cCgpfHxbXTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlcnZlckdyb3VwaW5nJiZlLmxlbmd0aH0sX3B1c2hDcmVhdGU6ZnVuY3Rpb24oZSl7dGhpcy5fcHVzaChlLCJwdXNoQ3JlYXRlIil9LF9wdXNoVXBkYXRlOmZ1bmN0aW9uKGUpe3RoaXMuX3B1c2goZSwicHVzaFVwZGF0ZSIpfSxfcHVzaERlc3Ryb3k6ZnVuY3Rpb24oZSl7dGhpcy5fcHVzaChlLCJwdXNoRGVzdHJveSIpfSxfcHVzaDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3JlYWREYXRhKGUpO3J8fChyPWUpLHRoaXNbdF0ocil9LF9mbGF0RGF0YTpmdW5jdGlvbihlLHQpe2lmKGUpe2lmKHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpKXJldHVybiBPKGUpO2lmKCF0KWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWUuYXQocil9cmV0dXJuIGV9LHBhcmVudDprZSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQscixpPXRoaXMuX2ZsYXREYXRhKHRoaXMuX2RhdGEsdGhpcy5vcHRpb25zLnVzZVJhbmdlcyk7Zm9yKHQ9MCxyPWkubGVuZ3RoO3Q8cjt0KyspaWYoaVt0XS5pZD09ZSlyZXR1cm4gaVt0XX0sZ2V0QnlVaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldEJ5VWlkKGUsdGhpcy5fZGF0YSl9LF9nZXRCeVVpZDpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLl9mbGF0RGF0YSh0LHRoaXMub3B0aW9ucy51c2VSYW5nZXMpO2lmKG4pZm9yKHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspaWYobltyXS51aWQ9PWUpcmV0dXJuIG5bcl19LGluZGV4T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIEwodGhpcy5fZGF0YSxlKX0sYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGEuYXQoZSl9LGRhdGE6ZnVuY3Rpb24oZSl7dmFyIHIsaT10aGlzO2lmKGU9PT10KXtpZihpLl9kYXRhKWZvcihyPTA7cjxpLl9kYXRhLmxlbmd0aDtyKyspaS5fZGF0YS5hdChyKTtyZXR1cm4gaS5fZGF0YX1pLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpLGkuX2RhdGE9dGhpcy5fb2JzZXJ2ZShlKSxpLl9wcmlzdGluZURhdGE9ZS5zbGljZSgwKSxpLl9zdG9yZURhdGEoKSxpLl9yYW5nZXM9W10saS50cmlnZ2VyKCJyZXNldCIpLGkuX2FkZFJhbmdlKGkuX2RhdGEpLGkuX3RvdGFsPWkuX2RhdGEubGVuZ3RoLGkuX3ByaXN0aW5lVG90YWw9aS5fdG90YWwsaS5fcHJvY2VzcyhpLl9kYXRhKX0sdmlldzpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fdmlldzoodGhpcy5fdmlldz10aGlzLl9vYnNlcnZlVmlldyhlKSx0KX0sX29ic2VydmVWaWV3OmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztyZXR1cm4gTShlLHIuX2RhdGEsci5fcmFuZ2VzLHIucmVhZGVyLm1vZGVsfHxLLHIuX2lzU2VydmVyR3JvdXBlZCgpKSx0PW5ldyAkKGUsci5yZWFkZXIubW9kZWwpLHQucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHIucGFyZW50KCl9LHR9LGZsYXRWaWV3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ncm91cCgpfHxbXTtyZXR1cm4gZS5sZW5ndGg/Tyh0aGlzLl92aWV3KTp0aGlzLl92aWV3fSxhZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5zZXJ0KHRoaXMuX2RhdGEubGVuZ3RoLGUpfSxfY3JlYXRlTmV3TW9kZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVhZGVyLm1vZGVsP25ldyB0aGlzLnJlYWRlci5tb2RlbChlKTplIGluc3RhbmNlb2YgSz9lOm5ldyBLKGUpfSxpbnNlcnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9ZSxlPTApLHQgaW5zdGFuY2VvZiBafHwodD10aGlzLl9jcmVhdGVOZXdNb2RlbCh0KSksdGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/dGhpcy5fZGF0YS5zcGxpY2UoZSwwLHRoaXMuX3dyYXBJbkVtcHR5R3JvdXAodCkpOnRoaXMuX2RhdGEuc3BsaWNlKGUsMCx0KSx0aGlzLl9pbnNlcnRNb2RlbEluUmFuZ2UoZSx0KSx0fSxwdXNoSW5zZXJ0OmZ1bmN0aW9uKHQscil7dmFyIGksbixhLHMsbyx1LGw9dGhpcyxoPWwuX2dldEN1cnJlbnRSYW5nZVNwYW4oKTtyfHwocj10LHQ9MCkseWUocil8fChyPVtyXSksaT1bXSxuPXRoaXMub3B0aW9ucy5hdXRvU3luYyx0aGlzLm9wdGlvbnMuYXV0b1N5bmM9ITE7dHJ5e2ZvcihhPTA7YTxyLmxlbmd0aDthKyspcz1yW2FdLG89dGhpcy5pbnNlcnQodCxzKSxpLnB1c2gobyksdT1vLnRvSlNPTigpLHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpJiYodT10aGlzLl93cmFwSW5FbXB0eUdyb3VwKHUpKSx0aGlzLl9wcmlzdGluZURhdGEucHVzaCh1KSxoJiZoLmxlbmd0aCYmZShoKS5sYXN0KClbMF0ucHJpc3RpbmVEYXRhLnB1c2godSksdCsrfWZpbmFsbHl7dGhpcy5vcHRpb25zLmF1dG9TeW5jPW59aS5sZW5ndGgmJnRoaXMudHJpZ2dlcigicHVzaCIse3R5cGU6ImNyZWF0ZSIsaXRlbXM6aX0pfSxwdXNoQ3JlYXRlOmZ1bmN0aW9uKGUpe3RoaXMucHVzaEluc2VydCh0aGlzLl9kYXRhLmxlbmd0aCxlKX0scHVzaFVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxyLGksbixhO2Zvcih5ZShlKXx8KGU9W2VdKSx0PVtdLHI9MDtyPGUubGVuZ3RoO3IrKylpPWVbcl0sbj10aGlzLl9jcmVhdGVOZXdNb2RlbChpKSxhPXRoaXMuZ2V0KG4uaWQpLGE/KHQucHVzaChhKSxhLmFjY2VwdChpKSxhLnRyaWdnZXIoSWUpLHRoaXMuX3VwZGF0ZVByaXN0aW5lRm9yTW9kZWwoYSxpKSk6dGhpcy5wdXNoQ3JlYXRlKGkpO3QubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoInB1c2giLHt0eXBlOiJ1cGRhdGUiLGl0ZW1zOnR9KX0scHVzaERlc3Ryb3k6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVtb3ZlSXRlbXMoZSk7dC5sZW5ndGgmJnRoaXMudHJpZ2dlcigicHVzaCIse3R5cGU6ImRlc3Ryb3kiLGl0ZW1zOnR9KX0sX3JlbW92ZUl0ZW1zOmZ1bmN0aW9uKGUscil7dmFyIGksbixhLHMsbyx1LGw7eWUoZSl8fChlPVtlXSksaT10PT09cnx8cixuPVtdLGE9dGhpcy5vcHRpb25zLmF1dG9TeW5jLHRoaXMub3B0aW9ucy5hdXRvU3luYz0hMTt0cnl7Zm9yKHM9MDtzPGUubGVuZ3RoO3MrKylvPWVbc10sdT10aGlzLl9jcmVhdGVOZXdNb2RlbChvKSxsPSExLHRoaXMuX2VhY2hJdGVtKHRoaXMuX2RhdGEsZnVuY3Rpb24oZSl7dmFyIHQscjtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKHI9ZS5hdCh0KSxyLmlkPT09dS5pZCl7bi5wdXNoKHIpLGUuc3BsaWNlKHQsMSksbD0hMDticmVha319KSxsJiZpJiYodGhpcy5fcmVtb3ZlUHJpc3RpbmVGb3JNb2RlbCh1KSx0aGlzLl9kZXN0cm95ZWQucG9wKCkpfWZpbmFsbHl7dGhpcy5vcHRpb25zLmF1dG9TeW5jPWF9cmV0dXJuIG59LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMsaT1yLl9pc1NlcnZlckdyb3VwZWQoKTtyZXR1cm4gdGhpcy5fZWFjaEl0ZW0oci5fZGF0YSxmdW5jdGlvbihuKXtpZih0PU4obixlKSx0JiZpKXJldHVybiB0LmlzTmV3JiZ0LmlzTmV3KCl8fHIuX2Rlc3Ryb3llZC5wdXNoKHQpLCEwfSksdGhpcy5fcmVtb3ZlTW9kZWxGcm9tUmFuZ2VzKGUpLGV9LGRlc3Ryb3llZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9LGNyZWF0ZWQ6ZnVuY3Rpb24oKXt2YXIgZSx0LHI9W10saT10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhLHRoaXMub3B0aW9ucy51c2VSYW5nZXMpO2ZvcihlPTAsdD1pLmxlbmd0aDtlPHQ7ZSsrKWlbZV0uaXNOZXcmJmlbZV0uaXNOZXcoKSYmci5wdXNoKGlbZV0pO3JldHVybiByfSx1cGRhdGVkOmZ1bmN0aW9uKCl7dmFyIGUsdCxyPVtdLGk9dGhpcy5fZmxhdERhdGEodGhpcy5fZGF0YSx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKTtmb3IoZT0wLHQ9aS5sZW5ndGg7ZTx0O2UrKylpW2VdLmlzTmV3JiYhaVtlXS5pc05ldygpJiZpW2VdLmRpcnR5JiZyLnB1c2goaVtlXSk7cmV0dXJuIHJ9LHN5bmM6ZnVuY3Rpb24oKXt2YXIgdCxyPXRoaXMsaT1bXSxuPVtdLGE9ci5fZGVzdHJveWVkLHM9ZS5EZWZlcnJlZCgpLnJlc29sdmUoKS5wcm9taXNlKCk7aWYoci5vbmxpbmUoKSl7aWYoIXIucmVhZGVyLm1vZGVsKXJldHVybiBzO2k9ci5jcmVhdGVkKCksbj1yLnVwZGF0ZWQoKSx0PVtdLHIub3B0aW9ucy5iYXRjaCYmci50cmFuc3BvcnQuc3VibWl0P3Q9ci5fc2VuZFN1Ym1pdChpLG4sYSk6KHQucHVzaC5hcHBseSh0LHIuX3NlbmQoImNyZWF0ZSIsaSkpLHQucHVzaC5hcHBseSh0LHIuX3NlbmQoInVwZGF0ZSIsbikpLHQucHVzaC5hcHBseSh0LHIuX3NlbmQoImRlc3Ryb3kiLGEpKSkscz1lLndoZW4uYXBwbHkobnVsbCx0KS50aGVuKGZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IoZT0wLHQ9YXJndW1lbnRzLmxlbmd0aDtlPHQ7ZSsrKWFyZ3VtZW50c1tlXSYmci5fYWNjZXB0KGFyZ3VtZW50c1tlXSk7ci5fc3RvcmVEYXRhKCEwKSxyLl9zeW5jRW5kKCksci5fY2hhbmdlKHthY3Rpb246InN5bmMifSksci50cmlnZ2VyKE1lKX0pfWVsc2Ugci5fc3RvcmVEYXRhKCEwKSxyLl9zeW5jRW5kKCksci5fY2hhbmdlKHthY3Rpb246InN5bmMifSk7cmV0dXJuIHN9LF9zeW5jRW5kOmtlLGNhbmNlbENoYW5nZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlIGluc3RhbmNlb2YgRmUuZGF0YS5Nb2RlbD90Ll9jYW5jZWxNb2RlbChlKToodC5fZGVzdHJveWVkPVtdLHQuX2RldGFjaE9ic2VydmFibGVQYXJlbnRzKCksdC5fZGF0YT10Ll9vYnNlcnZlKHQuX3ByaXN0aW5lRGF0YSksdC5vcHRpb25zLnNlcnZlclBhZ2luZyYmKHQuX3RvdGFsPXQuX3ByaXN0aW5lVG90YWwpLHQuX3Jhbmdlcz1bXSx0Ll9hZGRSYW5nZSh0Ll9kYXRhLDApLHQuX2NoYW5nZXNDYW5jZWxlZCgpLHQuX2NoYW5nZSgpLHQuX21hcmtPZmZsaW5lVXBkYXRlc0FzRGlydHkoKSl9LF9jaGFuZ2VzQ2FuY2VsZWQ6a2UsX21hcmtPZmZsaW5lVXBkYXRlc0FzRGlydHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO251bGwhPWUub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSYmZS5fZWFjaEl0ZW0oZS5fZGF0YSxmdW5jdGlvbihlKXt2YXIgdCxyO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kyspcj1lLmF0KHQpLCJ1cGRhdGUiIT1yLl9fc3RhdGVfXyYmImNyZWF0ZSIhPXIuX19zdGF0ZV9ffHwoci5kaXJ0eT0hMCk7DQp9KX0saGFzQ2hhbmdlczpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhLHRoaXMub3B0aW9ucy51c2VSYW5nZXMpO2lmKHRoaXMuX2Rlc3Ryb3llZC5sZW5ndGgpcmV0dXJuITA7Zm9yKGU9MCx0PXIubGVuZ3RoO2U8dDtlKyspaWYocltlXS5pc05ldyYmcltlXS5pc05ldygpfHxyW2VdLmRpcnR5KXJldHVybiEwO3JldHVybiExfSxfYWNjZXB0OmZ1bmN0aW9uKHQpe3ZhciByLGk9dGhpcyxuPXQubW9kZWxzLGE9dC5yZXNwb25zZSxzPTAsbz1pLl9pc1NlcnZlckdyb3VwZWQoKSx1PWkuX3ByaXN0aW5lRGF0YSxsPXQudHlwZTtpZihpLnRyaWdnZXIoRWUse3Jlc3BvbnNlOmEsdHlwZTpsfSksYSYmIW1lKGEpKXtpZihhPWkucmVhZGVyLnBhcnNlKGEpLGkuX2hhbmRsZUN1c3RvbUVycm9ycyhhKSlyZXR1cm47YT1pLnJlYWRlci5kYXRhKGEpLHllKGEpfHwoYT1bYV0pfWVsc2UgYT1lLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSk7Zm9yKCJkZXN0cm95Ij09PWwmJihpLl9kZXN0cm95ZWQ9W10pLHM9MCxyPW4ubGVuZ3RoO3M8cjtzKyspImRlc3Ryb3kiIT09bD8obltzXS5hY2NlcHQoYVtzXSksImNyZWF0ZSI9PT1sP3UucHVzaChvP2kuX3dyYXBJbkVtcHR5R3JvdXAobltzXS50b0pTT04oKSk6YVtzXSk6InVwZGF0ZSI9PT1sJiZpLl91cGRhdGVQcmlzdGluZUZvck1vZGVsKG5bc10sYVtzXSkpOmkuX3JlbW92ZVByaXN0aW5lRm9yTW9kZWwobltzXSl9LF91cGRhdGVQcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZXhlY3V0ZU9uUHJpc3RpbmVGb3JNb2RlbChlLGZ1bmN0aW9uKGUscil7RmUuZGVlcEV4dGVuZChyW2VdLHQpfSl9LF9leGVjdXRlT25QcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZWFjaFByaXN0aW5lSXRlbShmdW5jdGlvbihyKXt2YXIgaT1HKHIsZSk7aWYoaT4tMSlyZXR1cm4gdChpLHIpLCEwfSl9LF9yZW1vdmVQcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKGUpe3RoaXMuX2V4ZWN1dGVPblByaXN0aW5lRm9yTW9kZWwoZSxmdW5jdGlvbihlLHQpe3Quc3BsaWNlKGUsMSl9KX0sX3JlYWREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2lzU2VydmVyR3JvdXBlZCgpP3RoaXMucmVhZGVyLmdyb3Vwczp0aGlzLnJlYWRlci5kYXRhO3JldHVybiB0LmNhbGwodGhpcy5yZWFkZXIsZSl9LF9lYWNoUHJpc3RpbmVJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Lm9wdGlvbnMsaT10Ll9nZXRDdXJyZW50UmFuZ2VTcGFuKCk7dC5fZWFjaEl0ZW0odC5fcHJpc3RpbmVEYXRhLGUpLHIuc2VydmVyUGFnaW5nJiZyLnVzZVJhbmdlcyYmd2UoaSxmdW5jdGlvbihyLGkpe3QuX2VhY2hJdGVtKGkucHJpc3RpbmVEYXRhLGUpfSl9LF9lYWNoSXRlbTpmdW5jdGlvbihlLHQpe2UmJmUubGVuZ3RoJiYodGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/VChlLHQpOnQoZSkpfSxfcHJpc3RpbmVGb3JNb2RlbDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9ZnVuY3Rpb24oaSl7aWYocj1HKGksZSkscj4tMSlyZXR1cm4gdD1pW3JdLCEwfTtyZXR1cm4gdGhpcy5fZWFjaFByaXN0aW5lSXRlbShpKSx0fSxfY2FuY2VsTW9kZWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuX3ByaXN0aW5lRm9yTW9kZWwoZSk7dGhpcy5fZWFjaEl0ZW0odGhpcy5fZGF0YSxmdW5jdGlvbihpKXt2YXIgbj1MKGksZSk7bj49MCYmKCFyfHxlLmlzTmV3KCkmJiFyLl9fc3RhdGVfXz8odC5fbW9kZWxDYW5jZWxlZChlKSxpLnNwbGljZShuLDEpLHQuX3JlbW92ZU1vZGVsRnJvbVJhbmdlcyhlKSk6KGlbbl0uYWNjZXB0KHIpLCJ1cGRhdGUiPT1yLl9fc3RhdGVfXyYmKGlbbl0uZGlydHk9ITApKSl9KX0sX21vZGVsQ2FuY2VsZWQ6a2UsX3N1Ym1pdDpmdW5jdGlvbih0LHIpe3ZhciBpPXRoaXM7aS50cmlnZ2VyKExlLHt0eXBlOiJzdWJtaXQifSksaS50cmlnZ2VyKGplKSxpLnRyYW5zcG9ydC5zdWJtaXQocGUoe3N1Y2Nlc3M6ZnVuY3Rpb24ocixpKXt2YXIgbj1lLmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT1pfSlbMF07biYmbi5yZXNvbHZlKHtyZXNwb25zZTpyLG1vZGVsczpuLm1vZGVscyx0eXBlOml9KX0sZXJyb3I6ZnVuY3Rpb24oZSxyLG4pe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0ucmVqZWN0KGUpO2kuZXJyb3IoZSxyLG4pfX0scikpfSxfc2VuZFN1Ym1pdDpmdW5jdGlvbih0LHIsaSl7dmFyIG49dGhpcyxhPVtdO3JldHVybiBuLm9wdGlvbnMuYmF0Y2gmJih0Lmxlbmd0aCYmYS5wdXNoKGUuRGVmZXJyZWQoZnVuY3Rpb24oZSl7ZS50eXBlPSJjcmVhdGUiLGUubW9kZWxzPXR9KSksci5sZW5ndGgmJmEucHVzaChlLkRlZmVycmVkKGZ1bmN0aW9uKGUpe2UudHlwZT0idXBkYXRlIixlLm1vZGVscz1yfSkpLGkubGVuZ3RoJiZhLnB1c2goZS5EZWZlcnJlZChmdW5jdGlvbihlKXtlLnR5cGU9ImRlc3Ryb3kiLGUubW9kZWxzPWl9KSksbi5fc3VibWl0KGEse2RhdGE6e2NyZWF0ZWQ6bi5yZWFkZXIuc2VyaWFsaXplKHcodCkpLHVwZGF0ZWQ6bi5yZWFkZXIuc2VyaWFsaXplKHcocikpLGRlc3Ryb3llZDpuLnJlYWRlci5zZXJpYWxpemUodyhpKSl9fSkpLGF9LF9wcm9taXNlOmZ1bmN0aW9uKHQscixpKXt2YXIgbj10aGlzO3JldHVybiBlLkRlZmVycmVkKGZ1bmN0aW9uKGUpe24udHJpZ2dlcihMZSx7dHlwZTppfSksbi50cmlnZ2VyKGplKSxuLnRyYW5zcG9ydFtpXS5jYWxsKG4udHJhbnNwb3J0LHBlKHtzdWNjZXNzOmZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh7cmVzcG9uc2U6dCxtb2RlbHM6cix0eXBlOml9KX0sZXJyb3I6ZnVuY3Rpb24odCxyLGkpe2UucmVqZWN0KHQpLG4uZXJyb3IodCxyLGkpfX0sdCkpfSkucHJvbWlzZSgpfSxfc2VuZDpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLGE9W10scz1uLnJlYWRlci5zZXJpYWxpemUodyh0KSk7aWYobi5vcHRpb25zLmJhdGNoKXQubGVuZ3RoJiZhLnB1c2gobi5fcHJvbWlzZSh7ZGF0YTp7bW9kZWxzOnN9fSx0LGUpKTtlbHNlIGZvcihyPTAsaT10Lmxlbmd0aDtyPGk7cisrKWEucHVzaChuLl9wcm9taXNlKHtkYXRhOnNbcl19LFt0W3JdXSxlKSk7cmV0dXJuIGF9LHJlYWQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPXIuX3BhcmFtcyh0KSxuPWUuRGVmZXJyZWQoKTtyZXR1cm4gci5fcXVldWVSZXF1ZXN0KGksZnVuY3Rpb24oKXt2YXIgZT1yLnRyaWdnZXIoTGUse3R5cGU6InJlYWQifSk7ZT8oci5fZGVxdWV1ZVJlcXVlc3QoKSxuLnJlc29sdmUoZSkpOihyLnRyaWdnZXIoamUpLHIuX3Jhbmdlcz1bXSxyLnRyaWdnZXIoInJlc2V0Iiksci5vbmxpbmUoKT9yLnRyYW5zcG9ydC5yZWFkKHtkYXRhOmksc3VjY2VzczpmdW5jdGlvbihlKXtyLl9yYW5nZXM9W10sci5zdWNjZXNzKGUsaSksbi5yZXNvbHZlKCl9LGVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9WWUuY2FsbChhcmd1bWVudHMpO3IuZXJyb3IuYXBwbHkocixlKSxuLnJlamVjdC5hcHBseShuLGUpfX0pOm51bGwhPXIub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSYmKHIuc3VjY2VzcyhyLm9mZmxpbmVEYXRhKCksaSksbi5yZXNvbHZlKCkpKX0pLG4ucHJvbWlzZSgpfSxfcmVhZEFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVhZGVyLmFnZ3JlZ2F0ZXMoZSl9LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHIsaSxuLGEscyxvLHUsbCxoLGQsZixjPXRoaXMsZz1jLm9wdGlvbnM7aWYoYy50cmlnZ2VyKEVlLHtyZXNwb25zZTplLHR5cGU6InJlYWQifSksYy5vbmxpbmUoKSl7aWYoZT1jLnJlYWRlci5wYXJzZShlKSxjLl9oYW5kbGVDdXN0b21FcnJvcnMoZSkpcmV0dXJuIGMuX2RlcXVldWVSZXF1ZXN0KCksdDtjLl90b3RhbD1jLnJlYWRlci50b3RhbChlKSxjLl9wYWdlU2l6ZT5jLl90b3RhbCYmKGMuX3BhZ2VTaXplPWMuX3RvdGFsLGMub3B0aW9ucy5wYWdlU2l6ZSYmYy5vcHRpb25zLnBhZ2VTaXplPmMuX3BhZ2VTaXplJiYoYy5fcGFnZVNpemU9Yy5vcHRpb25zLnBhZ2VTaXplKSksYy5fYWdncmVnYXRlJiZnLnNlcnZlckFnZ3JlZ2F0ZXMmJihjLl9hZ2dyZWdhdGVSZXN1bHQ9Yy5fcmVhZEFnZ3JlZ2F0ZXMoZSkpLGU9Yy5fcmVhZERhdGEoZSksYy5fZGVzdHJveWVkPVtdfWVsc2V7Zm9yKGU9Yy5fcmVhZERhdGEoZSkscj1bXSxuPXt9LGE9Yy5yZWFkZXIubW9kZWwscz1hP2EuaWRGaWVsZDoiaWQiLG89MDtvPHRoaXMuX2Rlc3Ryb3llZC5sZW5ndGg7bysrKXU9dGhpcy5fZGVzdHJveWVkW29dW3NdLG5bdV09dTtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWw9ZVtvXSxoPWwuX19zdGF0ZV9fLCJkZXN0cm95Ij09aD9uW2xbc11dfHx0aGlzLl9kZXN0cm95ZWQucHVzaCh0aGlzLl9jcmVhdGVOZXdNb2RlbChsKSk6ci5wdXNoKGwpO2U9cixjLl90b3RhbD1lLmxlbmd0aH1pZihjLl9wcmlzdGluZVRvdGFsPWMuX3RvdGFsLGk9Yy5fc2tpcCYmYy5fZGF0YS5sZW5ndGgmJmMuX3NraXA8Yy5fZGF0YS5sZW5ndGgsYy5vcHRpb25zLmVuZGxlc3MpZm9yKGkmJmMuX3ByaXN0aW5lRGF0YS5zcGxpY2UoYy5fc2tpcCxjLl9wcmlzdGluZURhdGEubGVuZ3RoKSxyPWUuc2xpY2UoMCksZD0wO2Q8ci5sZW5ndGg7ZCsrKWMuX3ByaXN0aW5lRGF0YS5wdXNoKHJbZF0pO2Vsc2UgYy5fcHJpc3RpbmVEYXRhPWUuc2xpY2UoMCk7aWYoYy5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSxjLm9wdGlvbnMuZW5kbGVzcyl7Zm9yKGMuX2RhdGEudW5iaW5kKEllLGMuX2NoYW5nZUhhbmRsZXIpLGMuX2lzU2VydmVyR3JvdXBlZCgpJiZjLl9kYXRhW2MuX2RhdGEubGVuZ3RoLTFdLnZhbHVlPT09ZVswXS52YWx1ZSYmKEQoYy5fZGF0YVtjLl9kYXRhLmxlbmd0aC0xXSxlWzBdKSxlLnNoaWZ0KCkpLGU9Yy5fb2JzZXJ2ZShlKSxpJiZjLl9kYXRhLnNwbGljZShjLl9za2lwLGMuX2RhdGEubGVuZ3RoKSxmPTA7ZjxlLmxlbmd0aDtmKyspYy5fZGF0YS5wdXNoKGVbZl0pO2MuX2RhdGEuYmluZChJZSxjLl9jaGFuZ2VIYW5kbGVyKX1lbHNlIGMuX2RhdGE9Yy5fb2JzZXJ2ZShlKTtjLl9tYXJrT2ZmbGluZVVwZGF0ZXNBc0RpcnR5KCksYy5fc3RvcmVEYXRhKCksYy5fYWRkUmFuZ2UoYy5fZGF0YSksYy5fcHJvY2VzcyhjLl9kYXRhKSxjLl9kZXF1ZXVlUmVxdWVzdCgpfSxfZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhJiZ0aGlzLl9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cylmb3IodmFyIGU9MDtlPHRoaXMuX2RhdGEubGVuZ3RoO2UrKyl0aGlzLl9kYXRhW2VdLnBhcmVudCYmKHRoaXMuX2RhdGFbZV0ucGFyZW50PWtlKX0sX3N0b3JlRGF0YTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByLGksbixhPVtdO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspaT1lLmF0KHIpLG49aS50b0pTT04oKSxzJiZpLml0ZW1zP24uaXRlbXM9dChpLml0ZW1zKToobi51aWQ9aS51aWQsbyYmKGkuaXNOZXcoKT9uLl9fc3RhdGVfXz0iY3JlYXRlIjppLmRpcnR5JiYobi5fX3N0YXRlX189InVwZGF0ZSIpKSksYS5wdXNoKG4pO3JldHVybiBhfXZhciByLGksbixhLHM9dGhpcy5faXNTZXJ2ZXJHcm91cGVkKCksbz10aGlzLnJlYWRlci5tb2RlbDtpZihudWxsIT10aGlzLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2Upe2ZvcihyPXQodGhpcy5fZGF0YSksaT1bXSxuPTA7bjx0aGlzLl9kZXN0cm95ZWQubGVuZ3RoO24rKylhPXRoaXMuX2Rlc3Ryb3llZFtuXS50b0pTT04oKSxhLl9fc3RhdGVfXz0iZGVzdHJveSIsaS5wdXNoKGEpO3RoaXMub2ZmbGluZURhdGEoci5jb25jYXQoaSkpLGUmJih0aGlzLl9wcmlzdGluZURhdGE9dGhpcy5yZWFkZXIucmVhZGVyP3RoaXMucmVhZGVyLnJlYWRlci5fd3JhcERhdGFBY2Nlc3NCYXNlKHIpOnRoaXMucmVhZGVyLl93cmFwRGF0YUFjY2Vzc0Jhc2UocikpfX0sX2FkZFJhbmdlOmZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcyxuPXQhPT1yP3I6aS5fc2tpcHx8MCxhPW4raS5fZmxhdERhdGEoZSwhMCkubGVuZ3RoO2kuX3Jhbmdlcy5wdXNoKHtzdGFydDpuLGVuZDphLGRhdGE6ZSxwcmlzdGluZURhdGE6ZS50b0pTT04oKSx0aW1lc3RhbXA6aS5fdGltZVN0YW1wKCl9KSxpLl9zb3J0UmFuZ2VzKCl9LF9zb3J0UmFuZ2VzOmZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGFydC10LnN0YXJ0fSl9LGVycm9yOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9kZXF1ZXVlUmVxdWVzdCgpLHRoaXMudHJpZ2dlcihFZSx7fSksdGhpcy50cmlnZ2VyKEdlLHt4aHI6ZSxzdGF0dXM6dCxlcnJvclRocm93bjpyfSl9LF9wYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXBlKHt0YWtlOnQudGFrZSgpLHNraXA6dC5za2lwKCkscGFnZTp0LnBhZ2UoKSxwYWdlU2l6ZTp0LnBhZ2VTaXplKCksc29ydDp0Ll9zb3J0LGZpbHRlcjp0Ll9maWx0ZXIsZ3JvdXA6dC5fZ3JvdXAsYWdncmVnYXRlOnQuX2FnZ3JlZ2F0ZX0sZSk7cmV0dXJuIHQub3B0aW9ucy5zZXJ2ZXJQYWdpbmd8fChkZWxldGUgci50YWtlLGRlbGV0ZSByLnNraXAsZGVsZXRlIHIucGFnZSxkZWxldGUgci5wYWdlU2l6ZSksdC5vcHRpb25zLnNlcnZlckdyb3VwaW5nP3QucmVhZGVyLm1vZGVsJiZyLmdyb3VwJiYoci5ncm91cD1IKHIuZ3JvdXAsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgci5ncm91cCx0Lm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nP3QucmVhZGVyLm1vZGVsJiZyLmZpbHRlciYmKHIuZmlsdGVyPUIoci5maWx0ZXIsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgci5maWx0ZXIsdC5vcHRpb25zLnNlcnZlclNvcnRpbmc/dC5yZWFkZXIubW9kZWwmJnIuc29ydCYmKHIuc29ydD1IKHIuc29ydCx0LnJlYWRlci5tb2RlbCkpOmRlbGV0ZSByLnNvcnQsdC5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXM/dC5yZWFkZXIubW9kZWwmJnIuYWdncmVnYXRlJiYoci5hZ2dyZWdhdGU9SChyLmFnZ3JlZ2F0ZSx0LnJlYWRlci5tb2RlbCkpOmRlbGV0ZSByLmFnZ3JlZ2F0ZSxyfSxfcXVldWVSZXF1ZXN0OmZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcztpLl9yZXF1ZXN0SW5Qcm9ncmVzcz9pLl9wZW5kaW5nPXtjYWxsYmFjazpfZShyLGkpLG9wdGlvbnM6ZX06KGkuX3JlcXVlc3RJblByb2dyZXNzPSEwLGkuX3BlbmRpbmc9dCxyKCkpfSxfZGVxdWV1ZVJlcXVlc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlcXVlc3RJblByb2dyZXNzPSExLGUuX3BlbmRpbmcmJmUuX3F1ZXVlUmVxdWVzdChlLl9wZW5kaW5nLm9wdGlvbnMsZS5fcGVuZGluZy5jYWxsYmFjayl9LF9oYW5kbGVDdXN0b21FcnJvcnM6ZnVuY3Rpb24oZSl7aWYodGhpcy5yZWFkZXIuZXJyb3JzKXt2YXIgdD10aGlzLnJlYWRlci5lcnJvcnMoZSk7aWYodClyZXR1cm4gdGhpcy50cmlnZ2VyKEdlLHt4aHI6bnVsbCxzdGF0dXM6ImN1c3RvbWVycm9yIixlcnJvclRocm93bjoiY3VzdG9tIGVycm9yIixlcnJvcnM6dH0pLCEwfXJldHVybiExfSxfc2hvdWxkV3JhcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlYWRlci5tb2RlbDtyZXR1cm4hKCF0fHwhZS5sZW5ndGgpJiYhKGVbMF1pbnN0YW5jZW9mIHQpfSxfb2JzZXJ2ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMsaT1yLnJlYWRlci5tb2RlbDtyZXR1cm4gci5fc2hvdWxkRGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM9ITAsZSBpbnN0YW5jZW9mIGl0PyhyLl9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cz0hMSxyLl9zaG91bGRXcmFwKGUpJiYoZS50eXBlPXIucmVhZGVyLm1vZGVsLGUud3JhcEFsbChlLGUpKSk6KHQ9ci5wYWdlU2l6ZSgpJiYhci5vcHRpb25zLnNlcnZlclBhZ2luZz8kOml0LGU9bmV3IHQoZSxyLnJlYWRlci5tb2RlbCksZS5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gci5wYXJlbnQoKX0pLHIuX2lzU2VydmVyR3JvdXBlZCgpJiZQKGUsaSksIShyLl9jaGFuZ2VIYW5kbGVyJiZyLl9kYXRhJiZyLl9kYXRhIGluc3RhbmNlb2YgaXQpfHxyLm9wdGlvbnMudXNlUmFuZ2VzJiZyLm9wdGlvbnMuc2VydmVyUGFnaW5nP3IuX2NoYW5nZUhhbmRsZXI9X2Uoci5fY2hhbmdlLHIpOnIuX2RhdGEudW5iaW5kKEllLHIuX2NoYW5nZUhhbmRsZXIpLGUuYmluZChJZSxyLl9jaGFuZ2VIYW5kbGVyKX0sX3VwZGF0ZVRvdGFsRm9yQWN0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXBhcnNlSW50KHIuX3RvdGFsLDEwKTtTKHIuX3RvdGFsKXx8KGk9cGFyc2VJbnQoci5fcHJpc3RpbmVUb3RhbCwxMCkpLCJhZGQiPT09ZT9pKz10Lmxlbmd0aDoicmVtb3ZlIj09PWU/aS09dC5sZW5ndGg6Iml0ZW1jaGFuZ2UiPT09ZXx8InN5bmMiPT09ZXx8ci5vcHRpb25zLnNlcnZlclBhZ2luZz8ic3luYyI9PT1lJiYoaT1yLl9wcmlzdGluZVRvdGFsPXBhcnNlSW50KHIuX3RvdGFsLDEwKSk6aT1yLl9wcmlzdGluZVRvdGFsLHIuX3RvdGFsPWl9LF9jaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQscixpLG49dGhpcyxhPWU/ZS5hY3Rpb246IiI7aWYoInJlbW92ZSI9PT1hKWZvcih0PTAscj1lLml0ZW1zLmxlbmd0aDt0PHI7dCsrKWUuaXRlbXNbdF0uaXNOZXcmJmUuaXRlbXNbdF0uaXNOZXcoKXx8bi5fZGVzdHJveWVkLnB1c2goZS5pdGVtc1t0XSk7IW4ub3B0aW9ucy5hdXRvU3luY3x8ImFkZCIhPT1hJiYicmVtb3ZlIiE9PWEmJiJpdGVtY2hhbmdlIiE9PWE/KG4uX3VwZGF0ZVRvdGFsRm9yQWN0aW9uKGEsZT9lLml0ZW1zOltdKSxuLl9wcm9jZXNzKG4uX2RhdGEsZSkpOihpPWZ1bmN0aW9uKHQpeyJzeW5jIj09PXQuYWN0aW9uJiYobi51bmJpbmQoImNoYW5nZSIsaSksbi5fdXBkYXRlVG90YWxGb3JBY3Rpb24oYSxlLml0ZW1zKSl9LG4uZmlyc3QoImNoYW5nZSIsaSksbi5zeW5jKCkpfSxfY2FsY3VsYXRlQWdncmVnYXRlczpmdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHI9bmV3IGEoZSksaT10LmFnZ3JlZ2F0ZSxuPXQuZmlsdGVyO3JldHVybiBuJiYocj1yLmZpbHRlcihuKSksci5hZ2dyZWdhdGUoaSl9LF9wcm9jZXNzOmZ1bmN0aW9uKGUscil7dmFyIGksbj10aGlzLGE9e307bi5vcHRpb25zLnNlcnZlclBhZ2luZyE9PSEwJiYoYS5za2lwPW4uX3NraXAsYS50YWtlPW4uX3Rha2V8fG4uX3BhZ2VTaXplLGEuc2tpcD09PXQmJm4uX3BhZ2UhPT10JiZuLl9wYWdlU2l6ZSE9PXQmJihhLnNraXA9KG4uX3BhZ2UtMSkqbi5fcGFnZVNpemUpLG4ub3B0aW9ucy51c2VSYW5nZXMmJihhLnNraXA9bi5jdXJyZW50UmFuZ2VTdGFydCgpKSksbi5vcHRpb25zLnNlcnZlclNvcnRpbmchPT0hMCYmKGEuc29ydD1uLl9zb3J0KSxuLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nIT09ITAmJihhLmZpbHRlcj1uLl9maWx0ZXIpLG4ub3B0aW9ucy5zZXJ2ZXJHcm91cGluZyE9PSEwJiYoYS5ncm91cD1uLl9ncm91cCksbi5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXMhPT0hMCYmKGEuYWdncmVnYXRlPW4uX2FnZ3JlZ2F0ZSksbi5vcHRpb25zLnNlcnZlckdyb3VwaW5nJiZuLl9jbGVhckVtcHR5R3JvdXBzKGUpLGk9bi5fcXVlcnlQcm9jZXNzKGUsYSksbi5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXMhPT0hMCYmKG4uX2FnZ3JlZ2F0ZVJlc3VsdD1uLl9jYWxjdWxhdGVBZ2dyZWdhdGVzKGkuZGF0YVRvQWdncmVnYXRlfHxlLGEpKSxuLnZpZXcoaS5kYXRhKSxuLl9zZXRGaWx0ZXJUb3RhbChpLnRvdGFsLCExKSxyPXJ8fHt9LHIuaXRlbXM9ci5pdGVtc3x8bi5fdmlldyxuLnRyaWdnZXIoSWUscil9LF9jbGVhckVtcHR5R3JvdXBzOmZ1bmN0aW9uKGUpe3ZhciB0LHI7Zm9yKHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSlyPWVbdF0sci5oYXNTdWJncm91cHM/dGhpcy5fY2xlYXJFbXB0eUdyb3VwcyhyLml0ZW1zKTpyLml0ZW1zJiYhci5pdGVtcy5sZW5ndGgmJktlLmFwcGx5KHIucGFyZW50KCksW3QsMV0pfSxfcXVlcnlQcm9jZXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3B0aW9ucy5pblBsYWNlU29ydD9hLnByb2Nlc3MoZSx0LHRoaXMub3B0aW9ucy5pblBsYWNlU29ydCk6YS5wcm9jZXNzKGUsdCl9LF9tZXJnZVN0YXRlOmZ1bmN0aW9uKHIpe3ZhciBpPXRoaXM7cmV0dXJuIHIhPT10JiYoaS5fcGFnZVNpemU9ci5wYWdlU2l6ZSxpLl9wYWdlPXIucGFnZSxpLl9zb3J0PXIuc29ydCxpLl9maWx0ZXI9ci5maWx0ZXIsaS5fZ3JvdXA9ci5ncm91cCxpLl9hZ2dyZWdhdGU9ci5hZ2dyZWdhdGUsaS5fc2tpcD1pLl9jdXJyZW50UmFuZ2VTdGFydD1yLnNraXAsaS5fdGFrZT1yLnRha2UsaS5fc2tpcD09PXQmJihpLl9za2lwPWkuX2N1cnJlbnRSYW5nZVN0YXJ0PWkuc2tpcCgpLHIuc2tpcD1pLnNraXAoKSksaS5fdGFrZT09PXQmJmkuX3BhZ2VTaXplIT09dCYmKGkuX3Rha2U9aS5fcGFnZVNpemUsci50YWtlPWkuX3Rha2UpLHIuc29ydCYmKGkuX3NvcnQ9ci5zb3J0PXMoci5zb3J0KSxpLl9zb3J0RmllbGRzPW8oci5zb3J0KSksci5maWx0ZXImJihpLl9maWx0ZXI9ci5maWx0ZXI9aS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmcmJiFlLmlzRW1wdHlPYmplY3Qoci5maWx0ZXIpP2UuZXh0ZW5kKHt9LGwoci5maWx0ZXIpLHthY2NlbnRGb2xkaW5nRmlsdGVyaW5nOmkub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nfSk6bChyLmZpbHRlcikpLHIuZ3JvdXAmJihpLl9ncm91cD1yLmdyb3VwPXAoci5ncm91cCkpLHIuYWdncmVnYXRlJiYoaS5fYWdncmVnYXRlPXIuYWdncmVnYXRlPWcoci5hZ2dyZWdhdGUpKSkscn0scXVlcnk6ZnVuY3Rpb24ocil7dmFyIGksbixhLHM9dGhpcy5vcHRpb25zLnNlcnZlclNvcnRpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJQYWdpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJHcm91cGluZ3x8dGhpcy5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXM7cmV0dXJuIHN8fCh0aGlzLl9kYXRhPT09dHx8MD09PXRoaXMuX2RhdGEubGVuZ3RoKSYmIXRoaXMuX2Rlc3Ryb3llZC5sZW5ndGg/KHRoaXMub3B0aW9ucy5lbmRsZXNzJiYobj1yLnBhZ2VTaXplLXRoaXMucGFnZVNpemUoKSxuPjA/KG49dGhpcy5wYWdlU2l6ZSgpLHIucGFnZT1yLnBhZ2VTaXplL24sci5wYWdlU2l6ZT1uKTooci5wYWdlPTEsdGhpcy5vcHRpb25zLmVuZGxlc3M9ITEpKSx0aGlzLnJlYWQodGhpcy5fbWVyZ2VTdGF0ZShyKSkpOihhPXRoaXMudHJpZ2dlcihMZSx7dHlwZToicmVhZCJ9KSxhfHwodGhpcy50cmlnZ2VyKGplKSxpPXRoaXMuX3F1ZXJ5UHJvY2Vzcyh0aGlzLl9kYXRhLHRoaXMuX21lcmdlU3RhdGUocikpLHRoaXMuX3NldEZpbHRlclRvdGFsKGkudG90YWwsITApLHRoaXMuX2FnZ3JlZ2F0ZVJlc3VsdD10aGlzLl9jYWxjdWxhdGVBZ2dyZWdhdGVzKGkuZGF0YVRvQWdncmVnYXRlfHx0aGlzLl9kYXRhLHIpLHRoaXMudmlldyhpLmRhdGEpLHRoaXMudHJpZ2dlcihFZSx7dHlwZToicmVhZCJ9KSx0aGlzLnRyaWdnZXIoSWUse2l0ZW1zOmkuZGF0YX0pKSxlLkRlZmVycmVkKCkucmVzb2x2ZShhKS5wcm9taXNlKCkpfSxfc2V0RmlsdGVyVG90YWw6ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzO2kub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmd8fChlIT09dD9pLl90b3RhbD1lOnImJihpLl90b3RhbD1pLl9kYXRhLmxlbmd0aCkpfSxmZXRjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZnVuY3Rpb24ocil7ciE9PSEwJiZ4ZShlKSYmZS5jYWxsKHQpfTtyZXR1cm4gdGhpcy5fcXVlcnkoKS5kb25lKHIpfSxfcXVlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdC5xdWVyeShwZSh7fSx7cGFnZTp0LnBhZ2UoKSxwYWdlU2l6ZTp0LnBhZ2VTaXplKCksc29ydDp0LnNvcnQoKSxmaWx0ZXI6dC5maWx0ZXIoKSxncm91cDp0Lmdyb3VwKCksYWdncmVnYXRlOnQuYWdncmVnYXRlKCl9LGUpKX0sbmV4dDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5wYWdlKCksaT10LnRvdGFsKCk7aWYoZT1lfHx7fSxyJiYhKGkmJnIrMT50LnRvdGFsUGFnZXMoKSkpcmV0dXJuIHQuX3NraXA9dC5fY3VycmVudFJhbmdlU3RhcnQ9cip0LnRha2UoKSxyKz0xLGUucGFnZT1yLHQuX3F1ZXJ5KGUpLHJ9LHByZXY6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQucGFnZSgpO2lmKGU9ZXx8e30sciYmMSE9PXIpcmV0dXJuIHQuX3NraXA9dC5fY3VycmVudFJhbmdlU3RhcnQ9dC5fc2tpcC10LnRha2UoKSxyLT0xLGUucGFnZT1yLHQuX3F1ZXJ5KGUpLHJ9LHBhZ2U6ZnVuY3Rpb24oZSl7dmFyIHIsaT10aGlzO3JldHVybiBlIT09dD8oZT1WZS5tYXgoVmUubWluKFZlLm1heChlLDEpLGkudG90YWxQYWdlcygpKSwxKSxpLl9xdWVyeShpLl9wYWdlYWJsZVF1ZXJ5T3B0aW9ucyh7cGFnZTplfSkpLHQpOihyPWkuc2tpcCgpLHIhPT10P1ZlLnJvdW5kKChyfHwwKS8oaS50YWtlKCl8fDEpKSsxOnQpfSxwYWdlU2l6ZTpmdW5jdGlvbihlKXt2YXIgcj10aGlzO3JldHVybiBlIT09dD8oci5fcXVlcnkoci5fcGFnZWFibGVRdWVyeU9wdGlvbnMoe3BhZ2VTaXplOmUscGFnZToxfSkpLHQpOnIudGFrZSgpfSxzb3J0OmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGUhPT10PyhyLnRyaWdnZXIoInNvcnQiKSxyLl9xdWVyeSh7c29ydDplfSksdCk6ci5fc29ydH0sZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGU9PT10P3IuX2ZpbHRlcjooci50cmlnZ2VyKCJyZXNldCIpLHIuX3F1ZXJ5KHtmaWx0ZXI6ZSxwYWdlOjF9KSx0KX0sZ3JvdXA6ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztyZXR1cm4gZSE9PXQ/KHIuX3F1ZXJ5KHtncm91cDplfSksdCk6ci5fZ3JvdXB9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuX3RvdGFsfHwwLDEwKX0sYWdncmVnYXRlOmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGUhPT10PyhyLl9xdWVyeSh7YWdncmVnYXRlOmV9KSx0KTpyLl9hZ2dyZWdhdGV9LGFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9hZ2dyZWdhdGVSZXN1bHQ7cmV0dXJuIG1lKGUpJiYoZT10aGlzLl9lbXB0eUFnZ3JlZ2F0ZXModGhpcy5hZ2dyZWdhdGUoKSkpLGV9LF9lbXB0eUFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oZSl7dmFyIHQscixpPXt9O2lmKCFtZShlKSlmb3IodD17fSx5ZShlKXx8KGU9W2VdKSxyPTA7cjxlLmxlbmd0aDtyKyspdFtlW3JdLmFnZ3JlZ2F0ZV09MCxpW2Vbcl0uZmllbGRdPXQ7cmV0dXJuIGl9LF9wYWdlYWJsZVF1ZXJ5T3B0aW9uczpmdW5jdGlvbihlKXtyZXR1cm4gZX0sX3dyYXBJbkVtcHR5R3JvdXA6ZnVuY3Rpb24oZSl7dmFyIHQscixpLG4sYT10aGlzLmdyb3VwKCk7Zm9yKGk9YS5sZW5ndGgtMSxuPTA7aT49bjtpLS0pcj1hW2ldLHQ9e3ZhbHVlOmUuZ2V0P2UuZ2V0KHIuZmllbGQpOmVbci5maWVsZF0sZmllbGQ6ci5maWVsZCxpdGVtczp0P1t0XTpbZV0saGFzU3ViZ3JvdXBzOiEhdCxhZ2dyZWdhdGVzOnRoaXMuX2VtcHR5QWdncmVnYXRlcyhyLmFnZ3JlZ2F0ZXMpfTtyZXR1cm4gdH0sdG90YWxQYWdlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLnBhZ2VTaXplKCl8fGUudG90YWwoKTtyZXR1cm4gVmUuY2VpbCgoZS50b3RhbCgpfHwwKS90KX0saW5SYW5nZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1WZS5taW4oZSt0LHIudG90YWwoKSk7cmV0dXJuIXIub3B0aW9ucy5zZXJ2ZXJQYWdpbmcmJnIuX2RhdGEubGVuZ3RoPjB8fHIuX2ZpbmRSYW5nZShlLGkpLmxlbmd0aD4wfSxsYXN0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yYW5nZXM7cmV0dXJuIGVbZS5sZW5ndGgtMV18fHtzdGFydDowLGVuZDowLGRhdGE6W119fSxmaXJzdEl0ZW1VaWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yYW5nZXM7cmV0dXJuIGUubGVuZ3RoJiZlWzBdLmRhdGEubGVuZ3RoJiZlWzBdLmRhdGFbMF0udWlkfSxlbmFibGVSZXF1ZXN0c0luUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLl9za2lwUmVxdWVzdHNJblByb2dyZXNzPSExfSxfdGltZVN0YW1wOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHJhbmdlOmZ1bmN0aW9uKGUscixpKXt0aGlzLl9jdXJyZW50UmVxdWVzdFRpbWVTdGFtcD10aGlzLl90aW1lU3RhbXAoKSx0aGlzLl9za2lwUmVxdWVzdHNJblByb2dyZXNzPSEwLGU9VmUubWluKGV8fDAsdGhpcy50b3RhbCgpKSxpPXhlKGkpP2k6a2U7dmFyIG4sYT10aGlzLHM9VmUubWF4KFZlLmZsb29yKGUvciksMCkqcixvPVZlLm1pbihzK3IsYS50b3RhbCgpKTtyZXR1cm4gbj1hLl9maW5kUmFuZ2UoZSxWZS5taW4oZStyLGEudG90YWwoKSkpLG4ubGVuZ3RofHwwPT09YS50b3RhbCgpPyhhLl9wcm9jZXNzUmFuZ2VEYXRhKG4sZSxyLHMsbyksaSgpLHQpOihyIT09dCYmKGEuX3JhbmdlRXhpc3RzKHMsbyk/czxlJiZhLnByZWZldGNoKG8scixmdW5jdGlvbigpe2EucmFuZ2UoZSxyLGkpfSk6YS5wcmVmZXRjaChzLHIsZnVuY3Rpb24oKXtlPnMmJm88YS50b3RhbCgpJiYhYS5fcmFuZ2VFeGlzdHMobyxWZS5taW4obytyLGEudG90YWwoKSkpP2EucHJlZmV0Y2gobyxyLGZ1bmN0aW9uKCl7YS5yYW5nZShlLHIsaSl9KTphLnJhbmdlKGUscixpKX0pKSx0KX0sX2ZpbmRSYW5nZTpmdW5jdGlvbihlLHIpe3ZhciBpLG4sYSxvLHUsbCxoLGQsZixjLGcscCx2PXRoaXMsbT12Ll9yYW5nZXMseT1bXSxTPXYub3B0aW9ucyxiPVMuc2VydmVyU29ydGluZ3x8Uy5zZXJ2ZXJQYWdpbmd8fFMuc2VydmVyRmlsdGVyaW5nfHxTLnNlcnZlckdyb3VwaW5nfHxTLnNlcnZlckFnZ3JlZ2F0ZXM7Zm9yKG49MCxnPW0ubGVuZ3RoO248ZztuKyspaWYoaT1tW25dLGU+PWkuc3RhcnQmJmU8PWkuZW5kKXtmb3IoYz0wLGE9bjthPGc7YSsrKWlmKGk9bVthXSxmPXYuX2ZsYXREYXRhKGkuZGF0YSwhMCksZi5sZW5ndGgmJmUrYz49aS5zdGFydCYmKGw9aS5kYXRhLGg9aS5lbmQsYnx8KFMuaW5QbGFjZVNvcnQ/ZD12Ll9xdWVyeVByb2Nlc3MoaS5kYXRhLHtmaWx0ZXI6di5maWx0ZXIoKX0pOihwPV8odi5ncm91cCgpfHxbXSkuY29uY2F0KHModi5zb3J0KCl8fFtdKSksZD12Ll9xdWVyeVByb2Nlc3MoaS5kYXRhLHtzb3J0OnAsZmlsdGVyOnYuZmlsdGVyKCl9KSksZj1sPWQuZGF0YSxkLnRvdGFsIT09dCYmKGg9ZC50b3RhbCkpLG89MCxlK2M+aS5zdGFydCYmKG89ZStjLWkuc3RhcnQpLHU9Zi5sZW5ndGgsaD5yJiYodS09aC1yKSxjKz11LW8seT12Ll9tZXJnZUdyb3Vwcyh5LGwsbyx1KSxyPD1pLmVuZCYmYz09ci1lKSlyZXR1cm4geTticmVha31yZXR1cm5bXX0sX21lcmdlR3JvdXBzOmZ1bmN0aW9uKGUsdCxyLGkpe2lmKHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpKXt2YXIgbixhPXQudG9KU09OKCk7cmV0dXJuIGUubGVuZ3RoJiYobj1lW2UubGVuZ3RoLTFdKSx6KG4sYSxyLGkpLGUuY29uY2F0KGEpfXJldHVybiBlLmNvbmNhdCh0LnNsaWNlKHIsaSkpfSxfcHJvY2Vzc1JhbmdlRGF0YTpmdW5jdGlvbihlLHIsaSxuLGEpe3ZhciBzLG8sdSxsLGg9dGhpcztoLl9wZW5kaW5nPXQsaC5fc2tpcD1yPmguc2tpcCgpP1ZlLm1pbihhLChoLnRvdGFsUGFnZXMoKS0xKSpoLnRha2UoKSk6bixoLl9jdXJyZW50UmFuZ2VTdGFydD1yLGguX3Rha2U9aSxzPWgub3B0aW9ucy5zZXJ2ZXJQYWdpbmcsbz1oLm9wdGlvbnMuc2VydmVyU29ydGluZyx1PWgub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmcsbD1oLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlczt0cnl7aC5vcHRpb25zLnNlcnZlclBhZ2luZz0hMCxoLl9pc1NlcnZlckdyb3VwZWQoKXx8aC5ncm91cCgpJiZoLmdyb3VwKCkubGVuZ3RofHwoaC5vcHRpb25zLnNlcnZlclNvcnRpbmc9ITApLGgub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc9ITAsaC5vcHRpb25zLnNlcnZlclBhZ2luZz0hMCxoLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz0hMCxzJiYoaC5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSxoLl9kYXRhPWU9aC5fb2JzZXJ2ZShlKSksaC5fcHJvY2VzcyhlKX1maW5hbGx5e2gub3B0aW9ucy5zZXJ2ZXJQYWdpbmc9cyxoLm9wdGlvbnMuc2VydmVyU29ydGluZz1vLGgub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc9dSxoLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz1sfX0sc2tpcDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUuX3NraXA9PT10P2UuX3BhZ2UhPT10PyhlLl9wYWdlLTEpKihlLnRha2UoKXx8MSk6dDplLl9za2lwfSxjdXJyZW50UmFuZ2VTdGFydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmFuZ2VTdGFydHx8MH0sdGFrZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YWtlfHx0aGlzLl9wYWdlU2l6ZX0sX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXI6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcyxhPW4uX3RpbWVTdGFtcCgpO3JldHVybiBmdW5jdGlvbihzKXt2YXIgbyx1LGwsaD0hMSxkPXtzdGFydDplLGVuZDp0LGRhdGE6W10sdGltZXN0YW1wOm4uX3RpbWVTdGFtcCgpfTtpZihuLl9kZXF1ZXVlUmVxdWVzdCgpLG4udHJpZ2dlcihFZSx7cmVzcG9uc2U6cyx0eXBlOiJyZWFkIn0pLHM9bi5yZWFkZXIucGFyc2UocyksbD1uLl9yZWFkRGF0YShzKSxsLmxlbmd0aCl7Zm9yKG89MCx1PW4uX3Jhbmdlcy5sZW5ndGg7bzx1O28rKylpZihuLl9yYW5nZXNbb10uc3RhcnQ9PT1lKXtoPSEwLGQ9bi5fcmFuZ2VzW29dLGQucHJpc3RpbmVEYXRhPWwsZC5kYXRhPW4uX29ic2VydmUobCksZC5lbmQ9ZC5zdGFydCtuLl9mbGF0RGF0YShkLmRhdGEsITApLmxlbmd0aCxuLl9zb3J0UmFuZ2VzKCk7YnJlYWt9aHx8bi5fYWRkUmFuZ2Uobi5fb2JzZXJ2ZShsKSxlKX1uLl90b3RhbD1uLnJlYWRlci50b3RhbChzKSwoaXx8YT49bi5fY3VycmVudFJlcXVlc3RUaW1lU3RhbXB8fCFuLl9za2lwUmVxdWVzdHNJblByb2dyZXNzKSYmKHImJmwubGVuZ3RoP3IoKTpuLnRyaWdnZXIoSWUse30pKX19LHByZWZldGNoOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLG49VmUubWluKGUrdCxpLnRvdGFsKCkpLGE9e3Rha2U6dCxza2lwOmUscGFnZTplL3QrMSxwYWdlU2l6ZTp0LHNvcnQ6aS5fc29ydCxmaWx0ZXI6aS5fZmlsdGVyLGdyb3VwOmkuX2dyb3VwLGFnZ3JlZ2F0ZTppLl9hZ2dyZWdhdGV9O2kuX3JhbmdlRXhpc3RzKGUsbik/ciYmcigpOihjbGVhclRpbWVvdXQoaS5fdGltZW91dCksaS5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5fcXVldWVSZXF1ZXN0KGEsZnVuY3Rpb24oKXtpLnRyaWdnZXIoTGUse3R5cGU6InJlYWQifSk/aS5fZGVxdWV1ZVJlcXVlc3QoKTppLnRyYW5zcG9ydC5yZWFkKHtkYXRhOmkuX3BhcmFtcyhhKSxzdWNjZXNzOmkuX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXIoZSxuLHIpLGVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9WWUuY2FsbChhcmd1bWVudHMpO2kuZXJyb3IuYXBwbHkoaSxlKX19KX0pfSwxMDApKX0sX211bHRpcGxlUHJlZmV0Y2g6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMsbj1WZS5taW4oZSt0LGkudG90YWwoKSksYT17dGFrZTp0LHNraXA6ZSxwYWdlOmUvdCsxLHBhZ2VTaXplOnQsc29ydDppLl9zb3J0LGZpbHRlcjppLl9maWx0ZXIsZ3JvdXA6aS5fZ3JvdXAsYWdncmVnYXRlOmkuX2FnZ3JlZ2F0ZX07aS5fcmFuZ2VFeGlzdHMoZSxuKT9yJiZyKCk6aS50cmlnZ2VyKExlLHt0eXBlOiJyZWFkIn0pfHxpLnRyYW5zcG9ydC5yZWFkKHtkYXRhOmkuX3BhcmFtcyhhKSxzdWNjZXNzOmkuX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXIoZSxuLHIsITApfSl9LF9yYW5nZUV4aXN0czpmdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzLGE9bi5fcmFuZ2VzO2ZvcihyPTAsaT1hLmxlbmd0aDtyPGk7cisrKWlmKGFbcl0uc3RhcnQ8PWUmJmFbcl0uZW5kPj10KXJldHVybiEwO3JldHVybiExfSxfZ2V0Q3VycmVudFJhbmdlU3BhbjpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLGk9ci5fcmFuZ2VzLG49ci5jdXJyZW50UmFuZ2VTdGFydCgpLGE9bisoci50YWtlKCl8fDApLHM9W10sbz1pLmxlbmd0aDtmb3IodD0wO3Q8bzt0KyspZT1pW3RdLChlLnN0YXJ0PD1uJiZlLmVuZD49bnx8ZS5zdGFydD49biYmZS5zdGFydDw9YSkmJnMucHVzaChlKTtyZXR1cm4gc30sX3JlbW92ZU1vZGVsRnJvbVJhbmdlczpmdW5jdGlvbihlKXt2YXIgdCxyLGksbj10aGlzO2ZvcihyPTAsaT10aGlzLl9yYW5nZXMubGVuZ3RoO3I8aTtyKyspdD10aGlzLl9yYW5nZXNbcl0sbi5fcmVtb3ZlTW9kZWxGcm9tUmFuZ2UodCxlKTtuLl91cGRhdGVSYW5nZXNMZW5ndGgoKX0sX3JlbW92ZU1vZGVsRnJvbVJhbmdlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZWFjaEl0ZW0oZS5kYXRhLGZ1bmN0aW9uKGUpe3ZhciByLGk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpZihpPWVbcl0saS51aWQmJmkudWlkPT10LnVpZCl7W10uc3BsaWNlLmNhbGwoZSxyLDEpO2JyZWFrfX0pfSxfaW5zZXJ0TW9kZWxJblJhbmdlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuPXRoaXMsYT1uLl9yYW5nZXN8fFtdLHM9YS5sZW5ndGg7Zm9yKGk9MDtpPHM7aSsrKWlmKHI9YVtpXSxyLnN0YXJ0PD1lJiZyLmVuZD49ZSl7bi5fZ2V0QnlVaWQodC51aWQsci5kYXRhKXx8KG4uX2lzU2VydmVyR3JvdXBlZCgpP3IuZGF0YS5zcGxpY2UoZSwwLG4uX3dyYXBJbkVtcHR5R3JvdXAodCkpOnIuZGF0YS5zcGxpY2UoZSwwLHQpKTticmVha31uLl91cGRhdGVSYW5nZXNMZW5ndGgoKX0sX3VwZGF0ZVJhbmdlc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLGk9ci5fcmFuZ2VzfHxbXSxuPWkubGVuZ3RoLGE9ITEscz0wLG89MDtmb3IodD0wO3Q8bjt0KyspZT1pW3RdLG89ci5fZmxhdERhdGEoZS5kYXRhLCEwKS5sZW5ndGgtVmUuYWJzKGUuZW5kLWUuc3RhcnQpLGF8fDA9PT1vP2EmJihlLnN0YXJ0Kz1zLGUuZW5kKz1zKTooYT0hMCxzPW8sZS5lbmQrPXMpfX0pLGhlPXt9LGhlLmNyZWF0ZT1mdW5jdGlvbih0LHIsaSl7dmFyIG4sYT10LnRyYW5zcG9ydD9lLmV4dGVuZCh7fSx0LnRyYW5zcG9ydCk6bnVsbDtyZXR1cm4gYT8oYS5yZWFkPXR5cGVvZiBhLnJlYWQ9PT1EZT97dXJsOmEucmVhZH06YS5yZWFkLCJqc2RvIj09PXQudHlwZSYmKGEuZGF0YVNvdXJjZT1pKSx0LnR5cGUmJihGZS5kYXRhLnRyYW5zcG9ydHM9RmUuZGF0YS50cmFuc3BvcnRzfHx7fSxGZS5kYXRhLnNjaGVtYXM9RmUuZGF0YS5zY2hlbWFzfHx7fSxGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXT92ZShGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXSk/YT1wZSghMCx7fSxGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXSxhKTpuPW5ldyBGZS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXShwZShhLHtkYXRhOnJ9KSk6RmUubG9nVG9Db25zb2xlKCJVbmtub3duIERhdGFTb3VyY2UgdHJhbnNwb3J0IHR5cGUgJyIrdC50eXBlKyInLlxuVmVyaWZ5IHRoYXQgcmVnaXN0cmF0aW9uIHNjcmlwdHMgZm9yIHRoaXMgdHlwZSBhcmUgaW5jbHVkZWQgYWZ0ZXIgS2VuZG8gVUkgb24gdGhlIHBhZ2UuIiwid2FybiIpLHQuc2NoZW1hPXBlKCEwLHt9LEZlLmRhdGEuc2NoZW1hc1t0LnR5cGVdLHQuc2NoZW1hKSksbnx8KG49eGUoYS5yZWFkKT9hOm5ldyBzZShhKSkpOm49bmV3IGFlKHtkYXRhOnQuZGF0YXx8W119KSxufSxsZS5jcmVhdGU9ZnVuY3Rpb24oZSl7KHllKGUpfHxlIGluc3RhbmNlb2YgaXQpJiYoZT17ZGF0YTplfSk7dmFyIHIsaSxuLGE9ZXx8e30scz1hLmRhdGEsbz1hLmZpZWxkcyx1PWEudGFibGUsbD1hLnNlbGVjdCxoPXt9O2lmKHN8fCFvfHxhLnRyYW5zcG9ydHx8KHU/cz1KKHUsbyk6bCYmKHM9VShsLG8pLGEuZ3JvdXA9PT10JiZzWzBdJiZzWzBdLm9wdGdyb3VwIT09dCYmKGEuZ3JvdXA9Im9wdGdyb3VwIikpKSxGZS5kYXRhLk1vZGVsJiZvJiYoIWEuc2NoZW1hfHwhYS5zY2hlbWEubW9kZWwpKXtmb3Iocj0wLGk9by5sZW5ndGg7cjxpO3IrKyluPW9bcl0sbi50eXBlJiYoaFtuLmZpZWxkXT1uKTttZShoKXx8KGEuc2NoZW1hPXBlKCEwLGEuc2NoZW1hLHttb2RlbDp7ZmllbGRzOmh9fSkpfXJldHVybiBhLmRhdGE9cyxsPW51bGwsYS5zZWxlY3Q9bnVsbCx1PW51bGwsYS50YWJsZT1udWxsLGEgaW5zdGFuY2VvZiBsZT9hOm5ldyBsZShhKX0sZGU9Wi5kZWZpbmUoe2lkRmllbGQ6ImlkIixpbml0OmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcyxpPXIuaGFzQ2hpbGRyZW58fGUmJmUuaGFzQ2hpbGRyZW4sbj0iaXRlbXMiLGE9e307RmUuZGF0YS5Nb2RlbC5mbi5pbml0LmNhbGwocixlKSx0eXBlb2Ygci5jaGlsZHJlbj09PURlJiYobj1yLmNoaWxkcmVuKSxhPXtzY2hlbWE6e2RhdGE6bixtb2RlbDp7aGFzQ2hpbGRyZW46aSxpZDpyLmlkRmllbGQsZmllbGRzOnIuZmllbGRzfX19LHR5cGVvZiByLmNoaWxkcmVuIT09RGUmJnBlKGEsci5jaGlsZHJlbiksYS5kYXRhPWUsaXx8KGk9YS5zY2hlbWEuZGF0YSksdHlwZW9mIGk9PT1EZSYmKGk9RmUuZ2V0dGVyKGkpKSx4ZShpKSYmKHQ9aS5jYWxsKHIsciksci5oYXNDaGlsZHJlbj0oIXR8fDAhPT10Lmxlbmd0aCkmJiEhdCksci5fY2hpbGRyZW5PcHRpb25zPWEsci5oYXNDaGlsZHJlbiYmci5faW5pdENoaWxkcmVuKCksci5fbG9hZGVkPSEoIWV8fCFlLl9sb2FkZWQpfSxfaW5pdENoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGUsdCxyLGk9dGhpcztpLmNoaWxkcmVuIGluc3RhbmNlb2YgZmV8fChlPWkuY2hpbGRyZW49bmV3IGZlKGkuX2NoaWxkcmVuT3B0aW9ucyksdD1lLnRyYW5zcG9ydCxyPXQucGFyYW1ldGVyTWFwLHQucGFyYW1ldGVyTWFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbaS5pZEZpZWxkfHwiaWQiXT1pLmlkLHImJihlPXIoZSx0KSksZX0sZS5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sZS5iaW5kKEllLGZ1bmN0aW9uKGUpe2Uubm9kZT1lLm5vZGV8fGksaS50cmlnZ2VyKEllLGUpfSksZS5iaW5kKEdlLGZ1bmN0aW9uKGUpe3ZhciB0PWkucGFyZW50KCk7dCYmKGUubm9kZT1lLm5vZGV8fGksdC50cmlnZ2VyKEdlLGUpKX0pLGkuX3VwZGF0ZUNoaWxkcmVuRmllbGQoKSl9LGFwcGVuZDpmdW5jdGlvbihlKXt0aGlzLl9pbml0Q2hpbGRyZW4oKSx0aGlzLmxvYWRlZCghMCksdGhpcy5jaGlsZHJlbi5hZGQoZSl9LGhhc0NoaWxkcmVuOiExLGxldmVsOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucGFyZW50Tm9kZSgpLHQ9MDtlJiZlLnBhcmVudE5vZGU7KXQrKyxlPWUucGFyZW50Tm9kZT9lLnBhcmVudE5vZGUoKTpudWxsO3JldHVybiB0fSxfdXBkYXRlQ2hpbGRyZW5GaWVsZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NoaWxkcmVuT3B0aW9ucy5zY2hlbWEuZGF0YTt0aGlzW2V8fCJpdGVtcyJdPXRoaXMuY2hpbGRyZW4uZGF0YSgpfSxfY2hpbGRyZW5Mb2FkZWQ6ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5fdXBkYXRlQ2hpbGRyZW5GaWVsZCgpfSxsb2FkOmZ1bmN0aW9uKCl7dmFyIHIsaSxuPXt9LGE9Il9xdWVyeSI7cmV0dXJuIHRoaXMuaGFzQ2hpbGRyZW4/KHRoaXMuX2luaXRDaGlsZHJlbigpLHI9dGhpcy5jaGlsZHJlbixuW3RoaXMuaWRGaWVsZHx8ImlkIl09dGhpcy5pZCx0aGlzLl9sb2FkZWR8fChyLl9kYXRhPXQsYT0icmVhZCIpLHIub25lKEllLF9lKHRoaXMuX2NoaWxkcmVuTG9hZGVkLHRoaXMpKSx0aGlzLl9tYXRjaEZpbHRlciYmKG4uZmlsdGVyPXtmaWVsZDoiX21hdGNoRmlsdGVyIixvcGVyYXRvcjoiZXEiLHZhbHVlOiEwfSksaT1yW2FdKG4pKTp0aGlzLmxvYWRlZCghMCksaXx8ZS5EZWZlcnJlZCgpLnJlc29sdmUoKS5wcm9taXNlKCl9LHBhcmVudE5vZGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmVudCgpO3JldHVybiBlLnBhcmVudCgpfSxsb2FkZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P3RoaXMuX2xvYWRlZDoodGhpcy5fbG9hZGVkPWUsdCl9LHNob3VsZFNlcmlhbGl6ZTpmdW5jdGlvbihlKXtyZXR1cm4gWi5mbi5zaG91bGRTZXJpYWxpemUuY2FsbCh0aGlzLGUpJiYiY2hpbGRyZW4iIT09ZSYmIl9sb2FkZWQiIT09ZSYmImhhc0NoaWxkcmVuIiE9PWUmJiJfY2hpbGRyZW5PcHRpb25zIiE9PWV9fSksZmU9bGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUpe3ZhciB0PWRlLmRlZmluZSh7Y2hpbGRyZW46ZX0pO2UuZmlsdGVyJiYhZS5zZXJ2ZXJGaWx0ZXJpbmcmJih0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXI9ZS5maWx0ZXIsZS5maWx0ZXI9bnVsbCksbGUuZm4uaW5pdC5jYWxsKHRoaXMscGUoITAse30se3NjaGVtYTp7bW9kZWxCYXNlOnQsbW9kZWw6dH19LGUpKSx0aGlzLl9hdHRhY2hCdWJibGVIYW5kbGVycygpfSxfYXR0YWNoQnViYmxlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2RhdGEuYmluZChHZSxmdW5jdGlvbih0KXtlLnRyaWdnZXIoR2UsdCl9KX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD1sZS5mbi5yZWFkLmNhbGwodGhpcyxlKTtyZXR1cm4gdGhpcy5faGllcmFyY2hpY2FsRmlsdGVyJiYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5sZW5ndGg+MD90aGlzLmZpbHRlcih0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXIpOih0aGlzLm9wdGlvbnMuZmlsdGVyPXRoaXMuX2hpZXJhcmNoaWNhbEZpbHRlcix0aGlzLl9maWx0ZXI9bCh0aGlzLm9wdGlvbnMuZmlsdGVyKSx0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXI9bnVsbCkpLHR9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxyPWUucGFyZW50Tm9kZSgpLGk9dGhpcztyZXR1cm4gciYmci5faW5pdENoaWxkcmVuJiYoaT1yLmNoaWxkcmVuKSx0PWxlLmZuLnJlbW92ZS5jYWxsKGksZSksciYmIWkuZGF0YSgpLmxlbmd0aCYmKHIuaGFzQ2hpbGRyZW49ITEpLHR9LHN1Y2Nlc3M6Vigic3VjY2VzcyIpLGRhdGE6VigiZGF0YSIpLGluc2VydDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucGFyZW50KCk7cmV0dXJuIHImJnIuX2luaXRDaGlsZHJlbiYmKHIuaGFzQ2hpbGRyZW49ITAsci5faW5pdENoaWxkcmVuKCkpLGxlLmZuLmluc2VydC5jYWxsKHRoaXMsZSx0KX0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD90aGlzLl9maWx0ZXI6KCF0aGlzLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nJiZ0aGlzLl9tYXJrSGllcmFyY2hpY2FsUXVlcnkoZSkmJihlPXtsb2dpYzoib3IiLGZpbHRlcnM6W2Use2ZpZWxkOiJfbWF0Y2hGaWx0ZXIiLG9wZXJhdG9yOiJlcXVhbHMiLHZhbHVlOiEwfV19KSx0aGlzLnRyaWdnZXIoInJlc2V0IiksdGhpcy5fcXVlcnkoe2ZpbHRlcjplLHBhZ2U6MX0pLHQpfSxfbWFya0hpZXJhcmNoaWNhbFF1ZXJ5OmZ1bmN0aW9uKHQpe3ZhciByLGksbixzLG8sdT10aGlzLm9wdGlvbnMuYWNjZW50Rm9sZGluZ0ZpbHRlcmluZztyZXR1cm4gdD11P2UuZXh0ZW5kKHt9LGwodCkse2FjY2VudEZvbGRpbmdGaWx0ZXJpbmc6dX0pOmwodCksdCYmMCE9PXQuZmlsdGVycy5sZW5ndGg/KHI9YS5maWx0ZXJFeHByKHQpLG49ci5maWVsZHMscz1yLm9wZXJhdG9ycyxpPW89RnVuY3Rpb24oImQsIF9fZiwgX19vIiwicmV0dXJuICIrci5leHByZXNzaW9uKSwobi5sZW5ndGh8fHMubGVuZ3RoKSYmKG89ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxuLHMpfSksdGhpcy5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKG8pLCEwKToodGhpcy5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuITB9KSwhMSl9LF91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQscixpPXRoaXMuX2RhdGEsbj0hMTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXQ9aVtyXSx0Lmhhc0NoaWxkcmVuPyh0Ll9tYXRjaEZpbHRlcj10LmNoaWxkcmVuLl91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXIoZSksdC5fbWF0Y2hGaWx0ZXJ8fCh0Ll9tYXRjaEZpbHRlcj1lKHQpKSk6dC5fbWF0Y2hGaWx0ZXI9ZSh0KSx0Ll9tYXRjaEZpbHRlciYmKG49ITApO3JldHVybiBufSxfZmluZDpmdW5jdGlvbihlLHQpe3ZhciByLGksbixhLHM9dGhpcy5fZGF0YTtpZihzKXtpZihuPWxlLmZuW2VdLmNhbGwodGhpcyx0KSlyZXR1cm4gbjtmb3Iocz10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhKSxyPTAsaT1zLmxlbmd0aDtyPGk7cisrKWlmKGE9c1tyXS5jaGlsZHJlbixhIGluc3RhbmNlb2YgZmUmJihuPWFbZV0odCkpKXJldHVybiBufX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maW5kKCJnZXQiLGUpfSxnZXRCeVVpZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZmluZCgiZ2V0QnlVaWQiLGUpfX0pLGZlLmNyZWF0ZT1mdW5jdGlvbihlKXtlPWUmJmUucHVzaD97ZGF0YTplfTplO3ZhciB0PWV8fHt9LHI9dC5kYXRhLGk9dC5maWVsZHMsbj10Lmxpc3Q7cmV0dXJuIHImJnIuX2RhdGFTb3VyY2U/ci5fZGF0YVNvdXJjZToocnx8IWl8fHQudHJhbnNwb3J0fHxuJiYocj1RKG4saSkpLHQuZGF0YT1yLHQgaW5zdGFuY2VvZiBmZT90Om5ldyBmZSh0KSl9LGNlPUZlLk9ic2VydmFibGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCxyKXtGZS5PYnNlcnZhYmxlLmZuLmluaXQuY2FsbCh0aGlzKSx0aGlzLl9wcmVmZXRjaGluZz0hMSx0aGlzLmRhdGFTb3VyY2U9ZSx0aGlzLnByZWZldGNoPSFyO3ZhciBpPXRoaXM7ZS5iaW5kKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7aS5fY2hhbmdlKCl9KSxlLmJpbmQoInJlc2V0IixmdW5jdGlvbigpe2kuX3Jlc2V0KCl9KSx0aGlzLl9zeW5jV2l0aERhdGFTb3VyY2UoKSx0aGlzLnNldFZpZXdTaXplKHQpfSxzZXRWaWV3U2l6ZTpmdW5jdGlvbihlKXt0aGlzLnZpZXdTaXplPWUsdGhpcy5fcmVjYWxjdWxhdGUoKX0sYXQ6ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5wYWdlU2l6ZSxpPSEwO3JldHVybiBlPj10aGlzLnRvdGFsKCk/KHRoaXMudHJpZ2dlcigiZW5kcmVhY2hlZCIse2luZGV4OmV9KSxudWxsKTp0aGlzLnVzZVJhbmdlcz90aGlzLnVzZVJhbmdlcz8oKGU8dGhpcy5kYXRhT2Zmc2V0fHxlPj10aGlzLnNraXArcikmJihpPXRoaXMucmFuZ2UoTWF0aC5mbG9vcihlL3IpKnIpKSxlPT09dGhpcy5wcmVmZXRjaFRocmVzaG9sZCYmdGhpcy5fcHJlZmV0Y2goKSxlPT09dGhpcy5taWRQYWdlVGhyZXNob2xkP3RoaXMucmFuZ2UodGhpcy5uZXh0TWlkUmFuZ2UsITApOmU9PT10aGlzLm5leHRQYWdlVGhyZXNob2xkP3RoaXMucmFuZ2UodGhpcy5uZXh0RnVsbFJhbmdlKTplPT09dGhpcy5wdWxsQmFja1RocmVzaG9sZCYmdGhpcy5yYW5nZSh0aGlzLm9mZnNldD09PXRoaXMuc2tpcD90aGlzLnByZXZpb3VzTWlkUmFuZ2U6dGhpcy5wcmV2aW91c0Z1bGxSYW5nZSksaT90aGlzLmRhdGFTb3VyY2UuYXQoZS10aGlzLmRhdGFPZmZzZXQpOih0aGlzLnRyaWdnZXIoImVuZHJlYWNoZWQiLHtpbmRleDplfSksbnVsbCkpOnQ6dGhpcy5kYXRhU291cmNlLnZpZXcoKVtlXX0saW5kZXhPZjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLmRhdGEoKS5pbmRleE9mKGUpK3RoaXMuZGF0YU9mZnNldH0sdG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5kYXRhU291cmNlLnRvdGFsKCksMTApfSxuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUucGFnZVNpemUscj1lLnNraXAtZS52aWV3U2l6ZSt0LGk9VmUubWF4KFZlLmZsb29yKHIvdCksMCkqdDt0aGlzLm9mZnNldD1yLHRoaXMuZGF0YVNvdXJjZS5wcmVmZXRjaChpLHQsZnVuY3Rpb24oKXtlLl9nb1RvUmFuZ2UociwhMCl9KX0scmFuZ2U6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9mZnNldD09PWUpcmV0dXJuITA7dmFyIHI9dGhpcyxpPXRoaXMucGFnZVNpemUsbj1WZS5tYXgoVmUuZmxvb3IoZS9pKSwwKSppLGE9dGhpcy5kYXRhU291cmNlO3JldHVybiB0JiYobis9aSksYS5pblJhbmdlKGUsaSk/KHRoaXMub2Zmc2V0PWUsdGhpcy5fcmVjYWxjdWxhdGUoKSx0aGlzLl9nb1RvUmFuZ2UoZSksITApOiF0aGlzLnByZWZldGNofHwoYS5wcmVmZXRjaChuLGksZnVuY3Rpb24oKXtyLm9mZnNldD1lLHIuX3JlY2FsY3VsYXRlKCksci5fZ29Ub1JhbmdlKGUsITApfSksITEpfSxzeW5jRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0O3RoaXMub2Zmc2V0PW51bGwsdGhpcy5yYW5nZShlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5iaW5kKCl9LF9wcmVmZXRjaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnBhZ2VTaXplLHI9dGhpcy5za2lwK3QsaT10aGlzLmRhdGFTb3VyY2U7aS5pblJhbmdlKHIsdCl8fHRoaXMuX3ByZWZldGNoaW5nfHwhdGhpcy5wcmVmZXRjaHx8KHRoaXMuX3ByZWZldGNoaW5nPSEwLHRoaXMudHJpZ2dlcigicHJlZmV0Y2hpbmciLHtza2lwOnIsdGFrZTp0fSksaS5wcmVmZXRjaChyLHQsZnVuY3Rpb24oKXtlLl9wcmVmZXRjaGluZz0hMSxlLnRyaWdnZXIoInByZWZldGNoZWQiLHtza2lwOnIsdGFrZTp0fSl9KSl9LF9nb1RvUmFuZ2U6ZnVuY3Rpb24oZSx0KXt0aGlzLm9mZnNldD09PWUmJih0aGlzLmRhdGFPZmZzZXQ9ZSx0aGlzLl9leHBhbmRpbmc9dCx0aGlzLmRhdGFTb3VyY2UucmFuZ2UoZSx0aGlzLnBhZ2VTaXplKSx0aGlzLmRhdGFTb3VyY2UuZW5hYmxlUmVxdWVzdHNJblByb2dyZXNzKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9zeW5jUGVuZGluZz0hMH0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YVNvdXJjZTt0aGlzLmxlbmd0aD10aGlzLnVzZVJhbmdlcz9lLmxhc3RSYW5nZSgpLmVuZDplLnZpZXcoKS5sZW5ndGgsdGhpcy5fc3luY1BlbmRpbmcmJih0aGlzLl9zeW5jV2l0aERhdGFTb3VyY2UoKSx0aGlzLl9yZWNhbGN1bGF0ZSgpLHRoaXMuX3N5bmNQZW5kaW5nPSExLHRoaXMudHJpZ2dlcigicmVzZXQiLHtvZmZzZXQ6dGhpcy5vZmZzZXR9KSksdGhpcy50cmlnZ2VyKCJyZXNpemUiKSx0aGlzLl9leHBhbmRpbmcmJnRoaXMudHJpZ2dlcigiZXhwYW5kIiksZGVsZXRlIHRoaXMuX2V4cGFuZGluZ30sX3N5bmNXaXRoRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YVNvdXJjZTt0aGlzLl9maXJzdEl0ZW1VaWQ9ZS5maXJzdEl0ZW1VaWQoKSx0aGlzLmRhdGFPZmZzZXQ9dGhpcy5vZmZzZXQ9ZS5za2lwKCl8fDAsdGhpcy5wYWdlU2l6ZT1lLnBhZ2VTaXplKCksdGhpcy51c2VSYW5nZXM9ZS5vcHRpb25zLnNlcnZlclBhZ2luZ30sX3JlY2FsY3VsYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYWdlU2l6ZSx0PXRoaXMub2Zmc2V0LHI9dGhpcy52aWV3U2l6ZSxpPU1hdGguY2VpbCh0L2UpKmU7dGhpcy5za2lwPWksdGhpcy5taWRQYWdlVGhyZXNob2xkPWkrZS0xLHRoaXMubmV4dFBhZ2VUaHJlc2hvbGQ9aStyLTEsdGhpcy5wcmVmZXRjaFRocmVzaG9sZD1pK01hdGguZmxvb3IoZS8zKjIpLHRoaXMucHVsbEJhY2tUaHJlc2hvbGQ9dGhpcy5vZmZzZXQtMSx0aGlzLm5leHRNaWRSYW5nZT1pK2Utcix0aGlzLm5leHRGdWxsUmFuZ2U9aSx0aGlzLnByZXZpb3VzTWlkUmFuZ2U9dC1yLHRoaXMucHJldmlvdXNGdWxsUmFuZ2U9aS1lfX0pLGdlPUZlLk9ic2VydmFibGUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztGZS5PYnNlcnZhYmxlLmZuLmluaXQuY2FsbChyKSx0aGlzLmRhdGFTb3VyY2U9ZSx0aGlzLmJhdGNoU2l6ZT10LHRoaXMuX3RvdGFsPTAsdGhpcy5idWZmZXI9bmV3IGNlKGUsMyp0KSx0aGlzLmJ1ZmZlci5iaW5kKHtlbmRyZWFjaGVkOmZ1bmN0aW9uKGUpe3IudHJpZ2dlcigiZW5kcmVhY2hlZCIse2luZGV4OmUuaW5kZXh9KX0scHJlZmV0Y2hpbmc6ZnVuY3Rpb24oZSl7ci50cmlnZ2VyKCJwcmVmZXRjaGluZyIse3NraXA6ZS5za2lwLHRha2U6ZS50YWtlfSl9LHByZWZldGNoZWQ6ZnVuY3Rpb24oZSl7ci50cmlnZ2VyKCJwcmVmZXRjaGVkIix7c2tpcDplLnNraXAsdGFrZTplLnRha2V9KX0scmVzZXQ6ZnVuY3Rpb24oKXtyLl90b3RhbD0wLHIudHJpZ2dlcigicmVzZXQiKX0scmVzaXplOmZ1bmN0aW9uKCl7ci5fdG90YWw9TWF0aC5jZWlsKHRoaXMubGVuZ3RoL3IuYmF0Y2hTaXplKSxyLnRyaWdnZXIoInJlc2l6ZSIse3RvdGFsOnIudG90YWwoKSxvZmZzZXQ6dGhpcy5vZmZzZXR9KX19KX0sc3luY0RhdGFTb3VyY2U6ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlci5zeW5jRGF0YVNvdXJjZSgpfSxhdDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5idWZmZXIsbj1lKnRoaXMuYmF0Y2hTaXplLGE9dGhpcy5iYXRjaFNpemUscz1bXTtmb3IoaS5vZmZzZXQ+biYmaS5hdChpLm9mZnNldC0xKSxyPTA7cjxhJiYodD1pLmF0KG4rciksbnVsbCE9PXQpO3IrKylzLnB1c2godCk7cmV0dXJuIHN9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5idWZmZXIuZGVzdHJveSgpLHRoaXMudW5iaW5kKCl9fSkscGUoITAsRmUuZGF0YSx7cmVhZGVyczp7anNvbjp1ZX0sUXVlcnk6YSxEYXRhU291cmNlOmxlLEhpZXJhcmNoaWNhbERhdGFTb3VyY2U6ZmUsTm9kZTpkZSxPYnNlcnZhYmxlT2JqZWN0OkssT2JzZXJ2YWJsZUFycmF5Oml0LExhenlPYnNlcnZhYmxlQXJyYXk6JCxMb2NhbFRyYW5zcG9ydDphZSxSZW1vdGVUcmFuc3BvcnQ6c2UsQ2FjaGU6b2UsRGF0YVJlYWRlcjp1ZSxNb2RlbDpaLEJ1ZmZlcjpjZSxCYXRjaEJ1ZmZlcjpnZX0pfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKGUsdCxyKXsocnx8dCkoKX0pOw0KLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VuZG8uZGF0YS5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbihlLGRlZmluZSl7ZGVmaW5lKCJrZW5kby5saXN0Lm1pbiIsWyJrZW5kby5kYXRhLm1pbiIsImtlbmRvLnBvcHVwLm1pbiJdLGUpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSxpKXtyZXR1cm4gZSE9PXQmJiIiIT09ZSYmbnVsbCE9PWUmJigiYm9vbGVhbiI9PT1pPygiYm9vbGVhbiIhPXR5cGVvZiBlJiYoZT0idHJ1ZSI9PT1lLnRvTG93ZXJDYXNlKCkpLGU9ISFlKToibnVtYmVyIj09PWk/ZT0rZToic3RyaW5nIj09PWkmJihlPSIiK2UpKSxlfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnNlbGVjdGVkSW5kZXg7cmV0dXJuIHQ+LTE/ZS5vcHRpb25zW3RdOnt9fWZ1bmN0aW9uIHMoZSx0KXt2YXIgaSxuLGEscyxyPXQubGVuZ3RoLGw9ZS5sZW5ndGgsbz1bXSx1PVtdO2lmKGwpZm9yKGE9MDthPGw7YSsrKXtmb3IoaT1lW2FdLG49ITEscz0wO3M8cjtzKyspaWYoaT09PXRbc10pe249ITAsby5wdXNoKHtpbmRleDphLGl0ZW06aX0pO2JyZWFrfW58fHUucHVzaChpKX1yZXR1cm57Y2hhbmdlZDpvLHVuY2hhbmdlZDp1fX1mdW5jdGlvbiByKHQpe3JldHVybiEoIXR8fGUuaXNFbXB0eU9iamVjdCh0KSkmJiEodC5maWx0ZXJzJiYhdC5maWx0ZXJzLmxlbmd0aCl9ZnVuY3Rpb24gbCh0LGkpe3ZhciBuLGE9ITE7cmV0dXJuIHQuZmlsdGVycyYmKG49ZS5ncmVwKHQuZmlsdGVycyxmdW5jdGlvbihlKXtyZXR1cm4gYT1sKGUsaSksZS5maWx0ZXJzP2UuZmlsdGVycy5sZW5ndGg6ZS5maWVsZCE9aX0pLGF8fHQuZmlsdGVycy5sZW5ndGg9PT1uLmxlbmd0aHx8KGE9ITApLHQuZmlsdGVycz1uKSxhfXZhciBvLHUsYz13aW5kb3cua2VuZG8sZD1jLnVpLGg9Yy5fb3V0ZXJIZWlnaHQsZj0vXlxkKyhcLlxkKyk/JSQvaSxwPWQuV2lkZ2V0LF89Yy5rZXlzLGc9Yy5zdXBwb3J0LG09Yy5odG1sRW5jb2RlLHY9Yy5fYWN0aXZlRWxlbWVudCxiPWMuX291dGVyV2lkdGgseD1jLmRhdGEuT2JzZXJ2YWJsZUFycmF5LEk9ImlkIix3PSJjaGFuZ2UiLFM9Imstc3RhdGUtZm9jdXNlZCIseT0iay1zdGF0ZS1ob3ZlciIsVD0iay1pLWxvYWRpbmciLEY9Ii5rLWdyb3VwLWhlYWRlciIsaz0iLmstaXRlbSIsVj0iX2xhYmVsIixDPSJvcGVuIixEPSJjbG9zZSIsSD0iY2FzY2FkZSIsQj0ic2VsZWN0IixFPSJzZWxlY3RlZCIsTD0icmVxdWVzdFN0YXJ0IixQPSJyZXF1ZXN0RW5kIixHPSJibHVyIixXPSJmb2N1cyIsQT0iZm9jdXNvdXQiLHE9ZS5leHRlbmQsTj1lLnByb3h5LE89ZS5pc0FycmF5LE09Zy5icm93c2VyLHo9ImstaGlkZGVuIixSPSJ3aWR0aCIsVT1NLm1zaWUsaj1VJiZNLnZlcnNpb248OSwkPS8iL2csUT17Q29tYm9Cb3g6WyJEcm9wRG93bkxpc3QiLCJNdWx0aUNvbHVtbkNvbWJvQm94Il0sRHJvcERvd25MaXN0OlsiQ29tYm9Cb3giLCJNdWx0aUNvbHVtbkNvbWJvQm94Il0sTXVsdGlDb2x1bW5Db21ib0JveDpbIkNvbWJvQm94IiwiRHJvcERvd25MaXN0Il19LFk9Yy51aS5EYXRhQm91bmRXaWRnZXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsaSl7dmFyIG4sYT10aGlzLHM9YS5ucztwLmZuLmluaXQuY2FsbChhLHQsaSksdD1hLmVsZW1lbnQsaT1hLm9wdGlvbnMsYS5faXNTZWxlY3Q9dC5pcyhCKSxhLl9pc1NlbGVjdCYmYS5lbGVtZW50WzBdLmxlbmd0aCYmKGkuZGF0YVNvdXJjZXx8KGkuZGF0YVRleHRGaWVsZD1pLmRhdGFUZXh0RmllbGR8fCJ0ZXh0IixpLmRhdGFWYWx1ZUZpZWxkPWkuZGF0YVZhbHVlRmllbGR8fCJ2YWx1ZSIpKSxhLnVsPWUoJzx1bCB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iay1saXN0IGstcmVzZXQiLz4nKS5hdHRyKHt0YWJJbmRleDotMSwiYXJpYS1oaWRkZW4iOiEwfSksYS5saXN0PWUoIjxkaXYgY2xhc3M9J2stbGlzdC1jb250YWluZXInLz4iKS5hcHBlbmQoYS51bCkub24oIm1vdXNlZG93biIrcyxOKGEuX2xpc3RNb3VzZWRvd24sYSkpLG49dC5hdHRyKEkpLG58fChuPWMuZ3VpZCgpKSxhLmxpc3QuYXR0cihJLG4rIi1saXN0IiksYS51bC5hdHRyKEksbisiX2xpc3Rib3giKSxpLmNvbHVtbnMmJmkuY29sdW1ucy5sZW5ndGgmJihhLnVsLnJlbW92ZUNsYXNzKCJrLWxpc3QiKS5hZGRDbGFzcygiay1ncmlkLWxpc3QiKSxhLl9jb2x1bW5zSGVhZGVyKCkpLGEuX2hlYWRlcigpLGEuX25vRGF0YSgpLGEuX2Zvb3RlcigpLGEuX2FjY2Vzc29ycygpLGEuX2luaXRWYWx1ZSgpfSxvcHRpb25zOnt2YWx1ZVByaW1pdGl2ZTohMSxmb290ZXJUZW1wbGF0ZToiIixoZWFkZXJUZW1wbGF0ZToiIixub0RhdGFUZW1wbGF0ZTohMCxtZXNzYWdlczp7bm9EYXRhOiJObyBkYXRhIGZvdW5kLiIsY2xlYXI6ImNsZWFyIn19LHNldE9wdGlvbnM6ZnVuY3Rpb24oZSl7cC5mbi5zZXRPcHRpb25zLmNhbGwodGhpcyxlKSxlJiZlLmVuYWJsZSE9PXQmJihlLmVuYWJsZWQ9ZS5lbmFibGUpLGUuY29sdW1ucyYmZS5jb2x1bW5zLmxlbmd0aCYmdGhpcy5fY29sdW1uc0hlYWRlcigpLHRoaXMuX2hlYWRlcigpLHRoaXMuX25vRGF0YSgpLHRoaXMuX2Zvb3RlcigpLHRoaXMuX3JlbmRlckZvb3RlcigpLHRoaXMuX3JlbmRlck5vRGF0YSgpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQuZm9jdXMoKX0scmVhZG9ubHk6ZnVuY3Rpb24oZSl7dGhpcy5fZWRpdGFibGUoe3JlYWRvbmx5OmU9PT10fHxlLGRpc2FibGU6ITF9KX0sZW5hYmxlOmZ1bmN0aW9uKGUpe3RoaXMuX2VkaXRhYmxlKHtyZWFkb25seTohMSxkaXNhYmxlOiEoZT1lPT09dHx8ZSl9KX0sX2hlYWRlcjpmdW5jdGlvbigpe3ZhciBpLG49dGhpcyxhPWUobi5oZWFkZXIpLHM9bi5vcHRpb25zLmhlYWRlclRlbXBsYXRlO3JldHVybiB0aGlzLl9hbmd1bGFyRWxlbWVudChhLCJjbGVhbnVwIiksYy5kZXN0cm95KGEpLGEucmVtb3ZlKCkscz8oaT0iZnVuY3Rpb24iIT10eXBlb2Ygcz9jLnRlbXBsYXRlKHMpOnMsYT1lKGkoe30pKSxuLmhlYWRlcj1hWzBdP2E6bnVsbCxuLmxpc3QucHJlcGVuZChhKSx0aGlzLl9hbmd1bGFyRWxlbWVudChuLmhlYWRlciwiY29tcGlsZSIpLHQpOihuLmhlYWRlcj1udWxsLHQpfSxfY29sdW1uc0hlYWRlcjpmdW5jdGlvbigpe3ZhciB0LGksbixhLHMscixsLG8sdSxkLGgscD10aGlzLF89ZShwLmNvbHVtbnNIZWFkZXIpO2Zvcih0aGlzLl9hbmd1bGFyRWxlbWVudChfLCJjbGVhbnVwIiksYy5kZXN0cm95KF8pLF8ucmVtb3ZlKCksdD0iPGRpdiBjbGFzcz0nay1ncmlkLWhlYWRlcic+PGRpdiBjbGFzcz0nay1ncmlkLWhlYWRlci13cmFwJz48dGFibGUgcm9sZT0ncHJlc2VudGF0aW9uJz4iLGk9Ijxjb2xncm91cD4iLG49Ijx0cj4iLGE9MDthPHRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDthKyspcz10aGlzLm9wdGlvbnMuY29sdW1uc1thXSxyPXMudGl0bGV8fHMuZmllbGR8fCIiLGw9cy5oZWFkZXJUZW1wbGF0ZXx8cixvPSJmdW5jdGlvbiIhPXR5cGVvZiBsP2MudGVtcGxhdGUobCk6bCx1PXMud2lkdGgsZD1wYXJzZUludCh1LDEwKSxoPSIiLHUmJiFpc05hTihkKSYmKGgrPSJzdHlsZT0nd2lkdGg6IixoKz1kLGgrPWYudGVzdCh1KT8iJSI6InB4IixoKz0iOyciKSxpKz0iPGNvbCAiK2grIi8+IixuKz0iPHRoIGNsYXNzPSdrLWhlYWRlcic+IixuKz1vKHMpLG4rPSI8L3RoPiI7aSs9IjwvY29sZ3JvdXA+IixuKz0iPC90cj4iLHQrPWksdCs9bix0Kz0iPC90YWJsZT48L2Rpdj48L2Rpdj4iLHAuY29sdW1uc0hlYWRlcj1fPWUodCkscC5saXN0LnByZXBlbmQoXyksdGhpcy5fYW5ndWxhckVsZW1lbnQocC5jb2x1bW5zSGVhZGVyLCJjb21waWxlIil9LF9ub0RhdGE6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49ZShpLm5vRGF0YSksYT1pLm9wdGlvbnMubm9EYXRhVGVtcGxhdGU9PT0hMD9pLm9wdGlvbnMubWVzc2FnZXMubm9EYXRhOmkub3B0aW9ucy5ub0RhdGFUZW1wbGF0ZTtyZXR1cm4gaS5hbmd1bGFyKCJjbGVhbnVwIixmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpufX0pLGMuZGVzdHJveShuKSxuLnJlbW92ZSgpLGE/KGkubm9EYXRhPWUoJzxkaXYgY2xhc3M9Imstbm9kYXRhIiBzdHlsZT0iZGlzcGxheTpub25lIj48ZGl2PjwvZGl2PjwvZGl2PicpLmFwcGVuZFRvKGkubGlzdCksaS5ub0RhdGFUZW1wbGF0ZT0iZnVuY3Rpb24iIT10eXBlb2YgYT9jLnRlbXBsYXRlKGEpOmEsdCk6KGkubm9EYXRhPW51bGwsdCl9LF9mb290ZXI6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49ZShpLmZvb3RlciksYT1pLm9wdGlvbnMuZm9vdGVyVGVtcGxhdGU7cmV0dXJuIHRoaXMuX2FuZ3VsYXJFbGVtZW50KG4sImNsZWFudXAiKSxjLmRlc3Ryb3kobiksbi5yZW1vdmUoKSxhPyhpLmZvb3Rlcj1lKCc8ZGl2IGNsYXNzPSJrLWZvb3RlciI+PC9kaXY+JykuYXBwZW5kVG8oaS5saXN0KSxpLmZvb3RlclRlbXBsYXRlPSJmdW5jdGlvbiIhPXR5cGVvZiBhP2MudGVtcGxhdGUoYSk6YSx0KTooaS5mb290ZXI9bnVsbCx0KX0sX2xpc3RPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1uLnZpcnR1YWwscz17Y2hhbmdlOk4oaS5fbGlzdENoYW5nZSxpKX0scj1OKGkuX2xpc3RCb3VuZCxpKTtyZXR1cm4gYT0ib2JqZWN0Ij09dHlwZW9mIGE/YTp7fSx0PWUuZXh0ZW5kKHthdXRvQmluZDohMSxzZWxlY3RhYmxlOiEwLGRhdGFTb3VyY2U6aS5kYXRhU291cmNlLGNsaWNrOk4oaS5fY2xpY2ssaSksYWN0aXZhdGU6TihpLl9hY3RpdmF0ZUl0ZW0saSksY29sdW1uczpuLmNvbHVtbnMsZGVhY3RpdmF0ZTpOKGkuX2RlYWN0aXZhdGVJdGVtLGkpLGRhdGFCaW5kaW5nOmZ1bmN0aW9uKCl7aS50cmlnZ2VyKCJkYXRhQmluZGluZyIpfSxkYXRhQm91bmQ6cixoZWlnaHQ6bi5oZWlnaHQsZGF0YVZhbHVlRmllbGQ6bi5kYXRhVmFsdWVGaWVsZCxkYXRhVGV4dEZpZWxkOm4uZGF0YVRleHRGaWVsZCxncm91cFRlbXBsYXRlOm4uZ3JvdXBUZW1wbGF0ZSxmaXhlZEdyb3VwVGVtcGxhdGU6bi5maXhlZEdyb3VwVGVtcGxhdGUsdGVtcGxhdGU6bi50ZW1wbGF0ZX0sdCxhLHMpLHQudGVtcGxhdGV8fCh0LnRlbXBsYXRlPSIjOiIrYy5leHByKHQuZGF0YVRleHRGaWVsZCwiZGF0YSIpKyIjIiksbi4kYW5ndWxhciYmKHQuJGFuZ3VsYXI9bi4kYW5ndWxhciksdH0sX2luaXRMaXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuX2xpc3RPcHRpb25zKHtzZWxlY3RlZEl0ZW1DaGFuZ2U6TihlLl9saXN0Q2hhbmdlLGUpfSk7ZS5saXN0Vmlldz1lLm9wdGlvbnMudmlydHVhbD9uZXcgYy51aS5WaXJ0dWFsTGlzdChlLnVsLHQpOm5ldyBjLnVpLlN0YXRpY0xpc3QoZS51bCx0KSxlLmxpc3RWaWV3LmJpbmQoImxpc3RCb3VuZCIsTihlLl9saXN0Qm91bmQsZSkpLGUuX3NldExpc3RWYWx1ZSgpfSxfc2V0TGlzdFZhbHVlOmZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5vcHRpb25zLnZhbHVlLGUhPT10JiZ0aGlzLmxpc3RWaWV3LnZhbHVlKGUpLmRvbmUoTih0aGlzLl91cGRhdGVTZWxlY3Rpb25TdGF0ZSx0aGlzKSl9LF91cGRhdGVTZWxlY3Rpb25TdGF0ZTplLm5vb3AsX2xpc3RNb3VzZWRvd246ZnVuY3Rpb24oZSl7dGhpcy5maWx0ZXJJbnB1dCYmdGhpcy5maWx0ZXJJbnB1dFswXT09PWUudGFyZ2V0fHxlLnByZXZlbnREZWZhdWx0KCl9LF9pc0ZpbHRlckVuYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuZmlsdGVyO3JldHVybiBlJiYibm9uZSIhPT1lfSxfaGlkZUNsZWFyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jbGVhciYmZS5fY2xlYXIuYWRkQ2xhc3Moeil9LF9zaG93Q2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhciYmdGhpcy5fY2xlYXIucmVtb3ZlQ2xhc3Moeil9LF9jbGVhclZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUZXh0KCksdGhpcy5fYWNjZXNzb3IoIiIpLHRoaXMubGlzdFZpZXcudmFsdWUoW10pLHRoaXMuX2lzU2VsZWN0JiYodGhpcy5fY3VzdG9tT3B0aW9uPXQpLHRoaXMuX2lzRmlsdGVyRW5hYmxlZCgpJiYhdGhpcy5vcHRpb25zLmVuZm9yY2VNaW5MZW5ndGgmJih0aGlzLl9maWx0ZXIoe3dvcmQ6IiIsb3BlbjohMX0pLHRoaXMub3B0aW9ucy5oaWdobGlnaHRGaXJzdCYmdGhpcy5saXN0Vmlldy5mb2N1cygwKSksdGhpcy5fY2hhbmdlKCl9LF9jbGVhclRleHQ6ZnVuY3Rpb24oKXt0aGlzLnRleHQoIiIpfSxfY2xlYXJGaWx0ZXI6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudmlydHVhbHx8dGhpcy5saXN0Vmlldy5ib3VuZCghMSksdGhpcy5fZmlsdGVyU291cmNlKCl9LF9maWx0ZXJTb3VyY2U6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLGE9dGhpcyxzPWEub3B0aW9ucyxvPXMuZmlsdGVyRmllbGRzJiZlJiZlLmxvZ2ljJiZlLmZpbHRlcnMmJmUuZmlsdGVycy5sZW5ndGgsdT1hLmRhdGFTb3VyY2UsYz1xKHt9LHUuZmlsdGVyKCl8fHt9KSxkPWV8fGMuZmlsdGVycyYmYy5maWx0ZXJzLmxlbmd0aCYmIWUsaD1sKGMscy5kYXRhVGV4dEZpZWxkKTtpZih0aGlzLl9jbGVhckZpbHRlckV4cHJlc3Npb25zKGMpLCFlJiYhaHx8IWEudHJpZ2dlcigiZmlsdGVyaW5nIix7ZmlsdGVyOmV9KSlyZXR1cm4gaT17ZmlsdGVyczpbXSxsb2dpYzoiYW5kIn0sbz9pLmZpbHRlcnMucHVzaChlKTp0aGlzLl9wdXNoRmlsdGVyRXhwcmVzc2lvbihpLGUpLHIoYykmJihpLmxvZ2ljPT09Yy5sb2dpYz9pLmZpbHRlcnM9aS5maWx0ZXJzLmNvbmNhdChjLmZpbHRlcnMpOmkuZmlsdGVycy5wdXNoKGMpKSxhLl9jYXNjYWRpbmcmJnRoaXMubGlzdFZpZXcuc2V0RFNGaWx0ZXIoaSksbj1xKHt9LHtwYWdlOmQ/MTp1LnBhZ2UoKSxwYWdlU2l6ZTpkP3Uub3B0aW9ucy5wYWdlU2l6ZTp1LnBhZ2VTaXplKCksc29ydDp1LnNvcnQoKSxmaWx0ZXI6dS5maWx0ZXIoKSxncm91cDp1Lmdyb3VwKCksYWdncmVnYXRlOnUuYWdncmVnYXRlKCl9LHtmaWx0ZXI6aX0pLHVbdD8icmVhZCI6InF1ZXJ5Il0odS5fbWVyZ2VTdGF0ZShuKSl9LF9wdXNoRmlsdGVyRXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3IodCkmJiIiIT09dC52YWx1ZSYmZS5maWx0ZXJzLnB1c2godCl9LF9jbGVhckZpbHRlckV4cHJlc3Npb25zOmZ1bmN0aW9uKGUpe3ZhciB0LGk7aWYoZS5maWx0ZXJzKXtmb3IoaT0wO2k8ZS5maWx0ZXJzLmxlbmd0aDtpKyspImZyb21GaWx0ZXIiaW4gZS5maWx0ZXJzW2ldJiYodD1pKTtpc05hTih0KXx8ZS5maWx0ZXJzLnNwbGljZSh0LDEpfX0sX2FuZ3VsYXJFbGVtZW50OmZ1bmN0aW9uKGUsdCl7ZSYmdGhpcy5hbmd1bGFyKHQsZnVuY3Rpb24oKXtyZXR1cm57ZWxlbWVudHM6ZX19KX0sX3JlbmRlck5vRGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLm5vRGF0YTt0JiYodGhpcy5fYW5ndWxhckVsZW1lbnQodCwiY2xlYW51cCIpLHQuY2hpbGRyZW4oIjpmaXJzdCIpLmh0bWwoZS5ub0RhdGFUZW1wbGF0ZSh7aW5zdGFuY2U6ZX0pKSx0aGlzLl9hbmd1bGFyRWxlbWVudCh0LCJjb21waWxlIikpfSxfdG9nZ2xlTm9EYXRhOmZ1bmN0aW9uKHQpe2UodGhpcy5ub0RhdGEpLnRvZ2dsZSh0KX0sX3RvZ2dsZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxpc3RWaWV3LmNvbnRlbnQucHJldihGKTt0LnRvZ2dsZShlKX0sX3JlbmRlckZvb3RlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLmZvb3Rlcjt0JiYodGhpcy5fYW5ndWxhckVsZW1lbnQodCwiY2xlYW51cCIpLHQuaHRtbChlLmZvb3RlclRlbXBsYXRlKHtpbnN0YW5jZTplfSkpLHRoaXMuX2FuZ3VsYXJFbGVtZW50KHQsImNvbXBpbGUiKSl9LF9hbGxvd09wZW5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5vRGF0YVRlbXBsYXRlfHx0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKS5sZW5ndGh9LF9pbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5vcHRpb25zLnZhbHVlO251bGwhPT10P2UuZWxlbWVudC52YWwodCk6KHQ9ZS5fYWNjZXNzb3IoKSxlLm9wdGlvbnMudmFsdWU9dCksZS5fb2xkPXR9LF9pZ25vcmVDYXNlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLGk9dC5kYXRhU291cmNlLnJlYWRlci5tb2RlbDtpJiZpLmZpZWxkcyYmKGU9aS5maWVsZHNbdC5vcHRpb25zLmRhdGFUZXh0RmllbGRdLGUmJmUudHlwZSYmInN0cmluZyIhPT1lLnR5cGUmJih0Lm9wdGlvbnMuaWdub3JlQ2FzZT0hMSkpfSxfZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGlzdFZpZXcuZm9jdXMoZSl9LF9maWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPXRoaXMsYT1uLm9wdGlvbnMscz1lLndvcmQscj1hLmZpbHRlckZpZWxkcyxsPWEuZGF0YVRleHRGaWVsZDtpZihyJiZyLmxlbmd0aClmb3IodD17bG9naWM6Im9yIixmaWx0ZXJzOltdLGZyb21GaWx0ZXI6ITB9LGk9MDtpPHIubGVuZ3RoO2krKyl0aGlzLl9wdXNoRmlsdGVyRXhwcmVzc2lvbih0LG4uX2J1aWxkRXhwcmVzc2lvbihzLHJbaV0pKTtlbHNlIHQ9bi5fYnVpbGRFeHByZXNzaW9uKHMsbCk7bi5fb3Blbj1lLm9wZW4sbi5fZmlsdGVyU291cmNlKHQpfSxfYnVpbGRFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcyxuPWkub3B0aW9ucyxhPW4uaWdub3JlQ2FzZSxzPWkuZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7cmV0dXJue3ZhbHVlOmE/cz9lLnRvTG9jYWxlTG93ZXJDYXNlKHMpOmUudG9Mb3dlckNhc2UoKTplLGZpZWxkOnQsb3BlcmF0b3I6bi5maWx0ZXIsaWdub3JlQ2FzZTphfX0sX2NsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXQub3B0aW9ucy5tZXNzYWdlcy5jbGVhcjt0Ll9jbGVhcnx8KHQuX2NsZWFyPWUoJzxzcGFuIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWljb24gay1jbGVhci12YWx1ZSBrLWktY2xvc2UiIHRpdGxlPSInK2krJyI+PC9zcGFuPicpLmF0dHIoe3JvbGU6ImJ1dHRvbiIsdGFiSW5kZXg6LTF9KSksdC5vcHRpb25zLmNsZWFyQnV0dG9ufHx0Ll9jbGVhci5yZW1vdmUoKSx0aGlzLl9oaWRlQ2xlYXIoKX0sc2VhcmNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9uczt0PSJzdHJpbmciPT10eXBlb2YgdD90OnRoaXMuX2lucHV0VmFsdWUoKSxjbGVhclRpbWVvdXQodGhpcy5fdHlwaW5nVGltZW91dCksKCFpLmVuZm9yY2VNaW5MZW5ndGgmJiF0Lmxlbmd0aHx8dC5sZW5ndGg+PWkubWluTGVuZ3RoKSYmKHRoaXMuX3N0YXRlPSJmaWx0ZXIiLHRoaXMubGlzdFZpZXcmJih0aGlzLmxpc3RWaWV3Ll9lbXB0eVNlYXJjaD0hZS50cmltKHQpLmxlbmd0aCksdGhpcy5faXNGaWx0ZXJFbmFibGVkKCk/dGhpcy5fZmlsdGVyKHt3b3JkOnQsb3BlbjohMH0pOnRoaXMuX3NlYXJjaEJ5V29yZCh0KSl9LGN1cnJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ZvY3VzKGUpfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVsWzBdLmNoaWxkcmVufSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUubnM7cC5mbi5kZXN0cm95LmNhbGwoZSksZS5fdW5iaW5kRGF0YVNvdXJjZSgpLGUubGlzdFZpZXcuZGVzdHJveSgpLGUubGlzdC5vZmYodCksZS5wb3B1cC5kZXN0cm95KCksZS5fZm9ybSYmZS5fZm9ybS5vZmYoInJlc2V0IixlLl9yZXNldEhhbmRsZXIpfSxkYXRhSXRlbTpmdW5jdGlvbihpKXt2YXIgbj10aGlzO2lmKGk9PT10KXJldHVybiBuLmxpc3RWaWV3LnNlbGVjdGVkRGF0YUl0ZW1zKClbMF07aWYoIm51bWJlciIhPXR5cGVvZiBpKXtpZihuLm9wdGlvbnMudmlydHVhbClyZXR1cm4gbi5kYXRhU291cmNlLmdldEJ5VWlkKGUoaSkuZGF0YSgidWlkIikpO2k9ZShuLml0ZW1zKCkpLmluZGV4KGkpfXJldHVybiBuLmRhdGFTb3VyY2UuZmxhdFZpZXcoKVtpXX0sX2FjdGl2YXRlSXRlbTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGlzdFZpZXcuZm9jdXMoKTtlJiZ0aGlzLl9mb2N1c2VkLmFkZCh0aGlzLmZpbHRlcklucHV0KS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGUuYXR0cigiaWQiKSl9LF9kZWFjdGl2YXRlSXRlbTpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQuYWRkKHRoaXMuZmlsdGVySW5wdXQpLnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpfSxfYWNjZXNzb3JzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuZWxlbWVudCxpPWUub3B0aW9ucyxuPWMuZ2V0dGVyLGE9dC5hdHRyKGMuYXR0cigidGV4dC1maWVsZCIpKSxzPXQuYXR0cihjLmF0dHIoInZhbHVlLWZpZWxkIikpOyFpLmRhdGFUZXh0RmllbGQmJmEmJihpLmRhdGFUZXh0RmllbGQ9YSksIWkuZGF0YVZhbHVlRmllbGQmJnMmJihpLmRhdGFWYWx1ZUZpZWxkPXMpLGUuX3RleHQ9bihpLmRhdGFUZXh0RmllbGQpLGUuX3ZhbHVlPW4oaS5kYXRhVmFsdWVGaWVsZCl9LF9hcmlhOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1pLl9mb2N1c2VkLmFkZChpLmZpbHRlcklucHV0KTtuLnN1Z2dlc3QhPT10JiZhLmF0dHIoImFyaWEtYXV0b2NvbXBsZXRlIixuLnN1Z2dlc3Q/ImJvdGgiOiJsaXN0IiksZT1lP2UrIiAiK2kudWxbMF0uaWQ6aS51bFswXS5pZCxhLmF0dHIoImFyaWEtb3ducyIsZSksaS51bC5hdHRyKCJhcmlhLWxpdmUiLGkuX2lzRmlsdGVyRW5hYmxlZCgpPyJwb2xpdGUiOiJvZmYiKSxpLl9hcmlhTGFiZWwoKX0sX2FyaWFMYWJlbDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcyxuPWkuX2ZvY3VzZWQsYT1pLmVsZW1lbnQscz1hLmF0dHIoImlkIikscj1lKCdsYWJlbFtmb3I9IicrcysnIl0nKSxsPWEuYXR0cigiYXJpYS1sYWJlbCIpLG89YS5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiKTtuIT09YSYmKGw/bi5hdHRyKCJhcmlhLWxhYmVsIixsKTpvP24uYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixvKTpyLmxlbmd0aCYmKHQ9ci5hdHRyKCJpZCIpfHxpLl9nZW5lcmF0ZUxhYmVsSWQocixzfHxjLmd1aWQoKSksbi5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLHQpKSl9LF9nZW5lcmF0ZUxhYmVsSWQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT10K1Y7cmV0dXJuIGUuYXR0cigiaWQiLGkpLGl9LF9ibHVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGFuZ2UoKSxlLmNsb3NlKCksZS5fdXNlclRyaWdnZXJlZD0hMX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlLG49dGhpcyxhPW4uc2VsZWN0ZWRJbmRleCxzPW4ub3B0aW9ucy52YWx1ZSxyPW4udmFsdWUoKTtuLl9pc1NlbGVjdCYmIW4ubGlzdFZpZXcuYm91bmQoKSYmcyYmKHI9cyksciE9PWkobi5fb2xkLHR5cGVvZiByKSYmciE9PWkobi5fb2xkVGV4dCx0eXBlb2Ygcik/ZT0hMDpuLl92YWx1ZUJlZm9yZUNhc2NhZGUhPT10JiZuLl92YWx1ZUJlZm9yZUNhc2NhZGUhPT1pKG4uX29sZCx0eXBlb2Ygbi5fdmFsdWVCZWZvcmVDYXNjYWRlKSYmbi5fdXNlclRyaWdnZXJlZD9lPSEwOmE9PT10fHxhPT09bi5fb2xkSW5kZXh8fG4ubGlzdFZpZXcuaXNGaWx0ZXJlZCgpfHwoZT0hMCksZSYmKG4uX3ZhbHVlQmVmb3JlQ2FzY2FkZT1uLl9vbGQ9bnVsbD09PW4uX29sZHx8IiI9PT1uLl9vbGR8fCIiPT09cj9yOm4uZGF0YUl0ZW0oKT9uLm9wdGlvbnMuZGF0YVZhbHVlRmllbGQ/bi5kYXRhSXRlbSgpW24ub3B0aW9ucy5kYXRhVmFsdWVGaWVsZF06bi5kYXRhSXRlbSgpOm51bGwsbi5fb2xkSW5kZXg9YSxuLl9vbGRUZXh0PW4udGV4dCYmbi50ZXh0KCksbi5fdHlwaW5nfHxuLmVsZW1lbnQudHJpZ2dlcih3KSxuLnRyaWdnZXIodykpLG4udHlwaW5nPSExfSxfZGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFTb3VyY2UudmlldygpfSxfZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPWUub3B0aW9ucyxuPWUuZWxlbWVudC5pcygiW2Rpc2FibGVkXSIpO2kuZW5hYmxlIT09dCYmKGkuZW5hYmxlZD1pLmVuYWJsZSksIWkuZW5hYmxlZHx8bj9lLmVuYWJsZSghMSk6ZS5yZWFkb25seShlLmVsZW1lbnQuaXMoIltyZWFkb25seV0iKSl9LF9kYXRhVmFsdWU6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fdmFsdWUoZSk7cmV0dXJuIGk9PT10JiYoaT10aGlzLl90ZXh0KGUpKSxpfSxfb2Zmc2V0SGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9MCxpPXRoaXMubGlzdFZpZXcuY29udGVudC5wcmV2QWxsKCI6dmlzaWJsZSIpO3JldHVybiBpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpO3QrPWgoaSwhMCl9KSx0fSxfaGVpZ2h0OmZ1bmN0aW9uKGkpe3ZhciBuLGEscyxyPXRoaXMsbD1yLmxpc3Qsbz1yLm9wdGlvbnMuaGVpZ2h0LHU9ci5wb3B1cC52aXNpYmxlKCk7aWYoaXx8ci5vcHRpb25zLm5vRGF0YVRlbXBsYXRlKXtpZihhPWwuYWRkKGwucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyIikpLnNob3coKSwhbC5pcygiOnZpc2libGUiKSlyZXR1cm4gYS5oaWRlKCksdDtvPXIubGlzdFZpZXcuY29udGVudFswXS5zY3JvbGxIZWlnaHQ+bz9vOiJhdXRvIixhLmhlaWdodChvKSwiYXV0byIhPT1vJiYobj1yLl9vZmZzZXRIZWlnaHQoKSxzPWgoZShyLmZvb3RlcikpfHwwLG89by1uLXMpLHIubGlzdFZpZXcuY29udGVudC5oZWlnaHQobyksdXx8YS5oaWRlKCl9cmV0dXJuIG99LF9vcGVuSGFuZGxlcjpmdW5jdGlvbihlKXt0aGlzLl9hZGp1c3RMaXN0V2lkdGgoKSx0aGlzLnRyaWdnZXIoQyk/ZS5wcmV2ZW50RGVmYXVsdCgpOih0aGlzLl9mb2N1c2VkLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnVsLmF0dHIoImFyaWEtaGlkZGVuIiwhMSkpfSxfYWRqdXN0TGlzdFdpZHRoOmZ1bmN0aW9uKCl7dmFyIGUsdCxpPXRoaXMsbj1pLmxpc3QsYT1uWzBdLnN0eWxlLndpZHRoLHM9aS53cmFwcGVyO2lmKG4uZGF0YShSKXx8IWEpcmV0dXJuIGU9d2luZG93LmdldENvbXB1dGVkU3R5bGU/d2luZG93LmdldENvbXB1dGVkU3R5bGUoc1swXSxudWxsKTowLHQ9cGFyc2VGbG9hdChlJiZlLndpZHRoKXx8YihzKSxlJiZNLm1zaWUmJih0Kz1wYXJzZUZsb2F0KGUucGFkZGluZ0xlZnQpK3BhcnNlRmxvYXQoZS5wYWRkaW5nUmlnaHQpK3BhcnNlRmxvYXQoZS5ib3JkZXJMZWZ0V2lkdGgpK3BhcnNlRmxvYXQoZS5ib3JkZXJSaWdodFdpZHRoKSksYT0iYm9yZGVyLWJveCIhPT1uLmNzcygiYm94LXNpemluZyIpP3QtKGIobiktbi53aWR0aCgpKTp0LG4uY3NzKHtmb250RmFtaWx5OnMuY3NzKCJmb250LWZhbWlseSIpLHdpZHRoOmkub3B0aW9ucy5hdXRvV2lkdGg/ImF1dG8iOmEsbWluV2lkdGg6YSx3aGl0ZVNwYWNlOmkub3B0aW9ucy5hdXRvV2lkdGg/Im5vd3JhcCI6Im5vcm1hbCJ9KS5kYXRhKFIsYSksITB9LF9jbG9zZUhhbmRsZXI6ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKEQpP2UucHJldmVudERlZmF1bHQoKToodGhpcy5fZm9jdXNlZC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy51bC5hdHRyKCJhcmlhLWhpZGRlbiIsITApKX0sX2ZvY3VzSXRlbTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGlzdFZpZXcsaT0hZS5mb2N1cygpLGE9bihlLnNlbGVjdCgpKTthPT09dCYmdGhpcy5vcHRpb25zLmhpZ2hsaWdodEZpcnN0JiZpJiYoYT0wKSxhIT09dD9lLmZvY3VzKGEpOmkmJmUuc2Nyb2xsVG9JbmRleCgwKX0sX2NhbGN1bGF0ZUdyb3VwUGFkZGluZzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnVsLmNoaWxkcmVuKCIuay1maXJzdDpmaXJzdCIpLGk9dGhpcy5saXN0Vmlldy5jb250ZW50LnByZXYoRiksbj0wLGE9InJpZ2h0IjtpWzBdJiYibm9uZSIhPT1pWzBdLnN0eWxlLmRpc3BsYXkmJigiYXV0byIhPT1lJiYobj1jLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLHRoaXMuZWxlbWVudC5wYXJlbnRzKCIuay1ydGwiKS5sZW5ndGgmJihhPSJsZWZ0Iiksbis9cGFyc2VGbG9hdCh0LmNzcygiYm9yZGVyLSIrYSsiLXdpZHRoIiksMTApK3BhcnNlRmxvYXQodC5jaGlsZHJlbigiLmstZ3JvdXAiKS5jc3MoInBhZGRpbmctIithKSwxMCksaS5jc3MoInBhZGRpbmctIithLG4pKX0sX2NhbGN1bGF0ZVBvcHVwSGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2hlaWdodCh0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKS5sZW5ndGh8fGUpO3RoaXMuX2NhbGN1bGF0ZUdyb3VwUGFkZGluZyh0KSx0aGlzLl9jYWxjdWxhdGVDb2x1bW5zSGVhZGVyUGFkZGluZyh0KX0sX2NhbGN1bGF0ZUNvbHVtbnNIZWFkZXJQYWRkaW5nOmZ1bmN0aW9uKGUpe3ZhciB0LGksbjt0aGlzLm9wdGlvbnMuY29sdW1ucyYmdGhpcy5vcHRpb25zLmNvbHVtbnMubGVuZ3RoJiYodD10aGlzLGk9Zy5pc1J0bCh0LndyYXBwZXIpLG49Yy5zdXBwb3J0LnNjcm9sbGJhcigpLHQuY29sdW1uc0hlYWRlci5jc3MoaT8icGFkZGluZy1sZWZ0IjoicGFkZGluZy1yaWdodCIsImF1dG8iIT09ZT9uOjApKX0sX3JlZnJlc2hTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxpc3RWaWV3LHQ9ZS5lbGVtZW50LmhlaWdodCgpPmUuY29udGVudC5oZWlnaHQoKTt0aGlzLm9wdGlvbnMuYXV0b1dpZHRoJiZlLmNvbnRlbnQuY3NzKHtvdmVyZmxvd1g6ImhpZGRlbiIsb3ZlcmZsb3dZOnQ/InNjcm9sbCI6ImF1dG8ifSl9LF9yZXNpemVQb3B1cDpmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMudmlydHVhbHx8KHRoaXMucG9wdXAuZWxlbWVudC5pcygiOnZpc2libGUiKT90aGlzLl9jYWxjdWxhdGVQb3B1cEhlaWdodChlKToodGhpcy5wb3B1cC5vbmUoIm9wZW4iLGZ1bmN0aW9uKGUpe3JldHVybiBOKGZ1bmN0aW9uKCl7dGhpcy5fY2FsY3VsYXRlUG9wdXBIZWlnaHQoZSl9LHRoaXMpfS5jYWxsKHRoaXMsZSkpLHRoaXMucG9wdXAub25lKCJhY3RpdmF0ZSIsTih0aGlzLl9yZWZyZXNoU2Nyb2xsLHRoaXMpKSkpfSxfcG9wdXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucG9wdXA9bmV3IGQuUG9wdXAoZS5saXN0LHEoe30sZS5vcHRpb25zLnBvcHVwLHthbmNob3I6ZS53cmFwcGVyLG9wZW46TihlLl9vcGVuSGFuZGxlcixlKSxjbG9zZTpOKGUuX2Nsb3NlSGFuZGxlcixlKSxhbmltYXRpb246ZS5vcHRpb25zLmFuaW1hdGlvbixpc1J0bDpnLmlzUnRsKGUud3JhcHBlciksYXV0b3NpemU6ZS5vcHRpb25zLmF1dG9XaWR0aH0pKX0sX21ha2VVbnNlbGVjdGFibGU6ZnVuY3Rpb24oKXtqJiZ0aGlzLmxpc3QuZmluZCgiKiIpLm5vdCgiLmstdGV4dGJveCIpLmF0dHIoInVuc2VsZWN0YWJsZSIsIm9uIil9LF90b2dnbGVIb3ZlcjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoeSwibW91c2VlbnRlciI9PT10LnR5cGUpfSxfdG9nZ2xlOmZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcyxhPWcubW9iaWxlT1MmJihnLnRvdWNofHxnLk1TUG9pbnRlcnN8fGcucG9pbnRlcnMpO2U9ZSE9PXQ/ZTohbi5wb3B1cC52aXNpYmxlKCksaXx8YXx8bi5fZm9jdXNlZFswXT09PXYoKXx8KG4uX3ByZXZlbnQ9ITAsbi5fZm9jdXNlZC5mb2N1cygpLG4uX3ByZXZlbnQ9ITEpLG5bZT9DOkRdKCl9LF90cmlnZ2VyQ2FzY2FkZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2FzY2FkZVRyaWdnZXJlZCYmZS52YWx1ZSgpPT09aShlLl9jYXNjYWRlZFZhbHVlLHR5cGVvZiBlLnZhbHVlKCkpfHwoZS5fY2FzY2FkZWRWYWx1ZT1lLnZhbHVlKCksZS5fY2FzY2FkZVRyaWdnZXJlZD0hMCxlLnRyaWdnZXIoSCx7dXNlclRyaWdnZXJlZDplLl91c2VyVHJpZ2dlcmVkfSkpfSxfdHJpZ2dlckNoYW5nZTpmdW5jdGlvbigpe3RoaXMuX3ZhbHVlQmVmb3JlQ2FzY2FkZSE9PXRoaXMudmFsdWUoKSYmdGhpcy50cmlnZ2VyKHcpfSxfdW5iaW5kRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5kYXRhU291cmNlLnVuYmluZChMLGUuX3JlcXVlc3RTdGFydEhhbmRsZXIpLnVuYmluZChQLGUuX3JlcXVlc3RFbmRIYW5kbGVyKS51bmJpbmQoImVycm9yIixlLl9lcnJvckhhbmRsZXIpfSxyZXF1aXJlVmFsdWVNYXBwZXI6ZnVuY3Rpb24oZSx0KXt2YXIgaT0oZS52YWx1ZSBpbnN0YW5jZW9mIEFycmF5P2UudmFsdWUubGVuZ3RoOmUudmFsdWUpfHwodCBpbnN0YW5jZW9mIEFycmF5P3QubGVuZ3RoOnQpO2lmKGkmJmUudmlydHVhbCYmImZ1bmN0aW9uIiE9dHlwZW9mIGUudmlydHVhbC52YWx1ZU1hcHBlcil0aHJvdyBFcnJvcigiVmFsdWVNYXBwZXIgaXMgbm90IHByb3ZpZGVkIHdoaWxlIHRoZSB2YWx1ZSBpcyBiZWluZyBzZXQuIFNlZSBodHRwOi8vZG9jcy50ZWxlcmlrLmNvbS9rZW5kby11aS9jb250cm9scy9lZGl0b3JzL2NvbWJvYm94L3ZpcnR1YWxpemF0aW9uI3RoZS12YWx1ZW1hcHBlci1mdW5jdGlvbiIpfX0pO3EoWSx7aW5BcnJheTpmdW5jdGlvbihlLHQpe3ZhciBpLG4sYT10LmNoaWxkcmVuO2lmKCFlfHxlLnBhcmVudE5vZGUhPT10KXJldHVybi0xO2ZvcihpPTAsbj1hLmxlbmd0aDtpPG47aSsrKWlmKGU9PT1hW2ldKXJldHVybiBpO3JldHVybi0xfSx1bmlmeVR5cGU6aX0pLGMudWkuTGlzdD1ZLGQuU2VsZWN0PVkuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7WS5mbi5pbml0LmNhbGwodGhpcyxlLHQpLHRoaXMuX2luaXRpYWw9dGhpcy5lbGVtZW50LnZhbCgpfSxzZXREYXRhU291cmNlOmZ1bmN0aW9uKGUpe3ZhciB0LGk9dGhpcztpLm9wdGlvbnMuZGF0YVNvdXJjZT1lLGkuX2RhdGFTb3VyY2UoKSxpLmxpc3RWaWV3LmJvdW5kKCkmJihpLl9pbml0aWFsSW5kZXg9bnVsbCxpLmxpc3RWaWV3Ll9jdXJyZW50PW51bGwpLGkubGlzdFZpZXcuc2V0RGF0YVNvdXJjZShpLmRhdGFTb3VyY2UpLGkub3B0aW9ucy5hdXRvQmluZCYmaS5kYXRhU291cmNlLmZldGNoKCksdD1pLl9wYXJlbnRXaWRnZXQoKSx0JiZpLl9jYXNjYWRlU2VsZWN0KHQpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMucG9wdXAuY2xvc2UoKX0sc2VsZWN0OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIGU9PT10P2kuc2VsZWN0ZWRJbmRleDppLl9zZWxlY3QoZSkuZG9uZShmdW5jdGlvbigpe2kuX2Nhc2NhZGVWYWx1ZT1pLl9vbGQ9aS5fYWNjZXNzb3IoKSxpLl9vbGRJbmRleD1pLnNlbGVjdGVkSW5kZXh9KX0sX2FjY2Vzc29yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXNbdGhpcy5faXNTZWxlY3Q/Il9hY2Nlc3NvclNlbGVjdCI6Il9hY2Nlc3NvcklucHV0Il0oZSx0KX0sX2FjY2Vzc29ySW5wdXQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5lbGVtZW50WzBdO3JldHVybiBlPT09dD9pLnZhbHVlOihudWxsPT09ZSYmKGU9IiIpLGkudmFsdWU9ZSx0KX0sX2FjY2Vzc29yU2VsZWN0OmZ1bmN0aW9uKGUsaSl7dmFyIG4scz10aGlzLmVsZW1lbnRbMF07cmV0dXJuIGU9PT10P2EocykudmFsdWV8fCIiOihhKHMpLnNlbGVjdGVkPSExLGk9PT10JiYoaT0tMSksbj1udWxsIT09ZSYmIiIhPT1lLG4mJmk9PS0xP3RoaXMuX2N1c3RvbShlKTplP3MudmFsdWU9ZTpzLnNlbGVjdGVkSW5kZXg9aSx0KX0sX3N5bmNWYWx1ZUFuZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX2N1c3RvbTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLG49aS5lbGVtZW50LGE9aS5fY3VzdG9tT3B0aW9uO2F8fChhPWUoIjxvcHRpb24vPiIpLGkuX2N1c3RvbU9wdGlvbj1hLG4uYXBwZW5kKGEpKSxhLnRleHQodCksYVswXS5zZWxlY3RlZD0hMH0sX2hpZGVCdXN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQoZS5fYnVzeSksZS5fYXJyb3dJY29uLnJlbW92ZUNsYXNzKFQpLGUuX2ZvY3VzZWQuYXR0cigiYXJpYS1idXN5IiwhMSksZS5fYnVzeT1udWxsLGUuX3Nob3dDbGVhcigpfSxfc2hvd0J1c3k6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodC5fcmVxdWVzdD0hMCx0Ll9idXN5fHwodC5fYnVzeT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYXJyb3dJY29uJiYodC5fZm9jdXNlZC5hdHRyKCJhcmlhLWJ1c3kiLCEwKSx0Ll9hcnJvd0ljb24uYWRkQ2xhc3MoVCksdC5faGlkZUNsZWFyKCkpfSwxMDApKSl9LF9yZXF1ZXN0RW5kOmZ1bmN0aW9uKCl7dGhpcy5fcmVxdWVzdD0hMSx0aGlzLl9oaWRlQnVzeSgpfSxfZGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcyxuPWkuZWxlbWVudCxhPWkub3B0aW9ucyxzPWEuZGF0YVNvdXJjZXx8e307cz1lLmlzQXJyYXkocyk/e2RhdGE6c306cyxpLl9pc1NlbGVjdCYmKHQ9blswXS5zZWxlY3RlZEluZGV4LHQ+LTEmJihhLmluZGV4PXQpLHMuc2VsZWN0PW4scy5maWVsZHM9W3tmaWVsZDphLmRhdGFUZXh0RmllbGR9LHtmaWVsZDphLmRhdGFWYWx1ZUZpZWxkfV0pLGkuZGF0YVNvdXJjZT9pLl91bmJpbmREYXRhU291cmNlKCk6KGkuX3JlcXVlc3RTdGFydEhhbmRsZXI9TihpLl9zaG93QnVzeSxpKSxpLl9yZXF1ZXN0RW5kSGFuZGxlcj1OKGkuX3JlcXVlc3RFbmQsaSksaS5fZXJyb3JIYW5kbGVyPU4oaS5faGlkZUJ1c3ksaSkpLGkuZGF0YVNvdXJjZT1jLmRhdGEuRGF0YVNvdXJjZS5jcmVhdGUocykuYmluZChMLGkuX3JlcXVlc3RTdGFydEhhbmRsZXIpLmJpbmQoUCxpLl9yZXF1ZXN0RW5kSGFuZGxlcikuYmluZCgiZXJyb3IiLGkuX2Vycm9ySGFuZGxlcil9LF9maXJzdEl0ZW06ZnVuY3Rpb24oKXt0aGlzLmxpc3RWaWV3LmZvY3VzRmlyc3QoKX0sX2xhc3RJdGVtOmZ1bmN0aW9uKCl7dGhpcy5saXN0Vmlldy5mb2N1c0xhc3QoKX0sX25leHRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdFZpZXcuZm9jdXNOZXh0KCl9LF9wcmV2SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3RWaWV3LmZvY3VzUHJldigpfSxfZ2V0Tm9ybWFsaXplZERhdGFJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0LGk9dGhpcyxuPWkubGlzdFZpZXcsYT0ibnVtYmVyIj09dHlwZW9mIGUscz1pLm9wdGlvbkxhYmVsJiZpLm9wdGlvbkxhYmVsLmxlbmd0aDtyZXR1cm4gdD1hP3M/LS1lOmU6bi5nZXRFbGVtZW50SW5kZXgoZSksbi5kYXRhSXRlbUJ5SW5kZXgodCl9LF9nZXROb3JtYWxpemVkU2VsZWN0Q2FuZGlkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT10Lm9wdGlvbkxhYmVsJiZ0Lm9wdGlvbkxhYmVsLmxlbmd0aCxuPSJudW1iZXIiPT10eXBlb2YgZSxhPWU7cmV0dXJuIGkmJm4mJmErKyxhfSxfbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxpLG4sYSxzLHIsbCxvLHUsYz10aGlzLGQ9Yy5saXN0VmlldyxoPWUua2V5Q29kZSxmPWg9PT1fLkRPV04scD1jLm9wdGlvbnMudmlydHVhbDtpZihoPT09Xy5VUHx8Zil7aWYoZS5hbHRLZXkpYy50b2dnbGUoZik7ZWxzZXtpZighZC5ib3VuZCgpJiYhYy51bFswXS5maXJzdENoaWxkKXJldHVybiBjLl9mZXRjaHx8KGMuZGF0YVNvdXJjZS5vbmUodyxmdW5jdGlvbigpe2MuX2ZldGNoPSExLGMuX21vdmUoZSl9KSxjLl9mZXRjaD0hMCxjLl9maWx0ZXJTb3VyY2UoKSksZS5wcmV2ZW50RGVmYXVsdCgpLCEwO249Yy5fZm9jdXMoKSxjLl9mZXRjaHx8biYmIW4uaGFzQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKXx8KGY/KGE9Yy5fbmV4dEl0ZW0oKSwocCYmYTw9MHx8IWMuX2ZvY3VzKCkmJiFhKSYmYy5fbGFzdEl0ZW0oKSk6KGE9Yy5fcHJldkl0ZW0oKSwocCYmYT49ZC5kYXRhU291cmNlLnRvdGFsKCktMXx8IWMuX2ZvY3VzKCkmJiFhKSYmYy5fZmlyc3RJdGVtKCkpKSxzPWMuX2dldE5vcm1hbGl6ZWRTZWxlY3RDYW5kaWRhdGUoYy5fZ2V0KGMuX2ZvY3VzKCkpfHxhfHwwKSxjLl9zZWxlY3QocywhMCkuZG9uZShmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7Yy5wb3B1cC52aXNpYmxlKCl8fGMuX2JsdXIoKSxjLl9jYXNjYWRlZFZhbHVlPW51bGw9PT1jLl9jYXNjYWRlZFZhbHVlP2MudmFsdWUoKTpjLmRhdGFJdGVtKCk/Yy5kYXRhSXRlbSgpW2Mub3B0aW9ucy5kYXRhVmFsdWVGaWVsZF18fGMuZGF0YUl0ZW0oKTpudWxsfTtjLnRyaWdnZXIoQix7ZGF0YUl0ZW06Yy5fZ2V0Tm9ybWFsaXplZERhdGFJdGVtKHMpLGl0ZW06Yy5fZm9jdXMoKX0pP2MuX3NlbGVjdChuKS5kb25lKGUpOmUoKX0pfWUucHJldmVudERlZmF1bHQoKSxpPSEwfWVsc2UgaWYoaD09PV8uRU5URVJ8fGg9PT1fLlRBQil7aWYoYy5wb3B1cC52aXNpYmxlKCkmJmUucHJldmVudERlZmF1bHQoKSxuPWMuX2ZvY3VzKCksdD1jLmRhdGFJdGVtKCksYy5wb3B1cC52aXNpYmxlKCl8fHQmJmMudGV4dCgpPT09Yy5fdGV4dCh0KXx8KG49bnVsbCkscj1jLmZpbHRlcklucHV0JiZjLmZpbHRlcklucHV0WzBdPT09digpLG4pe2lmKHQ9ZC5kYXRhSXRlbUJ5SW5kZXgoZC5nZXRFbGVtZW50SW5kZXgobikpLG89ITAsdCYmKG89Yy5fdmFsdWUodCkhPT1ZLnVuaWZ5VHlwZShjLnZhbHVlKCksdHlwZW9mIGMuX3ZhbHVlKHQpKSksbyYmYy50cmlnZ2VyKEIse2RhdGFJdGVtOnQsaXRlbTpufSkpcmV0dXJuO2w9Yy5fc2VsZWN0KG4pfWVsc2UgYy5pbnB1dCYmKChjLl9zeW5jVmFsdWVBbmRUZXh0KCl8fGMuX2lzU2VsZWN0KSYmYy5fYWNjZXNzb3IoYy5pbnB1dC52YWwoKSksYy5saXN0Vmlldy52YWx1ZShjLmlucHV0LnZhbCgpKSk7Yy5fZm9jdXNFbGVtZW50JiZjLl9mb2N1c0VsZW1lbnQoYy53cmFwcGVyKSxyJiZoPT09Xy5UQUI/Yy53cmFwcGVyLmZvY3Vzb3V0KCk6bCYmImZ1bmN0aW9uIj09dHlwZW9mIGwuZG9uZT9sLmRvbmUoZnVuY3Rpb24oKXtjLl9ibHVyKCl9KTpjLl9ibHVyKCksYy5jbG9zZSgpLGk9ITB9ZWxzZSBoPT09Xy5FU0M/KGMucG9wdXAudmlzaWJsZSgpJiZlLnByZXZlbnREZWZhdWx0KCksYy5jbG9zZSgpLGk9ITApOiFjLnBvcHVwLnZpc2libGUoKXx8aCE9PV8uUEFHRURPV04mJmghPT1fLlBBR0VVUHx8KGUucHJldmVudERlZmF1bHQoKSx1PWg9PT1fLlBBR0VET1dOPzE6LTEsZC5zY3JvbGxXaXRoKHUqZC5zY3JlZW5IZWlnaHQoKSksaT0hMCk7cmV0dXJuIGl9LF9mZXRjaERhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ISFlLmRhdGFTb3VyY2UudmlldygpLmxlbmd0aDtlLl9yZXF1ZXN0fHxlLm9wdGlvbnMuY2FzY2FkZUZyb218fGUubGlzdFZpZXcuYm91bmQoKXx8ZS5fZmV0Y2h8fHR8fChlLl9mZXRjaD0hMCxlLmRhdGFTb3VyY2UuZmV0Y2goKS5kb25lKGZ1bmN0aW9uKCl7ZS5fZmV0Y2g9ITF9KSl9LF9vcHRpb25zOmZ1bmN0aW9uKGUsaSxuKXt2YXIgcyxyLGwsbyx1PXRoaXMsYz11LmVsZW1lbnQsZD1jWzBdLGg9ZS5sZW5ndGgsZj0iIixwPTA7Zm9yKGkmJihmPWkpO3A8aDtwKyspcz0iPG9wdGlvbiIscj1lW3BdLGw9dS5fdGV4dChyKSxvPXUuX3ZhbHVlKHIpLG8hPT10JiYobys9IiIsby5pbmRleE9mKCciJykhPT0tMSYmKG89by5yZXBsYWNlKCQsIiZxdW90OyIpKSxzKz0nIHZhbHVlPSInK28rJyInKSxzKz0iPiIsbCE9PXQmJihzKz1tKGwpKSxzKz0iPC9vcHRpb24+IixmKz1zO2MuaHRtbChmKSxuIT09dCYmKGQudmFsdWU9bixkLnZhbHVlJiYhbiYmKGQuc2VsZWN0ZWRJbmRleD0tMSkpLGQuc2VsZWN0ZWRJbmRleCE9PS0xJiYocz1hKGQpLHMmJnMuc2V0QXR0cmlidXRlKEUsRSkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5lbGVtZW50LG49aS5hdHRyKCJmb3JtIiksYT1uP2UoIiMiK24pOmkuY2xvc2VzdCgiZm9ybSIpO2FbMF0mJih0Ll9yZXNldEhhbmRsZXI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC52YWx1ZSh0Ll9pbml0aWFsKX0pfSx0Ll9mb3JtPWEub24oInJlc2V0Iix0Ll9yZXNldEhhbmRsZXIpKX0sX3BhcmVudFdpZGdldDpmdW5jdGlvbigpe3ZhciB0LGksbixhPXRoaXMub3B0aW9ucy5uYW1lO2lmKHRoaXMub3B0aW9ucy5jYXNjYWRlRnJvbSl7aWYodD1lKCIjIit0aGlzLm9wdGlvbnMuY2FzY2FkZUZyb20pLGk9dC5kYXRhKCJrZW5kbyIrYSksIWkpZm9yKG49MDtuPFFbYV0ubGVuZ3RoJiYhKGk9dC5kYXRhKCJrZW5kbyIrUVthXVtuXSkpO24rPTEpO3JldHVybiBpfX0sX2Nhc2NhZGU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsaT10Lm9wdGlvbnMsbj1pLmNhc2NhZGVGcm9tO2lmKG4pe2lmKGU9dC5fcGFyZW50V2lkZ2V0KCksIWUpcmV0dXJuO3QuX2Nhc2NhZGVIYW5kbGVyUHJveHk9Tih0Ll9jYXNjYWRlSGFuZGxlcix0KSx0Ll9jYXNjYWRlRmlsdGVyUmVxdWVzdHM9W10saS5hdXRvQmluZD0hMSxlLmJpbmQoInNldCIsZnVuY3Rpb24oKXt0Lm9uZSgic2V0IixmdW5jdGlvbihlKXt0Ll9zZWxlY3RlZFZhbHVlPWUudmFsdWV8fHQuX2FjY2Vzc29yKCl9KX0pLGUuZmlyc3QoSCx0Ll9jYXNjYWRlSGFuZGxlclByb3h5KSxlLmxpc3RWaWV3LmJvdW5kKCk/KHQuX3RvZ2dsZUNhc2NhZGVPbkZvY3VzKCksdC5fY2FzY2FkZVNlbGVjdChlKSk6KGUub25lKCJkYXRhQm91bmQiLGZ1bmN0aW9uKCl7dC5fdG9nZ2xlQ2FzY2FkZU9uRm9jdXMoKSxlLnBvcHVwLnZpc2libGUoKSYmZS5fZm9jdXNlZC5mb2N1cygpfSksZS52YWx1ZSgpfHx0LmVuYWJsZSghMSkpfX0sX3RvZ2dsZUNhc2NhZGVPbkZvY3VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuX3BhcmVudFdpZGdldCgpLGk9VSYmdCBpbnN0YW5jZW9mIGQuRHJvcERvd25MaXN0P0c6QTt0Ll9mb2N1c2VkLmFkZCh0LmZpbHRlcklucHV0KS5iaW5kKFcsZnVuY3Rpb24oKXt0LnVuYmluZChILGUuX2Nhc2NhZGVIYW5kbGVyUHJveHkpLHQuZmlyc3QodyxlLl9jYXNjYWRlSGFuZGxlclByb3h5KX0pLHQuX2ZvY3VzZWQuYWRkKHQuZmlsdGVySW5wdXQpLmJpbmQoaSxmdW5jdGlvbigpe3QudW5iaW5kKHcsZS5fY2FzY2FkZUhhbmRsZXJQcm94eSksdC5maXJzdChILGUuX2Nhc2NhZGVIYW5kbGVyUHJveHkpfSl9LF9jYXNjYWRlSGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9wYXJlbnRXaWRnZXQoKSxpPXRoaXMudmFsdWUoKTt0aGlzLl91c2VyVHJpZ2dlcmVkPWUudXNlclRyaWdnZXJlZHx8dC5fdXNlclRyaWdnZXJlZCx0aGlzLmxpc3RWaWV3LmJvdW5kKCkmJnRoaXMuX2NsZWFyU2VsZWN0aW9uKHQsITApLHRoaXMuX2Nhc2NhZGVTZWxlY3QodCxpKX0sX2Nhc2NhZGVDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQuX2FjY2Vzc29yKCl8fHQuX3NlbGVjdGVkVmFsdWU7dC5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLmxlbmd0aHx8KHQuX3NlbGVjdGVkVmFsdWU9bnVsbCksdC5fdXNlclRyaWdnZXJlZD90Ll9jbGVhclNlbGVjdGlvbihlLCEwKTpuPyhuIT09aSh0Lmxpc3RWaWV3LnZhbHVlKClbMF0sdHlwZW9mIG4pJiZ0LnZhbHVlKG4pLHQuZGF0YVNvdXJjZS52aWV3KClbMF0mJnQuc2VsZWN0ZWRJbmRleCE9PS0xfHx0Ll9jbGVhclNlbGVjdGlvbihlLCEwKSk6dC5kYXRhU291cmNlLmZsYXRWaWV3KCkubGVuZ3RoJiZ0LnNlbGVjdCh0Lm9wdGlvbnMuaW5kZXgpLHQuZW5hYmxlKCksdC5fdHJpZ2dlckNhc2NhZGUoKSx0Ll90cmlnZ2VyQ2hhbmdlKCksdC5fdXNlclRyaWdnZXJlZD0hMX0sX2Nhc2NhZGVTZWxlY3Q6ZnVuY3Rpb24oZSxpKXt2YXIgbixhLHM9dGhpcyxyPWUuZGF0YUl0ZW0oKSxvPXI/cltzLm9wdGlvbnMuY2FzY2FkZUZyb21QYXJlbnRGaWVsZF18fGUuX3ZhbHVlKHIpOm51bGwsdT1zLm9wdGlvbnMuY2FzY2FkZUZyb21GaWVsZHx8ZS5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkO3MuX3ZhbHVlQmVmb3JlQ2FzY2FkZT1pIT09dD9pOnMudmFsdWUoKSxvfHwwPT09bz8obj1zLmRhdGFTb3VyY2UuZmlsdGVyKCl8fHt9LGwobix1KSxhPWZ1bmN0aW9uKCl7dmFyIHQ9cy5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLnNoaWZ0KCk7dCYmcy51bmJpbmQoImRhdGFCb3VuZCIsdCksdD1zLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHNbMF0sdCYmcy5maXJzdCgiZGF0YUJvdW5kIix0KSxzLl9jYXNjYWRlQ2hhbmdlKGUpfSxzLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHMucHVzaChhKSwxPT09cy5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLmxlbmd0aCYmcy5maXJzdCgiZGF0YUJvdW5kIixhKSxzLl9jYXNjYWRpbmc9ITAscy5fZmlsdGVyU291cmNlKHtmaWVsZDp1LG9wZXJhdG9yOiJlcSIsdmFsdWU6b30pLHMuX2Nhc2NhZGluZz0hMSk6KHMuZW5hYmxlKCExKSxzLl9jbGVhclNlbGVjdGlvbihlKSxzLl90cmlnZ2VyQ2FzY2FkZSgpLHMuX3RyaWdnZXJDaGFuZ2UoKSxzLl91c2VyVHJpZ2dlcmVkPSExKX19KSxvPSIuU3RhdGljTGlzdCIsdT1jLnVpLkRhdGFCb3VuZFdpZGdldC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxpKXtwLmZuLmluaXQuY2FsbCh0aGlzLHQsaSksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJsaXN0Ym94Iikub24oImNsaWNrIitvLCJsaSIsTih0aGlzLl9jbGljayx0aGlzKSkub24oIm1vdXNlZW50ZXIiK28sImxpIixmdW5jdGlvbigpe2UodGhpcykuYWRkQ2xhc3MoeSl9KS5vbigibW91c2VsZWF2ZSIrbywibGkiLGZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmVDbGFzcyh5KX0pLGcudG91Y2gmJnRoaXMuX3RvdWNoSGFuZGxlcnMoKSwibXVsdGlwbGUiPT09dGhpcy5vcHRpb25zLnNlbGVjdGFibGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLW11bHRpc2VsZWN0YWJsZSIsITApLHRoaXMuY29udGVudD10aGlzLmVsZW1lbnQud3JhcCgiPGRpdiBjbGFzcz0nay1saXN0LXNjcm9sbGVyJyB1bnNlbGVjdGFibGU9J29uJz48L2Rpdj4iKS5wYXJlbnQoKSx0aGlzLmhlYWRlcj10aGlzLmNvbnRlbnQuYmVmb3JlKCc8ZGl2IGNsYXNzPSJrLWdyb3VwLWhlYWRlciIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9kaXY+JykucHJldigpLHRoaXMuYm91bmQoITEpLHRoaXMuX29wdGlvbklEPWMuZ3VpZCgpLHRoaXMuX3NlbGVjdGVkSW5kaWNlcz1bXSx0aGlzLl92aWV3PVtdLHRoaXMuX2RhdGFJdGVtcz1bXSx0aGlzLl92YWx1ZXM9W107dmFyIG49dGhpcy5vcHRpb25zLnZhbHVlO24mJih0aGlzLl92YWx1ZXM9ZS5pc0FycmF5KG4pP24uc2xpY2UoMCk6W25dKSx0aGlzLl9nZXR0ZXIoKSx0aGlzLl90ZW1wbGF0ZXMoKSx0aGlzLnNldERhdGFTb3VyY2UodGhpcy5vcHRpb25zLmRhdGFTb3VyY2UpLHRoaXMuX29uU2Nyb2xsPU4oZnVuY3Rpb24oKXt2YXIgZT10aGlzO2NsZWFyVGltZW91dChlLl9zY3JvbGxJZCksZS5fc2Nyb2xsSWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX3JlbmRlckhlYWRlcigpfSw1MCl9LHRoaXMpfSxvcHRpb25zOntuYW1lOiJTdGF0aWNMaXN0IixkYXRhVmFsdWVGaWVsZDpudWxsLHZhbHVlUHJpbWl0aXZlOiExLHNlbGVjdGFibGU6ITAsdGVtcGxhdGU6bnVsbCxncm91cFRlbXBsYXRlOm51bGwsZml4ZWRHcm91cFRlbXBsYXRlOm51bGx9LGV2ZW50czpbImNsaWNrIix3LCJhY3RpdmF0ZSIsImRlYWN0aXZhdGUiLCJkYXRhQmluZGluZyIsImRhdGFCb3VuZCIsInNlbGVjdGVkSXRlbUNoYW5nZSJdLHNldERhdGFTb3VyY2U6ZnVuY3Rpb24odCl7dmFyIGksbj10aGlzLGE9dHx8e307YT1lLmlzQXJyYXkoYSk/e2RhdGE6YX06YSxhPWMuZGF0YS5EYXRhU291cmNlLmNyZWF0ZShhKSxuLmRhdGFTb3VyY2U/KG4uZGF0YVNvdXJjZS51bmJpbmQodyxuLl9yZWZyZXNoSGFuZGxlciksaT1uLnZhbHVlKCksbi52YWx1ZShbXSksbi5ib3VuZCghMSksbi52YWx1ZShpKSk6bi5fcmVmcmVzaEhhbmRsZXI9TihuLnJlZnJlc2gsbiksbi5zZXREU0ZpbHRlcihhLmZpbHRlcigpKSxuLmRhdGFTb3VyY2U9YS5iaW5kKHcsbi5fcmVmcmVzaEhhbmRsZXIpLG4uX2ZpeGVkSGVhZGVyKCl9LF90b3VjaEhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIHQsaSxuPXRoaXMsYT1mdW5jdGlvbihlKXtyZXR1cm4oZS5vcmlnaW5hbEV2ZW50fHxlKS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWX07bi5lbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IitvLGZ1bmN0aW9uKGUpe3Q9YShlKX0pLG4uZWxlbWVudC5vbigidG91Y2hlbmQiK28sZnVuY3Rpb24ocyl7cy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGk9YShzKSxNYXRoLmFicyhpLXQpPDEwJiYobi5fdG91Y2hUcmlnZ2VyZWQ9ITAsbi5fdHJpZ2dlckNsaWNrKGUocy50YXJnZXQpLmNsb3Nlc3QoaykuZ2V0KDApKSkpfSl9LHNraXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLnNraXAoKX0sc2V0T3B0aW9uczpmdW5jdGlvbihlKXtwLmZuLnNldE9wdGlvbnMuY2FsbCh0aGlzLGUpLHRoaXMuX2dldHRlcigpLHRoaXMuX3RlbXBsYXRlcygpLHRoaXMuX3JlbmRlcigpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9mZihvKSx0aGlzLl9yZWZyZXNoSGFuZGxlciYmdGhpcy5kYXRhU291cmNlLnVuYmluZCh3LHRoaXMuX3JlZnJlc2hIYW5kbGVyKSxjbGVhclRpbWVvdXQodGhpcy5fc2Nyb2xsSWQpLHAuZm4uZGVzdHJveS5jYWxsKHRoaXMpfSxkYXRhSXRlbUJ5SW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5mbGF0VmlldygpW2VdfSxzY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50WzBdLmNsaWVudEhlaWdodH0sc2Nyb2xsVG9JbmRleDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW5bZV07dCYmdGhpcy5zY3JvbGwodCl9LHNjcm9sbFdpdGg6ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50LnNjcm9sbFRvcCh0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wKCkrZSl9LHNjcm9sbDpmdW5jdGlvbihlKXtpZihlKXtlWzBdJiYoZT1lWzBdKTt2YXIgdD10aGlzLmNvbnRlbnRbMF0saT1lLm9mZnNldFRvcCxuPWUub2Zmc2V0SGVpZ2h0LGE9dC5zY3JvbGxUb3Ascz10LmNsaWVudEhlaWdodCxyPWkrbjthPmk/YT1pOnI+YStzJiYoYT1yLXMpLHQuc2Nyb2xsVG9wPWF9fSxzZWxlY3RlZERhdGFJdGVtczpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fZGF0YUl0ZW1zLnNsaWNlKCk6KHRoaXMuX2RhdGFJdGVtcz1lLHRoaXMuX3ZhbHVlcz10aGlzLl9nZXRWYWx1ZXMoZSksdCl9LF9nZXRWYWx1ZXM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fdmFsdWVHZXR0ZXI7cmV0dXJuIGUubWFwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KX0sZm9jdXNOZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5mb2N1cygpO2U9ZT9lLm5leHQoKTowLHRoaXMuZm9jdXMoZSl9LGZvY3VzUHJldjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZm9jdXMoKTtlPWU/ZS5wcmV2KCk6dGhpcy5lbGVtZW50WzBdLmNoaWxkcmVuLmxlbmd0aC0xLHRoaXMuZm9jdXMoZSl9LGZvY3VzRmlyc3Q6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKHRoaXMuZWxlbWVudFswXS5jaGlsZHJlblswXSl9LGZvY3VzTGFzdDpmdW5jdGlvbigpe3RoaXMuZm9jdXMobih0aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW4pKX0sZm9jdXM6ZnVuY3Rpb24oaSl7dmFyIGEscz10aGlzLHI9cy5fb3B0aW9uSUQ7cmV0dXJuIGk9PT10P3MuX2N1cnJlbnQ6KGk9bihzLl9nZXQoaSkpLGk9ZSh0aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW5baV0pLHMuX2N1cnJlbnQmJihzLl9jdXJyZW50LnJlbW92ZUNsYXNzKFMpLnJlbW92ZUF0dHIoSSkscy50cmlnZ2VyKCJkZWFjdGl2YXRlIikpLGE9ISFpWzBdLGEmJihpLmFkZENsYXNzKFMpLHMuc2Nyb2xsKGkpLGkuYXR0cigiaWQiLHIpKSxzLl9jdXJyZW50PWE/aTpudWxsLHMudHJpZ2dlcigiYWN0aXZhdGUiKSx0KX0sZm9jdXNJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvY3VzKCk/dGhpcy5mb2N1cygpLmluZGV4KCk6dH0sc2tpcFVwZGF0ZTpmdW5jdGlvbihlKXt0aGlzLl9za2lwVXBkYXRlPWV9LHNlbGVjdDpmdW5jdGlvbihpKXt2YXIgYSxzLHIsbD10aGlzLG89bC5vcHRpb25zLnNlbGVjdGFibGUsdT0ibXVsdGlwbGUiIT09byYmbyE9PSExLGM9bC5fc2VsZWN0ZWRJbmRpY2VzLGQ9W3RoaXMuZWxlbWVudC5maW5kKCIuay1zdGF0ZS1zZWxlY3RlZCIpLmluZGV4KCldLGg9W10sZj1bXTtyZXR1cm4gaT09PXQ/Yy5zbGljZSgpOihpPWwuX2dldChpKSwxPT09aS5sZW5ndGgmJmlbMF09PT0tMSYmKGk9W10pLHM9ZS5EZWZlcnJlZCgpLnJlc29sdmUoKSxyPWwuaXNGaWx0ZXJlZCgpLHImJiF1JiZsLl9kZXNlbGVjdEZpbHRlcmVkKGkpP3M6dSYmIXImJmUuaW5BcnJheShuKGkpLGMpIT09LTEmJmUuaW5BcnJheShuKGkpLGQpIT09LTE/KGwuX2RhdGFJdGVtcy5sZW5ndGgmJmwuX3ZpZXcubGVuZ3RoJiYobC5fZGF0YUl0ZW1zPVtsLl92aWV3W2NbMF1dLml0ZW1dKSxzKTooYT1sLl9kZXNlbGVjdChpKSxmPWEucmVtb3ZlZCxpPWEuaW5kaWNlcyxpLmxlbmd0aCYmKHUmJihpPVtuKGkpXSksaD1sLl9zZWxlY3QoaSkpLChoLmxlbmd0aHx8Zi5sZW5ndGgpJiYobC5fdmFsdWVDb21wYXJlcj1udWxsLGwudHJpZ2dlcih3LHthZGRlZDpoLHJlbW92ZWQ6Zn0pKSxzKSl9LHJlbW92ZUF0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZWxlY3RlZEluZGljZXMuc3BsaWNlKGUsMSksdGhpcy5fdmFsdWVzLnNwbGljZShlLDEpLHRoaXMuX3ZhbHVlQ29tcGFyZXI9bnVsbCx7cG9zaXRpb246ZSxkYXRhSXRlbTp0aGlzLl9kYXRhSXRlbXMuc3BsaWNlKGUsMSlbMF19fSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt0PWUuaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIHg/dC5zbGljZSgwKTpbdF0sdGhpcy5fdmFsdWVzPXQsdGhpcy5fdmFsdWVDb21wYXJlcj1udWxsfSx2YWx1ZTpmdW5jdGlvbihpKXt2YXIgbixhPXRoaXMscz1hLl92YWx1ZURlZmVycmVkO3JldHVybiBpPT09dD9hLl92YWx1ZXMuc2xpY2UoKTooYS5zZXRWYWx1ZShpKSxzJiYicmVzb2x2ZWQiIT09cy5zdGF0ZSgpfHwoYS5fdmFsdWVEZWZlcnJlZD1zPWUuRGVmZXJyZWQoKSksYS5ib3VuZCgpJiYobj1hLl92YWx1ZUluZGljZXMoYS5fdmFsdWVzKSwibXVsdGlwbGUiPT09YS5vcHRpb25zLnNlbGVjdGFibGUmJmEuc2VsZWN0KC0xKSxhLnNlbGVjdChuKSxzLnJlc29sdmUoKSksYS5fc2tpcFVwZGF0ZT0hMSxzKX0saXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNoaWxkcmVuKGspfSxfY2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RvdWNoVHJpZ2dlcmVkPyh0aGlzLl90b3VjaFRyaWdnZXJlZD0hMSx0KTooZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5fdHJpZ2dlckNsaWNrKGUuY3VycmVudFRhcmdldCksdCl9LF90cmlnZ2VyQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKCJjbGljayIse2l0ZW06ZSh0KX0pfHx0aGlzLnNlbGVjdCh0KX0sX3ZhbHVlRXhwcjpmdW5jdGlvbihlLHQpe3ZhciBuLGEscz10aGlzLHI9MCxsPVtdO2lmKCFzLl92YWx1ZUNvbXBhcmVyfHxzLl92YWx1ZVR5cGUhPT1lKXtmb3Iocy5fdmFsdWVUeXBlPWU7cjx0Lmxlbmd0aDtyKyspbC5wdXNoKGkodFtyXSxlKSk7bj0iZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgIitsLmxlbmd0aCsiOyBpZHgrKykgeyBpZiAoY3VycmVudCA9PT0gdmFsdWVzW2lkeF0pIHsgICByZXR1cm4gaWR4OyB9fSByZXR1cm4gLTE7IixhPUZ1bmN0aW9uKCJjdXJyZW50IiwidmFsdWVzIixuKSxzLl92YWx1ZUNvbXBhcmVyPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUsbCl9fXJldHVybiBzLl92YWx1ZUNvbXBhcmVyfSxfZGF0YUl0ZW1Qb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuX3ZhbHVlR2V0dGVyKGUpLG49dGhpcy5fdmFsdWVFeHByKHR5cGVvZiBpLHQpO3JldHVybiBuKGkpfSxfZ2V0dGVyOmZ1bmN0aW9uKCl7dGhpcy5fdmFsdWVHZXR0ZXI9Yy5nZXR0ZXIodGhpcy5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkKX0sX2Rlc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciBpLG4sYSxzPXRoaXMscj1zLmVsZW1lbnRbMF0uY2hpbGRyZW4sbD1zLm9wdGlvbnMuc2VsZWN0YWJsZSxvPXMuX3NlbGVjdGVkSW5kaWNlcyx1PXMuX2RhdGFJdGVtcyxjPXMuX3ZhbHVlcyxkPVtdLGg9MCxmPTA7aWYodD10LnNsaWNlKCksbCE9PSEwJiZ0Lmxlbmd0aCl7aWYoIm11bHRpcGxlIj09PWwpZm9yKDtoPHQubGVuZ3RoO2grKylpZihuPXRbaF0sZShyW25dKS5oYXNDbGFzcygiay1zdGF0ZS1zZWxlY3RlZCIpKWZvcihpPTA7aTxvLmxlbmd0aDtpKyspaWYoYT1vW2ldLGE9PT1uKXtlKHJbYV0pLnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLGQucHVzaCh7cG9zaXRpb246aStmLGRhdGFJdGVtOnUuc3BsaWNlKGksMSlbMF19KSxvLnNwbGljZShpLDEpLHQuc3BsaWNlKGgsMSksYy5zcGxpY2UoaSwxKSxmKz0xLGgtPTEsaS09MTticmVha319ZWxzZXtmb3IoO2g8by5sZW5ndGg7aCsrKWUocltvW2hdXSkucmVtb3ZlQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSksZC5wdXNoKHtwb3NpdGlvbjpoLGRhdGFJdGVtOnVbaF19KTtzLl92YWx1ZXM9W10scy5fZGF0YUl0ZW1zPVtdLHMuX3NlbGVjdGVkSW5kaWNlcz1bXX1yZXR1cm57aW5kaWNlczp0LHJlbW92ZWQ6ZH19LF9kZXNlbGVjdEZpbHRlcmVkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxuLGEscz10aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW4scj1bXSxsPTA7bDx0Lmxlbmd0aDtsKyspbj10W2xdLGk9dGhpcy5fdmlld1tuXS5pdGVtLGE9dGhpcy5fZGF0YUl0ZW1Qb3NpdGlvbihpLHRoaXMuX3ZhbHVlcyksYT4tMSYmKHIucHVzaCh0aGlzLnJlbW92ZUF0KGEpKSxlKHNbbl0pLnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikpO3JldHVybiEhci5sZW5ndGgmJih0aGlzLnRyaWdnZXIodyx7YWRkZWQ6W10scmVtb3ZlZDpyfSksITApfSxfc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciBpLGEscz10aGlzLHI9cy5lbGVtZW50WzBdLmNoaWxkcmVuLGw9cy5fdmlldyxvPVtdLHU9MDtmb3Iobih0KSE9PS0xJiZzLmZvY3VzKHQpO3U8dC5sZW5ndGg7dSsrKWE9dFt1XSxpPWxbYV0sYSE9PS0xJiZpJiYoaT1pLml0ZW0scy5fc2VsZWN0ZWRJbmRpY2VzLnB1c2goYSkscy5fZGF0YUl0ZW1zLnB1c2goaSkscy5fdmFsdWVzLnB1c2gocy5fdmFsdWVHZXR0ZXIoaSkpLGUoclthXSkuYWRkQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksby5wdXNoKHtkYXRhSXRlbTppfSkpO3JldHVybiBvfSxnZXRFbGVtZW50SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIGUodCkuZGF0YSgib2Zmc2V0LWluZGV4Iil9LF9nZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlP2U9W2VdOk8oZSl8fChlPXRoaXMuZ2V0RWxlbWVudEluZGV4KGUpLGU9W2UhPT10P2U6LTFdKSxlfSxfdGVtcGxhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5vcHRpb25zLGk9dC50ZW1wbGF0ZTtyZXR1cm4gaT8oaT1jLnRlbXBsYXRlKGkpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuJzxsaSB0YWJpbmRleD0iLTEiIHJvbGU9Im9wdGlvbiIgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImstaXRlbSI+JytpKGUpKyI8L2xpPiJ9KTppPWMudGVtcGxhdGUoJzxsaSB0YWJpbmRleD0iLTEiIHJvbGU9Im9wdGlvbiIgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImstaXRlbSI+JHsnK2MuZXhwcih0LmRhdGFUZXh0RmllbGQsImRhdGEiKSsifTwvbGk+Iix7dXNlV2l0aEJsb2NrOiExfSksaX0sX3RlbXBsYXRlczpmdW5jdGlvbigpe3ZhciBlLHQsaSxuLGEscz10aGlzLm9wdGlvbnMscj17dGVtcGxhdGU6cy50ZW1wbGF0ZSxncm91cFRlbXBsYXRlOnMuZ3JvdXBUZW1wbGF0ZSxmaXhlZEdyb3VwVGVtcGxhdGU6cy5maXhlZEdyb3VwVGVtcGxhdGV9O2lmKHMuY29sdW1ucylmb3IodD0wO3Q8cy5jb2x1bW5zLmxlbmd0aDt0KyspaT1zLmNvbHVtbnNbdF0sbj1pLmZpZWxkPyIiK2kuZmllbGQ6InRleHQiLHJbImNvbHVtbiIrdF09aS50ZW1wbGF0ZXx8IiM6ICIrbisiIyI7Zm9yKGEgaW4gcillPXJbYV0sZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUmJihyW2FdPWMudGVtcGxhdGUoZSkpO3RoaXMudGVtcGxhdGVzPXJ9LF9ub3JtYWxpemVJbmRpY2VzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1bXSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXSE9PXQmJmkucHVzaChlW25dKTtyZXR1cm4gaX0sX3ZhbHVlSW5kaWNlczpmdW5jdGlvbihlLHQpe3ZhciBpLG49dGhpcy5fdmlldyxhPTA7aWYodD10P3Quc2xpY2UoKTpbXSwhZS5sZW5ndGgpcmV0dXJuW107Zm9yKDthPG4ubGVuZ3RoO2ErKylpPXRoaXMuX2RhdGFJdGVtUG9zaXRpb24oblthXS5pdGVtLGUpLGkhPT0tMSYmKHRbaV09YSk7cmV0dXJuIHRoaXMuX25vcm1hbGl6ZUluZGljZXModCl9LF9maXJzdFZpc2libGVJdGVtOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZWxlbWVudFswXSxpPXRoaXMuY29udGVudFswXSxuPWkuc2Nyb2xsVG9wLGE9ZSh0LmNoaWxkcmVuWzBdKS5oZWlnaHQoKSxzPU1hdGguZmxvb3Iobi9hKXx8MCxyPXQuY2hpbGRyZW5bc118fHQubGFzdENoaWxkLGw9ci5vZmZzZXRUb3A8bjtyOylpZihsKXtpZihyLm9mZnNldFRvcCthPm58fCFyLm5leHRTaWJsaW5nKWJyZWFrO3I9ci5uZXh0U2libGluZ31lbHNle2lmKHIub2Zmc2V0VG9wPD1ufHwhci5wcmV2aW91c1NpYmxpbmcpYnJlYWs7cj1yLnByZXZpb3VzU2libGluZ31yZXR1cm4gdGhpcy5fdmlld1tlKHIpLmRhdGEoIm9mZnNldC1pbmRleCIpXX0sX2ZpeGVkSGVhZGVyOmZ1bmN0aW9uKCl7dGhpcy5pc0dyb3VwZWQoKSYmdGhpcy50ZW1wbGF0ZXMuZml4ZWRHcm91cFRlbXBsYXRlPyh0aGlzLmhlYWRlci5zaG93KCksDQp0aGlzLmNvbnRlbnQuc2Nyb2xsKHRoaXMuX29uU2Nyb2xsKSk6KHRoaXMuaGVhZGVyLmhpZGUoKSx0aGlzLmNvbnRlbnQub2ZmKCJzY3JvbGwiLHRoaXMuX29uU2Nyb2xsKSl9LF9yZW5kZXJIZWFkZXI6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMudGVtcGxhdGVzLmZpeGVkR3JvdXBUZW1wbGF0ZTt0JiYoZT10aGlzLl9maXJzdFZpc2libGVJdGVtKCksZSYmKCIiK2UuZ3JvdXApLmxlbmd0aCYmdGhpcy5oZWFkZXIuaHRtbCh0KGUuZ3JvdXApKSl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PSc8bGkgdGFiaW5kZXg9Ii0xIiByb2xlPSJvcHRpb24iIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWl0ZW0nLGk9ZS5pdGVtLG49MCE9PWUuaW5kZXgsYT1lLnNlbGVjdGVkLHM9dGhpcy5pc0dyb3VwZWQoKSxyPXRoaXMub3B0aW9ucy5jb2x1bW5zJiZ0aGlzLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7cmV0dXJuIG4mJmUubmV3R3JvdXAmJih0Kz0iIGstZmlyc3QiKSxlLmlzTGFzdEdyb3VwZWRJdGVtJiZyJiYodCs9IiBrLWxhc3QiKSxhJiYodCs9IiBrLXN0YXRlLXNlbGVjdGVkIiksdCs9JyIgYXJpYS1zZWxlY3RlZD0iJysoYT8idHJ1ZSI6ImZhbHNlIikrJyIgZGF0YS1vZmZzZXQtaW5kZXg9IicrZS5pbmRleCsnIj4nLHQrPXI/dGhpcy5fcmVuZGVyQ29sdW1ucyhpKTp0aGlzLnRlbXBsYXRlcy50ZW1wbGF0ZShpKSxuJiZlLm5ld0dyb3VwP3QrPXI/JzxkaXYgY2xhc3M9ImstY2VsbCBrLWdyb3VwLWNlbGwiPjxzcGFuPicrdGhpcy50ZW1wbGF0ZXMuZ3JvdXBUZW1wbGF0ZShlLmdyb3VwKSsiPC9zcGFuPjwvZGl2PiI6JzxkaXYgY2xhc3M9ImstZ3JvdXAiPicrdGhpcy50ZW1wbGF0ZXMuZ3JvdXBUZW1wbGF0ZShlLmdyb3VwKSsiPC9kaXY+IjpzJiZyJiYodCs9IjxkaXYgY2xhc3M9J2stY2VsbCBrLXNwYWNlci1jZWxsJz48L2Rpdj4iKSx0KyI8L2xpPiJ9LF9yZW5kZXJDb2x1bW5zOmZ1bmN0aW9uKGUpe3ZhciB0LGksbixhLHM9IiI7Zm9yKHQ9MDt0PHRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDt0KyspaT10aGlzLm9wdGlvbnMuY29sdW1uc1t0XS53aWR0aCxuPXBhcnNlSW50KGksMTApLGE9IiIsaSYmIWlzTmFOKG4pJiYoYSs9InN0eWxlPSd3aWR0aDoiLGErPW4sYSs9Zi50ZXN0KGkpPyIlIjoicHgiLGErPSI7JyIpLHMrPSI8c3BhbiBjbGFzcz0nay1jZWxsJyAiK2ErIj4iLHMrPXRoaXMudGVtcGxhdGVzWyJjb2x1bW4iK3RdKGUpLHMrPSI8L3NwYW4+IjtyZXR1cm4gc30sX3JlbmRlcjpmdW5jdGlvbigpe3ZhciBlLHQsaSxuLGE9IiIscz0wLHI9MCxsPVtdLG89dGhpcy5kYXRhU291cmNlLnZpZXcoKSx1PXRoaXMudmFsdWUoKSxjPXRoaXMuaXNHcm91cGVkKCk7aWYoYylmb3Iocz0wO3M8by5sZW5ndGg7cysrKWZvcih0PW9bc10saT0hMCxuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspZT17c2VsZWN0ZWQ6dGhpcy5fc2VsZWN0ZWQodC5pdGVtc1tuXSx1KSxpdGVtOnQuaXRlbXNbbl0sZ3JvdXA6dC52YWx1ZSxuZXdHcm91cDppLGlzTGFzdEdyb3VwZWRJdGVtOm49PT10Lml0ZW1zLmxlbmd0aC0xLGluZGV4OnJ9LGxbcl09ZSxyKz0xLGErPXRoaXMuX3JlbmRlckl0ZW0oZSksaT0hMTtlbHNlIGZvcihzPTA7czxvLmxlbmd0aDtzKyspZT17c2VsZWN0ZWQ6dGhpcy5fc2VsZWN0ZWQob1tzXSx1KSxpdGVtOm9bc10saW5kZXg6c30sbFtzXT1lLGErPXRoaXMuX3JlbmRlckl0ZW0oZSk7dGhpcy5fdmlldz1sLHRoaXMuZWxlbWVudFswXS5pbm5lckhUTUw9YSxjJiZsLmxlbmd0aCYmdGhpcy5fcmVuZGVySGVhZGVyKCl9LF9zZWxlY3RlZDpmdW5jdGlvbihlLHQpe3ZhciBpPSF0aGlzLmlzRmlsdGVyZWQoKXx8Im11bHRpcGxlIj09PXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlO3JldHVybiBpJiZ0aGlzLl9kYXRhSXRlbVBvc2l0aW9uKGUsdCkhPT0tMX0sc2V0RFNGaWx0ZXI6ZnVuY3Rpb24oZSl7dGhpcy5fbGFzdERTRmlsdGVyPXEoe30sZSl9LGlzRmlsdGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdERTRmlsdGVyfHx0aGlzLnNldERTRmlsdGVyKHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIoKSksIWMuZGF0YS5RdWVyeS5jb21wYXJlRmlsdGVycyh0aGlzLmRhdGFTb3VyY2UuZmlsdGVyKCksdGhpcy5fbGFzdERTRmlsdGVyKX0scmVmcmVzaDpmdW5jdGlvbihlKXt2YXIgdCxpPXRoaXMsbj1lJiZlLmFjdGlvbixhPWkub3B0aW9ucy5za2lwVXBkYXRlT25CaW5kLHI9Iml0ZW1jaGFuZ2UiPT09bjtpLnRyaWdnZXIoImRhdGFCaW5kaW5nIiksaS5fYW5ndWxhckl0ZW1zKCJjbGVhbnVwIiksaS5fZml4ZWRIZWFkZXIoKSxpLl9yZW5kZXIoKSxpLmJvdW5kKCEwKSxyfHwicmVtb3ZlIj09PW4/KHQ9cyhpLl9kYXRhSXRlbXMsZS5pdGVtcyksdC5jaGFuZ2VkLmxlbmd0aCYmKHI/aS50cmlnZ2VyKCJzZWxlY3RlZEl0ZW1DaGFuZ2UiLHtpdGVtczp0LmNoYW5nZWR9KTppLnZhbHVlKGkuX2dldFZhbHVlcyh0LnVuY2hhbmdlZCkpKSk6aS5pc0ZpbHRlcmVkKCl8fGkuX3NraXBVcGRhdGV8fGkuX2VtcHR5U2VhcmNoPyhpLmZvY3VzKDApLGkuX3NraXBVcGRhdGUmJihpLl9za2lwVXBkYXRlPSExLGkuX3NlbGVjdGVkSW5kaWNlcz1pLl92YWx1ZUluZGljZXMoaS5fdmFsdWVzLGkuX3NlbGVjdGVkSW5kaWNlcykpKTphfHxuJiYiYWRkIiE9PW58fGkudmFsdWUoaS5fdmFsdWVzKSxpLl92YWx1ZURlZmVycmVkJiZpLl92YWx1ZURlZmVycmVkLnJlc29sdmUoKSxpLl9hbmd1bGFySXRlbXMoImNvbXBpbGUiKSxpLnRyaWdnZXIoImRhdGFCb3VuZCIpfSxib3VuZDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fYm91bmQ6KHRoaXMuX2JvdW5kPWUsdCl9LGlzR3JvdXBlZDpmdW5jdGlvbigpe3JldHVybih0aGlzLmRhdGFTb3VyY2UuZ3JvdXAoKXx8W10pLmxlbmd0aH19KSxkLnBsdWdpbih1KX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihlLHQsaSl7KGl8fHQpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmxpc3QubWluLmpzLm1hcA0KDQovKiENCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQohZnVuY3Rpb24oZSxkZWZpbmUpe2RlZmluZSgia2VuZG8uYXV0b2NvbXBsZXRlLm1pbiIsWyJrZW5kby5saXN0Lm1pbiIsImtlbmRvLm1vYmlsZS5zY3JvbGxlci5taW4iLCJrZW5kby52aXJ0dWFsbGlzdC5taW4iXSxlKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBzKGUsdCxzKXtyZXR1cm4gcz90LnN1YnN0cmluZygwLGUpLnNwbGl0KHMpLmxlbmd0aC0xOjB9ZnVuY3Rpb24gaShlLHQsaSl7cmV0dXJuIHQuc3BsaXQoaSlbcyhlLHQsaSldfWZ1bmN0aW9uIG8oZSx0LGksbyxhKXt2YXIgbj10LnNwbGl0KG8pO3JldHVybiBuLnNwbGljZShzKGUsdCxvKSwxLGkpLG8mJiIiIT09bltuLmxlbmd0aC0xXSYmbi5wdXNoKCIiKSxuLmpvaW4oYSl9dmFyIGE9d2luZG93LmtlbmRvLG49YS5zdXBwb3J0LHI9YS5jYXJldCxsPWEuX2FjdGl2ZUVsZW1lbnQsYz1uLnBsYWNlaG9sZGVyLHU9YS51aSxwPXUuTGlzdCxkPWEua2V5cyxfPWEuZGF0YS5EYXRhU291cmNlLGg9ImFyaWEtZGlzYWJsZWQiLGY9ImFyaWEtcmVhZG9ubHkiLGc9ImNoYW5nZSIsdj0iay1zdGF0ZS1kZWZhdWx0IixtPSJkaXNhYmxlZCIseT0icmVhZG9ubHkiLHc9Imstc3RhdGUtZm9jdXNlZCIsQz0iay1zdGF0ZS1zZWxlY3RlZCIsYj0iay1zdGF0ZS1kaXNhYmxlZCIseD0ib2ZmIixrPSJrLXN0YXRlLWhvdmVyIixWPSIua2VuZG9BdXRvQ29tcGxldGUiLFQ9Im1vdXNlZW50ZXIiK1YrIiBtb3VzZWxlYXZlIitWLFM9ZS5wcm94eSxMPXAuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQscyl7dmFyIGksbyxuPXRoaXM7bi5ucz1WLHM9ZS5pc0FycmF5KHMpP3tkYXRhU291cmNlOnN9OnMscC5mbi5pbml0LmNhbGwobix0LHMpLHQ9bi5lbGVtZW50LHM9bi5vcHRpb25zLHMucGxhY2Vob2xkZXI9cy5wbGFjZWhvbGRlcnx8dC5hdHRyKCJwbGFjZWhvbGRlciIpLGMmJnQuYXR0cigicGxhY2Vob2xkZXIiLHMucGxhY2Vob2xkZXIpLG4uX3dyYXBwZXIoKSxuLl9sb2FkZXIoKSxuLl9jbGVhckJ1dHRvbigpLG4uX2RhdGFTb3VyY2UoKSxuLl9pZ25vcmVDYXNlKCksdFswXS50eXBlPSJ0ZXh0IixpPW4ud3JhcHBlcixuLl9wb3B1cCgpLHQuYWRkQ2xhc3MoImstaW5wdXQiKS5vbigia2V5ZG93biIrVixTKG4uX2tleWRvd24sbikpLm9uKCJrZXlwcmVzcyIrVixTKG4uX2tleXByZXNzLG4pKS5vbigiaW5wdXQiK1YsUyhuLl9zZWFyY2gsbikpLm9uKCJwYXN0ZSIrVixTKG4uX3NlYXJjaCxuKSkub24oImZvY3VzIitWLGZ1bmN0aW9uKCl7bi5fcHJldj1uLl9hY2Nlc3NvcigpLG4uX29sZFRleHQ9bi5fcHJldixuLl9wbGFjZWhvbGRlcighMSksaS5hZGRDbGFzcyh3KX0pLm9uKCJmb2N1c291dCIrVixmdW5jdGlvbigpe24uX2NoYW5nZSgpLG4uX3BsYWNlaG9sZGVyKCksbi5jbG9zZSgpLGkucmVtb3ZlQ2xhc3Modyl9KS5hdHRyKHthdXRvY29tcGxldGU6eCxyb2xlOiJ0ZXh0Ym94IiwiYXJpYS1oYXNwb3B1cCI6ITB9KSxuLl9jbGVhci5vbigiY2xpY2siK1YrIiB0b3VjaGVuZCIrVixTKG4uX2NsZWFyVmFsdWUsbikpLG4uX2VuYWJsZSgpLG4uX29sZD1uLl9hY2Nlc3NvcigpLHRbMF0uaWQmJnQuYXR0cigiYXJpYS1vd25zIixuLnVsWzBdLmlkKSxuLl9hcmlhKCksbi5fcGxhY2Vob2xkZXIoKSxuLl9pbml0TGlzdCgpLG89ZShuLmVsZW1lbnQpLnBhcmVudHMoImZpZWxkc2V0IikuaXMoIjpkaXNhYmxlZCIpLG8mJm4uZW5hYmxlKCExKSxuLmxpc3RWaWV3LmJpbmQoImNsaWNrIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9KSxuLl9yZXNldEZvY3VzSXRlbUhhbmRsZXI9ZS5wcm94eShuLl9yZXNldEZvY3VzSXRlbSxuKSxhLm5vdGlmeShuKSxuLl90b2dnbGVDbG9zZVZpc2liaWxpdHkoKX0sb3B0aW9uczp7bmFtZToiQXV0b0NvbXBsZXRlIixlbmFibGVkOiEwLHN1Z2dlc3Q6ITEsdGVtcGxhdGU6IiIsZ3JvdXBUZW1wbGF0ZToiIzpkYXRhIyIsZml4ZWRHcm91cFRlbXBsYXRlOiIjOmRhdGEjIixkYXRhVGV4dEZpZWxkOiIiLG1pbkxlbmd0aDoxLGVuZm9yY2VNaW5MZW5ndGg6ITEsZGVsYXk6MjAwLGhlaWdodDoyMDAsZmlsdGVyOiJzdGFydHN3aXRoIixpZ25vcmVDYXNlOiEwLGhpZ2hsaWdodEZpcnN0OiExLHNlcGFyYXRvcjpudWxsLHBsYWNlaG9sZGVyOiIiLGFuaW1hdGlvbjp7fSx2aXJ0dWFsOiExLHZhbHVlOm51bGwsY2xlYXJCdXR0b246ITAsYXV0b1dpZHRoOiExLHBvcHVwOm51bGx9LF9kYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmRhdGFTb3VyY2UmJmUuX3JlZnJlc2hIYW5kbGVyP2UuX3VuYmluZERhdGFTb3VyY2UoKTooZS5fcHJvZ3Jlc3NIYW5kbGVyPVMoZS5fc2hvd0J1c3ksZSksZS5fZXJyb3JIYW5kbGVyPVMoZS5faGlkZUJ1c3ksZSkpLGUuZGF0YVNvdXJjZT1fLmNyZWF0ZShlLm9wdGlvbnMuZGF0YVNvdXJjZSkuYmluZCgicHJvZ3Jlc3MiLGUuX3Byb2dyZXNzSGFuZGxlcikuYmluZCgiZXJyb3IiLGUuX2Vycm9ySGFuZGxlcil9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLmRhdGFTb3VyY2U9ZSx0aGlzLl9kYXRhU291cmNlKCksdGhpcy5saXN0Vmlldy5zZXREYXRhU291cmNlKHRoaXMuZGF0YVNvdXJjZSl9LGV2ZW50czpbIm9wZW4iLCJjbG9zZSIsZywic2VsZWN0IiwiZmlsdGVyaW5nIiwiZGF0YUJpbmRpbmciLCJkYXRhQm91bmQiXSxzZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xpc3RPcHRpb25zKGUpO3AuZm4uc2V0T3B0aW9ucy5jYWxsKHRoaXMsZSksdGhpcy5saXN0Vmlldy5zZXRPcHRpb25zKHQpLHRoaXMuX2FjY2Vzc29ycygpLHRoaXMuX2FyaWEoKSx0aGlzLl9jbGVhckJ1dHRvbigpfSxfbGlzdE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIHM9cC5mbi5fbGlzdE9wdGlvbnMuY2FsbCh0aGlzLGUuZXh0ZW5kKHQse3NraXBVcGRhdGVPbkJpbmQ6ITB9KSk7cmV0dXJuIHMuZGF0YVZhbHVlRmllbGQ9cy5kYXRhVGV4dEZpZWxkLHMuc2VsZWN0ZWRJdGVtQ2hhbmdlPW51bGwsc30sX2VkaXRhYmxlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscz10LmVsZW1lbnQsaT10LndyYXBwZXIub2ZmKFYpLG89ZS5yZWFkb25seSxhPWUuZGlzYWJsZTtvfHxhPyhpLmFkZENsYXNzKGE/Yjp2KS5yZW1vdmVDbGFzcyhhP3Y6Yikscy5hdHRyKG0sYSkuYXR0cih5LG8pLmF0dHIoaCxhKS5hdHRyKGYsbykpOihpLmFkZENsYXNzKHYpLnJlbW92ZUNsYXNzKGIpLm9uKFQsdC5fdG9nZ2xlSG92ZXIpLHMucmVtb3ZlQXR0cihtKS5yZW1vdmVBdHRyKHkpLmF0dHIoaCwhMSkuYXR0cihmLCExKSl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUubGlzdFZpZXcuZm9jdXMoKTt0JiZ0LnJlbW92ZUNsYXNzKEMpLGUucG9wdXAuY2xvc2UoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbGVtZW50Lm9mZihWKSxlLl9jbGVhci5vZmYoViksZS53cmFwcGVyLm9mZihWKSxwLmZuLmRlc3Ryb3kuY2FsbChlKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcucmVmcmVzaCgpfSxzZWxlY3Q6ZnVuY3Rpb24oZSl7dGhpcy5fc2VsZWN0KGUpfSxzZWFyY2g6ZnVuY3Rpb24odCl7dmFyIHMsbz10aGlzLGE9by5vcHRpb25zLG49YS5pZ25vcmVDYXNlLGw9by5fc2VwYXJhdG9yKCksYz1vLmRhdGFTb3VyY2Uub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nO3Q9dHx8by5fYWNjZXNzb3IoKSxjbGVhclRpbWVvdXQoby5fdHlwaW5nVGltZW91dCksbCYmKHQ9aShyKG8uZWxlbWVudClbMF0sdCxsKSkscz10Lmxlbmd0aCwoIWEuZW5mb3JjZU1pbkxlbmd0aCYmIXN8fHM+PWEubWluTGVuZ3RoKSYmKG8uX29wZW49ITAsby5fbXV0ZShmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcudmFsdWUoW10pfSksby5fZmlsdGVyU291cmNlKHt2YWx1ZTpuP2M/dC50b0xvY2FsZUxvd2VyQ2FzZShjKTp0LnRvTG93ZXJDYXNlKCk6dCxvcGVyYXRvcjphLmZpbHRlcixmaWVsZDphLmRhdGFUZXh0RmllbGQsaWdub3JlQ2FzZTpufSksby5vbmUoImNsb3NlIixlLnByb3h5KG8uX3VuaWZ5U2VwYXJhdG9ycyxvKSkpLG8uX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxzdWdnZXN0OmZ1bmN0aW9uKGUpe3ZhciBpLG89dGhpcyxhPW8uX2xhc3Qsbj1vLl9hY2Nlc3NvcigpLGM9by5lbGVtZW50WzBdLHU9cihjKVswXSxfPW8uX3NlcGFyYXRvcigpLGg9bi5zcGxpdChfKSxmPXModSxuLF8pLGc9dSx2PW8uZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7cmV0dXJuIGE9PWQuQkFDS1NQQUNFfHxhPT1kLkRFTEVURT8oby5fbGFzdD10LHQpOihlPWV8fCIiLCJzdHJpbmciIT10eXBlb2YgZSYmKGVbMF0mJihlPW8uZGF0YVNvdXJjZS52aWV3KClbcC5pbkFycmF5KGVbMF0sby51bFswXSldKSxlPWU/by5fdGV4dChlKToiIiksdTw9MCYmKHU9KHY/bi50b0xvY2FsZUxvd2VyQ2FzZSh2KTpuLnRvTG93ZXJDYXNlKCkpLmluZGV4T2Yodj9lLnRvTG9jYWxlTG93ZXJDYXNlKHYpOmUudG9Mb3dlckNhc2UoKSkrMSksaT1uLnN1YnN0cmluZygwLHUpLmxhc3RJbmRleE9mKF8pLGk9aT4tMT91LShpK18ubGVuZ3RoKTp1LG49aFtmXS5zdWJzdHJpbmcoMCxpKSxlJiYoZT0iIitlLGk9KHY/ZS50b0xvY2FsZUxvd2VyQ2FzZSh2KTplLnRvTG93ZXJDYXNlKCkpLmluZGV4T2Yodj9uLnRvTG9jYWxlTG93ZXJDYXNlKHYpOm4udG9Mb3dlckNhc2UoKSksaT4tMSYmKGU9ZS5zdWJzdHJpbmcoaStuLmxlbmd0aCksZz11K2UubGVuZ3RoLG4rPWUpLF8mJiIiIT09aFtoLmxlbmd0aC0xXSYmaC5wdXNoKCIiKSksaFtmXT1uLG8uX2FjY2Vzc29yKGguam9pbihffHwiIikpLGM9PT1sKCkmJnIoYyx1LGcpLHQpfSx2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/dGhpcy5fYWNjZXNzb3IoKToodGhpcy5saXN0Vmlldy52YWx1ZShlKSx0aGlzLl9hY2Nlc3NvcihlKSx0aGlzLl9vbGQ9dGhpcy5fYWNjZXNzb3IoKSx0aGlzLl9vbGRUZXh0PXRoaXMuX2FjY2Vzc29yKCksdGhpcy5fdG9nZ2xlQ2xvc2VWaXNpYmlsaXR5KCksdCl9LF9jbGljazpmdW5jdGlvbihlKXt2YXIgcz1lLml0ZW0saT10aGlzLG89aS5lbGVtZW50LGE9aS5saXN0Vmlldy5kYXRhSXRlbUJ5SW5kZXgoaS5saXN0Vmlldy5nZXRFbGVtZW50SW5kZXgocykpO3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksaS5fYWN0aXZlPSEwLGkudHJpZ2dlcigic2VsZWN0Iix7ZGF0YUl0ZW06YSxpdGVtOnN9KT8oaS5jbG9zZSgpLHQpOihpLl9vbGRUZXh0PW8udmFsKCksaS5fc2VsZWN0KHMpLmRvbmUoZnVuY3Rpb24oKXtpLl9ibHVyKCkscihvLG8udmFsKCkubGVuZ3RoKX0pLHQpfSxfY2xlYXJUZXh0OmUubm9vcCxfcmVzZXRGb2N1c0l0ZW06ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0Rmlyc3Q/MDotMTt0aGlzLm9wdGlvbnMudmlydHVhbCYmdGhpcy5saXN0Vmlldy5zY3JvbGxUbygwKSx0aGlzLmxpc3RWaWV3LmZvY3VzKGUpfSxfbGlzdEJvdW5kOmZ1bmN0aW9uKCl7dmFyIGUscz10aGlzLGk9cy5wb3B1cCxvPXMub3B0aW9ucyxhPXMuZGF0YVNvdXJjZS5mbGF0VmlldygpLG49YS5sZW5ndGgscj1zLmRhdGFTb3VyY2UuX2dyb3VwLmxlbmd0aCxjPXMuZWxlbWVudFswXT09PWwoKTtzLl9yZW5kZXJGb290ZXIoKSxzLl9yZW5kZXJOb0RhdGEoKSxzLl90b2dnbGVOb0RhdGEoIW4pLHMuX3RvZ2dsZUhlYWRlcighIXImJiEhbikscy5fcmVzaXplUG9wdXAoKSxpLnBvc2l0aW9uKCksbiYmby5zdWdnZXN0JiZjJiZzLl9pbnB1dFZhbHVlKCkmJnMuc3VnZ2VzdChhWzBdKSxzLl9vcGVuJiYocy5fb3Blbj0hMSxlPXMuX2FsbG93T3BlbmluZygpPyJvcGVuIjoiY2xvc2UiLHMuX3R5cGluZ1RpbWVvdXQmJiFjJiYoZT0iY2xvc2UiKSxuJiYocy5fcmVzZXRGb2N1c0l0ZW0oKSxvLnZpcnR1YWwmJnMucG9wdXAudW5iaW5kKCJhY3RpdmF0ZSIscy5fcmVzZXRGb2N1c0l0ZW1IYW5kbGVyKS5vbmUoImFjdGl2YXRlIixzLl9yZXNldEZvY3VzSXRlbUhhbmRsZXIpKSxpW2VdKCkscy5fdHlwaW5nVGltZW91dD10KSxzLl90b3VjaFNjcm9sbGVyJiZzLl90b3VjaFNjcm9sbGVyLnJlc2V0KCkscy5faGlkZUJ1c3koKSxzLl9tYWtlVW5zZWxlY3RhYmxlKCkscy50cmlnZ2VyKCJkYXRhQm91bmQiKX0sX211dGU6ZnVuY3Rpb24oZSl7dGhpcy5fbXV0ZWQ9ITAsZS5jYWxsKHRoaXMpLHRoaXMuX211dGVkPSExfSxfbGlzdENoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2FjdGl2ZXx8dGhpcy5lbGVtZW50WzBdPT09bCgpO2UmJiF0aGlzLl9tdXRlZCYmdGhpcy5fc2VsZWN0VmFsdWUodGhpcy5saXN0Vmlldy5zZWxlY3RlZERhdGFJdGVtcygpWzBdKX0sX3NlbGVjdFZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NlcGFyYXRvcigpLHM9IiI7ZSYmKHM9dGhpcy5fdGV4dChlKSksbnVsbD09PXMmJihzPSIiKSx0JiYocz1vKHIodGhpcy5lbGVtZW50KVswXSx0aGlzLl9hY2Nlc3NvcigpLHMsdCx0aGlzLl9kZWZhdWx0U2VwYXJhdG9yKCkpKSx0aGlzLl9wcmV2PXMsdGhpcy5fYWNjZXNzb3IocyksdGhpcy5fcGxhY2Vob2xkZXIoKX0sX3VuaWZ5U2VwYXJhdG9yczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY2Nlc3Nvcih0aGlzLnZhbHVlKCkuc3BsaXQodGhpcy5fc2VwYXJhdG9yKCkpLmpvaW4odGhpcy5fZGVmYXVsdFNlcGFyYXRvcigpKSksdGhpc30sX3ByZXNlbGVjdDpmdW5jdGlvbihlLHQpe3RoaXMuX2lucHV0VmFsdWUodCksdGhpcy5fYWNjZXNzb3IoZSksdGhpcy5fb2xkPXRoaXMub2xkVGV4dD10aGlzLl9hY2Nlc3NvcigpLHRoaXMubGlzdFZpZXcuc2V0VmFsdWUoZSksdGhpcy5fcGxhY2Vob2xkZXIoKX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLl91bmlmeVNlcGFyYXRvcnMoKS52YWx1ZSgpLHM9dCE9PXAudW5pZnlUeXBlKGUuX29sZCx0eXBlb2YgdCksaT1zJiYhZS5fdHlwaW5nLG89ZS5fb2xkVGV4dCE9PXQ7ZS5fb2xkPXQsZS5fb2xkVGV4dD10LChpfHxvKSYmZS5lbGVtZW50LnRyaWdnZXIoZykscyYmZS50cmlnZ2VyKGcpLGUudHlwaW5nPSExLGUuX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxfYWNjZXNzb3I6ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcyxpPXMuZWxlbWVudFswXTtyZXR1cm4gZT09PXQ/KGU9aS52YWx1ZSxpLmNsYXNzTmFtZS5pbmRleE9mKCJrLXJlYWRvbmx5Iik+LTEmJmU9PT1zLm9wdGlvbnMucGxhY2Vob2xkZXI/IiI6ZSk6KGkudmFsdWU9bnVsbD09PWU/IiI6ZSxzLl9wbGFjZWhvbGRlcigpLHQpfSxfa2V5ZG93bjpmdW5jdGlvbihlKXt2YXIgdCxzLGk9dGhpcyxvPWUua2V5Q29kZSxhPWkubGlzdFZpZXcsbj1pLnBvcHVwLnZpc2libGUoKSxyPWEuZm9jdXMoKTtpZihpLl9sYXN0PW8sbz09PWQuRE9XTiluP3RoaXMuX21vdmUocj8iZm9jdXNOZXh0IjoiZm9jdXNGaXJzdCIpOmkudmFsdWUoKSYmaS5fZmlsdGVyU291cmNlKHt2YWx1ZTppLmlnbm9yZUNhc2U/aS52YWx1ZSgpLnRvTG93ZXJDYXNlKCk6aS52YWx1ZSgpLG9wZXJhdG9yOmkub3B0aW9ucy5maWx0ZXIsZmllbGQ6aS5vcHRpb25zLmRhdGFUZXh0RmllbGQsaWdub3JlQ2FzZTppLmlnbm9yZUNhc2V9KS5kb25lKGZ1bmN0aW9uKCl7aS5fYWxsb3dPcGVuaW5nKCkmJihpLl9yZXNldEZvY3VzSXRlbSgpLGkucG9wdXAub3BlbigpKX0pLGUucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKG89PT1kLlVQKW4mJnRoaXMuX21vdmUocj8iZm9jdXNQcmV2IjoiZm9jdXNMYXN0IiksZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYobz09PWQuSE9NRSl0aGlzLl9tb3ZlKCJmb2N1c0ZpcnN0Iik7ZWxzZSBpZihvPT09ZC5FTkQpdGhpcy5fbW92ZSgiZm9jdXNMYXN0Iik7ZWxzZSBpZihvPT09ZC5FTlRFUnx8bz09PWQuVEFCKXtpZihvPT09ZC5FTlRFUiYmbiYmZS5wcmV2ZW50RGVmYXVsdCgpLG4mJnIpe2lmKHQ9YS5kYXRhSXRlbUJ5SW5kZXgoYS5nZXRFbGVtZW50SW5kZXgocikpLGkudHJpZ2dlcigic2VsZWN0Iix7ZGF0YUl0ZW06dCxpdGVtOnJ9KSlyZXR1cm47dGhpcy5fc2VsZWN0KHIpfXRoaXMuX2JsdXIoKX1lbHNlIG89PT1kLkVTQz8obj9lLnByZXZlbnREZWZhdWx0KCk6aS5fY2xlYXJWYWx1ZSgpLGkuY2xvc2UoKSk6IWkucG9wdXAudmlzaWJsZSgpfHxvIT09ZC5QQUdFRE9XTiYmbyE9PWQuUEFHRVVQPyhpLnBvcHVwLl9ob3ZlcmVkPSEwLGkuX3NlYXJjaCgpKTooZS5wcmV2ZW50RGVmYXVsdCgpLHM9bz09PWQuUEFHRURPV04/MTotMSxhLnNjcm9sbFdpdGgocyphLnNjcmVlbkhlaWdodCgpKSl9LF9rZXlwcmVzczpmdW5jdGlvbigpe3RoaXMuX29sZFRleHQ9dGhpcy5lbGVtZW50LnZhbCgpLHRoaXMuX3R5cGluZz0hMH0sX21vdmU6ZnVuY3Rpb24oZSl7dGhpcy5saXN0Vmlld1tlXSgpLHRoaXMub3B0aW9ucy5zdWdnZXN0JiZ0aGlzLnN1Z2dlc3QodGhpcy5saXN0Vmlldy5mb2N1cygpKX0sX2hpZGVCdXN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQoZS5fYnVzeSksZS5fbG9hZGluZy5oaWRlKCksZS5lbGVtZW50LmF0dHIoImFyaWEtYnVzeSIsITEpLGUuX2J1c3k9bnVsbCxlLl9zaG93Q2xlYXIoKX0sX3Nob3dCdXN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9idXN5fHwoZS5fYnVzeT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5lbGVtZW50LmF0dHIoImFyaWEtYnVzeSIsITApLGUuX2xvYWRpbmcuc2hvdygpLGUuX2hpZGVDbGVhcigpfSwxMDApKX0sX3BsYWNlaG9sZGVyOmZ1bmN0aW9uKGUpe2lmKCFjKXt2YXIgcyxpPXRoaXMsbz1pLmVsZW1lbnQsYT1pLm9wdGlvbnMucGxhY2Vob2xkZXI7aWYoYSl7aWYocz1vLnZhbCgpLGU9PT10JiYoZT0hcyksZXx8KGE9cyE9PWE/czoiIikscz09PWkuX29sZCYmIWUpcmV0dXJuO28udG9nZ2xlQ2xhc3MoImstcmVhZG9ubHkiLGUpLnZhbChhKSxhfHxvWzBdIT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8cihvWzBdLDAsMCl9fX0sX3NlcGFyYXRvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5zZXBhcmF0b3I7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9SZWdFeHAoZS5qb2luKCJ8IiksImdpIik6ZX0sX2RlZmF1bHRTZXBhcmF0b3I6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuc2VwYXJhdG9yO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZVswXTplfSxfaW5wdXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQudmFsKCl9LF9zZWFyY2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2NsZWFyVGltZW91dChlLl90eXBpbmdUaW1lb3V0KSxlLl90eXBpbmdUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9wcmV2IT09ZS5fYWNjZXNzb3IoKSYmKGUuX3ByZXY9ZS5fYWNjZXNzb3IoKSxlLnNlYXJjaCgpKX0sZS5vcHRpb25zLmRlbGF5KX0sX3NlbGVjdDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0Ll9hY3RpdmU9ITAsdC5saXN0Vmlldy5zZWxlY3QoZSkuZG9uZShmdW5jdGlvbigpe3QuX2FjdGl2ZT0hMX0pfSxfbG9hZGVyOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZGluZz1lKCc8c3BhbiBjbGFzcz0iay1pY29uIGstaS1sb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lIj48L3NwYW4+JykuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KX0sX2NsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7cC5mbi5fY2xlYXJCdXR0b24uY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuY2xlYXJCdXR0b24mJih0aGlzLl9jbGVhci5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpLHRoaXMud3JhcHBlci5hZGRDbGFzcygiay1hdXRvY29tcGxldGUtY2xlYXJhYmxlIikpfSxfdG9nZ2xlSG92ZXI6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKGssIm1vdXNlZW50ZXIiPT09dC50eXBlKX0sX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eTpmdW5jdGlvbigpe3RoaXMudmFsdWUoKT90aGlzLl9zaG93Q2xlYXIoKTp0aGlzLl9oaWRlQ2xlYXIoKX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXt2YXIgdCxzPXRoaXMsaT1zLmVsZW1lbnQsbz1pWzBdO3Q9aS5wYXJlbnQoKSx0LmlzKCJzcGFuLmstd2lkZ2V0Iil8fCh0PWkud3JhcCgiPHNwYW4gLz4iKS5wYXJlbnQoKSksdC5hdHRyKCJ0YWJpbmRleCIsLTEpLHQuYXR0cigicm9sZSIsInByZXNlbnRhdGlvbiIpLHRbMF0uc3R5bGUuY3NzVGV4dD1vLnN0eWxlLmNzc1RleHQsaS5jc3Moe3dpZHRoOiIiLGhlaWdodDpvLnN0eWxlLmhlaWdodH0pLHMuX2ZvY3VzZWQ9cy5lbGVtZW50LHMud3JhcHBlcj10LmFkZENsYXNzKCJrLXdpZGdldCBrLWF1dG9jb21wbGV0ZSIpLmFkZENsYXNzKG8uY2xhc3NOYW1lKS5yZW1vdmVDbGFzcygiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIpLHMuX2lucHV0V3JhcHBlcj1lKHRbMF0pfSxfY2xlYXJWYWx1ZTpmdW5jdGlvbigpe3AuZm4uX2NsZWFyVmFsdWUuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQuZm9jdXMoKX19KTt1LnBsdWdpbihMKX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihlLHQscyl7KHN8fHQpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmF1dG9jb21wbGV0ZS5taW4uanMubWFwDQoNCi8qIQ0KICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCiFmdW5jdGlvbih0LGRlZmluZSl7ZGVmaW5lKCJrZW5kby5meC5taW4iLFsia2VuZG8uY29yZS5taW4iXSx0KX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIGkodC5jc3MoZSkpfWZ1bmN0aW9uIG4odCl7dmFyIGUsaT1bXTtmb3IoZSBpbiB0KWkucHVzaChlKTtyZXR1cm4gaX1mdW5jdGlvbiBzKHQpe2Zvcih2YXIgZSBpbiB0KUwuaW5kZXhPZihlKSE9LTEmJlEuaW5kZXhPZihlKT09LTEmJmRlbGV0ZSB0W2VdO3JldHVybiB0fWZ1bmN0aW9uIG8odCxlKXt2YXIgaSxyLG4scyxvPVtdLGE9e307Zm9yKHIgaW4gZSlpPXIudG9Mb3dlckNhc2UoKSxzPUgmJkwuaW5kZXhPZihpKSE9LTEsIUUuaGFzSFczRCYmcyYmUS5pbmRleE9mKGkpPT0tMT9kZWxldGUgZVtyXToobj1lW3JdLHM/by5wdXNoKHIrIigiK24rIikiKTphW3JdPW4pO3JldHVybiBvLmxlbmd0aCYmKGFbYXRdPW8uam9pbigiICIpKSxhfWZ1bmN0aW9uIGEodCxlKXt2YXIgcixuLHM7cmV0dXJuIEg/KHI9dC5jc3MoYXQpLHI9PUo/InNjYWxlIj09ZT8xOjA6KG49ci5tYXRjaChSZWdFeHAoZSsiXFxzKlxcKChbXFxkXFx3XFwuXSspIikpLHM9MCxuP3M9aShuWzFdKToobj1yLm1hdGNoKEkpfHxbMCwwLDAsMCwwXSxlPWUudG9Mb3dlckNhc2UoKSxBLnRlc3QoZSk/cz1wYXJzZUZsb2F0KG5bM10vblsyXSk6InRyYW5zbGF0ZXkiPT1lP3M9cGFyc2VGbG9hdChuWzRdL25bMl0pOiJzY2FsZSI9PWU/cz1wYXJzZUZsb2F0KG5bMl0pOiJyb3RhdGUiPT1lJiYocz1wYXJzZUZsb2F0KE1hdGguYXRhbjIoblsyXSxuWzFdKSkpKSxzKSk6cGFyc2VGbG9hdCh0LmNzcyhlKSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnN1YnN0cmluZygxKX1mdW5jdGlvbiBsKHQsZSl7dmFyIGk9aC5leHRlbmQoZSkscj1pLnByb3RvdHlwZS5kaXJlY3Rpb25zO1BbYyh0KV09aSxQLkVsZW1lbnQucHJvdG90eXBlW3RdPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuZXcgaSh0aGlzLmVsZW1lbnQsdCxlLHIsbil9LFQocixmdW5jdGlvbihlLHIpe1AuRWxlbWVudC5wcm90b3R5cGVbdCtjKHIpXT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBpKHRoaXMuZWxlbWVudCxyLHQsZSxuKX19KX1mdW5jdGlvbiBkKHQsaSxyLG4pe2wodCx7ZGlyZWN0aW9uczp2LHN0YXJ0VmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0YXJ0VmFsdWU9dCx0aGlzfSxlbmRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZW5kVmFsdWU9dCx0aGlzfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3VsZEhpZGV9LHByZXBhcmU6ZnVuY3Rpb24odCxzKXt2YXIgbyxhLGM9dGhpcyxsPSJvdXQiPT09dGhpcy5fZGlyZWN0aW9uLGQ9Yy5lbGVtZW50LmRhdGEoaSksdT0hKGlzTmFOKGQpfHxkPT1yKTtvPXU/ZDplIT09dGhpcy5fc3RhcnRWYWx1ZT90aGlzLl9zdGFydFZhbHVlOmw/cjpuLGE9ZSE9PXRoaXMuX2VuZFZhbHVlP3RoaXMuX2VuZFZhbHVlOmw/bjpyLHRoaXMuX3JldmVyc2U/KHRbaV09YSxzW2ldPW8pOih0W2ldPW8sc1tpXT1hKSxjLl9zaG91bGRIaWRlPXNbaV09PT1ufX0pfWZ1bmN0aW9uIHUodCxlKXt2YXIgaT1DLmRpcmVjdGlvbnNbZV0udmVydGljYWwscj10W2k/WTpYXSgpLzIrInB4IjtyZXR1cm4gX1tlXS5yZXBsYWNlKCIkc2l6ZSIscil9dmFyIGYscCxoLG0sdix4LF8sZyx5LGssYix3LEM9d2luZG93LmtlbmRvLFA9Qy5lZmZlY3RzLFQ9dC5lYWNoLE49dC5leHRlbmQsej10LnByb3h5LEU9Qy5zdXBwb3J0LFI9RS5icm93c2VyLEg9RS50cmFuc2Zvcm1zLEQ9RS50cmFuc2l0aW9ucyxPPXtzY2FsZTowLHNjYWxleDowLHNjYWxleTowLHNjYWxlM2Q6MH0sRj17dHJhbnNsYXRlOjAsdHJhbnNsYXRleDowLHRyYW5zbGF0ZXk6MCx0cmFuc2xhdGUzZDowfSxTPWUhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuem9vbSYmIUgsST0vbWF0cml4Mz9kP1xzKlwoLiosXHMqKFtcZFwuXC1dKylcdyo/LFxzKihbXGRcLlwtXSspXHcqPyxccyooW1xkXC5cLV0rKVx3Kj8sXHMqKFtcZFwuXC1dKylcdyo/L2kscT0vXigtP1tcZFwuXC1dKyk/W1x3XHNdKiw/XHMqKC0/W1xkXC5cLV0rKT9bXHdcc10qL2ksQT0vdHJhbnNsYXRleD8kL2ksVj0vKHpvb218ZmFkZXxleHBhbmQpKFx3KykvLE09Lyh6b29tfGZhZGV8ZXhwYW5kKS8sJD0vW3h5XSQvaSxMPVsicGVyc3BlY3RpdmUiLCJyb3RhdGUiLCJyb3RhdGV4Iiwicm90YXRleSIsInJvdGF0ZXoiLCJyb3RhdGUzZCIsInNjYWxlIiwic2NhbGV4Iiwic2NhbGV5Iiwic2NhbGV6Iiwic2NhbGUzZCIsInNrZXciLCJza2V3eCIsInNrZXd5IiwidHJhbnNsYXRlIiwidHJhbnNsYXRleCIsInRyYW5zbGF0ZXkiLCJ0cmFuc2xhdGV6IiwidHJhbnNsYXRlM2QiLCJtYXRyaXgiLCJtYXRyaXgzZCJdLFE9WyJyb3RhdGUiLCJzY2FsZSIsInNjYWxleCIsInNjYWxleSIsInNrZXciLCJza2V3eCIsInNrZXd5IiwidHJhbnNsYXRlIiwidHJhbnNsYXRleCIsInRyYW5zbGF0ZXkiLCJtYXRyaXgiXSxXPXtyb3RhdGU6ImRlZyIsc2NhbGU6IiIsc2tldzoicHgiLHRyYW5zbGF0ZToicHgifSxqPUguY3NzLEI9TWF0aC5yb3VuZCxVPSIiLEc9InB4IixKPSJub25lIixLPSJhdXRvIixYPSJ3aWR0aCIsWT0iaGVpZ2h0IixaPSJoaWRkZW4iLHR0PSJvcmlnaW4iLGV0PSJhYm9ydElkIixpdD0ib3ZlcmZsb3ciLHJ0PSJ0cmFuc2xhdGUiLG50PSJwb3NpdGlvbiIsc3Q9ImNvbXBsZXRlQ2FsbGJhY2siLG90PWorInRyYW5zaXRpb24iLGF0PWorInRyYW5zZm9ybSIsY3Q9aisiYmFja2ZhY2UtdmlzaWJpbGl0eSIsbHQ9aisicGVyc3BlY3RpdmUiLGR0PSIxNTAwcHgiLHV0PSJwZXJzcGVjdGl2ZSgiK2R0KyIpIixmdD17bGVmdDp7cmV2ZXJzZToicmlnaHQiLHByb3BlcnR5OiJsZWZ0Iix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV4Iix2ZXJ0aWNhbDohMSxtb2RpZmllcjotMX0scmlnaHQ6e3JldmVyc2U6ImxlZnQiLHByb3BlcnR5OiJsZWZ0Iix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV4Iix2ZXJ0aWNhbDohMSxtb2RpZmllcjoxfSxkb3duOntyZXZlcnNlOiJ1cCIscHJvcGVydHk6InRvcCIsdHJhbnNpdGlvbjoidHJhbnNsYXRleSIsdmVydGljYWw6ITAsbW9kaWZpZXI6MX0sdXA6e3JldmVyc2U6ImRvd24iLHByb3BlcnR5OiJ0b3AiLHRyYW5zaXRpb246InRyYW5zbGF0ZXkiLHZlcnRpY2FsOiEwLG1vZGlmaWVyOi0xfSx0b3A6e3JldmVyc2U6ImJvdHRvbSJ9LGJvdHRvbTp7cmV2ZXJzZToidG9wIn0sImluIjp7cmV2ZXJzZToib3V0Iixtb2RpZmllcjotMX0sb3V0OntyZXZlcnNlOiJpbiIsbW9kaWZpZXI6MX0sdmVydGljYWw6e3JldmVyc2U6InZlcnRpY2FsIn0saG9yaXpvbnRhbDp7cmV2ZXJzZToiaG9yaXpvbnRhbCJ9fTtDLmRpcmVjdGlvbnM9ZnQsTih0LmZuLHtrZW5kb1N0b3A6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRD9QLnN0b3BRdWV1ZSh0aGlzLHR8fCExLGV8fCExKTp0aGlzLnN0b3AodCxlKX19KSxIJiYhRCYmKFQoUSxmdW5jdGlvbihpLHIpe3QuZm5bcl09ZnVuY3Rpb24oaSl7aWYoZT09PWkpcmV0dXJuIGEodGhpcyxyKTt2YXIgbj10KHRoaXMpWzBdLHM9cisiKCIraStXW3IucmVwbGFjZSgkLCIiKV0rIikiO3JldHVybiBuLnN0eWxlLmNzc1RleHQuaW5kZXhPZihhdCk9PS0xP3QodGhpcykuY3NzKGF0LHMpOm4uc3R5bGUuY3NzVGV4dD1uLnN0eWxlLmNzc1RleHQucmVwbGFjZShSZWdFeHAocisiXFwoLio/XFwpIiwiaSIpLHMpLHRoaXN9LHQuZnguc3RlcFtyXT1mdW5jdGlvbihlKXt0KGUuZWxlbSlbcl0oZS5ub3cpfX0pLGY9dC5meC5wcm90b3R5cGUuY3VyLHQuZngucHJvdG90eXBlLmN1cj1mdW5jdGlvbigpe3JldHVybiBRLmluZGV4T2YodGhpcy5wcm9wKSE9LTE/cGFyc2VGbG9hdCh0KHRoaXMuZWxlbSlbdGhpcy5wcm9wXSgpKTpmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLEMudG9nZ2xlQ2xhc3M9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIGUmJihlPWUuc3BsaXQoIiAiKSxEJiYoaT1OKHtleGNsdXNpdmU6ImFsbCIsZHVyYXRpb246NDAwLGVhc2U6ImVhc2Utb3V0In0saSksdC5jc3Mob3QsaS5leGNsdXNpdmUrIiAiK2kuZHVyYXRpb24rIm1zICIraS5lYXNlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jc3Mob3QsIiIpLmNzcyhZKX0saS5kdXJhdGlvbikpLFQoZSxmdW5jdGlvbihlLGkpe3QudG9nZ2xlQ2xhc3MoaSxyKX0pKSx0fSxDLnBhcnNlRWZmZWN0cz1mdW5jdGlvbih0LGUpe3ZhciBpPXt9O3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9UKHQuc3BsaXQoIiAiKSxmdW5jdGlvbih0LHIpe3ZhciBuPSFNLnRlc3Qocikscz1yLnJlcGxhY2UoVixmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUrIjoiK2kudG9Mb3dlckNhc2UoKX0pLG89cy5zcGxpdCgiOiIpLGE9b1sxXSxjPXt9O28ubGVuZ3RoPjEmJihjLmRpcmVjdGlvbj1lJiZuP2Z0W2FdLnJldmVyc2U6YSksaVtvWzBdXT1jfSk6VCh0LGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZGlyZWN0aW9uO3ImJmUmJiFNLnRlc3QodCkmJih0aGlzLmRpcmVjdGlvbj1mdFtyXS5yZXZlcnNlKSxpW3RdPXRoaXN9KSxpfSxEJiZOKFAse3RyYW5zaXRpb246ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLGEsYyxsLGQ9MCx1PWUuZGF0YSgia2V5cyIpfHxbXTtyPU4oe2R1cmF0aW9uOjIwMCxlYXNlOiJlYXNlLW91dCIsY29tcGxldGU6bnVsbCxleGNsdXNpdmU6ImFsbCJ9LHIpLGM9ITEsbD1mdW5jdGlvbigpe2N8fChjPSEwLGEmJihjbGVhclRpbWVvdXQoYSksYT1udWxsKSxlLnJlbW92ZURhdGEoZXQpLmRlcXVldWUoKS5jc3Mob3QsIiIpLmNzcyhvdCksci5jb21wbGV0ZS5jYWxsKGUpKX0sci5kdXJhdGlvbj10LmZ4P3QuZnguc3BlZWRzW3IuZHVyYXRpb25dfHxyLmR1cmF0aW9uOnIuZHVyYXRpb24scz1vKGUsaSksdC5tZXJnZSh1LG4ocykpLHQuaGFzT3duUHJvcGVydHkoInVuaXF1ZVNvcnQiKT9lLmRhdGEoImtleXMiLHQudW5pcXVlU29ydCh1KSkuaGVpZ2h0KCk6ZS5kYXRhKCJrZXlzIix0LnVuaXF1ZSh1KSkuaGVpZ2h0KCksZS5jc3Mob3Qsci5leGNsdXNpdmUrIiAiK3IuZHVyYXRpb24rIm1zICIrci5lYXNlKS5jc3Mob3QpLGUuY3NzKHMpLmNzcyhhdCksRC5ldmVudCYmKGUub25lKEQuZXZlbnQsbCksMCE9PXIuZHVyYXRpb24mJihkPTUwMCkpLGE9c2V0VGltZW91dChsLHIuZHVyYXRpb24rZCksZS5kYXRhKGV0LGEpLGUuZGF0YShzdCxsKX0sc3RvcFF1ZXVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixuPXQuZGF0YSgia2V5cyIpLHM9IWkmJm4sbz10LmRhdGEoc3QpO3JldHVybiBzJiYocj1DLmdldENvbXB1dGVkU3R5bGVzKHRbMF0sbikpLG8mJm8oKSxzJiZ0LmNzcyhyKSx0LnJlbW92ZURhdGEoImtleXMiKS5zdG9wKGUpfX0pLHA9Qy5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2kuZWxlbWVudD10LGkuZWZmZWN0cz1bXSxpLm9wdGlvbnM9ZSxpLnJlc3RvcmU9W119LHJ1bjpmdW5jdGlvbihlKXt2YXIgaSxyLG4sYSxjLGwsZCx1PXRoaXMsZj1lLmxlbmd0aCxwPXUuZWxlbWVudCxoPXUub3B0aW9ucyxtPXQuRGVmZXJyZWQoKSx2PXt9LHg9e307Zm9yKHUuZWZmZWN0cz1lLG0uZG9uZSh0LnByb3h5KHUsImNvbXBsZXRlIikpLHAuZGF0YSgiYW5pbWF0aW5nIiwhMCkscj0wO3I8ZjtyKyspZm9yKGk9ZVtyXSxpLnNldFJldmVyc2UoaC5yZXZlcnNlKSxpLnNldE9wdGlvbnMoaCksdS5hZGRSZXN0b3JlUHJvcGVydGllcyhpLnJlc3RvcmUpLGkucHJlcGFyZSh2LHgpLGM9aS5jaGlsZHJlbigpLG49MCxsPWMubGVuZ3RoO248bDtuKyspY1tuXS5kdXJhdGlvbihoLmR1cmF0aW9uKS5ydW4oKTtmb3IoZCBpbiBoLmVmZmVjdHMpTih4LGguZWZmZWN0c1tkXS5wcm9wZXJ0aWVzKTtmb3IocC5pcygiOnZpc2libGUiKXx8Tih2LHtkaXNwbGF5OnAuZGF0YSgib2xkZGlzcGxheSIpfHwiYmxvY2sifSksSCYmIWgucmVzZXQmJihhPXAuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIiksYSYmKHY9TihhLHYpKSksdj1vKHAsdiksSCYmIUQmJih2PXModikpLHAuY3NzKHYpLmNzcyhhdCkscj0wO3I8ZjtyKyspZVtyXS5zZXR1cCgpO3JldHVybiBoLmluaXQmJmguaW5pdCgpLHAuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIix4KSxQLmFuaW1hdGUocCx4LE4oe30saCx7Y29tcGxldGU6bS5yZXNvbHZlfSkpLG0ucHJvbWlzZSgpfSxzdG9wOmZ1bmN0aW9uKCl7dCh0aGlzLmVsZW1lbnQpLmtlbmRvU3RvcCghMCwhMCl9LGFkZFJlc3RvcmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXRoaXMuZWxlbWVudCxyPTAsbj10Lmxlbmd0aDtyPG47cisrKWU9dFtyXSx0aGlzLnJlc3RvcmUucHVzaChlKSxpLmRhdGEoZSl8fGkuZGF0YShlLGkuY3NzKGUpKX0scmVzdG9yZUNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHI9dGhpcy5lbGVtZW50O2Zvcih0PTAsZT10aGlzLnJlc3RvcmUubGVuZ3RoO3Q8ZTt0KyspaT10aGlzLnJlc3RvcmVbdF0sci5jc3MoaSxyLmRhdGEoaSkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsaT0wLHI9ZS5lbGVtZW50LG49ZS5vcHRpb25zLHM9ZS5lZmZlY3RzLG89cy5sZW5ndGg7Zm9yKHIucmVtb3ZlRGF0YSgiYW5pbWF0aW5nIikuZGVxdWV1ZSgpLG4uaGlkZSYmci5kYXRhKCJvbGRkaXNwbGF5IixyLmNzcygiZGlzcGxheSIpKS5oaWRlKCksdGhpcy5yZXN0b3JlQ2FsbGJhY2soKSxTJiYhSCYmc2V0VGltZW91dCh0LnByb3h5KHRoaXMsInJlc3RvcmVDYWxsYmFjayIpLDApO2k8bztpKyspc1tpXS50ZWFyZG93bigpO24uY29tcGxldGVDYWxsYmFjayYmbi5jb21wbGV0ZUNhbGxiYWNrKHIpfX0pLFAucHJvbWlzZT1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbixzPVtdLG89bmV3IHAodCxlKSxhPUMucGFyc2VFZmZlY3RzKGUuZWZmZWN0cyk7ZS5lZmZlY3RzPWE7Zm9yKG4gaW4gYSlpPVBbYyhuKV0saSYmKHI9bmV3IGkodCxhW25dLmRpcmVjdGlvbikscy5wdXNoKHIpKTtzWzBdP28ucnVuKHMpOih0LmlzKCI6dmlzaWJsZSIpfHx0LmNzcyh7ZGlzcGxheTp0LmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLmNzcygiZGlzcGxheSIpLGUuaW5pdCYmZS5pbml0KCksdC5kZXF1ZXVlKCksby5jb21wbGV0ZSgpKX0sTihQLHthbmltYXRlOmZ1bmN0aW9uKGksbixvKXt2YXIgYT1vLnRyYW5zaXRpb24hPT0hMTtkZWxldGUgby50cmFuc2l0aW9uLEQmJiJ0cmFuc2l0aW9uImluIFAmJmE/UC50cmFuc2l0aW9uKGksbixvKTpIP2kuYW5pbWF0ZShzKG4pLHtxdWV1ZTohMSxzaG93OiExLGhpZGU6ITEsZHVyYXRpb246by5kdXJhdGlvbixjb21wbGV0ZTpvLmNvbXBsZXRlfSk6aS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxzPXt9O1QoTCxmdW5jdGlvbih0LG8pe3ZhciBhLGMsbCxkLHUsZixwLGg9bj9uW29dKyIgIjpudWxsO2gmJihjPW4sbyBpbiBPJiZuW29dIT09ZT8oYT1oLm1hdGNoKHEpLEgmJk4oYyx7c2NhbGU6K2FbMF19KSk6byBpbiBGJiZuW29dIT09ZSYmKGw9aS5jc3MobnQpLGQ9ImFic29sdXRlIj09bHx8ImZpeGVkIj09bCxpLmRhdGEocnQpfHwoZD9pLmRhdGEocnQse3RvcDpyKGksInRvcCIpfHwwLGxlZnQ6cihpLCJsZWZ0Iil8fDAsYm90dG9tOnIoaSwiYm90dG9tIikscmlnaHQ6cihpLCJyaWdodCIpfSk6aS5kYXRhKHJ0LHt0b3A6cihpLCJtYXJnaW5Ub3AiKXx8MCxsZWZ0OnIoaSwibWFyZ2luTGVmdCIpfHwwfSkpLHU9aS5kYXRhKHJ0KSxhPWgubWF0Y2gocSksYSYmKGY9bz09cnQrInkiPzA6K2FbMV0scD1vPT1ydCsieSI/K2FbMV06K2FbMl0sZD8oaXNOYU4odS5yaWdodCk/aXNOYU4oZil8fE4oYyx7bGVmdDp1LmxlZnQrZn0pOmlzTmFOKGYpfHxOKGMse3JpZ2h0OnUucmlnaHQtZn0pLGlzTmFOKHUuYm90dG9tKT9pc05hTihwKXx8TihjLHt0b3A6dS50b3ArcH0pOmlzTmFOKHApfHxOKGMse2JvdHRvbTp1LmJvdHRvbS1wfSkpOihpc05hTihmKXx8TihjLHttYXJnaW5MZWZ0OnUubGVmdCtmfSksaXNOYU4ocCl8fE4oYyx7bWFyZ2luVG9wOnUudG9wK3B9KSkpKSwhSCYmInNjYWxlIiE9byYmbyBpbiBjJiZkZWxldGUgY1tvXSxjJiZOKHMsYykpfSksUi5tc2llJiZkZWxldGUgcy5zY2FsZSxpLmFuaW1hdGUocyx7cXVldWU6ITEsc2hvdzohMSxoaWRlOiExLGR1cmF0aW9uOm8uZHVyYXRpb24sY29tcGxldGU6by5jb21wbGV0ZX0pfSl9fSksUC5hbmltYXRlZFByb21pc2U9UC5wcm9taXNlLGg9Qy5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2kuZWxlbWVudD10LGkuX2RpcmVjdGlvbj1lLGkub3B0aW9ucz17fSxpLl9hZGRpdGlvbmFsRWZmZWN0cz1bXSxpLnJlc3RvcmV8fChpLnJlc3RvcmU9W10pfSxyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2U9ITAsdGhpcy5ydW4oKX0scGxheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXZlcnNlPSExLHRoaXMucnVuKCl9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkaXRpb25hbEVmZmVjdHMucHVzaCh0KSx0aGlzfSxkaXJlY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RpcmVjdGlvbj10LHRoaXN9LGR1cmF0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kdXJhdGlvbj10LHRoaXN9LGNvbXBvc2l0ZVJ1bjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgcCh0LmVsZW1lbnQse3JldmVyc2U6dC5fcmV2ZXJzZSxkdXJhdGlvbjp0Ll9kdXJhdGlvbn0pLGk9dC5fYWRkaXRpb25hbEVmZmVjdHMuY29uY2F0KFt0XSk7cmV0dXJuIGUucnVuKGkpfSxydW46ZnVuY3Rpb24oKXtpZih0aGlzLl9hZGRpdGlvbmFsRWZmZWN0cyYmdGhpcy5fYWRkaXRpb25hbEVmZmVjdHNbMF0pcmV0dXJuIHRoaXMuY29tcG9zaXRlUnVuKCk7dmFyIGUsaSxyPXRoaXMsbj1yLmVsZW1lbnQsYT0wLGM9ci5yZXN0b3JlLGw9Yy5sZW5ndGgsZD10LkRlZmVycmVkKCksdT17fSxmPXt9LHA9ci5jaGlsZHJlbigpLGg9cC5sZW5ndGg7Zm9yKGQuZG9uZSh0LnByb3h5KHIsIl9jb21wbGV0ZSIpKSxuLmRhdGEoImFuaW1hdGluZyIsITApLGE9MDthPGw7YSsrKWU9Y1thXSxuLmRhdGEoZSl8fG4uZGF0YShlLG4uY3NzKGUpKTtmb3IoYT0wO2E8aDthKyspcFthXS5kdXJhdGlvbihyLl9kdXJhdGlvbikucnVuKCk7cmV0dXJuIHIucHJlcGFyZSh1LGYpLG4uaXMoIjp2aXNpYmxlIil8fE4odSx7ZGlzcGxheTpuLmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLEgmJihpPW4uZGF0YSgidGFyZ2V0VHJhbnNmb3JtIiksaSYmKHU9TihpLHUpKSksdT1vKG4sdSksSCYmIUQmJih1PXModSkpLG4uY3NzKHUpLmNzcyhhdCksci5zZXR1cCgpLG4uZGF0YSgidGFyZ2V0VHJhbnNmb3JtIixmKSxQLmFuaW1hdGUobixmLHtkdXJhdGlvbjpyLl9kdXJhdGlvbixjb21wbGV0ZTpkLnJlc29sdmV9KSxkLnByb21pc2UoKX0sc3RvcDpmdW5jdGlvbigpe3ZhciBlPTAsaT10aGlzLmNoaWxkcmVuKCkscj1pLmxlbmd0aDtmb3IoZT0wO2U8cjtlKyspaVtlXS5zdG9wKCk7cmV0dXJuIHQodGhpcy5lbGVtZW50KS5rZW5kb1N0b3AoITAsITApLHRoaXN9LHJlc3RvcmVDYWxsYmFjazpmdW5jdGlvbigpe3ZhciB0LGUsaSxyPXRoaXMuZWxlbWVudDtmb3IodD0wLGU9dGhpcy5yZXN0b3JlLmxlbmd0aDt0PGU7dCsrKWk9dGhpcy5yZXN0b3JlW3RdLHIuY3NzKGksci5kYXRhKGkpKX0sX2NvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPWUuZWxlbWVudDtpLnJlbW92ZURhdGEoImFuaW1hdGluZyIpLmRlcXVldWUoKSxlLnJlc3RvcmVDYWxsYmFjaygpLGUuc2hvdWxkSGlkZSgpJiZpLmRhdGEoIm9sZGRpc3BsYXkiLGkuY3NzKCJkaXNwbGF5IikpLmhpZGUoKSxTJiYhSCYmc2V0VGltZW91dCh0LnByb3h5KGUsInJlc3RvcmVDYWxsYmFjayIpLDApLGUudGVhcmRvd24oKX0sc2V0T3B0aW9uczpmdW5jdGlvbih0KXtOKCEwLHRoaXMub3B0aW9ucyx0KX0sY2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm5bXX0sc2hvdWxkSGlkZTp0Lm5vb3Asc2V0dXA6dC5ub29wLHByZXBhcmU6dC5ub29wLHRlYXJkb3duOnQubm9vcCxkaXJlY3Rpb25zOltdLHNldFJldmVyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JldmVyc2U9dCx0aGlzfX0pLG09WyJsZWZ0IiwicmlnaHQiLCJ1cCIsImRvd24iXSx2PVsiaW4iLCJvdXQiXSxsKCJzbGlkZUluIix7ZGlyZWN0aW9uczptLGRpdmlzb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXZpc29yPXQsdGhpc30scHJlcGFyZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dGhpcyxuPXIuZWxlbWVudCxzPUMuX291dGVyV2lkdGgsbz1DLl9vdXRlckhlaWdodCxhPWZ0W3IuX2RpcmVjdGlvbl0sYz0tYS5tb2RpZmllciooYS52ZXJ0aWNhbD9vKG4pOnMobikpLGw9Yy8oci5vcHRpb25zJiZyLm9wdGlvbnMuZGl2aXNvcnx8MSkrRyxkPSIwcHgiO3IuX3JldmVyc2UmJihpPXQsdD1lLGU9aSksSD8odFthLnRyYW5zaXRpb25dPWwsZVthLnRyYW5zaXRpb25dPWQpOih0W2EucHJvcGVydHldPWwsZVthLnByb3BlcnR5XT1kKX19KSxsKCJ0aWxlIix7ZGlyZWN0aW9uczptLGluaXQ6ZnVuY3Rpb24odCxlLGkpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLHQsZSksdGhpcy5vcHRpb25zPXtwcmV2aW91czppfX0scHJldmlvdXNEaXZpc29yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucHJldmlvdXNEaXZpc29yPXQsdGhpc30sY2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcmV2ZXJzZSxpPXQub3B0aW9ucy5wcmV2aW91cyxyPXQub3B0aW9ucy5wcmV2aW91c0Rpdmlzb3J8fDEsbj10Ll9kaXJlY3Rpb24scz1bQy5meCh0LmVsZW1lbnQpLnNsaWRlSW4obikuc2V0UmV2ZXJzZShlKV07cmV0dXJuIGkmJnMucHVzaChDLmZ4KGkpLnNsaWRlSW4oZnRbbl0ucmV2ZXJzZSkuZGl2aXNvcihyKS5zZXRSZXZlcnNlKCFlKSksc319KSxkKCJmYWRlIiwib3BhY2l0eSIsMSwwKSxkKCJ6b29tIiwic2NhbGUiLDEsLjAxKSxsKCJzbGlkZU1hcmdpbiIse3ByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXRoaXMsbj1yLmVsZW1lbnQscz1yLm9wdGlvbnMsbz1uLmRhdGEodHQpLGE9cy5vZmZzZXQsYz1yLl9yZXZlcnNlO2N8fG51bGwhPT1vfHxuLmRhdGEodHQscGFyc2VGbG9hdChuLmNzcygibWFyZ2luLSIrcy5heGlzKSkpLGk9bi5kYXRhKHR0KXx8MCxlWyJtYXJnaW4tIitzLmF4aXNdPWM/aTppK2F9fSksbCgic2xpZGVUbyIse3ByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9aS5lbGVtZW50LG49aS5vcHRpb25zLHM9bi5vZmZzZXQuc3BsaXQoIiwiKSxvPWkuX3JldmVyc2U7SD8oZS50cmFuc2xhdGV4PW8/MDpzWzBdLGUudHJhbnNsYXRleT1vPzA6c1sxXSk6KGUubGVmdD1vPzA6c1swXSxlLnRvcD1vPzA6c1sxXSksci5jc3MoImxlZnQiKX19KSxsKCJleHBhbmQiLHtkaXJlY3Rpb25zOlsiaG9yaXpvbnRhbCIsInZlcnRpY2FsIl0scmVzdG9yZTpbaXRdLHByZXBhcmU6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzLG49ci5lbGVtZW50LHM9ci5vcHRpb25zLG89ci5fcmV2ZXJzZSxhPSJ2ZXJ0aWNhbCI9PT1yLl9kaXJlY3Rpb24/WTpYLGM9blswXS5zdHlsZVthXSxsPW4uZGF0YShhKSxkPXBhcnNlRmxvYXQobHx8YyksdT1CKG4uY3NzKGEsSylbYV0oKSk7dC5vdmVyZmxvdz1aLGQ9cyYmcy5yZXNldD91fHxkOmR8fHUsaVthXT0obz8wOmQpK0csdFthXT0obz9kOjApK0csbD09PWUmJm4uZGF0YShhLGMpfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2V9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuZWxlbWVudCxpPSJ2ZXJ0aWNhbCI9PT10Ll9kaXJlY3Rpb24/WTpYLHI9ZS5kYXRhKGkpO3IhPUsmJnIhPT1VfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5jc3MoaSxLKS5jc3MoaSl9LDApfX0pLHg9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbWFyZ2luTGVmdDowLG1hcmdpblRvcDowLHNjYWxlOjF9LGwoInRyYW5zZmVyIix7aW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuZWxlbWVudD10LHRoaXMub3B0aW9ucz17dGFyZ2V0OmV9LHRoaXMucmVzdG9yZT1bXX0sc2V0dXA6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSl9LHByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9aS5lbGVtZW50LG49UC5ib3gocikscz1QLmJveChpLm9wdGlvbnMudGFyZ2V0KSxvPWEociwic2NhbGUiKSxjPVAuZmlsbFNjYWxlKHMsbiksbD1QLnRyYW5zZm9ybU9yaWdpbihzLG4pO04odCx4KSxlLnNjYWxlPTEsci5jc3MoYXQsInNjYWxlKDEpIikuY3NzKGF0KSxyLmNzcyhhdCwic2NhbGUoIitvKyIpIiksdC50b3A9bi50b3AsdC5sZWZ0PW4ubGVmdCx0LnRyYW5zZm9ybU9yaWdpbj1sLngrRysiICIrbC55K0csaS5fcmV2ZXJzZT90LnNjYWxlPWM6ZS5zY2FsZT1jfX0pLF89e3RvcDoicmVjdChhdXRvIGF1dG8gJHNpemUgYXV0bykiLGJvdHRvbToicmVjdCgkc2l6ZSBhdXRvIGF1dG8gYXV0bykiLGxlZnQ6InJlY3QoYXV0byAkc2l6ZSBhdXRvIGF1dG8pIixyaWdodDoicmVjdChhdXRvIGF1dG8gYXV0byAkc2l6ZSkifSxnPXt0b3A6e3N0YXJ0OiJyb3RhdGV4KDBkZWcpIixlbmQ6InJvdGF0ZXgoMTgwZGVnKSJ9LGJvdHRvbTp7c3RhcnQ6InJvdGF0ZXgoLTE4MGRlZykiLGVuZDoicm90YXRleCgwZGVnKSJ9LGxlZnQ6e3N0YXJ0OiJyb3RhdGV5KDBkZWcpIixlbmQ6InJvdGF0ZXkoLTE4MGRlZykifSxyaWdodDp7c3RhcnQ6InJvdGF0ZXkoMTgwZGVnKSIsZW5kOiJyb3RhdGV5KDBkZWcpIn19LGwoInR1cm5pbmdQYWdlIix7ZGlyZWN0aW9uczptLGluaXQ6ZnVuY3Rpb24odCxlLGkpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLHQsZSksdGhpcy5fY29udGFpbmVyPWl9LHByZXBhcmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9aS5fcmV2ZXJzZSxuPXI/ZnRbaS5fZGlyZWN0aW9uXS5yZXZlcnNlOmkuX2RpcmVjdGlvbixzPWdbbl07dC56SW5kZXg9MSxpLl9jbGlwSW5IYWxmJiYodC5jbGlwPXUoaS5fY29udGFpbmVyLEMuZGlyZWN0aW9uc1tuXS5yZXZlcnNlKSksdFtjdF09WixlW2F0XT11dCsocj9zLnN0YXJ0OnMuZW5kKSx0W2F0XT11dCsocj9zLmVuZDpzLnN0YXJ0KX0sc2V0dXA6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIuYXBwZW5kKHRoaXMuZWxlbWVudCl9LGZhY2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZhY2U9dCx0aGlzfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuX3JldmVyc2UsaT10Ll9mYWNlO3JldHVybiBlJiYhaXx8IWUmJml9LGNsaXBJbkhhbGY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NsaXBJbkhhbGY9dCx0aGlzfSx0ZW1wb3Jhcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ0ZW1wLXBhZ2UiKSx0aGlzfX0pLGwoInN0YXRpY1BhZ2UiLHtkaXJlY3Rpb25zOm0saW5pdDpmdW5jdGlvbih0LGUsaSl7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsdCxlKSx0aGlzLl9jb250YWluZXI9aX0scmVzdG9yZTpbImNsaXAiXSxwcmVwYXJlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPWkuX3JldmVyc2U/ZnRbaS5fZGlyZWN0aW9uXS5yZXZlcnNlOmkuX2RpcmVjdGlvbjt0LmNsaXA9dShpLl9jb250YWluZXIsciksdC5vcGFjaXR5PS45OTksZS5vcGFjaXR5PTF9LHNob3VsZEhpZGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcmV2ZXJzZSxpPXQuX2ZhY2U7cmV0dXJuIGUmJiFpfHwhZSYmaX0sZmFjZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmFjZT10LHRoaXN9fSksbCgicGFnZXR1cm4iLHtkaXJlY3Rpb25zOlsiaG9yaXpvbnRhbCIsInZlcnRpY2FsIl0saW5pdDpmdW5jdGlvbih0LGUsaSxyKXtoLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyx0LGUpLHRoaXMub3B0aW9ucz17fSx0aGlzLm9wdGlvbnMuZmFjZT1pLHRoaXMub3B0aW9ucy5iYWNrPXJ9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9ZS5vcHRpb25zLHI9Imhvcml6b250YWwiPT09ZS5fZGlyZWN0aW9uPyJsZWZ0IjoidG9wIixuPUMuZGlyZWN0aW9uc1tyXS5yZXZlcnNlLHM9ZS5fcmV2ZXJzZSxvPWkuZmFjZS5jbG9uZSghMCkucmVtb3ZlQXR0cigiaWQiKSxhPWkuYmFjay5jbG9uZSghMCkucmVtb3ZlQXR0cigiaWQiKSxjPWUuZWxlbWVudDtyZXR1cm4gcyYmKHQ9cixyPW4sbj10KSxbQy5meChpLmZhY2UpLnN0YXRpY1BhZ2UocixjKS5mYWNlKCEwKS5zZXRSZXZlcnNlKHMpLEMuZngoaS5iYWNrKS5zdGF0aWNQYWdlKG4sYykuc2V0UmV2ZXJzZShzKSxDLmZ4KG8pLnR1cm5pbmdQYWdlKHIsYykuZmFjZSghMCkuY2xpcEluSGFsZighMCkudGVtcG9yYXJ5KCkuc2V0UmV2ZXJzZShzKSxDLmZ4KGEpLnR1cm5pbmdQYWdlKG4sYykuY2xpcEluSGFsZighMCkudGVtcG9yYXJ5KCkuc2V0UmV2ZXJzZShzKV19LHByZXBhcmU6ZnVuY3Rpb24odCxlKXt0W2x0XT1kdCx0LnRyYW5zZm9ybVN0eWxlPSJwcmVzZXJ2ZS0zZCIsdC5vcGFjaXR5PS45OTksZS5vcGFjaXR5PTF9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmZpbmQoIi50ZW1wLXBhZ2UiKS5yZW1vdmUoKX19KSxsKCJmbGlwIix7ZGlyZWN0aW9uczpbImhvcml6b250YWwiLCJ2ZXJ0aWNhbCJdLGluaXQ6ZnVuY3Rpb24odCxlLGkscil7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsdCxlKSx0aGlzLm9wdGlvbnM9e30sdGhpcy5vcHRpb25zLmZhY2U9aSx0aGlzLm9wdGlvbnMuYmFjaz1yfSxjaGlsZHJlbjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPWUub3B0aW9ucyxyPSJob3Jpem9udGFsIj09PWUuX2RpcmVjdGlvbj8ibGVmdCI6InRvcCIsbj1DLmRpcmVjdGlvbnNbcl0ucmV2ZXJzZSxzPWUuX3JldmVyc2Usbz1lLmVsZW1lbnQ7cmV0dXJuIHMmJih0PXIscj1uLG49dCksW0MuZngoaS5mYWNlKS50dXJuaW5nUGFnZShyLG8pLmZhY2UoITApLnNldFJldmVyc2UocyksQy5meChpLmJhY2spLnR1cm5pbmdQYWdlKG4sbykuc2V0UmV2ZXJzZShzKV19LHByZXBhcmU6ZnVuY3Rpb24odCl7dFtsdF09ZHQsdC50cmFuc2Zvcm1TdHlsZT0icHJlc2VydmUtM2QifX0pLHk9IUUubW9iaWxlT1MuYW5kcm9pZCxrPSIua20tdG91Y2gtc2Nyb2xsYmFyLCAua20tYWN0aW9uc2hlZXQtd3JhcHBlciIsbCgicmVwbGFjZSIse19iZWZvcmU6dC5ub29wLF9hZnRlcjp0Lm5vb3AsaW5pdDpmdW5jdGlvbihlLGkscil7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsZSksdGhpcy5fcHJldmlvdXM9dChpKSx0aGlzLl90cmFuc2l0aW9uQ2xhc3M9cn0sZHVyYXRpb246ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiVGhlIHJlcGxhY2UgZWZmZWN0IGRvZXMgbm90IHN1cHBvcnQgZHVyYXRpb24gc2V0dGluZzsgdGhlIGVmZmVjdCBkdXJhdGlvbiBtYXkgYmUgY3VzdG9taXplZCB0aHJvdWdoIHRoZSB0cmFuc2l0aW9uIGNsYXNzIHJ1bGUiKX0sYmVmb3JlVHJhbnNpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYmVmb3JlPXQsdGhpc30sYWZ0ZXJUcmFuc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZnRlcj10LHRoaXN9LF9ib3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKS5hZGQodGhpcy5fZWxlbWVudCkuYWRkKHRoaXMuX3ByZXZpb3VzKX0sX2NvbnRhaW5lckNsYXNzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGlyZWN0aW9uLGU9ImstZnggay1meC1zdGFydCBrLWZ4LSIrdGhpcy5fdHJhbnNpdGlvbkNsYXNzO3JldHVybiB0JiYoZSs9IiBrLWZ4LSIrdCksdGhpcy5fcmV2ZXJzZSYmKGUrPSIgay1meC1yZXZlcnNlIiksZX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7aWYoISghdGhpcy5kZWZlcnJlZHx8ZSYmdChlLnRhcmdldCkuaXMoaykpKXt2YXIgaT10aGlzLmNvbnRhaW5lcjtpLnJlbW92ZUNsYXNzKCJrLWZ4LWVuZCIpLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lckNsYXNzKCkpLm9mZihELmV2ZW50LHRoaXMuY29tcGxldGVQcm94eSksdGhpcy5fcHJldmlvdXMuaGlkZSgpLnJlbW92ZUNsYXNzKCJrLWZ4LWN1cnJlbnQiKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoImstZngtbmV4dCIpLHkmJmkuY3NzKGl0LCIiKSx0aGlzLmlzQWJzb2x1dGV8fHRoaXMuX2JvdGgoKS5jc3MobnQsIiIpLHRoaXMuZGVmZXJyZWQucmVzb2x2ZSgpLGRlbGV0ZSB0aGlzLmRlZmVycmVkfX0scnVuOmZ1bmN0aW9uKCl7aWYodGhpcy5fYWRkaXRpb25hbEVmZmVjdHMmJnRoaXMuX2FkZGl0aW9uYWxFZmZlY3RzWzBdKXJldHVybiB0aGlzLmNvbXBvc2l0ZVJ1bigpO3ZhciBlLGk9dGhpcyxyPWkuZWxlbWVudCxuPWkuX3ByZXZpb3VzLHM9ci5wYXJlbnRzKCkuZmlsdGVyKG4ucGFyZW50cygpKS5maXJzdCgpLG89aS5fYm90aCgpLGE9dC5EZWZlcnJlZCgpLGM9ci5jc3MobnQpO3JldHVybiBzLmxlbmd0aHx8KHM9ci5wYXJlbnQoKSksdGhpcy5jb250YWluZXI9cyx0aGlzLmRlZmVycmVkPWEsdGhpcy5pc0Fic29sdXRlPSJhYnNvbHV0ZSI9PWMsdGhpcy5pc0Fic29sdXRlfHxvLmNzcyhudCwiYWJzb2x1dGUiKSx5JiYoZT1zLmNzcyhpdCkscy5jc3MoaXQsImhpZGRlbiIpKSxEPyhyLmFkZENsYXNzKCJrLWZ4LWhpZGRlbiIpLHMuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyQ2xhc3MoKSksdGhpcy5jb21wbGV0ZVByb3h5PXQucHJveHkodGhpcywiY29tcGxldGUiKSxzLm9uKEQuZXZlbnQsdGhpcy5jb21wbGV0ZVByb3h5KSxDLmFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7ci5yZW1vdmVDbGFzcygiay1meC1oaWRkZW4iKS5hZGRDbGFzcygiay1meC1uZXh0Iiksbi5jc3MoImRpc3BsYXkiLCIiKS5hZGRDbGFzcygiay1meC1jdXJyZW50IiksaS5fYmVmb3JlKG4sciksQy5hbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3MucmVtb3ZlQ2xhc3MoImstZngtc3RhcnQiKS5hZGRDbGFzcygiay1meC1lbmQiKSxpLl9hZnRlcihuLHIpfSl9KSk6dGhpcy5jb21wbGV0ZSgpLGEucHJvbWlzZSgpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5jb21wbGV0ZSgpfX0pLGI9Qy5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuX3RpY2tQcm94eT16KHQuX3RpY2ssdCksdC5fc3RhcnRlZD0hMX0sdGljazp0Lm5vb3AsZG9uZTp0Lm5vb3Asb25FbmQ6dC5ub29wLG9uQ2FuY2VsOnQubm9vcCxzdGFydDpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZCgpJiYodGhpcy5kb25lKCk/dGhpcy5vbkVuZCgpOih0aGlzLl9zdGFydGVkPSEwLEMuYW5pbWF0aW9uRnJhbWUodGhpcy5fdGlja1Byb3h5KSkpfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5vbkNhbmNlbCgpfSxfdGljazpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fc3RhcnRlZCYmKHQudGljaygpLHQuZG9uZSgpPyh0Ll9zdGFydGVkPSExLHQub25FbmQoKSk6Qy5hbmltYXRpb25GcmFtZSh0Ll90aWNrUHJveHkpKX19KSx3PWIuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7TihlLHQpLGIuZm4uaW5pdC5jYWxsKGUpfSxkb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZVBhc3NlZCgpPj10aGlzLmR1cmF0aW9ufSx0aW1lUGFzc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWluKHRoaXMuZHVyYXRpb24sbmV3IERhdGUtdGhpcy5zdGFydERhdGUpfSxtb3ZlVG86ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWUubW92YWJsZTtlLmluaXRpYWw9aVtlLmF4aXNdLGUuZGVsdGE9dC5sb2NhdGlvbi1lLmluaXRpYWwsZS5kdXJhdGlvbj0ibnVtYmVyIj09dHlwZW9mIHQuZHVyYXRpb24/dC5kdXJhdGlvbjozMDAsZS50aWNrPWUuX2Vhc2VQcm94eSh0LmVhc2UpLGUuc3RhcnREYXRlPW5ldyBEYXRlLGUuc3RhcnQoKX0sX2Vhc2VQcm94eTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe2UubW92YWJsZS5tb3ZlQXhpcyhlLmF4aXMsdChlLnRpbWVQYXNzZWQoKSxlLmluaXRpYWwsZS5kZWx0YSxlLmR1cmF0aW9uKSl9fX0pLE4odyx7ZWFzZU91dEV4cG86ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHQ9PXI/ZStpOmkqKC1NYXRoLnBvdygyLC0xMCp0L3IpKzEpK2V9LGVhc2VPdXRCYWNrOmZ1bmN0aW9uKHQsZSxpLHIsbil7cmV0dXJuIG49MS43MDE1OCxpKigodD10L3ItMSkqdCooKG4rMSkqdCtuKSsxKStlfX0pLFAuQW5pbWF0aW9uPWIsUC5UcmFuc2l0aW9uPXcsUC5jcmVhdGVFZmZlY3Q9bCxQLmJveD1mdW5jdGlvbihlKXtlPXQoZSk7dmFyIGk9ZS5vZmZzZXQoKTtyZXR1cm4gaS53aWR0aD1DLl9vdXRlcldpZHRoKGUpLGkuaGVpZ2h0PUMuX291dGVySGVpZ2h0KGUpLGl9LFAudHJhbnNmb3JtT3JpZ2luPWZ1bmN0aW9uKHQsZSl7dmFyIGk9KHQubGVmdC1lLmxlZnQpKmUud2lkdGgvKGUud2lkdGgtdC53aWR0aCkscj0odC50b3AtZS50b3ApKmUuaGVpZ2h0LyhlLmhlaWdodC10LmhlaWdodCk7cmV0dXJue3g6aXNOYU4oaSk/MDppLHk6aXNOYU4ocik/MDpyfX0sUC5maWxsU2NhbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4odC53aWR0aC9lLndpZHRoLHQuaGVpZ2h0L2UuaGVpZ2h0KX0sUC5maXRTY2FsZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1heCh0LndpZHRoL2Uud2lkdGgsdC5oZWlnaHQvZS5oZWlnaHQpfX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbih0LGUsaSl7KGl8fGUpKCl9KTsNCi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlbmRvLmZ4Lm1pbi5qcy5tYXANCg0KIWZ1bmN0aW9uIChoKSB7IGgoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsgdmFyIG4sIHQsIGwgPSBoKCIuaW5zdGFudFNlYXJjaFJlc291cmNlRWxlbWVudCIpOyAwICE9PSBsLmxlbmd0aCAmJiAoKDAgPCBoKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLmxlbmd0aCB8fCAwIDwgaCgiI2luc3RhbnQtc2VhcmNoLW1hbnVmYWN0dXJlcnMiKS5sZW5ndGggfHwgMCA8IGgoIiNpbnN0YW50LXNlYXJjaC12ZW5kb3JzIikubGVuZ3RoKSAmJiAoaCgiLnNlYXJjaC1ib3gtdGV4dCIpLmFkZENsYXNzKCJuYXJyb3ciKSwgaCgiLnN0b3JlLXNlYXJjaC1ib3giKS5hZGRDbGFzcygid2l0aC1jYXJlZ29yeS1zZWFyY2gtZW5hYmxlZCIpKSwgbiA9IHBhcnNlSW50KGwuYXR0cigiZGF0YS1udW1iZXJPZlZpc2libGVQcm9kdWN0cyIpKSwgdCA9IGgoIi5pbnN0YW50U2VhcmNoUmVzb3VyY2VFbGVtZW50IikuYXR0cigiZGF0YS1ub1Jlc3VsdHNSZXNvdXJjZVRleHQiKSwgaCgiI3NtYWxsLXNlYXJjaHRlcm1zIikua2VuZG9BdXRvQ29tcGxldGUoeyBoaWdobGlnaHRGaXJzdDogInRydWUiID09PSBsLmF0dHIoImRhdGEtaGlnaGxpZ2h0Rmlyc3RGb3VuZEVsZW1lbnQiKSwgbWluTGVuZ3RoOiBwYXJzZUludChsLmF0dHIoImRhdGEtbWluS2V5d29yZExlbmd0aCIpKSB8fCAwLCBlbmZvcmNlTWluTGVuZ3RoOiAhMCwgZGF0YVRleHRGaWVsZDogIlByb2R1Y3ROYW1lIiwgZmlsdGVyOiAiY29udGFpbnMiLCBub0RhdGFUZW1wbGF0ZTogdCwgcG9wdXA6IHsgYXBwZW5kVG86IGgoIiNzbWFsbC1zZWFyY2gtYm94LWZvcm0iKSB9LCB0ZW1wbGF0ZToga2VuZG8udGVtcGxhdGUoaCgiI2luc3RhbnRTZWFyY2hJdGVtVGVtcGxhdGUiKS5odG1sKCkpLCBoZWlnaHQ6ICJhdXRvIiwgZGF0YVNvdXJjZTogbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7IHNlcnZlckZpbHRlcmluZzogITAsIHNjaGVtYTogeyBkYXRhOiAiUHJvZHVjdHMiIH0sIHJlcXVlc3RTdGFydDogZnVuY3Rpb24gKCkgeyBoKCIjc21hbGwtc2VhcmNodGVybXMiKS5hZGRDbGFzcygiaW5zdGFudC1zZWFyY2gtYnVzeSIpIH0sIGNoYW5nZTogZnVuY3Rpb24gKCkgeyBoKCIjc21hbGwtc2VhcmNodGVybXMiKS5yZW1vdmVDbGFzcygiaW5zdGFudC1zZWFyY2gtYnVzeSIpIH0sIHRyYW5zcG9ydDogeyByZWFkOiB7IHVybDogbC5hdHRyKCJkYXRhLWluc3RhbnRTZWFyY2hVcmwiKSwgY29tcGxldGU6IGZ1bmN0aW9uICh0KSB7IHQuc3VjY2VzcyhmdW5jdGlvbiAodCkgeyB2YXIgYSA9IGgoIiNpbnN0YW50U2VhcmNoU2hvd0FsbCIpOyAwIDwgYS5sZW5ndGggJiYgYS5yZW1vdmUoKSwgaCgiI3NtYWxsLXNlYXJjaHRlcm1zLWxpc3QiKS5hcHBlbmQodC5TaG93QWxsQnV0dG9uSHRtbCksIGgoIiNpbnN0YW50U2VhcmNoU2hvd0FsbCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICh0KSB7IHQucHJldmVudERlZmF1bHQoKSwgaCgiLnNlYXJjaC1ib3gtYnV0dG9uIikuY2xpY2soKSB9KSB9KSB9IH0sIHBhcmFtZXRlck1hcDogZnVuY3Rpb24gKCkgeyByZXR1cm4geyBxOiBoKCIjc21hbGwtc2VhcmNodGVybXMiKS52YWwoKSwgY2F0ZWdvcnlJZDogaCgiI2luc3RhbnQtc2VhcmNoLWNhdGVnb3JpZXMiKS52YWwoKSwgbWFudWZhY3R1cmVySWQ6IGgoIiNpbnN0YW50LXNlYXJjaC1tYW51ZmFjdHVyZXJzIikudmFsKCksIHZlbmRvcklkOiBoKCIjaW5zdGFudC1zZWFyY2gtdmVuZG9ycyIpLnZhbCgpIH0gfSB9IH0pLCBjaGFuZ2U6IGZ1bmN0aW9uICgpIHsgdmFyIHQgPSBoKCIuay1saXN0IikuZmluZCgiLmstc3RhdGUtc2VsZWN0ZWQiKS5maW5kKCIuaW5zdGFudC1zZWFyY2gtaXRlbSIpLmF0dHIoImRhdGEtdXJsIik7IHZvaWQgMCA9PT0gdCB8fCBzZXRMb2NhdGlvbih0KSB9LCBkYXRhQm91bmQ6IGZ1bmN0aW9uICh0KSB7IGgoIiNzbWFsbC1zZWFyY2h0ZXJtcyIpLmRhdGEoImtlbmRvQXV0b0NvbXBsZXRlIikubGlzdC5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIiKS5hZGRDbGFzcygiaW5zdGFudFNlYXJjaCIpLCAoMCA8IGgoIiNpbnN0YW50LXNlYXJjaC1jYXRlZ29yaWVzIikubGVuZ3RoIHx8IDAgPCBoKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLmxlbmd0aCB8fCAwIDwgaCgiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS5sZW5ndGgpICYmIGgoIi5rLWFuaW1hdGlvbi1jb250YWluZXIiKS5hZGRDbGFzcygicmVzaXplIiksIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSBoKCIjc21hbGwtc2VhcmNodGVybXNfbGlzdGJveCIpLmNoaWxkcmVuKCkuc2xpY2UoMCwgbiksIGEgPSAwOyBpZiAodC5sZW5ndGggPT09IG4pIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKylhICs9IGgodFtlXSkub3V0ZXJIZWlnaHQoKTsgMCA8IGEgJiYgaCgiI3NtYWxsLXNlYXJjaHRlcm1zLWxpc3QiKS5jc3MoImhlaWdodCIsIGEpIH0oKSB9IH0pLCAiZmFsc2UiID09PSBsLmF0dHIoImRhdGEtaGlnaGxpZ2h0Rmlyc3RGb3VuZEVsZW1lbnQiKSAmJiBoKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIikub24oImtleWRvd24iLCBmdW5jdGlvbiAodCkgeyAxMyA9PT0gdC5rZXlDb2RlICYmIGgodGhpcykuc3VibWl0KCkgfSksIGgoIiNzbWFsbC1zZWFyY2gtYm94LWZvcm0iKS5zdWJtaXQoZnVuY3Rpb24gKHQpIHsgdmFyIGEsIGUsIG4sIHIsIHMgPSBoKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLnZhbCgpIHx8IDAsIGMgPSBoKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLnZhbCgpIHx8IDAsIG8gPSBoKCIjaW5zdGFudC1zZWFyY2gtdmVuZG9ycyIpLnZhbCgpIHx8IDAsIGkgPSBoKCIjc21hbGwtc2VhcmNodGVybXMiKS52YWwoKTsgaSAmJiAoYSA9IGwuYXR0cigiZGF0YS1zZWFyY2hJblByb2R1Y3REZXNjcmlwdGlvbnMiKSwgZSA9IDAgPCBzIHx8IDAgPCBjIHx8IDAgPCBvIHx8IGEsIG4gPSBsLmF0dHIoImRhdGEtc2VhcmNoUGFnZVVybCIpLCByID0gZW5jb2RlVVJJQ29tcG9uZW50KGkpLCBpID0gbC5hdHRyKCJkYXRhLWRlZmF1bHRQcm9kdWN0U29ydE9wdGlvbiIpLCB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG4gKyAiP2FkdnM9IiArIGUgKyAiJmNpZD0iICsgcyArICImbWlkPSIgKyBjICsgIiZ2aWQ9IiArIG8gKyAiJnE9IiArIHIgKyAiJnNpZD0iICsgYSArICImaXNjPXRydWUmb3JkZXJCeT0iICsgaSksIHQucHJldmVudERlZmF1bHQoKSB9KSkgfSkgfShqUXVlcnkpOw0KIWZ1bmN0aW9uKHMsaSxlKXt2YXIgcj0hMTtmdW5jdGlvbiB0KCl7cmV0dXJue0FuZHJvaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKX0sQmxhY2tCZXJyeTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpfSxpT1M6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lfGlQYWR8aVBvZC9pKX0sT3BlcmE6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvT3BlcmEgTWluaS9pKX0sV2luZG93czpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9JRU1vYmlsZS9pKX0sYW55OmZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5BbmRyb2lkKCl8fHRoaXMuQmxhY2tCZXJyeSgpfHx0aGlzLmlPUygpfHx0aGlzLk9wZXJhKCl8fHRoaXMuV2luZG93cygpKX19LmFueSgpfSJmdW5jdGlvbiIhPXR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0mJihTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9KSwiZnVuY3Rpb24iIT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoJiYoU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09dGhpcy5pbmRleE9mKGUpfSksaS5pc0luVmlld1BvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9cyhlKS5vZmZzZXQoKS50b3Asbj10K3MoZSkub3V0ZXJIZWlnaHQoKSxvPXMod2luZG93KS5zY3JvbGxUb3AoKSxpPW8rcyh3aW5kb3cpLmhlaWdodCgpLGk9bzxuJiZ0PGkrMTAwO3JldHVybiBpJiZzKGUpLmlzKCI6dmlzaWJsZSIpfSxpLmxvYWRJbWFnZXNPblNjcm9sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtzKCJpbWdbZGF0YS1sYXp5bG9hZHNyY10iKS5ub3QoIltsb2FkZWRpbWFnZV0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9cyh0aGlzKTswPGUucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBzKHRoaXMpLmhhc0NsYXNzKCJqQ2Fyb3VzZWxNYWluV3JhcHBlciIpfSkubGVuZ3RofHxpLmlzSW5WaWV3UG9ydChlKSYmKGUuYXR0cigic3JjIixlLmF0dHIoImRhdGEtbGF6eWxvYWRzcmMiKSksZS5hdHRyKCJsb2FkZWRpbWFnZSIsInRydWUiKSl9KX12YXIgdD1zKHdpbmRvdyk7cyhkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtlKCkscyhkb2N1bWVudCkub24oIlNldmVuU3Bpa2VzU2FsZU9mVGhlRGF5SW5pdGlhbGl6ZWRFdmVudCIsZSksdC5vbigic2Nyb2xsLmxhenlMb2FkSW1hZ2VzIixlKX0pLHMoImltZyIpLm9uKCJsb2FkIixlKSxzKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCBub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IG5vcFF1aWNrVmlld0RhdGFTaG93bkV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCBzZXZlblNwaWtlc1RyYWN0aW9uSG9tZVBhZ2VRdWlja1RhYk9wZW5lZCBBbnl3aGVyZVNsaWRlckxvYWRlZCIsZSl9LHMuZm4uZXh0ZW5kKHtzaW1wbGVTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9cyh0aGlzKTtlLnBhcmVudCgpLmhhc0NsYXNzKCJzZWxlY3Qtd3JhcCIpfHwoZS53cmFwKCc8ZGl2IGNsYXNzPSJzZWxlY3Qtd3JhcCI+PC9kaXY+JykuYWZ0ZXIoJzxzcGFuIGNsYXNzPSJzZWxlY3QtYm94Ij48c3BhbiBjbGFzcz0ic2VsZWN0LWlubmVyIj4nK2UuZmluZCgiOnNlbGVjdGVkIikudGV4dCgpKyI8L3NwYW4+PC9zcGFuPiIpLGUuY2hhbmdlKGZ1bmN0aW9uKCl7ZS5uZXh0KCkuY2hpbGRyZW4oIi5zZWxlY3QtaW5uZXIiKS50ZXh0KGUuZmluZCgiOnNlbGVjdGVkIikudGV4dCgpKX0pKX0pfX0pLGkuaXNSdGw9InRydWUiPT09cygiI2lzUnRsRW5hYmxlZCIpLnZhbCgpLGkuaXNNb2JpbGVEZXZpY2U9dCgpLGkuaXNNb2JpbGU9dCxpLkFudGlTcGFtPWZ1bmN0aW9uKGUsdCl7d2luZG93LmxvY2F0aW9uLmhyZWY9Im1haWx0bzoiK2UrIkAiK3R9LGkuZ2V0QXR0clZhbEZyb21Eb209ZnVuY3Rpb24oZSx0LG4pe3Q9cyhlKS5hdHRyKHQpO3JldHVybiBudWxsIT10JiYiIiE9PXR8fCh0PW51bGwhPW4/bjoiIiksdH0saS5nZXRIaWRkZW5WYWxGcm9tRG9tPWZ1bmN0aW9uKGUsdCl7ZT1zKGUpLnZhbCgpO3JldHVybiBudWxsIT1lJiYiIiE9PWV8fChlPW51bGwhPXQ/dDoiIiksZX0saS5nZXRVcmxWYXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10sbz13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxpPTA7aTxvLmxlbmd0aDtpKyspaWYodD1vW2ldLnNwbGl0KCI9Iiksbi5wdXNoKHRbMF0pLG5bdFswXV09dFsxXSxudWxsIT1lJiZ0WzBdPT09ZSlyZXR1cm4gdFsxXTtyZXR1cm4gbnVsbCE9ZT9udWxsOm59LGkuZ2V0Vmlld1BvcnQ9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3csdD0iaW5uZXIiO3JldHVybiJpbm5lcldpZHRoImluIHdpbmRvd3x8KHQ9ImNsaWVudCIsZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkpLHt3aWR0aDplW3QrIldpZHRoIl0saGVpZ2h0OmVbdCsiSGVpZ2h0Il19fSxpLnByZXBhcmVUb3BNZW51PWZ1bmN0aW9uKCl7dmFyIGU9Ii5tZWdhLW1lbnUgbGksIC50b3AtbWVudSBsaSI7ciYmKHMoIi5tZW51LXRpdGxlIikub2ZmKCJjbGljay5zc0NvcmUiKSxzKCIucGx1cy1idXR0b24iKS5vZmYoImNsaWNrLnNzQ29yZSIpLHMoZSkub2ZmKCJtb3VzZWVudGVyLnNzQ29yZSBtb3VzZWxlYXZlLnNzQ29yZSIpLHMoIi50b3AtbWVudSIpLnJlbW92ZUF0dHIoInN0eWxlIikscygiLnN1Ymxpc3Qtd3JhcC5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIikscygiLnBsdXMtYnV0dG9uLmNsb3NlIikucmVtb3ZlQ2xhc3MoImNsb3NlIikscygiLm1lbnUtdGl0bGUuY2xvc2UiKS5yZW1vdmVDbGFzcygiY2xvc2UiKSkscj0hMDt2YXIgdD13aW5kb3cudGhlbWVTZXR0aW5ncyYmd2luZG93LnRoZW1lU2V0dGluZ3MudGhlbWVCcmVha3BvaW50fHw5ODAsbj13aW5kb3cudGhlbWVTZXR0aW5ncyYmd2luZG93LnRoZW1lU2V0dGluZ3MuaXNBY2NvcmRpb25NZW51fHwhMSxvPWkuZ2V0Vmlld1BvcnQoKS53aWR0aDtzKCIubWVudS10aXRsZSIpLm9uKCJjbGljay5zc0NvcmUiLGZ1bmN0aW9uKCl7cyh0aGlzKS50b2dnbGVDbGFzcygiY2xvc2UiLCFzKHRoaXMpLmhhc0NsYXNzKCJjbG9zZSIpKSxzKHRoaXMpLnNpYmxpbmdzKCIudG9wLW1lbnUsIC5tZWdhLW1lbnUtcmVzcG9uc2l2ZSIpLnNsaWRlVG9nZ2xlKCJmYXN0IixmdW5jdGlvbigpe3ModGhpcykuY3NzKCJvdmVyZmxvdyIsIiIpfSksbnx8cygiLmhlYWRlci1tZW51LCAuc3VibGlzdC13cmFwIikucGVyZmVjdFNjcm9sbGJhcih7c3dpcGVQcm9wYWdhdGlvbjohMSx3aGVlbFNwZWVkOjEsc3VwcHJlc3NTY3JvbGxYOiEwfSl9KSxzKCIucGx1cy1idXR0b24iKS5vbigiY2xpY2suc3NDb3JlIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpO2U9cyh0aGlzKTtlLnRvZ2dsZUNsYXNzKCJjbG9zZSIsIWUuaGFzQ2xhc3MoImNsb3NlIikpO3ZhciB0PWUuc2libGluZ3MoIi5zdWJsaXN0LXdyYXAiKTt0Lmhhc0NsYXNzKCJhY3RpdmUiKT90LnJlbW92ZUNsYXNzKCJhY3RpdmUiKTpuP3QuYWRkQ2xhc3MoImFjdGl2ZSIpOmUucGFyZW50cygpLmVxKDIpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSwxODAsZnVuY3Rpb24oKXt0LmFkZENsYXNzKCJhY3RpdmUiKX0pLG58fGUucGFyZW50cygpLmVxKDIpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX0pLHQ8bz8ocygiLnN1Ymxpc3Qtd3JhcC5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIikscygiLnBsdXMtYnV0dG9uLmNsb3NlIikucmVtb3ZlQ2xhc3MoImNsb3NlIikscyhlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbjsidHJ1ZSI9PT1zKHRoaXMpLnBhcmVudHMoInVsIikubGFzdCgpLmF0dHIoImRhdGEtZW5hYmxlQ2xpY2tGb3JEcm9wRG93biIpfHxzKHRoaXMpLm9uKCJtb3VzZWVudGVyLnNzQ29yZSIsZnVuY3Rpb24oKXt2YXIgZT1zKHRoaXMpO2NsZWFyVGltZW91dChuKSx0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtzKCJhIixlKS5maXJzdCgpLmFkZENsYXNzKCJob3ZlciIpLHMoIi5zdWJsaXN0LXdyYXAsIC5kcm9wZG93biIsZSkuZmlyc3QoKS5hZGRDbGFzcygiYWN0aXZlIikscyhkb2N1bWVudCkudHJpZ2dlcigic2V2ZW5TcGlrZXNNZWdhTWVudU1vdXNlT3ZlckV2ZW50Iil9LDE4MCl9KS5vbigibW91c2VsZWF2ZS5zc0NvcmUiLGZ1bmN0aW9uKCl7dmFyIGU9cyh0aGlzKTtjbGVhclRpbWVvdXQodCksbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cygiYSIsZSkuZmlyc3QoKS5yZW1vdmVDbGFzcygiaG92ZXIiKSxzKCIuc3VibGlzdC13cmFwLCAuZHJvcGRvd24iLGUpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSwxODApfSl9KSk6KHMoZSkub2ZmKCJtb3VzZWVudGVyLnNzQ29yZSBtb3VzZWxlYXZlLnNzQ29yZSIpLHMoIi5zdWJsaXN0LXdyYXAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLHMoIi5wbHVzLWJ1dHRvbi5jbG9zZSIpLnJlbW92ZUNsYXNzKCJjbG9zZSIpKX0saS5sb2FkSW1hZ2VzT25TY3JvbGwoKSxzKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3MoZSkub24oImxvYWRlZCIsZnVuY3Rpb24oZSl7cy5ldmVudC50cmlnZ2VyKHt0eXBlOiJuZXdQcm9kdWN0c0FkZGVkVG9QYWdlRXZlbnQifSl9KX0pfShqUXVlcnksd2luZG93LnNldmVuU3Bpa2VzQ29yZT13aW5kb3cuc2V2ZW5TcGlrZXNDb3JlfHx7fSx3aW5kb3cuQ2F0YWxvZ1Byb2R1Y3RzPXdpbmRvdy5DYXRhbG9nUHJvZHVjdHN8fHt9KTsNCi8qISBqUXVlcnkgSlNPTiBwbHVnaW4gMi40LjAgfCBjb2RlLmdvb2dsZS5jb20vcC9qcXVlcnktanNvbiAqLwooZnVuY3Rpb24oJCl7J3VzZSBzdHJpY3QnO3ZhciBlc2NhcGU9L1siXFxceDAwLVx4MWZceDdmLVx4OWZdL2csbWV0YT17J1xiJzonXFxiJywnXHQnOidcXHQnLCdcbic6J1xcbicsJ1xmJzonXFxmJywnXHInOidcXHInLCciJzonXFwiJywnXFwnOidcXFxcJ30saGFzT3duPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7JC50b0pTT049dHlwZW9mIEpTT049PT0nb2JqZWN0JyYmSlNPTi5zdHJpbmdpZnk/SlNPTi5zdHJpbmdpZnk6ZnVuY3Rpb24obyl7aWYobz09PW51bGwpe3JldHVybidudWxsJzt9CnZhciBwYWlycyxrLG5hbWUsdmFsLHR5cGU9JC50eXBlKG8pO2lmKHR5cGU9PT0ndW5kZWZpbmVkJyl7cmV0dXJuIHVuZGVmaW5lZDt9CmlmKHR5cGU9PT0nbnVtYmVyJ3x8dHlwZT09PSdib29sZWFuJyl7cmV0dXJuIFN0cmluZyhvKTt9CmlmKHR5cGU9PT0nc3RyaW5nJyl7cmV0dXJuICQucXVvdGVTdHJpbmcobyk7fQppZih0eXBlb2Ygby50b0pTT049PT0nZnVuY3Rpb24nKXtyZXR1cm4gJC50b0pTT04oby50b0pTT04oKSk7fQppZih0eXBlPT09J2RhdGUnKXt2YXIgbW9udGg9by5nZXRVVENNb250aCgpKzEsZGF5PW8uZ2V0VVRDRGF0ZSgpLHllYXI9by5nZXRVVENGdWxsWWVhcigpLGhvdXJzPW8uZ2V0VVRDSG91cnMoKSxtaW51dGVzPW8uZ2V0VVRDTWludXRlcygpLHNlY29uZHM9by5nZXRVVENTZWNvbmRzKCksbWlsbGk9by5nZXRVVENNaWxsaXNlY29uZHMoKTtpZihtb250aDwxMCl7bW9udGg9JzAnK21vbnRoO30KaWYoZGF5PDEwKXtkYXk9JzAnK2RheTt9CmlmKGhvdXJzPDEwKXtob3Vycz0nMCcraG91cnM7fQppZihtaW51dGVzPDEwKXttaW51dGVzPScwJyttaW51dGVzO30KaWYoc2Vjb25kczwxMCl7c2Vjb25kcz0nMCcrc2Vjb25kczt9CmlmKG1pbGxpPDEwMCl7bWlsbGk9JzAnK21pbGxpO30KaWYobWlsbGk8MTApe21pbGxpPScwJyttaWxsaTt9CnJldHVybiciJyt5ZWFyKyctJyttb250aCsnLScrZGF5KydUJysKaG91cnMrJzonK21pbnV0ZXMrJzonK3NlY29uZHMrJy4nK21pbGxpKydaIic7fQpwYWlycz1bXTtpZigkLmlzQXJyYXkobykpe2ZvcihrPTA7azxvLmxlbmd0aDtrKyspe3BhaXJzLnB1c2goJC50b0pTT04ob1trXSl8fCdudWxsJyk7fQpyZXR1cm4nWycrcGFpcnMuam9pbignLCcpKyddJzt9CmlmKHR5cGVvZiBvPT09J29iamVjdCcpe2ZvcihrIGluIG8pe2lmKGhhc093bi5jYWxsKG8saykpe3R5cGU9dHlwZW9mIGs7aWYodHlwZT09PSdudW1iZXInKXtuYW1lPSciJytrKyciJzt9ZWxzZSBpZih0eXBlPT09J3N0cmluZycpe25hbWU9JC5xdW90ZVN0cmluZyhrKTt9ZWxzZXtjb250aW51ZTt9CnR5cGU9dHlwZW9mIG9ba107aWYodHlwZSE9PSdmdW5jdGlvbicmJnR5cGUhPT0ndW5kZWZpbmVkJyl7dmFsPSQudG9KU09OKG9ba10pO3BhaXJzLnB1c2gobmFtZSsnOicrdmFsKTt9fX0KcmV0dXJuJ3snK3BhaXJzLmpvaW4oJywnKSsnfSc7fX07JC5ldmFsSlNPTj10eXBlb2YgSlNPTj09PSdvYmplY3QnJiZKU09OLnBhcnNlP0pTT04ucGFyc2U6ZnVuY3Rpb24oc3RyKXtyZXR1cm4gZXZhbCgnKCcrc3RyKycpJyk7fTskLnNlY3VyZUV2YWxKU09OPXR5cGVvZiBKU09OPT09J29iamVjdCcmJkpTT04ucGFyc2U/SlNPTi5wYXJzZTpmdW5jdGlvbihzdHIpe3ZhciBmaWx0ZXJlZD1zdHIucmVwbGFjZSgvXFxbIlxcXC9iZm5ydHVdL2csJ0AnKS5yZXBsYWNlKC8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZywnXScpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OlxzKlxbKSsvZywnJyk7aWYoL15bXF0sOnt9XHNdKiQvLnRlc3QoZmlsdGVyZWQpKXtyZXR1cm4gZXZhbCgnKCcrc3RyKycpJyk7fQp0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0Vycm9yIHBhcnNpbmcgSlNPTiwgc291cmNlIGlzIG5vdCB2YWxpZC4nKTt9OyQucXVvdGVTdHJpbmc9ZnVuY3Rpb24oc3RyKXtpZihzdHIubWF0Y2goZXNjYXBlKSl7cmV0dXJuJyInK3N0ci5yZXBsYWNlKGVzY2FwZSxmdW5jdGlvbihhKXt2YXIgYz1tZXRhW2FdO2lmKHR5cGVvZiBjPT09J3N0cmluZycpe3JldHVybiBjO30KYz1hLmNoYXJDb2RlQXQoKTtyZXR1cm4nXFx1MDAnK01hdGguZmxvb3IoYy8xNikudG9TdHJpbmcoMTYpKyhjJTE2KS50b1N0cmluZygxNik7fSkrJyInO30KcmV0dXJuJyInK3N0cisnIic7fTt9KGpRdWVyeSkpOw0KIWZ1bmN0aW9uIChsLCBzLCBwLCByKSB7IHZhciBkID0gIi5hamF4Q2FydEluZm8iOyBmdW5jdGlvbiBuKCkgeyByZXR1cm4gcC5nZXRBdHRyVmFsRnJvbURvbShkLCAiZGF0YS1wcm9kdWN0Qm94UHJvZHVjdEl0ZW1FbGVtZW50U2VsZWN0b3IiKSB9IGZ1bmN0aW9uIGkodCkgeyByZXR1cm4gcC5nZXRBdHRyVmFsRnJvbURvbSh0LCAidmFsdWUiKSB8fCB0LnRleHQoKSB9IGZ1bmN0aW9uIGcoKSB7IHJldHVybiAiYm9keSIgfSBmdW5jdGlvbiBhKCkgeyB2YXIgdCA9IHAuZ2V0QXR0clZhbEZyb21Eb20oZCwgImRhdGEtcHJvZHVjdFBhZ2VBZGRUb0NhcnRCdXR0b25TZWxlY3RvciIpLCBhID0gcC5nZXRBdHRyVmFsRnJvbURvbShkLCAiZGF0YS1wcm9kdWN0Qm94QWRkVG9DYXJ0QnV0dG9uU2VsZWN0b3IiKSwgbyA9IFtdLCBlID0gW107IHJldHVybiBzKHQpLmVhY2goZnVuY3Rpb24gKCkgeyB2YXIgdCwgYTsgcyh0aGlzKS5pcygiLm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb0NhcnRCdXR0b24iKSB8fCAoYSA9IHAuZ2V0QXR0clZhbEZyb21Eb20odGhpcywgImRhdGEtcHJvZHVjdGlkIiwgMCkpICYmIDAgPCBhICYmICh0ID0geyBwcm9kdWN0SWQ6IGEsIGlzUHJvZHVjdFBhZ2U6ICEwLCBidXR0b25FbGVtZW50OiBzKHRoaXMpIH0sIGEgPSB7IHByb2R1Y3RJZDogYSwgaXNQcm9kdWN0UGFnZTogITAsIGJ1dHRvblZhbHVlOiBpKHModGhpcykpIH0sIG8ucHVzaCh0KSwgZS5wdXNoKGEpKSB9KSwgcyhhKS5lYWNoKGZ1bmN0aW9uICgpIHsgdmFyIHQsIGE7IHModGhpcykuaXMoIi5ub3BBamF4Q2FydFByb2R1Y3RMaXN0QWRkVG9DYXJ0QnV0dG9uIikgfHwgKHQgPSBzKHRoaXMpLCAodCA9IChhID0gbigpKSA9PSByIHx8ICIiID09PSBhID8gMCA6IHAuZ2V0QXR0clZhbEZyb21Eb20ocyh0KS5wYXJlbnRzKGEpLCAiZGF0YS1wcm9kdWN0aWQiLCAwKSkgJiYgMCA8IHQgJiYgKHQgPSB7IHByb2R1Y3RJZDogdCwgaXNQcm9kdWN0UGFnZTogIShhID0geyBwcm9kdWN0SWQ6IHQsIGlzUHJvZHVjdFBhZ2U6ICExLCBidXR0b25FbGVtZW50OiBzKHRoaXMpIH0pLCBidXR0b25WYWx1ZTogaShzKHRoaXMpKSB9LCBvLnB1c2goYSksIGUucHVzaCh0KSkpIH0pLCB7IGFkZFRvQ2FydEJ1dHRvbnM6IG8sIGJ1dHRvbnNQYXJhbWV0ZXJzOiBlIH0gfSBmdW5jdGlvbiBjKCkgeyBnKCk7IHZhciB0ID0gcygiYm9keSIpOyAwIDwgdC5sZW5ndGggJiYgcygiLm5vcEFqYXhDYXJ0UGFuZWxBamF4QnVzeSIpLmhlaWdodCh0LmhlaWdodCgpKS53aWR0aCh0LndpZHRoKCkpLnNob3coKSB9IGZ1bmN0aW9uIGUodCkgeyB2YXIgYTsgdCA/IDAgPCBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmxlbmd0aCAmJiAoYSA9IHMoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IikucGFyZW50KCkuaGVpZ2h0KCksIHQgPSBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLnBhcmVudCgpLndpZHRoKCksIHMoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5taW5pUHJvZHVjdERldGFpbHNQYW5lbEFqYXhCdXN5IikuaGVpZ2h0KGEgLSAxMCkud2lkdGgodCAtIDEwKS5zaG93KCkpIDogYygpIH0gZnVuY3Rpb24gdSgpIHsgcygiLm5vcEFqYXhDYXJ0UGFuZWxBamF4QnVzeSIpLmhpZGUoKSB9IGZ1bmN0aW9uIGgodCkgeyB0ID8gcygiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgLm1pbmlQcm9kdWN0RGV0YWlsc1BhbmVsQWpheEJ1c3kiKS5oaWRlKCkgOiB1KCkgfSBmdW5jdGlvbiB0KCkgeyB2YXIgbiA9IGEoKSwgdCA9IG4uYnV0dG9uc1BhcmFtZXRlcnM7IDAgPCB0Lmxlbmd0aCAmJiBzLmFqYXgoeyBjYWNoZTogITEsIHR5cGU6ICJQT1NUIiwgZGF0YTogcy50b0pTT04odCksIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsIHVybDogcC5nZXRBdHRyVmFsRnJvbURvbShkLCAiZGF0YS1nZXRBamF4Q2FydEJ1dHRvblVybCIpIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgaWYgKCIiICE9PSB0KSB7IGZvciAodmFyIGEgPSAwOyBhIDwgbi5hZGRUb0NhcnRCdXR0b25zLmxlbmd0aDsgYSsrKW8gPSB0LCBlID0gbi5hZGRUb0NhcnRCdXR0b25zW2FdLCByID0gdm9pZCAwLCAwIDwgKHIgPSBzKG8pLmZpbHRlcigiZGl2W2RhdGEtcHJvZHVjdElkPSciICsgZS5wcm9kdWN0SWQgKyAiJ10iKSkubGVuZ3RoICYmICgobyA9IHAuZ2V0QXR0clZhbEZyb21Eb20ociwgImRhdGEtaXNQcm9kdWN0UGFnZSIpKSAmJiBvID09PSBlLmlzUHJvZHVjdFBhZ2UudG9TdHJpbmcoKSAmJiAocyhlLmJ1dHRvbkVsZW1lbnQpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0sIC5hZGQtdG8tY2FydCIpLmFkZENsYXNzKCJzZXZlbnNwaWtlcy1hamF4Y2FydCIpLCBzKGUuYnV0dG9uRWxlbWVudCkucmVwbGFjZVdpdGgoclswXSkpKTsgcy5ldmVudC50cmlnZ2VyKHsgdHlwZTogIm5vcEFqYXhDYXJ0QnV0dG9uc0FkZGVkRXZlbnQiIH0pIH0gdmFyIG8sIGUsIHIgfSkgfSBmdW5jdGlvbiBtKCkgeyB2YXIgYSA9ICIuYmxvY2suYmxvY2stc2hvcHBpbmdjYXJ0IjsgMCA8IHMoYSkubGVuZ3RoICYmIHMuYWpheCh7IGNhY2hlOiAhMSwgdHlwZTogIkdFVCIsIHVybDogcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjbWluaVNob3BwaW5nQ2FydFVybCIpIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgdCA9IHModCkuZmlsdGVyKGEpOyBzKGEpLnJlcGxhY2VXaXRoKHQpLCBzLmV2ZW50LnRyaWdnZXIoeyB0eXBlOiAibm9wQWpheENhcnRNaW5pU2hvcHBpbmdDYXJ0VXBkYXRlZCIgfSkgfSkgfSBmdW5jdGlvbiBmKHQpIHsgdCA9ICc8ZGl2IGNsYXNzPSJtaW5pUHJvZHVjdERldGFpbHNQYW5lbEFqYXhCdXN5Ij48L2Rpdj48ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+JyArIHQ7IHQgPSBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmRhdGEoImtlbmRvV2luZG93IikuY29udGVudCh0KTsgdC5jZW50ZXIoKSwgdC5vcGVuKCksIHMoZG9jdW1lbnQpLm9uKCJhamF4Q2FydC5wcm9kdWN0X2F0dHJpYnV0ZXNfY2hhbmdlZCIsIGZ1bmN0aW9uICh0KSB7IHZhciBhOyB0LmNoYW5nZWREYXRhICYmIHQuY2hhbmdlZERhdGEucGljdHVyZURlZmF1bHRTaXplVXJsICYmIChhID0gdC5jaGFuZ2VkRGF0YS5waWN0dXJlRGVmYXVsdFNpemVVcmwsIHQuZWxlbWVudC5maW5kKCIucHJvZHVjdC1vdmVydmlldy1saW5lIikuZmluZCgiLnBpY3R1cmUgaW1nIikuYXR0cigic3JjIiwgYSkpIH0pIH0gZnVuY3Rpb24gQyh0LCBvLCBhKSB7IHQgPSB7IHByb2R1Y3RJZDogdCwgaXNBZGRUb0NhcnRCdXR0b246IGEgfSwgYSA9IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI2dldE1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdVcmwiKTsgcy5hamF4KHsgY2FjaGU6ICExLCBhc3luYzogITEsIHR5cGU6ICJQT1NUIiwgZGF0YTogdCwgdXJsOiBhIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgdmFyIGE7IGYodCksIGEgPSBvLCAwIDwgKHQgPSBwLmdldEF0dHJWYWxGcm9tRG9tKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAubWluaVByb2R1Y3REZXRhaWxzVmlld0FkZFRvQ2FydEJ1dHRvbiwgLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgLm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb1dpc2hsaXN0QnV0dG9uIiwgImRhdGEtcHJvZHVjdElkIiwgMCkpICYmICgodCA9IHMoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3ICNhZGR0b2NhcnRfIiArIHQgKyAiX0VudGVyZWRRdWFudGl0eSIpKS5pcygic2VsZWN0IikgJiYgKHQuZmluZCgib3B0aW9uW3ZhbHVlPSIgKyBhICsgIl0iKS5sZW5ndGggfHwgKGEgPSB0LmZpbmQoIm9wdGlvbjpmaXJzdCIpLnZhbCgpKSksIHQudmFsKGEpKSwgcy5ldmVudC50cmlnZ2VyKHsgdHlwZTogIm5vcEFqYXhDYXJ0TWluaVByb2R1Y3REZXRhaWxzVmlld1Nob3duIiB9KSB9KSB9IGZ1bmN0aW9uIHYoKSB7IHZhciBhID0gcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjZmx5b3V0U2hvcHBpbmdDYXJ0UGFuZWxTZWxlY3RvciIpOyBsLnNob3VsZFJlZnJlc2hGbHlvdXRDYXJ0ICYmIDAgPCBzKGEpLmxlbmd0aCAmJiBzLmFqYXgoeyBjYWNoZTogITEsIHR5cGU6ICJHRVQiLCB1cmw6IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI2ZseW91dFNob3BwaW5nQ2FydFVybCIpIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgdCA9IHModCkuZmlsdGVyKGEpOyBzKGEpLnJlcGxhY2VXaXRoKHQpLCBzLmV2ZW50LnRyaWdnZXIoeyB0eXBlOiAibm9wQWpheENhcnRGbHlvdXRTaG9wcGluZ0NhcnRVcGRhdGVkIiB9KSB9KSB9IGZ1bmN0aW9uIEEoKSB7IHZhciBhID0gcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjc2hvcHBpbmdDYXJ0Qm94UGFuZWxTZWxlY3RvciIpOyAwIDwgcyhhKS5sZW5ndGggJiYgcy5hamF4KHsgY2FjaGU6ICExLCB0eXBlOiAiR0VUIiwgdXJsOiBwLmdldEhpZGRlblZhbEZyb21Eb20oIiNzaG9wcGluZ0NhcnRCb3hVcmwiKSB9KS5kb25lKGZ1bmN0aW9uICh0KSB7IHQgPSBzKHQpLmZpbmQoYSk7IHMoYSkucmVwbGFjZVdpdGgodCksIHMuZXZlbnQudHJpZ2dlcih7IHR5cGU6ICJub3BBamF4Q2FydFNob3BwaW5nQ2FydEJveFVwZGF0ZWQiIH0pIH0pIH0gZnVuY3Rpb24gdyhlKSB7IHZhciB0ID0gJy5oZWFkZXItbGlua3MgYVtocmVmPSIvY2FydCJdJywgYSA9IHAuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI3Nob3BwaW5nQ2FydE1lbnVMaW5rU2VsZWN0b3IiKTsgMCA8IHMoIiNzaG9wcGluZ0NhcnRNZW51TGlua1NlbGVjdG9yIikubGVuZ3RoICYmICIiICE9PSBhICYmICh0ID0gYSwgdCA9IHMoIjxkaXYvPiIpLmh0bWwodCkudGV4dCgpKSwgcyh0KS5lYWNoKGZ1bmN0aW9uICh0LCBhKSB7IHZhciBvID0gcyhhKS5odG1sKCksIG8gPSAvXGQrLy5leGVjKG8pLCBvID0gcGFyc2VJbnQobykgKyBwYXJzZUludChlKSwgbyA9IHMoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW1pbmlTaG9wcGluZ0NhcnRRdWF0aXR5Rm9ybWF0dGluZ1Jlc291cmNlIikucmVwbGFjZSgiezB9Iiwgbyk7IHMoYSkuaHRtbChvKSB9KSB9IGZ1bmN0aW9uIFAoZSkgeyB2YXIgdCA9ICJzcGFuLndpc2hsaXN0LXF0eSIsIGEgPSBwLmdldEhpZGRlblZhbEZyb21Eb20oIiN3aXNobGlzdE1lbnVMaW5rU2VsZWN0b3IiKTsgMCA8IHMoYSkubGVuZ3RoICYmICh0ID0gYSksIHModCkuZWFjaChmdW5jdGlvbiAodCwgYSkgeyB2YXIgbyA9IHMoYSkuaHRtbCgpLCBvID0gL1xkKy8uZXhlYyhvKSwgbyA9IHBhcnNlSW50KG8pICsgcGFyc2VJbnQoZSksIG8gPSBzKCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS1taW5pV2lzaGxpc3RRdWF0aXR5Rm9ybWF0dGluZ1Jlc291cmNlIikucmVwbGFjZSgiezB9Iiwgbyk7IHMoYSkuaHRtbChvKSB9KSB9IGZ1bmN0aW9uIHgodCkgeyB2YXIgYSA9IHMoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLXVzZU5vcE5vdGlmaWNhdGlvbiIpLCBvID0gcygiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtbm9wTm90aWZpY2F0aW9uQ2FydFJlc291cmNlIik7IGEgJiYgIlRydWUiID09PSBhID8gZGlzcGxheUJhck5vdGlmaWNhdGlvbihvLCAic3VjY2VzcyIsIDM1MDApIDogKHMoIi5wcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3ciKS5odG1sKHModCkuaHRtbCgpKSwgKHQgPSBzKCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKSkuY2VudGVyKCksIHQub3BlbigpKSB9IGZ1bmN0aW9uIGoodCwgYSkgeyB2YXIgbyA9IHMoIi5hZGRQcm9kdWN0VG9DYXJ0RXJyb3JzIikuZGF0YSgia2VuZG9XaW5kb3ciKTsgbyB8fCAobyA9IHMoIi5hZGRQcm9kdWN0VG9DYXJ0RXJyb3JzIikua2VuZG9XaW5kb3coeyBkcmFnZ2FibGU6ICExLCByZXNpemFibGU6ICExLCB3aWR0aDogIjMwMHB4IiwgaGVpZ2h0OiAiMTAwcHgiLCBtb2RhbDogITAsIGFjdGlvbnM6IFsiQ2xvc2UiXSwgYW5pbWF0aW9uOiAhMSwgdmlzaWJsZTogITEsIHRpdGxlOiBhIH0pLmRhdGEoImtlbmRvV2luZG93IikpLndyYXBwZXIuYWRkQ2xhc3MoImFqYXhDYXJ0IiksIG8uY29udGVudCh0KSwgby5jZW50ZXIoKSwgby5vcGVuKCksIHMoZG9jdW1lbnQpLm9uKCJjbGljayIsICIuay1vdmVybGF5IiwgZnVuY3Rpb24gKCkgeyBvLmNsb3NlKCkgfSkgfSBmdW5jdGlvbiBUKHQsIGEsIG8sIGUsIHIsIG4pIHsgdmFyIGQgPSB7IHByb2R1Y3RJZDogZSwgcXVhbnRpdHk6IHIsIGlzQWRkVG9DYXJ0QnV0dG9uOiBvIH07IHJldHVybiBuID8gKHUoKSwgdm9pZCAobC53YWl0Rm9yQWpheFJlcXVlc3QgPSAhMSkpIDogdC5IYXNQcm9kdWN0QXR0cmlidXRlcyA/IChDKGUsIHIsIG8pLCB1KCksIHZvaWQgKGwud2FpdEZvckFqYXhSZXF1ZXN0ID0gITEpKSA6IHZvaWQgcy5hamF4KHsgY2FjaGU6ICExLCB0eXBlOiAiUE9TVCIsIGRhdGE6IGQsIHVybDogcC5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjYWRkUHJvZHVjdFRvQ2FydFVybCIpIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgInN1Y2Nlc3MiID09PSB0LlN0YXR1cyA/IG8gPyAobSgpLCB2KCksIEEoKSwgdyhyKSwgeCh0LlByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyksIHMuZXZlbnQudHJpZ2dlcih7IHR5cGU6ICJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IiwgcHJvZHVjdElkOiBlLCBxdWFudGl0eTogciB9KSkgOiAoUChyKSwgeCh0LlByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyksIHMuZXZlbnQudHJpZ2dlcih7IHR5cGU6ICJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvV2lzaGxpc3RFdmVudCIsIHByb2R1Y3RJZDogZSwgcXVhbnRpdHk6IHIgfSkpIDogIndhcm5pbmciID09PSB0LlN0YXR1cyA/IGoodC5BZGRUb0NhcnRXYXJuaW5ncywgdC5Qb3B1cFRpdGxlKSA6ICJlcnJvciIgPT09IHQuU3RhdHVzICYmIGoodC5FcnJvck1lc3NhZ2UsIHQuUG9wdXBUaXRsZSkgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHsgdSgpLCBsLndhaXRGb3JBamF4UmVxdWVzdCA9ICExIH0pIH0gZnVuY3Rpb24geSh0LCBhKSB7IHZhciBvLCBlLCByLCBuOyBsLndhaXRGb3JBamF4UmVxdWVzdCB8fCAobC53YWl0Rm9yQWpheFJlcXVlc3QgPSAhMCwgbyA9IHAuZ2V0QXR0clZhbEZyb21Eb20odC5jdXJyZW50VGFyZ2V0LCAiZGF0YS1wcm9kdWN0SWQiKSB8fCBzKHQuY3VycmVudFRhcmdldCkucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmF0dHIoImRhdGEtcHJvZHVjdGlkIiksIHIgPSB0LmN1cnJlbnRUYXJnZXQsIG4gPSAxLCAiIiA9PT0gKHQgPSBwLmdldEF0dHJWYWxGcm9tRG9tKHIsICJkYXRhLXByb2R1Y3RJZCIpIHx8IHMocikucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmF0dHIoImRhdGEtcHJvZHVjdGlkIikgfHwgIiIpIHx8IDAgPCAodCA9IHMocikucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmZpbmQoIltkYXRhLXF1YW50aXR5cHJvZHVjdGlkPSIgKyB0ICsgIl0iKSkubGVuZ3RoICYmICgwIDwgKHQgPSB0LnZhbCgpKSAmJiAobiA9IHQpKSwgbiA9IHsgcHJvZHVjdElkOiBvLCBxdWFudGl0eTogZSA9IG4gfSwgYygpLCBzLmFqYXgoeyBjYWNoZTogITEsIHR5cGU6ICJQT1NUIiwgZGF0YTogbiwgdXJsOiBwLmdldEhpZGRlblZhbEZyb21Eb20oIiNjaGVja1Byb2R1Y3RBdHRyaWJ1dGVzVXJsIikgfSkuZG9uZShmdW5jdGlvbiAodCkgeyBUKHQsIDAsIGEsIG8sIGUsICExKSB9KS5mYWlsKGZ1bmN0aW9uICgpIHsgVChkYXRhLCAwLCBhLCBvLCBlLCAhMCkgfSkpIH0gZnVuY3Rpb24gRChuLCBkLCBpKSB7IHZhciBjLCB1LCB0LCBhLCBvOyBkID09IHIgJiYgKGQgPSAhMSksIGwud2FpdEZvckFqYXhSZXF1ZXN0IHx8IChsLndhaXRGb3JBamF4UmVxdWVzdCA9ICEwLCBvID0gcyhuLmN1cnJlbnRUYXJnZXQpLCBjID0gcC5nZXRBdHRyVmFsRnJvbURvbShuLmN1cnJlbnRUYXJnZXQsICJkYXRhLXByb2R1Y3RJZCIpIHx8IHMobi5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCIucHJvZHVjdC1pdGVtIikuYXR0cigiZGF0YS1wcm9kdWN0aWQiKSwgdCA9IG8sIGEgPSAxLCAiIiA9PT0gKHQgPSBwLmdldEF0dHJWYWxGcm9tRG9tKHQsICJkYXRhLXByb2R1Y3RJZCIpKSB8fCAwIDwgKHQgPSBzKCIjYWRkdG9jYXJ0XyIgKyB0ICsgIl9FbnRlcmVkUXVhbnRpdHkiKSkubGVuZ3RoICYmICgwIDwgKHQgPSB0LnZhbCgpKSAmJiAoYSA9IHQpKSwgdSA9IGEsIDAgPT09IChvID0gby5jbG9zZXN0KCJmb3JtIikuc2VyaWFsaXplKCkpLmxlbmd0aCAmJiAoZygpLCBvID0gcygiYm9keSIpLmZpbmQoImZvcm0iKS5zZXJpYWxpemUoKSksIDAgIT09IChvID0gKG8gPSBvLnJlcGxhY2UobmV3IFJlZ0V4cCgiYWpheENhcnRfcHJvZHVjdF9hdHRyaWJ1dGUiLCAiZyIpLCAicHJvZHVjdF9hdHRyaWJ1dGUiKSkucmVwbGFjZShuZXcgUmVnRXhwKCJxdWlja1ZpZXdfcHJvZHVjdF9hdHRyaWJ1dGUiLCAiZyIpLCAicHJvZHVjdF9hdHRyaWJ1dGUiKSkubGVuZ3RoICYmIChvICs9ICImIiksIG8gKz0gInByb2R1Y3RJZD0iICsgYywgbyArPSAiJmlzQWRkVG9DYXJ0QnV0dG9uPSIgKyBpLCBlKGQpLCBzLmFqYXgoeyBjYWNoZTogITEsIHR5cGU6ICJQT1NUIiwgZGF0YTogbywgdXJsOiBwLmdldEhpZGRlblZhbEZyb21Eb20oIiNhZGRQcm9kdWN0VmFyaWFudFRvQ2FydFVybCIpIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgdmFyIGEsIG8sIGUsIHI7ICJ3YXJuaW5nIiA9PT0gdC5TdGF0dXMgfHwgImVycm9yIiA9PT0gdC5TdGF0dXMgPyAoZSA9IHMobi5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIub3ZlcnZpZXciKSwgYSA9IHQuQWRkVG9DYXJ0V2FybmluZ3MsIG8gPSB0LlBvcHVwVGl0bGUsIGUgPSBlLCBkID8gKDAgPCBlLmxlbmd0aCA/IGUuZmluZCgiLm1lc3NhZ2UtZXJyb3IiKSA6IHMoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5tZXNzYWdlLWVycm9yIikpLmh0bWwoYSkgOiAoKHIgPSBzKCIuYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRFcnJvcnMiKS5kYXRhKCJrZW5kb1dpbmRvdyIpKSB8fCAociA9IHMoIi5hZGRQcm9kdWN0VmFyaWFudFRvQ2FydEVycm9ycyIpLmZpcnN0KCkua2VuZG9XaW5kb3coeyBkcmFnZ2FibGU6ICExLCByZXNpemFibGU6ICExLCB3aWR0aDogIjMwMHB4IiwgbW9kYWw6ICEwLCBhY3Rpb25zOiBbIkNsb3NlIl0sIGFuaW1hdGlvbjogITEsIHZpc2libGU6ICExLCB0aXRsZTogbyB9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpLCByLmNvbnRlbnQoYSksIHIuY2VudGVyKCksIHIub3BlbigpLCBzKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLmstb3ZlcmxheSIsIGZ1bmN0aW9uICgpIHsgci5jbG9zZSgpIH0pKSkgOiAoZSA9ICJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IiwgbyA9IGkgPyAobSgpLCBBKCksIHcodSksIHYoKSwgcygiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtbm9wTm90aWZpY2F0aW9uQ2FydFJlc291cmNlIikpIDogKFAodSksIHgodC5Qcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3cpLCBlID0gIm5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9XaXNobGlzdEV2ZW50IiwgcygiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtbm9wTm90aWZpY2F0aW9uV2lzaGxpc3RSZXNvdXJjZSIpKSwgZCAmJiBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmRhdGEoImtlbmRvV2luZG93IikuY2xvc2UoKSwgKGEgPSBzKCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS11c2VOb3BOb3RpZmljYXRpb24iKSkgJiYgIlRydWUiID09PSBhID8gZGlzcGxheUJhck5vdGlmaWNhdGlvbihvLCAic3VjY2VzcyIsIDM1MDApIDogeCh0LlByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyksIHMuZXZlbnQudHJpZ2dlcih7IHR5cGU6IGUsIHByb2R1Y3RJZDogYywgcXVhbnRpdHk6IHUgfSkpIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7IGgoZCksIGwud2FpdEZvckFqYXhSZXF1ZXN0ID0gITEgfSkpIH0gbC5zaG91bGRSZWZyZXNoRmx5b3V0Q2FydCA9ICEwLCBsLndhaXRGb3JBamF4UmVxdWVzdCA9ICExLCBsLnJlcGxhY2VBZGRUb0NhcnRCdXR0b25zRXh0ZXJuYWwgPSB0LCBsLmNsb3NlUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93ID0gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHMoIi5wcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3ciKS5kYXRhKCJrZW5kb1dpbmRvdyIpOyB0ICYmIHQuY2xvc2UoKSB9LCBzKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7IHQoKSwgZnVuY3Rpb24gKCkgeyBnKCk7IHZhciB0ID0gcygiYm9keSIpOyAwID09PSB0LmZpbmQoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5sZW5ndGggJiYgKHQucHJlcGVuZCgnPGRpdiBjbGFzcz0ibm9wQWpheENhcnRQYW5lbEFqYXhCdXN5Ij48L2Rpdj4nKSwgcygiLm5vcEFqYXhDYXJ0UGFuZWxBamF4QnVzeSIpLmhpZGUoKSkgfSgpLCBmdW5jdGlvbiAoKSB7IGcoKTsgdmFyIHQsIGEsIG8gPSBzKCJib2R5Iik7IDAgPCBvLmxlbmd0aCAmJiAoKHQgPSBmdW5jdGlvbiAodCkgeyAwID09PSBzKHQpLmxlbmd0aCAmJiBvLnByZXBlbmQoJzxkaXYgY2xhc3M9IicgKyB0ICsgJyI+PC9kaXY+JykgfSkoImFkZFByb2R1Y3RUb0NhcnRFcnJvcnMiKSwgdCgiYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRFcnJvcnMiKSwgdCgibWluaVByb2R1Y3REZXRhaWxzVmlldyIpLCB0KCJwcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3ciKSwgKGEgPSBzKCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmtlbmRvV2luZG93KHsgZHJhZ2dhYmxlOiAhMSwgcmVzaXphYmxlOiAhMSwgbW9kYWw6ICEwLCBhY3Rpb25zOiBbIkNsb3NlIl0sIGFuaW1hdGlvbjogITEsIHZpc2libGU6ICExIH0pLmRhdGEoImtlbmRvV2luZG93IikpLndyYXBwZXIuYWRkQ2xhc3MoImFqYXhDYXJ0IiksIHMoZG9jdW1lbnQpLm9uKCJjbGljayIsICIuay1vdmVybGF5IiwgZnVuY3Rpb24gKCkgeyBhLmNsb3NlKCkgfSkpOyB2YXIgZSA9IHMoIi5wcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3ciKS5rZW5kb1dpbmRvdyh7IGRyYWdnYWJsZTogITEsIHJlc2l6YWJsZTogITEsIG1vZGFsOiAhMCwgYWN0aW9uczogWyJDbG9zZSJdLCBhbmltYXRpb246ICExLCB2aXNpYmxlOiAhMSB9KS5kYXRhKCJrZW5kb1dpbmRvdyIpOyBlLndyYXBwZXIuYWRkQ2xhc3MoImFqYXhDYXJ0IiksIHMoZG9jdW1lbnQpLm9uKCJjbGljayIsICIuay1vdmVybGF5IiwgZnVuY3Rpb24gKCkgeyBlLmNsb3NlKCkgfSkgfSgpLCBzKCJib2R5Iikub24oImNsaWNrIiwgIi5ub3BBamF4Q2FydFByb2R1Y3RMaXN0QWRkVG9DYXJ0QnV0dG9uIiwgZnVuY3Rpb24gKHQpIHsgdC5wcmV2ZW50RGVmYXVsdCgpLCB5KHQsICEwKSB9KSwgcygiYm9keSIpLm9uKCJjbGljayIsICIubm9wQWpheENhcnRQcm9kdWN0VmFyaWFudEFkZFRvQ2FydEJ1dHRvbiIsIGZ1bmN0aW9uICh0KSB7IEQodCwgcyh0aGlzKS5oYXNDbGFzcygibWluaVByb2R1Y3REZXRhaWxzVmlld0FkZFRvQ2FydEJ1dHRvbiIpLCAhMCkgfSksIHMoImJvZHkiKS5vbigiY2xpY2siLCAiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdBZGRUb1dpc2hsaXN0QnV0dG9uIiwgZnVuY3Rpb24gKHQpIHsgRCh0LCAhMCwgITEpIH0pLCBzKCJib2R5Iikub24oImNsaWNrIiwgIi5wcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3cgLmNvbnRpbnVlU2hvcHBpbmdMaW5rIiwgZnVuY3Rpb24gKHQpIHsgdC5wcmV2ZW50RGVmYXVsdCgpLCBsLmNsb3NlUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KCkgfSksIHMoZG9jdW1lbnQpLm9uKCJub3BBamF4Q2FydEJ1dHRvbnNBZGRlZEV2ZW50IiwgZnVuY3Rpb24gKCkgeyB2YXIgbywgZSwgYSwgdDsgbyA9ICJUcnVlIiA9PT0gKHQgPSBzKGQpKS5hdHRyKCJkYXRhLWVuYWJsZU9uUHJvZHVjdFBhZ2UiKSwgZSA9ICJUcnVlIiA9PT0gdC5hdHRyKCJkYXRhLWVuYWJsZU9uQ2F0YWxvZ1BhZ2VzIiksIHQgPSB0LmF0dHIoImRhdGEtYWRkVG9XaXNobGlzdEJ1dHRvblNlbGVjdG9yIiksIHModCkuZWFjaChmdW5jdGlvbiAoKSB7IHZhciB0ID0gcyh0aGlzKSwgYSA9IG4oKTsgMCA8IHQucGFyZW50cyhhKS5sZW5ndGggPyBlICYmICh0LnByb3AoIm9uY2xpY2siLCBudWxsKS5vZmYoImNsaWNrIiksIHQub24oImNsaWNrIiwgZnVuY3Rpb24gKHQpIHsgdC5wcmV2ZW50RGVmYXVsdCgpLCB5KHQsICExKSB9KSkgOiBvICYmICh0LnByb3AoIm9uY2xpY2siLCBudWxsKS5vZmYoImNsaWNrIiksIHQub24oImNsaWNrIiwgZnVuY3Rpb24gKHQpIHsgdC5wcmV2ZW50RGVmYXVsdCgpLCBEKHQsICExLCAhMSkgfSkpIH0pLCAwICE9PSAodCA9IHMoIi5hamF4Q2FydEFsbG93ZWRRdWFudGl0ZXNIb3ZlciIpKS5sZW5ndGggJiYgKGEgPSB0LmF0dHIoImRhdGEtcHJvZHVjdEl0ZW1TZWxlY3RvciIpLCBzKCIucHJvZHVjdFF1YW50aXR5RHJvcGRvd24iKS5vZmYoIm1vdXNlZG93biIpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbiAoKSB7IHZhciB0ID0gcyh0aGlzKS5jbG9zZXN0KGEpOyB0LmFkZENsYXNzKCJhamF4LWNhcnQtcHJvZHVjdC1pdGVtLWhvdmVyIik7IHQgPSB0LmF0dHIoImRhdGEtcHJvZHVjdGlkIik7IHMoIi5wcm9kdWN0UXVhbnRpdHlDaGFuZ2VkIiArIHQpLnZhbCgieWVzIikgfSksIHMoYSkub2ZmKCJtb3VzZWVudGVyIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbiAoKSB7IHZhciB0ID0gcyh0aGlzKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLCB0ID0gcygiLnByb2R1Y3RRdWFudGl0eUNoYW5nZWQiICsgdCk7ICJ5ZXMiID09PSB0LnZhbCgpICYmIHQudmFsKCJubyIpIH0pLm9mZigibW91c2VsZWF2ZSIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHModGhpcykuYXR0cigiZGF0YS1wcm9kdWN0aWQiKTsgIm5vIiA9PT0gcygiLnByb2R1Y3RRdWFudGl0eUNoYW5nZWQiICsgdCkudmFsKCkgJiYgcyh0aGlzKS5yZW1vdmVDbGFzcygiYWpheC1jYXJ0LXByb2R1Y3QtaXRlbS1ob3ZlciIpIH0pKSB9KSwgcyhkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQgbmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50IiwgdCksIHMoZG9jdW1lbnQpLm9uKCJub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCIsIHQpIH0pIH0od2luZG93Lm5vcEFqYXhDYXJ0ID0gd2luZG93Lm5vcEFqYXhDYXJ0IHx8IHt9LCBqUXVlcnksIHNldmVuU3Bpa2VzQ29yZSk7DQohZnVuY3Rpb24gKHQsIGcsIHMpIHsgdmFyIFAsIGEgPSAicmliYm9uLXdyYXBwZXIiLCBsID0gIiNwcm9kdWN0LXJpYmJvbi1pbmZvIjsgZnVuY3Rpb24gZih0LCBvLCByKSB7IGlmIChvLnByb2R1Y3RFbGVtZW50KSB7IGlmIChyKSB7IGlmICghKGQgPSBzLmdldEF0dHJWYWxGcm9tRG9tKGwsICJkYXRhLXByb2R1Y3RQYWdlQnVnUGljdHVyZUNvbnRhaW5lclNlbGVjdG9yIikpKSByZXR1cm4gfSBlbHNlIGlmICghKGQgPSBzLmdldEF0dHJWYWxGcm9tRG9tKGwsICJkYXRhLXByb2R1Y3RCb3hQaWN0dXJlQ29udGFpbmVyU2VsZWN0b3IiKSkpIHJldHVybjsgdmFyIGUsIGQgPSBvLnByb2R1Y3RFbGVtZW50LmZpbmQoZCk7IGQucGFyZW50KCkuaGFzQ2xhc3MoYSkgfHwgZCAmJiBvLnByb2R1Y3RJZCAmJiAwIDwgby5wcm9kdWN0SWQgJiYgKG8gPSBvLnByb2R1Y3RJZCwgciA/IChlID0gZyh0KS5maWx0ZXIoImRpdltkYXRhLXByb2R1Y3RJZD0nIiArIG8gKyAiJ10iKSwgZCA9IGQuZmlyc3QoKSkgOiBlID0gZyh0KS5maWx0ZXIoImFbZGF0YS1wcm9kdWN0SWQ9JyIgKyBvICsgIiddIiksIGUgJiYgMCA8IGUubGVuZ3RoICYmIChkLndyYXAoJzxkaXYgY2xhc3M9IicgKyBhICsgJyI+PC9kaXY+JyksIGQuYWZ0ZXIoZSkpKSB9IH0gdC5zaG93UmliYm9ucyA9IGZ1bmN0aW9uICgpIHsgdmFyIHQsIG8sIHIsIGUsIGQsIGEsIGMgPSAwLCBuID0gW10sIHUgPSAobyA9ICIucHJvZHVjdC1yaWJib24iLCByID0gcy5nZXRBdHRyVmFsRnJvbURvbShsLCAiZGF0YS1wcm9kdWN0UGFnZVBpY3R1cmVzUGFyZW50Q29udGFpbmVyU2VsZWN0b3IiKSwgZSA9IFtdLCBhID0ge30sIChkID0gcy5nZXRBdHRyVmFsRnJvbURvbShsLCAiZGF0YS1wcm9kdWN0SWQiKSkgJiYgMCA8IGQgJiYgciAmJiAoKHQgPSBnKHIpLmZpbmQobykpICYmIDAgIT09IHQubGVuZ3RoIHx8IChhLnByb2R1Y3RJZCA9IGQsIGEucHJvZHVjdEVsZW1lbnQgPSBnKHIpKSksIGcoUCkuZWFjaChmdW5jdGlvbiAoKSB7IHZhciB0ID0gZyh0aGlzKS5maW5kKG8pOyB0ICYmIDAgIT09IHQubGVuZ3RoIHx8ICh0ID0gZyh0aGlzKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpKSAmJiAwIDwgdCAmJiAodCA9IHsgcHJvZHVjdElkOiB0LCBwcm9kdWN0RWxlbWVudDogZyh0aGlzKSB9LCBlLnB1c2godCkpIH0pLCB7IHByb2R1Y3RQYWdlOiBhLCBjYXRlZ29yeVBhZ2VQcm9kdWN0czogZSB9KTsgaWYgKHUucHJvZHVjdFBhZ2UgJiYgdS5wcm9kdWN0UGFnZS5wcm9kdWN0SWQgJiYgKGMgPSB1LnByb2R1Y3RQYWdlLnByb2R1Y3RJZCksIHUuY2F0ZWdvcnlQYWdlUHJvZHVjdHMgJiYgMCA8IHUuY2F0ZWdvcnlQYWdlUHJvZHVjdHMubGVuZ3RoKSBmb3IgKHZhciBpID0gMDsgaSA8IHUuY2F0ZWdvcnlQYWdlUHJvZHVjdHMubGVuZ3RoOyBpKyspIHsgdmFyIHAgPSB1LmNhdGVnb3J5UGFnZVByb2R1Y3RzW2ldOyBwLmhhc093blByb3BlcnR5KCJwcm9kdWN0SWQiKSAmJiBuLnB1c2gocC5wcm9kdWN0SWQpIH0gIWMgJiYgMCA9PT0gbi5sZW5ndGggfHwgKGcuaXNOdW1lcmljKGMpIHx8IChjID0gMCksIGEgPSB7IHByb2R1Y3RQYWdlSWQ6IGMsIGNhdGVnb3J5UGFnZUlkczogbiB9LCBjID0gcy5nZXRBdHRyVmFsRnJvbURvbSgiI3Byb2R1Y3QtcmliYm9uLWluZm8iLCAiZGF0YS1yZXRyaWV2ZXByb2R1Y3RyaWJib25zdXJsIiksIGcuYWpheCh7IGNhY2hlOiAhMSwgdHlwZTogIlBPU1QiLCBkYXRhOiBnLnRvSlNPTihhKSwgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IiwgdXJsOiBjIH0pLmRvbmUoZnVuY3Rpb24gKHQpIHsgdCAmJiAoZnVuY3Rpb24gKHQsIG8pIHsgaWYgKG8gJiYgby5wcm9kdWN0UGFnZSAmJiBvLnByb2R1Y3RQYWdlLnByb2R1Y3RJZCAmJiBmKHQsIG8ucHJvZHVjdFBhZ2UsICEwKSwgbyAmJiBvLmNhdGVnb3J5UGFnZVByb2R1Y3RzICYmIDAgPCBvLmNhdGVnb3J5UGFnZVByb2R1Y3RzLmxlbmd0aCkgZm9yICh2YXIgciA9IDA7IHIgPCBvLmNhdGVnb3J5UGFnZVByb2R1Y3RzLmxlbmd0aDsgcisrKWYodCwgby5jYXRlZ29yeVBhZ2VQcm9kdWN0c1tyXSkgfSh0LCB1KSwgZy5ldmVudC50cmlnZ2VyKHsgdHlwZTogIm5vcFByb2R1Y3RSaWJib25zTG9hZGluZ0NvbXBsZXRlRXZlbnQiIH0pKSB9KSkgfSwgZyhkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgeyAoUCA9IHMuZ2V0QXR0clZhbEZyb21Eb20obCwgImRhdGEtcHJvZHVjdEJveFNlbGVjdG9yIikpICYmIHQuc2hvd1JpYmJvbnMoKSB9KSwgZyhkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQgbmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50Iiwgbm9wUHJvZHVjdFJpYmJvbnMuc2hvd1JpYmJvbnMpIH0od2luZG93Lm5vcFByb2R1Y3RSaWJib25zID0gd2luZG93Lm5vcFByb2R1Y3RSaWJib25zIHx8IHt9LCBqUXVlcnksIHNldmVuU3Bpa2VzQ29yZSk7DQovKiEKICogRm9vVGFibGUgLSBBd2Vzb21lIFJlc3BvbnNpdmUgVGFibGVzCiAqIFZlcnNpb24gOiAyLjAuMS4yCiAqIGh0dHA6Ly9mb29wbHVnaW5zLmNvbS9wbHVnaW5zL2Zvb3RhYmxlLWpxdWVyeS8KICoKICogUmVxdWlyZXMgalF1ZXJ5IC0gaHR0cDovL2pxdWVyeS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEzIFN0ZXZlbiBVc2hlciAmIEJyYWQgVmluY2VudAogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogWW91IGFyZSBmcmVlIHRvIHVzZSBGb29UYWJsZSBpbiBjb21tZXJjaWFsIHByb2plY3RzIGFzIGxvbmcgYXMgdGhpcyBjb3B5cmlnaHQgaGVhZGVyIGlzIGxlZnQgaW50YWN0LgogKgogKiBEYXRlOiAyMSBTZXAgMjAxMwogKi8KCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9Ii5vcmRlci1zdW1tYXJ5LWNvbnRlbnQgLmNhcnQsIC53aXNobGlzdC1jb250ZW50IC5jYXJ0LCAucmV0dXJuLXJlcXVlc3QtcGFnZSAuZGF0YS10YWJsZSIsZT0iLnVwZGF0ZS1jYXJ0LWJ1dHRvbiwgLnVwZGF0ZS13aXNobGlzdC1idXR0b24sIC5zdWJtaXQtcmV0dXJuLXJlcXVlc3QtYnV0dG9uIjskKGEpLmxlbmd0aDwxfHwkKGUpLmxlbmd0aDwxfHwkKGUpLm9uZSgiY2xpY2siLGZ1bmN0aW9uKCl7JChhKS5maW5kKCJ0ciIpLm5vdCgiLmZvb3RhYmxlLXJvdy1kZXRhaWwiKS5maW5kKCJpbnB1dCwgc2VsZWN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBlPSQodGhpcyksdD0kKGEpLmZpbmQoImlucHV0LCBzZWxlY3QiKS5maWx0ZXIoJ1tuYW1lPSInK2UuYXR0cigibmFtZSIpKyciXScpLm5vdChlKTsiY2hlY2tib3giPT1lLmF0dHIoInR5cGUiKSYmKHQ9dC5maWx0ZXIoJ1t2YWx1ZT0iJytlLmF0dHIoInZhbHVlIikrJyJdJykpLDA8dC5sZW5ndGgmJigiY2hlY2tib3giPT1lLmF0dHIoInR5cGUiKT9lLmF0dHIoImNoZWNrZWQiLHQuZmlyc3QoKS5pcygiOmNoZWNrZWQiKSk6ZS52YWwodC5maXJzdCgpLnZhbCgpKSx0LnJlbW92ZSgpKX0pfSl9KSxmdW5jdGlvbihtLGksZSl7aS5mb290YWJsZT17b3B0aW9uczp7ZGVsYXk6MTAwLGJyZWFrcG9pbnRzOnt3NDEwOjQxMCx3NDgwOjQ4MCx3NTgwOjU4MCx3NzY4Ojc2OCx3OTgwOjk4MCx3MTAwMDoxZTN9LHBhcnNlcnM6e2FscGhhOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUpLmRhdGEoInZhbHVlIil8fG0udHJpbShtKGUpLnRleHQoKSl9LG51bWVyaWM6ZnVuY3Rpb24oZSl7dmFyIHQ9bShlKS5kYXRhKCJ2YWx1ZSIpfHxtKGUpLnRleHQoKS5yZXBsYWNlKC9bXjAtOS5cLV0vZywiIik7cmV0dXJuIHQ9cGFyc2VGbG9hdCh0KSxpc05hTih0KSYmKHQ9MCksdH19LGFkZFJvd1RvZ2dsZTohMCxjYWxjdWxhdGVXaWR0aE92ZXJyaWRlOm51bGwsdG9nZ2xlU2VsZWN0b3I6IiA+IHRib2R5ID4gdHI6bm90KC5mb290YWJsZS1yb3ctZGV0YWlsKSIsY29sdW1uRGF0YVNlbGVjdG9yOiI+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoLCA+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRkIixkZXRhaWxTZXBhcmF0b3I6IjoiLHRvZ2dsZUhUTUxFbGVtZW50OiI8c3BhbiAvPiIsY3JlYXRlR3JvdXBlZERldGFpbDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9e19ub25lOntuYW1lOm51bGwsZGF0YTpbXX19LGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIG89ZVthXS5ncm91cDtudWxsIT09bz8obyBpbiB0fHwodFtvXT17bmFtZTplW2FdLmdyb3VwTmFtZXx8ZVthXS5ncm91cCxkYXRhOltdfSksdFtvXS5kYXRhLnB1c2goZVthXSkpOnQuX25vbmUuZGF0YS5wdXNoKGVbYV0pfXJldHVybiB0fSxjcmVhdGVEZXRhaWw6ZnVuY3Rpb24oZSx0LGEsbyxpKXt2YXIgbj1hKHQpO2Zvcih2YXIgciBpbiBuKWlmKDAhPT1uW3JdLmRhdGEubGVuZ3RoKXsiX25vbmUiIT09ciYmZS5hcHBlbmQoJzxkaXYgY2xhc3M9IicraS5kZXRhaWxJbm5lckdyb3VwKyciPicrbltyXS5uYW1lKyI8L2Rpdj4iKTtmb3IodmFyIGw9MDtsPG5bcl0uZGF0YS5sZW5ndGg7bCsrKXt2YXIgZD1uW3JdLmRhdGFbbF0ubmFtZT9vOiIiO2UuYXBwZW5kKCc8ZGl2IGNsYXNzPSInK2kuZGV0YWlsSW5uZXJSb3crJyI+PGRpdiBjbGFzcz0iJytpLmRldGFpbElubmVyTmFtZSsnIj4nK25bcl0uZGF0YVtsXS5uYW1lK2QrJzwvZGl2PjxkaXYgY2xhc3M9IicraS5kZXRhaWxJbm5lclZhbHVlKyciPicrbltyXS5kYXRhW2xdLmRpc3BsYXkrIjwvZGl2PjwvZGl2PiIpfX19LGNsYXNzZXM6e21haW46ImZvb3RhYmxlIixsb2FkaW5nOiJmb290YWJsZS1sb2FkaW5nIixsb2FkZWQ6ImZvb3RhYmxlLWxvYWRlZCIsdG9nZ2xlOiJmb290YWJsZS10b2dnbGUiLGRpc2FibGVkOiJmb290YWJsZS1kaXNhYmxlZCIsZGV0YWlsOiJmb290YWJsZS1yb3ctZGV0YWlsIixkZXRhaWxDZWxsOiJmb290YWJsZS1yb3ctZGV0YWlsLWNlbGwiLGRldGFpbElubmVyOiJmb290YWJsZS1yb3ctZGV0YWlsLWlubmVyIixkZXRhaWxJbm5lclJvdzoiZm9vdGFibGUtcm93LWRldGFpbC1yb3ciLGRldGFpbElubmVyR3JvdXA6ImZvb3RhYmxlLXJvdy1kZXRhaWwtZ3JvdXAiLGRldGFpbElubmVyTmFtZToiZm9vdGFibGUtcm93LWRldGFpbC1uYW1lIixkZXRhaWxJbm5lclZhbHVlOiJmb290YWJsZS1yb3ctZGV0YWlsLXZhbHVlIixkZXRhaWxTaG93OiJmb290YWJsZS1kZXRhaWwtc2hvdyJ9LHRyaWdnZXJzOntpbml0aWFsaXplOiJmb290YWJsZV9pbml0aWFsaXplIixyZXNpemU6ImZvb3RhYmxlX3Jlc2l6ZSIscmVkcmF3OiJmb290YWJsZV9yZWRyYXciLHRvZ2dsZVJvdzoiZm9vdGFibGVfdG9nZ2xlX3JvdyIsZXhwYW5kRmlyc3RSb3c6ImZvb3RhYmxlX2V4cGFuZF9maXJzdF9yb3ciLGV4cGFuZEFsbDoiZm9vdGFibGVfZXhwYW5kX2FsbCIsY29sbGFwc2VBbGw6ImZvb3RhYmxlX2NvbGxhcHNlX2FsbCJ9LGV2ZW50czp7YWxyZWFkeUluaXRpYWxpemVkOiJmb290YWJsZV9hbHJlYWR5X2luaXRpYWxpemVkIixpbml0aWFsaXppbmc6ImZvb3RhYmxlX2luaXRpYWxpemluZyIsaW5pdGlhbGl6ZWQ6ImZvb3RhYmxlX2luaXRpYWxpemVkIixyZXNpemluZzoiZm9vdGFibGVfcmVzaXppbmciLHJlc2l6ZWQ6ImZvb3RhYmxlX3Jlc2l6ZWQiLHJlZHJhd246ImZvb3RhYmxlX3JlZHJhd24iLGJyZWFrcG9pbnQ6ImZvb3RhYmxlX2JyZWFrcG9pbnQiLGNvbHVtbkRhdGE6ImZvb3RhYmxlX2NvbHVtbl9kYXRhIixyb3dEZXRhaWxVcGRhdGluZzoiZm9vdGFibGVfcm93X2RldGFpbF91cGRhdGluZyIscm93RGV0YWlsVXBkYXRlZDoiZm9vdGFibGVfcm93X2RldGFpbF91cGRhdGVkIixyb3dDb2xsYXBzZWQ6ImZvb3RhYmxlX3Jvd19jb2xsYXBzZWQiLHJvd0V4cGFuZGVkOiJmb290YWJsZV9yb3dfZXhwYW5kZWQiLHJvd1JlbW92ZWQ6ImZvb3RhYmxlX3Jvd19yZW1vdmVkIixyZXNldDoiZm9vdGFibGVfcmVzZXQifSxkZWJ1ZzohMSxsb2c6bnVsbH0sdmVyc2lvbjp7bWFqb3I6MCxtaW5vcjo1LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZm9vdGFibGUudmVyc2lvbi5tYWpvcisiLiIraS5mb290YWJsZS52ZXJzaW9uLm1pbm9yfSxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gdmVyc2lvbj0vKFxkKylcLj8oXGQrKT9cLj8oXGQrKT8vLmV4ZWMoZSkse21ham9yOnBhcnNlSW50KHZlcnNpb25bMV0sMTApfHwwLG1pbm9yOnBhcnNlSW50KHZlcnNpb25bMl0sMTApfHwwLHBhdGNoOnBhcnNlSW50KHZlcnNpb25bM10sMTApfHwwfX19LHBsdWdpbnM6e192YWxpZGF0ZTpmdW5jdGlvbihlKXtpZighbS5pc0Z1bmN0aW9uKGUpKXJldHVybiEwPT09aS5mb290YWJsZS5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCwgZXhwZWN0ZWQgdHlwZSAiZnVuY3Rpb24iLCByZWNlaXZlZCB0eXBlICJ7MH0iLicsdHlwZW9mIGUpLCExO3ZhciB0PW5ldyBlO3JldHVybiJzdHJpbmciIT10eXBlb2YgdC5uYW1lPyghMD09PWkuZm9vdGFibGUub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBmYWlsZWQsIHBsdWdpbiBkb2VzIG5vdCBpbXBsZW1lbnQgYSBzdHJpbmcgcHJvcGVydHkgY2FsbGVkICJuYW1lIi4nLHQpLCExKTptLmlzRnVuY3Rpb24odC5pbml0KT8oITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUubG9nKCdWYWxpZGF0aW9uIHN1Y2NlZWRlZCBmb3IgcGx1Z2luICInK3QubmFtZSsnIi4nLHQpLCEwKTooITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkLCBwbHVnaW4gIicrdC5uYW1lKyciIGRvZXMgbm90IGltcGxlbWVudCBhIGZ1bmN0aW9uIGNhbGxlZCAiaW5pdCIuJyx0KSwhMSl9LHJlZ2lzdGVyZWQ6W10scmVnaXN0ZXI6ZnVuY3Rpb24oZSx0KXtpLmZvb3RhYmxlLnBsdWdpbnMuX3ZhbGlkYXRlKGUpJiYoaS5mb290YWJsZS5wbHVnaW5zLnJlZ2lzdGVyZWQucHVzaChlKSwib2JqZWN0Ij09dHlwZW9mIHQmJm0uZXh0ZW5kKCEwLGkuZm9vdGFibGUub3B0aW9ucyx0KSl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQsYSxvPVtdO2ZvcihhPTA7YTxpLmZvb3RhYmxlLnBsdWdpbnMucmVnaXN0ZXJlZC5sZW5ndGg7YSsrKXRyeXt0PWkuZm9vdGFibGUucGx1Z2lucy5yZWdpc3RlcmVkW2FdLG8ucHVzaChuZXcgdChlKSl9Y2F0Y2goZSl7ITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoZSl9cmV0dXJuIG99LGluaXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLnBsdWdpbnMubGVuZ3RoO3QrKyl0cnl7ZS5wbHVnaW5zW3RdLmluaXQoZSl9Y2F0Y2goZSl7ITA9PT1pLmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoZSl9fX19O3ZhciBhPTA7ZnVuY3Rpb24gbygpe3ZhciBhPXRoaXM7YS5pZD1udWxsLGEuYnVzeT0hMSxhLnN0YXJ0PWZ1bmN0aW9uKGUsdCl7YS5idXN5fHwoYS5zdG9wKCksYS5pZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSgpLGEuaWQ9bnVsbCxhLmJ1c3k9ITF9LHQpLGEuYnVzeT0hMCl9LGEuc3RvcD1mdW5jdGlvbigpe251bGwhPT1hLmlkJiYoY2xlYXJUaW1lb3V0KGEuaWQpLGEuaWQ9bnVsbCxhLmJ1c3k9ITEpfX1mdW5jdGlvbiBuKGUsdCxhKXt2YXIgcD10aGlzO3AuaWQ9YSxwLnRhYmxlPWUscC5vcHRpb25zPXQscC5icmVha3BvaW50cz1bXSxwLmJyZWFrcG9pbnROYW1lcz0iIixwLmNvbHVtbnM9e30scC5wbHVnaW5zPWkuZm9vdGFibGUucGx1Z2lucy5sb2FkKHApO3ZhciBnPXAub3B0aW9ucyxzPWcuY2xhc3NlcyxiPWcuZXZlbnRzLHU9Zy50cmlnZ2VycyxoPTA7cmV0dXJuIHAudGltZXJzPXtyZXNpemU6bmV3IG8scmVnaXN0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHAudGltZXJzW2VdPW5ldyBvLHAudGltZXJzW2VdfX0scC5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9bShpKSx0PW0ocC50YWJsZSk7aWYoaS5mb290YWJsZS5wbHVnaW5zLmluaXQocCksdC5oYXNDbGFzcyhzLmxvYWRlZCkpcC5yYWlzZShiLmFscmVhZHlJbml0aWFsaXplZCk7ZWxzZXtmb3IodmFyIGEgaW4gcC5yYWlzZShiLmluaXRpYWxpemluZyksdC5hZGRDbGFzcyhzLmxvYWRpbmcpLHQuZmluZChnLmNvbHVtbkRhdGFTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXAuZ2V0Q29sdW1uRGF0YSh0aGlzKTtwLmNvbHVtbnNbZS5pbmRleF09ZX0pLGcuYnJlYWtwb2ludHMpcC5icmVha3BvaW50cy5wdXNoKHtuYW1lOmEsd2lkdGg6Zy5icmVha3BvaW50c1thXX0pLHAuYnJlYWtwb2ludE5hbWVzKz1hKyIgIjtwLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS53aWR0aC10LndpZHRofSksdC51bmJpbmQodS5pbml0aWFsaXplKS5iaW5kKHUuaW5pdGlhbGl6ZSxmdW5jdGlvbigpe3QucmVtb3ZlRGF0YSgiZm9vdGFibGVfaW5mbyIpLHQuZGF0YSgiYnJlYWtwb2ludCIsIiIpLHQudHJpZ2dlcih1LnJlc2l6ZSksdC5yZW1vdmVDbGFzcyhzLmxvYWRpbmcpLHQuYWRkQ2xhc3Mocy5sb2FkZWQpLmFkZENsYXNzKHMubWFpbikscC5yYWlzZShiLmluaXRpYWxpemVkKX0pLnVuYmluZCh1LnJlZHJhdykuYmluZCh1LnJlZHJhdyxmdW5jdGlvbigpe3AucmVkcmF3KCl9KS51bmJpbmQodS5yZXNpemUpLmJpbmQodS5yZXNpemUsZnVuY3Rpb24oKXtwLnJlc2l6ZSgpfSkudW5iaW5kKHUuZXhwYW5kRmlyc3RSb3cpLmJpbmQodS5leHBhbmRGaXJzdFJvdyxmdW5jdGlvbigpe3QuZmluZChnLnRvZ2dsZVNlbGVjdG9yKS5maXJzdCgpLm5vdCgiLiIrcy5kZXRhaWxTaG93KS50cmlnZ2VyKHUudG9nZ2xlUm93KX0pLnVuYmluZCh1LmV4cGFuZEFsbCkuYmluZCh1LmV4cGFuZEFsbCxmdW5jdGlvbigpe3QuZmluZChnLnRvZ2dsZVNlbGVjdG9yKS5ub3QoIi4iK3MuZGV0YWlsU2hvdykudHJpZ2dlcih1LnRvZ2dsZVJvdyl9KS51bmJpbmQodS5jb2xsYXBzZUFsbCkuYmluZCh1LmNvbGxhcHNlQWxsLGZ1bmN0aW9uKCl7dC5maW5kKCIuIitzLmRldGFpbFNob3cpLnRyaWdnZXIodS50b2dnbGVSb3cpfSksdC50cmlnZ2VyKHUuaW5pdGlhbGl6ZSksZS5iaW5kKCJyZXNpemUuZm9vdGFibGUiLGZ1bmN0aW9uKCl7cC50aW1lcnMucmVzaXplLnN0b3AoKSxwLnRpbWVycy5yZXNpemUuc3RhcnQoZnVuY3Rpb24oKXtwLnJhaXNlKHUucmVzaXplKX0sZy5kZWxheSl9KX19LHAuYWRkUm93VG9nZ2xlPWZ1bmN0aW9uKCl7aWYoZy5hZGRSb3dUb2dnbGUpe3ZhciBlPW0ocC50YWJsZSksdD0hMTtmb3IodmFyIGEgaW4gZS5maW5kKCJzcGFuLiIrcy50b2dnbGUpLnJlbW92ZSgpLHAuY29sdW1ucyl7dmFyIG89cC5jb2x1bW5zW2FdO2lmKG8udG9nZ2xlKXt0PSEwO3ZhciBpPSI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIsLiIrcy5kaXNhYmxlZCsiKSA+IHRkOm50aC1jaGlsZCgiKyhwYXJzZUludChvLmluZGV4LDEwKSsxKSsiKSI7cmV0dXJuIHZvaWQgZS5maW5kKGkpLm5vdCgiLiIrcy5kZXRhaWxDZWxsKS5wcmVwZW5kKG0oZy50b2dnbGVIVE1MRWxlbWVudCkuYWRkQ2xhc3Mocy50b2dnbGUpKX19dHx8ZS5maW5kKCI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIsLiIrcy5kaXNhYmxlZCsiKSA+IHRkOmZpcnN0LWNoaWxkIikubm90KCIuIitzLmRldGFpbENlbGwpLnByZXBlbmQobShnLnRvZ2dsZUhUTUxFbGVtZW50KS5hZGRDbGFzcyhzLnRvZ2dsZSkpfX0scC5zZXRDb2x1bW5DbGFzc2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluICR0YWJsZT1tKHAudGFibGUpLHAuY29sdW1ucyl7dmFyIHQ9cC5jb2x1bW5zW2VdO2lmKG51bGwhPT10LmNsYXNzTmFtZSl7dmFyIGE9IiIsbz0hMDttLmVhY2godC5tYXRjaGVzLGZ1bmN0aW9uKGUsdCl7b3x8KGErPSIsICIpLGErPSI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIpID4gdGQ6bnRoLWNoaWxkKCIrKHBhcnNlSW50KHQsMTApKzEpKyIpIixvPSExfSksJHRhYmxlLmZpbmQoYSkubm90KCIuIitzLmRldGFpbENlbGwpLmFkZENsYXNzKHQuY2xhc3NOYW1lKX19fSxwLmJpbmRUb2dnbGVTZWxlY3RvcnM9ZnVuY3Rpb24oKXt2YXIgdD1tKHAudGFibGUpO3AuaGFzQW55QnJlYWtwb2ludENvbHVtbigpJiYodC5maW5kKGcudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCh1LnRvZ2dsZVJvdykuYmluZCh1LnRvZ2dsZVJvdyxmdW5jdGlvbihlKXt2YXIgdD1tKHRoaXMpLmlzKCJ0ciIpP20odGhpcyk6bSh0aGlzKS5wYXJlbnRzKCJ0cjpmaXJzdCIpO3AudG9nZ2xlRGV0YWlsKHQpfSksdC5maW5kKGcudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCgiY2xpY2suZm9vdGFibGUiKS5iaW5kKCJjbGljay5mb290YWJsZSIsZnVuY3Rpb24oZSl7dC5pcygiLmJyZWFrcG9pbnQiKSYmbShlLnRhcmdldCkuaXMoInRkLC4iK3MudG9nZ2xlKSYmbSh0aGlzKS50cmlnZ2VyKHUudG9nZ2xlUm93KX0pKX0scC5wYXJzZT1mdW5jdGlvbihlLHQpe3JldHVybihnLnBhcnNlcnNbdC50eXBlXXx8Zy5wYXJzZXJzLmFscGhhKShlKX0scC5nZXRDb2x1bW5EYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PW0oZSksYT10LmRhdGEoImhpZGUiKSxvPXQuaW5kZXgoKTthPWF8fCIiLGE9alF1ZXJ5Lm1hcChhLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7cmV0dXJuIGpRdWVyeS50cmltKGUpfSk7dmFyIGk9e2luZGV4Om8saGlkZTp7fSx0eXBlOnQuZGF0YSgidHlwZSIpfHwiYWxwaGEiLG5hbWU6dC5kYXRhKCJuYW1lIil8fG0udHJpbSh0LnRleHQoKSksaWdub3JlOnQuZGF0YSgiaWdub3JlIil8fCExLHRvZ2dsZTp0LmRhdGEoInRvZ2dsZSIpfHwhMSxjbGFzc05hbWU6dC5kYXRhKCJjbGFzcyIpfHxudWxsLG1hdGNoZXM6W10sbmFtZXM6e30sZ3JvdXA6dC5kYXRhKCJncm91cCIpfHxudWxsLGdyb3VwTmFtZTpudWxsfTtpZihudWxsIT09aS5ncm91cCl7dmFyIG49bShwLnRhYmxlKS5maW5kKCc+IHRoZWFkID4gdHIuZm9vdGFibGUtZ3JvdXAtcm93ID4gdGhbZGF0YS1ncm91cD0iJytpLmdyb3VwKyciXSwgPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyA+IHRkW2RhdGEtZ3JvdXA9IicraS5ncm91cCsnIl0nKS5maXJzdCgpO2kuZ3JvdXBOYW1lPXAucGFyc2Uobix7dHlwZToiYWxwaGEifSl9dmFyIHI9cGFyc2VJbnQodC5wcmV2KCkuYXR0cigiY29sc3BhbiIpfHwwLDEwKTtoKz0xPHI/ci0xOjA7dmFyIGw9cGFyc2VJbnQodC5hdHRyKCJjb2xzcGFuIil8fDAsMTApLGQ9aS5pbmRleCtoO2lmKDE8bCl7dmFyIHM9dC5kYXRhKCJuYW1lcyIpO3M9KHM9c3x8IiIpLnNwbGl0KCIsIik7Zm9yKHZhciB1PTA7dTxsO3UrKylpLm1hdGNoZXMucHVzaCh1K2QpLHU8cy5sZW5ndGgmJihpLm5hbWVzW3UrZF09c1t1XSl9ZWxzZSBpLm1hdGNoZXMucHVzaChkKTtpLmhpZGUuZGVmYXVsdD0iYWxsIj09PXQuZGF0YSgiaGlkZSIpfHwwPD1tLmluQXJyYXkoImRlZmF1bHQiLGEpO3ZhciBmPSExO2Zvcih2YXIgYyBpbiBnLmJyZWFrcG9pbnRzKWkuaGlkZVtjXT0iYWxsIj09PXQuZGF0YSgiaGlkZSIpfHwwPD1tLmluQXJyYXkoYyxhKSxmPWZ8fGkuaGlkZVtjXTtyZXR1cm4gaS5oYXNCcmVha3BvaW50PWYscC5yYWlzZShiLmNvbHVtbkRhdGEse2NvbHVtbjp7ZGF0YTppLHRoOmV9fSkuY29sdW1uLmRhdGF9LHAuZ2V0Vmlld3BvcnRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJXaWR0aHx8KGRvY3VtZW50LmJvZHk/ZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aDowKX0scC5jYWxjdWxhdGVXaWR0aD1mdW5jdGlvbihlLHQpe3JldHVybiBqUXVlcnkuaXNGdW5jdGlvbihnLmNhbGN1bGF0ZVdpZHRoT3ZlcnJpZGUpP2cuY2FsY3VsYXRlV2lkdGhPdmVycmlkZShlLHQpOih0LnZpZXdwb3J0V2lkdGg8dC53aWR0aCYmKHQud2lkdGg9dC52aWV3cG9ydFdpZHRoKSx0LnBhcmVudFdpZHRoPHQud2lkdGgmJih0LndpZHRoPXQucGFyZW50V2lkdGgpLHQpfSxwLmhhc0JyZWFrcG9pbnRDb2x1bW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHAuY29sdW1ucylpZihwLmNvbHVtbnNbdF0uaGlkZVtlXSl7aWYocC5jb2x1bW5zW3RdLmlnbm9yZSljb250aW51ZTtyZXR1cm4hMH1yZXR1cm4hMX0scC5oYXNBbnlCcmVha3BvaW50Q29sdW1uPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHAuY29sdW1ucylpZihwLmNvbHVtbnNbZV0uaGFzQnJlYWtwb2ludClyZXR1cm4hMDtyZXR1cm4hMX0scC5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgZT1tKHAudGFibGUpO2lmKGUuaXMoIjp2aXNpYmxlIikmJnAuaGFzQW55QnJlYWtwb2ludENvbHVtbigpKXt2YXIgdD17d2lkdGg6ZS53aWR0aCgpLHZpZXdwb3J0V2lkdGg6cC5nZXRWaWV3cG9ydFdpZHRoKCkscGFyZW50V2lkdGg6ZS5wYXJlbnQoKS53aWR0aCgpfTt0PXAuY2FsY3VsYXRlV2lkdGgoZSx0KTt2YXIgYT1lLmRhdGEoImZvb3RhYmxlX2luZm8iKTtpZihlLmRhdGEoImZvb3RhYmxlX2luZm8iLHQpLHAucmFpc2UoYi5yZXNpemluZyx7b2xkOmEsaW5mbzp0fSksIWF8fGEmJmEud2lkdGgmJmEud2lkdGghPT10LndpZHRoKXtmb3IodmFyIG8saT1udWxsLG49MDtuPHAuYnJlYWtwb2ludHMubGVuZ3RoO24rKylpZigobz1wLmJyZWFrcG9pbnRzW25dKSYmby53aWR0aCYmdC53aWR0aDw9by53aWR0aCl7aT1vO2JyZWFrfXZhciByPW51bGw9PT1pPyJkZWZhdWx0IjppLm5hbWUsbD1wLmhhc0JyZWFrcG9pbnRDb2x1bW4ociksZD1lLmRhdGEoImJyZWFrcG9pbnQiKTtlLmRhdGEoImJyZWFrcG9pbnQiLHIpLnJlbW92ZUNsYXNzKCJkZWZhdWx0IGJyZWFrcG9pbnQiKS5yZW1vdmVDbGFzcyhwLmJyZWFrcG9pbnROYW1lcykuYWRkQ2xhc3MocisobD8iIGJyZWFrcG9pbnQiOiIiKSksciE9PWQmJihlLnRyaWdnZXIodS5yZWRyYXcpLHAucmFpc2UoYi5icmVha3BvaW50LHticmVha3BvaW50OnIsaW5mbzp0fSkpfXAucmFpc2UoYi5yZXNpemVkLHtvbGQ6YSxpbmZvOnR9KX19LHAucmVkcmF3PWZ1bmN0aW9uKCl7cC5hZGRSb3dUb2dnbGUoKSxwLmJpbmRUb2dnbGVTZWxlY3RvcnMoKSxwLnNldENvbHVtbkNsYXNzZXMoKTt2YXIgbD1tKHAudGFibGUpLGQ9bC5kYXRhKCJicmVha3BvaW50IiksdD1wLmhhc0JyZWFrcG9pbnRDb2x1bW4oZCk7bC5maW5kKCI+IHRib2R5ID4gdHI6bm90KC4iK3MuZGV0YWlsKyIpIikuZGF0YSgiZGV0YWlsX2NyZWF0ZWQiLCExKS5lbmQoKS5maW5kKCI+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXAuY29sdW1uc1ttKHRoaXMpLmluZGV4KCldLG89IiIsaT0hMDttLmVhY2goZS5tYXRjaGVzLGZ1bmN0aW9uKGUsdCl7aXx8KG8rPSIsICIpO3ZhciBhPXQrMTtvKz0iPiB0Ym9keSA+IHRyOm5vdCguIitzLmRldGFpbCsiKSA+IHRkOm50aC1jaGlsZCgiK2ErIikiLG8rPSIsID4gdGZvb3QgPiB0cjpub3QoLiIrcy5kZXRhaWwrIikgPiB0ZDpudGgtY2hpbGQoIithKyIpIixvKz0iLCA+IGNvbGdyb3VwID4gY29sOm50aC1jaGlsZCgiK2ErIikiLGk9ITF9KSxvKz0nLCA+IHRoZWFkID4gdHJbZGF0YS1ncm91cC1yb3c9InRydWUiXSA+IHRoW2RhdGEtZ3JvdXA9IicrZS5ncm91cCsnIl0nO3ZhciB0PWwuZmluZChvKS5hZGQodGhpcyk7aWYoITE9PT1lLmhpZGVbZF0/dC5zaG93KCk6dC5oaWRlKCksMT09PWwuZmluZCgiPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyIpLmxlbmd0aCl7dmFyIGE9bC5maW5kKCc+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoW2RhdGEtZ3JvdXA9IicrZS5ncm91cCsnIl06dmlzaWJsZSwgPiB0aGVhZCA+IHRyOmxhc3QtY2hpbGQgPiB0aFtkYXRhLWdyb3VwPSInK2UuZ3JvdXArJyJdOnZpc2libGUnKSxuPWwuZmluZCgnPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyA+IHRoW2RhdGEtZ3JvdXA9IicrZS5ncm91cCsnIl0sID4gdGhlYWQgPiB0ci5mb290YWJsZS1ncm91cC1yb3cgPiB0ZFtkYXRhLWdyb3VwPSInK2UuZ3JvdXArJyJdJykscj0wO20uZWFjaChhLGZ1bmN0aW9uKCl7cis9cGFyc2VJbnQobSh0aGlzKS5hdHRyKCJjb2xzcGFuIil8fDEsMTApfSksMDxyP24uYXR0cigiY29sc3BhbiIscikuc2hvdygpOm4uaGlkZSgpfX0pLmVuZCgpLmZpbmQoIj4gdGJvZHkgPiB0ci4iK3MuZGV0YWlsU2hvdykuZWFjaChmdW5jdGlvbigpe3AuY3JlYXRlT3JVcGRhdGVEZXRhaWxSb3codGhpcyl9KSxsLmZpbmQoIj4gdGJvZHkgPiB0ci4iK3MuZGV0YWlsU2hvdysiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzKS5uZXh0KCk7ZS5oYXNDbGFzcyhzLmRldGFpbCkmJih0P2Uuc2hvdygpOmUuaGlkZSgpKX0pLGwuZmluZCgiPiB0aGVhZCA+IHRyID4gdGguZm9vdGFibGUtbGFzdC1jb2x1bW4sID4gdGJvZHkgPiB0ciA+IHRkLmZvb3RhYmxlLWxhc3QtY29sdW1uIikucmVtb3ZlQ2xhc3MoImZvb3RhYmxlLWxhc3QtY29sdW1uIiksbC5maW5kKCI+IHRoZWFkID4gdHIgPiB0aC5mb290YWJsZS1maXJzdC1jb2x1bW4sID4gdGJvZHkgPiB0ciA+IHRkLmZvb3RhYmxlLWZpcnN0LWNvbHVtbiIpLnJlbW92ZUNsYXNzKCJmb290YWJsZS1maXJzdC1jb2x1bW4iKSxsLmZpbmQoIj4gdGhlYWQgPiB0ciwgPiB0Ym9keSA+IHRyIikuZmluZCgiPiB0aDp2aXNpYmxlOmxhc3QsID4gdGQ6dmlzaWJsZTpsYXN0IikuYWRkQ2xhc3MoImZvb3RhYmxlLWxhc3QtY29sdW1uIikuZW5kKCkuZmluZCgiPiB0aDp2aXNpYmxlOmZpcnN0LCA+IHRkOnZpc2libGU6Zmlyc3QiKS5hZGRDbGFzcygiZm9vdGFibGUtZmlyc3QtY29sdW1uIikscC5yYWlzZShiLnJlZHJhd24pfSxwLnRvZ2dsZURldGFpbD1mdW5jdGlvbihlKXt2YXIgdD1lLmpxdWVyeT9lOm0oZSksYT10Lm5leHQoKTt0Lmhhc0NsYXNzKHMuZGV0YWlsU2hvdyk/KHQucmVtb3ZlQ2xhc3Mocy5kZXRhaWxTaG93KSxhLmhhc0NsYXNzKHMuZGV0YWlsKSYmYS5oaWRlKCkscC5yYWlzZShiLnJvd0NvbGxhcHNlZCx7cm93OnRbMF19KSk6KHAuY3JlYXRlT3JVcGRhdGVEZXRhaWxSb3codFswXSksdC5hZGRDbGFzcyhzLmRldGFpbFNob3cpLm5leHQoKS5zaG93KCkscC5yYWlzZShiLnJvd0V4cGFuZGVkLHtyb3c6dFswXX0pLG0uZXZlbnQudHJpZ2dlcigiZm9vdGFibGVSb3dPcGVuZWQiKSl9LHAucmVtb3ZlUm93PWZ1bmN0aW9uKGUpe3ZhciB0PWUuanF1ZXJ5P2U6bShlKTt0Lmhhc0NsYXNzKHMuZGV0YWlsKSYmKHQ9dC5wcmV2KCkpO3ZhciBhPXQubmV4dCgpOyEwPT09dC5kYXRhKCJkZXRhaWxfY3JlYXRlZCIpJiZhLnJlbW92ZSgpLHQucmVtb3ZlKCkscC5yYWlzZShiLnJvd1JlbW92ZWQpfSxwLmFwcGVuZFJvdz1mdW5jdGlvbihlKXt2YXIgdD1lLmpxdWVyeT9lOm0oZSk7bShwLnRhYmxlKS5maW5kKCJ0Ym9keSIpLmFwcGVuZCh0KSxwLnJlZHJhdygpfSxwLmdldENvbHVtbkZyb21UZEluZGV4PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7Zm9yKHZhciBhIGluIHAuY29sdW1ucylpZigwPD1tLmluQXJyYXkoZSxwLmNvbHVtbnNbYV0ubWF0Y2hlcykpe3Q9cC5jb2x1bW5zW2FdO2JyZWFrfXJldHVybiB0fSxwLmNyZWF0ZU9yVXBkYXRlRGV0YWlsUm93PWZ1bmN0aW9uKGUpe3ZhciB0LGE9bShlKSxvPWEubmV4dCgpLGk9W107aWYoITA9PT1hLmRhdGEoImRldGFpbF9jcmVhdGVkIikpcmV0dXJuITA7aWYoYS5pcygiOmhpZGRlbiIpKXJldHVybiExO2lmKHAucmFpc2UoYi5yb3dEZXRhaWxVcGRhdGluZyx7cm93OmEsZGV0YWlsOm99KSxhLmZpbmQoIj4gdGQ6aGlkZGVuIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPW0odGhpcykuaW5kZXgoKSx0PXAuZ2V0Q29sdW1uRnJvbVRkSW5kZXgoZSksYT10Lm5hbWU7cmV0dXJuITA9PT10Lmlnbm9yZXx8KGUgaW4gdC5uYW1lcyYmKGE9dC5uYW1lc1tlXSksaS5wdXNoKHtuYW1lOmEsdmFsdWU6cC5wYXJzZSh0aGlzLHQpLGRpc3BsYXk6bS50cmltKG0odGhpcykuaHRtbCgpKSxncm91cDp0Lmdyb3VwLGdyb3VwTmFtZTp0Lmdyb3VwTmFtZX0pKSwhMH0pLDA9PT1pLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1hLmZpbmQoIj4gdGQ6dmlzaWJsZSIpLmxlbmd0aCxyPW8uaGFzQ2xhc3Mocy5kZXRhaWwpO3JldHVybiByfHwobz1tKCc8dHIgY2xhc3M9Iicrcy5kZXRhaWwrJyI+PHRkIGNsYXNzPSInK3MuZGV0YWlsQ2VsbCsnIj48ZGl2IGNsYXNzPSInK3MuZGV0YWlsSW5uZXIrJyI+PC9kaXY+PC90ZD48L3RyPicpLGEuYWZ0ZXIobykpLG8uZmluZCgiPiB0ZDpmaXJzdCIpLmF0dHIoImNvbHNwYW4iLG4pLHQ9by5maW5kKCIuIitzLmRldGFpbElubmVyKS5lbXB0eSgpLGcuY3JlYXRlRGV0YWlsKHQsaSxnLmNyZWF0ZUdyb3VwZWREZXRhaWwsZy5kZXRhaWxTZXBhcmF0b3IscyksYS5kYXRhKCJkZXRhaWxfY3JlYXRlZCIsITApLHAucmFpc2UoYi5yb3dEZXRhaWxVcGRhdGVkLHtyb3c6YSxkZXRhaWw6b30pLCFyfSxwLnJhaXNlPWZ1bmN0aW9uKGUsdCl7ITA9PT1wLm9wdGlvbnMuZGVidWcmJm0uaXNGdW5jdGlvbihwLm9wdGlvbnMubG9nKSYmcC5vcHRpb25zLmxvZyhlLCJldmVudCIpLHQ9dHx8e307dmFyIGE9e2Z0OnB9O20uZXh0ZW5kKCEwLGEsdCk7dmFyIG89bS5FdmVudChlLGEpO3JldHVybiBvLmZ0fHxtLmV4dGVuZCghMCxvLGEpLG0ocC50YWJsZSkudHJpZ2dlcihvKSxvfSxwLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU9bShwLnRhYmxlKTtlLnJlbW92ZURhdGEoImZvb3RhYmxlX2luZm8iKS5kYXRhKCJicmVha3BvaW50IiwiIikucmVtb3ZlQ2xhc3Mocy5sb2FkaW5nKS5yZW1vdmVDbGFzcyhzLmxvYWRlZCksZS5maW5kKGcudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCh1LnRvZ2dsZVJvdykudW5iaW5kKCJjbGljay5mb290YWJsZSIpLGUuZmluZCgiPiB0Ym9keSA+IHRyIikucmVtb3ZlQ2xhc3Mocy5kZXRhaWxTaG93KSxlLmZpbmQoIj4gdGJvZHkgPiB0ci4iK3MuZGV0YWlsKS5yZW1vdmUoKSxwLnJhaXNlKGIucmVzZXQpfSxwLmluaXQoKSxwfW0uZm4uZm9vdGFibGU9ZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgdD1tLmV4dGVuZCghMCx7fSxpLmZvb3RhYmxlLm9wdGlvbnMsZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPW5ldyBuKHRoaXMsdCwrK2EpO20odGhpcykuZGF0YSgiZm9vdGFibGUiLGUpfSl9fShqUXVlcnksd2luZG93KTsNCi8qISBwZXJmZWN0LXNjcm9sbGJhciAtIHYwLjUuOAoqIGh0dHA6Ly9ub3JhZXNhZS5naXRodWIuY29tL3BlcmZlY3Qtc2Nyb2xsYmFyLwoqIENvcHlyaWdodCAoYykgMjAxNCBIeXVuamUgQWxleCBKdW47IExpY2Vuc2VkIE1JVCAqLwooZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2UocmVxdWlyZSgianF1ZXJ5IikpOmUoalF1ZXJ5KX0pKGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9wYXJzZUludChlLDEwKTp+fmV9dmFyIG89e3doZWVsU3BlZWQ6MSx3aGVlbFByb3BhZ2F0aW9uOiExLHN3aXBlUHJvcGFnYXRpb246ITAsbWluU2Nyb2xsYmFyTGVuZ3RoOm51bGwsbWF4U2Nyb2xsYmFyTGVuZ3RoOm51bGwsdXNlQm90aFdoZWVsQXhlczohMSx1c2VLZXlib2FyZDohMCxzdXBwcmVzc1Njcm9sbFg6ITEsc3VwcHJlc3NTY3JvbGxZOiExLHNjcm9sbFhNYXJnaW5PZmZzZXQ6MCxzY3JvbGxZTWFyZ2luT2Zmc2V0OjAsaW5jbHVkZVBhZGRpbmc6ITF9LG49MCxyPWZ1bmN0aW9uKCl7dmFyIGU9bisrO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbz0iLnBlcmZlY3Qtc2Nyb2xsYmFyLSIrZTtyZXR1cm4gdD09PXZvaWQgMD9vOnQrb319LGw9IldlYmtpdEFwcGVhcmFuY2UiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2UuZm4ucGVyZmVjdFNjcm9sbGJhcj1mdW5jdGlvbihuLGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGUsbyl7dmFyIG49ZStvLHI9RC1SO2o9MD5uPzA6bj5yP3I6bjt2YXIgbD10KGoqKFktRCkvKEQtUikpO00uc2Nyb2xsVG9wKGwpfWZ1bmN0aW9uIHMoZSxvKXt2YXIgbj1lK28scj1FLWs7Vz0wPm4/MDpuPnI/cjpuO3ZhciBsPXQoVyooQy1FKS8oRS1rKSk7TS5zY3JvbGxMZWZ0KGwpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIFAubWluU2Nyb2xsYmFyTGVuZ3RoJiYoZT1NYXRoLm1heChlLFAubWluU2Nyb2xsYmFyTGVuZ3RoKSksUC5tYXhTY3JvbGxiYXJMZW5ndGgmJihlPU1hdGgubWluKGUsUC5tYXhTY3JvbGxiYXJMZW5ndGgpKSxlfWZ1bmN0aW9uIHUoKXt2YXIgZT17d2lkdGg6SX07ZS5sZWZ0PUI/TS5zY3JvbGxMZWZ0KCkrRS1DOk0uc2Nyb2xsTGVmdCgpLE4/ZS5ib3R0b209Xy1NLnNjcm9sbFRvcCgpOmUudG9wPVErTS5zY3JvbGxUb3AoKSxILmNzcyhlKTt2YXIgdD17dG9wOk0uc2Nyb2xsVG9wKCksaGVpZ2h0OkF9O1o/dC5yaWdodD1CP0MtTS5zY3JvbGxMZWZ0KCktVi1KLm91dGVyV2lkdGgoKTpWLU0uc2Nyb2xsTGVmdCgpOnQubGVmdD1CP00uc2Nyb2xsTGVmdCgpKzIqRS1DLSQtSi5vdXRlcldpZHRoKCk6JCtNLnNjcm9sbExlZnQoKSxHLmNzcyh0KSxVLmNzcyh7bGVmdDpXLHdpZHRoOmsten0pLEouY3NzKHt0b3A6aixoZWlnaHQ6Ui1ldH0pfWZ1bmN0aW9uIGQoKXtNLnJlbW92ZUNsYXNzKCJwcy1hY3RpdmUteCIpLE0ucmVtb3ZlQ2xhc3MoInBzLWFjdGl2ZS15IiksRT1QLmluY2x1ZGVQYWRkaW5nP00uaW5uZXJXaWR0aCgpOk0ud2lkdGgoKSxEPVAuaW5jbHVkZVBhZGRpbmc/TS5pbm5lckhlaWdodCgpOk0uaGVpZ2h0KCksQz1NLnByb3AoInNjcm9sbFdpZHRoIiksWT1NLnByb3AoInNjcm9sbEhlaWdodCIpLCFQLnN1cHByZXNzU2Nyb2xsWCYmQz5FK1Auc2Nyb2xsWE1hcmdpbk9mZnNldD8oWD0hMCxJPUUtRixrPWModChJKkUvQykpLFc9dChNLnNjcm9sbExlZnQoKSooSS1rKS8oQy1FKSkpOihYPSExLGs9MCxXPTAsTS5zY3JvbGxMZWZ0KDApKSwhUC5zdXBwcmVzc1Njcm9sbFkmJlk+RCtQLnNjcm9sbFlNYXJnaW5PZmZzZXQ/KE89ITAsQT1ELXR0LFI9Yyh0KEEqRC9ZKSksaj10KE0uc2Nyb2xsVG9wKCkqKEEtUikvKFktRCkpKTooTz0hMSxSPTAsaj0wLE0uc2Nyb2xsVG9wKDApKSxXPj1JLWsmJihXPUktayksaj49QS1SJiYoaj1BLVIpLHUoKSxYJiZNLmFkZENsYXNzKCJwcy1hY3RpdmUteCIpLE8mJk0uYWRkQ2xhc3MoInBzLWFjdGl2ZS15Iil9ZnVuY3Rpb24gcCgpe3ZhciB0LG8sbj1mdW5jdGlvbihlKXtzKHQsZS5wYWdlWC1vKSxkKCksZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCl9LHI9ZnVuY3Rpb24oKXtILnJlbW92ZUNsYXNzKCJpbi1zY3JvbGxpbmciKSxlKHEpLnVuYmluZChLKCJtb3VzZW1vdmUiKSxuKX07VS5iaW5kKEsoIm1vdXNlZG93biIpLGZ1bmN0aW9uKGwpe289bC5wYWdlWCx0PVUucG9zaXRpb24oKS5sZWZ0LEguYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpLGUocSkuYmluZChLKCJtb3VzZW1vdmUiKSxuKSxlKHEpLm9uZShLKCJtb3VzZXVwIiksciksbC5zdG9wUHJvcGFnYXRpb24oKSxsLnByZXZlbnREZWZhdWx0KCl9KSx0PW89bnVsbH1mdW5jdGlvbiBmKCl7dmFyIHQsbyxuPWZ1bmN0aW9uKGUpe2EodCxlLnBhZ2VZLW8pLGQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKX0scj1mdW5jdGlvbigpe0cucmVtb3ZlQ2xhc3MoImluLXNjcm9sbGluZyIpLGUocSkudW5iaW5kKEsoIm1vdXNlbW92ZSIpLG4pfTtKLmJpbmQoSygibW91c2Vkb3duIiksZnVuY3Rpb24obCl7bz1sLnBhZ2VZLHQ9Si5wb3NpdGlvbigpLnRvcCxHLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSxlKHEpLmJpbmQoSygibW91c2Vtb3ZlIiksbiksZShxKS5vbmUoSygibW91c2V1cCIpLHIpLGwuc3RvcFByb3BhZ2F0aW9uKCksbC5wcmV2ZW50RGVmYXVsdCgpfSksdD1vPW51bGx9ZnVuY3Rpb24gdihlLHQpe3ZhciBvPU0uc2Nyb2xsVG9wKCk7aWYoMD09PWUpe2lmKCFPKXJldHVybiExO2lmKDA9PT1vJiZ0PjB8fG8+PVktRCYmMD50KXJldHVybiFQLndoZWVsUHJvcGFnYXRpb259dmFyIG49TS5zY3JvbGxMZWZ0KCk7aWYoMD09PXQpe2lmKCFYKXJldHVybiExO2lmKDA9PT1uJiYwPmV8fG4+PUMtRSYmZT4wKXJldHVybiFQLndoZWVsUHJvcGFnYXRpb259cmV0dXJuITB9ZnVuY3Rpb24gZyhlLHQpe3ZhciBvPU0uc2Nyb2xsVG9wKCksbj1NLnNjcm9sbExlZnQoKSxyPU1hdGguYWJzKGUpLGw9TWF0aC5hYnModCk7aWYobD5yKXtpZigwPnQmJm89PT1ZLUR8fHQ+MCYmMD09PW8pcmV0dXJuIVAuc3dpcGVQcm9wYWdhdGlvbn1lbHNlIGlmKHI+bCYmKDA+ZSYmbj09PUMtRXx8ZT4wJiYwPT09bikpcmV0dXJuIVAuc3dpcGVQcm9wYWdhdGlvbjtyZXR1cm4hMH1mdW5jdGlvbiBiKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD1lLm9yaWdpbmFsRXZlbnQuZGVsdGFYLG89LTEqZS5vcmlnaW5hbEV2ZW50LmRlbHRhWTtyZXR1cm4odD09PXZvaWQgMHx8bz09PXZvaWQgMCkmJih0PS0xKmUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhWC82LG89ZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFZLzYpLGUub3JpZ2luYWxFdmVudC5kZWx0YU1vZGUmJjE9PT1lLm9yaWdpbmFsRXZlbnQuZGVsdGFNb2RlJiYodCo9MTAsbyo9MTApLHQhPT10JiZvIT09byYmKHQ9MCxvPWUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhKSxbdCxvXX1mdW5jdGlvbiB0KHQpe2lmKGx8fCEoTS5maW5kKCJzZWxlY3Q6Zm9jdXMiKS5sZW5ndGg+MCkpe3ZhciBuPWUodCkscj1uWzBdLGk9blsxXTtvPSExLFAudXNlQm90aFdoZWVsQXhlcz9PJiYhWD8oaT9NLnNjcm9sbFRvcChNLnNjcm9sbFRvcCgpLWkqUC53aGVlbFNwZWVkKTpNLnNjcm9sbFRvcChNLnNjcm9sbFRvcCgpK3IqUC53aGVlbFNwZWVkKSxvPSEwKTpYJiYhTyYmKHI/TS5zY3JvbGxMZWZ0KE0uc2Nyb2xsTGVmdCgpK3IqUC53aGVlbFNwZWVkKTpNLnNjcm9sbExlZnQoTS5zY3JvbGxMZWZ0KCktaSpQLndoZWVsU3BlZWQpLG89ITApOihNLnNjcm9sbFRvcChNLnNjcm9sbFRvcCgpLWkqUC53aGVlbFNwZWVkKSxNLnNjcm9sbExlZnQoTS5zY3JvbGxMZWZ0KCkrcipQLndoZWVsU3BlZWQpKSxkKCksbz1vfHx2KHIsaSksbyYmKHQuc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKX19dmFyIG89ITE7d2luZG93Lm9ud2hlZWwhPT12b2lkIDA/TS5iaW5kKEsoIndoZWVsIiksdCk6d2luZG93Lm9ubW91c2V3aGVlbCE9PXZvaWQgMCYmTS5iaW5kKEsoIm1vdXNld2hlZWwiKSx0KX1mdW5jdGlvbiBoKCl7dmFyIHQ9ITE7TS5iaW5kKEsoIm1vdXNlZW50ZXIiKSxmdW5jdGlvbigpe3Q9ITB9KSxNLmJpbmQoSygibW91c2VsZWF2ZSIpLGZ1bmN0aW9uKCl7dD0hMX0pO3ZhciBvPSExO2UocSkuYmluZChLKCJrZXlkb3duIiksZnVuY3Rpb24obil7aWYoKCFuLmlzRGVmYXVsdFByZXZlbnRlZHx8IW4uaXNEZWZhdWx0UHJldmVudGVkKCkpJiZ0KXtmb3IodmFyIHI9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD9kb2N1bWVudC5hY3RpdmVFbGVtZW50OnEuYWN0aXZlRWxlbWVudDtyLnNoYWRvd1Jvb3Q7KXI9ci5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7aWYoIWUocikuaXMoIjppbnB1dCxbY29udGVudGVkaXRhYmxlXSIpKXt2YXIgbD0wLGk9MDtzd2l0Y2gobi53aGljaCl7Y2FzZSAzNzpsPS0zMDticmVhaztjYXNlIDM4Omk9MzA7YnJlYWs7Y2FzZSAzOTpsPTMwO2JyZWFrO2Nhc2UgNDA6aT0tMzA7YnJlYWs7Y2FzZSAzMzppPTkwO2JyZWFrO2Nhc2UgMzI6Y2FzZSAzNDppPS05MDticmVhaztjYXNlIDM1Omk9bi5jdHJsS2V5Py1ZOi1EO2JyZWFrO2Nhc2UgMzY6aT1uLmN0cmxLZXk/TS5zY3JvbGxUb3AoKTpEO2JyZWFrO2RlZmF1bHQ6cmV0dXJufU0uc2Nyb2xsVG9wKE0uc2Nyb2xsVG9wKCktaSksTS5zY3JvbGxMZWZ0KE0uc2Nyb2xsTGVmdCgpK2wpLG89dihsLGkpLG8mJm4ucHJldmVudERlZmF1bHQoKX19fSl9ZnVuY3Rpb24gdygpe2Z1bmN0aW9uIGUoZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX1KLmJpbmQoSygiY2xpY2siKSxlKSxHLmJpbmQoSygiY2xpY2siKSxmdW5jdGlvbihlKXt2YXIgbz10KFIvMiksbj1lLnBhZ2VZLUcub2Zmc2V0KCkudG9wLW8scj1ELVIsbD1uL3I7MD5sP2w9MDpsPjEmJihsPTEpLE0uc2Nyb2xsVG9wKChZLUQpKmwpfSksVS5iaW5kKEsoImNsaWNrIiksZSksSC5iaW5kKEsoImNsaWNrIiksZnVuY3Rpb24oZSl7dmFyIG89dChrLzIpLG49ZS5wYWdlWC1ILm9mZnNldCgpLmxlZnQtbyxyPUUtayxsPW4vcjswPmw/bD0wOmw+MSYmKGw9MSksTS5zY3JvbGxMZWZ0KChDLUUpKmwpfSl9ZnVuY3Rpb24gbSgpe2Z1bmN0aW9uIHQoKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uP3dpbmRvdy5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5nZXRTbGVjdGlvbj9kb2N1bWVudC5nZXRTbGVjdGlvbigpOntyYW5nZUNvdW50OjB9O3JldHVybiAwPT09ZS5yYW5nZUNvdW50P251bGw6ZS5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyfWZ1bmN0aW9uIG8oKXtyfHwocj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JldHVybiB4KCk/KE0uc2Nyb2xsVG9wKE0uc2Nyb2xsVG9wKCkrbC50b3ApLE0uc2Nyb2xsTGVmdChNLnNjcm9sbExlZnQoKStsLmxlZnQpLGQoKSx2b2lkIDApOihjbGVhckludGVydmFsKHIpLHZvaWQgMCl9LDUwKSl9ZnVuY3Rpb24gbigpe3ImJihjbGVhckludGVydmFsKHIpLHI9bnVsbCksSC5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIiksRy5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIil9dmFyIHI9bnVsbCxsPXt0b3A6MCxsZWZ0OjB9LGk9ITE7ZShxKS5iaW5kKEsoInNlbGVjdGlvbmNoYW5nZSIpLGZ1bmN0aW9uKCl7ZS5jb250YWlucyhNWzBdLHQoKSk/aT0hMDooaT0hMSxuKCkpfSksZSh3aW5kb3cpLmJpbmQoSygibW91c2V1cCIpLGZ1bmN0aW9uKCl7aSYmKGk9ITEsbigpKX0pLGUod2luZG93KS5iaW5kKEsoIm1vdXNlbW92ZSIpLGZ1bmN0aW9uKGUpe2lmKGkpe3ZhciB0PXt4OmUucGFnZVgseTplLnBhZ2VZfSxyPU0ub2Zmc2V0KCksYT17bGVmdDpyLmxlZnQscmlnaHQ6ci5sZWZ0K00ub3V0ZXJXaWR0aCgpLHRvcDpyLnRvcCxib3R0b206ci50b3ArTS5vdXRlckhlaWdodCgpfTt0Lng8YS5sZWZ0KzM/KGwubGVmdD0tNSxILmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6dC54PmEucmlnaHQtMz8obC5sZWZ0PTUsSC5hZGRDbGFzcygiaW4tc2Nyb2xsaW5nIikpOmwubGVmdD0wLHQueTxhLnRvcCszPyhsLnRvcD01PmEudG9wKzMtdC55Py01Oi0yMCxHLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6dC55PmEuYm90dG9tLTM/KGwudG9wPTU+dC55LWEuYm90dG9tKzM/NToyMCxHLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6bC50b3A9MCwwPT09bC50b3AmJjA9PT1sLmxlZnQ/bigpOm8oKX19KX1mdW5jdGlvbiBUKHQsbyl7ZnVuY3Rpb24gbihlLHQpe00uc2Nyb2xsVG9wKE0uc2Nyb2xsVG9wKCktdCksTS5zY3JvbGxMZWZ0KE0uc2Nyb2xsTGVmdCgpLWUpLGQoKX1mdW5jdGlvbiByKCl7aD0hMH1mdW5jdGlvbiBsKCl7aD0hMX1mdW5jdGlvbiBpKGUpe3JldHVybiBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcz9lLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXTplLm9yaWdpbmFsRXZlbnR9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIHQudGFyZ2V0VG91Y2hlcyYmMT09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGg/ITA6dC5wb2ludGVyVHlwZSYmIm1vdXNlIiE9PXQucG9pbnRlclR5cGUmJnQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFPyEwOiExfWZ1bmN0aW9uIHMoZSl7aWYoYShlKSl7dz0hMDt2YXIgdD1pKGUpO3AucGFnZVg9dC5wYWdlWCxwLnBhZ2VZPXQucGFnZVksZj0obmV3IERhdGUpLmdldFRpbWUoKSxudWxsIT09YiYmY2xlYXJJbnRlcnZhbChiKSxlLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiBjKGUpe2lmKCFoJiZ3JiZhKGUpKXt2YXIgdD1pKGUpLG89e3BhZ2VYOnQucGFnZVgscGFnZVk6dC5wYWdlWX0scj1vLnBhZ2VYLXAucGFnZVgsbD1vLnBhZ2VZLXAucGFnZVk7bihyLGwpLHA9bzt2YXIgcz0obmV3IERhdGUpLmdldFRpbWUoKSxjPXMtZjtjPjAmJih2Lng9ci9jLHYueT1sL2MsZj1zKSxnKHIsbCkmJihlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSl9fWZ1bmN0aW9uIHUoKXshaCYmdyYmKHc9ITEsY2xlYXJJbnRlcnZhbChiKSxiPXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIHgoKT8uMDE+TWF0aC5hYnModi54KSYmLjAxPk1hdGguYWJzKHYueSk/KGNsZWFySW50ZXJ2YWwoYiksdm9pZCAwKToobigzMCp2LngsMzAqdi55KSx2LngqPS44LHYueSo9Ljgsdm9pZCAwKTooY2xlYXJJbnRlcnZhbChiKSx2b2lkIDApfSwxMCkpfXZhciBwPXt9LGY9MCx2PXt9LGI9bnVsbCxoPSExLHc9ITE7dCYmKGUod2luZG93KS5iaW5kKEsoInRvdWNoc3RhcnQiKSxyKSxlKHdpbmRvdykuYmluZChLKCJ0b3VjaGVuZCIpLGwpLE0uYmluZChLKCJ0b3VjaHN0YXJ0IikscyksTS5iaW5kKEsoInRvdWNobW92ZSIpLGMpLE0uYmluZChLKCJ0b3VjaGVuZCIpLHUpKSxvJiYod2luZG93LlBvaW50ZXJFdmVudD8oZSh3aW5kb3cpLmJpbmQoSygicG9pbnRlcmRvd24iKSxyKSxlKHdpbmRvdykuYmluZChLKCJwb2ludGVydXAiKSxsKSxNLmJpbmQoSygicG9pbnRlcmRvd24iKSxzKSxNLmJpbmQoSygicG9pbnRlcm1vdmUiKSxjKSxNLmJpbmQoSygicG9pbnRlcnVwIiksdSkpOndpbmRvdy5NU1BvaW50ZXJFdmVudCYmKGUod2luZG93KS5iaW5kKEsoIk1TUG9pbnRlckRvd24iKSxyKSxlKHdpbmRvdykuYmluZChLKCJNU1BvaW50ZXJVcCIpLGwpLE0uYmluZChLKCJNU1BvaW50ZXJEb3duIikscyksTS5iaW5kKEsoIk1TUG9pbnRlck1vdmUiKSxjKSxNLmJpbmQoSygiTVNQb2ludGVyVXAiKSx1KSkpfWZ1bmN0aW9uIHkoKXtNLmJpbmQoSygic2Nyb2xsIiksZnVuY3Rpb24oKXtkKCl9KX1mdW5jdGlvbiBMKCl7TS51bmJpbmQoSygpKSxlKHdpbmRvdykudW5iaW5kKEsoKSksZShxKS51bmJpbmQoSygpKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIixudWxsKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLXVwZGF0ZSIsbnVsbCksTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IixudWxsKSxVLnJlbW92ZSgpLEoucmVtb3ZlKCksSC5yZW1vdmUoKSxHLnJlbW92ZSgpLE09SD1HPVU9Sj1YPU89RT1EPUM9WT1rPVc9Xz1OPVE9Uj1qPVY9Wj0kPUI9Sz1udWxsfWZ1bmN0aW9uIFMoKXtkKCkseSgpLHAoKSxmKCksdygpLG0oKSxiKCksKG90fHxudCkmJlQob3QsbnQpLFAudXNlS2V5Ym9hcmQmJmgoKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIixNKSxNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLXVwZGF0ZSIsZCksTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IixMKX12YXIgUD1lLmV4dGVuZCghMCx7fSxvKSxNPWUodGhpcykseD1mdW5jdGlvbigpe3JldHVybiEhTX07aWYoIm9iamVjdCI9PXR5cGVvZiBuP2UuZXh0ZW5kKCEwLFAsbik6aT1uLCJ1cGRhdGUiPT09aSlyZXR1cm4gTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiKSYmTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiKSgpLE07aWYoImRlc3Ryb3kiPT09aSlyZXR1cm4gTS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IikmJk0uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItZGVzdHJveSIpKCksTTtpZihNLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIikpcmV0dXJuIE0uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXIiKTtNLmFkZENsYXNzKCJwcy1jb250YWluZXIiKTt2YXIgRSxELEMsWSxYLGssVyxJLE8sUixqLEEsQj0icnRsIj09PU0uY3NzKCJkaXJlY3Rpb24iKSxLPXIoKSxxPXRoaXMub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQsSD1lKCI8ZGl2IGNsYXNzPSdwcy1zY3JvbGxiYXIteC1yYWlsJz4iKS5hcHBlbmRUbyhNKSxVPWUoIjxkaXYgY2xhc3M9J3BzLXNjcm9sbGJhci14Jz4iKS5hcHBlbmRUbyhIKSxfPXQoSC5jc3MoImJvdHRvbSIpKSxOPV89PT1fLFE9Tj9udWxsOnQoSC5jc3MoInRvcCIpKSx6PXQoSC5jc3MoImJvcmRlckxlZnRXaWR0aCIpKSt0KEguY3NzKCJib3JkZXJSaWdodFdpZHRoIikpLEY9dChILmNzcygibWFyZ2luTGVmdCIpKSt0KEguY3NzKCJtYXJnaW5SaWdodCIpKSxHPWUoIjxkaXYgY2xhc3M9J3BzLXNjcm9sbGJhci15LXJhaWwnPiIpLmFwcGVuZFRvKE0pLEo9ZSgiPGRpdiBjbGFzcz0ncHMtc2Nyb2xsYmFyLXknPiIpLmFwcGVuZFRvKEcpLFY9dChHLmNzcygicmlnaHQiKSksWj1WPT09ViwkPVo/bnVsbDp0KEcuY3NzKCJsZWZ0IikpLGV0PXQoRy5jc3MoImJvcmRlclRvcFdpZHRoIikpK3QoRy5jc3MoImJvcmRlckJvdHRvbVdpZHRoIikpLHR0PXQoRy5jc3MoIm1hcmdpblRvcCIpKSt0KEcuY3NzKCJtYXJnaW5Cb3R0b20iKSksb3Q9Im9udG91Y2hzdGFydCJpbiB3aW5kb3d8fHdpbmRvdy5Eb2N1bWVudFRvdWNoJiZkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoLG50PW51bGwhPT13aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM7cmV0dXJuIFMoKSxNfSl9fSk7DQohZnVuY3Rpb24ocCxoLHUpe3ZhciByPTAsZj17aXNFbmFibGVkOiExfTtmdW5jdGlvbiB2KGUsdCxzLG8pe3ZhciByPXAoZSk7aC5nZXRWaWV3UG9ydCgpLndpZHRoPD11LmJyZWFrUG9pbnRXaWR0aD8oci5jc3Moe3dpZHRoOnMtNywiei1pbmRleCI6ci5jc3MoInotaW5kZXgiKStvfSkscCgiPiAuc3VibGlzdCA+IGxpID4gIit0LGUpLmNzcygid2lkdGgiLHMtNTcpKTooci5jc3Moe3dpZHRoOiIiLCJ6LWluZGV4IjoiIn0pLHAoIj4gLnN1Ymxpc3QgPiBsaSA+ICIrdCxlKS5jc3MoIndpZHRoIiwiIikpO2UrPSI+IC5zdWJsaXN0ID4gbGkgPiAuc3VibGlzdC13cmFwIjswPHAoZSkubGVuZ3RoJiZ2KGUsdCxzLTcsbysxKX1mdW5jdGlvbiBpKGUsdCl7dmFyIHM9cCh0KSx0PXAod2luZG93KS5zY3JvbGxUb3AoKTswPHQmJnQ+PXMub2Zmc2V0KCkudG9wPyhzLmNzcygiaGVpZ2h0IixzLmhlaWdodCgpKyJweCIpLHAoZSkuYWRkQ2xhc3MoInN0aWNrIikpOihzLmNzcygiaGVpZ2h0IiwiIikscChlKS5yZW1vdmVDbGFzcygic3RpY2siKSkscChkb2N1bWVudCkudHJpZ2dlcih7dHlwZToibmF2aWdhdGlvbkhhc1N0aWNrZWQifSl9ZnVuY3Rpb24gbygpe2YuaGFzU3RpY2t5TmF2JiZpKGYuc2VsZWN0b3JzLm5hdldyYXBwZXIsZi5zZWxlY3RvcnMubmF2V3JhcHBlclBhcmVudCksZi5kb2VzRGVza3RvcEhlYWRlck1lbnVTdGljayYmaShmLnNlbGVjdG9ycy5oZWFkZXJNZW51RGVza3RvcFN0aWNrRWxlbWVudCxmLnNlbGVjdG9ycy5oZWFkZXJNZW51RGVza3RvcFN0aWNrUGFyZW50RWxlbWVudCkscCh3aW5kb3cpLm9uKCJzY3JvbGwiLGZ1bmN0aW9uKCl7dmFyIGUsdCxzLG87Zi5oYXNTdGlja3lOYXYmJmkoZi5zZWxlY3RvcnMubmF2V3JhcHBlcixmLnNlbGVjdG9ycy5uYXZXcmFwcGVyUGFyZW50KSxmLmRvZXNEZXNrdG9wSGVhZGVyTWVudVN0aWNrJiZpKGYuc2VsZWN0b3JzLmhlYWRlck1lbnVEZXNrdG9wU3RpY2tFbGVtZW50LGYuc2VsZWN0b3JzLmhlYWRlck1lbnVEZXNrdG9wU3RpY2tQYXJlbnRFbGVtZW50KSxmLmRpc3BsYXlHb1RvVG9wJiYoMTAwPHAod2luZG93KS5zY3JvbGxUb3AoKT9wKCIjZ29Ub1RvcCIpLnNob3coKTpwKCIjZ29Ub1RvcCIpLmhpZGUoKSksZT1mLnNlbGVjdG9ycy5uYXZXcmFwcGVyLHQ9Zi5zZWxlY3RvcnMubmF2V3JhcHBlclBhcmVudCxzPXAoZSksMD09PShvPXMuZmlsdGVyKCIuc3RpY2siKSkubGVuZ3RofHwwPT09dC5sZW5ndGh8fChlPXAod2luZG93KS5zY3JvbGxUb3AoKSk8PXAodCkub2Zmc2V0KCkudG9wP3MucmVtb3ZlQ2xhc3MoIm5hdi11cCIpOihyPGU/by5hZGRDbGFzcygibmF2LXVwIik6by5yZW1vdmVDbGFzcygibmF2LXVwIikscj1lKX0pLGYuZGlzcGxheUdvVG9Ub3AmJnAoIiNnb1RvVG9wIikub24oImNsaWNrIixmdW5jdGlvbigpe3AoImh0bWwsYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSw0MDApfSl9ZnVuY3Rpb24gdCgpe3ZhciBlPWYuc2VsZWN0b3JzO3AoZS5tb3ZlZEVsZW1lbnRzKS5yZW1vdmVDbGFzcygibW92ZS1yaWdodCIpLHAoZS5vdmVybGF5T2ZmQ2FudmFzKS5mYWRlT3V0KGZ1bmN0aW9uKCl7cCh0aGlzKS5yZW1vdmVDbGFzcygic2hvdyIpfSkscCgiaHRtbCwgYm9keSIpLnJlbW92ZUNsYXNzKCJzY3JvbGxZUmVtb3ZlIil9ZnVuY3Rpb24gcyhlKXtwKGUub3ZlcmxheU9mZkNhbnZhcykuYWRkQ2xhc3MoInNob3ciKS5mYWRlSW4oKSxwKCJodG1sLCBib2R5IikuYWRkQ2xhc3MoInNjcm9sbFlSZW1vdmUiKSxwKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJvbk92ZXJsYXlPZmZDYW52YXNTaG93In0pfWZ1bmN0aW9uIG4oKXt2YXIgZT1mLnNlbGVjdG9ycztwKGUuc2VhcmNoQm94T3BlbmVyKS5jbGljayhmdW5jdGlvbigpe3AoZS5zZWFyY2hCb3gpLmFkZENsYXNzKCJvcGVuIikscyhlKX0pLHAoZS5oZWFkZXJMaW5rc09wZW5lcikub24oImNsaWNrIixmdW5jdGlvbigpe3AoZS5oZWFkZXJMaW5rc1dyYXBwZXIpLmFkZENsYXNzKCJvcGVuIikscyhlKX0pLHAoZS5tZW51VGl0bGUpLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIGU7ZT1mLnNlbGVjdG9ycyxwKGUuaGVhZGVyTWVudSkuYWRkQ2xhc3MoIm9wZW4iKSxwKGUubW92ZWRFbGVtZW50cykuYWRkQ2xhc3MoIm1vdmUtcmlnaHQiKSxzKGUpfSkscChlLmNsb3NlTWVudSkuY2xpY2soZnVuY3Rpb24oKXtwKGUuaGVhZGVyTWVudSkucmVtb3ZlQ2xhc3MoIm9wZW4iKSx0KCksZi5pc0VuYWJsZWQmJnAoIi5oZWFkZXItbWVudSwgLnN1Ymxpc3Qtd3JhcCIpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX0pLHAoZS5vdmVybGF5T2ZmQ2FudmFzKS5jbGljayhmdW5jdGlvbigpe3AoZS5zdWJsaXN0KS5wYXJlbnQoKS5yZW1vdmVDbGFzcygiYWN0aXZlIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9KSxwKGUuaGVhZGVyTWVudSkuYWRkKHAoZS5maWx0ZXJzQ29udGFpbmVyKSkucmVtb3ZlQ2xhc3MoIm9wZW4iKSxwKGUuc2VhcmNoQm94KS5yZW1vdmVDbGFzcygib3BlbiIpLHAoZS5oZWFkZXJMaW5rc1dyYXBwZXIpLnJlbW92ZUNsYXNzKCJvcGVuIiksdCgpLGYuaXNFbmFibGVkJiZwKCIuaGVhZGVyLW1lbnUsIC5zdWJsaXN0LXdyYXAsIC5ub3BBamF4RmlsdGVyczdTcGlrZXMub3BlbiIpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX0pLHAoIi5zdWJsaXN0Iikub24oImNsaWNrIiwiLmJhY2stYnV0dG9uIixmdW5jdGlvbigpe3AodGhpcykuY2xvc2VzdCgiLnN1Ymxpc3Qtd3JhcCIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxmLmlzRW5hYmxlZCYmcCh0aGlzKS5wYXJlbnRzKCkuZXEoNCkucGVyZmVjdFNjcm9sbGJhcih7c3dpcGVQcm9wYWdhdGlvbjohMSx3aGVlbFNwZWVkOjIsc3VwcHJlc3NTY3JvbGxYOiEwfSl9KSxwKGUuZmlsdGVyc09wZW5lcikuY2xpY2soZnVuY3Rpb24oKXtwKGUuZmlsdGVyc0NvbnRhaW5lcikudG9nZ2xlQ2xhc3MoIm9wZW4iKSxwKGUubW92ZWRFbGVtZW50cykudG9nZ2xlQ2xhc3MoIm1vdmUtcmlnaHQiKSxzKGUpLGYuaXNFbmFibGVkJiZwKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzLm9wZW4iKS5wZXJmZWN0U2Nyb2xsYmFyKHtzd2lwZVByb3BhZ2F0aW9uOiExLHdoZWVsU3BlZWQ6MSxzdXBwcmVzc1Njcm9sbFg6ITB9KX0pLHAoIi5jbG9zZS1maWx0ZXJzIikuY2xpY2soZnVuY3Rpb24oKXtwKGUuZmlsdGVyc0NvbnRhaW5lcikudG9nZ2xlQ2xhc3MoIm9wZW4iKSxwKGUubW92ZWRFbGVtZW50cykudG9nZ2xlQ2xhc3MoIm1vdmUtcmlnaHQiKSxwKGUub3ZlcmxheU9mZkNhbnZhcykuZmFkZU91dChmdW5jdGlvbigpe3AodGhpcykucmVtb3ZlQ2xhc3MoInNob3ciKX0pLHAoImh0bWwsIGJvZHkiKS5yZW1vdmVDbGFzcygic2Nyb2xsWVJlbW92ZSIpLGYuaXNFbmFibGVkJiZwKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzLm9wZW4iKS5wZXJmZWN0U2Nyb2xsYmFyKCJkZXN0cm95Iil9KX11LmJyZWFrUG9pbnRXaWR0aD05ODAsdS5hZGRXaW5kb3dFdmVudD1mdW5jdGlvbihlLHQpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9uIitlLHQpfSx1LmluaXRSZXNwb25zaXZlVGhlbWU9ZnVuY3Rpb24oZSl7dmFyIGMsdCxzO251bGwhPWUmJihudWxsIT0oZj1lKS5zZWxlY3RvcnMmJihudWxsPT1mLnNlbGVjdG9ycy5oZWFkZXJMaW5rc1dyYXBwZXJNb2JpbGVJbnNlcnRBZnRlciYmKGYuc2VsZWN0b3JzLmhlYWRlckxpbmtzV3JhcHBlck1vYmlsZUluc2VydEFmdGVyPSIuaGVhZGVyIiksbnVsbD09Zi5zZWxlY3RvcnMuaGVhZGVyTGlua3NXcmFwcGVyRGVza3RvcFByZXBlbmRUbyYmKGYuc2VsZWN0b3JzLmhlYWRlckxpbmtzV3JhcHBlckRlc2t0b3BQcmVwZW5kVG89Ii5oZWFkZXIiKSksdS5icmVha1BvaW50V2lkdGg9Zi50aGVtZUJyZWFrcG9pbnR8fDk4MCxjPXNldmVuU3Bpa2VzQ29yZS5nZXRWaWV3UG9ydCgpLndpZHRoLCh0PWZ1bmN0aW9uKGUpe3ZhciB0LHMsbyxyLGksbixhLGw9c2V2ZW5TcGlrZXNDb3JlLmdldFZpZXdQb3J0KCkud2lkdGg7ZnVuY3Rpb24gZCgpe2EmJmguaXNNb2JpbGUoKSYmcCgiLnByb2R1Y3QtZ3JpZCAuaXRlbS1ib3giKS5hZGRDbGFzcygibW9iaWxlLWJveCIpfWYuaXNFbmFibGVkJiZlJiZmLmRvZXNEZXNrdG9wSGVhZGVyTWVudVN0aWNrJiZwKGYuc2VsZWN0b3JzLmhlYWRlck1lbnUpLndyYXAoJzxkaXYgaWQ9ImhlYWRlck1lbnVQYXJlbnQiIGNsYXNzPSJoZWFkZXItbWVudS1wYXJlbnQiPjwvZGl2PicpLChlfHxsPnUuYnJlYWtQb2ludFdpZHRoJiZjPD11LmJyZWFrUG9pbnRXaWR0aHx8bDw9dS5icmVha1BvaW50V2lkdGgmJmM+dS5icmVha1BvaW50V2lkdGgpJiYoYT1mLnNob3VsZEFkZENsYXNzRm9yTW9iaWxlLGQoKSxwKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCIsZCksbj1lLHAoIi5ibG9jayIpLmVhY2goZnVuY3Rpb24oKXtoLmdldFZpZXdQb3J0KCkud2lkdGg+dS5icmVha1BvaW50V2lkdGg/bnx8KCExPT09Zi5pc0VuYWJsZWQ/KHAodGhpcykuY2hpbGRyZW4oKS5lcSgxKS5zaG93KCkscCh0aGlzKS5jaGlsZHJlbigpLmVxKDApLmNoaWxkcmVuKCJhLnRvZ2dsZUNvbnRyb2wiKS5yZW1vdmVDbGFzcygiY2xvc2VkIikpOnAodGhpcykuY2hpbGRyZW4oIi5saXN0Ym94IikuZXEoMCkuc2hvdygpLHAodGhpcykuZmluZCgiLmpjYXJvdXNlbC1jb250YWluZXItdmVydGljYWwiKS5zaG93KCkpOighMT09PWYuaXNFbmFibGVkPyhwKHRoaXMpLmNoaWxkcmVuKCkuZXEoMSkuaGlkZSgpLHAodGhpcykuY2hpbGRyZW4oKS5lcSgwKS5jaGlsZHJlbigiYS50b2dnbGVDb250cm9sIikuYWRkQ2xhc3MoImNsb3NlZCIpKTpwKHRoaXMpLmNoaWxkcmVuKCIubGlzdGJveCIpLmVxKDApLmhpZGUoKSxwKHRoaXMpLmZpbmQoIi5qY2Fyb3VzZWwtY29udGFpbmVyLXZlcnRpY2FsIikuaGlkZSgpKX0pLGYuaGFzU2lkZUJhbm5lcnMmJigoaT1sKTx1LmJyZWFrUG9pbnRXaWR0aD8oaT1wKCIubGVmdHNpZGUtMyAuc2xpZGVyLXdyYXBwZXIsIC5yaWdodHNpZGUtMyAuc2xpZGVyLXdyYXBwZXIsIC5zaWRlLTIgLnNsaWRlci13cmFwcGVyIikuZGV0YWNoKCkscCgiLm1hc3Rlci13cmFwcGVyLW1haW4iKS5hcHBlbmQoJzxkaXYgY2xhc3M9Im1vYmlsZS1iYW5uZXJzIj48L2Rpdj4nKSxwKCIubW9iaWxlLWJhbm5lcnMiKS5hcHBlbmQoaSkpOnAoIi5tb2JpbGUtYmFubmVycyIpLmRldGFjaCgpKSxmLmlzRW5hYmxlZCYmKHQ9bCxzPWUsbz1mLnNlbGVjdG9ycyxyPWYuaXNTZWFyY2hCb3hEZXRhY2hhYmxlLGk9Zi5pc0hlYWRlckxpbmtzV3JhcHBlckRldGFjaGFibGUsdDw9dS5icmVha1BvaW50V2lkdGg/KHAoby5oZWFkZXJNZW51KS5hZGQocChvLnN1Ymxpc3QpKS5hZGQocChvLm92ZXJsYXlPZmZDYW52YXMpKSxwKG8uZmlsdGVyc0NvbnRhaW5lcikuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIoby5oZWFkZXJNZW51KSxyJiZwKG8uc2VhcmNoQm94KS5kZXRhY2goKS5pbnNlcnRBZnRlcihvLm5hdldyYXBwZXJQYXJlbnQpLGkmJnAoby5oZWFkZXJMaW5rc1dyYXBwZXIpLmRldGFjaCgpLmluc2VydEFmdGVyKG8uaGVhZGVyTGlua3NXcmFwcGVyTW9iaWxlSW5zZXJ0QWZ0ZXIpLHAoby5zaG9wcGluZ0NhcnRMaW5rKS5vZmYoIm1vdXNlZW50ZXIuZmx5b3V0LWNhcnQiKS5vZmYoIm1vdXNlbGVhdmUuZmx5b3V0LWNhcnQiKSxwKCIudG9wLW1lbnUgPiBsaSA+IC5zdWJsaXN0LXdyYXAiKS5jc3MoImRpc3BsYXkiLCIiKSk6KHAoby5oZWFkZXJNZW51KS5jc3Moe2hlaWdodDoiIix0b3A6IiJ9KSxwKG8uc3VibGlzdCkuY3NzKHtoZWlnaHQ6IiIsdG9wOiIifSkscChvLmZpbHRlcnNDb250YWluZXIpLmNzcygiaGVpZ2h0IiwiIiksc3x8cChvLmZpbHRlcnNDb250YWluZXIpLmRldGFjaCgpLmluc2VydEJlZm9yZSgiI2F2YWlsYWJsZVNvcnRPcHRpb25zSnNvbiIpLGkmJnAoby5oZWFkZXJMaW5rc1dyYXBwZXIpLmRldGFjaCgpLnByZXBlbmRUbyhvLmhlYWRlckxpbmtzV3JhcHBlckRlc2t0b3BQcmVwZW5kVG8pLHImJnAoby5zZWFyY2hCb3gpLmRldGFjaCgpLmluc2VydEFmdGVyKG8uc2VhcmNoQm94QmVmb3JlKSxwKG8uc2hvcHBpbmdDYXJ0TGluaykub24oIm1vdXNlZW50ZXIuZmx5b3V0LWNhcnQiLGZ1bmN0aW9uKGUpe3ZhciB0PXAodGhpcykuY2hpbGRyZW4oIi5mbHlvdXQtY2FydCIpO251bGwhPXQuYXR0cigiaXNTbGlkaW5nIikmJiJmYWxzZSIhPT10LmF0dHIoImlzU2xpZGluZyIpfHx0LmF0dHIoImlzU2xpZGluZyIsInRydWUiKS5zbGlkZURvd24oMTAwLGZ1bmN0aW9uKCl7cCh0aGlzKS5jc3MoIm92ZXJmbG93IiwiIikscCh0aGlzKS5hdHRyKCJpc1NsaWRpbmciLCJmYWxzZSIpfSksZS5wcmV2ZW50RGVmYXVsdCgpfSkub24oIm1vdXNlbGVhdmUuZmx5b3V0LWNhcnQiLGZ1bmN0aW9uKGUpe3AodGhpcykuY2hpbGRyZW4oIi5mbHlvdXQtY2FydCIpLmF0dHIoImlzU2xpZGluZyIsInRydWUiKS5zbGlkZVVwKDEwMCxmdW5jdGlvbigpe3AodGhpcykuY3NzKCJvdmVyZmxvdyIsIiIpLHAodGhpcykuYXR0cigiaXNTbGlkaW5nIiwiZmFsc2UiKX0pLGUucHJldmVudERlZmF1bHQoKX0pKSwhMD09PWYuZG9lc1N1Ymxpc3RIYXNJbmRlbnQmJigwPHAoIi5tZWdhLW1lbnUtcmVzcG9uc2l2ZSIpLmxlbmd0aD92KCIubWVnYS1tZW51LXJlc3BvbnNpdmUgPiBsaSA+IC5zdWJsaXN0LXdyYXAiLGYuc2VsZWN0b3JzLndpdGhTdWJjYXRlZ29yaWVzLDMyMCwxKTp2KGYuc2VsZWN0b3JzLmhlYWRlck1lbnUrIiA+IHVsID4gbGkgPiAuc3VibGlzdC13cmFwIixmLnNlbGVjdG9ycy53aXRoU3ViY2F0ZWdvcmllcywzMjAsMSkpKSxwKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJ0aGVtZUJyZWFrcG9pbnRQYXNzZWQ3U3Bpa2VzIixpc0luaXRpYWxMb2FkOmUsaXNNb2JpbGVSZXNvbHV0aW9uOmw8PXUuYnJlYWtQb2ludFdpZHRofSkpLGM9bH0pKCEwKSxzZXZlblNwaWtlc0V4LmFkZFdpbmRvd0V2ZW50KCJyZXNpemUiLGZ1bmN0aW9uKCl7dCghMSl9KSxzZXZlblNwaWtlc0V4LmFkZFdpbmRvd0V2ZW50KCJvcmllbnRhdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt0KCExKX0pLGYuaXNFbmFibGVkJiYoKGYuaGFzU3RpY2t5TmF2fHxmLmRpc3BsYXlHb1RvVG9wfHxmLmRvZXNEZXNrdG9wSGVhZGVyTWVudVN0aWNrKSYmKG51bGw9PWYuc2VsZWN0b3JzLmhlYWRlck1lbnVEZXNrdG9wU3RpY2tFbGVtZW50JiYoZi5zZWxlY3RvcnMuaGVhZGVyTWVudURlc2t0b3BTdGlja0VsZW1lbnQ9Zi5zZWxlY3RvcnMuaGVhZGVyTWVudSksbnVsbD09Zi5zZWxlY3RvcnMuaGVhZGVyTWVudURlc2t0b3BTdGlja1BhcmVudEVsZW1lbnQmJihmLnNlbGVjdG9ycy5oZWFkZXJNZW51RGVza3RvcFN0aWNrUGFyZW50RWxlbWVudD0iI2hlYWRlck1lbnVQYXJlbnQiKSxvKCkpLG4oKSxzPSJ0cnVlIj09cCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtY2xvc2VmaWx0ZXJzcGFuZWxhZnRlcmZpbHRyYXRpb25pbm1vYmlsZSIpLCEwPT09Zi5kb2VzU2Nyb2xsQWZ0ZXJGaWx0cmF0aW9uJiZwKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCIsZnVuY3Rpb24oKXtzZXZlblNwaWtlc0NvcmUuZ2V0Vmlld1BvcnQoKS53aWR0aDw9dS5icmVha1BvaW50V2lkdGgmJnMmJihwKGYuc2VsZWN0b3JzLm92ZXJsYXlPZmZDYW52YXMpLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtwKGYuc2VsZWN0b3JzLm92ZXJsYXlPZmZDYW52YXMpLmhpZGUoKX0sNDUwKSl9KSkscCgiLmJsb2NrIC50aXRsZSIpLm5vdChwKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5ibG9jayAudGl0bGUiKSkub2ZmKCJjbGljayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt2YXIgZTtoLmdldFZpZXdQb3J0KCkud2lkdGg8PXUuYnJlYWtQb2ludFdpZHRoJiYoZT1wKHRoaXMpLnNpYmxpbmdzKCkpLnNsaWRlVG9nZ2xlKCJzbG93IixmdW5jdGlvbigpe2UuY3NzKCJvdmVyZmxvdyIsIiIpfSl9KSxwKCIubm9wLWpjYXJvdXNlbC52ZXJ0aWNhbC1ob2xkZXIgLmNhcm91c2VsLXRpdGxlIikub24oImNsaWNrIixmdW5jdGlvbigpe3ZhciBlO2guZ2V0Vmlld1BvcnQoKS53aWR0aDw9dS5icmVha1BvaW50V2lkdGgmJihlPXAodGhpcykuc2libGluZ3MoKSkuc2xpZGVUb2dnbGUoInNsb3ciLGZ1bmN0aW9uKCl7ZS5jc3MoIm92ZXJmbG93IiwiIil9KX0pLDA9PT1wKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5ibG9jayIpLmxlbmd0aCYmcCgiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLmZpbHRlcnMtYnV0dG9uIikucmVtb3ZlKCksbnVsbCE9Zi5EaXNhYmxlRm9vdGFibGUmJiExIT09Zi5EaXNhYmxlRm9vdGFibGV8fCgiZnVuY3Rpb24iPT10eXBlb2YgcCgiYm9keSIpLmZvb3RhYmxlJiZwKCIud2lzaGxpc3QtcGFnZSAuY2FydCwgLmNvbXBhcmUtcHJvZHVjdHMtdGFibGUtbW9iaWxlLCAucmVjdXJyaW5nLXBheW1lbnRzIC5kYXRhLXRhYmxlLCAuZG93bmxvYWRhYmxlLXByb2R1Y3RzLXBhZ2UgLmRhdGEtdGFibGUsIC5yZXdhcmQtcG9pbnRzLWhpc3RvcnkgLmRhdGEtdGFibGUsIC5vcmRlci1zdW1tYXJ5LWNvbnRlbnQgLmNhcnQsIC5vcmRlci1kZXRhaWxzLXBhZ2UgLmRhdGEtdGFibGUsIC5yZXR1cm4tcmVxdWVzdC1wYWdlIC5kYXRhLXRhYmxlLCAuZm9ydW0tdGFibGUsIC5wcml2YXRlLW1lc3NhZ2VzLXBhZ2UgLmRhdGEtdGFibGUiKS5mb290YWJsZSgpLDA8cCgiLmNoZWNrb3V0LXBhZ2UiKS5sZW5ndGgmJnAoZG9jdW1lbnQpLmFqYXhTdWNjZXNzKGZ1bmN0aW9uKCl7MDxwKCIub3JkZXItc3VtbWFyeS1jb250ZW50IC5jYXJ0IikubGVuZ3RoJiZwKCIub3JkZXItc3VtbWFyeS1jb250ZW50IC5jYXJ0IikuZm9vdGFibGUoKX0pKSl9fShqUXVlcnksd2luZG93LnNldmVuU3Bpa2VzQ29yZSx3aW5kb3cuc2V2ZW5TcGlrZXNFeD13aW5kb3cuc2V2ZW5TcGlrZXNFeHx8e30pOw0KZnVuY3Rpb24gZGlzcGxheUFqYXhMb2FkaW5nKG4pe24/JCgiLmFqYXgtbG9hZGluZy1ibG9jay13aW5kb3ciKS5zaG93KCk6JCgiLmFqYXgtbG9hZGluZy1ibG9jay13aW5kb3ciKS5mYWRlT3V0KCl9KGZ1bmN0aW9uKG4sdCxyKXtmdW5jdGlvbiBzKCl7dmFyIGY9bigiLnNpZGUtMiAucGFnZS10aXRsZSIpLGU9bigiLmFkbWluLWhlYWRlci1saW5rcyIpLHI9bigiLmF0dHJpYnV0ZXMgZHQiKSxvPW4oIi5wYXltZW50LWRldGFpbHMgbGFiZWwiKSx0PTAsdT0wLGk7bihkb2N1bWVudCkub24oInRoZW1lQnJlYWtwb2ludFBhc3NlZDdTcGlrZXMiLGZ1bmN0aW9uKGkpe3ZhciBoPW4oIi5zZWFyY2gtYm94LnN0b3JlLXNlYXJjaC1ib3giKSxjPW4oIi5oZWFkZXItbGlua3MiKSxzPW4oIi5oZWFkZXItc2VsZWN0b3JzIiksbD1uKCIuZmx5b3V0LWNhcnQtd3JhcHBlciIpO2gucmVtb3ZlQXR0cigic3R5bGUiKTtjLnJlbW92ZUF0dHIoInN0eWxlIik7cy5yZW1vdmVBdHRyKCJzdHlsZSIpO2wucmVtb3ZlQXR0cigic3R5bGUiKTtpLmlzTW9iaWxlUmVzb2x1dGlvbj8oaC5kZXRhY2goKS5hcHBlbmRUbygiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLnNlYXJjaC13cmFwIiksYy5kZXRhY2goKS5hcHBlbmRUbygiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgI2hlYWRlci1saW5rcy1vcGVuZXIiKSxzIT11bmRlZmluZWQmJnMubGVuZ3RoPjA/cy5kZXRhY2goKS5hcHBlbmRUbygiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgI2hlYWRlci1zZWxlY3RvcnMtb3BlbmVyIik6bigiI2hlYWRlci1zZWxlY3RvcnMtb3BlbmVyIikuaGlkZSgpLGwuZGV0YWNoKCkuYXBwZW5kVG8oIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5zaG9wcGluZy1jYXJ0LWxpbmsiKSxlLmRldGFjaCgpLnByZXBlbmRUbygiLm1hc3Rlci13cmFwcGVyLXBhZ2UiKSxmLmRldGFjaCgpLHIuY3NzKCJ3aWR0aCIsIiIpKTooc2V0VGltZW91dChmdW5jdGlvbigpe3Q9MDtyLmVhY2goZnVuY3Rpb24oKXt0PU1hdGgubWF4KHQsbih0aGlzKS5vdXRlcldpZHRoKCkpfSk7ci5jc3MoIndpZHRoIix0KyJweCIpfSwxMDApLGkuaXNJbml0aWFsTG9hZD09PSExJiYoaC5kZXRhY2goKS5hcHBlbmRUbygiLmhlYWRlci1sb3dlciAuY2VudGVyIiksYy5kZXRhY2goKS5hcHBlbmRUbygiLmhlYWRlci1saW5rcy13cmFwcGVyIikscyE9dW5kZWZpbmVkJiZzLmxlbmd0aD4wP3MuZGV0YWNoKCkuYXBwZW5kVG8oIi5oZWFkZXItc2VsZWN0b3JzLXdyYXBwZXIiKTpuKCIjaGVhZGVyLXNlbGVjdG9ycy1vcGVuZXIiKS5zaG93KCksbC5kZXRhY2goKS5hcHBlbmRUbygiLmhlYWRlci1taWRkbGUgLmNlbnRlciIpLGUuZGV0YWNoKCkucHJlcGVuZFRvKCIuaGVhZGVyLXVwcGVyIC5jZW50ZXIiKSxuKCIuc2lkZS0yIikucHJlcGVuZChmKSkpO28uZWFjaChmdW5jdGlvbigpe3U9TWF0aC5tYXgodSxuKHRoaXMpLm91dGVyV2lkdGgoKSl9KTtvLmNzcygid2lkdGgiLHUrInB4Iil9KTtpPW4oIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIikuZmluZCgiLnNob3BwaW5nLWNhcnQtbGluayA+IHNwYW4sICNoZWFkZXItbGlua3Mtb3BlbmVyID4gc3BhbiwgI2hlYWRlci1zZWxlY3RvcnMtb3BlbmVyID4gc3BhbiwgLnNlYXJjaC13cmFwID4gc3BhbiIpO24oIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5tZW51LXRpdGxlLCAucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciAuZmlsdGVycy1idXR0b24sIC5vdmVybGF5T2ZmQ2FudmFzIikub24oImNsaWNrIixmdW5jdGlvbigpe2kubmV4dCgpLnNsaWRlVXAoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bigiLmFkbWluLWhlYWRlci1saW5rcywgLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXItcGFyZW50IikuY3NzKCJ6LWluZGV4IiwiIik7bigiLmhlYWRlciIpLmNzcyh7cG9zaXRpb246IiIsInotaW5kZXgiOiIifSl9LDQwMCl9KTtpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLm5leHQoKTtpLm5leHQoKS5ub3QodCkuc2xpZGVVcCgpO3QuaXMoIjp2aXNpYmxlIik/KHQuc2xpZGVVcCgic2xvdyIpLG4oIi5vdmVybGF5T2ZmQ2FudmFzIikuZmFkZU91dChmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInNob3ciKTtuKCIuYWRtaW4taGVhZGVyLWxpbmtzLCAucmVzcG9uc2l2ZS1uYXYtd3JhcHBlci1wYXJlbnQiKS5jc3MoInotaW5kZXgiLCIiKTtuKCIubW9iaWxlLXN0aWNreS1sb2dvIikubGVuZ3RoPjAmJm4oIi5oZWFkZXIiKS5jc3Moe3Bvc2l0aW9uOiIiLCJ6LWluZGV4IjoiIn0pfSkpOih0LnNsaWRlRG93bigic2xvdyIpLG4oIi5hZG1pbi1oZWFkZXItbGlua3MsIC5yZXNwb25zaXZlLW5hdi13cmFwcGVyLXBhcmVudCIpLmNzcygiei1pbmRleCIsIjEwNzAiKSxuKCIub3ZlcmxheU9mZkNhbnZhcyIpLmFkZENsYXNzKCJzaG93IikuZmFkZUluKCksbigiLm1vYmlsZS1zdGlja3ktbG9nbyIpLmxlbmd0aD4wJiZuKCIuaGVhZGVyIikuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLCJ6LWluZGV4IjoiMTA3MCJ9KSl9KX1mdW5jdGlvbiBmKCl7dmFyIHQ9bigiLnNob3BwaW5nLWNhcnQtbGluayA+IHNwYW4iKSxpPU51bWJlcihuKCIuY2FydC1xdHkiKS5odG1sKCkpO2k+MD90Lmh0bWwoJzxzcGFuIGNsYXNzPSJjYXJ0LXF0eS1tb2JpbGUiPicraSsiPFwvc3Bhbj4iKTp0LmNoaWxkcmVuKCIuY2FydC1xdHktbW9iaWxlIikucmVtb3ZlKCl9ZnVuY3Rpb24gaCgpe24oIi5mb290ZXItYmxvY2sgLnRpdGxlIikuY2xpY2soZnVuY3Rpb24oaSl7dC5nZXRWaWV3UG9ydCgpLndpZHRoPD13aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnQ/bih0aGlzKS5zaWJsaW5ncygiLmxpc3QiKS5zbGlkZVRvZ2dsZSgic2xvdyIpOmkucHJldmVudERlZmF1bHQoKX0pfWZ1bmN0aW9uIGMoKXtpZihuKCIuaGVhZGVyLW1lbnUuY2F0ZWdvcmllcy1pbi1zaWRlLXBhbmVsIikubGVuZ3RoIT09MCl7dmFyIHQ9bigiLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdC13cmFwcGVyID4gLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdCIpLGk9bigiLnRvcC1tZW51ID4gbGkucm9vdC1jYXRlZ29yeS1pdGVtcywgLm1lZ2EtbWVudSA+IGxpLnJvb3QtY2F0ZWdvcnktaXRlbXMsIC5tZWdhLW1lbnUgPiBsaS5jYXRlZ29yeS1tZW51LWl0ZW0gPiAuc3VibGlzdC13cmFwID4gLnN1Ymxpc3QgPiBsaS5yb290LWNhdGVnb3J5LWl0ZW1zIikscj1pLmNsb25lKCEwKTtpZihyLnJlbW92ZUNsYXNzKCJyb290LWNhdGVnb3J5LWl0ZW1zIikuYXBwZW5kVG8odCksbigiLnR3by1jb2x1bW5zLWFyZWEuc2xpZGVyLXJpZ2h0LWNvbHVtbiIpLmxlbmd0aD4wKXQuY3NzKCJkaXNwbGF5IiwiYmxvY2siKTtlbHNlIG4oIi5jYXRlZ29yeS1uYXZpZ2F0aW9uLXRpdGxlIikub24oImNsaWNrIixmdW5jdGlvbigpe3Quc2xpZGVUb2dnbGUoKX0pfX1mdW5jdGlvbiBsKCl7bigiYm9keSIpLm9uKCJjbGljayIsIi5jdXN0b21lci1ibG9ja3MgLnRpdGxlIixmdW5jdGlvbigpe24odGhpcykuaGFzQ2xhc3MoImFjdGl2ZSIpfHxuKCIuY3VzdG9tZXItYmxvY2tzIC50aXRsZSIpLnRvZ2dsZUNsYXNzKCJhY3RpdmUiKTtuKHRoaXMpLnNpYmxpbmdzKCkuaGFzQ2xhc3MoInNob3ciKXx8bigiLmN1c3RvbWVyLWJsb2NrcyAudGl0bGUiKS5zaWJsaW5ncygiLmlubmVyLXdyYXBwZXIiKS50b2dnbGVDbGFzcygic2hvdyIpfSl9ZnVuY3Rpb24gYSgpe24oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWItdGl0bGUiKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7bih0aGlzKS5zaWJsaW5ncygiLmFjY29yZGlvbi10YWItY29udGVudCIpLnNsaWRlVG9nZ2xlKCkuY2xvc2VzdCgiLmFjY29yZGlvbi10YWIiKS50b2dnbGVDbGFzcygiYWN0aXZlIikuc2libGluZ3MoIi5hY2NvcmRpb24tdGFiIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmZpbmQoIi5hY2NvcmRpb24tdGFiLWNvbnRlbnQiKS5zbGlkZVVwKCl9KTtuKCIuc2hvcHBpbmctY2FydC1wYWdlIC5zaGlwcGluZy1yZXN1bHRzIikubGVuZ3RoPjAmJm4oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWIuZXN0aW1hdGUtc2hpcHBpbmcgLmFjY29yZGlvbi10YWItdGl0bGUiKS50cmlnZ2VyKCJjbGljayIpO24oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmNvdXBvbi1ib3giKS5maW5kKCIubWVzc2FnZS1zdWNjZXNzLCAubWVzc2FnZS1mYWlsdXJlIikubGVuZ3RoPjAmJm4oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWIuY291cG9uLWNvZGVzIC5hY2NvcmRpb24tdGFiLXRpdGxlIikudHJpZ2dlcigiY2xpY2siKTtuKCIuc2hvcHBpbmctY2FydC1wYWdlIC5naWZ0Y2FyZC1ib3giKS5maW5kKCIubWVzc2FnZS1zdWNjZXNzLCAubWVzc2FnZS1mYWlsdXJlIikubGVuZ3RoPjAmJm4oIi5zaG9wcGluZy1jYXJ0LXBhZ2UgLmFjY29yZGlvbi10YWIuZ2lmdC1jYXJkcyAuYWNjb3JkaW9uLXRhYi10aXRsZSIpLnRyaWdnZXIoImNsaWNrIil9ZnVuY3Rpb24gZSh0KXt2YXIgaT1uKHQpLHI9aS5maW5kKCIjbG9naW4tbW9kYWwtd2luZG93LXN0YXRpYy1yZXNvdXJjZXMiKS5jaGlsZHJlbigpLHU9ci5maWx0ZXIoImxpbmsiKSxmPXIuZmlsdGVyKCJzY3JpcHQiKTt1LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO24oJ2hlYWQgbGlua1tocmVmPSInK3QuYXR0cigiaHJlZiIpKyciXScpLmxlbmd0aD09PTAmJm4oImhlYWQiKS5hcHBlbmQodCl9KTtmLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO24oJ2hlYWQgc2NyaXB0W3NyYz0iJyt0LmF0dHIoInNyYyIpKyciXScpLmxlbmd0aD09PTAmJm4oImhlYWQiKS5hcHBlbmQodCl9KTtpLmZpbmQoIiNsb2dpbi1tb2RhbC13aW5kb3ctc3RhdGljLXJlc291cmNlcyIpLnJlbW92ZSgpO24oIiNsb2dpbi1tb2RhbC13aW5kb3ctb3ZlcmxheSIpLmZhZGVJbigpO24oIiNsb2dpbi1tb2RhbC13aW5kb3ciKS5odG1sKGkpLmNsb3Nlc3QoIi5sb2dpbi1tb2RhbC13aW5kb3ctd3JhcHBlciIpLmZhZGVJbigpfWZ1bmN0aW9uIHYoKXtuKCIuaGVhZGVyLWxpbmtzIC5pY28tbG9naW4ubW9kYWwtbG9naW4iKS5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1uKHRoaXMpO24oImJvZHkiKS5jc3MoIm92ZXJmbG93IiwiaGlkZGVuIikub24oImtleWRvd24ubG9naW5Nb2RhbFdpbmRvdyIsZnVuY3Rpb24odCl7dC53aGljaD09PTI3JiZuKCIubG9naW4tbW9kYWwtd2luZG93LXdyYXBwZXIgPiAuY2xvc2UiKS50cmlnZ2VyKCJjbGljayIpfSk7aWYobigiLmxvZ2luLW1vZGFsLXdpbmRvdy13cmFwcGVyIikubGVuZ3RoPT09MCluKCJib2R5IikuYXBwZW5kKCc8ZGl2IGlkPSJsb2dpbi1tb2RhbC13aW5kb3ctb3ZlcmxheSI+PFwvZGl2PjxkaXYgY2xhc3M9ImxvZ2luLW1vZGFsLXdpbmRvdy13cmFwcGVyIj48c3BhbiBjbGFzcz0iY2xvc2UiPjxcL3NwYW4+PGRpdiBpZD0ibG9naW4tbW9kYWwtd2luZG93Ij48XC9kaXY+PFwvZGl2PicpO2Vsc2V7bigiI2xvZ2luLW1vZGFsLXdpbmRvdy1vdmVybGF5LCAubG9naW4tbW9kYWwtd2luZG93LXdyYXBwZXIiKS5mYWRlSW4oKTtyZXR1cm59bi5hamF4KHt1cmw6aS5hdHRyKCJkYXRhLWxvZ2luVXJsIiksdHlwZToiR0VUIixkYXRhOntpc1BvcHVwOiEwfX0pLmRvbmUoZSkuZmFpbChmdW5jdGlvbigpe24oImJvZHkiKS5jc3MoIm92ZXJmbG93IiwiIik7d2luZG93LmxvY2F0aW9uLmhyZWY9aS5hdHRyKCJkYXRhLWxvZ2luVXJsIil9KX0pO24oImJvZHkiKS5vbigiY2xpY2siLCIjbG9naW4tbW9kYWwtd2luZG93LW92ZXJsYXksIC5sb2dpbi1tb2RhbC13aW5kb3ctd3JhcHBlciA+IC5jbG9zZSIsZnVuY3Rpb24oKXtuKCIjbG9naW4tbW9kYWwtd2luZG93LW92ZXJsYXksIC5sb2dpbi1tb2RhbC13aW5kb3ctd3JhcHBlciIpLmZhZGVPdXQoKTtuKCJib2R5IikuY3NzKCJvdmVyZmxvdyIsIiIpLm9mZigia2V5ZG93bi5sb2dpbk1vZGFsV2luZG93Iil9KTtuKCJib2R5Iikub24oImNsaWNrIiwiLmxvZ2luLW1vZGFsLXdpbmRvdy13cmFwcGVyIC5sb2dpbi1idXR0b24iLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKSxyPWkuc2VyaWFsaXplKCk7bi5hamF4KHt1cmw6aS5hdHRyKCJhY3Rpb24iKSsiP2lzUG9wdXA9dHJ1ZSIsdHlwZTppLmF0dHIoIm1ldGhvZCIpLGRhdGE6cn0pLmRvbmUoZnVuY3Rpb24odCl7dmFyIGk9bih0KTtpLmZpbmQoIiNsb2dpbi1tb2RhbC13aW5kb3ctc3RhdGljLXJlc291cmNlcyIpLmxlbmd0aD4wP2UodCk6d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfSl9KX1mdW5jdGlvbiBvKGkpe3ZhciByPW4oIi5yaWNoLWJsb2ctaG9tZXBhZ2UgLmJsb2ctcG9zdHMiKSxmLGUsdTtpZihyLmxlbmd0aCE9PTAmJihmPSExLGU9ci5jaGlsZHJlbigiLmJsb2ctcG9zdCIpLGUubGVuZ3RoPjEpKXt1PWZ1bmN0aW9uKCl7aWYodC5pc0luVmlld1BvcnQocikmJiFmKXt2YXIgdT1NYXRoLm1pbihpLGUubGVuZ3RoKTtyLnNsaWNrKHtydGw6bigiYm9keSIpLmhhc0NsYXNzKCJydGwiKSxhdXRvcGxheTohMCxpbmZpbml0ZTohMCxwYXVzZU9uSG92ZXI6ITAsYXJyb3dzOiEwLGRvdHM6ITEsc2xpZGVzVG9TY3JvbGw6MSxzbGlkZXNUb1Nob3c6dSxyZXNwb25zaXZlOlt7YnJlYWtwb2ludDoxMDI1LHNldHRpbmdzOntzbGlkZXNUb1Nob3c6MX19XX0pO2Y9ITA7bih3aW5kb3cpLm9mZigic2Nyb2xsLlNldmVuU3Bpa2VzUGF2aWxpb25SaWNoQmxvZ0Nhcm91c2VsIik7bih3aW5kb3cpLm9mZigicmVzaXplLlNldmVuU3Bpa2VzUGF2aWxpb25SaWNoQmxvZ0Nhcm91c2VsIil9fTt1KCk7bih3aW5kb3cpLm9uKCJzY3JvbGwuU2V2ZW5TcGlrZXNQYXZpbGlvblJpY2hCbG9nQ2Fyb3VzZWwiLHUpO24od2luZG93KS5vbigicmVzaXplLlNldmVuU3Bpa2VzUGF2aWxpb25SaWNoQmxvZ0Nhcm91c2VsIix1KX19ZnVuY3Rpb24geSgpe3ZhciBpPW4oIi5wcm9kdWN0LWdyaWQuYmVzdHNlbGxlcnMgLml0ZW0tZ3JpZCIpLHUscjtpZihpLmxlbmd0aCE9PTAmJih1PSExLGkuZmluZCgiLml0ZW0tYm94IikubGVuZ3RoPjEpKXtyPWZ1bmN0aW9uKCl7dC5pc0luVmlld1BvcnQoaSkmJiF1JiYoaS5zbGljayh7cnRsOm4oImJvZHkiKS5oYXNDbGFzcygicnRsIiksYXV0b3BsYXk6ITAsaW5maW5pdGU6ITAscGF1c2VPbkhvdmVyOiEwLGFycm93czohMCxkb3RzOiExLHNsaWRlc1RvU2Nyb2xsOjEsc2xpZGVzVG9TaG93OjJ9KSx1PSEwLG4od2luZG93KS5vZmYoInNjcm9sbC5TZXZlblNwaWtlc1BhdmlsaW9uQmVzdFNlbGxlckNhcm91c2VsIiksbih3aW5kb3cpLm9mZigicmVzaXplLlNldmVuU3Bpa2VzUGF2aWxpb25CZXN0U2VsbGVyQ2Fyb3VzZWwiKSl9O3IoKTtuKHdpbmRvdykub24oInNjcm9sbC5TZXZlblNwaWtlc1BhdmlsaW9uQmVzdFNlbGxlckNhcm91c2VsIixyKTtuKHdpbmRvdykub24oInJlc2l6ZS5TZXZlblNwaWtlc1BhdmlsaW9uQmVzdFNlbGxlckNhcm91c2VsIixyKX19ZnVuY3Rpb24gcCgpe3ZhciB0PW4oIi5yaWNoLWJsb2ctYm9keSAuYmxvZy1zZWFyY2gtYm94Iik7aWYodC5sZW5ndGghPT0wKXt0Lm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe24odGhpcykuYWRkQ2xhc3MoImFjdGl2ZSIpfSk7bihkb2N1bWVudCkub24oImNsaWNrIixmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5jbG9zZXN0KCIuYmxvZy1zZWFyY2gtYm94LCAuYmxvZy1pbnN0YW50LXNlYXJjaCIpLmxlbmd0aD09PTAmJm4oIi5yaWNoLWJsb2ctYm9keSAuYmxvZy1zZWFyY2gtYm94IikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSl9fWZ1bmN0aW9uIHcoKXtuKCIuaGVhZGVyIikub24oIm1vdXNlZW50ZXIiLCIuZmx5b3V0LWNhcnQtd3JhcHBlciIsZnVuY3Rpb24oKXtuKHRoaXMpLmZpbmQoIi5pdGVtIikubGVuZ3RoPjAmJm4oIi5pbnN0YW50U2VhcmNoLCAuYmxvZy1pbnN0YW50LXNlYXJjaCIpLmhpZGUoKX0pO24oIi5jYXRlZ29yeS1uYXZpZ2F0aW9uLWxpc3QgPiBsaSwgLnJvb3QtY2F0ZWdvcnktaXRlbXMiKS5vbigibW91c2VlbnRlciIsZnVuY3Rpb24oKXtuKHRoaXMpLmZpbmQoIi5zdWJsaXN0LXdyYXAiKS5sZW5ndGg+MCYmbigiLmluc3RhbnRTZWFyY2gsIC5ibG9nLWluc3RhbnQtc2VhcmNoIikuaGlkZSgpfSl9ZnVuY3Rpb24gdShpKXt2YXIgZixyO2lmKGkmJm4oIi5mbHlvdXQtY2FydC13cmFwcGVyIC5mbHlvdXQtY2FydCIpLmNzcyh7b3BhY2l0eToiMCIsZGlzcGxheToiYmxvY2sifSksZj10LmdldFZpZXdQb3J0KCkuaGVpZ2h0LHI9bigiLm1pbmktc2hvcHBpbmctY2FydCIpLHIubGVuZ3RoIT09MCl7dmFyIHU9ci5jaGlsZHJlbigiLml0ZW1zIiksZT1yLm9mZnNldCgpLnRvcC1uKHdpbmRvdykuc2Nyb2xsVG9wKCksbz1yLm91dGVySGVpZ2h0KCkscz11Lm91dGVySGVpZ2h0KCksaD1mLWUtKG8tcyktMTA7dS5jc3MoIm1heC1oZWlnaHQiLGgrInB4Iik7dS5wZXJmZWN0U2Nyb2xsYmFyKHtzd2lwZVByb3BhZ2F0aW9uOiExLHdoZWVsU3BlZWQ6MSxzdXBwcmVzc1Njcm9sbFg6ITB9KTtpJiZuKCIuZmx5b3V0LWNhcnQtd3JhcHBlciAuZmx5b3V0LWNhcnQiKS5jc3Moe2Rpc3BsYXk6IiIsb3BhY2l0eToiIn0pfX1mdW5jdGlvbiBiKCl7dSghMCk7bih3aW5kb3cpLm9uKCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3UoITApfSwyMDApfSk7bigiLmhlYWRlciIpLm9uKCJtb3VzZWVudGVyIiwiLmZseW91dC1jYXJ0LXdyYXBwZXIiLGZ1bmN0aW9uKCl7dC5nZXRWaWV3UG9ydCgpLndpZHRoPndpbmRvdy50aGVtZVNldHRpbmdzLnRoZW1lQnJlYWtwb2ludCYmc2V0VGltZW91dCh1LDIwMCl9KTtuKCIucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciIpLm9uKCJjbGljayIsIi5zaG9wcGluZy1jYXJ0LWxpbmsiLGZ1bmN0aW9uKCl7c2V0VGltZW91dCh1LDgwMCl9KX1mdW5jdGlvbiBrKCl7bigiYm9keSIpLm9uKCJjbGljayIsIi5xdWlja1ZpZXdXaW5kb3cgLmFkZC10by1jYXJ0LWJ1dHRvbiIsZnVuY3Rpb24oKXtuKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoKTtuKCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikuaGlkZSgpfSl9ZnVuY3Rpb24gZCgpe3ZhciB0PW4oIi5wcm9kdWN0LWRldGFpbHMtcGFnZSAucHJvZHVjdC1jb2xsYXRlcmFsIikscj10LmNoaWxkcmVuKCksdTtpZihyLmxlbmd0aD09MCl7dC5oaWRlKCk7cmV0dXJufWZvcih1PSEwLGk9MDtpPHIubGVuZ3RoO2krKylpZihuKHJbaV0pLmlzKCI6dmlzaWJsZSIpPT0hMCl7dT0hMTticmVha311PT0hMCYmdC5oaWRlKCl9ZnVuY3Rpb24gZygpe2lmKCF0LmlzTW9iaWxlKCkmJiEodC5nZXRWaWV3UG9ydCgpLndpZHRoPD13aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnQpKXtuKCIuaGVhZGVyLXNlbGVjdG9ycyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe24odGhpcykuYWRkQ2xhc3MoImFjdGl2ZSIpfSkub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7bih0aGlzKS5maW5kKCJzZWxlY3QiKS5pcygiOmZvY3VzIil8fG4oIi5oZWFkZXItc2VsZWN0b3JzIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSkub24oImNsaWNrIixmdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfSk7dmFyIGk9ZnVuY3Rpb24oKXtuKCIuaGVhZGVyLXNlbGVjdG9ycyIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX07bihkb2N1bWVudCkub24oImNsaWNrIixpKTtuKCIuaGVhZGVyLWxpbmtzLXdyYXBwZXIsIC5oZWFkZXItbWlkZGxlLCAuaGVhZGVyLWxvd2VyIikub24oIm1vdXNlZW50ZXIiLGkpfX1mdW5jdGlvbiBudCgpe24oIi5zdGlja3ktZmx5b3V0ID4gbGkgPiAuc3VibGlzdC13cmFwID4gLnN1Ymxpc3QiKS5jc3MoeyJtaW4taGVpZ2h0IjpuKCIuc3RpY2t5LWZseW91dCIpLmhlaWdodCgpKyJweCJ9KX1mdW5jdGlvbiB0dCgpe3ZhciBpPW4oIi5zaGlwcGluZy1hZGRyZXNzLXBhZ2UgI1BpY2tVcEluU3RvcmUiKSx0PW4oIi5uZXctc2hpcHBpbmctYWRkcmVzcyAudGl0bGUsIC5lZGl0LWFkZHJlc3MiKSxyPW4oIi5zaGlwcGluZy1hZGRyZXNzLXBhZ2UgLmJ1dHRvbnMiKTtpLmlzKCI6Y2hlY2tlZCIpPyh0LmhpZGUoKSxyLmFkZENsYXNzKCJjZW50ZXJlZCIpKTp0LnNob3coKTtuKGkpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt0LnRvZ2dsZSgpO3IudG9nZ2xlQ2xhc3MoImNlbnRlcmVkIil9KX13aW5kb3cudGhlbWVTZXR0aW5ncz17dGhlbWVCcmVha3BvaW50OjEwMjQsaXNBY2NvcmRpb25NZW51OiExfTtuKGRvY3VtZW50KS5vbigiZmx5b3V0Q2FydFJlbG9hZGVkRXZlbnQiLGYpO24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGk9e3RoZW1lQnJlYWtwb2ludDp3aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnQsaXNFbmFibGVkOiEwLGlzU2VhcmNoQm94RGV0YWNoYWJsZTohMSxpc0hlYWRlckxpbmtzV3JhcHBlckRldGFjaGFibGU6ITEsZG9lc0Rlc2t0b3BIZWFkZXJNZW51U3RpY2s6ITEsZG9lc1Njcm9sbEFmdGVyRmlsdHJhdGlvbjohMCxkb2VzU3VibGlzdEhhc0luZGVudDohMCxkaXNwbGF5R29Ub1RvcDohMCxoYXNTdGlja3lOYXY6ITAsc2VsZWN0b3JzOnttZW51VGl0bGU6Ii5tZW51LXRpdGxlIixoZWFkZXJNZW51OiIuaGVhZGVyLW1lbnUiLGNsb3NlTWVudToiLmNsb3NlLW1lbnUiLHN1Ymxpc3Q6Ii5oZWFkZXItbWVudSAuc3VibGlzdCIsb3ZlcmxheU9mZkNhbnZhczoiLm92ZXJsYXlPZmZDYW52YXMiLHdpdGhTdWJjYXRlZ29yaWVzOiIud2l0aC1zdWJjYXRlZ29yaWVzIixmaWx0ZXJzQ29udGFpbmVyOiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIixmaWx0ZXJzT3BlbmVyOiIuZmlsdGVycy1idXR0b24gc3BhbiIsc2VhcmNoQm94T3BlbmVyOiIiLHNlYXJjaEJveDoiIixzZWFyY2hCb3hCZWZvcmU6IiIsbmF2V3JhcHBlcjoiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIiLG5hdldyYXBwZXJQYXJlbnQ6Ii5yZXNwb25zaXZlLW5hdi13cmFwcGVyLXBhcmVudCIsaGVhZGVyTGlua3NPcGVuZXI6IiIsaGVhZGVyTGlua3NXcmFwcGVyOiIiLGhlYWRlckxpbmtzV3JhcHBlck1vYmlsZUluc2VydEFmdGVyOiIiLGhlYWRlckxpbmtzV3JhcHBlckRlc2t0b3BQcmVwZW5kVG86IiIsc2hvcHBpbmdDYXJ0TGluazoiLnNob3BwaW5nLWNhcnQtbGluayJ9fSx0O3MoKTtmKCk7aCgpO2MoKTtsKCk7YSgpO3YoKTtwKCk7dygpO2IoKTtrKCk7ZCgpO2coKTtudCgpO3R0KCk7dD1uKCIucHJvZHVjdC1ncmlkLmJlc3RzZWxsZXJzIik7dC5maW5kKCIuaXRlbS1ib3giKS5sZW5ndGg8MT8odC5yZW1vdmUoKSxuKCIucmljaC1ibG9nLWhvbWVwYWdlIikuYWRkQ2xhc3MoImZ1bGwtd2lkdGgiKSxvKDMpKTooeSgpLG8oMSkpO24oZG9jdW1lbnQpLm9uKCJub3BBamF4Q2FydE1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdTaG93biBub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCIsZnVuY3Rpb24oKXt2YXIgdD1uKCIuYXR0cmlidXRlcyBkdCIpLGk9MDt0LmVhY2goZnVuY3Rpb24oKXtpPU1hdGgubWF4KGksbih0aGlzKS5vdXRlcldpZHRoKCkpfSk7dC5jc3MoIndpZHRoIixpKyJweCIpO3QuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykub3V0ZXJXaWR0aCghMCkrbih0aGlzKS5uZXh0KCkub3V0ZXJXaWR0aCghMCk7aWYodD4yODApcmV0dXJuIG4oIi5hdHRyaWJ1dGVzIGRkIikuY3NzKHtmbG9hdDoibm9uZSIsY2xlYXI6ImJvdGgifSksITF9KX0pO3IuaW5pdFJlc3BvbnNpdmVUaGVtZShpKX0pfSkoalF1ZXJ5LHNldmVuU3Bpa2VzQ29yZSxzZXZlblNwaWtlc0V4KTsNCg==","CacheKey":"2DBOvkAjQaO1fq94WDKt9IcmVH4"}